"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_pages_collected-dataset-customized_components-gui_cameraAccess_js",{

/***/ "(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js":
/*!***************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/cameraAccess.js ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-browser)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-browser)/./components/collected-dataset-customized/Helper/savefile.js\");\n// Unified Camera Access Component\n\nvar _s = $RefreshSig$();\n\n\n\n// Create the main camera component\nconst CameraAccessComponent = (param)=>{\n    let { isShowing, onClose, onCameraReady, showHeadPose = false, showBoundingBox = false, showMask = false, showParameters = false } = param;\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [fps, setFps] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const fpsTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const processingInterval = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [isVideoReady, setIsVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [processingResults, setProcessingResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const frameQueue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const isProcessing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [wsStatus, setWsStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('disconnected');\n    const [isLinked, setIsLinked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // WebSocket connection\n    const connectWebSocket = ()=>{\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            console.log('WebSocket already connected');\n            return;\n        }\n        setWsStatus('connecting');\n        try {\n            // Connect to FastAPI WebSocket endpoint\n            const ws = new WebSocket('ws://localhost:8000/ws/video');\n            wsRef.current = ws;\n            // Set a connection timeout\n            const connectionTimeout = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) {\n                    console.error('WebSocket connection timeout');\n                    ws.close();\n                    setWsStatus('error');\n                    setErrorMessage('Connection timeout. Please check if the backend server is running.');\n                    setIsLinked(false);\n                }\n            }, 5000);\n            ws.onopen = ()=>{\n                console.log('WebSocket connected to FastAPI backend');\n                clearTimeout(connectionTimeout);\n                setWsStatus('connected');\n                setErrorMessage('');\n                setIsLinked(true);\n                if (isVideoReady) {\n                    processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                }\n            };\n            ws.onmessage = (event)=>{\n                try {\n                    const result = JSON.parse(event.data);\n                    setProcessingResults(result);\n                // drawResults(result);\n                } catch (error) {\n                    console.error('Error parsing WebSocket message:', error);\n                }\n            };\n            ws.onerror = (error)=>{\n                console.error('WebSocket error:', error);\n                clearTimeout(connectionTimeout);\n                setWsStatus('error');\n                setErrorMessage('Failed to connect to FastAPI backend. Please check if the server is running.');\n                setIsLinked(false);\n            };\n            ws.onclose = (event)=>{\n                console.log('WebSocket disconnected:', event.code, event.reason);\n                clearTimeout(connectionTimeout);\n                setWsStatus('disconnected');\n                setIsLinked(false);\n                // Stop frame processing\n                if (processingInterval.current) {\n                    clearInterval(processingInterval.current);\n                    processingInterval.current = null;\n                }\n                // If the connection was closed due to an error, show error message\n                if (event.code !== 1000) {\n                    setErrorMessage(\"WebSocket connection closed: \".concat(event.reason || 'Unknown reason'));\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            setWsStatus('error');\n            setErrorMessage('Failed to create WebSocket connection. Please check your network connection.');\n            setIsLinked(false);\n        }\n    };\n    const disconnectWebSocket = ()=>{\n        if (wsRef.current) {\n            wsRef.current.close(1000, 'User requested disconnect');\n            wsRef.current = null;\n            setWsStatus('disconnected');\n            setIsLinked(false);\n            // Stop frame processing\n            if (processingInterval.current) {\n                clearInterval(processingInterval.current);\n                processingInterval.current = null;\n            }\n            // Clear the canvas to remove any overlays\n            if (canvasRef.current) {\n                const ctx = canvasRef.current.getContext('2d');\n                ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) {\n                disconnectWebSocket();\n                return;\n            }\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    disconnectWebSocket();\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Frame capture and processing\n    const captureAndProcessFrame = ()=>{\n        if (!videoRef.current || !canvasRef.current || !isVideoReady || !wsRef.current) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Only draw on canvas if WebSocket is connected\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Convert canvas to blob with high quality\n            canvas.toBlob((blob)=>{\n                if (blob && wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n                    // Send frame to backend\n                    wsRef.current.send(blob);\n                }\n            }, 'image/jpeg', 0.95);\n        }\n    };\n    // Start camera with highest resolution\n    const startCamera = async ()=>{\n        setErrorMessage('');\n        setIsVideoReady(false);\n        try {\n            // 1. Enhanced Browser Environment Check\n            if (false) {}\n            if (typeof navigator === 'undefined') {\n                throw new Error('Navigator object not available - not running in a browser environment');\n            }\n            // 2. Comprehensive Browser Detection\n            const userAgent = navigator.userAgent.toLowerCase();\n            const browserInfo = {\n                isChrome: /chrome/.test(userAgent) && !/edge/.test(userAgent),\n                isFirefox: /firefox/.test(userAgent),\n                isSafari: /safari/.test(userAgent) && !/chrome/.test(userAgent),\n                isEdge: /edge/.test(userAgent),\n                isOpera: /opr/.test(userAgent),\n                isIE: /trident/.test(userAgent),\n                isMobile: /mobile|android|iphone|ipad|phone/i.test(userAgent),\n                version: userAgent.match(/(chrome|firefox|safari|edge|opr)\\/([0-9]+)/)\n            };\n            console.log('Browser Info:', browserInfo);\n            // 3. Initialize MediaDevices API\n            if (!navigator.mediaDevices) {\n                console.warn('MediaDevices API not available, initializing...');\n                navigator.mediaDevices = {};\n            }\n            // 4. Enhanced MediaDevices Support\n            if (!navigator.mediaDevices.getUserMedia) {\n                console.warn('getUserMedia not available, checking implementations...');\n                // Try all possible implementations\n                const implementations = {\n                    standard: navigator.mediaDevices.getUserMedia,\n                    webkit: navigator.webkitGetUserMedia || navigator.mediaDevices.webkitGetUserMedia,\n                    moz: navigator.mozGetUserMedia || navigator.mediaDevices.mozGetUserMedia,\n                    ms: navigator.msGetUserMedia || navigator.mediaDevices.msGetUserMedia,\n                    legacy: navigator.getUserMedia\n                };\n                console.log('Available implementations:', Object.keys(implementations).filter((key)=>implementations[key]));\n                // Try to find a working implementation\n                let getUserMedia = null;\n                let implementationName = null;\n                for (const [name, impl] of Object.entries(implementations)){\n                    if (impl) {\n                        getUserMedia = impl;\n                        implementationName = name;\n                        break;\n                    }\n                }\n                if (getUserMedia) {\n                    console.log(\"Using \".concat(implementationName, \" implementation of getUserMedia\"));\n                    // Wrap the implementation in a Promise\n                    navigator.mediaDevices.getUserMedia = function(constraints) {\n                        return new Promise((resolve, reject)=>{\n                            if (implementationName === 'standard') {\n                                getUserMedia.call(navigator.mediaDevices, constraints).then(resolve).catch(reject);\n                            } else {\n                                getUserMedia.call(navigator, constraints, resolve, reject);\n                            }\n                        });\n                    };\n                } else {\n                    // Provide specific guidance based on browser\n                    if (browserInfo.isMobile) {\n                        throw new Error('Camera access on mobile devices requires HTTPS. Please use a secure connection.');\n                    } else if (browserInfo.isIE) {\n                        throw new Error('Internet Explorer does not support camera access. Please use Chrome, Firefox, or Edge.');\n                    } else if (browserInfo.isSafari) {\n                        throw new Error('Safari requires HTTPS for camera access. Please use a secure connection or try Chrome/Firefox.');\n                    } else {\n                        throw new Error('Camera access not supported in this browser. Please use Chrome, Firefox, or Edge.');\n                    }\n                }\n            }\n            // 5. Check Security Context\n            const isSecure = window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || \"development\" === 'development';\n            if (!isSecure) {\n                throw new Error(\"Camera access requires HTTPS or localhost. Current protocol: \".concat(window.location.protocol, \", hostname: \").concat(window.location.hostname));\n            }\n            // 6. Enhanced Permission Handling\n            let permissionStatus = 'prompt';\n            try {\n                if (navigator.permissions && navigator.permissions.query) {\n                    const permissionResult = await navigator.permissions.query({\n                        name: 'camera'\n                    });\n                    permissionStatus = permissionResult.state;\n                    console.log('Camera permission status:', permissionStatus);\n                    permissionResult.onchange = ()=>{\n                        console.log('Camera permission changed to:', permissionResult.state);\n                        permissionStatus = permissionResult.state;\n                    };\n                }\n            } catch (permissionError) {\n                console.warn('Could not check camera permissions:', permissionError);\n            }\n            // 7. Handle Permission States\n            if (permissionStatus === 'denied') {\n                throw new Error('Camera access has been permanently denied. Please update your browser settings to allow camera access.');\n            }\n            // 8. Get Camera Constraints\n            console.log('Starting camera access with highest resolution...');\n            const constraints = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_3__.getHighestResolutionConstraints)();\n            console.log('Using camera constraints:', constraints);\n            // 9. Add Fallback Constraints\n            const fallbackConstraints = {\n                video: {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: 'user',\n                    frameRate: {\n                        ideal: 30\n                    }\n                },\n                audio: false\n            };\n            // 10. Try to Access Camera with Permission Handling\n            let mediaStream;\n            try {\n                console.log('Attempting to access camera with high resolution...');\n                mediaStream = await navigator.mediaDevices.getUserMedia({\n                    ...constraints,\n                    audio: false\n                });\n            } catch (error) {\n                console.warn('Failed to get high resolution stream, trying fallback constraints:', error);\n                try {\n                    console.log('Attempting to access camera with fallback constraints...');\n                    mediaStream = await navigator.mediaDevices.getUserMedia(fallbackConstraints);\n                } catch (fallbackError) {\n                    console.error('Failed to get camera access with fallback constraints:', fallbackError);\n                    // Provide specific guidance based on error type\n                    if (fallbackError.name === 'NotAllowedError') {\n                        if (permissionStatus === 'prompt') {\n                            throw new Error('Camera access was denied. Please allow camera access when prompted by your browser.');\n                        } else {\n                            throw new Error('Camera access has been blocked. Please check your browser settings and allow camera access for this site.');\n                        }\n                    } else if (fallbackError.name === 'NotFoundError') {\n                        throw new Error('No camera found. Please connect a camera and try again.');\n                    } else if (fallbackError.name === 'NotReadableError') {\n                        throw new Error('Camera is already in use by another application. Please close other applications using the camera.');\n                    } else {\n                        throw new Error(\"Camera access error: \".concat(fallbackError.message));\n                    }\n                }\n            }\n            console.log('Camera access granted successfully!');\n            setStream(mediaStream);\n            // 11. Setup Video Element\n            if (videoRef.current) {\n                videoRef.current.playsInline = true;\n                videoRef.current.muted = true;\n                videoRef.current.autoplay = true;\n                videoRef.current.srcObject = mediaStream;\n                try {\n                    await videoRef.current.play();\n                    console.log('Video playing successfully!');\n                    setIsVideoReady(true);\n                    if (wsStatus === 'connected') {\n                        processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                    }\n                } catch (playError) {\n                    console.error('Error playing video:', playError);\n                    throw new Error('Unable to start video stream: ' + playError.message);\n                }\n            }\n        } catch (error) {\n            console.error('Camera access error:', error);\n            let errorMessage = 'Camera error: ';\n            if (error.name === 'NotAllowedError') {\n                errorMessage += 'Camera access was denied. Please allow camera access in your browser settings.';\n            } else if (error.name === 'NotFoundError') {\n                errorMessage += 'No camera found. Please connect a camera and try again.';\n            } else if (error.name === 'NotReadableError') {\n                errorMessage += 'Camera is already in use by another application.';\n            } else if (error.name === 'OverconstrainedError') {\n                errorMessage += 'Camera does not support the requested resolution.';\n            } else if (error.message === 'getUserMedia is not implemented in this browser') {\n                errorMessage += 'Your browser does not support camera access. Please try using a modern browser like Chrome, Firefox, or Edge.';\n            } else if (error.message.includes('HTTPS')) {\n                errorMessage += 'Camera access requires HTTPS or localhost. Please use HTTPS or run the application on localhost.';\n            } else if (error.message.includes('permanently denied')) {\n                errorMessage += 'Camera access has been permanently denied. Please update your browser settings.';\n            } else {\n                errorMessage += error.message || 'Unknown error';\n            }\n            setErrorMessage(errorMessage);\n        }\n    };\n    const stopCamera = ()=>{\n        // Stop all tracks in the stream\n        if (stream) {\n            stream.getTracks().forEach((track)=>track.stop());\n            setStream(null);\n        }\n        // Clear video source\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n        // Clear processing interval\n        if (processingInterval.current) {\n            clearInterval(processingInterval.current);\n            processingInterval.current = null;\n        }\n        setIsVideoReady(false);\n    };\n    // Start camera on component mount if isShowing is true\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (isShowing) {\n                startCamera();\n            } else {\n                stopCamera();\n            }\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    stopCamera();\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Setup FPS counter\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) return;\n            fpsTimerRef.current = setInterval({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    setFps({\n                        \"CameraAccessComponent.useEffect\": (prevFps)=>{\n                            // Simple mock for fps counter\n                            const newFps = Math.floor(Math.random() * 10) + 25; // Random between 25-35 fps\n                            return newFps;\n                        }\n                    }[\"CameraAccessComponent.useEffect\"]);\n                }\n            }[\"CameraAccessComponent.useEffect\"], 1000);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    if (fpsTimerRef.current) {\n                        clearInterval(fpsTimerRef.current);\n                    }\n                    if (processingInterval.current) {\n                        clearInterval(processingInterval.current);\n                    }\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Update dimensions when container size changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) return;\n            const updateDimensions = {\n                \"CameraAccessComponent.useEffect.updateDimensions\": ()=>{\n                    if (containerRef.current) {\n                        const { width, height } = containerRef.current.getBoundingClientRect();\n                        setDimensions({\n                            width,\n                            height\n                        });\n                    }\n                }\n            }[\"CameraAccessComponent.useEffect.updateDimensions\"];\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Handle video element ready state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing || !videoRef.current || !stream) return;\n            const video = videoRef.current;\n            const handleLoadedMetadata = {\n                \"CameraAccessComponent.useEffect.handleLoadedMetadata\": ()=>{\n                    console.log('Video metadata loaded');\n                    setIsVideoReady(true);\n                    // Get video dimensions\n                    const videoWidth = video.videoWidth || 640;\n                    const videoHeight = video.videoHeight || 480;\n                    console.log(\"Video dimensions: \".concat(videoWidth, \"x\").concat(videoHeight));\n                    // Setup canvas for processing\n                    if (canvasRef.current) {\n                        // Store actual dimensions for capture\n                        canvasRef.current.width = videoWidth;\n                        canvasRef.current.height = videoHeight;\n                        // Set display size to maintain aspect ratio\n                        const aspectRatio = videoWidth / videoHeight;\n                        const containerWidth = dimensions.width;\n                        const containerHeight = containerWidth / aspectRatio;\n                        canvasRef.current.style.width = \"\".concat(containerWidth, \"px\");\n                        canvasRef.current.style.height = \"\".concat(containerHeight, \"px\");\n                    }\n                    // Start processing frames\n                    startProcessing();\n                    // Notify parent component that camera is ready\n                    if (onCameraReady) {\n                        onCameraReady({\n                            width: videoWidth,\n                            height: videoHeight\n                        });\n                    }\n                }\n            }[\"CameraAccessComponent.useEffect.handleLoadedMetadata\"];\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        stream,\n        isShowing,\n        dimensions,\n        onCameraReady\n    ]);\n    const startProcessing = ()=>{\n        if (!canvasRef.current || !videoRef.current || !isVideoReady) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Start processing frames at ~30fps\n        processingInterval.current = setInterval(()=>{\n            if (video.readyState !== 4) return;\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Simulate face detection (90% chance of face detected)\n            const faceDetected = Math.random() > 0.1;\n            // Draw visualizations based on enabled options\n            if (faceDetected) {\n                if (showBoundingBox) {\n                    drawBoundingBox(ctx, canvas);\n                }\n                if (showHeadPose) {\n                    drawHeadPose(ctx, canvas);\n                }\n                if (showMask) {\n                    drawFaceMask(ctx, canvas);\n                }\n            }\n            // Display parameters if enabled\n            if (showParameters) {\n                drawParameters(ctx, canvas, faceDetected);\n            }\n        }, 33); // ~30fps\n    };\n    // Helper function to draw bounding box\n    const drawBoundingBox = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const boxWidth = canvas.width * 0.6;\n        const boxHeight = canvas.height * 0.8;\n        ctx.strokeStyle = 'rgba(255, 255, 0, 0.7)';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(centerX - boxWidth / 2, centerY - boxHeight / 2, boxWidth, boxHeight);\n    };\n    // Helper function to draw head pose axes\n    const drawHeadPose = (ctx, canvas, pitch, yaw, roll)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const time = Date.now() / 1000;\n        const length = canvas.width * 0.1;\n        // X axis (red)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length * Math.sin(time), centerY);\n        ctx.strokeStyle = 'red';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Y axis (green)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX, centerY + length * Math.sin(time + 1));\n        ctx.strokeStyle = 'green';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Z axis (blue)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length / 2 * Math.sin(time + 2), centerY - length / 2 * Math.cos(time + 2));\n        ctx.strokeStyle = 'blue';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n    };\n    // Helper function to draw face mask\n    const drawFaceMask = (ctx, canvas, points)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const radius = Math.min(canvas.width, canvas.height) * 0.2;\n        // Draw mask\n        ctx.fillStyle = 'rgba(0, 255, 255, 0.2)';\n        ctx.beginPath();\n        ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw eyes\n        const eyeRadius = radius * 0.2;\n        const eyeOffsetX = radius * 0.3;\n        const eyeOffsetY = radius * 0.1;\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n        // Left eye\n        ctx.beginPath();\n        ctx.arc(centerX - eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n        // Right eye\n        ctx.beginPath();\n        ctx.arc(centerX + eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n    };\n    // Helper function to draw parameters\n    const drawParameters = (ctx, canvas, faceDetected)=>{\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(5, canvas.height - 60, 150, 50);\n        ctx.font = '12px Arial';\n        ctx.fillStyle = 'white';\n        ctx.fillText(\"Resolution: \".concat(canvas.width, \"x\").concat(canvas.height), 10, canvas.height - 40);\n        ctx.fillText(\"FPS: \".concat(fps), 10, canvas.height - 25);\n        ctx.fillText(\"Face: \".concat(faceDetected ? 'Detected' : 'Not Detected'), 10, canvas.height - 10);\n    };\n    if (!isShowing) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: '30vw',\n            height: '30vh',\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n            overflow: 'hidden',\n            zIndex: 1000\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover',\n                    transform: 'scaleX(-1)',\n                    opacity: 1,\n                    zIndex: 1\n                },\n                playsInline: true,\n                muted: true,\n                autoPlay: true\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 687,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    zIndex: 2,\n                    pointerEvents: 'none',\n                    display: isLinked ? 'block' : 'none'\n                }\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 701,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '10px',\n                    right: '10px',\n                    display: 'flex',\n                    gap: '10px',\n                    zIndex: 3\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease',\n                            zIndex: 3\n                        },\n                        children: \"Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 722,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            if (isLinked) {\n                                disconnectWebSocket();\n                            } else {\n                                connectWebSocket();\n                            }\n                        },\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: isLinked ? 'rgba(255, 0, 0, 0.7)' : 'rgba(0, 255, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease',\n                            zIndex: 3\n                        },\n                        children: isLinked ? 'Unlink' : 'Link'\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 738,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 714,\n                columnNumber: 7\n            }, undefined),\n            wsStatus === 'error' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '50px',\n                    right: '10px',\n                    padding: '8px 12px',\n                    backgroundColor: 'rgba(255, 0, 0, 0.7)',\n                    color: 'white',\n                    borderRadius: '4px',\n                    zIndex: 3\n                },\n                children: [\n                    \"Connection Error: \",\n                    errorMessage\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 762,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n        lineNumber: 671,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CameraAccessComponent, \"hnEdnO3if4n0OeprCUNkmnm42m0=\");\n_c = CameraAccessComponent;\n// Create the dynamic import wrapper with SSR disabled\nconst CameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(_c1 = ()=>Promise.resolve(CameraAccessComponent), {\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                background: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                    lineNumber: 802,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                    lineNumber: 803,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n            lineNumber: 785,\n            columnNumber: 7\n        }, undefined)\n});\n_c2 = CameraAccess;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CameraAccess);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"CameraAccessComponent\");\n$RefreshReg$(_c1, \"CameraAccess$dynamic\");\n$RefreshReg$(_c2, \"CameraAccess\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsa0NBQWtDOzs7QUFDeUI7QUFDeEI7QUFDZ0Y7QUFFbkgsbUNBQW1DO0FBQ25DLE1BQU1NLHdCQUF3QjtRQUFDLEVBQzdCQyxTQUFTLEVBQ1RDLE9BQU8sRUFDUEMsYUFBYSxFQUNiQyxlQUFlLEtBQUssRUFDcEJDLGtCQUFrQixLQUFLLEVBQ3ZCQyxXQUFXLEtBQUssRUFDaEJDLGlCQUFpQixLQUFLLEVBQ3ZCOztJQUNDLE1BQU1DLFdBQVdaLDZDQUFNQSxDQUFDO0lBQ3hCLE1BQU1hLFlBQVliLDZDQUFNQSxDQUFDO0lBQ3pCLE1BQU1jLGVBQWVkLDZDQUFNQSxDQUFDO0lBQzVCLE1BQU1lLFFBQVFmLDZDQUFNQSxDQUFDO0lBQ3JCLE1BQU0sQ0FBQ2dCLFFBQVFDLFVBQVUsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2lCLGNBQWNDLGdCQUFnQixHQUFHbEIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDbUIsS0FBS0MsT0FBTyxHQUFHcEIsK0NBQVFBLENBQUM7SUFDL0IsTUFBTXFCLGNBQWN0Qiw2Q0FBTUEsQ0FBQztJQUMzQixNQUFNdUIscUJBQXFCdkIsNkNBQU1BLENBQUM7SUFDbEMsTUFBTSxDQUFDd0IsWUFBWUMsY0FBYyxHQUFHeEIsK0NBQVFBLENBQUM7UUFBRXlCLE9BQU87UUFBR0MsUUFBUTtJQUFFO0lBQ25FLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUM2QixtQkFBbUJDLHFCQUFxQixHQUFHOUIsK0NBQVFBLENBQUM7SUFDM0QsTUFBTStCLGFBQWFoQyw2Q0FBTUEsQ0FBQyxFQUFFO0lBQzVCLE1BQU1pQyxlQUFlakMsNkNBQU1BLENBQUM7SUFDNUIsTUFB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Q2hCQyxZQUFZO2dCQUNaQyxXQUFXO2dCQUNYdEIsUUFBUTtZQUNWOzs4QkFDRSw4REFBQ1Y7b0JBQUl4QyxPQUFPO3dCQUFFeUUsVUFBVTt3QkFBUUMsY0FBYztvQkFBTzs4QkFBRzs7Ozs7OzhCQUN4RCw4REFBQ0M7b0JBQUUzRSxPQUFPO3dCQUFFeUUsVUFBVTt3QkFBUUcsWUFBWTt3QkFBUWYsT0FBTztvQkFBVTs4QkFBRzs7Ozs7Ozs7Ozs7O0FBSzVFOztBQUdGLGlFQUFlSSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvYXBwL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFVuaWZpZWQgQ2FtZXJhIEFjY2VzcyBDb21wb25lbnRcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IHsgZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cyB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUnO1xuXG4vLyBDcmVhdGUgdGhlIG1haW4gY2FtZXJhIGNvbXBvbmVudFxuY29uc3QgQ2FtZXJhQWNjZXNzQ29tcG9uZW50ID0gKHsgXG4gIGlzU2hvd2luZywgXG4gIG9uQ2xvc2UsIFxuICBvbkNhbWVyYVJlYWR5LFxuICBzaG93SGVhZFBvc2UgPSBmYWxzZSxcbiAgc2hvd0JvdW5kaW5nQm94ID0gZmFsc2UsXG4gIHNob3dNYXNrID0gZmFsc2UsXG4gIHNob3dQYXJhbWV0ZXJzID0gZmFsc2Vcbn0pID0+IHtcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCB3c1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3N0cmVhbSwgc2V0U3RyZWFtXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZXJyb3JNZXNzYWdlLCBzZXRFcnJvck1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZnBzLCBzZXRGcHNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IGZwc1RpbWVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBwcm9jZXNzaW5nSW50ZXJ2YWwgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtkaW1lbnNpb25zLCBzZXREaW1lbnNpb25zXSA9IHVzZVN0YXRlKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgY29uc3QgW2lzVmlkZW9SZWFkeSwgc2V0SXNWaWRlb1JlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2Nlc3NpbmdSZXN1bHRzLCBzZXRQcm9jZXNzaW5nUmVzdWx0c10gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgZnJhbWVRdWV1ZSA9IHVzZVJlZihbXSk7XG4gIGNvbnN0IGlzUHJvY2Vzc2luZyA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IFt3c1N0YXR1cywgc2V0V3NTdGF0dXNdID0gdXNlU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuICBjb25zdCBbaXNMaW5rZWQsIHNldElzTGlua2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gIGNvbnN0IGNvbm5lY3RXZWJTb2NrZXQgPSAoKSA9PiB7XG4gICAgaWYgKHdzUmVmLmN1cnJlbnQgJiYgd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBhbHJlYWR5IGNvbm5lY3RlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFdzU3RhdHVzKCdjb25uZWN0aW5nJyk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbm5lY3QgdG8gRmFzdEFQSSBXZWJTb2NrZXQgZW5kcG9pbnRcbiAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCgnd3M6Ly9sb2NhbGhvc3Q6ODAwMC93cy92aWRlbycpO1xuICAgICAgd3NSZWYuY3VycmVudCA9IHdzO1xuXG4gICAgICAvLyBTZXQgYSBjb25uZWN0aW9uIHRpbWVvdXRcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIHRpbWVvdXQnKTtcbiAgICAgICAgICB3cy5jbG9zZSgpO1xuICAgICAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICAgIHNldEVycm9yTWVzc2FnZSgnQ29ubmVjdGlvbiB0aW1lb3V0LiBQbGVhc2UgY2hlY2sgaWYgdGhlIGJhY2tlbmQgc2VydmVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDAwKTtcblxuICAgICAgd3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3RlZCB0byBGYXN0QVBJIGJhY2tlbmQnKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgc2V0V3NTdGF0dXMoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xuICAgICAgICBzZXRJc0xpbmtlZCh0cnVlKTtcbiAgICAgICAgaWYgKGlzVmlkZW9SZWFkeSkge1xuICAgICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoY2FwdHVyZUFuZFByb2Nlc3NGcmFtZSwgMzMpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIHNldFByb2Nlc3NpbmdSZXN1bHRzKHJlc3VsdCk7XG4gICAgICAgICAgLy8gZHJhd1Jlc3VsdHMocmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIFdlYlNvY2tldCBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdGYWlsZWQgdG8gY29ubmVjdCB0byBGYXN0QVBJIGJhY2tlbmQuIFBsZWFzZSBjaGVjayBpZiB0aGUgc2VydmVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIHdzLm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQ6JywgZXZlbnQuY29kZSwgZXZlbnQucmVhc29uKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgc2V0V3NTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgICAgIC8vIFN0b3AgZnJhbWUgcHJvY2Vzc2luZ1xuICAgICAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgZHVlIHRvIGFuIGVycm9yLCBzaG93IGVycm9yIG1lc3NhZ2VcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgIT09IDEwMDApIHsgLy8gMTAwMCBpcyBub3JtYWwgY2xvc3VyZVxuICAgICAgICAgIHNldEVycm9yTWVzc2FnZShgV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkOiAke2V2ZW50LnJlYXNvbiB8fCAnVW5rbm93biByZWFzb24nfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBXZWJTb2NrZXQ6JywgZXJyb3IpO1xuICAgICAgc2V0V3NTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICBzZXRFcnJvck1lc3NhZ2UoJ0ZhaWxlZCB0byBjcmVhdGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uIFBsZWFzZSBjaGVjayB5b3VyIG5ldHdvcmsgY29ubmVjdGlvbi4nKTtcbiAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzY29ubmVjdFdlYlNvY2tldCA9ICgpID0+IHtcbiAgICBpZiAod3NSZWYuY3VycmVudCkge1xuICAgICAgd3NSZWYuY3VycmVudC5jbG9zZSgxMDAwLCAnVXNlciByZXF1ZXN0ZWQgZGlzY29ubmVjdCcpO1xuICAgICAgd3NSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICBzZXRXc1N0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgICAvLyBTdG9wIGZyYW1lIHByb2Nlc3NpbmdcbiAgICAgIGlmIChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhcyB0byByZW1vdmUgYW55IG92ZXJsYXlzXG4gICAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzUmVmLmN1cnJlbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXNSZWYuY3VycmVudC53aWR0aCwgY2FudmFzUmVmLmN1cnJlbnQuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzU2hvd2luZykge1xuICAgICAgZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkaXNjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgfTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIEZyYW1lIGNhcHR1cmUgYW5kIHByb2Nlc3NpbmdcbiAgY29uc3QgY2FwdHVyZUFuZFByb2Nlc3NGcmFtZSA9ICgpID0+IHtcbiAgICBpZiAoIXZpZGVvUmVmLmN1cnJlbnQgfHwgIWNhbnZhc1JlZi5jdXJyZW50IHx8ICFpc1ZpZGVvUmVhZHkgfHwgIXdzUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8vIE9ubHkgZHJhdyBvbiBjYW52YXMgaWYgV2ViU29ja2V0IGlzIGNvbm5lY3RlZFxuICAgIGlmICh3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIC8vIENsZWFyIGNhbnZhc1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgIC8vIEZsaXAgdGhlIGNvbnRleHQgaG9yaXpvbnRhbGx5IHRvIG1pcnJvciB0aGUgdmlkZW9cbiAgICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoLCAwKTtcbiAgICAgIGN0eC5zY2FsZSgtMSwgMSk7XG5cbiAgICAgIC8vIERyYXcgdmlkZW8gZnJhbWUgdG8gY2FudmFzIGF0IGhpZ2ggcmVzb2x1dGlvblxuICAgICAgY3R4LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgLy8gUmVzdG9yZSB0aGUgY29udGV4dCBzdGF0ZVxuICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgLy8gQ29udmVydCBjYW52YXMgdG8gYmxvYiB3aXRoIGhpZ2ggcXVhbGl0eVxuICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICBpZiAoYmxvYiAmJiB3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAvLyBTZW5kIGZyYW1lIHRvIGJhY2tlbmRcbiAgICAgICAgICB3c1JlZi5jdXJyZW50LnNlbmQoYmxvYik7XG4gICAgICAgIH1cbiAgICAgIH0sICdpbWFnZS9qcGVnJywgMC45NSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN0YXJ0IGNhbWVyYSB3aXRoIGhpZ2hlc3QgcmVzb2x1dGlvblxuICBjb25zdCBzdGFydENhbWVyYSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xuICAgIHNldElzVmlkZW9SZWFkeShmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gMS4gRW5oYW5jZWQgQnJvd3NlciBFbnZpcm9ubWVudCBDaGVja1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2luZG93IG9iamVjdCBub3QgYXZhaWxhYmxlIC0gbm90IHJ1bm5pbmcgaW4gYSBicm93c2VyIGVudmlyb25tZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdmlnYXRvciBvYmplY3Qgbm90IGF2YWlsYWJsZSAtIG5vdCBydW5uaW5nIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiBDb21wcmVoZW5zaXZlIEJyb3dzZXIgRGV0ZWN0aW9uXG4gICAgICBjb25zdCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBicm93c2VySW5mbyA9IHtcbiAgICAgICAgaXNDaHJvbWU6IC9jaHJvbWUvLnRlc3QodXNlckFnZW50KSAmJiAhL2VkZ2UvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNGaXJlZm94OiAvZmlyZWZveC8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc1NhZmFyaTogL3NhZmFyaS8udGVzdCh1c2VyQWdlbnQpICYmICEvY2hyb21lLy50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzRWRnZTogL2VkZ2UvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNPcGVyYTogL29wci8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc0lFOiAvdHJpZGVudC8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc01vYmlsZTogL21vYmlsZXxhbmRyb2lkfGlwaG9uZXxpcGFkfHBob25lL2kudGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICB2ZXJzaW9uOiB1c2VyQWdlbnQubWF0Y2goLyhjaHJvbWV8ZmlyZWZveHxzYWZhcml8ZWRnZXxvcHIpXFwvKFswLTldKykvKVxuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coJ0Jyb3dzZXIgSW5mbzonLCBicm93c2VySW5mbyk7XG5cbiAgICAgIC8vIDMuIEluaXRpYWxpemUgTWVkaWFEZXZpY2VzIEFQSVxuICAgICAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignTWVkaWFEZXZpY2VzIEFQSSBub3QgYXZhaWxhYmxlLCBpbml0aWFsaXppbmcuLi4nKTtcbiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBFbmhhbmNlZCBNZWRpYURldmljZXMgU3VwcG9ydFxuICAgICAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ2dldFVzZXJNZWRpYSBub3QgYXZhaWxhYmxlLCBjaGVja2luZyBpbXBsZW1lbnRhdGlvbnMuLi4nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSBhbGwgcG9zc2libGUgaW1wbGVtZW50YXRpb25zXG4gICAgICAgIGNvbnN0IGltcGxlbWVudGF0aW9ucyA9IHtcbiAgICAgICAgICBzdGFuZGFyZDogbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEsXG4gICAgICAgICAgd2Via2l0OiBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tZWRpYURldmljZXMud2Via2l0R2V0VXNlck1lZGlhLFxuICAgICAgICAgIG1vejogbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLm1vekdldFVzZXJNZWRpYSxcbiAgICAgICAgICBtczogbmF2aWdhdG9yLm1zR2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tZWRpYURldmljZXMubXNHZXRVc2VyTWVkaWEsXG4gICAgICAgICAgbGVnYWN5OiBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBpbXBsZW1lbnRhdGlvbnM6JywgT2JqZWN0LmtleXMoaW1wbGVtZW50YXRpb25zKS5maWx0ZXIoa2V5ID0+IGltcGxlbWVudGF0aW9uc1trZXldKSk7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGZpbmQgYSB3b3JraW5nIGltcGxlbWVudGF0aW9uXG4gICAgICAgIGxldCBnZXRVc2VyTWVkaWEgPSBudWxsO1xuICAgICAgICBsZXQgaW1wbGVtZW50YXRpb25OYW1lID0gbnVsbDtcblxuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCBpbXBsXSBvZiBPYmplY3QuZW50cmllcyhpbXBsZW1lbnRhdGlvbnMpKSB7XG4gICAgICAgICAgaWYgKGltcGwpIHtcbiAgICAgICAgICAgIGdldFVzZXJNZWRpYSA9IGltcGw7XG4gICAgICAgICAgICBpbXBsZW1lbnRhdGlvbk5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdldFVzZXJNZWRpYSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyAke2ltcGxlbWVudGF0aW9uTmFtZX0gaW1wbGVtZW50YXRpb24gb2YgZ2V0VXNlck1lZGlhYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gV3JhcCB0aGUgaW1wbGVtZW50YXRpb24gaW4gYSBQcm9taXNlXG4gICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGltcGxlbWVudGF0aW9uTmFtZSA9PT0gJ3N0YW5kYXJkJykge1xuICAgICAgICAgICAgICAgIGdldFVzZXJNZWRpYS5jYWxsKG5hdmlnYXRvci5tZWRpYURldmljZXMsIGNvbnN0cmFpbnRzKVxuICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFVzZXJNZWRpYS5jYWxsKG5hdmlnYXRvciwgY29uc3RyYWludHMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUHJvdmlkZSBzcGVjaWZpYyBndWlkYW5jZSBiYXNlZCBvbiBicm93c2VyXG4gICAgICAgICAgaWYgKGJyb3dzZXJJbmZvLmlzTW9iaWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYSBhY2Nlc3Mgb24gbW9iaWxlIGRldmljZXMgcmVxdWlyZXMgSFRUUFMuIFBsZWFzZSB1c2UgYSBzZWN1cmUgY29ubmVjdGlvbi4nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJyb3dzZXJJbmZvLmlzSUUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW50ZXJuZXQgRXhwbG9yZXIgZG9lcyBub3Qgc3VwcG9ydCBjYW1lcmEgYWNjZXNzLiBQbGVhc2UgdXNlIENocm9tZSwgRmlyZWZveCwgb3IgRWRnZS4nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJyb3dzZXJJbmZvLmlzU2FmYXJpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmFyaSByZXF1aXJlcyBIVFRQUyBmb3IgY2FtZXJhIGFjY2Vzcy4gUGxlYXNlIHVzZSBhIHNlY3VyZSBjb25uZWN0aW9uIG9yIHRyeSBDaHJvbWUvRmlyZWZveC4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgYWNjZXNzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLiBQbGVhc2UgdXNlIENocm9tZSwgRmlyZWZveCwgb3IgRWRnZS4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gNS4gQ2hlY2sgU2VjdXJpdHkgQ29udGV4dFxuICAgICAgY29uc3QgaXNTZWN1cmUgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonIHx8IFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJyB8fFxuICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xuICAgICAgXG4gICAgICBpZiAoIWlzU2VjdXJlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FtZXJhIGFjY2VzcyByZXF1aXJlcyBIVFRQUyBvciBsb2NhbGhvc3QuIEN1cnJlbnQgcHJvdG9jb2w6ICR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfSwgaG9zdG5hbWU6ICR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfWApO1xuICAgICAgfVxuXG4gICAgICAvLyA2LiBFbmhhbmNlZCBQZXJtaXNzaW9uIEhhbmRsaW5nXG4gICAgICBsZXQgcGVybWlzc2lvblN0YXR1cyA9ICdwcm9tcHQnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG5hdmlnYXRvci5wZXJtaXNzaW9ucyAmJiBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkpIHtcbiAgICAgICAgICBjb25zdCBwZXJtaXNzaW9uUmVzdWx0ID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogJ2NhbWVyYScgfSk7XG4gICAgICAgICAgcGVybWlzc2lvblN0YXR1cyA9IHBlcm1pc3Npb25SZXN1bHQuc3RhdGU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0NhbWVyYSBwZXJtaXNzaW9uIHN0YXR1czonLCBwZXJtaXNzaW9uU3RhdHVzKTtcblxuICAgICAgICAgIHBlcm1pc3Npb25SZXN1bHQub25jaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIHBlcm1pc3Npb24gY2hhbmdlZCB0bzonLCBwZXJtaXNzaW9uUmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgIHBlcm1pc3Npb25TdGF0dXMgPSBwZXJtaXNzaW9uUmVzdWx0LnN0YXRlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKHBlcm1pc3Npb25FcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBjaGVjayBjYW1lcmEgcGVybWlzc2lvbnM6JywgcGVybWlzc2lvbkVycm9yKTtcbiAgICAgIH1cblxuICAgICAgLy8gNy4gSGFuZGxlIFBlcm1pc3Npb24gU3RhdGVzXG4gICAgICBpZiAocGVybWlzc2lvblN0YXR1cyA9PT0gJ2RlbmllZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgYWNjZXNzIGhhcyBiZWVuIHBlcm1hbmVudGx5IGRlbmllZC4gUGxlYXNlIHVwZGF0ZSB5b3VyIGJyb3dzZXIgc2V0dGluZ3MgdG8gYWxsb3cgY2FtZXJhIGFjY2Vzcy4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gOC4gR2V0IENhbWVyYSBDb25zdHJhaW50c1xuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGNhbWVyYSBhY2Nlc3Mgd2l0aCBoaWdoZXN0IHJlc29sdXRpb24uLi4nKTtcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gYXdhaXQgZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cygpO1xuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGNhbWVyYSBjb25zdHJhaW50czonLCBjb25zdHJhaW50cyk7XG5cbiAgICAgIC8vIDkuIEFkZCBGYWxsYmFjayBDb25zdHJhaW50c1xuICAgICAgY29uc3QgZmFsbGJhY2tDb25zdHJhaW50cyA9IHtcbiAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICB3aWR0aDogeyBpZGVhbDogMTI4MCB9LFxuICAgICAgICAgIGhlaWdodDogeyBpZGVhbDogNzIwIH0sXG4gICAgICAgICAgZmFjaW5nTW9kZTogJ3VzZXInLFxuICAgICAgICAgIGZyYW1lUmF0ZTogeyBpZGVhbDogMzAgfVxuICAgICAgICB9LFxuICAgICAgICBhdWRpbzogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIC8vIDEwLiBUcnkgdG8gQWNjZXNzIENhbWVyYSB3aXRoIFBlcm1pc3Npb24gSGFuZGxpbmdcbiAgICAgIGxldCBtZWRpYVN0cmVhbTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIGFjY2VzcyBjYW1lcmEgd2l0aCBoaWdoIHJlc29sdXRpb24uLi4nKTtcbiAgICAgICAgbWVkaWFTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgICAgLi4uY29uc3RyYWludHMsXG4gICAgICAgICAgYXVkaW86IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZ2V0IGhpZ2ggcmVzb2x1dGlvbiBzdHJlYW0sIHRyeWluZyBmYWxsYmFjayBjb25zdHJhaW50czonLCBlcnJvcik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gYWNjZXNzIGNhbWVyYSB3aXRoIGZhbGxiYWNrIGNvbnN0cmFpbnRzLi4uJyk7XG4gICAgICAgICAgbWVkaWFTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShmYWxsYmFja0NvbnN0cmFpbnRzKTtcbiAgICAgICAgfSBjYXRjaCAoZmFsbGJhY2tFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgY2FtZXJhIGFjY2VzcyB3aXRoIGZhbGxiYWNrIGNvbnN0cmFpbnRzOicsIGZhbGxiYWNrRXJyb3IpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFByb3ZpZGUgc3BlY2lmaWMgZ3VpZGFuY2UgYmFzZWQgb24gZXJyb3IgdHlwZVxuICAgICAgICAgIGlmIChmYWxsYmFja0Vycm9yLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XG4gICAgICAgICAgICBpZiAocGVybWlzc2lvblN0YXR1cyA9PT0gJ3Byb21wdCcpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgYWNjZXNzIHdhcyBkZW5pZWQuIFBsZWFzZSBhbGxvdyBjYW1lcmEgYWNjZXNzIHdoZW4gcHJvbXB0ZWQgYnkgeW91ciBicm93c2VyLicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgYWNjZXNzIGhhcyBiZWVuIGJsb2NrZWQuIFBsZWFzZSBjaGVjayB5b3VyIGJyb3dzZXIgc2V0dGluZ3MgYW5kIGFsbG93IGNhbWVyYSBhY2Nlc3MgZm9yIHRoaXMgc2l0ZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGZhbGxiYWNrRXJyb3IubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNhbWVyYSBmb3VuZC4gUGxlYXNlIGNvbm5lY3QgYSBjYW1lcmEgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZhbGxiYWNrRXJyb3IubmFtZSA9PT0gJ05vdFJlYWRhYmxlRXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYSBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFwcGxpY2F0aW9uLiBQbGVhc2UgY2xvc2Ugb3RoZXIgYXBwbGljYXRpb25zIHVzaW5nIHRoZSBjYW1lcmEuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FtZXJhIGFjY2VzcyBlcnJvcjogJHtmYWxsYmFja0Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdDYW1lcmEgYWNjZXNzIGdyYW50ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgc2V0U3RyZWFtKG1lZGlhU3RyZWFtKTtcblxuICAgICAgLy8gMTEuIFNldHVwIFZpZGVvIEVsZW1lbnRcbiAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheXNJbmxpbmUgPSB0cnVlO1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm11dGVkID0gdHJ1ZTtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbWVkaWFTdHJlYW07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVmlkZW8gcGxheWluZyBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICAgICAgc2V0SXNWaWRlb1JlYWR5KHRydWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh3c1N0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoY2FwdHVyZUFuZFByb2Nlc3NGcmFtZSwgMzMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAocGxheUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGxheWluZyB2aWRlbzonLCBwbGF5RXJyb3IpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHN0YXJ0IHZpZGVvIHN0cmVhbTogJyArIHBsYXlFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDYW1lcmEgYWNjZXNzIGVycm9yOicsIGVycm9yKTtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnQ2FtZXJhIGVycm9yOiAnO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdDYW1lcmEgYWNjZXNzIHdhcyBkZW5pZWQuIFBsZWFzZSBhbGxvdyBjYW1lcmEgYWNjZXNzIGluIHlvdXIgYnJvd3NlciBzZXR0aW5ncy4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdObyBjYW1lcmEgZm91bmQuIFBsZWFzZSBjb25uZWN0IGEgY2FtZXJhIGFuZCB0cnkgYWdhaW4uJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdFJlYWRhYmxlRXJyb3InKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnQ2FtZXJhIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgYXBwbGljYXRpb24uJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ092ZXJjb25zdHJhaW5lZEVycm9yJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ0NhbWVyYSBkb2VzIG5vdCBzdXBwb3J0IHRoZSByZXF1ZXN0ZWQgcmVzb2x1dGlvbi4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09PSAnZ2V0VXNlck1lZGlhIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIGJyb3dzZXInKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY2FtZXJhIGFjY2Vzcy4gUGxlYXNlIHRyeSB1c2luZyBhIG1vZGVybiBicm93c2VyIGxpa2UgQ2hyb21lLCBGaXJlZm94LCBvciBFZGdlLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0hUVFBTJykpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdDYW1lcmEgYWNjZXNzIHJlcXVpcmVzIEhUVFBTIG9yIGxvY2FsaG9zdC4gUGxlYXNlIHVzZSBIVFRQUyBvciBydW4gdGhlIGFwcGxpY2F0aW9uIG9uIGxvY2FsaG9zdC4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdwZXJtYW5lbnRseSBkZW5pZWQnKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ0NhbWVyYSBhY2Nlc3MgaGFzIGJlZW4gcGVybWFuZW50bHkgZGVuaWVkLiBQbGVhc2UgdXBkYXRlIHlvdXIgYnJvd3NlciBzZXR0aW5ncy4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RvcENhbWVyYSA9ICgpID0+IHtcbiAgICAvLyBTdG9wIGFsbCB0cmFja3MgaW4gdGhlIHN0cmVhbVxuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICBzZXRTdHJlYW0obnVsbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIHZpZGVvIHNvdXJjZVxuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIHByb2Nlc3NpbmcgaW50ZXJ2YWxcbiAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc1ZpZGVvUmVhZHkoZmFsc2UpO1xuICB9O1xuXG4gIC8vIFN0YXJ0IGNhbWVyYSBvbiBjb21wb25lbnQgbW91bnQgaWYgaXNTaG93aW5nIGlzIHRydWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNTaG93aW5nKSB7XG4gICAgICBzdGFydENhbWVyYSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wQ2FtZXJhKCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdG9wQ2FtZXJhKCk7XG4gICAgfTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIFNldHVwIEZQUyBjb3VudGVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Nob3dpbmcpIHJldHVybjtcbiAgICBcbiAgICBmcHNUaW1lclJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0RnBzKHByZXZGcHMgPT4ge1xuICAgICAgICAvLyBTaW1wbGUgbW9jayBmb3IgZnBzIGNvdW50ZXJcbiAgICAgICAgY29uc3QgbmV3RnBzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApICsgMjU7IC8vIFJhbmRvbSBiZXR3ZWVuIDI1LTM1IGZwc1xuICAgICAgICByZXR1cm4gbmV3RnBzO1xuICAgICAgfSk7XG4gICAgfSwgMTAwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChmcHNUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZnBzVGltZXJSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIFVwZGF0ZSBkaW1lbnNpb25zIHdoZW4gY29udGFpbmVyIHNpemUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNTaG93aW5nKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdXBkYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXREaW1lbnNpb25zKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICB9LCBbaXNTaG93aW5nXSk7XG5cbiAgLy8gSGFuZGxlIHZpZGVvIGVsZW1lbnQgcmVhZHkgc3RhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzU2hvd2luZyB8fCAhdmlkZW9SZWYuY3VycmVudCB8fCAhc3RyZWFtKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZUxvYWRlZE1ldGFkYXRhID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1ZpZGVvIG1ldGFkYXRhIGxvYWRlZCcpO1xuICAgICAgc2V0SXNWaWRlb1JlYWR5KHRydWUpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdmlkZW8gZGltZW5zaW9uc1xuICAgICAgY29uc3QgdmlkZW9XaWR0aCA9IHZpZGVvLnZpZGVvV2lkdGggfHwgNjQwO1xuICAgICAgY29uc3QgdmlkZW9IZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodCB8fCA0ODA7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBWaWRlbyBkaW1lbnNpb25zOiAke3ZpZGVvV2lkdGh9eCR7dmlkZW9IZWlnaHR9YCk7XG4gICAgICBcbiAgICAgIC8vIFNldHVwIGNhbnZhcyBmb3IgcHJvY2Vzc2luZ1xuICAgICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIFN0b3JlIGFjdHVhbCBkaW1lbnNpb25zIGZvciBjYXB0dXJlXG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LndpZHRoID0gdmlkZW9XaWR0aDtcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQuaGVpZ2h0ID0gdmlkZW9IZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICAvLyBTZXQgZGlzcGxheSBzaXplIHRvIG1haW50YWluIGFzcGVjdCByYXRpb1xuICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xuICAgICAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXJXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICBcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBgJHtjb250YWluZXJXaWR0aH1weGA7XG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke2NvbnRhaW5lckhlaWdodH1weGA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IHByb2Nlc3NpbmcgZnJhbWVzXG4gICAgICBzdGFydFByb2Nlc3NpbmcoKTtcbiAgICAgIFxuICAgICAgLy8gTm90aWZ5IHBhcmVudCBjb21wb25lbnQgdGhhdCBjYW1lcmEgaXMgcmVhZHlcbiAgICAgIGlmIChvbkNhbWVyYVJlYWR5KSB7XG4gICAgICAgIG9uQ2FtZXJhUmVhZHkoe1xuICAgICAgICAgIHdpZHRoOiB2aWRlb1dpZHRoLFxuICAgICAgICAgIGhlaWdodDogdmlkZW9IZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgaGFuZGxlTG9hZGVkTWV0YWRhdGEpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKTtcbiAgICB9O1xuICB9LCBbc3RyZWFtLCBpc1Nob3dpbmcsIGRpbWVuc2lvbnMsIG9uQ2FtZXJhUmVhZHldKTtcblxuICBjb25zdCBzdGFydFByb2Nlc3NpbmcgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCB8fCAhdmlkZW9SZWYuY3VycmVudCB8fCAhaXNWaWRlb1JlYWR5KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIFxuICAgIC8vIFN0YXJ0IHByb2Nlc3NpbmcgZnJhbWVzIGF0IH4zMGZwc1xuICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHZpZGVvLnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgY29udGV4dCBzdGF0ZVxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIFxuICAgICAgLy8gRmxpcCB0aGUgY29udGV4dCBob3Jpem9udGFsbHkgdG8gbWlycm9yIHRoZSB2aWRlb1xuICAgICAgY3R4LnRyYW5zbGF0ZShjYW52YXMud2lkdGgsIDApO1xuICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgICAgIFxuICAgICAgLy8gRHJhdyB2aWRlbyBmcmFtZSB0byBjYW52YXMgYXQgaGlnaCByZXNvbHV0aW9uXG4gICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIHRoZSBjb250ZXh0IHN0YXRlXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBmYWNlIGRldGVjdGlvbiAoOTAlIGNoYW5jZSBvZiBmYWNlIGRldGVjdGVkKVxuICAgICAgY29uc3QgZmFjZURldGVjdGVkID0gTWF0aC5yYW5kb20oKSA+IDAuMTtcbiAgICAgIFxuICAgICAgLy8gRHJhdyB2aXN1YWxpemF0aW9ucyBiYXNlZCBvbiBlbmFibGVkIG9wdGlvbnNcbiAgICAgIGlmIChmYWNlRGV0ZWN0ZWQpIHtcbiAgICAgICAgaWYgKHNob3dCb3VuZGluZ0JveCkge1xuICAgICAgICAgIGRyYXdCb3VuZGluZ0JveChjdHgsIGNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChzaG93SGVhZFBvc2UpIHtcbiAgICAgICAgICBkcmF3SGVhZFBvc2UoY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvd01hc2spIHtcbiAgICAgICAgICBkcmF3RmFjZU1hc2soY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERpc3BsYXkgcGFyYW1ldGVycyBpZiBlbmFibGVkXG4gICAgICBpZiAoc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgICAgZHJhd1BhcmFtZXRlcnMoY3R4LCBjYW52YXMsIGZhY2VEZXRlY3RlZCk7XG4gICAgICB9XG4gICAgfSwgMzMpOyAvLyB+MzBmcHNcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGJvdW5kaW5nIGJveFxuICBjb25zdCBkcmF3Qm91bmRpbmdCb3ggPSAoY3R4LCBjYW52YXMpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgYm94V2lkdGggPSBjYW52YXMud2lkdGggKiAwLjY7XG4gICAgY29uc3QgYm94SGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIDAuODtcbiAgICBcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMCwgMC43KSc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICBjZW50ZXJYIC0gYm94V2lkdGgvMiwgXG4gICAgICBjZW50ZXJZIC0gYm94SGVpZ2h0LzIsIFxuICAgICAgYm94V2lkdGgsIFxuICAgICAgYm94SGVpZ2h0XG4gICAgKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGhlYWQgcG9zZSBheGVzXG4gIGNvbnN0IGRyYXdIZWFkUG9zZSA9IChjdHgsIGNhbnZhcywgcGl0Y2gsIHlhdywgcm9sbCkgPT4ge1xuICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgY29uc3QgbGVuZ3RoID0gY2FudmFzLndpZHRoICogMC4xO1xuICAgIFxuICAgIC8vIFggYXhpcyAocmVkKVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKGNlbnRlclgsIGNlbnRlclkpO1xuICAgIGN0eC5saW5lVG8oY2VudGVyWCArIGxlbmd0aCAqIE1hdGguc2luKHRpbWUpLCBjZW50ZXJZKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgXG4gICAgLy8gWSBheGlzIChncmVlbilcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKGNlbnRlclgsIGNlbnRlclkgKyBsZW5ndGggKiBNYXRoLnNpbih0aW1lICsgMSkpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdncmVlbic7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIFxuICAgIC8vIFogYXhpcyAoYmx1ZSlcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKFxuICAgICAgY2VudGVyWCArIGxlbmd0aC8yICogTWF0aC5zaW4odGltZSArIDIpLCBcbiAgICAgIGNlbnRlclkgLSBsZW5ndGgvMiAqIE1hdGguY29zKHRpbWUgKyAyKVxuICAgICk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsdWUnO1xuICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGZhY2UgbWFza1xuICBjb25zdCBkcmF3RmFjZU1hc2sgPSAoY3R4LCBjYW52YXMsIHBvaW50cykgPT4ge1xuICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICBjb25zdCByYWRpdXMgPSBNYXRoLm1pbihjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpICogMC4yO1xuICAgIFxuICAgIC8vIERyYXcgbWFza1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAyNTUsIDI1NSwgMC4yKSc7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBcbiAgICAvLyBEcmF3IGV5ZXNcbiAgICBjb25zdCBleWVSYWRpdXMgPSByYWRpdXMgKiAwLjI7XG4gICAgY29uc3QgZXllT2Zmc2V0WCA9IHJhZGl1cyAqIDAuMztcbiAgICBjb25zdCBleWVPZmZzZXRZID0gcmFkaXVzICogMC4xO1xuICAgIFxuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJztcbiAgICBcbiAgICAvLyBMZWZ0IGV5ZVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKGNlbnRlclggLSBleWVPZmZzZXRYLCBjZW50ZXJZIC0gZXllT2Zmc2V0WSwgZXllUmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBcbiAgICAvLyBSaWdodCBleWVcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhjZW50ZXJYICsgZXllT2Zmc2V0WCwgY2VudGVyWSAtIGV5ZU9mZnNldFksIGV5ZVJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBwYXJhbWV0ZXJzXG4gIGNvbnN0IGRyYXdQYXJhbWV0ZXJzID0gKGN0eCwgY2FudmFzLCBmYWNlRGV0ZWN0ZWQpID0+IHtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC43KSc7XG4gICAgY3R4LmZpbGxSZWN0KDUsIGNhbnZhcy5oZWlnaHQgLSA2MCwgMTUwLCA1MCk7XG4gICAgXG4gICAgY3R4LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmZpbGxUZXh0KGBSZXNvbHV0aW9uOiAke2NhbnZhcy53aWR0aH14JHtjYW52YXMuaGVpZ2h0fWAsIDEwLCBjYW52YXMuaGVpZ2h0IC0gNDApO1xuICAgIGN0eC5maWxsVGV4dChgRlBTOiAke2Zwc31gLCAxMCwgY2FudmFzLmhlaWdodCAtIDI1KTtcbiAgICBjdHguZmlsbFRleHQoYEZhY2U6ICR7ZmFjZURldGVjdGVkID8gJ0RldGVjdGVkJyA6ICdOb3QgRGV0ZWN0ZWQnfWAsIDEwLCBjYW52YXMuaGVpZ2h0IC0gMTApO1xuICB9O1xuXG4gIGlmICghaXNTaG93aW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgXG4gICAgICByZWY9e2NvbnRhaW5lclJlZn1cbiAgICAgIHN0eWxlPXt7IFxuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgICAgIHdpZHRoOiAnMzB2dycsXG4gICAgICAgIGhlaWdodDogJzMwdmgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIHpJbmRleDogMTAwMFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8dmlkZW9cbiAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIG9iamVjdEZpdDogJ2NvdmVyJyxcbiAgICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZVgoLTEpJyxcbiAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgIHpJbmRleDogMVxuICAgICAgICB9fVxuICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICBtdXRlZFxuICAgICAgICBhdXRvUGxheVxuICAgICAgLz5cbiAgICAgIDxjYW52YXNcbiAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICB6SW5kZXg6IDIsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIGRpc3BsYXk6IGlzTGlua2VkID8gJ2Jsb2NrJyA6ICdub25lJ1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzEwcHgnLFxuICAgICAgICByaWdodDogJzEwcHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGdhcDogJzEwcHgnLFxuICAgICAgICB6SW5kZXg6IDNcbiAgICAgIH19PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC43KScsXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlJyxcbiAgICAgICAgICAgIHpJbmRleDogM1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBDbG9zZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNMaW5rZWQpIHtcbiAgICAgICAgICAgICAgZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzTGlua2VkID8gJ3JnYmEoMjU1LCAwLCAwLCAwLjcpJyA6ICdyZ2JhKDAsIDI1NSwgMCwgMC43KScsXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlJyxcbiAgICAgICAgICAgIHpJbmRleDogM1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7aXNMaW5rZWQgPyAnVW5saW5rJyA6ICdMaW5rJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3dzU3RhdHVzID09PSAnZXJyb3InICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogJzUwcHgnLFxuICAgICAgICAgIHJpZ2h0OiAnMTBweCcsXG4gICAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC43KScsXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICB6SW5kZXg6IDNcbiAgICAgICAgfX0+XG4gICAgICAgICAgQ29ubmVjdGlvbiBFcnJvcjoge2Vycm9yTWVzc2FnZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gQ3JlYXRlIHRoZSBkeW5hbWljIGltcG9ydCB3cmFwcGVyIHdpdGggU1NSIGRpc2FibGVkXG5jb25zdCBDYW1lcmFBY2Nlc3MgPSBkeW5hbWljKFxuICAoKSA9PiBQcm9taXNlLnJlc29sdmUoQ2FtZXJhQWNjZXNzQ29tcG9uZW50KSxcbiAgeyBcbiAgICBzc3I6IGZhbHNlLCAvLyBEaXNhYmxlIHNlcnZlci1zaWRlIHJlbmRlcmluZyBmb3IgY2FtZXJhIGNvbXBvbmVudFxuICAgIGxvYWRpbmc6ICgpID0+IChcbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICB3aWR0aDogJzQ4MHB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMzYwcHgnLFxuICAgICAgICBiYWNrZ3JvdW5kOiAnI2YwZjhmZicsXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjMDA2NmNjJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgekluZGV4OiA5OTlcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnNDhweCcsIG1hcmdpbkJvdHRvbTogJzE1cHgnIH19PvCfk7c8L2Rpdj5cbiAgICAgICAgPHAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JywgZm9udFdlaWdodDogJ2JvbGQnLCBjb2xvcjogJyMwMDY2Y2MnIH19PlxuICAgICAgICAgIExvYWRpbmcgY2FtZXJhLi4uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FtZXJhQWNjZXNzOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiZHluYW1pYyIsImdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMiLCJDYW1lcmFBY2Nlc3NDb21wb25lbnQiLCJpc1Nob3dpbmciLCJvbkNsb3NlIiwib25DYW1lcmFSZWFkeSIsInNob3dIZWFkUG9zZSIsInNob3dCb3VuZGluZ0JveCIsInNob3dNYXNrIiwic2hvd1BhcmFtZXRlcnMiLCJ2aWRlb1JlZiIsImNhbnZhc1JlZiIsImNvbnRhaW5lclJlZiIsIndzUmVmIiwic3RyZWFtIiwic2V0U3RyZWFtIiwiZXJyb3JNZXNzYWdlIiwic2V0RXJyb3JNZXNzYWdlIiwiZnBzIiwic2V0RnBzIiwiZnBzVGltZXJSZWYiLCJwcm9jZXNzaW5nSW50ZXJ2YWwiLCJkaW1lbnNpb25zIiwic2V0RGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwiaXNWaWRlb1JlYWR5Iiwic2V0SXNWaWRlb1JlYWR5IiwicHJvY2Vzc2luZ1Jlc3VsdHMiLCJzZXRQcm9jZXNzaW5nUmVzdWx0cyIsImZyYW1lUXVldWUiLCJpc1Byb2Nlc3NpbmciLCJ3c1N0YXR1cyIsInNldFdzU3RhdHVzIiwiaXNMaW5rZWQiLCJzZXRJc0xpbmtlZCIsImNvbm5lY3RXZWJTb2NrZXQiLCJjdXJyZW50IiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJjb25zb2xlIiwibG9nIiwid3MiLCJjb25uZWN0aW9uVGltZW91dCIsInNldFRpbWVvdXQiLCJlcnJvciIsImNsb3NlIiwib25vcGVuIiwiY2xlYXJUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjYXB0dXJlQW5kUHJvY2Vzc0ZyYW1lIiwib25tZXNzYWdlIiwiZXZlbnQiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwib25lcnJvciIsIm9uY2xvc2UiLCJjb2RlIiwicmVhc29uIiwiY2xlYXJJbnRlcnZhbCIsImRpc2Nvbm5lY3RXZWJTb2NrZXQiLCJjdHgiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwidmlkZW8iLCJjYW52YXMiLCJzYXZlIiwidHJhbnNsYXRlIiwic2NhbGUiLCJkcmF3SW1hZ2UiLCJyZXN0b3JlIiwidG9CbG9iIiwiYmxvYiIsInNlbmQiLCJzdGFydENhbWVyYSIsIkVycm9yIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJicm93c2VySW5mbyIsImlzQ2hyb21lIiwidGVzdCIsImlzRmlyZWZveCIsImlzU2FmYXJpIiwiaXNFZGdlIiwiaXNPcGVyYSIsImlzSUUiLCJpc01vYmlsZSIsInZlcnNpb24iLCJtYXRjaCIsIm1lZGlhRGV2aWNlcyIsIndhcm4iLCJnZXRVc2VyTWVkaWEiLCJpbXBsZW1lbnRhdGlvbnMiLCJzdGFuZGFyZCIsIndlYmtpdCIsIndlYmtpdEdldFVzZXJNZWRpYSIsIm1veiIsIm1vekdldFVzZXJNZWRpYSIsIm1zIiwibXNHZXRVc2VyTWVkaWEiLCJsZWdhY3kiLCJPYmplY3QiLCJrZXlzIiwiZmlsdGVyIiwia2V5IiwiaW1wbGVtZW50YXRpb25OYW1lIiwibmFtZSIsImltcGwiLCJlbnRyaWVzIiwiY29uc3RyYWludHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNhbGwiLCJ0aGVuIiwiY2F0Y2giLCJpc1NlY3VyZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInByb2Nlc3MiLCJwZXJtaXNzaW9uU3RhdHVzIiwicGVybWlzc2lvbnMiLCJxdWVyeSIsInBlcm1pc3Npb25SZXN1bHQiLCJzdGF0ZSIsIm9uY2hhbmdlIiwicGVybWlzc2lvbkVycm9yIiwiZmFsbGJhY2tDb25zdHJhaW50cyIsImlkZWFsIiwiZmFjaW5nTW9kZSIsImZyYW1lUmF0ZSIsImF1ZGlvIiwibWVkaWFTdHJlYW0iLCJmYWxsYmFja0Vycm9yIiwibWVzc2FnZSIsInBsYXlzSW5saW5lIiwibXV0ZWQiLCJhdXRvcGxheSIsInNyY09iamVjdCIsInBsYXkiLCJwbGF5RXJyb3IiLCJpbmNsdWRlcyIsInN0b3BDYW1lcmEiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwicHJldkZwcyIsIm5ld0ZwcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInVwZGF0ZURpbWVuc2lvbnMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUxvYWRlZE1ldGFkYXRhIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiYXNwZWN0UmF0aW8iLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lckhlaWdodCIsInN0eWxlIiwic3RhcnRQcm9jZXNzaW5nIiwiZmFjZURldGVjdGVkIiwiZHJhd0JvdW5kaW5nQm94IiwiZHJhd0hlYWRQb3NlIiwiZHJhd0ZhY2VNYXNrIiwiZHJhd1BhcmFtZXRlcnMiLCJjZW50ZXJYIiwiY2VudGVyWSIsImJveFdpZHRoIiwiYm94SGVpZ2h0Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwicGl0Y2giLCJ5YXciLCJyb2xsIiwidGltZSIsIkRhdGUiLCJub3ciLCJsZW5ndGgiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzaW4iLCJzdHJva2UiLCJjb3MiLCJwb2ludHMiLCJyYWRpdXMiLCJtaW4iLCJmaWxsU3R5bGUiLCJhcmMiLCJQSSIsImZpbGwiLCJleWVSYWRpdXMiLCJleWVPZmZzZXRYIiwiZXllT2Zmc2V0WSIsImZpbGxSZWN0IiwiZm9udCIsImZpbGxUZXh0IiwiZGl2IiwicmVmIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93Iiwib3ZlcmZsb3ciLCJ6SW5kZXgiLCJvYmplY3RGaXQiLCJvcGFjaXR5IiwiYXV0b1BsYXkiLCJwb2ludGVyRXZlbnRzIiwiZGlzcGxheSIsInJpZ2h0IiwiZ2FwIiwiYnV0dG9uIiwib25DbGljayIsInBhZGRpbmciLCJjb2xvciIsImJvcmRlciIsImN1cnNvciIsInRyYW5zaXRpb24iLCJDYW1lcmFBY2Nlc3MiLCJzc3IiLCJsb2FkaW5nIiwiYmFja2dyb3VuZCIsImZsZXhEaXJlY3Rpb24iLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsInAiLCJmb250V2VpZ2h0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\n"));

/***/ })

});
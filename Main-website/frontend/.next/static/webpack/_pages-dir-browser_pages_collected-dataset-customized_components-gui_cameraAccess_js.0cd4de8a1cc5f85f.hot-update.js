"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_pages_collected-dataset-customized_components-gui_cameraAccess_js",{

/***/ "(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js":
/*!***************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/cameraAccess.js ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-browser)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-browser)/./components/collected-dataset-customized/Helper/savefile.js\");\n// Unified Camera Access Component\n\nvar _s = $RefreshSig$();\n\n\n\n// Create the main camera component\nconst CameraAccessComponent = (param)=>{\n    let { isShowing, onClose, onCameraReady, showHeadPose = false, showBoundingBox = false, showMask = false, showParameters = false } = param;\n    _s();\n    console.log('CameraAccessComponent props:', {\n        isShowing,\n        showHeadPose,\n        showBoundingBox,\n        showMask,\n        showParameters\n    });\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [fps, setFps] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const fpsTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const processingInterval = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [isVideoReady, setIsVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [processingResults, setProcessingResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const frameQueue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const isProcessing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [wsStatus, setWsStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('disconnected');\n    const [isLinked, setIsLinked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // WebSocket connection\n    const connectWebSocket = ()=>{\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            console.log('WebSocket already connected');\n            return;\n        }\n        setWsStatus('connecting');\n        try {\n            // Connect to FastAPI WebSocket endpoint\n            const ws = new WebSocket('ws://localhost:8000/ws/video');\n            wsRef.current = ws;\n            // Set a connection timeout\n            const connectionTimeout = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) {\n                    console.error('WebSocket connection timeout');\n                    ws.close();\n                    setWsStatus('error');\n                    setErrorMessage('Connection timeout. Please check if the backend server is running.');\n                    setIsLinked(false);\n                }\n            }, 5000);\n            ws.onopen = ()=>{\n                console.log('WebSocket connected to FastAPI backend');\n                clearTimeout(connectionTimeout);\n                setWsStatus('connected');\n                setErrorMessage('');\n                setIsLinked(true);\n                if (isVideoReady) {\n                    processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                }\n            };\n            ws.onmessage = (event)=>{\n                try {\n                    const result = JSON.parse(event.data);\n                    setProcessingResults(result);\n                // drawResults(result);\n                } catch (error) {\n                    console.error('Error parsing WebSocket message:', error);\n                }\n            };\n            ws.onerror = (error)=>{\n                console.error('WebSocket error:', error);\n                clearTimeout(connectionTimeout);\n                setWsStatus('error');\n                setErrorMessage('Failed to connect to FastAPI backend. Please check if the server is running.');\n                setIsLinked(false);\n            };\n            ws.onclose = (event)=>{\n                console.log('WebSocket disconnected:', event.code, event.reason);\n                clearTimeout(connectionTimeout);\n                setWsStatus('disconnected');\n                setIsLinked(false);\n                // Stop frame processing\n                if (processingInterval.current) {\n                    clearInterval(processingInterval.current);\n                    processingInterval.current = null;\n                }\n                // If the connection was closed due to an error, show error message\n                if (event.code !== 1000) {\n                    setErrorMessage(\"WebSocket connection closed: \".concat(event.reason || 'Unknown reason'));\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            setWsStatus('error');\n            setErrorMessage('Failed to create WebSocket connection. Please check your network connection.');\n            setIsLinked(false);\n        }\n    };\n    const disconnectWebSocket = ()=>{\n        if (wsRef.current) {\n            wsRef.current.close(1000, 'User requested disconnect');\n            wsRef.current = null;\n            setWsStatus('disconnected');\n            setIsLinked(false);\n            // Stop frame processing\n            if (processingInterval.current) {\n                clearInterval(processingInterval.current);\n                processingInterval.current = null;\n            }\n            // Clear the canvas to remove any overlays\n            if (canvasRef.current) {\n                const ctx = canvasRef.current.getContext('2d');\n                ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) {\n                disconnectWebSocket();\n                return;\n            }\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    disconnectWebSocket();\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Frame capture and processing\n    const captureAndProcessFrame = ()=>{\n        if (!videoRef.current || !canvasRef.current || !isVideoReady || !wsRef.current) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Only draw on canvas if WebSocket is connected\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Convert canvas to blob with high quality\n            canvas.toBlob((blob)=>{\n                if (blob && wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n                    // Send frame to backend\n                    wsRef.current.send(blob);\n                }\n            }, 'image/jpeg', 0.95);\n        }\n    };\n    // Start camera with highest resolution\n    const startCamera = async ()=>{\n        setErrorMessage('');\n        setIsVideoReady(false);\n        try {\n            // 1. Enhanced Browser Environment Check\n            if (false) {}\n            if (typeof navigator === 'undefined') {\n                throw new Error('Navigator object not available - not running in a browser environment');\n            }\n            // 2. Comprehensive Browser Detection\n            const userAgent = navigator.userAgent.toLowerCase();\n            const browserInfo = {\n                isChrome: /chrome/.test(userAgent) && !/edge/.test(userAgent),\n                isFirefox: /firefox/.test(userAgent),\n                isSafari: /safari/.test(userAgent) && !/chrome/.test(userAgent),\n                isEdge: /edge/.test(userAgent),\n                isOpera: /opr/.test(userAgent),\n                isIE: /trident/.test(userAgent),\n                isMobile: /mobile|android|iphone|ipad|phone/i.test(userAgent),\n                version: userAgent.match(/(chrome|firefox|safari|edge|opr)\\/([0-9]+)/)\n            };\n            console.log('Browser Info:', browserInfo);\n            // 3. Initialize MediaDevices API\n            if (!navigator.mediaDevices) {\n                console.warn('MediaDevices API not available, initializing...');\n                navigator.mediaDevices = {};\n            }\n            // 4. Enhanced MediaDevices Support\n            if (!navigator.mediaDevices.getUserMedia) {\n                console.warn('getUserMedia not available, checking implementations...');\n                // Try all possible implementations\n                const implementations = {\n                    standard: navigator.mediaDevices.getUserMedia,\n                    webkit: navigator.webkitGetUserMedia || navigator.mediaDevices.webkitGetUserMedia,\n                    moz: navigator.mozGetUserMedia || navigator.mediaDevices.mozGetUserMedia,\n                    ms: navigator.msGetUserMedia || navigator.mediaDevices.msGetUserMedia,\n                    legacy: navigator.getUserMedia\n                };\n                console.log('Available implementations:', Object.keys(implementations).filter((key)=>implementations[key]));\n                // Try to find a working implementation\n                let getUserMedia = null;\n                let implementationName = null;\n                for (const [name, impl] of Object.entries(implementations)){\n                    if (impl) {\n                        getUserMedia = impl;\n                        implementationName = name;\n                        break;\n                    }\n                }\n                if (getUserMedia) {\n                    console.log(\"Using \".concat(implementationName, \" implementation of getUserMedia\"));\n                    // Wrap the implementation in a Promise\n                    navigator.mediaDevices.getUserMedia = function(constraints) {\n                        return new Promise((resolve, reject)=>{\n                            if (implementationName === 'standard') {\n                                getUserMedia.call(navigator.mediaDevices, constraints).then(resolve).catch(reject);\n                            } else {\n                                getUserMedia.call(navigator, constraints, resolve, reject);\n                            }\n                        });\n                    };\n                } else {\n                    // Provide specific guidance based on browser\n                    if (browserInfo.isMobile) {\n                        throw new Error('Camera access on mobile devices requires HTTPS. Please use a secure connection.');\n                    } else if (browserInfo.isIE) {\n                        throw new Error('Internet Explorer does not support camera access. Please use Chrome, Firefox, or Edge.');\n                    } else if (browserInfo.isSafari) {\n                        throw new Error('Safari requires HTTPS for camera access. Please use a secure connection or try Chrome/Firefox.');\n                    } else {\n                        throw new Error('Camera access not supported in this browser. Please use Chrome, Firefox, or Edge.');\n                    }\n                }\n            }\n            // 5. Check Security Context\n            const isSecure = window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || \"development\" === 'development';\n            if (!isSecure) {\n                throw new Error(\"Camera access requires HTTPS or localhost. Current protocol: \".concat(window.location.protocol, \", hostname: \").concat(window.location.hostname));\n            }\n            // 6. Enhanced Permission Handling\n            let permissionStatus = 'prompt';\n            try {\n                if (navigator.permissions && navigator.permissions.query) {\n                    const permissionResult = await navigator.permissions.query({\n                        name: 'camera'\n                    });\n                    permissionStatus = permissionResult.state;\n                    console.log('Camera permission status:', permissionStatus);\n                    permissionResult.onchange = ()=>{\n                        console.log('Camera permission changed to:', permissionResult.state);\n                        permissionStatus = permissionResult.state;\n                    };\n                }\n            } catch (permissionError) {\n                console.warn('Could not check camera permissions:', permissionError);\n            }\n            // 7. Handle Permission States\n            if (permissionStatus === 'denied') {\n                throw new Error('Camera access has been permanently denied. Please update your browser settings to allow camera access.');\n            }\n            // 8. Get Camera Constraints\n            console.log('Starting camera access with highest resolution...');\n            const constraints = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_3__.getHighestResolutionConstraints)();\n            console.log('Using camera constraints:', constraints);\n            // 9. Add Fallback Constraints\n            const fallbackConstraints = {\n                video: {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: 'user',\n                    frameRate: {\n                        ideal: 30\n                    }\n                },\n                audio: false\n            };\n            // 10. Try to Access Camera with Permission Handling\n            let mediaStream;\n            try {\n                console.log('Attempting to access camera with high resolution...');\n                mediaStream = await navigator.mediaDevices.getUserMedia({\n                    ...constraints,\n                    audio: false\n                });\n            } catch (error) {\n                console.warn('Failed to get high resolution stream, trying fallback constraints:', error);\n                try {\n                    console.log('Attempting to access camera with fallback constraints...');\n                    mediaStream = await navigator.mediaDevices.getUserMedia(fallbackConstraints);\n                } catch (fallbackError) {\n                    console.error('Failed to get camera access with fallback constraints:', fallbackError);\n                    // Provide specific guidance based on error type\n                    if (fallbackError.name === 'NotAllowedError') {\n                        if (permissionStatus === 'prompt') {\n                            throw new Error('Camera access was denied. Please allow camera access when prompted by your browser.');\n                        } else {\n                            throw new Error('Camera access has been blocked. Please check your browser settings and allow camera access for this site.');\n                        }\n                    } else if (fallbackError.name === 'NotFoundError') {\n                        throw new Error('No camera found. Please connect a camera and try again.');\n                    } else if (fallbackError.name === 'NotReadableError') {\n                        throw new Error('Camera is already in use by another application. Please close other applications using the camera.');\n                    } else {\n                        throw new Error(\"Camera access error: \".concat(fallbackError.message));\n                    }\n                }\n            }\n            console.log('Camera access granted successfully!');\n            setStream(mediaStream);\n            // 11. Setup Video Element\n            if (videoRef.current) {\n                videoRef.current.playsInline = true;\n                videoRef.current.muted = true;\n                videoRef.current.autoplay = true;\n                videoRef.current.srcObject = mediaStream;\n                try {\n                    await videoRef.current.play();\n                    console.log('Video playing successfully!');\n                    setIsVideoReady(true);\n                    if (wsStatus === 'connected') {\n                        processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                    }\n                } catch (playError) {\n                    console.error('Error playing video:', playError);\n                    throw new Error('Unable to start video stream: ' + playError.message);\n                }\n            }\n        } catch (error) {\n            console.error('Camera access error:', error);\n            let errorMessage = 'Camera error: ';\n            if (error.name === 'NotAllowedError') {\n                errorMessage += 'Camera access was denied. Please allow camera access in your browser settings.';\n            } else if (error.name === 'NotFoundError') {\n                errorMessage += 'No camera found. Please connect a camera and try again.';\n            } else if (error.name === 'NotReadableError') {\n                errorMessage += 'Camera is already in use by another application.';\n            } else if (error.name === 'OverconstrainedError') {\n                errorMessage += 'Camera does not support the requested resolution.';\n            } else if (error.message === 'getUserMedia is not implemented in this browser') {\n                errorMessage += 'Your browser does not support camera access. Please try using a modern browser like Chrome, Firefox, or Edge.';\n            } else if (error.message.includes('HTTPS')) {\n                errorMessage += 'Camera access requires HTTPS or localhost. Please use HTTPS or run the application on localhost.';\n            } else if (error.message.includes('permanently denied')) {\n                errorMessage += 'Camera access has been permanently denied. Please update your browser settings.';\n            } else {\n                errorMessage += error.message || 'Unknown error';\n            }\n            setErrorMessage(errorMessage);\n        }\n    };\n    const stopCamera = ()=>{\n        // Stop all tracks in the stream\n        if (stream) {\n            stream.getTracks().forEach((track)=>track.stop());\n            setStream(null);\n        }\n        // Clear video source\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n        // Clear processing interval\n        if (processingInterval.current) {\n            clearInterval(processingInterval.current);\n            processingInterval.current = null;\n        }\n        setIsVideoReady(false);\n    };\n    // Start camera on component mount if isShowing is true\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (isShowing) {\n                startCamera();\n            } else {\n                stopCamera();\n            }\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    stopCamera();\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Setup FPS counter\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) return;\n            fpsTimerRef.current = setInterval({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    setFps({\n                        \"CameraAccessComponent.useEffect\": (prevFps)=>{\n                            // Simple mock for fps counter\n                            const newFps = Math.floor(Math.random() * 10) + 25; // Random between 25-35 fps\n                            return newFps;\n                        }\n                    }[\"CameraAccessComponent.useEffect\"]);\n                }\n            }[\"CameraAccessComponent.useEffect\"], 1000);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    if (fpsTimerRef.current) {\n                        clearInterval(fpsTimerRef.current);\n                    }\n                    if (processingInterval.current) {\n                        clearInterval(processingInterval.current);\n                    }\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Update dimensions when container size changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) return;\n            const updateDimensions = {\n                \"CameraAccessComponent.useEffect.updateDimensions\": ()=>{\n                    if (containerRef.current) {\n                        const { width, height } = containerRef.current.getBoundingClientRect();\n                        setDimensions({\n                            width,\n                            height\n                        });\n                    }\n                }\n            }[\"CameraAccessComponent.useEffect.updateDimensions\"];\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Handle video element ready state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing || !videoRef.current || !stream) return;\n            const video = videoRef.current;\n            const handleLoadedMetadata = {\n                \"CameraAccessComponent.useEffect.handleLoadedMetadata\": ()=>{\n                    console.log('Video metadata loaded');\n                    setIsVideoReady(true);\n                    // Get video dimensions\n                    const videoWidth = video.videoWidth || 640;\n                    const videoHeight = video.videoHeight || 480;\n                    console.log(\"Video dimensions: \".concat(videoWidth, \"x\").concat(videoHeight));\n                    // Setup canvas for processing\n                    if (canvasRef.current) {\n                        // Store actual dimensions for capture\n                        canvasRef.current.width = videoWidth;\n                        canvasRef.current.height = videoHeight;\n                        // Set display size to maintain aspect ratio\n                        const aspectRatio = videoWidth / videoHeight;\n                        const containerWidth = dimensions.width;\n                        const containerHeight = containerWidth / aspectRatio;\n                        canvasRef.current.style.width = \"\".concat(containerWidth, \"px\");\n                        canvasRef.current.style.height = \"\".concat(containerHeight, \"px\");\n                    }\n                    // Start processing frames\n                    startProcessing();\n                    // Notify parent component that camera is ready\n                    if (onCameraReady) {\n                        onCameraReady({\n                            width: videoWidth,\n                            height: videoHeight\n                        });\n                    }\n                }\n            }[\"CameraAccessComponent.useEffect.handleLoadedMetadata\"];\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        stream,\n        isShowing,\n        dimensions,\n        onCameraReady\n    ]);\n    const startProcessing = ()=>{\n        if (!canvasRef.current || !videoRef.current || !isVideoReady) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Start processing frames at ~30fps\n        processingInterval.current = setInterval(()=>{\n            if (video.readyState !== 4) return;\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Simulate face detection (90% chance of face detected)\n            const faceDetected = Math.random() > 0.1;\n            // Draw visualizations based on enabled options\n            if (faceDetected) {\n                if (showBoundingBox) {\n                    drawBoundingBox(ctx, canvas);\n                }\n                if (showHeadPose) {\n                    drawHeadPose(ctx, canvas);\n                }\n                if (showMask) {\n                    drawFaceMask(ctx, canvas);\n                }\n            }\n            // Display parameters if enabled\n            if (showParameters) {\n                drawParameters(ctx, canvas, faceDetected);\n            }\n        }, 33); // ~30fps\n    };\n    // Helper function to draw bounding box\n    const drawBoundingBox = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const boxWidth = canvas.width * 0.6;\n        const boxHeight = canvas.height * 0.8;\n        ctx.strokeStyle = 'rgba(255, 255, 0, 0.7)';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(centerX - boxWidth / 2, centerY - boxHeight / 2, boxWidth, boxHeight);\n    };\n    // Helper function to draw head pose axes\n    const drawHeadPose = (ctx, canvas, pitch, yaw, roll)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const time = Date.now() / 1000;\n        const length = canvas.width * 0.1;\n        // X axis (red)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length * Math.sin(time), centerY);\n        ctx.strokeStyle = 'red';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Y axis (green)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX, centerY + length * Math.sin(time + 1));\n        ctx.strokeStyle = 'green';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Z axis (blue)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length / 2 * Math.sin(time + 2), centerY - length / 2 * Math.cos(time + 2));\n        ctx.strokeStyle = 'blue';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n    };\n    // Helper function to draw face mask\n    const drawFaceMask = (ctx, canvas, points)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const radius = Math.min(canvas.width, canvas.height) * 0.2;\n        // Draw mask\n        ctx.fillStyle = 'rgba(0, 255, 255, 0.2)';\n        ctx.beginPath();\n        ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw eyes\n        const eyeRadius = radius * 0.2;\n        const eyeOffsetX = radius * 0.3;\n        const eyeOffsetY = radius * 0.1;\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n        // Left eye\n        ctx.beginPath();\n        ctx.arc(centerX - eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n        // Right eye\n        ctx.beginPath();\n        ctx.arc(centerX + eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n    };\n    // Helper function to draw parameters\n    const drawParameters = (ctx, canvas, faceDetected)=>{\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(5, canvas.height - 60, 150, 50);\n        ctx.font = '12px Arial';\n        ctx.fillStyle = 'white';\n        ctx.fillText(\"Resolution: \".concat(canvas.width, \"x\").concat(canvas.height), 10, canvas.height - 40);\n        ctx.fillText(\"FPS: \".concat(fps), 10, canvas.height - 25);\n        ctx.fillText(\"Face: \".concat(faceDetected ? 'Detected' : 'Not Detected'), 10, canvas.height - 10);\n    };\n    if (!isShowing) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: '30vw',\n            height: '30vh',\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n            overflow: 'hidden',\n            zIndex: 1000\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover',\n                    transform: 'scaleX(-1)',\n                    opacity: 1,\n                    zIndex: 1\n                },\n                playsInline: true,\n                muted: true,\n                autoPlay: true\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 689,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    zIndex: 2,\n                    pointerEvents: 'none',\n                    display: isLinked ? 'block' : 'none'\n                }\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 703,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '10px',\n                    right: '10px',\n                    display: 'flex',\n                    gap: '10px',\n                    zIndex: 3\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease',\n                            zIndex: 3\n                        },\n                        children: \"Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 724,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            if (isLinked) {\n                                disconnectWebSocket();\n                            } else {\n                                connectWebSocket();\n                            }\n                        },\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: isLinked ? 'rgba(255, 0, 0, 0.7)' : 'rgba(0, 255, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease',\n                            zIndex: 3\n                        },\n                        children: isLinked ? 'Unlink' : 'Link'\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 740,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 716,\n                columnNumber: 7\n            }, undefined),\n            wsStatus === 'error' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '50px',\n                    right: '10px',\n                    padding: '8px 12px',\n                    backgroundColor: 'rgba(255, 0, 0, 0.7)',\n                    color: 'white',\n                    borderRadius: '4px',\n                    zIndex: 3\n                },\n                children: [\n                    \"Connection Error: \",\n                    errorMessage\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 764,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n        lineNumber: 673,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CameraAccessComponent, \"hnEdnO3if4n0OeprCUNkmnm42m0=\");\n_c = CameraAccessComponent;\n// Create the dynamic import wrapper with SSR disabled\nconst CameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(_c1 = ()=>Promise.resolve(CameraAccessComponent), {\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                background: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                    lineNumber: 804,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                    lineNumber: 805,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n            lineNumber: 787,\n            columnNumber: 7\n        }, undefined)\n});\n_c2 = CameraAccess;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CameraAccess);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"CameraAccessComponent\");\n$RefreshReg$(_c1, \"CameraAccess$dynamic\");\n$RefreshReg$(_c2, \"CameraAccess\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsa0NBQWtDOzs7QUFDeUI7QUFDeEI7QUFDZ0Y7QUFFbkgsbUNBQW1DO0FBQ25DLE1BQU1NLHdCQUF3QjtRQUFDLEVBQzdCQyxTQUFTLEVBQ1RDLE9BQU8sRUFDUEMsYUFBYSxFQUNiQyxlQUFlLEtBQUssRUFDcEJDLGtCQUFrQixLQUFLLEVBQ3ZCQyxXQUFXLEtBQUssRUFDaEJDLGlCQUFpQixLQUFLLEVBQ3ZCOztJQUNDQyxRQUFRQyxHQUFHLENBQUMsZ0NBQWdDO1FBQUVSO1FBQVdHO1FBQWNDO1FBQWlCQztRQUFVQztJQUFlO0lBRWpILE1BQU1HLFdBQVdkLDZDQUFNQSxDQUFDO0lBQ3hCLE1BQU1lLFlBQVlmLDZDQUFNQSxDQUFDO0lBQ3pCLE1BQU1nQixlQUFlaEIsNkNBQU1BLENBQUM7SUFDNUIsTUFBTWlCLFFBQVFqQiw2Q0FBTUEsQ0FBQztJQUNyQixNQUFNLENBQUNrQixRQUFRQyxVQUFVLEdBQUdsQiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNtQixjQUFjQyxnQkFBZ0IsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3FCLEtBQUtDLE9BQU8sR0FBR3RCLCtDQUFRQSxDQUFDO0lBQy9CLE1BQU11QixjQUFjeEIsNkNBQU1BLENBQUM7SUFDM0IsTUFBTXlCLHFCQUFxQnpCLDZDQUFNQSxDQUFDO0lBQ2xDLE1BQU0sQ0FBQzBCLFlBQVlDLGNBQWMsR0FBRzFCLCtDQUFRQSxDQUFDO1FBQUUyQixPQUFPO1FBQUdDLFFBQVE7SUFBRTtJQUNuRSxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHOUIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDK0IsbUJBQW1CQyxxQkFBcUIsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQzNELE1BQU1pQyxhQUFhbEMsNkNBQU1BLENBQUMsRUFBRTtJQUM1QixNQUFNbUMsZUFBZW5DLDZDQUFNQSxDQUFDO0lBQzVCLE1BQU0sQ0FBQ29DLFVBQVVDLFlBQVksR0FBR3BDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ3FDLFVBQVVDLFlBQVksR0FBR3RDLCtDQUFRQSxDQUFDO0lBRXpDLHVCQUF1QjtJQUN2QixNQUFNdUMsbUJBQW1CO1FBQ3ZCLElBQUl2QixNQUFNd0IsT0FBTyxJQUFJeEIsTUFBTXdCLE9BQU8sQ0FBQ0MsVUFBVSxLQUFLQyxVQUFVQyxJQUFJLEVBQUU7WUFDaEVoQyxRQUFRQyxHQUFHLENBQUM7WUFDWjtRQUNGO1FBRUF3QixZQUFZO1FBQ1osSUFBSTtZQUNGLHdDQUF3QztZQUN4QyxNQUFNUSxLQUFLLElBQUlGLFVBQVU7WUFDekIxQixNQUFNd0IsT0FBTyxHQUFHSTtZQUVoQiwyQkFBMkI7WUFDM0IsTUFBTUMsb0JBQW9CQyxXQUFXO2dCQUNuQyxJQUFJRixHQUFHSCxVQUFVLEtBQUtDLFVBQVVDLElBQUksRUFBRTtvQkFDcENoQyxRQUFRb0MsS0FBSyxDQUFDO29CQUNkSCxHQUFHSSxLQUFLO29CQUNSWixZQUFZO29CQUNaaEIsZ0JBQWdCO29CQUNoQmtCLFlBQVk7Z0JBQ2Q7WUFDRixHQUFHO1lBRUhNLEdBQUdLLE1BQU0sR0FBRztnQkFDVnRDLFFBQVFDLEdBQUcsQ0FBQztnQkFDWnNDLGFBQWFMO2dCQUNiVCxZQUFZO2dCQUNaaEIsZ0JBQWdCO2dCQUNoQmtCLFlBQVk7Z0JBQ1osSUFBSVQsY0FBYztvQkFDaEJMLG1CQUFtQmdCLE9BQU8sR0FBR1csWUFBWUMsd0JBQXdCO2dCQUNuRTtZQUNGO1lBRUFSLEdBQUdTLFNBQVMsR0FBRyxDQUFDQztnQkFDZCxJQUFJO29CQUNGLE1BQU1DLFNBQVNDLEtBQUtDLEtBQUssQ0FBQ0gsTUFBTUksSUFBSTtvQkFDcEMxQixxQkFBcUJ1QjtnQkFDckIsdUJBQXVCO2dCQUN6QixFQUFFLE9BQU9SLE9BQU87b0JBQ2RwQyxRQUFRb0MsS0FBSyxDQUFDLG9DQUFvQ0E7Z0JBQ3BEO1lBQ0Y7WUFFQUgsR0FBR2UsT0FBTyxHQUFHLENBQUNaO2dCQUNacEMsUUFBUW9DLEtBQUssQ0FBQyxvQkFBb0JBO2dCQUNsQ0csYUFBYUw7Z0JBQ2JULFlBQVk7Z0JBQ1poQixnQkFBZ0I7Z0JBQ2hCa0IsWUFBWTtZQUNkO1lBRUFNLEdBQUdnQixPQUFPLEdBQUcsQ0FBQ047Z0JBQ1ozQyxRQUFRQyxHQUFHLENBQUMsMkJBQTJCMEMsTUFBTU8sSUFBSSxFQUFFUCxNQUFNUSxNQUFNO2dCQUMvRFosYUFBYUw7Z0JBQ2JULFlBQVk7Z0JBQ1pFLFlBQVk7Z0JBQ1osd0JBQXdCO2dCQUN4QixJQUFJZCxtQkFBbUJnQixPQUFPLEVBQUU7b0JBQzlCdUIsY0FBY3ZDLG1CQUFtQmdCLE9BQU87b0JBQ3hDaEIsbUJBQW1CZ0IsT0FBTyxHQUFHO2dCQUMvQjtnQkFFQSxtRUFBbUU7Z0JBQ25FLElBQUljLE1BQU1PLElBQUksS0FBSyxNQUFNO29CQUN2QnpDLGdCQUFnQixnQ0FBaUUsT0FBakNrQyxNQUFNUSxNQUFNLElBQUk7Z0JBQ2xFO1lBQ0Y7UUFDRixFQUFFLE9BQU9mLE9BQU87WUFDZHBDLFFBQVFvQyxLQUFLLENBQUMsNkJBQTZCQTtZQUMzQ1gsWUFBWTtZQUNaaEIsZ0JBQWdCO1lBQ2hCa0IsWUFBWTtRQUNkO0lBQ0Y7SUFFQSxNQUFNMEIsc0JBQXNCO1FBQzFCLElBQUloRCxNQUFNd0IsT0FBTyxFQUFFO1lBQ2pCeEIsTUFBTXdCLE9BQU8sQ0FBQ1EsS0FBSyxDQUFDLE1BQU07WUFDMUJoQyxNQUFNd0IsT0FBTyxHQUFHO1lBQ2hCSixZQUFZO1lBQ1pFLFlBQVk7WUFDWix3QkFBd0I7WUFDeEIsSUFBSWQsbUJBQW1CZ0IsT0FBTyxFQUFFO2dCQUM5QnVCLGNBQWN2QyxtQkFBbUJnQixPQUFPO2dCQUN4Q2hCLG1CQUFtQmdCLE9BQU8sR0FBRztZQUMvQjtZQUNBLDBDQUEwQztZQUMxQyxJQUFJMUIsVUFBVTBCLE9BQU8sRUFBRTtnQkFDckIsTUFBTXlCLE1BQU1uRCxVQUFVMEIsT0FBTyxDQUFDMEIsVUFBVSxDQUFDO2dCQUN6Q0QsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR3JELFVBQVUwQixPQUFPLENBQUNiLEtBQUssRUFBRWIsVUFBVTBCLE9BQU8sQ0FBQ1osTUFBTTtZQUN2RTtRQUNGO0lBQ0Y7SUFFQTlCLGdEQUFTQTsyQ0FBQztZQUNSLElBQUksQ0FBQ00sV0FBVztnQkFDZDREO2dCQUNBO1lBQ0Y7WUFFQTttREFBTztvQkFDTEE7Z0JBQ0Y7O1FBQ0Y7MENBQUc7UUFBQzVEO0tBQVU7SUFFZCwrQkFBK0I7SUFDL0IsTUFBTWdELHlCQUF5QjtRQUM3QixJQUFJLENBQUN2QyxTQUFTMkIsT0FBTyxJQUFJLENBQUMxQixVQUFVMEIsT0FBTyxJQUFJLENBQUNYLGdCQUFnQixDQUFDYixNQUFNd0IsT0FBTyxFQUFFO1FBRWhGLE1BQU00QixRQUFRdkQsU0FBUzJCLE9BQU87UUFDOUIsTUFBTTZCLFNBQVN2RCxVQUFVMEIsT0FBTztRQUNoQyxNQUFNeUIsTUFBTUksT0FBT0gsVUFBVSxDQUFDO1FBRTlCLGdEQUFnRDtRQUNoRCxJQUFJbEQsTUFBTXdCLE9BQU8sSUFBSXhCLE1BQU13QixPQUFPLENBQUNDLFVBQVUsS0FBS0MsVUFBVUMsSUFBSSxFQUFFO1lBQ2hFLGVBQWU7WUFDZnNCLElBQUlFLFNBQVMsQ0FBQyxHQUFHLEdBQUdFLE9BQU8xQyxLQUFLLEVBQUUwQyxPQUFPekMsTUFBTTtZQUUvQyxpQ0FBaUM7WUFDakNxQyxJQUFJSyxJQUFJO1lBRVIsb0RBQW9EO1lBQ3BETCxJQUFJTSxTQUFTLENBQUNGLE9BQU8xQyxLQUFLLEVBQUU7WUFDNUJzQyxJQUFJTyxLQUFLLENBQUMsQ0FBQyxHQUFHO1lBRWQsZ0RBQWdEO1lBQ2hEUCxJQUFJUSxTQUFTLENBQUNMLE9BQU8sR0FBRyxHQUFHQyxPQUFPMUMsS0FBSyxFQUFFMEMsT0FBT3pDLE1BQU07WUFFdEQsNEJBQTRCO1lBQzVCcUMsSUFBSVMsT0FBTztZQUVYLDJDQUEyQztZQUMzQ0wsT0FBT00sTUFBTSxDQUFDLENBQUNDO2dCQUNiLElBQUlBLFFBQVE1RCxNQUFNd0IsT0FBTyxJQUFJeEIsTUFBTXdCLE9BQU8sQ0FBQ0MsVUFBVSxLQUFLQyxVQUFVQyxJQUFJLEVBQUU7b0JBQ3hFLHdCQUF3QjtvQkFDeEIzQixNQUFNd0IsT0FBTyxDQUFDcUMsSUFBSSxDQUFDRDtnQkFDckI7WUFDRixHQUFHLGNBQWM7UUFDbkI7SUFDRjtJQUVBLHVDQUF1QztJQUN2QyxNQUFNRSxjQUFjO1FBQ2xCMUQsZ0JBQWdCO1FBQ2hCVSxnQkFBZ0I7UUFFaEIsSUFBSTtZQUNGLHdDQUF3QztZQUN4QyxJQUFJLEtBQTZCLEVBQUUsRUFFbEM7WUFFRCxJQUFJLE9BQU9rRCxjQUFjLGFBQWE7Z0JBQ3BDLE1BQU0sSUFBSUQsTUFBTTtZQUNsQjtZQUVBLHFDQUFxQztZQUNyQyxNQUFNRSxZQUFZRCxVQUFVQyxTQUFTLENBQUNDLFdBQVc7WUFDakQsTUFBTUMsY0FBYztnQkFDbEJDLFVBQVUsU0FBU0MsSUFBSSxDQUFDSixjQUFjLENBQUMsT0FBT0ksSUFBSSxDQUFDSjtnQkFDbkRLLFdBQVcsVUFBVUQsSUFBSSxDQUFDSjtnQkFDMUJNLFVBQVUsU0FBU0YsSUFBSSxDQUFDSixjQUFjLENBQUMsU0FBU0ksSUFBSSxDQUFDSjtnQkFDckRPLFFBQVEsT0FBT0gsSUFBSSxDQUFDSjtnQkFDcEJRLFNBQVMsTUFBTUosSUFBSSxDQUFDSjtnQkFDcEJTLE1BQU0sVUFBVUwsSUFBSSxDQUFDSjtnQkFDckJVLFVBQVUsb0NBQW9DTixJQUFJLENBQUNKO2dCQUNuRFcsU0FBU1gsVUFBVVksS0FBSyxDQUFDO1lBQzNCO1lBRUFsRixRQUFRQyxHQUFHLENBQUMsaUJBQWlCdUU7WUFFN0IsaUNBQWlDO1lBQ2pDLElBQUksQ0FBQ0gsVUFBVWMsWUFBWSxFQUFFO2dCQUMzQm5GLFFBQVFvRixJQUFJLENBQUM7Z0JBQ2JmLFVBQVVjLFlBQVksR0FBRyxDQUFDO1lBQzVCO1lBRUEsbUNBQW1DO1lBQ25DLElBQUksQ0FBQ2QsVUFBVWMsWUFBWSxDQUFDRSxZQUFZLEVBQUU7Z0JBQ3hDckYsUUFBUW9GLElBQUksQ0FBQztnQkFFYixtQ0FBbUM7Z0JBQ25DLE1BQU1FLGtCQUFrQjtvQkFDdEJDLFVBQVVsQixVQUFVYyxZQUFZLENBQUNFLFlBQVk7b0JBQzdDRyxRQUFRbkIsVUFBVW9CLGtCQUFrQixJQUFJcEIsVUFBVWMsWUFBWSxDQUFDTSxrQkFBa0I7b0JBQ2pGQyxLQUFLckIsVUFBVXNCLGVBQWUsSUFBSXRCLFVBQVVjLFlBQVksQ0FBQ1EsZUFBZTtvQkFDeEVDLElBQUl2QixVQUFVd0IsY0FBYyxJQUFJeEIsVUFBVWMsWUFBWSxDQUFDVSxjQUFjO29CQUNyRUMsUUFBUXpCLFVBQVVnQixZQUFZO2dCQUNoQztnQkFFQXJGLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEI4RixPQUFPQyxJQUFJLENBQUNWLGlCQUFpQlcsTUFBTSxDQUFDQyxDQUFBQSxNQUFPWixlQUFlLENBQUNZLElBQUk7Z0JBRXpHLHVDQUF1QztnQkFDdkMsSUFBSWIsZUFBZTtnQkFDbkIsSUFBSWMscUJBQXFCO2dCQUV6QixLQUFLLE1BQU0sQ0FBQ0MsTUFBTUMsS0FBSyxJQUFJTixPQUFPTyxPQUFPLENBQUNoQixpQkFBa0I7b0JBQzFELElBQUllLE1BQU07d0JBQ1JoQixlQUFlZ0I7d0JBQ2ZGLHFCQUFxQkM7d0JBQ3JCO29CQUNGO2dCQUNGO2dCQUVBLElBQUlmLGNBQWM7b0JBQ2hCckYsUUFBUUMsR0FBRyxDQUFDLFNBQTRCLE9BQW5Ca0csb0JBQW1CO29CQUV4Qyx1Q0FBdUM7b0JBQ3ZDOUIsVUFBVWMsWUFBWSxDQUFDRSxZQUFZLEdBQUcsU0FBU2tCLFdBQVc7d0JBQ3hELE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQzs0QkFDM0IsSUFBSVAsdUJBQXVCLFlBQVk7Z0NBQ3JDZCxhQUFhc0IsSUFBSSxDQUFDdEMsVUFBVWMsWUFBWSxFQUFFb0IsYUFDdkNLLElBQUksQ0FBQ0gsU0FDTEksS0FBSyxDQUFDSDs0QkFDWCxPQUFPO2dDQUNMckIsYUFBYXNCLElBQUksQ0FBQ3RDLFdBQVdrQyxhQUFhRSxTQUFTQzs0QkFDckQ7d0JBQ0Y7b0JBQ0Y7Z0JBQ0YsT0FBTztvQkFDTCw2Q0FBNkM7b0JBQzdDLElBQUlsQyxZQUFZUSxRQUFRLEVBQUU7d0JBQ3hCLE1BQU0sSUFBSVosTUFBTTtvQkFDbEIsT0FBTyxJQUFJSSxZQUFZTyxJQUFJLEVBQUU7d0JBQzNCLE1BQU0sSUFBSVgsTUFBTTtvQkFDbEIsT0FBTyxJQUFJSSxZQUFZSSxRQUFRLEVBQUU7d0JBQy9CLE1BQU0sSUFBSVIsTUFBTTtvQkFDbEIsT0FBTzt3QkFDTCxNQUFNLElBQUlBLE1BQU07b0JBQ2xCO2dCQUNGO1lBQ0Y7WUFFQSw0QkFBNEI7WUFDNUIsTUFBTTBDLFdBQVdDLE9BQU9DLFFBQVEsQ0FBQ0MsUUFBUSxLQUFLLFlBQzlCRixPQUFPQyxRQUFRLENBQUNFLFFBQVEsS0FBSyxlQUM3QkgsT0FBT0MsUUFBUSxDQUFDRSxRQUFRLEtBQUssZUFDN0JDLGtCQUF5QjtZQUV6QyxJQUFJLENBQUNMLFVBQVU7Z0JBQ2IsTUFBTSxJQUFJMUMsTUFBTSxnRUFBdUcyQyxPQUF2Q0EsT0FBT0MsUUFBUSxDQUFDQyxRQUFRLEVBQUMsZ0JBQXVDLE9BQXpCRixPQUFPQyxRQUFRLENBQUNFLFFBQVE7WUFDako7WUFFQSxrQ0FBa0M7WUFDbEMsSUFBSUUsbUJBQW1CO1lBQ3ZCLElBQUk7Z0JBQ0YsSUFBSS9DLFVBQVVnRCxXQUFXLElBQUloRCxVQUFVZ0QsV0FBVyxDQUFDQyxLQUFLLEVBQUU7b0JBQ3hELE1BQU1DLG1CQUFtQixNQUFNbEQsVUFBVWdELFdBQVcsQ0FBQ0MsS0FBSyxDQUFDO3dCQUFFbEIsTUFBTTtvQkFBUztvQkFDNUVnQixtQkFBbUJHLGlCQUFpQkMsS0FBSztvQkFDekN4SCxRQUFRQyxHQUFHLENBQUMsNkJBQTZCbUg7b0JBRXpDRyxpQkFBaUJFLFFBQVEsR0FBRzt3QkFDMUJ6SCxRQUFRQyxHQUFHLENBQUMsaUNBQWlDc0gsaUJBQWlCQyxLQUFLO3dCQUNuRUosbUJBQW1CRyxpQkFBaUJDLEtBQUs7b0JBQzNDO2dCQUNGO1lBQ0YsRUFBRSxPQUFPRSxpQkFBaUI7Z0JBQ3hCMUgsUUFBUW9GLElBQUksQ0FBQyx1Q0FBdUNzQztZQUN0RDtZQUVBLDhCQUE4QjtZQUM5QixJQUFJTixxQkFBcUIsVUFBVTtnQkFDakMsTUFBTSxJQUFJaEQsTUFBTTtZQUNsQjtZQUVBLDRCQUE0QjtZQUM1QnBFLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU1zRyxjQUFjLE1BQU1oSCx5SEFBK0JBO1lBQ3pEUyxRQUFRQyxHQUFHLENBQUMsNkJBQTZCc0c7WUFFekMsOEJBQThCO1lBQzlCLE1BQU1vQixzQkFBc0I7Z0JBQzFCbEUsT0FBTztvQkFDTHpDLE9BQU87d0JBQUU0RyxPQUFPO29CQUFLO29CQUNyQjNHLFFBQVE7d0JBQUUyRyxPQUFPO29CQUFJO29CQUNyQkMsWUFBWTtvQkFDWkMsV0FBVzt3QkFBRUYsT0FBTztvQkFBRztnQkFDekI7Z0JBQ0FHLE9BQU87WUFDVDtZQUVBLG9EQUFvRDtZQUNwRCxJQUFJQztZQUNKLElBQUk7Z0JBQ0ZoSSxRQUFRQyxHQUFHLENBQUM7Z0JBQ1orSCxjQUFjLE1BQU0zRCxVQUFVYyxZQUFZLENBQUNFLFlBQVksQ0FBQztvQkFDdEQsR0FBR2tCLFdBQVc7b0JBQ2R3QixPQUFPO2dCQUNUO1lBQ0YsRUFBRSxPQUFPM0YsT0FBTztnQkFDZHBDLFFBQVFvRixJQUFJLENBQUMsc0VBQXNFaEQ7Z0JBQ25GLElBQUk7b0JBQ0ZwQyxRQUFRQyxHQUFHLENBQUM7b0JBQ1orSCxjQUFjLE1BQU0zRCxVQUFVYyxZQUFZLENBQUNFLFlBQVksQ0FBQ3NDO2dCQUMxRCxFQUFFLE9BQU9NLGVBQWU7b0JBQ3RCakksUUFBUW9DLEtBQUssQ0FBQywwREFBMEQ2RjtvQkFFeEUsZ0RBQWdEO29CQUNoRCxJQUFJQSxjQUFjN0IsSUFBSSxLQUFLLG1CQUFtQjt3QkFDNUMsSUFBSWdCLHFCQUFxQixVQUFVOzRCQUNqQyxNQUFNLElBQUloRCxNQUFNO3dCQUNsQixPQUFPOzRCQUNMLE1BQU0sSUFBSUEsTUFBTTt3QkFDbEI7b0JBQ0YsT0FBTyxJQUFJNkQsY0FBYzdCLElBQUksS0FBSyxpQkFBaUI7d0JBQ2pELE1BQU0sSUFBSWhDLE1BQU07b0JBQ2xCLE9BQU8sSUFBSTZELGNBQWM3QixJQUFJLEtBQUssb0JBQW9CO3dCQUNwRCxNQUFNLElBQUloQyxNQUFNO29CQUNsQixPQUFPO3dCQUNMLE1BQU0sSUFBSUEsTUFBTSx3QkFBOEMsT0FBdEI2RCxjQUFjQyxPQUFPO29CQUMvRDtnQkFDRjtZQUNGO1lBRUFsSSxRQUFRQyxHQUFHLENBQUM7WUFDWk0sVUFBVXlIO1lBRVYsMEJBQTBCO1lBQzFCLElBQUk5SCxTQUFTMkIsT0FBTyxFQUFFO2dCQUNwQjNCLFNBQVMyQixPQUFPLENBQUNzRyxXQUFXLEdBQUc7Z0JBQy9CakksU0FBUzJCLE9BQU8sQ0FBQ3VHLEtBQUssR0FBRztnQkFDekJsSSxTQUFTMkIsT0FBTyxDQUFDd0csUUFBUSxHQUFHO2dCQUM1Qm5JLFNBQVMyQixPQUFPLENBQUN5RyxTQUFTLEdBQUdOO2dCQUU3QixJQUFJO29CQUNGLE1BQU05SCxTQUFTMkIsT0FBTyxDQUFDMEcsSUFBSTtvQkFDM0J2SSxRQUFRQyxHQUFHLENBQUM7b0JBQ1prQixnQkFBZ0I7b0JBRWhCLElBQUlLLGFBQWEsYUFBYTt3QkFDNUJYLG1CQUFtQmdCLE9BQU8sR0FBR1csWUFBWUMsd0JBQXdCO29CQUNuRTtnQkFDRixFQUFFLE9BQU8rRixXQUFXO29CQUNsQnhJLFFBQVFvQyxLQUFLLENBQUMsd0JBQXdCb0c7b0JBQ3RDLE1BQU0sSUFBSXBFLE1BQU0sbUNBQW1Db0UsVUFBVU4sT0FBTztnQkFDdEU7WUFDRjtRQUNGLEVBQUUsT0FBTzlGLE9BQU87WUFDZHBDLFFBQVFvQyxLQUFLLENBQUMsd0JBQXdCQTtZQUN0QyxJQUFJNUIsZUFBZTtZQUVuQixJQUFJNEIsTUFBTWdFLElBQUksS0FBSyxtQkFBbUI7Z0JBQ3BDNUYsZ0JBQWdCO1lBQ2xCLE9BQU8sSUFBSTRCLE1BQU1nRSxJQUFJLEtBQUssaUJBQWlCO2dCQUN6QzVGLGdCQUFnQjtZQUNsQixPQUFPLElBQUk0QixNQUFNZ0UsSUFBSSxLQUFLLG9CQUFvQjtnQkFDNUM1RixnQkFBZ0I7WUFDbEIsT0FBTyxJQUFJNEIsTUFBTWdFLElBQUksS0FBSyx3QkFBd0I7Z0JBQ2hENUYsZ0JBQWdCO1lBQ2xCLE9BQU8sSUFBSTRCLE1BQU04RixPQUFPLEtBQUssbURBQW1EO2dCQUM5RTFILGdCQUFnQjtZQUNsQixPQUFPLElBQUk0QixNQUFNOEYsT0FBTyxDQUFDTyxRQUFRLENBQUMsVUFBVTtnQkFDMUNqSSxnQkFBZ0I7WUFDbEIsT0FBTyxJQUFJNEIsTUFBTThGLE9BQU8sQ0FBQ08sUUFBUSxDQUFDLHVCQUF1QjtnQkFDdkRqSSxnQkFBZ0I7WUFDbEIsT0FBTztnQkFDTEEsZ0JBQWdCNEIsTUFBTThGLE9BQU8sSUFBSTtZQUNuQztZQUVBekgsZ0JBQWdCRDtRQUNsQjtJQUNGO0lBRUEsTUFBTWtJLGFBQWE7UUFDakIsZ0NBQWdDO1FBQ2hDLElBQUlwSSxRQUFRO1lBQ1ZBLE9BQU9xSSxTQUFTLEdBQUdDLE9BQU8sQ0FBQ0MsQ0FBQUEsUUFBU0EsTUFBTUMsSUFBSTtZQUM5Q3ZJLFVBQVU7UUFDWjtRQUVBLHFCQUFxQjtRQUNyQixJQUFJTCxTQUFTMkIsT0FBTyxFQUFFO1lBQ3BCM0IsU0FBUzJCLE9BQU8sQ0FBQ3lHLFNBQVMsR0FBRztRQUMvQjtRQUVBLDRCQUE0QjtRQUM1QixJQUFJekgsbUJBQW1CZ0IsT0FBTyxFQUFFO1lBQzlCdUIsY0FBY3ZDLG1CQUFtQmdCLE9BQU87WUFDeENoQixtQkFBbUJnQixPQUFPLEdBQUc7UUFDL0I7UUFFQVYsZ0JBQWdCO0lBQ2xCO0lBRUEsdURBQXVEO0lBQ3ZEaEMsZ0RBQVNBOzJDQUFDO1lBQ1IsSUFBSU0sV0FBVztnQkFDYjBFO1lBQ0YsT0FBTztnQkFDTHVFO1lBQ0Y7WUFFQTttREFBTztvQkFDTEE7Z0JBQ0Y7O1FBQ0Y7MENBQUc7UUFBQ2pKO0tBQVU7SUFFZCxvQkFBb0I7SUFDcEJOLGdEQUFTQTsyQ0FBQztZQUNSLElBQUksQ0FBQ00sV0FBVztZQUVoQm1CLFlBQVlpQixPQUFPLEdBQUdXO21EQUFZO29CQUNoQzdCOzJEQUFPb0ksQ0FBQUE7NEJBQ0wsOEJBQThCOzRCQUM5QixNQUFNQyxTQUFTQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBSyxNQUFNLElBQUksMkJBQTJCOzRCQUMvRSxPQUFPSDt3QkFDVDs7Z0JBQ0Y7a0RBQUc7WUFFSDttREFBTztvQkFDTCxJQUFJcEksWUFBWWlCLE9BQU8sRUFBRTt3QkFDdkJ1QixjQUFjeEMsWUFBWWlCLE9BQU87b0JBQ25DO29CQUNBLElBQUloQixtQkFBbUJnQixPQUFPLEVBQUU7d0JBQzlCdUIsY0FBY3ZDLG1CQUFtQmdCLE9BQU87b0JBQzFDO2dCQUNGOztRQUNGOzBDQUFHO1FBQUNwQztLQUFVO0lBRWQsZ0RBQWdEO0lBQ2hETixnREFBU0E7MkNBQUM7WUFDUixJQUFJLENBQUNNLFdBQVc7WUFFaEIsTUFBTTJKO29FQUFtQjtvQkFDdkIsSUFBSWhKLGFBQWF5QixPQUFPLEVBQUU7d0JBQ3hCLE1BQU0sRUFBRWIsS0FBSyxFQUFFQyxNQUFNLEVBQUUsR0FBR2IsYUFBYXlCLE9BQU8sQ0FBQ3dILHFCQUFxQjt3QkFDcEV0SSxjQUFjOzRCQUFFQzs0QkFBT0M7d0JBQU87b0JBQ2hDO2dCQUNGOztZQUVBbUk7WUFDQXJDLE9BQU91QyxnQkFBZ0IsQ0FBQyxVQUFVRjtZQUNsQzttREFBTyxJQUFNckMsT0FBT3dDLG1CQUFtQixDQUFDLFVBQVVIOztRQUNwRDswQ0FBRztRQUFDM0o7S0FBVTtJQUVkLG1DQUFtQztJQUNuQ04sZ0RBQVNBOzJDQUFDO1lBQ1IsSUFBSSxDQUFDTSxhQUFhLENBQUNTLFNBQVMyQixPQUFPLElBQUksQ0FBQ3ZCLFFBQVE7WUFFaEQsTUFBTW1ELFFBQVF2RCxTQUFTMkIsT0FBTztZQUU5QixNQUFNMkg7d0VBQXVCO29CQUMzQnhKLFFBQVFDLEdBQUcsQ0FBQztvQkFDWmtCLGdCQUFnQjtvQkFFaEIsdUJBQXVCO29CQUN2QixNQUFNc0ksYUFBYWhHLE1BQU1nRyxVQUFVLElBQUk7b0JBQ3ZDLE1BQU1DLGNBQWNqRyxNQUFNaUcsV0FBVyxJQUFJO29CQUV6QzFKLFFBQVFDLEdBQUcsQ0FBQyxxQkFBbUN5SixPQUFkRCxZQUFXLEtBQWUsT0FBWkM7b0JBRS9DLDhCQUE4QjtvQkFDOUIsSUFBSXZKLFVBQVUwQixPQUFPLEVBQUU7d0JBQ3JCLHNDQUFzQzt3QkFDdEMxQixVQUFVMEIsT0FBTyxDQUFDYixLQUFLLEdBQUd5STt3QkFDMUJ0SixVQUFVMEIsT0FBTyxDQUFDWixNQUFNLEdBQUd5STt3QkFFM0IsNENBQTRDO3dCQUM1QyxNQUFNQyxjQUFjRixhQUFhQzt3QkFDakMsTUFBTUUsaUJBQWlCOUksV0FBV0UsS0FBSzt3QkFDdkMsTUFBTTZJLGtCQUFrQkQsaUJBQWlCRDt3QkFFekN4SixVQUFVMEIsT0FBTyxDQUFDaUksS0FBSyxDQUFDOUksS0FBSyxHQUFHLEdBQWtCLE9BQWY0SSxnQkFBZTt3QkFDbER6SixVQUFVMEIsT0FBTyxDQUFDaUksS0FBSyxDQUFDN0ksTUFBTSxHQUFHLEdBQW1CLE9BQWhCNEksaUJBQWdCO29CQUN0RDtvQkFFQSwwQkFBMEI7b0JBQzFCRTtvQkFFQSwrQ0FBK0M7b0JBQy9DLElBQUlwSyxlQUFlO3dCQUNqQkEsY0FBYzs0QkFDWnFCLE9BQU95STs0QkFDUHhJLFFBQVF5STt3QkFDVjtvQkFDRjtnQkFDRjs7WUFFQWpHLE1BQU02RixnQkFBZ0IsQ0FBQyxrQkFBa0JFO1lBRXpDO21EQUFPO29CQUNML0YsTUFBTThGLG1CQUFtQixDQUFDLGtCQUFrQkM7Z0JBQzlDOztRQUNGOzBDQUFHO1FBQUNsSjtRQUFRYjtRQUFXcUI7UUFBWW5CO0tBQWM7SUFFakQsTUFBTW9LLGtCQUFrQjtRQUN0QixJQUFJLENBQUM1SixVQUFVMEIsT0FBTyxJQUFJLENBQUMzQixTQUFTMkIsT0FBTyxJQUFJLENBQUNYLGNBQWM7UUFFOUQsTUFBTXVDLFFBQVF2RCxTQUFTMkIsT0FBTztRQUM5QixNQUFNNkIsU0FBU3ZELFVBQVUwQixPQUFPO1FBQ2hDLE1BQU15QixNQUFNSSxPQUFPSCxVQUFVLENBQUM7UUFFOUIsb0NBQW9DO1FBQ3BDMUMsbUJBQW1CZ0IsT0FBTyxHQUFHVyxZQUFZO1lBQ3ZDLElBQUlpQixNQUFNM0IsVUFBVSxLQUFLLEdBQUc7WUFFNUIsZUFBZTtZQUNmd0IsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR0UsT0FBTzFDLEtBQUssRUFBRTBDLE9BQU96QyxNQUFNO1lBRS9DLGlDQUFpQztZQUNqQ3FDLElBQUlLLElBQUk7WUFFUixvREFBb0Q7WUFDcERMLElBQUlNLFNBQVMsQ0FBQ0YsT0FBTzFDLEtBQUssRUFBRTtZQUM1QnNDLElBQUlPLEtBQUssQ0FBQyxDQUFDLEdBQUc7WUFFZCxnREFBZ0Q7WUFDaERQLElBQUlRLFNBQVMsQ0FBQ0wsT0FBTyxHQUFHLEdBQUdDLE9BQU8xQyxLQUFLLEVBQUUwQyxPQUFPekMsTUFBTTtZQUV0RCw0QkFBNEI7WUFDNUJxQyxJQUFJUyxPQUFPO1lBRVgsd0RBQXdEO1lBQ3hELE1BQU1pRyxlQUFlZixLQUFLRSxNQUFNLEtBQUs7WUFFckMsK0NBQStDO1lBQy9DLElBQUlhLGNBQWM7Z0JBQ2hCLElBQUluSyxpQkFBaUI7b0JBQ25Cb0ssZ0JBQWdCM0csS0FBS0k7Z0JBQ3ZCO2dCQUVBLElBQUk5RCxjQUFjO29CQUNoQnNLLGFBQWE1RyxLQUFLSTtnQkFDcEI7Z0JBRUEsSUFBSTVELFVBQVU7b0JBQ1pxSyxhQUFhN0csS0FBS0k7Z0JBQ3BCO1lBQ0Y7WUFFQSxnQ0FBZ0M7WUFDaEMsSUFBSTNELGdCQUFnQjtnQkFDbEJxSyxlQUFlOUcsS0FBS0ksUUFBUXNHO1lBQzlCO1FBQ0YsR0FBRyxLQUFLLFNBQVM7SUFDbkI7SUFFQSx1Q0FBdUM7SUFDdkMsTUFBTUMsa0JBQWtCLENBQUMzRyxLQUFLSTtRQUM1QixNQUFNMkcsVUFBVTNHLE9BQU8xQyxLQUFLLEdBQUc7UUFDL0IsTUFBTXNKLFVBQVU1RyxPQUFPekMsTUFBTSxHQUFHO1FBQ2hDLE1BQU1zSixXQUFXN0csT0FBTzFDLEtBQUssR0FBRztRQUNoQyxNQUFNd0osWUFBWTlHLE9BQU96QyxNQUFNLEdBQUc7UUFFbENxQyxJQUFJbUgsV0FBVyxHQUFHO1FBQ2xCbkgsSUFBSW9ILFNBQVMsR0FBRztRQUNoQnBILElBQUlxSCxVQUFVLENBQ1pOLFVBQVVFLFdBQVMsR0FDbkJELFVBQVVFLFlBQVUsR0FDcEJELFVBQ0FDO0lBRUo7SUFFQSx5Q0FBeUM7SUFDekMsTUFBTU4sZUFBZSxDQUFDNUcsS0FBS0ksUUFBUWtILE9BQU9DLEtBQUtDO1FBQzdDLE1BQU1ULFVBQVUzRyxPQUFPMUMsS0FBSyxHQUFHO1FBQy9CLE1BQU1zSixVQUFVNUcsT0FBT3pDLE1BQU0sR0FBRztRQUNoQyxNQUFNOEosT0FBT0MsS0FBS0MsR0FBRyxLQUFLO1FBQzFCLE1BQU1DLFNBQVN4SCxPQUFPMUMsS0FBSyxHQUFHO1FBRTlCLGVBQWU7UUFDZnNDLElBQUk2SCxTQUFTO1FBQ2I3SCxJQUFJOEgsTUFBTSxDQUFDZixTQUFTQztRQUNwQmhILElBQUkrSCxNQUFNLENBQUNoQixVQUFVYSxTQUFTakMsS0FBS3FDLEdBQUcsQ0FBQ1AsT0FBT1Q7UUFDOUNoSCxJQUFJbUgsV0FBVyxHQUFHO1FBQ2xCbkgsSUFBSW9ILFNBQVMsR0FBRztRQUNoQnBILElBQUlpSSxNQUFNO1FBRVYsaUJBQWlCO1FBQ2pCakksSUFBSTZILFNBQVM7UUFDYjdILElBQUk4SCxNQUFNLENBQUNmLFNBQVNDO1FBQ3BCaEgsSUFBSStILE1BQU0sQ0FBQ2hCLFNBQVNDLFVBQVVZLFNBQVNqQyxLQUFLcUMsR0FBRyxDQUFDUCxPQUFPO1FBQ3ZEekgsSUFBSW1ILFdBQVcsR0FBRztRQUNsQm5ILElBQUlvSCxTQUFTLEdBQUc7UUFDaEJwSCxJQUFJaUksTUFBTTtRQUVWLGdCQUFnQjtRQUNoQmpJLElBQUk2SCxTQUFTO1FBQ2I3SCxJQUFJOEgsTUFBTSxDQUFDZixTQUFTQztRQUNwQmhILElBQUkrSCxNQUFNLENBQ1JoQixVQUFVYSxTQUFPLElBQUlqQyxLQUFLcUMsR0FBRyxDQUFDUCxPQUFPLElBQ3JDVCxVQUFVWSxTQUFPLElBQUlqQyxLQUFLdUMsR0FBRyxDQUFDVCxPQUFPO1FBRXZDekgsSUFBSW1ILFdBQVcsR0FBRztRQUNsQm5ILElBQUlvSCxTQUFTLEdBQUc7UUFDaEJwSCxJQUFJaUksTUFBTTtJQUNaO0lBRUEsb0NBQW9DO0lBQ3BDLE1BQU1wQixlQUFlLENBQUM3RyxLQUFLSSxRQUFRK0g7UUFDakMsTUFBTXBCLFVBQVUzRyxPQUFPMUMsS0FBSyxHQUFHO1FBQy9CLE1BQU1zSixVQUFVNUcsT0FBT3pDLE1BQU0sR0FBRztRQUNoQyxNQUFNeUssU0FBU3pDLEtBQUswQyxHQUFHLENBQUNqSSxPQUFPMUMsS0FBSyxFQUFFMEMsT0FBT3pDLE1BQU0sSUFBSTtRQUV2RCxZQUFZO1FBQ1pxQyxJQUFJc0ksU0FBUyxHQUFHO1FBQ2hCdEksSUFBSTZILFNBQVM7UUFDYjdILElBQUl1SSxHQUFHLENBQUN4QixTQUFTQyxTQUFTb0IsUUFBUSxHQUFHekMsS0FBSzZDLEVBQUUsR0FBRztRQUMvQ3hJLElBQUl5SSxJQUFJO1FBRVIsWUFBWTtRQUNaLE1BQU1DLFlBQVlOLFNBQVM7UUFDM0IsTUFBTU8sYUFBYVAsU0FBUztRQUM1QixNQUFNUSxhQUFhUixTQUFTO1FBRTVCcEksSUFBSXNJLFNBQVMsR0FBRztRQUVoQixXQUFXO1FBQ1h0SSxJQUFJNkgsU0FBUztRQUNiN0gsSUFBSXVJLEdBQUcsQ0FBQ3hCLFVBQVU0QixZQUFZM0IsVUFBVTRCLFlBQVlGLFdBQVcsR0FBRy9DLEtBQUs2QyxFQUFFLEdBQUc7UUFDNUV4SSxJQUFJeUksSUFBSTtRQUVSLFlBQVk7UUFDWnpJLElBQUk2SCxTQUFTO1FBQ2I3SCxJQUFJdUksR0FBRyxDQUFDeEIsVUFBVTRCLFlBQVkzQixVQUFVNEIsWUFBWUYsV0FBVyxHQUFHL0MsS0FBSzZDLEVBQUUsR0FBRztRQUM1RXhJLElBQUl5SSxJQUFJO0lBQ1Y7SUFFQSxxQ0FBcUM7SUFDckMsTUFBTTNCLGlCQUFpQixDQUFDOUcsS0FBS0ksUUFBUXNHO1FBQ25DMUcsSUFBSXNJLFNBQVMsR0FBRztRQUNoQnRJLElBQUk2SSxRQUFRLENBQUMsR0FBR3pJLE9BQU96QyxNQUFNLEdBQUcsSUFBSSxLQUFLO1FBRXpDcUMsSUFBSThJLElBQUksR0FBRztRQUNYOUksSUFBSXNJLFNBQVMsR0FBRztRQUNoQnRJLElBQUkrSSxRQUFRLENBQUMsZUFBK0IzSSxPQUFoQkEsT0FBTzFDLEtBQUssRUFBQyxLQUFpQixPQUFkMEMsT0FBT3pDLE1BQU0sR0FBSSxJQUFJeUMsT0FBT3pDLE1BQU0sR0FBRztRQUNqRnFDLElBQUkrSSxRQUFRLENBQUMsUUFBWSxPQUFKM0wsTUFBTyxJQUFJZ0QsT0FBT3pDLE1BQU0sR0FBRztRQUNoRHFDLElBQUkrSSxRQUFRLENBQUMsU0FBb0QsT0FBM0NyQyxlQUFlLGFBQWEsaUJBQWtCLElBQUl0RyxPQUFPekMsTUFBTSxHQUFHO0lBQzFGO0lBRUEsSUFBSSxDQUFDeEIsV0FBVztRQUNkLE9BQU87SUFDVDtJQUVBLHFCQUNFLDhEQUFDNk07UUFDQ0MsS0FBS25NO1FBQ0wwSixPQUFPO1lBQ0wwQyxVQUFVO1lBQ1ZDLEtBQUs7WUFDTEMsTUFBTTtZQUNOQyxXQUFXO1lBQ1gzTCxPQUFPO1lBQ1BDLFFBQVE7WUFDUjJMLGlCQUFpQjtZQUNqQkMsY0FBYztZQUNkQyxXQUFXO1lBQ1hDLFVBQVU7WUFDVkMsUUFBUTtRQUNWOzswQkFFQSw4REFBQ3ZKO2dCQUNDOEksS0FBS3JNO2dCQUNMNEosT0FBTztvQkFDTDlJLE9BQU87b0JBQ1BDLFFBQVE7b0JBQ1JnTSxXQUFXO29CQUNYTixXQUFXO29CQUNYTyxTQUFTO29CQUNURixRQUFRO2dCQUNWO2dCQUNBN0UsV0FBVztnQkFDWEMsS0FBSztnQkFDTCtFLFFBQVE7Ozs7OzswQkFFViw4REFBQ3pKO2dCQUNDNkksS0FBS3BNO2dCQUNMMkosT0FBTztvQkFDTDBDLFVBQVU7b0JBQ1ZDLEtBQUs7b0JBQ0xDLE1BQU07b0JBQ04xTCxPQUFPO29CQUNQQyxRQUFRO29CQUNSK0wsUUFBUTtvQkFDUkksZUFBZTtvQkFDZkMsU0FBUzNMLFdBQVcsVUFBVTtnQkFDaEM7Ozs7OzswQkFFRiw4REFBQzRLO2dCQUFJeEMsT0FBTztvQkFDVjBDLFVBQVU7b0JBQ1ZDLEtBQUs7b0JBQ0xhLE9BQU87b0JBQ1BELFNBQVM7b0JBQ1RFLEtBQUs7b0JBQ0xQLFFBQVE7Z0JBQ1Y7O2tDQUNFLDhEQUFDUTt3QkFDQ0MsU0FBUy9OO3dCQUNUb0ssT0FBTzs0QkFDTDRELFNBQVM7NEJBQ1RkLGlCQUFpQjs0QkFDakJlLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JmLGNBQWM7NEJBQ2RnQixRQUFROzRCQUNSQyxZQUFZOzRCQUNaZCxRQUFRO3dCQUNWO2tDQUNEOzs7Ozs7a0NBSUQsOERBQUNRO3dCQUNDQyxTQUFTOzRCQUNQLElBQUkvTCxVQUFVO2dDQUNaMkI7NEJBQ0YsT0FBTztnQ0FDTHpCOzRCQUNGO3dCQUNGO3dCQUNBa0ksT0FBTzs0QkFDTDRELFNBQVM7NEJBQ1RkLGlCQUFpQmxMLFdBQVcseUJBQXlCOzRCQUNyRGlNLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JmLGNBQWM7NEJBQ2RnQixRQUFROzRCQUNSQyxZQUFZOzRCQUNaZCxRQUFRO3dCQUNWO2tDQUVDdEwsV0FBVyxXQUFXOzs7Ozs7Ozs7Ozs7WUFJMUJGLGFBQWEseUJBQ1osOERBQUM4SztnQkFBSXhDLE9BQU87b0JBQ1YwQyxVQUFVO29CQUNWQyxLQUFLO29CQUNMYSxPQUFPO29CQUNQSSxTQUFTO29CQUNUZCxpQkFBaUI7b0JBQ2pCZSxPQUFPO29CQUNQZCxjQUFjO29CQUNkRyxRQUFRO2dCQUNWOztvQkFBRztvQkFDa0J4TTs7Ozs7Ozs7Ozs7OztBQUs3QjtHQXB3Qk1oQjtLQUFBQTtBQXN3Qk4sc0RBQXNEO0FBQ3RELE1BQU11TyxlQUFlek8sbURBQU9BLE9BQzFCLElBQU1rSCxRQUFRQyxPQUFPLENBQUNqSCx3QkFDdEI7SUFDRXdPLEtBQUs7SUFDTEMsU0FBUyxrQkFDUCw4REFBQzNCO1lBQUl4QyxPQUFPO2dCQUNWMEMsVUFBVTtnQkFDVkMsS0FBSztnQkFDTEMsTUFBTTtnQkFDTkMsV0FBVztnQkFDWDNMLE9BQU87Z0JBQ1BDLFFBQVE7Z0JBQ1JpTixZQUFZO2dCQUNaTixRQUFRO2dCQUNSZixjQUFjO2dCQUNkUSxTQUFTO2dCQUNUYyxlQUFlO2dCQUNmQyxnQkFBZ0I7Z0JBQ2hCQyxZQUFZO2dCQUNaQyxXQUFXO2dCQUNYdEIsUUFBUTtZQUNWOzs4QkFDRSw4REFBQ1Y7b0JBQUl4QyxPQUFPO3dCQUFFeUUsVUFBVTt3QkFBUUMsY0FBYztvQkFBTzs4QkFBRzs7Ozs7OzhCQUN4RCw4REFBQ0M7b0JBQUUzRSxPQUFPO3dCQUFFeUUsVUFBVTt3QkFBUUcsWUFBWTt3QkFBUWYsT0FBTztvQkFBVTs4QkFBRzs7Ozs7Ozs7Ozs7O0FBSzVFOztBQUdGLGlFQUFlSSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvYXBwL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFVuaWZpZWQgQ2FtZXJhIEFjY2VzcyBDb21wb25lbnRcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IHsgZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cyB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUnO1xuXG4vLyBDcmVhdGUgdGhlIG1haW4gY2FtZXJhIGNvbXBvbmVudFxuY29uc3QgQ2FtZXJhQWNjZXNzQ29tcG9uZW50ID0gKHsgXG4gIGlzU2hvd2luZywgXG4gIG9uQ2xvc2UsIFxuICBvbkNhbWVyYVJlYWR5LFxuICBzaG93SGVhZFBvc2UgPSBmYWxzZSxcbiAgc2hvd0JvdW5kaW5nQm94ID0gZmFsc2UsXG4gIHNob3dNYXNrID0gZmFsc2UsXG4gIHNob3dQYXJhbWV0ZXJzID0gZmFsc2Vcbn0pID0+IHtcbiAgY29uc29sZS5sb2coJ0NhbWVyYUFjY2Vzc0NvbXBvbmVudCBwcm9wczonLCB7IGlzU2hvd2luZywgc2hvd0hlYWRQb3NlLCBzaG93Qm91bmRpbmdCb3gsIHNob3dNYXNrLCBzaG93UGFyYW1ldGVycyB9KTtcbiAgXG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgd3NSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtzdHJlYW0sIHNldFN0cmVhbV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2Vycm9yTWVzc2FnZSwgc2V0RXJyb3JNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2Zwcywgc2V0RnBzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBmcHNUaW1lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcHJvY2Vzc2luZ0ludGVydmFsID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbZGltZW5zaW9ucywgc2V0RGltZW5zaW9uc10gPSB1c2VTdGF0ZSh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7XG4gIGNvbnN0IFtpc1ZpZGVvUmVhZHksIHNldElzVmlkZW9SZWFkeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9jZXNzaW5nUmVzdWx0cywgc2V0UHJvY2Vzc2luZ1Jlc3VsdHNdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGZyYW1lUXVldWUgPSB1c2VSZWYoW10pO1xuICBjb25zdCBpc1Byb2Nlc3NpbmcgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBbd3NTdGF0dXMsIHNldFdzU3RhdHVzXSA9IHVzZVN0YXRlKCdkaXNjb25uZWN0ZWQnKTtcbiAgY29uc3QgW2lzTGlua2VkLCBzZXRJc0xpbmtlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBXZWJTb2NrZXQgY29ubmVjdGlvblxuICBjb25zdCBjb25uZWN0V2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIGlmICh3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRXc1N0YXR1cygnY29ubmVjdGluZycpO1xuICAgIHRyeSB7XG4gICAgICAvLyBDb25uZWN0IHRvIEZhc3RBUEkgV2ViU29ja2V0IGVuZHBvaW50XG4gICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vbG9jYWxob3N0OjgwMDAvd3MvdmlkZW8nKTtcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSB3cztcblxuICAgICAgLy8gU2V0IGEgY29ubmVjdGlvbiB0aW1lb3V0XG4gICAgICBjb25zdCBjb25uZWN0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAod3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgY29ubmVjdGlvbiB0aW1lb3V0Jyk7XG4gICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKTtcbiAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJ0Nvbm5lY3Rpb24gdGltZW91dC4gUGxlYXNlIGNoZWNrIGlmIHRoZSBiYWNrZW5kIHNlcnZlciBpcyBydW5uaW5nLicpO1xuICAgICAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwMCk7XG5cbiAgICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0ZWQgdG8gRmFzdEFQSSBiYWNrZW5kJyk7XG4gICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIHNldFdzU3RhdHVzKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgc2V0SXNMaW5rZWQodHJ1ZSk7XG4gICAgICAgIGlmIChpc1ZpZGVvUmVhZHkpIHtcbiAgICAgICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKGNhcHR1cmVBbmRQcm9jZXNzRnJhbWUsIDMzKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICBzZXRQcm9jZXNzaW5nUmVzdWx0cyhyZXN1bHQpO1xuICAgICAgICAgIC8vIGRyYXdSZXN1bHRzKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBXZWJTb2NrZXQgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgc2V0V3NTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHNldEVycm9yTWVzc2FnZSgnRmFpbGVkIHRvIGNvbm5lY3QgdG8gRmFzdEFQSSBiYWNrZW5kLiBQbGVhc2UgY2hlY2sgaWYgdGhlIHNlcnZlciBpcyBydW5uaW5nLicpO1xuICAgICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICB3cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgZGlzY29ubmVjdGVkOicsIGV2ZW50LmNvZGUsIGV2ZW50LnJlYXNvbik7XG4gICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIHNldFdzU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgICAgICAvLyBTdG9wIGZyYW1lIHByb2Nlc3NpbmdcbiAgICAgICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGR1ZSB0byBhbiBlcnJvciwgc2hvdyBlcnJvciBtZXNzYWdlXG4gICAgICAgIGlmIChldmVudC5jb2RlICE9PSAxMDAwKSB7IC8vIDEwMDAgaXMgbm9ybWFsIGNsb3N1cmVcbiAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoYFdlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZDogJHtldmVudC5yZWFzb24gfHwgJ1Vua25vd24gcmVhc29uJ31gKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgV2ViU29ja2V0OicsIGVycm9yKTtcbiAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpO1xuICAgICAgc2V0RXJyb3JNZXNzYWdlKCdGYWlsZWQgdG8gY3JlYXRlIFdlYlNvY2tldCBjb25uZWN0aW9uLiBQbGVhc2UgY2hlY2sgeW91ciBuZXR3b3JrIGNvbm5lY3Rpb24uJyk7XG4gICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc2Nvbm5lY3RXZWJTb2NrZXQgPSAoKSA9PiB7XG4gICAgaWYgKHdzUmVmLmN1cnJlbnQpIHtcbiAgICAgIHdzUmVmLmN1cnJlbnQuY2xvc2UoMTAwMCwgJ1VzZXIgcmVxdWVzdGVkIGRpc2Nvbm5lY3QnKTtcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgc2V0V3NTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgICAgLy8gU3RvcCBmcmFtZSBwcm9jZXNzaW5nXG4gICAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIHRoZSBjYW52YXMgdG8gcmVtb3ZlIGFueSBvdmVybGF5c1xuICAgICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhc1JlZi5jdXJyZW50LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzUmVmLmN1cnJlbnQud2lkdGgsIGNhbnZhc1JlZi5jdXJyZW50LmhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Nob3dpbmcpIHtcbiAgICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgIH07XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBGcmFtZSBjYXB0dXJlIGFuZCBwcm9jZXNzaW5nXG4gIGNvbnN0IGNhcHR1cmVBbmRQcm9jZXNzRnJhbWUgPSAoKSA9PiB7XG4gICAgaWYgKCF2aWRlb1JlZi5jdXJyZW50IHx8ICFjYW52YXNSZWYuY3VycmVudCB8fCAhaXNWaWRlb1JlYWR5IHx8ICF3c1JlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAvLyBPbmx5IGRyYXcgb24gY2FudmFzIGlmIFdlYlNvY2tldCBpcyBjb25uZWN0ZWRcbiAgICBpZiAod3NSZWYuY3VycmVudCAmJiB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAvLyBDbGVhciBjYW52YXNcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCBjb250ZXh0IHN0YXRlXG4gICAgICBjdHguc2F2ZSgpO1xuXG4gICAgICAvLyBGbGlwIHRoZSBjb250ZXh0IGhvcml6b250YWxseSB0byBtaXJyb3IgdGhlIHZpZGVvXG4gICAgICBjdHgudHJhbnNsYXRlKGNhbnZhcy53aWR0aCwgMCk7XG4gICAgICBjdHguc2NhbGUoLTEsIDEpO1xuXG4gICAgICAvLyBEcmF3IHZpZGVvIGZyYW1lIHRvIGNhbnZhcyBhdCBoaWdoIHJlc29sdXRpb25cbiAgICAgIGN0eC5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgIC8vIFJlc3RvcmUgdGhlIGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgIC8vIENvbnZlcnQgY2FudmFzIHRvIGJsb2Igd2l0aCBoaWdoIHF1YWxpdHlcbiAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgaWYgKGJsb2IgJiYgd3NSZWYuY3VycmVudCAmJiB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgLy8gU2VuZCBmcmFtZSB0byBiYWNrZW5kXG4gICAgICAgICAgd3NSZWYuY3VycmVudC5zZW5kKGJsb2IpO1xuICAgICAgICB9XG4gICAgICB9LCAnaW1hZ2UvanBlZycsIDAuOTUpO1xuICAgIH1cbiAgfTtcblxuICAvLyBTdGFydCBjYW1lcmEgd2l0aCBoaWdoZXN0IHJlc29sdXRpb25cbiAgY29uc3Qgc3RhcnRDYW1lcmEgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICBzZXRJc1ZpZGVvUmVhZHkoZmFsc2UpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIDEuIEVuaGFuY2VkIEJyb3dzZXIgRW52aXJvbm1lbnQgQ2hlY2tcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dpbmRvdyBvYmplY3Qgbm90IGF2YWlsYWJsZSAtIG5vdCBydW5uaW5nIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXZpZ2F0b3Igb2JqZWN0IG5vdCBhdmFpbGFibGUgLSBub3QgcnVubmluZyBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gMi4gQ29tcHJlaGVuc2l2ZSBCcm93c2VyIERldGVjdGlvblxuICAgICAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgYnJvd3NlckluZm8gPSB7XG4gICAgICAgIGlzQ2hyb21lOiAvY2hyb21lLy50ZXN0KHVzZXJBZ2VudCkgJiYgIS9lZGdlLy50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzRmlyZWZveDogL2ZpcmVmb3gvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNTYWZhcmk6IC9zYWZhcmkvLnRlc3QodXNlckFnZW50KSAmJiAhL2Nocm9tZS8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc0VkZ2U6IC9lZGdlLy50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzT3BlcmE6IC9vcHIvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNJRTogL3RyaWRlbnQvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNNb2JpbGU6IC9tb2JpbGV8YW5kcm9pZHxpcGhvbmV8aXBhZHxwaG9uZS9pLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgdmVyc2lvbjogdXNlckFnZW50Lm1hdGNoKC8oY2hyb21lfGZpcmVmb3h8c2FmYXJpfGVkZ2V8b3ByKVxcLyhbMC05XSspLylcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdCcm93c2VyIEluZm86JywgYnJvd3NlckluZm8pO1xuXG4gICAgICAvLyAzLiBJbml0aWFsaXplIE1lZGlhRGV2aWNlcyBBUElcbiAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ01lZGlhRGV2aWNlcyBBUEkgbm90IGF2YWlsYWJsZSwgaW5pdGlhbGl6aW5nLi4uJyk7XG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gRW5oYW5jZWQgTWVkaWFEZXZpY2VzIFN1cHBvcnRcbiAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdnZXRVc2VyTWVkaWEgbm90IGF2YWlsYWJsZSwgY2hlY2tpbmcgaW1wbGVtZW50YXRpb25zLi4uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcnkgYWxsIHBvc3NpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICBjb25zdCBpbXBsZW1lbnRhdGlvbnMgPSB7XG4gICAgICAgICAgc3RhbmRhcmQ6IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLFxuICAgICAgICAgIHdlYmtpdDogbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLndlYmtpdEdldFVzZXJNZWRpYSxcbiAgICAgICAgICBtb3o6IG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5tb3pHZXRVc2VyTWVkaWEsXG4gICAgICAgICAgbXM6IG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLm1zR2V0VXNlck1lZGlhLFxuICAgICAgICAgIGxlZ2FjeTogbmF2aWdhdG9yLmdldFVzZXJNZWRpYVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdBdmFpbGFibGUgaW1wbGVtZW50YXRpb25zOicsIE9iamVjdC5rZXlzKGltcGxlbWVudGF0aW9ucykuZmlsdGVyKGtleSA9PiBpbXBsZW1lbnRhdGlvbnNba2V5XSkpO1xuXG4gICAgICAgIC8vIFRyeSB0byBmaW5kIGEgd29ya2luZyBpbXBsZW1lbnRhdGlvblxuICAgICAgICBsZXQgZ2V0VXNlck1lZGlhID0gbnVsbDtcbiAgICAgICAgbGV0IGltcGxlbWVudGF0aW9uTmFtZSA9IG51bGw7XG5cbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgaW1wbF0gb2YgT2JqZWN0LmVudHJpZXMoaW1wbGVtZW50YXRpb25zKSkge1xuICAgICAgICAgIGlmIChpbXBsKSB7XG4gICAgICAgICAgICBnZXRVc2VyTWVkaWEgPSBpbXBsO1xuICAgICAgICAgICAgaW1wbGVtZW50YXRpb25OYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgJHtpbXBsZW1lbnRhdGlvbk5hbWV9IGltcGxlbWVudGF0aW9uIG9mIGdldFVzZXJNZWRpYWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFdyYXAgdGhlIGltcGxlbWVudGF0aW9uIGluIGEgUHJvbWlzZVxuICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oY29uc3RyYWludHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbXBsZW1lbnRhdGlvbk5hbWUgPT09ICdzdGFuZGFyZCcpIHtcbiAgICAgICAgICAgICAgICBnZXRVc2VyTWVkaWEuY2FsbChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLCBjb25zdHJhaW50cylcbiAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRVc2VyTWVkaWEuY2FsbChuYXZpZ2F0b3IsIGNvbnN0cmFpbnRzLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFByb3ZpZGUgc3BlY2lmaWMgZ3VpZGFuY2UgYmFzZWQgb24gYnJvd3NlclxuICAgICAgICAgIGlmIChicm93c2VySW5mby5pc01vYmlsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgYWNjZXNzIG9uIG1vYmlsZSBkZXZpY2VzIHJlcXVpcmVzIEhUVFBTLiBQbGVhc2UgdXNlIGEgc2VjdXJlIGNvbm5lY3Rpb24uJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChicm93c2VySW5mby5pc0lFKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVybmV0IEV4cGxvcmVyIGRvZXMgbm90IHN1cHBvcnQgY2FtZXJhIGFjY2Vzcy4gUGxlYXNlIHVzZSBDaHJvbWUsIEZpcmVmb3gsIG9yIEVkZ2UuJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChicm93c2VySW5mby5pc1NhZmFyaSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZhcmkgcmVxdWlyZXMgSFRUUFMgZm9yIGNhbWVyYSBhY2Nlc3MuIFBsZWFzZSB1c2UgYSBzZWN1cmUgY29ubmVjdGlvbiBvciB0cnkgQ2hyb21lL0ZpcmVmb3guJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhIGFjY2VzcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4gUGxlYXNlIHVzZSBDaHJvbWUsIEZpcmVmb3gsIG9yIEVkZ2UuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDUuIENoZWNrIFNlY3VyaXR5IENvbnRleHRcbiAgICAgIGNvbnN0IGlzU2VjdXJlID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8IFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJzEyNy4wLjAuMScgfHxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcbiAgICAgIFxuICAgICAgaWYgKCFpc1NlY3VyZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbWVyYSBhY2Nlc3MgcmVxdWlyZXMgSFRUUFMgb3IgbG9jYWxob3N0LiBDdXJyZW50IHByb3RvY29sOiAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH0sIGhvc3RuYW1lOiAke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gNi4gRW5oYW5jZWQgUGVybWlzc2lvbiBIYW5kbGluZ1xuICAgICAgbGV0IHBlcm1pc3Npb25TdGF0dXMgPSAncHJvbXB0JztcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChuYXZpZ2F0b3IucGVybWlzc2lvbnMgJiYgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KSB7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvblJlc3VsdCA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6ICdjYW1lcmEnIH0pO1xuICAgICAgICAgIHBlcm1pc3Npb25TdGF0dXMgPSBwZXJtaXNzaW9uUmVzdWx0LnN0YXRlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW1lcmEgcGVybWlzc2lvbiBzdGF0dXM6JywgcGVybWlzc2lvblN0YXR1cyk7XG5cbiAgICAgICAgICBwZXJtaXNzaW9uUmVzdWx0Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhbWVyYSBwZXJtaXNzaW9uIGNoYW5nZWQgdG86JywgcGVybWlzc2lvblJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICBwZXJtaXNzaW9uU3RhdHVzID0gcGVybWlzc2lvblJlc3VsdC5zdGF0ZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChwZXJtaXNzaW9uRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgY2hlY2sgY2FtZXJhIHBlcm1pc3Npb25zOicsIHBlcm1pc3Npb25FcnJvcik7XG4gICAgICB9XG5cbiAgICAgIC8vIDcuIEhhbmRsZSBQZXJtaXNzaW9uIFN0YXRlc1xuICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMgPT09ICdkZW5pZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhIGFjY2VzcyBoYXMgYmVlbiBwZXJtYW5lbnRseSBkZW5pZWQuIFBsZWFzZSB1cGRhdGUgeW91ciBicm93c2VyIHNldHRpbmdzIHRvIGFsbG93IGNhbWVyYSBhY2Nlc3MuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIDguIEdldCBDYW1lcmEgQ29uc3RyYWludHNcbiAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBjYW1lcmEgYWNjZXNzIHdpdGggaGlnaGVzdCByZXNvbHV0aW9uLi4uJyk7XG4gICAgICBjb25zdCBjb25zdHJhaW50cyA9IGF3YWl0IGdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBjYW1lcmEgY29uc3RyYWludHM6JywgY29uc3RyYWludHMpO1xuXG4gICAgICAvLyA5LiBBZGQgRmFsbGJhY2sgQ29uc3RyYWludHNcbiAgICAgIGNvbnN0IGZhbGxiYWNrQ29uc3RyYWludHMgPSB7XG4gICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgd2lkdGg6IHsgaWRlYWw6IDEyODAgfSxcbiAgICAgICAgICBoZWlnaHQ6IHsgaWRlYWw6IDcyMCB9LFxuICAgICAgICAgIGZhY2luZ01vZGU6ICd1c2VyJyxcbiAgICAgICAgICBmcmFtZVJhdGU6IHsgaWRlYWw6IDMwIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXVkaW86IGZhbHNlXG4gICAgICB9O1xuXG4gICAgICAvLyAxMC4gVHJ5IHRvIEFjY2VzcyBDYW1lcmEgd2l0aCBQZXJtaXNzaW9uIEhhbmRsaW5nXG4gICAgICBsZXQgbWVkaWFTdHJlYW07XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBhY2Nlc3MgY2FtZXJhIHdpdGggaGlnaCByZXNvbHV0aW9uLi4uJyk7XG4gICAgICAgIG1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgIC4uLmNvbnN0cmFpbnRzLFxuICAgICAgICAgIGF1ZGlvOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGdldCBoaWdoIHJlc29sdXRpb24gc3RyZWFtLCB0cnlpbmcgZmFsbGJhY2sgY29uc3RyYWludHM6JywgZXJyb3IpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIGFjY2VzcyBjYW1lcmEgd2l0aCBmYWxsYmFjayBjb25zdHJhaW50cy4uLicpO1xuICAgICAgICAgIG1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZmFsbGJhY2tDb25zdHJhaW50cyk7XG4gICAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IGNhbWVyYSBhY2Nlc3Mgd2l0aCBmYWxsYmFjayBjb25zdHJhaW50czonLCBmYWxsYmFja0Vycm9yKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQcm92aWRlIHNwZWNpZmljIGd1aWRhbmNlIGJhc2VkIG9uIGVycm9yIHR5cGVcbiAgICAgICAgICBpZiAoZmFsbGJhY2tFcnJvci5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykge1xuICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMgPT09ICdwcm9tcHQnKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhIGFjY2VzcyB3YXMgZGVuaWVkLiBQbGVhc2UgYWxsb3cgY2FtZXJhIGFjY2VzcyB3aGVuIHByb21wdGVkIGJ5IHlvdXIgYnJvd3Nlci4nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhIGFjY2VzcyBoYXMgYmVlbiBibG9ja2VkLiBQbGVhc2UgY2hlY2sgeW91ciBicm93c2VyIHNldHRpbmdzIGFuZCBhbGxvdyBjYW1lcmEgYWNjZXNzIGZvciB0aGlzIHNpdGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChmYWxsYmFja0Vycm9yLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjYW1lcmEgZm91bmQuIFBsZWFzZSBjb25uZWN0IGEgY2FtZXJhIGFuZCB0cnkgYWdhaW4uJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChmYWxsYmFja0Vycm9yLm5hbWUgPT09ICdOb3RSZWFkYWJsZUVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgaXMgYWxyZWFkeSBpbiB1c2UgYnkgYW5vdGhlciBhcHBsaWNhdGlvbi4gUGxlYXNlIGNsb3NlIG90aGVyIGFwcGxpY2F0aW9ucyB1c2luZyB0aGUgY2FtZXJhLicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbWVyYSBhY2Nlc3MgZXJyb3I6ICR7ZmFsbGJhY2tFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIGFjY2VzcyBncmFudGVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgIHNldFN0cmVhbShtZWRpYVN0cmVhbSk7XG5cbiAgICAgIC8vIDExLiBTZXR1cCBWaWRlbyBFbGVtZW50XG4gICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5tdXRlZCA9IHRydWU7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG1lZGlhU3RyZWFtO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdmlkZW9SZWYuY3VycmVudC5wbGF5KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1ZpZGVvIHBsYXlpbmcgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICAgIHNldElzVmlkZW9SZWFkeSh0cnVlKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAod3NTdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKGNhcHR1cmVBbmRQcm9jZXNzRnJhbWUsIDMzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHBsYXlFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBsYXlpbmcgdmlkZW86JywgcGxheUVycm9yKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzdGFydCB2aWRlbyBzdHJlYW06ICcgKyBwbGF5RXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2FtZXJhIGFjY2VzcyBlcnJvcjonLCBlcnJvcik7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0NhbWVyYSBlcnJvcjogJztcbiAgICAgIFxuICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnQ2FtZXJhIGFjY2VzcyB3YXMgZGVuaWVkLiBQbGVhc2UgYWxsb3cgY2FtZXJhIGFjY2VzcyBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnTm8gY2FtZXJhIGZvdW5kLiBQbGVhc2UgY29ubmVjdCBhIGNhbWVyYSBhbmQgdHJ5IGFnYWluLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RSZWFkYWJsZUVycm9yJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ0NhbWVyYSBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFwcGxpY2F0aW9uLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdPdmVyY29uc3RyYWluZWRFcnJvcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdDYW1lcmEgZG9lcyBub3Qgc3VwcG9ydCB0aGUgcmVxdWVzdGVkIHJlc29sdXRpb24uJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSA9PT0gJ2dldFVzZXJNZWRpYSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBicm93c2VyJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGNhbWVyYSBhY2Nlc3MuIFBsZWFzZSB0cnkgdXNpbmcgYSBtb2Rlcm4gYnJvd3NlciBsaWtlIENocm9tZSwgRmlyZWZveCwgb3IgRWRnZS4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdIVFRQUycpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnQ2FtZXJhIGFjY2VzcyByZXF1aXJlcyBIVFRQUyBvciBsb2NhbGhvc3QuIFBsZWFzZSB1c2UgSFRUUFMgb3IgcnVuIHRoZSBhcHBsaWNhdGlvbiBvbiBsb2NhbGhvc3QuJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncGVybWFuZW50bHkgZGVuaWVkJykpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdDYW1lcmEgYWNjZXNzIGhhcyBiZWVuIHBlcm1hbmVudGx5IGRlbmllZC4gUGxlYXNlIHVwZGF0ZSB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0RXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0b3BDYW1lcmEgPSAoKSA9PiB7XG4gICAgLy8gU3RvcCBhbGwgdHJhY2tzIGluIHRoZSBzdHJlYW1cbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgc2V0U3RyZWFtKG51bGwpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciB2aWRlbyBzb3VyY2VcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBwcm9jZXNzaW5nIGludGVydmFsXG4gICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgc2V0SXNWaWRlb1JlYWR5KGZhbHNlKTtcbiAgfTtcblxuICAvLyBTdGFydCBjYW1lcmEgb24gY29tcG9uZW50IG1vdW50IGlmIGlzU2hvd2luZyBpcyB0cnVlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzU2hvd2luZykge1xuICAgICAgc3RhcnRDYW1lcmEoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcENhbWVyYSgpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3RvcENhbWVyYSgpO1xuICAgIH07XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBTZXR1cCBGUFMgY291bnRlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNTaG93aW5nKSByZXR1cm47XG4gICAgXG4gICAgZnBzVGltZXJSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHNldEZwcyhwcmV2RnBzID0+IHtcbiAgICAgICAgLy8gU2ltcGxlIG1vY2sgZm9yIGZwcyBjb3VudGVyXG4gICAgICAgIGNvbnN0IG5ld0ZwcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSArIDI1OyAvLyBSYW5kb20gYmV0d2VlbiAyNS0zNSBmcHNcbiAgICAgICAgcmV0dXJuIG5ld0ZwcztcbiAgICAgIH0pO1xuICAgIH0sIDEwMDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoZnBzVGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKGZwc1RpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBVcGRhdGUgZGltZW5zaW9ucyB3aGVuIGNvbnRhaW5lciBzaXplIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzU2hvd2luZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgc2V0RGltZW5zaW9ucyh7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIEhhbmRsZSB2aWRlbyBlbGVtZW50IHJlYWR5IHN0YXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Nob3dpbmcgfHwgIXZpZGVvUmVmLmN1cnJlbnQgfHwgIXN0cmVhbSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVMb2FkZWRNZXRhZGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdWaWRlbyBtZXRhZGF0YSBsb2FkZWQnKTtcbiAgICAgIHNldElzVmlkZW9SZWFkeSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHZpZGVvIGRpbWVuc2lvbnNcbiAgICAgIGNvbnN0IHZpZGVvV2lkdGggPSB2aWRlby52aWRlb1dpZHRoIHx8IDY0MDtcbiAgICAgIGNvbnN0IHZpZGVvSGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHQgfHwgNDgwO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgVmlkZW8gZGltZW5zaW9uczogJHt2aWRlb1dpZHRofXgke3ZpZGVvSGVpZ2h0fWApO1xuICAgICAgXG4gICAgICAvLyBTZXR1cCBjYW52YXMgZm9yIHByb2Nlc3NpbmdcbiAgICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgICAvLyBTdG9yZSBhY3R1YWwgZGltZW5zaW9ucyBmb3IgY2FwdHVyZVxuICAgICAgICBjYW52YXNSZWYuY3VycmVudC53aWR0aCA9IHZpZGVvV2lkdGg7XG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LmhlaWdodCA9IHZpZGVvSGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IGRpc3BsYXkgc2l6ZSB0byBtYWludGFpbiBhc3BlY3QgcmF0aW9cbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSB2aWRlb1dpZHRoIC8gdmlkZW9IZWlnaHQ7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gZGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgXG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gYCR7Y29udGFpbmVyV2lkdGh9cHhgO1xuICAgICAgICBjYW52YXNSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtjb250YWluZXJIZWlnaHR9cHhgO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTdGFydCBwcm9jZXNzaW5nIGZyYW1lc1xuICAgICAgc3RhcnRQcm9jZXNzaW5nKCk7XG4gICAgICBcbiAgICAgIC8vIE5vdGlmeSBwYXJlbnQgY29tcG9uZW50IHRoYXQgY2FtZXJhIGlzIHJlYWR5XG4gICAgICBpZiAob25DYW1lcmFSZWFkeSkge1xuICAgICAgICBvbkNhbWVyYVJlYWR5KHtcbiAgICAgICAgICB3aWR0aDogdmlkZW9XaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHZpZGVvSGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBoYW5kbGVMb2FkZWRNZXRhZGF0YSk7XG4gICAgfTtcbiAgfSwgW3N0cmVhbSwgaXNTaG93aW5nLCBkaW1lbnNpb25zLCBvbkNhbWVyYVJlYWR5XSk7XG5cbiAgY29uc3Qgc3RhcnRQcm9jZXNzaW5nID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQgfHwgIXZpZGVvUmVmLmN1cnJlbnQgfHwgIWlzVmlkZW9SZWFkeSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBcbiAgICAvLyBTdGFydCBwcm9jZXNzaW5nIGZyYW1lcyBhdCB+MzBmcHNcbiAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh2aWRlby5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhc1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBcbiAgICAgIC8vIEZsaXAgdGhlIGNvbnRleHQgaG9yaXpvbnRhbGx5IHRvIG1pcnJvciB0aGUgdmlkZW9cbiAgICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoLCAwKTtcbiAgICAgIGN0eC5zY2FsZSgtMSwgMSk7XG4gICAgICBcbiAgICAgIC8vIERyYXcgdmlkZW8gZnJhbWUgdG8gY2FudmFzIGF0IGhpZ2ggcmVzb2x1dGlvblxuICAgICAgY3R4LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gUmVzdG9yZSB0aGUgY29udGV4dCBzdGF0ZVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgZmFjZSBkZXRlY3Rpb24gKDkwJSBjaGFuY2Ugb2YgZmFjZSBkZXRlY3RlZClcbiAgICAgIGNvbnN0IGZhY2VEZXRlY3RlZCA9IE1hdGgucmFuZG9tKCkgPiAwLjE7XG4gICAgICBcbiAgICAgIC8vIERyYXcgdmlzdWFsaXphdGlvbnMgYmFzZWQgb24gZW5hYmxlZCBvcHRpb25zXG4gICAgICBpZiAoZmFjZURldGVjdGVkKSB7XG4gICAgICAgIGlmIChzaG93Qm91bmRpbmdCb3gpIHtcbiAgICAgICAgICBkcmF3Qm91bmRpbmdCb3goY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvd0hlYWRQb3NlKSB7XG4gICAgICAgICAgZHJhd0hlYWRQb3NlKGN0eCwgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHNob3dNYXNrKSB7XG4gICAgICAgICAgZHJhd0ZhY2VNYXNrKGN0eCwgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBEaXNwbGF5IHBhcmFtZXRlcnMgaWYgZW5hYmxlZFxuICAgICAgaWYgKHNob3dQYXJhbWV0ZXJzKSB7XG4gICAgICAgIGRyYXdQYXJhbWV0ZXJzKGN0eCwgY2FudmFzLCBmYWNlRGV0ZWN0ZWQpO1xuICAgICAgfVxuICAgIH0sIDMzKTsgLy8gfjMwZnBzXG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBib3VuZGluZyBib3hcbiAgY29uc3QgZHJhd0JvdW5kaW5nQm94ID0gKGN0eCwgY2FudmFzKSA9PiB7XG4gICAgY29uc3QgY2VudGVyWCA9IGNhbnZhcy53aWR0aCAvIDI7XG4gICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgIGNvbnN0IGJveFdpZHRoID0gY2FudmFzLndpZHRoICogMC42O1xuICAgIGNvbnN0IGJveEhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiAwLjg7XG4gICAgXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDAsIDAuNyknO1xuICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgY2VudGVyWCAtIGJveFdpZHRoLzIsIFxuICAgICAgY2VudGVyWSAtIGJveEhlaWdodC8yLCBcbiAgICAgIGJveFdpZHRoLCBcbiAgICAgIGJveEhlaWdodFxuICAgICk7XG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBoZWFkIHBvc2UgYXhlc1xuICBjb25zdCBkcmF3SGVhZFBvc2UgPSAoY3R4LCBjYW52YXMsIHBpdGNoLCB5YXcsIHJvbGwpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgIGNvbnN0IGxlbmd0aCA9IGNhbnZhcy53aWR0aCAqIDAuMTtcbiAgICBcbiAgICAvLyBYIGF4aXMgKHJlZClcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKGNlbnRlclggKyBsZW5ndGggKiBNYXRoLnNpbih0aW1lKSwgY2VudGVyWSk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIFxuICAgIC8vIFkgYXhpcyAoZ3JlZW4pXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oY2VudGVyWCwgY2VudGVyWSk7XG4gICAgY3R4LmxpbmVUbyhjZW50ZXJYLCBjZW50ZXJZICsgbGVuZ3RoICogTWF0aC5zaW4odGltZSArIDEpKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBcbiAgICAvLyBaIGF4aXMgKGJsdWUpXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oY2VudGVyWCwgY2VudGVyWSk7XG4gICAgY3R4LmxpbmVUbyhcbiAgICAgIGNlbnRlclggKyBsZW5ndGgvMiAqIE1hdGguc2luKHRpbWUgKyAyKSwgXG4gICAgICBjZW50ZXJZIC0gbGVuZ3RoLzIgKiBNYXRoLmNvcyh0aW1lICsgMilcbiAgICApO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdibHVlJztcbiAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBmYWNlIG1hc2tcbiAgY29uc3QgZHJhd0ZhY2VNYXNrID0gKGN0eCwgY2FudmFzLCBwb2ludHMpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgcmFkaXVzID0gTWF0aC5taW4oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSAqIDAuMjtcbiAgICBcbiAgICAvLyBEcmF3IG1hc2tcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMjU1LCAyNTUsIDAuMiknO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgXG4gICAgLy8gRHJhdyBleWVzXG4gICAgY29uc3QgZXllUmFkaXVzID0gcmFkaXVzICogMC4yO1xuICAgIGNvbnN0IGV5ZU9mZnNldFggPSByYWRpdXMgKiAwLjM7XG4gICAgY29uc3QgZXllT2Zmc2V0WSA9IHJhZGl1cyAqIDAuMTtcbiAgICBcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSc7XG4gICAgXG4gICAgLy8gTGVmdCBleWVcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhjZW50ZXJYIC0gZXllT2Zmc2V0WCwgY2VudGVyWSAtIGV5ZU9mZnNldFksIGV5ZVJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgXG4gICAgLy8gUmlnaHQgZXllXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoY2VudGVyWCArIGV5ZU9mZnNldFgsIGNlbnRlclkgLSBleWVPZmZzZXRZLCBleWVSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICB9O1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRyYXcgcGFyYW1ldGVyc1xuICBjb25zdCBkcmF3UGFyYW1ldGVycyA9IChjdHgsIGNhbnZhcywgZmFjZURldGVjdGVkKSA9PiB7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuNyknO1xuICAgIGN0eC5maWxsUmVjdCg1LCBjYW52YXMuaGVpZ2h0IC0gNjAsIDE1MCwgNTApO1xuICAgIFxuICAgIGN0eC5mb250ID0gJzEycHggQXJpYWwnO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsVGV4dChgUmVzb2x1dGlvbjogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gLCAxMCwgY2FudmFzLmhlaWdodCAtIDQwKTtcbiAgICBjdHguZmlsbFRleHQoYEZQUzogJHtmcHN9YCwgMTAsIGNhbnZhcy5oZWlnaHQgLSAyNSk7XG4gICAgY3R4LmZpbGxUZXh0KGBGYWNlOiAke2ZhY2VEZXRlY3RlZCA/ICdEZXRlY3RlZCcgOiAnTm90IERldGVjdGVkJ31gLCAxMCwgY2FudmFzLmhlaWdodCAtIDEwKTtcbiAgfTtcblxuICBpZiAoIWlzU2hvd2luZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IFxuICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICBzdHlsZT17eyBcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICB3aWR0aDogJzMwdncnLFxuICAgICAgICBoZWlnaHQ6ICczMHZoJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICBib3hTaGFkb3c6ICcwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICB6SW5kZXg6IDEwMDBcbiAgICAgIH19XG4gICAgPlxuICAgICAgPHZpZGVvXG4gICAgICAgIHJlZj17dmlkZW9SZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gICAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGVYKC0xKScsXG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICB6SW5kZXg6IDFcbiAgICAgICAgfX1cbiAgICAgICAgcGxheXNJbmxpbmVcbiAgICAgICAgbXV0ZWRcbiAgICAgICAgYXV0b1BsYXlcbiAgICAgIC8+XG4gICAgICA8Y2FudmFzXG4gICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgekluZGV4OiAyLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICBkaXNwbGF5OiBpc0xpbmtlZCA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6ICcxMHB4JyxcbiAgICAgICAgcmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBnYXA6ICcxMHB4JyxcbiAgICAgICAgekluZGV4OiAzXG4gICAgICB9fT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNyknLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZScsXG4gICAgICAgICAgICB6SW5kZXg6IDNcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgQ2xvc2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzTGlua2VkKSB7XG4gICAgICAgICAgICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDEycHgnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0xpbmtlZCA/ICdyZ2JhKDI1NSwgMCwgMCwgMC43KScgOiAncmdiYSgwLCAyNTUsIDAsIDAuNyknLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZScsXG4gICAgICAgICAgICB6SW5kZXg6IDNcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2lzTGlua2VkID8gJ1VubGluaycgOiAnTGluayd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt3c1N0YXR1cyA9PT0gJ2Vycm9yJyAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6ICc1MHB4JyxcbiAgICAgICAgICByaWdodDogJzEwcHgnLFxuICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsIDAsIDAsIDAuNyknLFxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgekluZGV4OiAzXG4gICAgICAgIH19PlxuICAgICAgICAgIENvbm5lY3Rpb24gRXJyb3I6IHtlcnJvck1lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIENyZWF0ZSB0aGUgZHluYW1pYyBpbXBvcnQgd3JhcHBlciB3aXRoIFNTUiBkaXNhYmxlZFxuY29uc3QgQ2FtZXJhQWNjZXNzID0gZHluYW1pYyhcbiAgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKENhbWVyYUFjY2Vzc0NvbXBvbmVudCksXG4gIHsgXG4gICAgc3NyOiBmYWxzZSwgLy8gRGlzYWJsZSBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgZm9yIGNhbWVyYSBjb21wb25lbnRcbiAgICBsb2FkaW5nOiAoKSA9PiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgICAgd2lkdGg6ICc0ODBweCcsXG4gICAgICAgIGhlaWdodDogJzM2MHB4JyxcbiAgICAgICAgYmFja2dyb3VuZDogJyNmMGY4ZmYnLFxuICAgICAgICBib3JkZXI6ICcycHggc29saWQgIzAwNjZjYycsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIHpJbmRleDogOTk5XG4gICAgICB9fT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzQ4cHgnLCBtYXJnaW5Cb3R0b206ICcxNXB4JyB9fT7wn5O3PC9kaXY+XG4gICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcsIGZvbnRXZWlnaHQ6ICdib2xkJywgY29sb3I6ICcjMDA2NmNjJyB9fT5cbiAgICAgICAgICBMb2FkaW5nIGNhbWVyYS4uLlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbik7XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYUFjY2VzczsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImR5bmFtaWMiLCJnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzIiwiQ2FtZXJhQWNjZXNzQ29tcG9uZW50IiwiaXNTaG93aW5nIiwib25DbG9zZSIsIm9uQ2FtZXJhUmVhZHkiLCJzaG93SGVhZFBvc2UiLCJzaG93Qm91bmRpbmdCb3giLCJzaG93TWFzayIsInNob3dQYXJhbWV0ZXJzIiwiY29uc29sZSIsImxvZyIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwiY29udGFpbmVyUmVmIiwid3NSZWYiLCJzdHJlYW0iLCJzZXRTdHJlYW0iLCJlcnJvck1lc3NhZ2UiLCJzZXRFcnJvck1lc3NhZ2UiLCJmcHMiLCJzZXRGcHMiLCJmcHNUaW1lclJlZiIsInByb2Nlc3NpbmdJbnRlcnZhbCIsImRpbWVuc2lvbnMiLCJzZXREaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJpc1ZpZGVvUmVhZHkiLCJzZXRJc1ZpZGVvUmVhZHkiLCJwcm9jZXNzaW5nUmVzdWx0cyIsInNldFByb2Nlc3NpbmdSZXN1bHRzIiwiZnJhbWVRdWV1ZSIsImlzUHJvY2Vzc2luZyIsIndzU3RhdHVzIiwic2V0V3NTdGF0dXMiLCJpc0xpbmtlZCIsInNldElzTGlua2VkIiwiY29ubmVjdFdlYlNvY2tldCIsImN1cnJlbnQiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsIndzIiwiY29ubmVjdGlvblRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZXJyb3IiLCJjbG9zZSIsIm9ub3BlbiIsImNsZWFyVGltZW91dCIsInNldEludGVydmFsIiwiY2FwdHVyZUFuZFByb2Nlc3NGcmFtZSIsIm9ubWVzc2FnZSIsImV2ZW50IiwicmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwiY29kZSIsInJlYXNvbiIsImNsZWFySW50ZXJ2YWwiLCJkaXNjb25uZWN0V2ViU29ja2V0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsInZpZGVvIiwiY2FudmFzIiwic2F2ZSIsInRyYW5zbGF0ZSIsInNjYWxlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsInRvQmxvYiIsImJsb2IiLCJzZW5kIiwic3RhcnRDYW1lcmEiLCJFcnJvciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiYnJvd3NlckluZm8iLCJpc0Nocm9tZSIsInRlc3QiLCJpc0ZpcmVmb3giLCJpc1NhZmFyaSIsImlzRWRnZSIsImlzT3BlcmEiLCJpc0lFIiwiaXNNb2JpbGUiLCJ2ZXJzaW9uIiwibWF0Y2giLCJtZWRpYURldmljZXMiLCJ3YXJuIiwiZ2V0VXNlck1lZGlhIiwiaW1wbGVtZW50YXRpb25zIiwic3RhbmRhcmQiLCJ3ZWJraXQiLCJ3ZWJraXRHZXRVc2VyTWVkaWEiLCJtb3oiLCJtb3pHZXRVc2VyTWVkaWEiLCJtcyIsIm1zR2V0VXNlck1lZGlhIiwibGVnYWN5IiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImtleSIsImltcGxlbWVudGF0aW9uTmFtZSIsIm5hbWUiLCJpbXBsIiwiZW50cmllcyIsImNvbnN0cmFpbnRzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjYWxsIiwidGhlbiIsImNhdGNoIiwiaXNTZWN1cmUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJwcm9jZXNzIiwicGVybWlzc2lvblN0YXR1cyIsInBlcm1pc3Npb25zIiwicXVlcnkiLCJwZXJtaXNzaW9uUmVzdWx0Iiwic3RhdGUiLCJvbmNoYW5nZSIsInBlcm1pc3Npb25FcnJvciIsImZhbGxiYWNrQ29uc3RyYWludHMiLCJpZGVhbCIsImZhY2luZ01vZGUiLCJmcmFtZVJhdGUiLCJhdWRpbyIsIm1lZGlhU3RyZWFtIiwiZmFsbGJhY2tFcnJvciIsIm1lc3NhZ2UiLCJwbGF5c0lubGluZSIsIm11dGVkIiwiYXV0b3BsYXkiLCJzcmNPYmplY3QiLCJwbGF5IiwicGxheUVycm9yIiwiaW5jbHVkZXMiLCJzdG9wQ2FtZXJhIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwic3RvcCIsInByZXZGcHMiLCJuZXdGcHMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1cGRhdGVEaW1lbnNpb25zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVMb2FkZWRNZXRhZGF0YSIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsImFzcGVjdFJhdGlvIiwiY29udGFpbmVyV2lkdGgiLCJjb250YWluZXJIZWlnaHQiLCJzdHlsZSIsInN0YXJ0UHJvY2Vzc2luZyIsImZhY2VEZXRlY3RlZCIsImRyYXdCb3VuZGluZ0JveCIsImRyYXdIZWFkUG9zZSIsImRyYXdGYWNlTWFzayIsImRyYXdQYXJhbWV0ZXJzIiwiY2VudGVyWCIsImNlbnRlclkiLCJib3hXaWR0aCIsImJveEhlaWdodCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsInBpdGNoIiwieWF3Iiwicm9sbCIsInRpbWUiLCJEYXRlIiwibm93IiwibGVuZ3RoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic2luIiwic3Ryb2tlIiwiY29zIiwicG9pbnRzIiwicmFkaXVzIiwibWluIiwiZmlsbFN0eWxlIiwiYXJjIiwiUEkiLCJmaWxsIiwiZXllUmFkaXVzIiwiZXllT2Zmc2V0WCIsImV5ZU9mZnNldFkiLCJmaWxsUmVjdCIsImZvbnQiLCJmaWxsVGV4dCIsImRpdiIsInJlZiIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInRyYW5zZm9ybSIsImJhY2tncm91bmRDb2xvciIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsIm92ZXJmbG93IiwiekluZGV4Iiwib2JqZWN0Rml0Iiwib3BhY2l0eSIsImF1dG9QbGF5IiwicG9pbnRlckV2ZW50cyIsImRpc3BsYXkiLCJyaWdodCIsImdhcCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwYWRkaW5nIiwiY29sb3IiLCJib3JkZXIiLCJjdXJzb3IiLCJ0cmFuc2l0aW9uIiwiQ2FtZXJhQWNjZXNzIiwic3NyIiwibG9hZGluZyIsImJhY2tncm91bmQiLCJmbGV4RGlyZWN0aW9uIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwidGV4dEFsaWduIiwiZm9udFNpemUiLCJtYXJnaW5Cb3R0b20iLCJwIiwiZm9udFdlaWdodCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\n"));

/***/ })

});
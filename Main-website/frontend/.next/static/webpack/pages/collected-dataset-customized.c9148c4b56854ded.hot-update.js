"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/collected-dataset-customized",{

/***/ "(pages-dir-browser)/./pages/collected-dataset-customized/index.js":
/*!*****************************************************!*\
  !*** ./pages/collected-dataset-customized/index.js ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CollectedDatasetPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"(pages-dir-browser)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-browser)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components-gui/topBar */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/topBar.js\");\n/* harmony import */ var _components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components-gui/displayResponse */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/displayResponse.js\");\n/* harmony import */ var _components_gui_actionButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components-gui/actionButton */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/actionButton.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-browser)/./components/collected-dataset-customized/Action/countSave.jsx\");\n/* harmony import */ var _components_collected_dataset_customized_Action_CalibratePoints_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Action/CalibratePoints.jsx */ \"(pages-dir-browser)/./components/collected-dataset-customized/Action/CalibratePoints.jsx\");\n/* harmony import */ var _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/consent/ConsentContext */ \"(pages-dir-browser)/./components/consent/ConsentContext.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/router */ \"(pages-dir-browser)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_10__);\n// Modified index.js - Fixing canvas reference issues\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// Dynamically load the video processor component (not the hook directly)\nconst VideoProcessorComponent = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-browser_pages_collected-dataset-customized_components-gui_VideoProcessorComponent_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/VideoProcessorComponent */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/VideoProcessorComponent.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/VideoProcessorComponent\"\n        ]\n    },\n    ssr: false\n});\n_c = VideoProcessorComponent;\n// Dynamically import the camera component with SSR disabled\nconst DynamicCameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-browser_pages_collected-dataset-customized_components-gui_cameraAccess_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/cameraAccess */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/cameraAccess\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                backgroundColor: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 42,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 43,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n            lineNumber: 25,\n            columnNumber: 7\n        }, undefined)\n});\n_c1 = DynamicCameraAccess;\nfunction CollectedDatasetPage() {\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_10__.useRouter)();\n    const { userId: consentUserId } = (0,_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_9__.useConsent)();\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isHydrated, setIsHydrated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [backendStatus, setBackendStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('checking');\n    const [showTopBar, setShowTopBar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showWarning, setShowWarning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [warningMessage, setWarningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [outputText, setOutputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [showMetrics, setShowMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cameraPermissionGranted, setCameraPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCamera, setShowCamera] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCameraPlaceholder, setShowCameraPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [windowSize, setWindowSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0,\n        percentage: 100\n    });\n    const [metrics, setMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: '---',\n        height: '---',\n        distance: '---'\n    });\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [captureFolder, setCaptureFolder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Refs\n    const previewAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const actionButtonGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Set hydrated state after mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            setIsHydrated(true);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Load user data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const loadUserData = {\n                \"CollectedDatasetPage.useEffect.loadUserData\": async ()=>{\n                    if (!router.isReady) return;\n                    try {\n                        if (router.query.userData) {\n                            const parsedData = JSON.parse(router.query.userData);\n                            setUserData(parsedData);\n                            return;\n                        }\n                        if (router.query.userId) {\n                            const response = await fetch(\"/api/user-preferences/\".concat(router.query.userId), {\n                                headers: {\n                                    'Accept': 'application/json',\n                                    'Content-Type': 'application/json',\n                                    'X-API-Key': \"A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV\" || 0\n                                }\n                            });\n                            if (!response.ok) {\n                                throw new Error('Failed to fetch user data');\n                            }\n                            const data = await response.json();\n                            setUserData(data);\n                        }\n                    } catch (err) {\n                        console.error('Error loading user data:', err);\n                        setError(err.message);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.loadUserData\"];\n            loadUserData();\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        router.isReady,\n        router.query\n    ]);\n    // Check backend connection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const checkBackendConnection = {\n                \"CollectedDatasetPage.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendStatus(data.connected ? 'connected' : 'disconnected');\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendStatus('disconnected');\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.checkBackendConnection\"];\n            if (isHydrated) {\n                checkBackendConnection();\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Update window size\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const updateDimensions = {\n                \"CollectedDatasetPage.useEffect.updateDimensions\": ()=>{\n                    if (previewAreaRef.current) {\n                        const width = previewAreaRef.current.offsetWidth;\n                        const height = previewAreaRef.current.offsetHeight;\n                        const screenPercentage = window.innerWidth / window.screen.width * 100;\n                        setMetrics({\n                            \"CollectedDatasetPage.useEffect.updateDimensions\": (prev)=>({\n                                    ...prev,\n                                    width,\n                                    height\n                                })\n                        }[\"CollectedDatasetPage.useEffect.updateDimensions\"]);\n                        setWindowSize({\n                            width: window.innerWidth,\n                            height: window.innerHeight,\n                            percentage: Math.round(screenPercentage)\n                        });\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.updateDimensions\"];\n            if (isHydrated) {\n                updateDimensions();\n                window.addEventListener('resize', updateDimensions);\n                return ({\n                    \"CollectedDatasetPage.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n                })[\"CollectedDatasetPage.useEffect\"];\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Initialize settings based on user data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (userData && consentUserId) {\n                console.log('Initializing settings for user:', consentUserId, userData);\n                // Initialize user-specific settings\n                if (userData.preferences) {\n                    const { preferences } = userData;\n                    // Update camera settings if available\n                    if (preferences.cameraSettings) {\n                        const { showHeadPose, showBoundingBox, showMask, showParameters } = preferences.cameraSettings;\n                        setShowHeadPose(showHeadPose || false);\n                        setShowBoundingBox(showBoundingBox || false);\n                        setShowMask(showMask || false);\n                        setShowParameters(showParameters || false);\n                    }\n                    // Update other settings as needed\n                    if (preferences.metrics) {\n                        setShowMetrics(preferences.metrics.show || true);\n                    }\n                    if (preferences.topBar) {\n                        setShowTopBar(preferences.topBar.show || true);\n                    }\n                }\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userData,\n        consentUserId\n    ]);\n    // Improved get canvas function that tries multiple methods\n    const getMainCanvas = ()=>{\n        // Use the new canvas manager if available\n        if ( true && window.canvasManager) {\n            return window.canvasManager.getCanvas() || window.canvasManager.createCanvas();\n        }\n        // Method 1: Check if we have a direct reference\n        if (canvasRef.current) {\n            console.log(\"Using direct canvasRef.current reference\");\n            return canvasRef.current;\n        }\n        // Method 2: Try to get global reference\n        if ( true && window.whiteScreenCanvas) {\n            console.log(\"Using global whiteScreenCanvas reference\");\n            canvasRef.current = window.whiteScreenCanvas; // Update our ref\n            return window.whiteScreenCanvas;\n        }\n        // Method 3: Try to find via DOM\n        if (typeof document !== 'undefined') {\n            const canvasElement = document.querySelector('.tracking-canvas');\n            if (canvasElement) {\n                console.log(\"Found canvas via DOM selector\");\n                canvasRef.current = canvasElement; // Update our ref\n                if (true) {\n                    window.whiteScreenCanvas = canvasElement; // Update global ref too\n                }\n                return canvasElement;\n            }\n        }\n        console.warn(\"No canvas found via any method\");\n        return null;\n    };\n    // Check if we're on the client or server\n    const isClient = \"object\" !== 'undefined';\n    // Add effect to initialize canvas and make it globally available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Initialize canvas manager globally\n            if (true) {\n                // Create a simple canvas manager for index.js\n                window.canvasManager = {\n                    getCanvas: ({\n                        \"CollectedDatasetPage.useEffect\": ()=>{\n                            return canvasRef.current || document.querySelector('#tracking-canvas');\n                        }\n                    })[\"CollectedDatasetPage.useEffect\"],\n                    createCanvas: ({\n                        \"CollectedDatasetPage.useEffect\": function() {\n                            let container = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n                            let canvas = document.querySelector('#tracking-canvas');\n                            if (!canvas) {\n                                canvas = document.createElement('canvas');\n                                canvas.className = 'tracking-canvas';\n                                canvas.id = 'tracking-canvas';\n                            }\n                            const targetContainer = container || document.querySelector('.canvas-container') || document.querySelector('.main-content') || document.body;\n                            // Set responsive dimensions\n                            const rect = targetContainer.getBoundingClientRect();\n                            canvas.width = rect.width || targetContainer.clientWidth || 800;\n                            canvas.height = rect.height || targetContainer.clientHeight || 600;\n                            // Set CSS for responsive behavior\n                            canvas.style.cssText = \"\\n            width: 100%;\\n            height: 100%;\\n            display: block;\\n            background-color: white;\\n            border: none;\\n          \";\n                            // Initialize with white background\n                            const ctx = canvas.getContext('2d');\n                            ctx.fillStyle = 'white';\n                            ctx.fillRect(0, 0, canvas.width, canvas.height);\n                            // Add to container if not already there\n                            if (!canvas.parentNode) {\n                                targetContainer.appendChild(canvas);\n                            }\n                            // Store references\n                            canvasRef.current = canvas;\n                            window.whiteScreenCanvas = canvas;\n                            console.log(\"Canvas created/updated: \".concat(canvas.width, \"x\").concat(canvas.height));\n                            return canvas;\n                        }\n                    })[\"CollectedDatasetPage.useEffect\"],\n                    enterFullscreen: ({\n                        \"CollectedDatasetPage.useEffect\": ()=>{\n                            const canvas = window.canvasManager.getCanvas();\n                            if (!canvas) return;\n                            // Save original state\n                            canvas._originalState = {\n                                parent: canvas.parentElement,\n                                position: canvas.style.position,\n                                top: canvas.style.top,\n                                left: canvas.style.left,\n                                width: canvas.style.width,\n                                height: canvas.style.height,\n                                zIndex: canvas.style.zIndex\n                            };\n                            // Move to body and make fullscreen\n                            document.body.appendChild(canvas);\n                            canvas.style.cssText = \"\\n            position: fixed;\\n            top: 0;\\n            left: 0;\\n            width: 100vw;\\n            height: 100vh;\\n            z-index: 99999;\\n            background-color: white;\\n            border: none;\\n            display: block;\\n            opacity: 1;\\n            pointer-events: auto;\\n            margin: 0;\\n            padding: 0;\\n            box-sizing: border-box;\\n          \";\n                            canvas.width = window.innerWidth;\n                            canvas.height = window.innerHeight;\n                            const ctx = canvas.getContext('2d');\n                            ctx.fillStyle = 'white';\n                            ctx.fillRect(0, 0, canvas.width, canvas.height);\n                            console.log('Canvas entered fullscreen mode');\n                        }\n                    })[\"CollectedDatasetPage.useEffect\"],\n                    exitFullscreen: ({\n                        \"CollectedDatasetPage.useEffect\": ()=>{\n                            const canvas = window.canvasManager.getCanvas();\n                            if (!canvas || !canvas._originalState) return;\n                            // Find appropriate container\n                            const container = document.querySelector('.canvas-container') || document.querySelector('.main-content') || document.body;\n                            // Move canvas back to container\n                            container.appendChild(canvas);\n                            // Restore original styles\n                            canvas.style.position = 'relative';\n                            canvas.style.top = '';\n                            canvas.style.left = '';\n                            canvas.style.width = '100%';\n                            canvas.style.height = '100%';\n                            canvas.style.zIndex = '';\n                            canvas.style.backgroundColor = 'white';\n                            // Update size to match container\n                            const rect = container.getBoundingClientRect();\n                            canvas.width = rect.width || container.clientWidth || 800;\n                            canvas.height = rect.height || container.clientHeight || 600;\n                            const ctx = canvas.getContext('2d');\n                            ctx.fillStyle = 'white';\n                            ctx.fillRect(0, 0, canvas.width, canvas.height);\n                            delete canvas._originalState;\n                            console.log('Canvas exited fullscreen mode');\n                        }\n                    })[\"CollectedDatasetPage.useEffect\"],\n                    clear: ({\n                        \"CollectedDatasetPage.useEffect\": ()=>{\n                            const canvas = window.canvasManager.getCanvas();\n                            if (!canvas) return;\n                            const ctx = canvas.getContext('2d');\n                            ctx.clearRect(0, 0, canvas.width, canvas.height);\n                            ctx.fillStyle = 'white';\n                            ctx.fillRect(0, 0, canvas.width, canvas.height);\n                        }\n                    })[\"CollectedDatasetPage.useEffect\"]\n                };\n            }\n            // Debug info to verify canvas size and availability\n            const canvas = canvasRef.current;\n            if (canvas) {\n                console.log(\"Index.js: Canvas initialized\", {\n                    width: canvas.width,\n                    height: canvas.height\n                });\n                // Make canvas EXPLICITLY available globally\n                window.whiteScreenCanvas = canvas;\n                // Also store canvas dimensions\n                window.canvasDimensions = {\n                    width: canvas.width,\n                    height: canvas.height\n                };\n            } else {\n                console.warn(\"Canvas reference is not available during initialization\");\n            }\n            // Expose canvas initialization function globally\n            window.initializeCanvas = ({\n                \"CollectedDatasetPage.useEffect\": (canvas, parent)=>{\n                    if (!canvas || !parent) {\n                        console.warn('[initializeCanvas] Canvas or parent is null', {\n                            canvas,\n                            parent\n                        });\n                        return false;\n                    }\n                    try {\n                        // Set canvas dimensions to match parent\n                        canvas.width = parent.clientWidth || 800;\n                        canvas.height = parent.clientHeight || 600;\n                        // Clear canvas and set white background\n                        const ctx = canvas.getContext('2d');\n                        ctx.clearRect(0, 0, canvas.width, canvas.height);\n                        ctx.fillStyle = 'white';\n                        ctx.fillRect(0, 0, canvas.width, canvas.height);\n                        console.log(\"Canvas initialized with dimensions: \".concat(canvas.width, \"x\").concat(canvas.height));\n                        // Update global reference\n                        window.whiteScreenCanvas = canvas;\n                        window.canvasDimensions = {\n                            width: canvas.width,\n                            height: canvas.height\n                        };\n                        return true;\n                    } catch (error) {\n                        console.error('[initializeCanvas] Error initializing canvas:', error);\n                        return false;\n                    }\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            // Check canvas visibility and force initialization after a brief delay\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    const canvas = getMainCanvas();\n                    if (canvas) {\n                        const rect = canvas.getBoundingClientRect();\n                        console.log(\"Canvas initial visibility check:\", {\n                            dimensions: \"\".concat(canvas.width, \"x\").concat(canvas.height),\n                            rectSize: \"\".concat(rect.width, \"x\").concat(rect.height),\n                            isVisible: rect.width > 0 && rect.height > 0\n                        });\n                        // Force initialization if needed\n                        adjustCanvasDimensions();\n                    } else {\n                        console.warn(\"Canvas not found during visibility check\");\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 500);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    delete window.whiteScreenCanvas;\n                    delete window.canvasDimensions;\n                    delete window.initializeCanvas;\n                    delete window.canvasManager;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Improved canvas dimensions adjustment\n    const adjustCanvasDimensions = ()=>{\n        if (!isClient || !isHydrated || !previewAreaRef.current) return;\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found to adjust dimensions\");\n            return;\n        }\n        const container = previewAreaRef.current;\n        // Get the size of the preview area\n        const rect = container.getBoundingClientRect();\n        // Calculate proper height based on top bar visibility\n        const topBarHeight = showTopBar ? 120 : 0; // Adjust this value based on your top bar's actual height\n        console.log(\"Adjusting canvas dimensions\", {\n            containerWidth: rect.width,\n            containerHeight: rect.height,\n            topBarVisible: showTopBar,\n            calculatedHeight: rect.height\n        });\n        // Set canvas dimensions to match container size with top bar adjustment\n        canvas.width = rect.width;\n        canvas.height = rect.height;\n        // Clear the canvas\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        // Fill with white background\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        console.log(\"Canvas dimensions adjusted: \".concat(canvas.width, \"x\").concat(canvas.height));\n        // Update global reference with current dimensions\n        window.whiteScreenCanvas = canvas;\n        window.canvasDimensions = {\n            width: canvas.width,\n            height: canvas.height\n        };\n    };\n    // Create a capture folder on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!captureFolder && isClient && isHydrated) {\n                const timestamp = new Date().toISOString().replace(/[:\\.]/g, '-');\n                setCaptureFolder(\"session_\".concat(timestamp));\n                console.log(\"Created capture folder: session_\".concat(timestamp));\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        captureFolder,\n        isClient,\n        isHydrated\n    ]);\n    // Check backend connection on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return; // Skip on server or before hydration\n            const checkBackendConnection = {\n                \"CollectedDatasetPage.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendStatus(data.connected ? 'connected' : 'disconnected');\n                        console.log(\"Backend connection: \".concat(data.connected ? 'OK' : 'Failed'));\n                        // Show status in output text\n                        setOutputText(\"Backend \".concat(data.connected ? 'connected' : 'disconnected - using mock mode'));\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendStatus('disconnected');\n                        setOutputText('Backend disconnected - using mock mode');\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.checkBackendConnection\"];\n            checkBackendConnection();\n            // Welcome message after backend check\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    setOutputText('Camera system ready. Click \"Show Preview\" to start camera.');\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 2000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Add styles to document head for button highlighting\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Create a style element\n            const style = document.createElement('style');\n            style.textContent = \"\\n      @keyframes pulse {\\n        0% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0.7); }\\n        70% { box-shadow: 0 0 0 10px rgba(0, 102, 204, 0); }\\n        100% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0); }\\n      }\\n      \\n      @keyframes fadeIn {\\n        from { opacity: 0; transform: translateY(-10px); }\\n        to { opacity: 1; transform: translateY(0); }\\n      }\\n      \\n      .btn-highlight {\\n        animation: pulse 1.5s infinite;\\n        background-color: #0099ff !important;\\n        color: white !important;\\n        transform: scale(1.05);\\n        transition: all 0.3s ease;\\n      }\\n      \\n      .warning-banner {\\n        animation: fadeIn 0.3s ease-in-out;\\n      }\\n    \";\n            document.head.appendChild(style);\n            // Clean up\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    document.head.removeChild(style);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Make toggleTopBar function available globally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Make toggleTopBar available to other components\n            window.toggleTopBar = ({\n                \"CollectedDatasetPage.useEffect\": (show)=>{\n                    setShowTopBar(show);\n                    // Also hide metrics when hiding the top bar\n                    if (!show) {\n                        setShowMetrics(false);\n                    }\n                    // Adjust canvas dimensions after toggling\n                    setTimeout(adjustCanvasDimensions, 100);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    // Clean up\n                    delete window.toggleTopBar;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Toggle camera function\n    const toggleCamera = (shouldEnable)=>{\n        if (!isClient || !isHydrated) return;\n        if (shouldEnable) {\n            setShowCamera(true);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview started');\n        } else {\n            setShowCamera(false);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview stopped');\n        }\n    };\n    // Handler for action button clicks\n    const handleActionButtonClick = (actionType, params)=>{\n        if (!isClient || !isHydrated) return;\n        // Special case for toggling the top bar\n        if (actionType === 'toggleTopBar') {\n            // const newTopBarState = value !== undefined ? !!value : !showTopBar;\n            let newTopBarState;\n            if (typeof params === 'boolean') {\n                newTopBarState = params;\n            } else if (params && typeof params.value !== 'undefined') {\n                newTopBarState = !!params.value;\n            } else {\n                newTopBarState = !showTopBar;\n            }\n            setShowTopBar(newTopBarState);\n            // Also hide metrics when hiding the top bar\n            if (!newTopBarState) {\n                setShowMetrics(false);\n            }\n            setOutputText(\"TopBar \".concat(newTopBarState ? 'shown' : 'hidden').concat(!newTopBarState ? ', Metrics hidden' : ''));\n            // Adjust canvas dimensions after toggling\n            setTimeout(adjustCanvasDimensions, 100);\n            return;\n        }\n        const canvas = getMainCanvas();\n        setShowWarning(false);\n        // Clear any existing warnings\n        const safeParams = params || {};\n        // Use safeParams instead of controlValues\n        const randomTimes = safeParams.randomTimes || 1;\n        const delaySeconds = safeParams.delaySeconds || 3;\n        switch(actionType){\n            case 'preview':\n                // Toggle camera state\n                if (showCamera) {\n                    toggleCamera(false);\n                } else if (cameraPermissionGranted) {\n                    toggleCamera(true);\n                } else {\n                    // Otherwise show permission popup\n                    setShowPermissionPopup(true);\n                    setOutputText('Opening camera preview');\n                    setShowCameraPlaceholder(true);\n                }\n                break;\n            case 'setRandom':\n                setOutputText('Starting random sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                // Use the imported module approach - similar to calibrate\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetRandom) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for Set Random');\n                    actionButtonGroupRef.current.handleSetRandom();\n                } else if ( true && window.actionButtonFunctions && typeof window.actionButtonFunctions.handleSetRandom === 'function') {\n                    // Fallback to global method\n                    console.log('Using global bridge method for Set Random');\n                    window.actionButtonFunctions.handleSetRandom();\n                } else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random sequence\");\n                        setOutputText(\"Error: Canvas not available for random sequence\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Get control values from the TopBar\n                    const timeInput = document.querySelector('.control-input-field');\n                    const delayInput = document.querySelectorAll('.control-input-field')[1];\n                    // Default values if inputs can't be found\n                    let times = 1;\n                    let delay = 3;\n                    // Parse input values if available\n                    if (timeInput) {\n                        const parsedTime = parseInt(timeInput.value, 10);\n                        if (!isNaN(parsedTime) && parsedTime > 0) {\n                            times = parsedTime;\n                        }\n                    }\n                    if (delayInput) {\n                        const parsedDelay = parseInt(delayInput.value, 10);\n                        if (!isNaN(parsedDelay) && parsedDelay > 0) {\n                            delay = parsedDelay;\n                        }\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-browser)/./components/collected-dataset-customized/Action/countSave.jsx\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-browser)/./components/collected-dataset-customized/Helper/savefile.js\"))\n                    ]).then(async (param)=>{\n                        let [countSaveModule, savefileModule] = param;\n                        // Destructure the imported modules\n                        const { getRandomPosition, drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Process all captures sequentially\n                            let successCount = 0;\n                            let currentCapture = 1;\n                            while(currentCapture <= times){\n                                // Update status for current capture\n                                setOutputText(\"Capture \".concat(currentCapture, \" of \").concat(times));\n                                // Clear canvas before each capture\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Generate random position for this capture\n                                const position = getRandomPosition(canvas, 20);\n                                // Draw the dot\n                                drawRedDot(ctx, position.x, position.y);\n                                // Create a redrawInterval to ensure dot stays visible\n                                let redrawInterval = setInterval(()=>{\n                                    drawRedDot(ctx, position.x, position.y, 12, false);\n                                }, 200);\n                                // Run countdown and wait for it to complete\n                                await new Promise((resolve)=>{\n                                    runCountdown(position, canvas, (status)=>{\n                                        // Update UI based on status\n                                        if (status.processStatus) {\n                                            setOutputText(\"Capture \".concat(currentCapture, \"/\").concat(times, \": \").concat(status.processStatus));\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Clear redrawInterval after countdown\n                                clearInterval(redrawInterval);\n                                // Wait briefly after countdown\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: position,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(\"Error capturing point \".concat(currentCapture, \":\"), error);\n                                }\n                                // Wait between captures for the specified delay time\n                                if (currentCapture < times) {\n                                    setOutputText(\"Waiting \".concat(delay, \"s before next capture...\"));\n                                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                                }\n                                // Move to next capture\n                                currentCapture++;\n                            }\n                            // Sequence complete\n                            setOutputText(\"Random capture sequence completed: \".concat(successCount, \"/\").concat(times, \" captures successful\"));\n                        } catch (error) {\n                            console.error(\"Random sequence error:\", error);\n                            setOutputText(\"Random sequence error: \".concat(error.message));\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(\"Error: \".concat(error.message));\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'randomDot':\n                setOutputText('Random dot action triggered');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                console.log('Attempting to access Random Dot functionality');\n                // Use the random dot functionality from actionButton.js by delegating to ActionButtonGroup\n                // This assumes you have a ref to the ActionButtonGroup component\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleRandomDot) {\n                    console.log('Using ref method');\n                    actionButtonGroupRef.current.handleRandomDot();\n                } else if ( true && window.actionButtonFunctions && typeof window.actionButtonFunctions.handleRandomDot === 'function') {\n                    console.log('Using global bridge method');\n                    window.actionButtonFunctions.handleRandomDot();\n                } else {\n                    // Fallback implementation\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random dot action\");\n                        setOutputText(\"Error: Canvas not available for random dot\");\n                        setShowTopBar(true); // Show TopBar again if there's an error\n                        break;\n                    }\n                    const parent = previewAreaRef.current;\n                    if (!parent) {\n                        console.error(\"Parent not found for canvas\");\n                        setOutputText(\"Error: Canvas parent not available\");\n                        setShowTopBar(true);\n                        break;\n                    }\n                    // Initialize canvas explicitly\n                    canvas.width = parent.clientWidth || 800;\n                    canvas.height = parent.clientHeight || 600;\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    console.log(\"Canvas ready for random dot: \".concat(canvas.width, \"x\").concat(canvas.height));\n                    // Update global reference\n                    window.whiteScreenCanvas = canvas;\n                    // Generate random position\n                    const position = (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.getRandomPosition)(canvas, 20);\n                    // Draw the dot using the imported function\n                    const dot = (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.drawRedDot)(ctx, position.x, position.y, 8, false);\n                    console.log(\"Random dot drawn at: \".concat(position.x, \", \").concat(position.y));\n                    // Start a countdown for capture\n                    (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.runCountdown)(position, canvas, (status)=>{\n                        // Update UI based on status\n                        if (status.processStatus) {\n                            setOutputText(status.processStatus);\n                        }\n                    }, ()=>{\n                        // Enable camera before capture\n                        // triggerCameraAccess(true);\n                        // Wait briefly for camera to initialize\n                        setTimeout(()=>{\n                            // Use the directly imported captureImagesAtPoint from the Helper/savefile.js\n                            Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-browser)/./components/collected-dataset-customized/Helper/savefile.js\")).then((param)=>{\n                                let { captureImagesAtPoint } = param;\n                                captureImagesAtPoint({\n                                    point: position,\n                                    captureCount: captureCounter,\n                                    canvasRef: {\n                                        current: canvas\n                                    },\n                                    setCaptureCount: setCaptureCounter,\n                                    showCapturePreview: _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.showCapturePreview\n                                }).then(()=>{\n                                    setCaptureCounter((prev)=>prev + 1);\n                                    // Show TopBar again after capture\n                                    setTimeout(()=>{\n                                        setShowTopBar(true);\n                                    }, 2200);\n                                }).catch((err)=>{\n                                    console.error(\"Error capturing images:\", err);\n                                    setOutputText(\"Error: \".concat(err.message));\n                                    setShowTopBar(true);\n                                });\n                            }).catch((err)=>{\n                                console.error(\"Error importing savefile module:\", err);\n                                setOutputText(\"Error: \".concat(err.message));\n                                setShowTopBar(true);\n                            });\n                        }, 500);\n                    });\n                }\n                break;\n            case 'headPose':\n                const newHeadPoseState = !showHeadPose;\n                setShowHeadPose(newHeadPoseState);\n                setOutputText(\"Head pose visualization \".concat(newHeadPoseState ? 'enabled' : 'disabled'));\n                if (newHeadPoseState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newHeadPoseState && !showBoundingBox && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showHeadPose: newHeadPoseState\n                    });\n                }\n                break;\n            case 'boundingBox':\n                const newBoundingBoxState = !showBoundingBox;\n                setShowBoundingBox(newBoundingBoxState);\n                setOutputText(\"Bounding box \".concat(newBoundingBoxState ? 'shown' : 'hidden'));\n                if (newBoundingBoxState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newBoundingBoxState && !showHeadPose && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showBoundingBox: newBoundingBoxState\n                    });\n                }\n                break;\n            case 'mask':\n                const newMaskState = !showMask;\n                setShowMask(newMaskState);\n                setOutputText(\"Mask \".concat(newMaskState ? 'shown' : 'hidden'));\n                if (newMaskState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newMaskState && !showHeadPose && !showBoundingBox && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showMask: newMaskState\n                    });\n                }\n                break;\n            case 'parameters':\n                const newParametersState = !showParameters;\n                setShowParameters(newParametersState);\n                setOutputText(\"Parameters \".concat(newParametersState ? 'shown' : 'hidden'));\n                if (newParametersState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newParametersState && !showHeadPose && !showBoundingBox && !showMask) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showParameters: newParametersState\n                    });\n                }\n                break;\n            // Fixed calibrate case handler in index.js\n            case 'calibrate':\n                setOutputText('Starting calibration sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetCalibrate) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for calibration');\n                    actionButtonGroupRef.current.handleSetCalibrate();\n                } else if ( true && window.actionButtonFunctions && typeof window.actionButtonFunctions.handleSetCalibrate === 'function') {\n                    // Fallback to global method\n                    console.log('Using global bridge method for calibration');\n                    window.actionButtonFunctions.handleSetCalibrate();\n                } else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for calibration\");\n                        setOutputText(\"Error: Canvas not available for calibration\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/CalibratePoints.jsx */ \"(pages-dir-browser)/./components/collected-dataset-customized/Action/CalibratePoints.jsx\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/countSave.jsx */ \"(pages-dir-browser)/./components/collected-dataset-customized/Action/countSave.jsx\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-browser)/./components/collected-dataset-customized/Helper/savefile.js\"))\n                    ]).then(async (param)=>{\n                        let [calibratePointsModule, countSaveModule, savefileModule] = param;\n                        // Destructure the imported modules\n                        const { generateCalibrationPoints } = calibratePointsModule;\n                        const { drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Generate calibration points\n                            const points = generateCalibrationPoints(canvas.width, canvas.height);\n                            if (!points || points.length === 0) {\n                                throw new Error(\"Failed to generate calibration points\");\n                            }\n                            // Create status indicator\n                            const statusIndicator = document.createElement('div');\n                            statusIndicator.className = 'calibrate-status-indicator';\n                            statusIndicator.style.cssText = \"\\n                position: fixed;\\n                top: 10px;\\n                right: 10px;\\n                background-color: rgba(0, 102, 204, 0.9);\\n                color: white;\\n                font-size: 14px;\\n                font-weight: bold;\\n                padding: '8px 12px';\\n                border-radius: 6px;\\n                z-index: 9999;\\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\\n              \";\n                            statusIndicator.textContent = 'Calibration: Initializing...';\n                            document.body.appendChild(statusIndicator);\n                            // Access webcam before starting calibration if available\n                            if (typeof triggerCameraAccess === 'function') {\n                                triggerCameraAccess(true);\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                            }\n                            // Process points sequentially\n                            let successCount = 0;\n                            for(let i = 0; i < points.length; i++){\n                                const point = points[i];\n                                statusIndicator.textContent = \"Calibration: Point \".concat(i + 1, \"/\").concat(points.length);\n                                setOutputText(\"Processing calibration point \".concat(i + 1, \"/\").concat(points.length));\n                                // Clear the canvas before drawing new point\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Draw the dot\n                                drawRedDot(ctx, point.x, point.y);\n                                // Run countdown\n                                await new Promise((resolve)=>{\n                                    runCountdown(point, canvas, (status)=>{\n                                        if (status.processStatus) {\n                                            setOutputText(status.processStatus);\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: point,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview: showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(\"Error capturing point \".concat(i + 1, \":\"), error);\n                                }\n                                // Wait between points\n                                await new Promise((resolve)=>setTimeout(resolve, 1200));\n                            }\n                            // Calibration complete\n                            statusIndicator.textContent = \"Calibration complete: \".concat(successCount, \"/\").concat(points.length, \" points\");\n                            setOutputText(\"Calibration completed: \".concat(successCount, \"/\").concat(points.length, \" points captured\"));\n                            // Remove the status indicator after a delay\n                            setTimeout(()=>{\n                                if (statusIndicator.parentNode) {\n                                    statusIndicator.parentNode.removeChild(statusIndicator);\n                                }\n                            }, 3000);\n                        } catch (error) {\n                            console.error(\"Calibration error:\", error);\n                            setOutputText(\"Calibration error: \".concat(error.message));\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(\"Calibration error: \".concat(error.message));\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'clearAll':\n                // Clear canvas\n                // const canvas = getMainCanvas();\n                if (canvas) {\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    setOutputText('Canvas cleared');\n                }\n                break;\n            default:\n                setOutputText(\"Action triggered: \".concat(actionType));\n        }\n    };\n    const handlePermissionAccepted = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setCameraPermissionGranted(true);\n        toggleCamera(true);\n    };\n    const handlePermissionDenied = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setShowCameraPlaceholder(false);\n        setOutputText('Camera permission denied');\n    };\n    const handleCameraClose = ()=>{\n        if (!isClient || !isHydrated) return;\n        toggleCamera(false);\n    };\n    const handleCameraReady = (dimensions)=>{\n        if (!isClient || !isHydrated) return;\n        setMetrics({\n            width: dimensions.width,\n            height: dimensions.height,\n            distance: dimensions.distance || '---'\n        });\n        setOutputText(\"Camera ready: \".concat(dimensions.width, \"x\").concat(dimensions.height));\n    };\n    // Toggle top bar function\n    const toggleTopBar = (show)=>{\n        const newTopBarState = show !== undefined ? show : !showTopBar;\n        setShowTopBar(newTopBarState);\n        // Also hide metrics when hiding the top bar\n        if (!newTopBarState) {\n            setShowMetrics(false);\n        }\n        setOutputText(\"TopBar \".concat(newTopBarState ? 'shown' : 'hidden').concat(!newTopBarState ? ', Metrics hidden' : ''));\n        // Wait for state update and DOM changes, then adjust canvas\n        setTimeout(adjustCanvasDimensions, 100);\n    };\n    // Toggle metrics function\n    const toggleMetrics = ()=>{\n        if (showTopBar) {\n            setShowMetrics((prev)=>!prev);\n            setOutputText(\"Metrics \".concat(!showMetrics ? 'shown' : 'hidden'));\n        } else {\n            // If topBar is hidden, we can't show metrics\n            setOutputText('Cannot show metrics when TopBar is hidden');\n        }\n    };\n    // Function to trigger camera access\n    const triggerCameraAccess = (forceEnable)=>{\n        if (forceEnable) {\n            // Wait a bit for VideoProcessor to be available\n            const waitForVideoProcessor = ()=>{\n                return new Promise((resolve)=>{\n                    const checkProcessor = ()=>{\n                        if (window.videoProcessor && typeof window.videoProcessor.startVideoProcessing === 'function') {\n                            resolve(true);\n                        } else {\n                            setTimeout(checkProcessor, 100);\n                        }\n                    };\n                    checkProcessor();\n                });\n            };\n            // Try to enable camera directly\n            waitForVideoProcessor().then((processorAvailable)=>{\n                if (processorAvailable) {\n                    setShowCamera(true);\n                    setShowCameraPlaceholder(false);\n                    setCameraPermissionGranted(true);\n                    // Start video processing with current options\n                    try {\n                        window.videoProcessor.startVideoProcessing({\n                            showHeadPose,\n                            showBoundingBox,\n                            showMask,\n                            showParameters,\n                            showProcessedImage: true\n                        });\n                        console.log('Video processing started successfully');\n                        return true;\n                    } catch (error) {\n                        console.error('Error starting video processing:', error);\n                        setShowCamera(false);\n                        setShowCameraPlaceholder(false);\n                        setCameraPermissionGranted(false);\n                        return false;\n                    }\n                } else {\n                    console.warn('VideoProcessor not available after waiting');\n                    // Fallback to showing camera permission popup\n                    setShowPermissionPopup(true);\n                    return false;\n                }\n            }).catch((error)=>{\n                console.error('Error waiting for VideoProcessor:', error);\n                setShowPermissionPopup(true);\n                return false;\n            });\n            // Return true immediately to indicate we're trying\n            return true;\n        }\n        // Just toggle current state if not forcing\n        if (cameraPermissionGranted) {\n            toggleCamera(!showCamera);\n            return true;\n        } else {\n            setShowPermissionPopup(true);\n            return false;\n        }\n    };\n    // Dynamic class to reflect current window size\n    const getSizeClass = ()=>{\n        const { percentage } = windowSize;\n        if (percentage < 35) return 'window-size-tiny';\n        if (percentage < 50) return 'window-size-small';\n        if (percentage < 70) return 'window-size-medium';\n        return 'window-size-large';\n    };\n    // Add this function to handle settings visibility\n    const handleSettingsVisibility = (isVisible)=>{\n        setShowSettings(isVisible);\n    };\n    // Add this effect to listen for settings visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsMessage = {\n                \"CollectedDatasetPage.useEffect.handleSettingsMessage\": (event)=>{\n                    if (event.data.type === 'SHOW_SETTINGS') {\n                        setShowSettings(event.data.show);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsMessage\"];\n            window.addEventListener('message', handleSettingsMessage);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('message', handleSettingsMessage);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"CollectedDatasetPage.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        setCurrentUserId(event.detail.userId);\n                        // Dispatch event to update settings for the new user\n                        const event = new CustomEvent('captureSettingsUpdate', {\n                            detail: {\n                                type: 'captureSettings',\n                                userId: event.detail.userId\n                            }\n                        });\n                        window.dispatchEvent(event);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Initialize settings when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (consentUserId) {\n                // Set the current user ID\n                setCurrentUserId(consentUserId);\n                // Dispatch event to update settings for this user\n                const event = new CustomEvent('captureSettingsUpdate', {\n                    detail: {\n                        type: 'captureSettings',\n                        userId: consentUserId\n                    }\n                });\n                window.dispatchEvent(event);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Load settings from backend when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const loadSettings = {\n                \"CollectedDatasetPage.useEffect.loadSettings\": async ()=>{\n                    if (!consentUserId) return;\n                    try {\n                        const response = await fetch(\"/api/data-center/settings/\".concat(consentUserId));\n                        if (!response.ok) {\n                            throw new Error('Failed to load settings');\n                        }\n                        const loadedSettings = await response.json();\n                        // Wait for the component to be mounted and ref to be initialized\n                        const waitForRef = {\n                            \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": function() {\n                                let retries = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 5;\n                                if (actionButtonGroupRef.current && typeof actionButtonGroupRef.current.updateSettings === 'function') {\n                                    // Update the settings for this user\n                                    actionButtonGroupRef.current.updateSettings(loadedSettings);\n                                    // Dispatch event to update UI\n                                    const event = new CustomEvent('captureSettingsUpdate', {\n                                        detail: {\n                                            type: 'captureSettings',\n                                            userId: consentUserId,\n                                            times: loadedSettings.times,\n                                            delay: loadedSettings.delay\n                                        }\n                                    });\n                                    window.dispatchEvent(event);\n                                } else if (retries > 0) {\n                                    setTimeout({\n                                        \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": ()=>waitForRef(retries - 1)\n                                    }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"], 500);\n                                } else {\n                                    console.warn('ActionButtonGroup ref not initialized after retries');\n                                }\n                            }\n                        }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"];\n                        waitForRef();\n                    } catch (error) {\n                        console.error('Error loading settings:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.loadSettings\"];\n            // Add a small delay to ensure components are mounted\n            setTimeout(loadSettings, 1000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Add polling for real-time updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const fetchUpdates = {\n                \"CollectedDatasetPage.useEffect.fetchUpdates\": async ()=>{\n                    if (!consentUserId) return;\n                    try {\n                        const response = await fetch(\"/api/data-center/settings/\".concat(consentUserId));\n                        if (!response.ok) throw new Error('Failed to fetch settings');\n                        const settings = await response.json();\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings(settings);\n                        }\n                    // You can add image fetching logic here if needed\n                    } catch (error) {\n                        console.error('Error fetching updates:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.fetchUpdates\"];\n            // Initial fetch\n            fetchUpdates();\n            // Set up polling interval\n            const interval = setInterval(fetchUpdates, 3000);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    clearInterval(interval);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Add event listeners for settings and image updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    var _event_detail, _event_detail1;\n                    if (((_event_detail = event.detail) === null || _event_detail === void 0 ? void 0 : _event_detail.type) === 'captureSettings' && ((_event_detail1 = event.detail) === null || _event_detail1 === void 0 ? void 0 : _event_detail1.userId) === consentUserId) {\n                        const { times, delay } = event.detail;\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings({\n                                times,\n                                delay\n                            });\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            const handleImageUpdate = {\n                \"CollectedDatasetPage.useEffect.handleImageUpdate\": (event)=>{\n                    var _event_detail, _event_detail1;\n                    if (((_event_detail = event.detail) === null || _event_detail === void 0 ? void 0 : _event_detail.type) === 'image' && ((_event_detail1 = event.detail) === null || _event_detail1 === void 0 ? void 0 : _event_detail1.userId) === consentUserId) {\n                        const { image } = event.detail;\n                    // Update image in the UI if needed\n                    // You can add your image update logic here\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleImageUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            window.addEventListener('imageUpdate', handleImageUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                    window.removeEventListener('imageUpdate', handleImageUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Load settings for a specific user\n    const loadSettings = async (userId)=>{\n        try {\n            console.log('Loading settings for user:', userId);\n            const response = await fetch(\"/api/data-center/settings/\".concat(userId));\n            if (!response.ok) throw new Error('Failed to fetch settings');\n            const userSettings = await response.json();\n            console.log('Fetched settings:', userSettings);\n            // Dispatch settings update event\n            const event = new CustomEvent('captureSettingsUpdate', {\n                detail: {\n                    type: 'captureSettings',\n                    userId,\n                    ...userSettings\n                }\n            });\n            window.dispatchEvent(event);\n        } catch (error) {\n            console.error('Error loading settings:', error);\n        }\n    };\n    // Handle user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (consentUserId && consentUserId !== currentUserId) {\n                console.log('User ID changed in index.js:', consentUserId);\n                setCurrentUserId(consentUserId);\n                // Dispatch event to notify other components\n                const event = new CustomEvent('userIdChange', {\n                    detail: {\n                        userId: consentUserId\n                    }\n                });\n                window.dispatchEvent(event);\n                // Load settings for the new user\n                loadSettings(consentUserId);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId,\n        currentUserId\n    ]);\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        if (userId === currentUserId) {\n                            // Update the settings for this user\n                            if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                                actionButtonGroupRef.current.updateSettings({\n                                    times: times || 1,\n                                    delay: delay || 3\n                                });\n                            }\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        currentUserId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"main-container \".concat(getSizeClass()),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Camera Dataset Collection\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1553,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1554,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1552,\n                columnNumber: 7\n            }, this),\n            isHydrated && backendStatus === 'disconnected' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    padding: '6px 0',\n                    backgroundColor: '#ffe0b2',\n                    color: '#e65100',\n                    textAlign: 'center',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    zIndex: 1100\n                },\n                children: \" Backend disconnected. Hurry up, Make ONLINE please and Using mock mode\"\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1559,\n                columnNumber: 9\n            }, this),\n            isHydrated && showWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"warning-banner\",\n                style: {\n                    position: 'fixed',\n                    top: showTopBar ? backendStatus === 'disconnected' ? '32px' : '60px' : '0',\n                    left: '0',\n                    width: '100%',\n                    backgroundColor: '#ffeb3b',\n                    color: '#333',\n                    padding: '10px',\n                    textAlign: 'center',\n                    boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                    zIndex: 1010,\n                    animation: 'fadeIn 0.3s ease-in-out'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                    children: [\n                        \" \",\n                        warningMessage\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1591,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1578,\n                columnNumber: 9\n            }, this),\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"loading-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Loading user settings...\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1597,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1596,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    isHydrated && isClient && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(VideoProcessorComponent, {}, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1603,\n                        columnNumber: 9\n                    }, this),\n                    showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        onButtonClick: handleActionButtonClick,\n                        onCameraAccess: ()=>setShowPermissionPopup(true),\n                        outputText: statusMessage || outputText,\n                        onOutputChange: (text)=>setOutputText(text),\n                        onToggleTopBar: toggleTopBar,\n                        onToggleMetrics: toggleMetrics,\n                        canvasRef: canvasRef\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1608,\n                        columnNumber: 13\n                    }, this),\n                    !showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"restore-button-container\",\n                        style: {\n                            position: 'fixed',\n                            top: '10px',\n                            right: '10px',\n                            zIndex: 1000\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"restore-btn\",\n                            onClick: ()=>toggleTopBar(true),\n                            title: \"Show TopBar and Metrics\",\n                            style: {\n                                padding: '5px 10px',\n                                background: '#0066cc',\n                                color: 'white',\n                                border: 'none',\n                                borderRadius: '4px',\n                                fontSize: '16px',\n                                cursor: 'pointer'\n                            },\n                            children: \"\"\n                        }, void 0, false, {\n                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                            lineNumber: 1627,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1621,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: previewAreaRef,\n                        className: \"camera-preview-area\",\n                        style: {\n                            height: showTopBar ? 'calc(100vh - 120px)' : '100vh',\n                            marginTop: backendStatus === 'disconnected' ? '32px' : '0',\n                            position: 'relative',\n                            backgroundColor: '#f5f5f5',\n                            overflow: 'hidden'\n                        },\n                        children: [\n                            !showCamera ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"camera-preview-message\",\n                                        style: {\n                                            padding: '20px',\n                                            textAlign: 'center',\n                                            position: showTopBar ? 'relative' : 'absolute',\n                                            width: '100%',\n                                            zIndex: 5\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Camera preview will appear here\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1686,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"camera-size-indicator\",\n                                                children: [\n                                                    \"Current window: \",\n                                                    windowSize.percentage,\n                                                    \"% of screen width\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1687,\n                                                columnNumber: 19\n                                            }, this),\n                                            isHydrated && showCameraPlaceholder && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"camera-placeholder-square\",\n                                                style: {\n                                                    width: '180px',\n                                                    height: '135px',\n                                                    margin: '20px auto',\n                                                    border: '2px dashed #666',\n                                                    borderRadius: '4px',\n                                                    backgroundColor: '#f5f5f5',\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    justifyContent: 'center'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: '1.5rem'\n                                                    },\n                                                    children: \"\\uD83D\\uDCF7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                    lineNumber: 1705,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1691,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1679,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"canvas-container\",\n                                        style: {\n                                            position: 'absolute',\n                                            top: 0,\n                                            left: 0,\n                                            width: '100%',\n                                            height: '100%',\n                                            backgroundColor: 'white',\n                                            overflow: 'hidden',\n                                            border: 'none',\n                                            zIndex: 10,\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center'\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                            ref: canvasRef,\n                                            className: \"tracking-canvas\",\n                                            style: {\n                                                width: '100%',\n                                                height: '100%',\n                                                display: 'block',\n                                                maxWidth: '100%',\n                                                maxHeight: '100%',\n                                                objectFit: 'contain'\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1728,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1711,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true) : null,\n                            isHydrated && showMetrics && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                width: metrics.width,\n                                height: metrics.height,\n                                distance: metrics.distance,\n                                isVisible: showMetrics\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1746,\n                                columnNumber: 15\n                            }, this),\n                            isHydrated && isClient && showCamera && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DynamicCameraAccess, {\n                                isShowing: showCamera,\n                                onClose: handleCameraClose,\n                                onCameraReady: handleCameraReady,\n                                showHeadPose: showHeadPose,\n                                showBoundingBox: showBoundingBox,\n                                showMask: showMask,\n                                showParameters: showParameters,\n                                videoRef: videoRef\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1756,\n                                columnNumber: 15\n                            }, this),\n                            isHydrated && isClient && showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"camera-permission-popup\",\n                                style: {\n                                    position: 'fixed',\n                                    top: 0,\n                                    left: 0,\n                                    width: '100%',\n                                    height: '100%',\n                                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    alignItems: 'center',\n                                    zIndex: 2000\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"camera-permission-dialog\",\n                                    style: {\n                                        width: '400px',\n                                        backgroundColor: 'white',\n                                        borderRadius: '8px',\n                                        padding: '20px',\n                                        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"camera-permission-title\",\n                                            style: {\n                                                margin: '0 0 15px',\n                                                fontSize: '18px',\n                                                fontWeight: 'bold'\n                                            },\n                                            children: \"Camera Access Required\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1789,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"camera-permission-message\",\n                                            style: {\n                                                margin: '0 0 20px',\n                                                fontSize: '14px',\n                                                lineHeight: '1.4'\n                                            },\n                                            children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1794,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"camera-permission-buttons\",\n                                            style: {\n                                                display: 'flex',\n                                                justifyContent: 'flex-end',\n                                                gap: '10px'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handlePermissionDenied,\n                                                    className: \"camera-btn\",\n                                                    style: {\n                                                        padding: '8px 16px',\n                                                        backgroundColor: '#f0f0f0',\n                                                        border: 'none',\n                                                        borderRadius: '4px',\n                                                        cursor: 'pointer'\n                                                    },\n                                                    children: \"Cancel\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                    lineNumber: 1807,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handlePermissionAccepted,\n                                                    className: \"camera-btn\",\n                                                    style: {\n                                                        padding: '8px 16px',\n                                                        backgroundColor: '#0066cc',\n                                                        color: 'white',\n                                                        border: 'none',\n                                                        borderRadius: '4px',\n                                                        cursor: 'pointer'\n                                                    },\n                                                    children: \"Continue\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                    lineNumber: 1820,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1802,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1782,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1770,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1647,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n        lineNumber: 1551,\n        columnNumber: 5\n    }, this);\n}\n_s(CollectedDatasetPage, \"dPRoW5+9h6WED+2wlVkeXYK1P7Y=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_10__.useRouter,\n        _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_9__.useConsent\n    ];\n});\n_c2 = CollectedDatasetPage;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"VideoProcessorComponent\");\n$RefreshReg$(_c1, \"DynamicCameraAccess\");\n$RefreshReg$(_c2, \"CollectedDatasetPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxREFBcUQ7OztBQUNNO0FBQzlCO0FBQ007QUFDVTtBQUNrQjtBQUNHO0FBQ3FHO0FBQ2xEO0FBQ2hEO0FBQzdCO0FBRXhDLHlFQUF5RTtBQUN6RSxNQUFNaUIsMEJBQTBCWixtREFBT0EsQ0FDckMsSUFBTSxrVkFBa0Q7Ozs7OztJQUN0RGEsS0FBSzs7S0FGSEQ7QUFLTiw0REFBNEQ7QUFDNUQsTUFBTUUsc0JBQXNCZCxtREFBT0EsQ0FDakMsSUFBTSxpVEFBdUM7Ozs7OztJQUUzQ2EsS0FBSztJQUNMRSxTQUFTLGtCQUNQLDhEQUFDQztZQUFJQyxPQUFPO2dCQUNWQyxVQUFVO2dCQUNWQyxLQUFLO2dCQUNMQyxNQUFNO2dCQUNOQyxXQUFXO2dCQUNYQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxpQkFBaUI7Z0JBQ2pCQyxRQUFRO2dCQUNSQyxjQUFjO2dCQUNkQyxTQUFTO2dCQUNUQyxlQUFlO2dCQUNmQyxnQkFBZ0I7Z0JBQ2hCQyxZQUFZO2dCQUNaQyxXQUFXO2dCQUNYQyxRQUFRO1lBQ1Y7OzhCQUNFLDhEQUFDaEI7b0JBQUlDLE9BQU87d0JBQUVnQixVQUFVO3dCQUFRQyxjQUFjO29CQUFPOzhCQUFHOzs7Ozs7OEJBQ3hELDhEQUFDQztvQkFBRWxCLE9BQU87d0JBQUVnQixVQUFVO3dCQUFRRyxZQUFZO3dCQUFRQyxPQUFPO29CQUFVOzhCQUFHOzs7Ozs7Ozs7Ozs7O01BdkJ4RXZCO0FBK0JTLFNBQVN3Qjs7SUFDdEIsTUFBTUMsU0FBUzVCLHVEQUFTQTtJQUN4QixNQUFNLEVBQUU2QixRQUFRQyxhQUFhLEVBQUUsR0FBRy9CLDhFQUFVQTtJQUM1QyxNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUcvQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUNnRCxXQUFXQyxh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Q0FDaEJDLFlBQVk7b0NBQ1pFLFFBQVE7Z0NBQ1Y7MENBQ0UsNEVBQUNoQjtvQ0FBSXVJLFdBQVU7b0NBQTJCdEksT0FBTzt3Q0FDL0NLLE9BQU87d0NBQ1BFLGlCQUFpQjt3Q0FDakJFLGNBQWM7d0NBQ2R1USxTQUFTO3dDQUNUQyxXQUFXO29DQUNiOztzREFDRSw4REFBQ3dCOzRDQUFHbkssV0FBVTs0Q0FBMEJ0SSxPQUFPO2dEQUM3Q2tTLFFBQVE7Z0RBQ1JsUixVQUFVO2dEQUNWRyxZQUFZOzRDQUNkO3NEQUFHOzs7Ozs7c0RBQ0gsOERBQUNEOzRDQUFFb0gsV0FBVTs0Q0FBNEJ0SSxPQUFPO2dEQUM5Q2tTLFFBQVE7Z0RBQ1JsUixVQUFVO2dEQUNWMFIsWUFBWTs0Q0FDZDtzREFBRzs7Ozs7O3NEQUlILDhEQUFDM1M7NENBQUl1SSxXQUFVOzRDQUE0QnRJLE9BQU87Z0RBQ2hEVSxTQUFTO2dEQUNURSxnQkFBZ0I7Z0RBQ2hCK1IsS0FBSzs0Q0FDUDs7OERBQ0UsOERBQUNoQjtvREFDQ0MsU0FBU2hEO29EQUNUdEcsV0FBVTtvREFDVnRJLE9BQU87d0RBQ0xnUixTQUFTO3dEQUNUelEsaUJBQWlCO3dEQUNqQkMsUUFBUTt3REFDUkMsY0FBYzt3REFDZHFSLFFBQVE7b0RBQ1Y7OERBQ0Q7Ozs7Ozs4REFHRCw4REFBQ0g7b0RBQ0NDLFNBQVNqRDtvREFDVHJHLFdBQVU7b0RBQ1Z0SSxPQUFPO3dEQUNMZ1IsU0FBUzt3REFDVHpRLGlCQUFpQjt3REFDakJhLE9BQU87d0RBQ1BaLFFBQVE7d0RBQ1JDLGNBQWM7d0RBQ2RxUixRQUFRO29EQUNWOzhEQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWXJCO0dBaHdEd0J6UTs7UUFDUDNCLG1EQUFTQTtRQUNVRCwwRUFBVUE7OztNQUZ0QjRCIiwic291cmNlcyI6WyIvYXBwL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kaWZpZWQgaW5kZXguanMgLSBGaXhpbmcgY2FudmFzIHJlZmVyZW5jZSBpc3N1ZXNcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCBUb3BCYXIgZnJvbSAnLi9jb21wb25lbnRzLWd1aS90b3BCYXInO1xuaW1wb3J0IERpc3BsYXlSZXNwb25zZSBmcm9tICcuL2NvbXBvbmVudHMtZ3VpL2Rpc3BsYXlSZXNwb25zZSc7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Hcm91cCB9IGZyb20gJy4vY29tcG9uZW50cy1ndWkvYWN0aW9uQnV0dG9uJztcbmltcG9ydCB7IHNob3dDYXB0dXJlUHJldmlldywgY2FwdHVyZUltYWdlc0F0UG9pbnQsIGRyYXdSZWREb3QsIGdldFJhbmRvbVBvc2l0aW9uLCBydW5Db3VudGRvd24gfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL2NvdW50U2F2ZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMuanN4JztcbmltcG9ydCB7IHVzZUNvbnNlbnQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbnNlbnQvQ29uc2VudENvbnRleHQnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuXG4vLyBEeW5hbWljYWxseSBsb2FkIHRoZSB2aWRlbyBwcm9jZXNzb3IgY29tcG9uZW50IChub3QgdGhlIGhvb2sgZGlyZWN0bHkpXG5jb25zdCBWaWRlb1Byb2Nlc3NvckNvbXBvbmVudCA9IGR5bmFtaWMoXG4gICgpID0+IGltcG9ydCgnLi9jb21wb25lbnRzLWd1aS9WaWRlb1Byb2Nlc3NvckNvbXBvbmVudCcpLFxuICB7IHNzcjogZmFsc2UgfVxuKTtcblxuLy8gRHluYW1pY2FsbHkgaW1wb3J0IHRoZSBjYW1lcmEgY29tcG9uZW50IHdpdGggU1NSIGRpc2FibGVkXG5jb25zdCBEeW5hbWljQ2FtZXJhQWNjZXNzID0gZHluYW1pYyhcbiAgKCkgPT4gaW1wb3J0KCcuL2NvbXBvbmVudHMtZ3VpL2NhbWVyYUFjY2VzcycpLFxuICB7IFxuICAgIHNzcjogZmFsc2UsXG4gICAgbG9hZGluZzogKCkgPT4gKFxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgICAgIHdpZHRoOiAnNDgwcHgnLFxuICAgICAgICBoZWlnaHQ6ICczNjBweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmMGY4ZmYnLFxuICAgICAgICBib3JkZXI6ICcycHggc29saWQgIzAwNjZjYycsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIHpJbmRleDogOTk5XG4gICAgICB9fT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzQ4cHgnLCBtYXJnaW5Cb3R0b206ICcxNXB4JyB9fT7wn5O3PC9kaXY+XG4gICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcsIGZvbnRXZWlnaHQ6ICdib2xkJywgY29sb3I6ICcjMDA2NmNjJyB9fT5cbiAgICAgICAgICBMb2FkaW5nIGNhbWVyYS4uLlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbik7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbGxlY3RlZERhdGFzZXRQYWdlKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyB1c2VySWQ6IGNvbnNlbnRVc2VySWQgfSA9IHVzZUNvbnNlbnQoKTtcbiAgY29uc3QgW3VzZXJEYXRhLCBzZXRVc2VyRGF0YV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNIeWRyYXRlZCwgc2V0SXNIeWRyYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtiYWNrZW5kU3RhdHVzLCBzZXRCYWNrZW5kU3RhdHVzXSA9IHVzZVN0YXRlKCdjaGVja2luZycpO1xuICBjb25zdCBbc2hvd1RvcEJhciwgc2V0U2hvd1RvcEJhcl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dXYXJuaW5nLCBzZXRTaG93V2FybmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt3YXJuaW5nTWVzc2FnZSwgc2V0V2FybmluZ01lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc3RhdHVzTWVzc2FnZSwgc2V0U3RhdHVzTWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtvdXRwdXRUZXh0LCBzZXRPdXRwdXRUZXh0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Nob3dNZXRyaWNzLCBzZXRTaG93TWV0cmljc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dQZXJtaXNzaW9uUG9wdXAsIHNldFNob3dQZXJtaXNzaW9uUG9wdXBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQsIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dDYW1lcmEsIHNldFNob3dDYW1lcmFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0NhbWVyYVBsYWNlaG9sZGVyLCBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0hlYWRQb3NlLCBzZXRTaG93SGVhZFBvc2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0JvdW5kaW5nQm94LCBzZXRTaG93Qm91bmRpbmdCb3hdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd01hc2ssIHNldFNob3dNYXNrXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQYXJhbWV0ZXJzLCBzZXRTaG93UGFyYW1ldGVyc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt3aW5kb3dTaXplLCBzZXRXaW5kb3dTaXplXSA9IHVzZVN0YXRlKHsgd2lkdGg6IDAsIGhlaWdodDogMCwgcGVyY2VudGFnZTogMTAwIH0pO1xuICBjb25zdCBbbWV0cmljcywgc2V0TWV0cmljc10gPSB1c2VTdGF0ZSh7IHdpZHRoOiAnLS0tJywgaGVpZ2h0OiAnLS0tJywgZGlzdGFuY2U6ICctLS0nIH0pO1xuICBjb25zdCBbY2FwdHVyZUNvdW50ZXIsIHNldENhcHR1cmVDb3VudGVyXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbY2FwdHVyZUZvbGRlciwgc2V0Q2FwdHVyZUZvbGRlcl0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlKCdkZWZhdWx0Jyk7XG4gIGNvbnN0IFtzaG93U2V0dGluZ3MsIHNldFNob3dTZXR0aW5nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUmVmc1xuICBjb25zdCBwcmV2aWV3QXJlYVJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYWN0aW9uQnV0dG9uR3JvdXBSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgLy8gU2V0IGh5ZHJhdGVkIHN0YXRlIGFmdGVyIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNIeWRyYXRlZCh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIC8vIExvYWQgdXNlciBkYXRhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZFVzZXJEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFyb3V0ZXIuaXNSZWFkeSkgcmV0dXJuO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBpZiAocm91dGVyLnF1ZXJ5LnVzZXJEYXRhKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2Uocm91dGVyLnF1ZXJ5LnVzZXJEYXRhKTtcbiAgICAgICAgICBzZXRVc2VyRGF0YShwYXJzZWREYXRhKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm91dGVyLnF1ZXJ5LnVzZXJJZCkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlci1wcmVmZXJlbmNlcy8ke3JvdXRlci5xdWVyeS51c2VySWR9YCwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHVzZXIgZGF0YScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIHNldFVzZXJEYXRhKGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB1c2VyIGRhdGE6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZFVzZXJEYXRhKCk7XG4gIH0sIFtyb3V0ZXIuaXNSZWFkeSwgcm91dGVyLnF1ZXJ5XSk7XG5cbiAgLy8gQ2hlY2sgYmFja2VuZCBjb25uZWN0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tCYWNrZW5kQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2hlY2stYmFja2VuZC1jb25uZWN0aW9uJyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldEJhY2tlbmRTdGF0dXMoZGF0YS5jb25uZWN0ZWQgPyAnY29ubmVjdGVkJyA6ICdkaXNjb25uZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGJhY2tlbmQgY29ubmVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgIHNldEJhY2tlbmRTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNIeWRyYXRlZCkge1xuICAgICAgY2hlY2tCYWNrZW5kQ29ubmVjdGlvbigpO1xuICAgIH1cbiAgfSwgW2lzSHlkcmF0ZWRdKTtcblxuICAvLyBVcGRhdGUgd2luZG93IHNpemVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgaWYgKHByZXZpZXdBcmVhUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBwcmV2aWV3QXJlYVJlZi5jdXJyZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBwcmV2aWV3QXJlYVJlZi5jdXJyZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgY29uc3Qgc2NyZWVuUGVyY2VudGFnZSA9ICh3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5zY3JlZW4ud2lkdGgpICogMTAwO1xuICAgICAgICBcbiAgICAgICAgc2V0TWV0cmljcyhwcmV2ID0+ICh7IC4uLnByZXYsIHdpZHRoLCBoZWlnaHQgfSkpO1xuICAgICAgICBzZXRXaW5kb3dTaXplKHtcbiAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgcGVyY2VudGFnZTogTWF0aC5yb3VuZChzY3JlZW5QZXJjZW50YWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzSHlkcmF0ZWQpIHtcbiAgICAgIHVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gICAgfVxuICB9LCBbaXNIeWRyYXRlZF0pO1xuXG4gIC8vIEluaXRpYWxpemUgc2V0dGluZ3MgYmFzZWQgb24gdXNlciBkYXRhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXJEYXRhICYmIGNvbnNlbnRVc2VySWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgc2V0dGluZ3MgZm9yIHVzZXI6JywgY29uc2VudFVzZXJJZCwgdXNlckRhdGEpO1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIHVzZXItc3BlY2lmaWMgc2V0dGluZ3NcbiAgICAgIGlmICh1c2VyRGF0YS5wcmVmZXJlbmNlcykge1xuICAgICAgICBjb25zdCB7IHByZWZlcmVuY2VzIH0gPSB1c2VyRGF0YTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBjYW1lcmEgc2V0dGluZ3MgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmIChwcmVmZXJlbmNlcy5jYW1lcmFTZXR0aW5ncykge1xuICAgICAgICAgIGNvbnN0IHsgc2hvd0hlYWRQb3NlLCBzaG93Qm91bmRpbmdCb3gsIHNob3dNYXNrLCBzaG93UGFyYW1ldGVycyB9ID0gcHJlZmVyZW5jZXMuY2FtZXJhU2V0dGluZ3M7XG4gICAgICAgICAgc2V0U2hvd0hlYWRQb3NlKHNob3dIZWFkUG9zZSB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0U2hvd0JvdW5kaW5nQm94KHNob3dCb3VuZGluZ0JveCB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0U2hvd01hc2soc2hvd01hc2sgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldFNob3dQYXJhbWV0ZXJzKHNob3dQYXJhbWV0ZXJzIHx8IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIG90aGVyIHNldHRpbmdzIGFzIG5lZWRlZFxuICAgICAgICBpZiAocHJlZmVyZW5jZXMubWV0cmljcykge1xuICAgICAgICAgIHNldFNob3dNZXRyaWNzKHByZWZlcmVuY2VzLm1ldHJpY3Muc2hvdyB8fCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHByZWZlcmVuY2VzLnRvcEJhcikge1xuICAgICAgICAgIHNldFNob3dUb3BCYXIocHJlZmVyZW5jZXMudG9wQmFyLnNob3cgfHwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1c2VyRGF0YSwgY29uc2VudFVzZXJJZF0pO1xuXG4gIC8vIEltcHJvdmVkIGdldCBjYW52YXMgZnVuY3Rpb24gdGhhdCB0cmllcyBtdWx0aXBsZSBtZXRob2RzXG4gIGNvbnN0IGdldE1haW5DYW52YXMgPSAoKSA9PiB7XG4gICAgLy8gVXNlIHRoZSBuZXcgY2FudmFzIG1hbmFnZXIgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jYW52YXNNYW5hZ2VyKSB7XG4gICAgICByZXR1cm4gd2luZG93LmNhbnZhc01hbmFnZXIuZ2V0Q2FudmFzKCkgfHwgd2luZG93LmNhbnZhc01hbmFnZXIuY3JlYXRlQ2FudmFzKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIE1ldGhvZCAxOiBDaGVjayBpZiB3ZSBoYXZlIGEgZGlyZWN0IHJlZmVyZW5jZVxuICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBkaXJlY3QgY2FudmFzUmVmLmN1cnJlbnQgcmVmZXJlbmNlXCIpO1xuICAgICAgcmV0dXJuIGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIH1cbiAgICBcbiAgICAvLyBNZXRob2QgMjogVHJ5IHRvIGdldCBnbG9iYWwgcmVmZXJlbmNlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcykge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBnbG9iYWwgd2hpdGVTY3JlZW5DYW52YXMgcmVmZXJlbmNlXCIpO1xuICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXM7IC8vIFVwZGF0ZSBvdXIgcmVmXG4gICAgICByZXR1cm4gd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgIH1cbiAgICBcbiAgICAvLyBNZXRob2QgMzogVHJ5IHRvIGZpbmQgdmlhIERPTVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYWNraW5nLWNhbnZhcycpO1xuICAgICAgaWYgKGNhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBjYW52YXMgdmlhIERPTSBzZWxlY3RvclwiKTtcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgb3VyIHJlZlxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgZ2xvYmFsIHJlZiB0b29cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FudmFzRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS53YXJuKFwiTm8gY2FudmFzIGZvdW5kIHZpYSBhbnkgbWV0aG9kXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBcbiAgLy8gQ2hlY2sgaWYgd2UncmUgb24gdGhlIGNsaWVudCBvciBzZXJ2ZXJcbiAgY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgXG4gIC8vIEFkZCBlZmZlY3QgdG8gaW5pdGlhbGl6ZSBjYW52YXMgYW5kIG1ha2UgaXQgZ2xvYmFsbHkgYXZhaWxhYmxlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgY2FudmFzIG1hbmFnZXIgZ2xvYmFsbHlcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIENyZWF0ZSBhIHNpbXBsZSBjYW52YXMgbWFuYWdlciBmb3IgaW5kZXguanNcbiAgICAgIHdpbmRvdy5jYW52YXNNYW5hZ2VyID0ge1xuICAgICAgICBnZXRDYW52YXM6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gY2FudmFzUmVmLmN1cnJlbnQgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyYWNraW5nLWNhbnZhcycpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVDYW52YXM6IChjb250YWluZXIgPSBudWxsKSA9PiB7XG4gICAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0cmFja2luZy1jYW52YXMnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjYW52YXMuY2xhc3NOYW1lID0gJ3RyYWNraW5nLWNhbnZhcyc7XG4gICAgICAgICAgICBjYW52YXMuaWQgPSAndHJhY2tpbmctY2FudmFzJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB0YXJnZXRDb250YWluZXIgPSBjb250YWluZXIgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tY29udGVudCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5O1xuXG4gICAgICAgICAgLy8gU2V0IHJlc3BvbnNpdmUgZGltZW5zaW9uc1xuICAgICAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXRDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gcmVjdC53aWR0aCB8fCB0YXJnZXRDb250YWluZXIuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSByZWN0LmhlaWdodCB8fCB0YXJnZXRDb250YWluZXIuY2xpZW50SGVpZ2h0IHx8IDYwMDtcblxuICAgICAgICAgIC8vIFNldCBDU1MgZm9yIHJlc3BvbnNpdmUgYmVoYXZpb3JcbiAgICAgICAgICBjYW52YXMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBgO1xuXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIHdoaXRlIGJhY2tncm91bmRcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAgIC8vIEFkZCB0byBjb250YWluZXIgaWYgbm90IGFscmVhZHkgdGhlcmVcbiAgICAgICAgICBpZiAoIWNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0YXJnZXRDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdG9yZSByZWZlcmVuY2VzXG4gICAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXM7XG4gICAgICAgICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzO1xuXG4gICAgICAgICAgY29uc29sZS5sb2coYENhbnZhcyBjcmVhdGVkL3VwZGF0ZWQ6ICR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCk7XG4gICAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICAgICAgfSxcbiAgICAgICAgZW50ZXJGdWxsc2NyZWVuOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FudmFzID0gd2luZG93LmNhbnZhc01hbmFnZXIuZ2V0Q2FudmFzKCk7XG4gICAgICAgICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgICAgICAgIC8vIFNhdmUgb3JpZ2luYWwgc3RhdGVcbiAgICAgICAgICBjYW52YXMuX29yaWdpbmFsU3RhdGUgPSB7XG4gICAgICAgICAgICBwYXJlbnQ6IGNhbnZhcy5wYXJlbnRFbGVtZW50LFxuICAgICAgICAgICAgcG9zaXRpb246IGNhbnZhcy5zdHlsZS5wb3NpdGlvbixcbiAgICAgICAgICAgIHRvcDogY2FudmFzLnN0eWxlLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IGNhbnZhcy5zdHlsZS5sZWZ0LFxuICAgICAgICAgICAgd2lkdGg6IGNhbnZhcy5zdHlsZS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogY2FudmFzLnN0eWxlLmhlaWdodCxcbiAgICAgICAgICAgIHpJbmRleDogY2FudmFzLnN0eWxlLnpJbmRleFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBNb3ZlIHRvIGJvZHkgYW5kIG1ha2UgZnVsbHNjcmVlblxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICBjYW52YXMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICB3aWR0aDogMTAwdnc7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgYDtcblxuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW52YXMgZW50ZXJlZCBmdWxsc2NyZWVuIG1vZGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhpdEZ1bGxzY3JlZW46ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSB3aW5kb3cuY2FudmFzTWFuYWdlci5nZXRDYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcyB8fCAhY2FudmFzLl9vcmlnaW5hbFN0YXRlKSByZXR1cm47XG5cbiAgICAgICAgICAvLyBGaW5kIGFwcHJvcHJpYXRlIGNvbnRhaW5lclxuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tY29udGVudCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keTtcblxuICAgICAgICAgIC8vIE1vdmUgY2FudmFzIGJhY2sgdG8gY29udGFpbmVyXG4gICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICAgICAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIHN0eWxlc1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLnpJbmRleCA9ICcnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIHNpemUgdG8gbWF0Y2ggY29udGFpbmVyXG4gICAgICAgICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoIHx8IGNvbnRhaW5lci5jbGllbnRXaWR0aCB8fCA4MDA7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0IHx8IGNvbnRhaW5lci5jbGllbnRIZWlnaHQgfHwgNjAwO1xuXG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgICBkZWxldGUgY2FudmFzLl9vcmlnaW5hbFN0YXRlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW52YXMgZXhpdGVkIGZ1bGxzY3JlZW4gbW9kZScpO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhcjogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHdpbmRvdy5jYW52YXNNYW5hZ2VyLmdldENhbnZhcygpO1xuICAgICAgICAgIGlmICghY2FudmFzKSByZXR1cm47XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBEZWJ1ZyBpbmZvIHRvIHZlcmlmeSBjYW52YXMgc2l6ZSBhbmQgYXZhaWxhYmlsaXR5XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNhbnZhcykge1xuICAgICAgY29uc29sZS5sb2coXCJJbmRleC5qczogQ2FudmFzIGluaXRpYWxpemVkXCIsIHtcbiAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gTWFrZSBjYW52YXMgRVhQTElDSVRMWSBhdmFpbGFibGUgZ2xvYmFsbHlcbiAgICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICAgIFxuICAgICAgLy8gQWxzbyBzdG9yZSBjYW52YXMgZGltZW5zaW9uc1xuICAgICAgd2luZG93LmNhbnZhc0RpbWVuc2lvbnMgPSB7XG4gICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2FudmFzIHJlZmVyZW5jZSBpcyBub3QgYXZhaWxhYmxlIGR1cmluZyBpbml0aWFsaXphdGlvblwiKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRXhwb3NlIGNhbnZhcyBpbml0aWFsaXphdGlvbiBmdW5jdGlvbiBnbG9iYWxseVxuICAgIHdpbmRvdy5pbml0aWFsaXplQ2FudmFzID0gKGNhbnZhcywgcGFyZW50KSA9PiB7XG4gICAgICBpZiAoIWNhbnZhcyB8fCAhcGFyZW50KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW2luaXRpYWxpemVDYW52YXNdIENhbnZhcyBvciBwYXJlbnQgaXMgbnVsbCcsIHsgY2FudmFzLCBwYXJlbnQgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gU2V0IGNhbnZhcyBkaW1lbnNpb25zIHRvIG1hdGNoIHBhcmVudFxuICAgICAgICBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciBjYW52YXMgYW5kIHNldCB3aGl0ZSBiYWNrZ3JvdW5kXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBDYW52YXMgaW5pdGlhbGl6ZWQgd2l0aCBkaW1lbnNpb25zOiAke2NhbnZhcy53aWR0aH14JHtjYW52YXMuaGVpZ2h0fWApO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGdsb2JhbCByZWZlcmVuY2VcbiAgICAgICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzO1xuICAgICAgICB3aW5kb3cuY2FudmFzRGltZW5zaW9ucyA9IHtcbiAgICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbaW5pdGlhbGl6ZUNhbnZhc10gRXJyb3IgaW5pdGlhbGl6aW5nIGNhbnZhczonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIENoZWNrIGNhbnZhcyB2aXNpYmlsaXR5IGFuZCBmb3JjZSBpbml0aWFsaXphdGlvbiBhZnRlciBhIGJyaWVmIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FudmFzIGluaXRpYWwgdmlzaWJpbGl0eSBjaGVjazpcIiwge1xuICAgICAgICAgIGRpbWVuc2lvbnM6IGAke2NhbnZhcy53aWR0aH14JHtjYW52YXMuaGVpZ2h0fWAsXG4gICAgICAgICAgcmVjdFNpemU6IGAke3JlY3Qud2lkdGh9eCR7cmVjdC5oZWlnaHR9YCxcbiAgICAgICAgICBpc1Zpc2libGU6IChyZWN0LndpZHRoID4gMCAmJiByZWN0LmhlaWdodCA+IDApXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9yY2UgaW5pdGlhbGl6YXRpb24gaWYgbmVlZGVkXG4gICAgICAgIGFkanVzdENhbnZhc0RpbWVuc2lvbnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkNhbnZhcyBub3QgZm91bmQgZHVyaW5nIHZpc2liaWxpdHkgY2hlY2tcIik7XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGVsZXRlIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcztcbiAgICAgIGRlbGV0ZSB3aW5kb3cuY2FudmFzRGltZW5zaW9ucztcbiAgICAgIGRlbGV0ZSB3aW5kb3cuaW5pdGlhbGl6ZUNhbnZhcztcbiAgICAgIGRlbGV0ZSB3aW5kb3cuY2FudmFzTWFuYWdlcjtcbiAgICB9O1xuICB9LCBbaXNIeWRyYXRlZF0pO1xuXG4gIC8vIEltcHJvdmVkIGNhbnZhcyBkaW1lbnNpb25zIGFkanVzdG1lbnRcbiAgY29uc3QgYWRqdXN0Q2FudmFzRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkIHx8ICFwcmV2aWV3QXJlYVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyBjYW52YXMgZm91bmQgdG8gYWRqdXN0IGRpbWVuc2lvbnNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHByZXZpZXdBcmVhUmVmLmN1cnJlbnQ7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBzaXplIG9mIHRoZSBwcmV2aWV3IGFyZWFcbiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBwcm9wZXIgaGVpZ2h0IGJhc2VkIG9uIHRvcCBiYXIgdmlzaWJpbGl0eVxuICAgIGNvbnN0IHRvcEJhckhlaWdodCA9IHNob3dUb3BCYXIgPyAxMjAgOiAwOyAvLyBBZGp1c3QgdGhpcyB2YWx1ZSBiYXNlZCBvbiB5b3VyIHRvcCBiYXIncyBhY3R1YWwgaGVpZ2h0XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJBZGp1c3RpbmcgY2FudmFzIGRpbWVuc2lvbnNcIiwge1xuICAgICAgY29udGFpbmVyV2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICBjb250YWluZXJIZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgICAgdG9wQmFyVmlzaWJsZTogc2hvd1RvcEJhcixcbiAgICAgIGNhbGN1bGF0ZWRIZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gICAgfSk7XG4gICAgXG4gICAgLy8gU2V0IGNhbnZhcyBkaW1lbnNpb25zIHRvIG1hdGNoIGNvbnRhaW5lciBzaXplIHdpdGggdG9wIGJhciBhZGp1c3RtZW50XG4gICAgY2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgXG4gICAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBcbiAgICAvLyBGaWxsIHdpdGggd2hpdGUgYmFja2dyb3VuZFxuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBDYW52YXMgZGltZW5zaW9ucyBhZGp1c3RlZDogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZSB3aXRoIGN1cnJlbnQgZGltZW5zaW9uc1xuICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICB3aW5kb3cuY2FudmFzRGltZW5zaW9ucyA9IHtcbiAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICB9O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGNhcHR1cmUgZm9sZGVyIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FwdHVyZUZvbGRlciAmJiBpc0NsaWVudCAmJiBpc0h5ZHJhdGVkKSB7XG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzpcXC5dL2csICctJyk7XG4gICAgICBzZXRDYXB0dXJlRm9sZGVyKGBzZXNzaW9uXyR7dGltZXN0YW1wfWApO1xuICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgY2FwdHVyZSBmb2xkZXI6IHNlc3Npb25fJHt0aW1lc3RhbXB9YCk7XG4gICAgfVxuICB9LCBbY2FwdHVyZUZvbGRlciwgaXNDbGllbnQsIGlzSHlkcmF0ZWRdKTtcbiAgXG4gIC8vIENoZWNrIGJhY2tlbmQgY29ubmVjdGlvbiBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjsgLy8gU2tpcCBvbiBzZXJ2ZXIgb3IgYmVmb3JlIGh5ZHJhdGlvblxuICAgIFxuICAgIGNvbnN0IGNoZWNrQmFja2VuZENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvbicpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRCYWNrZW5kU3RhdHVzKGRhdGEuY29ubmVjdGVkID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBCYWNrZW5kIGNvbm5lY3Rpb246ICR7ZGF0YS5jb25uZWN0ZWQgPyAnT0snIDogJ0ZhaWxlZCd9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IHN0YXR1cyBpbiBvdXRwdXQgdGV4dFxuICAgICAgICBzZXRPdXRwdXRUZXh0KGBCYWNrZW5kICR7ZGF0YS5jb25uZWN0ZWQgPyAnY29ubmVjdGVkJyA6ICdkaXNjb25uZWN0ZWQgLSB1c2luZyBtb2NrIG1vZGUnfWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgYmFja2VuZCBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgc2V0QmFja2VuZFN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHNldE91dHB1dFRleHQoJ0JhY2tlbmQgZGlzY29ubmVjdGVkIC0gdXNpbmcgbW9jayBtb2RlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrQmFja2VuZENvbm5lY3Rpb24oKTtcbiAgICBcbiAgICAvLyBXZWxjb21lIG1lc3NhZ2UgYWZ0ZXIgYmFja2VuZCBjaGVja1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2FtZXJhIHN5c3RlbSByZWFkeS4gQ2xpY2sgXCJTaG93IFByZXZpZXdcIiB0byBzdGFydCBjYW1lcmEuJyk7XG4gICAgfSwgMjAwMCk7XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG5cbiAgLy8gQWRkIHN0eWxlcyB0byBkb2N1bWVudCBoZWFkIGZvciBidXR0b24gaGlnaGxpZ2h0aW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIHN0eWxlIGVsZW1lbnRcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICBAa2V5ZnJhbWVzIHB1bHNlIHtcbiAgICAgICAgMCUgeyBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMCwgMTAyLCAyMDQsIDAuNyk7IH1cbiAgICAgICAgNzAlIHsgYm94LXNoYWRvdzogMCAwIDAgMTBweCByZ2JhKDAsIDEwMiwgMjA0LCAwKTsgfVxuICAgICAgICAxMDAlIHsgYm94LXNoYWRvdzogMCAwIDAgMCByZ2JhKDAsIDEwMiwgMjA0LCAwKTsgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwcHgpOyB9XG4gICAgICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC5idG4taGlnaGxpZ2h0IHtcbiAgICAgICAgYW5pbWF0aW9uOiBwdWxzZSAxLjVzIGluZmluaXRlO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5OWZmICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAud2FybmluZy1iYW5uZXIge1xuICAgICAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuICAgIGA7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgXG4gICAgLy8gQ2xlYW4gdXBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgfTtcbiAgfSwgW2lzSHlkcmF0ZWRdKTtcbiAgXG4gIC8vIE1ha2UgdG9nZ2xlVG9wQmFyIGZ1bmN0aW9uIGF2YWlsYWJsZSBnbG9iYWxseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBNYWtlIHRvZ2dsZVRvcEJhciBhdmFpbGFibGUgdG8gb3RoZXIgY29tcG9uZW50c1xuICAgIHdpbmRvdy50b2dnbGVUb3BCYXIgPSAoc2hvdykgPT4ge1xuICAgICAgc2V0U2hvd1RvcEJhcihzaG93KTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICAgIGlmICghc2hvdykge1xuICAgICAgICBzZXRTaG93TWV0cmljcyhmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkanVzdCBjYW52YXMgZGltZW5zaW9ucyBhZnRlciB0b2dnbGluZ1xuICAgICAgc2V0VGltZW91dChhZGp1c3RDYW52YXNEaW1lbnNpb25zLCAxMDApO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICBkZWxldGUgd2luZG93LnRvZ2dsZVRvcEJhcjtcbiAgICB9O1xuICB9LCBbaXNIeWRyYXRlZF0pO1xuXG4gIC8vIFRvZ2dsZSBjYW1lcmEgZnVuY3Rpb25cbiAgY29uc3QgdG9nZ2xlQ2FtZXJhID0gKHNob3VsZEVuYWJsZSkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICBpZiAoc2hvdWxkRW5hYmxlKSB7XG4gICAgICBzZXRTaG93Q2FtZXJhKHRydWUpO1xuICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgIHNldE91dHB1dFRleHQoJ0NhbWVyYSBwcmV2aWV3IHN0YXJ0ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd0NhbWVyYShmYWxzZSk7XG4gICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2FtZXJhIHByZXZpZXcgc3RvcHBlZCcpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZXIgZm9yIGFjdGlvbiBidXR0b24gY2xpY2tzXG4gIGNvbnN0IGhhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrID0gKGFjdGlvblR5cGUsIHBhcmFtcykgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHRvZ2dsaW5nIHRoZSB0b3AgYmFyXG4gICAgaWYgKGFjdGlvblR5cGUgPT09ICd0b2dnbGVUb3BCYXInKSB7XG4gICAgICAvLyBjb25zdCBuZXdUb3BCYXJTdGF0ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyAhIXZhbHVlIDogIXNob3dUb3BCYXI7XG4gICAgICBsZXQgbmV3VG9wQmFyU3RhdGU7XG4gICAgXG4gICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIG5ld1RvcEJhclN0YXRlID0gcGFyYW1zO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmV3VG9wQmFyU3RhdGUgPSAhIXBhcmFtcy52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RvcEJhclN0YXRlID0gIXNob3dUb3BCYXI7XG4gICAgICB9XG4gICAgICBzZXRTaG93VG9wQmFyKG5ld1RvcEJhclN0YXRlKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICAgIGlmICghbmV3VG9wQmFyU3RhdGUpIHtcbiAgICAgICAgc2V0U2hvd01ldHJpY3MoZmFsc2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRPdXRwdXRUZXh0KGBUb3BCYXIgJHtuZXdUb3BCYXJTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ30keyFuZXdUb3BCYXJTdGF0ZSA/ICcsIE1ldHJpY3MgaGlkZGVuJyA6ICcnfWApO1xuICAgICAgXG4gICAgICAvLyBBZGp1c3QgY2FudmFzIGRpbWVuc2lvbnMgYWZ0ZXIgdG9nZ2xpbmdcbiAgICAgIHNldFRpbWVvdXQoYWRqdXN0Q2FudmFzRGltZW5zaW9ucywgMTAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgIHNldFNob3dXYXJuaW5nKGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3Rpbmcgd2FybmluZ3NcbiAgICBjb25zdCBzYWZlUGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICBcbiAgICAvLyBVc2Ugc2FmZVBhcmFtcyBpbnN0ZWFkIG9mIGNvbnRyb2xWYWx1ZXNcbiAgICBjb25zdCByYW5kb21UaW1lcyA9IHNhZmVQYXJhbXMucmFuZG9tVGltZXMgfHwgMTtcbiAgICBjb25zdCBkZWxheVNlY29uZHMgPSBzYWZlUGFyYW1zLmRlbGF5U2Vjb25kcyB8fCAzO1xuXG4gICAgc3dpdGNoIChhY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdwcmV2aWV3JzpcbiAgICAgICAgLy8gVG9nZ2xlIGNhbWVyYSBzdGF0ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHRvZ2dsZUNhbWVyYShmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQpIHtcbiAgICAgICAgICB0b2dnbGVDYW1lcmEodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIHNob3cgcGVybWlzc2lvbiBwb3B1cFxuICAgICAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgICAgICAgc2V0T3V0cHV0VGV4dCgnT3BlbmluZyBjYW1lcmEgcHJldmlldycpO1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICdzZXRSYW5kb20nOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdTdGFydGluZyByYW5kb20gc2VxdWVuY2UuLi4nKTtcbiAgICAgICAgc2V0U2hvd1RvcEJhcihmYWxzZSk7XG4gICAgICAgIGlmIChzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2UgdGhlIGltcG9ydGVkIG1vZHVsZSBhcHByb2FjaCAtIHNpbWlsYXIgdG8gY2FsaWJyYXRlXG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0UmFuZG9tKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSByZWZlcmVuY2UgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBBY3Rpb25CdXR0b25Hcm91cCByZWYgbWV0aG9kIGZvciBTZXQgUmFuZG9tJyk7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC5oYW5kbGVTZXRSYW5kb20oKTtcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyAmJiBcbiAgICAgICAgICB0eXBlb2Ygd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVTZXRSYW5kb20gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBnbG9iYWwgbWV0aG9kXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdsb2JhbCBicmlkZ2UgbWV0aG9kIGZvciBTZXQgUmFuZG9tJyk7XG4gICAgICAgICAgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVTZXRSYW5kb20oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIGNhbnZhcyB0byB3b3JrIHdpdGhcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgbm90IGZvdW5kIGZvciByYW5kb20gc2VxdWVuY2VcIik7XG4gICAgICAgICAgICBzZXRPdXRwdXRUZXh0KFwiRXJyb3I6IENhbnZhcyBub3QgYXZhaWxhYmxlIGZvciByYW5kb20gc2VxdWVuY2VcIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgY29udHJvbCB2YWx1ZXMgZnJvbSB0aGUgVG9wQmFyXG4gICAgICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGQnKTtcbiAgICAgICAgICBjb25zdCBkZWxheUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2wtaW5wdXQtZmllbGQnKVsxXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEZWZhdWx0IHZhbHVlcyBpZiBpbnB1dHMgY2FuJ3QgYmUgZm91bmRcbiAgICAgICAgICBsZXQgdGltZXMgPSAxO1xuICAgICAgICAgIGxldCBkZWxheSA9IDM7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUGFyc2UgaW5wdXQgdmFsdWVzIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFRpbWUgPSBwYXJzZUludCh0aW1lSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkVGltZSkgJiYgcGFyc2VkVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgdGltZXMgPSBwYXJzZWRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGVsYXlJbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGVsYXkgPSBwYXJzZUludChkZWxheUlucHV0LnZhbHVlLCAxMCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZERlbGF5KSAmJiBwYXJzZWREZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgZGVsYXkgPSBwYXJzZWREZWxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTG9hZCBhbGwgcmVxdWlyZWQgbW9kdWxlcyBmaXJzdCwgdGhlbiBwcm9jZWVkIHdpdGggZXhlY3V0aW9uXG4gICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL2NvdW50U2F2ZScpLFxuICAgICAgICAgICAgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvSGVscGVyL3NhdmVmaWxlJylcbiAgICAgICAgICBdKS50aGVuKGFzeW5jIChbXG4gICAgICAgICAgICBjb3VudFNhdmVNb2R1bGUsXG4gICAgICAgICAgICBzYXZlZmlsZU1vZHVsZVxuICAgICAgICAgIF0pID0+IHtcbiAgICAgICAgICAgIC8vIERlc3RydWN0dXJlIHRoZSBpbXBvcnRlZCBtb2R1bGVzXG4gICAgICAgICAgICBjb25zdCB7IGdldFJhbmRvbVBvc2l0aW9uLCBkcmF3UmVkRG90LCBydW5Db3VudGRvd24sIHNob3dDYXB0dXJlUHJldmlldyB9ID0gY291bnRTYXZlTW9kdWxlO1xuICAgICAgICAgICAgY29uc3QgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9ID0gc2F2ZWZpbGVNb2R1bGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFByb2Nlc3MgYWxsIGNhcHR1cmVzIHNlcXVlbnRpYWxseVxuICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDYXB0dXJlID0gMTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50Q2FwdHVyZSA8PSB0aW1lcykge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgZm9yIGN1cnJlbnQgY2FwdHVyZVxuICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhcHR1cmUgJHtjdXJyZW50Q2FwdHVyZX0gb2YgJHt0aW1lc31gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBjYW52YXMgYmVmb3JlIGVhY2ggY2FwdHVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gcG9zaXRpb24gZm9yIHRoaXMgY2FwdHVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmFuZG9tUG9zaXRpb24oY2FudmFzLCAyMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRHJhdyB0aGUgZG90XG4gICAgICAgICAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHJlZHJhd0ludGVydmFsIHRvIGVuc3VyZSBkb3Qgc3RheXMgdmlzaWJsZVxuICAgICAgICAgICAgICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUnVuIGNvdW50ZG93biBhbmQgd2FpdCBmb3IgaXQgdG8gY29tcGxldGVcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgIHJ1bkNvdW50ZG93bihcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSBiYXNlZCBvbiBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhcHR1cmUgJHtjdXJyZW50Q2FwdHVyZX0vJHt0aW1lc306ICR7c3RhdHVzLnByb2Nlc3NTdGF0dXN9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2hlbiBjb3VudGRvd24gY29tcGxldGVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHJlZHJhd0ludGVydmFsIGFmdGVyIGNvdW50ZG93blxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFdhaXQgYnJpZWZseSBhZnRlciBjb3VudGRvd25cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKGNhcHR1cmVSZXN1bHQgJiYgKGNhcHR1cmVSZXN1bHQuc2NyZWVuSW1hZ2UgfHwgY2FwdHVyZVJlc3VsdC5zdWNjZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudGVyKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjYXB0dXJpbmcgcG9pbnQgJHtjdXJyZW50Q2FwdHVyZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGJldHdlZW4gY2FwdHVyZXMgZm9yIHRoZSBzcGVjaWZpZWQgZGVsYXkgdGltZVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2FwdHVyZSA8IHRpbWVzKSB7XG4gICAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBXYWl0aW5nICR7ZGVsYXl9cyBiZWZvcmUgbmV4dCBjYXB0dXJlLi4uYCk7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBjYXB0dXJlXG4gICAgICAgICAgICAgICAgY3VycmVudENhcHR1cmUrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2VxdWVuY2UgY29tcGxldGVcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUmFuZG9tIGNhcHR1cmUgc2VxdWVuY2UgY29tcGxldGVkOiAke3N1Y2Nlc3NDb3VudH0vJHt0aW1lc30gY2FwdHVyZXMgc3VjY2Vzc2Z1bGApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSYW5kb20gc2VxdWVuY2UgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUmFuZG9tIHNlcXVlbmNlIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpblxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dUb3BCYXIodHJ1ZSksIDIwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW1wb3J0IHJlcXVpcmVkIG1vZHVsZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyYW5kb21Eb3QnOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdSYW5kb20gZG90IGFjdGlvbiB0cmlnZ2VyZWQnKTtcbiAgICAgICAgc2V0U2hvd1RvcEJhcihmYWxzZSk7XG4gICAgICAgIGlmIChzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBhY2Nlc3MgUmFuZG9tIERvdCBmdW5jdGlvbmFsaXR5Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgdGhlIHJhbmRvbSBkb3QgZnVuY3Rpb25hbGl0eSBmcm9tIGFjdGlvbkJ1dHRvbi5qcyBieSBkZWxlZ2F0aW5nIHRvIEFjdGlvbkJ1dHRvbkdyb3VwXG4gICAgICAgIC8vIFRoaXMgYXNzdW1lcyB5b3UgaGF2ZSBhIHJlZiB0byB0aGUgQWN0aW9uQnV0dG9uR3JvdXAgY29tcG9uZW50XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlUmFuZG9tRG90KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHJlZiBtZXRob2QnKTtcbiAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LmhhbmRsZVJhbmRvbURvdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMgJiYgXG4gICAgICAgICAgdHlwZW9mIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlUmFuZG9tRG90ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdsb2JhbCBicmlkZ2UgbWV0aG9kJyk7XG4gICAgICAgICAgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVSYW5kb21Eb3QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBub3QgZm91bmQgZm9yIHJhbmRvbSBkb3QgYWN0aW9uXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgcmFuZG9tIGRvdFwiKTtcbiAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7IC8vIFNob3cgVG9wQmFyIGFnYWluIGlmIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBwcmV2aWV3QXJlYVJlZi5jdXJyZW50O1xuICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGFyZW50IG5vdCBmb3VuZCBmb3IgY2FudmFzXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgcGFyZW50IG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEluaXRpYWxpemUgY2FudmFzIGV4cGxpY2l0bHlcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYENhbnZhcyByZWFkeSBmb3IgcmFuZG9tIGRvdDogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZVxuICAgICAgICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gcG9zaXRpb25cbiAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJhbmRvbVBvc2l0aW9uKGNhbnZhcywgMjApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERyYXcgdGhlIGRvdCB1c2luZyB0aGUgaW1wb3J0ZWQgZnVuY3Rpb25cbiAgICAgICAgICBjb25zdCBkb3QgPSBkcmF3UmVkRG90KGN0eCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSwgOCwgZmFsc2UpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBSYW5kb20gZG90IGRyYXduIGF0OiAke3Bvc2l0aW9uLnh9LCAke3Bvc2l0aW9uLnl9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhcnQgYSBjb3VudGRvd24gZm9yIGNhcHR1cmVcbiAgICAgICAgICBydW5Db3VudGRvd24oXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgIChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIFVJIGJhc2VkIG9uIHN0YXR1c1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KHN0YXR1cy5wcm9jZXNzU3RhdHVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gRW5hYmxlIGNhbWVyYSBiZWZvcmUgY2FwdHVyZVxuICAgICAgICAgICAgICAvLyB0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gV2FpdCBicmllZmx5IGZvciBjYW1lcmEgdG8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGRpcmVjdGx5IGltcG9ydGVkIGNhcHR1cmVJbWFnZXNBdFBvaW50IGZyb20gdGhlIEhlbHBlci9zYXZlZmlsZS5qc1xuICAgICAgICAgICAgICAgIGltcG9ydCgnLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0hlbHBlci9zYXZlZmlsZScpLnRoZW4oKHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiBhZnRlciBjYXB0dXJlXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIyMDApO1xuICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhcHR1cmluZyBpbWFnZXM6XCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYEVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbXBvcnRpbmcgc2F2ZWZpbGUgbW9kdWxlOlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgRXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoZWFkUG9zZSc6XG4gICAgICAgIGNvbnN0IG5ld0hlYWRQb3NlU3RhdGUgPSAhc2hvd0hlYWRQb3NlO1xuICAgICAgICBzZXRTaG93SGVhZFBvc2UobmV3SGVhZFBvc2VTdGF0ZSk7XG4gICAgICAgIHNldE91dHB1dFRleHQoYEhlYWQgcG9zZSB2aXN1YWxpemF0aW9uICR7bmV3SGVhZFBvc2VTdGF0ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YCk7XG4gICAgICAgIGlmIChuZXdIZWFkUG9zZVN0YXRlICYmICFzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXdIZWFkUG9zZVN0YXRlICYmICFzaG93Qm91bmRpbmdCb3ggJiYgIXNob3dNYXNrICYmICFzaG93UGFyYW1ldGVycykge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9ucyBpZiBjYW1lcmEgaXMgYWN0aXZlXG4gICAgICAgIGlmIChzaG93Q2FtZXJhICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgICAgIC4uLndpbmRvdy52aWRlb1Byb2Nlc3Nvci5vcHRpb25zLFxuICAgICAgICAgICAgc2hvd0hlYWRQb3NlOiBuZXdIZWFkUG9zZVN0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAnYm91bmRpbmdCb3gnOlxuICAgICAgICBjb25zdCBuZXdCb3VuZGluZ0JveFN0YXRlID0gIXNob3dCb3VuZGluZ0JveDtcbiAgICAgICAgc2V0U2hvd0JvdW5kaW5nQm94KG5ld0JvdW5kaW5nQm94U3RhdGUpO1xuICAgICAgICBzZXRPdXRwdXRUZXh0KGBCb3VuZGluZyBib3ggJHtuZXdCb3VuZGluZ0JveFN0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgICAgICBpZiAobmV3Qm91bmRpbmdCb3hTdGF0ZSAmJiAhc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbmV3Qm91bmRpbmdCb3hTdGF0ZSAmJiAhc2hvd0hlYWRQb3NlICYmICFzaG93TWFzayAmJiAhc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc29yIG9wdGlvbnMgaWYgY2FtZXJhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICAuLi53aW5kb3cudmlkZW9Qcm9jZXNzb3Iub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dCb3VuZGluZ0JveDogbmV3Qm91bmRpbmdCb3hTdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ21hc2snOlxuICAgICAgICBjb25zdCBuZXdNYXNrU3RhdGUgPSAhc2hvd01hc2s7XG4gICAgICAgIHNldFNob3dNYXNrKG5ld01hc2tTdGF0ZSk7XG4gICAgICAgIHNldE91dHB1dFRleHQoYE1hc2sgJHtuZXdNYXNrU3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgICAgIGlmIChuZXdNYXNrU3RhdGUgJiYgIXNob3dDYW1lcmEpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5ld01hc2tTdGF0ZSAmJiAhc2hvd0hlYWRQb3NlICYmICFzaG93Qm91bmRpbmdCb3ggJiYgIXNob3dQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHByb2Nlc3NvciBvcHRpb25zIGlmIGNhbWVyYSBpcyBhY3RpdmVcbiAgICAgICAgaWYgKHNob3dDYW1lcmEgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICAgICAgLi4ud2luZG93LnZpZGVvUHJvY2Vzc29yLm9wdGlvbnMsXG4gICAgICAgICAgICBzaG93TWFzazogbmV3TWFza1N0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAncGFyYW1ldGVycyc6XG4gICAgICAgIGNvbnN0IG5ld1BhcmFtZXRlcnNTdGF0ZSA9ICFzaG93UGFyYW1ldGVycztcbiAgICAgICAgc2V0U2hvd1BhcmFtZXRlcnMobmV3UGFyYW1ldGVyc1N0YXRlKTtcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgUGFyYW1ldGVycyAke25ld1BhcmFtZXRlcnNTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICAgICAgaWYgKG5ld1BhcmFtZXRlcnNTdGF0ZSAmJiAhc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbmV3UGFyYW1ldGVyc1N0YXRlICYmICFzaG93SGVhZFBvc2UgJiYgIXNob3dCb3VuZGluZ0JveCAmJiAhc2hvd01hc2spIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc29yIG9wdGlvbnMgaWYgY2FtZXJhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICAuLi53aW5kb3cudmlkZW9Qcm9jZXNzb3Iub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzOiBuZXdQYXJhbWV0ZXJzU3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICAvLyBGaXhlZCBjYWxpYnJhdGUgY2FzZSBoYW5kbGVyIGluIGluZGV4LmpzXG4gICAgICBjYXNlICdjYWxpYnJhdGUnOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdTdGFydGluZyBjYWxpYnJhdGlvbiBzZXF1ZW5jZS4uLicpO1xuICAgICAgICBzZXRTaG93VG9wQmFyKGZhbHNlKTtcbiAgICAgICAgaWYgKHNob3dDYW1lcmEpIHtcbiAgICAgICAgICB0b2dnbGVDYW1lcmEoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0Q2FsaWJyYXRlKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSByZWZlcmVuY2UgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBBY3Rpb25CdXR0b25Hcm91cCByZWYgbWV0aG9kIGZvciBjYWxpYnJhdGlvbicpO1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0Q2FsaWJyYXRlKCk7XG4gICAgICAgIH0gXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMgJiYgXG4gICAgICAgICAgdHlwZW9mIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlU2V0Q2FsaWJyYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZ2xvYmFsIG1ldGhvZFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBnbG9iYWwgYnJpZGdlIG1ldGhvZCBmb3IgY2FsaWJyYXRpb24nKTtcbiAgICAgICAgICB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zLmhhbmRsZVNldENhbGlicmF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgY2FudmFzIHRvIHdvcmsgd2l0aFxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBub3QgZm91bmQgZm9yIGNhbGlicmF0aW9uXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgY2FsaWJyYXRpb25cIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBMb2FkIGFsbCByZXF1aXJlZCBtb2R1bGVzIGZpcnN0LCB0aGVuIHByb2NlZWQgd2l0aCBleGVjdXRpb25cbiAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzLmpzeCcpLFxuICAgICAgICAgICAgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL2NvdW50U2F2ZS5qc3gnKSxcbiAgICAgICAgICAgIGltcG9ydCgnLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0hlbHBlci9zYXZlZmlsZScpXG4gICAgICAgICAgXSkudGhlbihhc3luYyAoW1xuICAgICAgICAgICAgY2FsaWJyYXRlUG9pbnRzTW9kdWxlLFxuICAgICAgICAgICAgY291bnRTYXZlTW9kdWxlLFxuICAgICAgICAgICAgc2F2ZWZpbGVNb2R1bGVcbiAgICAgICAgICBdKSA9PiB7XG4gICAgICAgICAgICAvLyBEZXN0cnVjdHVyZSB0aGUgaW1wb3J0ZWQgbW9kdWxlc1xuICAgICAgICAgICAgY29uc3QgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gPSBjYWxpYnJhdGVQb2ludHNNb2R1bGU7XG4gICAgICAgICAgICBjb25zdCB7IGRyYXdSZWREb3QsIHJ1bkNvdW50ZG93biwgc2hvd0NhcHR1cmVQcmV2aWV3IH0gPSBjb3VudFNhdmVNb2R1bGU7XG4gICAgICAgICAgICBjb25zdCB7IGNhcHR1cmVJbWFnZXNBdFBvaW50IH0gPSBzYXZlZmlsZU1vZHVsZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzXG4gICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDcmVhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgICAgICAgICBjb25zdCBzdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLmNsYXNzTmFtZSA9ICdjYWxpYnJhdGUtc3RhdHVzLWluZGljYXRvcic7XG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgICAgICB0b3A6IDEwcHg7XG4gICAgICAgICAgICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxMDIsIDIwNCwgMC45KTtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCc7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ0NhbGlicmF0aW9uOiBJbml0aWFsaXppbmcuLi4nO1xuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0YXR1c0luZGljYXRvcik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBY2Nlc3Mgd2ViY2FtIGJlZm9yZSBzdGFydGluZyBjYWxpYnJhdGlvbiBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyQ2FtZXJhQWNjZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFByb2Nlc3MgcG9pbnRzIHNlcXVlbnRpYWxseVxuICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gYENhbGlicmF0aW9uOiBQb2ludCAke2kgKyAxfS8ke3BvaW50cy5sZW5ndGh9YDtcbiAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBQcm9jZXNzaW5nIGNhbGlicmF0aW9uIHBvaW50ICR7aSArIDF9LyR7cG9pbnRzLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIG5ldyBwb2ludFxuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBEcmF3IHRoZSBkb3RcbiAgICAgICAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUnVuIGNvdW50ZG93blxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgcnVuQ291bnRkb3duKFxuICAgICAgICAgICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgICAgICAgICAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KHN0YXR1cy5wcm9jZXNzU3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGNvdW50ZG93biBjb21wbGV0ZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3OiBzaG93Q2FwdHVyZVByZXZpZXdcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAoY2FwdHVyZVJlc3VsdCAmJiAoY2FwdHVyZVJlc3VsdC5zY3JlZW5JbWFnZSB8fCBjYXB0dXJlUmVzdWx0LnN1Y2Nlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnQgY291bnRlclxuICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNhcHR1cmluZyBwb2ludCAke2krMX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGJldHdlZW4gcG9pbnRzXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEyMDApKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2FsaWJyYXRpb24gY29tcGxldGVcbiAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gYENhbGlicmF0aW9uIGNvbXBsZXRlOiAke3N1Y2Nlc3NDb3VudH0vJHtwb2ludHMubGVuZ3RofSBwb2ludHNgO1xuICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBDYWxpYnJhdGlvbiBjb21wbGV0ZWQ6ICR7c3VjY2Vzc0NvdW50fS8ke3BvaW50cy5sZW5ndGh9IHBvaW50cyBjYXB0dXJlZGApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdGF0dXMgaW5kaWNhdG9yIGFmdGVyIGEgZGVsYXlcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0luZGljYXRvci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0dXNJbmRpY2F0b3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdGF0dXNJbmRpY2F0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2FsaWJyYXRpb24gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgQ2FsaWJyYXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIC8vIFNob3cgVG9wQmFyIGFnYWluXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2hvd1RvcEJhcih0cnVlKSwgMjAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbXBvcnQgcmVxdWlyZWQgbW9kdWxlczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgQ2FsaWJyYXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAnY2xlYXJBbGwnOlxuICAgICAgICAvLyBDbGVhciBjYW52YXNcbiAgICAgICAgLy8gY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIHNldE91dHB1dFRleHQoJ0NhbnZhcyBjbGVhcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgQWN0aW9uIHRyaWdnZXJlZDogJHthY3Rpb25UeXBlfWApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQZXJtaXNzaW9uQWNjZXB0ZWQgPSAoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAoZmFsc2UpO1xuICAgIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkKHRydWUpO1xuICAgIHRvZ2dsZUNhbWVyYSh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQZXJtaXNzaW9uRGVuaWVkID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgIHNldE91dHB1dFRleHQoJ0NhbWVyYSBwZXJtaXNzaW9uIGRlbmllZCcpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbWVyYUNsb3NlID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICB0b2dnbGVDYW1lcmEoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbWVyYVJlYWR5ID0gKGRpbWVuc2lvbnMpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgc2V0TWV0cmljcyh7XG4gICAgICB3aWR0aDogZGltZW5zaW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICBkaXN0YW5jZTogZGltZW5zaW9ucy5kaXN0YW5jZSB8fCAnLS0tJ1xuICAgIH0pO1xuICAgIHNldE91dHB1dFRleHQoYENhbWVyYSByZWFkeTogJHtkaW1lbnNpb25zLndpZHRofXgke2RpbWVuc2lvbnMuaGVpZ2h0fWApO1xuICB9O1xuXG4gIC8vIFRvZ2dsZSB0b3AgYmFyIGZ1bmN0aW9uXG4gIGNvbnN0IHRvZ2dsZVRvcEJhciA9IChzaG93KSA9PiB7XG4gICAgY29uc3QgbmV3VG9wQmFyU3RhdGUgPSBzaG93ICE9PSB1bmRlZmluZWQgPyBzaG93IDogIXNob3dUb3BCYXI7XG4gICAgc2V0U2hvd1RvcEJhcihuZXdUb3BCYXJTdGF0ZSk7XG4gICAgXG4gICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICBpZiAoIW5ld1RvcEJhclN0YXRlKSB7XG4gICAgICBzZXRTaG93TWV0cmljcyhmYWxzZSk7XG4gICAgfVxuICAgIFxuICAgIHNldE91dHB1dFRleHQoYFRvcEJhciAke25ld1RvcEJhclN0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfSR7IW5ld1RvcEJhclN0YXRlID8gJywgTWV0cmljcyBoaWRkZW4nIDogJyd9YCk7XG4gICAgXG4gICAgLy8gV2FpdCBmb3Igc3RhdGUgdXBkYXRlIGFuZCBET00gY2hhbmdlcywgdGhlbiBhZGp1c3QgY2FudmFzXG4gICAgc2V0VGltZW91dChhZGp1c3RDYW52YXNEaW1lbnNpb25zLCAxMDApO1xuICB9O1xuXG4gIC8vIFRvZ2dsZSBtZXRyaWNzIGZ1bmN0aW9uXG4gIGNvbnN0IHRvZ2dsZU1ldHJpY3MgPSAoKSA9PiB7XG4gICAgaWYgKHNob3dUb3BCYXIpIHtcbiAgICAgIHNldFNob3dNZXRyaWNzKHByZXYgPT4gIXByZXYpO1xuICAgICAgc2V0T3V0cHV0VGV4dChgTWV0cmljcyAkeyFzaG93TWV0cmljcyA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdG9wQmFyIGlzIGhpZGRlbiwgd2UgY2FuJ3Qgc2hvdyBtZXRyaWNzXG4gICAgICBzZXRPdXRwdXRUZXh0KCdDYW5ub3Qgc2hvdyBtZXRyaWNzIHdoZW4gVG9wQmFyIGlzIGhpZGRlbicpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byB0cmlnZ2VyIGNhbWVyYSBhY2Nlc3NcbiAgY29uc3QgdHJpZ2dlckNhbWVyYUFjY2VzcyA9IChmb3JjZUVuYWJsZSkgPT4ge1xuICAgIGlmIChmb3JjZUVuYWJsZSkge1xuICAgICAgLy8gV2FpdCBhIGJpdCBmb3IgVmlkZW9Qcm9jZXNzb3IgdG8gYmUgYXZhaWxhYmxlXG4gICAgICBjb25zdCB3YWl0Rm9yVmlkZW9Qcm9jZXNzb3IgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNoZWNrUHJvY2Vzc29yID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy52aWRlb1Byb2Nlc3NvciAmJiB0eXBlb2Ygd2luZG93LnZpZGVvUHJvY2Vzc29yLnN0YXJ0VmlkZW9Qcm9jZXNzaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNoZWNrUHJvY2Vzc29yLCAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgY2hlY2tQcm9jZXNzb3IoKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBUcnkgdG8gZW5hYmxlIGNhbWVyYSBkaXJlY3RseVxuICAgICAgd2FpdEZvclZpZGVvUHJvY2Vzc29yKCkudGhlbigocHJvY2Vzc29yQXZhaWxhYmxlKSA9PiB7XG4gICAgICAgIGlmIChwcm9jZXNzb3JBdmFpbGFibGUpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhKHRydWUpO1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgICAgc2V0Q2FtZXJhUGVybWlzc2lvbkdyYW50ZWQodHJ1ZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhcnQgdmlkZW8gcHJvY2Vzc2luZyB3aXRoIGN1cnJlbnQgb3B0aW9uc1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3Iuc3RhcnRWaWRlb1Byb2Nlc3Npbmcoe1xuICAgICAgICAgICAgICBzaG93SGVhZFBvc2UsXG4gICAgICAgICAgICAgIHNob3dCb3VuZGluZ0JveCxcbiAgICAgICAgICAgICAgc2hvd01hc2ssXG4gICAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICBzaG93UHJvY2Vzc2VkSW1hZ2U6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZpZGVvIHByb2Nlc3Npbmcgc3RhcnRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyB2aWRlbyBwcm9jZXNzaW5nOicsIGVycm9yKTtcbiAgICAgICAgICAgIHNldFNob3dDYW1lcmEoZmFsc2UpO1xuICAgICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgICAgICAgIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdWaWRlb1Byb2Nlc3NvciBub3QgYXZhaWxhYmxlIGFmdGVyIHdhaXRpbmcnKTtcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBzaG93aW5nIGNhbWVyYSBwZXJtaXNzaW9uIHBvcHVwXG4gICAgICAgICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3YWl0aW5nIGZvciBWaWRlb1Byb2Nlc3NvcjonLCBlcnJvcik7XG4gICAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBSZXR1cm4gdHJ1ZSBpbW1lZGlhdGVseSB0byBpbmRpY2F0ZSB3ZSdyZSB0cnlpbmdcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICAvLyBKdXN0IHRvZ2dsZSBjdXJyZW50IHN0YXRlIGlmIG5vdCBmb3JjaW5nXG4gICAgaWYgKGNhbWVyYVBlcm1pc3Npb25HcmFudGVkKSB7XG4gICAgICB0b2dnbGVDYW1lcmEoIXNob3dDYW1lcmEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIER5bmFtaWMgY2xhc3MgdG8gcmVmbGVjdCBjdXJyZW50IHdpbmRvdyBzaXplXG4gIGNvbnN0IGdldFNpemVDbGFzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBlcmNlbnRhZ2UgfSA9IHdpbmRvd1NpemU7XG4gICAgaWYgKHBlcmNlbnRhZ2UgPCAzNSkgcmV0dXJuICd3aW5kb3ctc2l6ZS10aW55JztcbiAgICBpZiAocGVyY2VudGFnZSA8IDUwKSByZXR1cm4gJ3dpbmRvdy1zaXplLXNtYWxsJztcbiAgICBpZiAocGVyY2VudGFnZSA8IDcwKSByZXR1cm4gJ3dpbmRvdy1zaXplLW1lZGl1bSc7XG4gICAgcmV0dXJuICd3aW5kb3ctc2l6ZS1sYXJnZSc7XG4gIH07XG5cbiAgLy8gQWRkIHRoaXMgZnVuY3Rpb24gdG8gaGFuZGxlIHNldHRpbmdzIHZpc2liaWxpdHlcbiAgY29uc3QgaGFuZGxlU2V0dGluZ3NWaXNpYmlsaXR5ID0gKGlzVmlzaWJsZSkgPT4ge1xuICAgIHNldFNob3dTZXR0aW5ncyhpc1Zpc2libGUpO1xuICB9O1xuXG4gIC8vIEFkZCB0aGlzIGVmZmVjdCB0byBsaXN0ZW4gZm9yIHNldHRpbmdzIHZpc2liaWxpdHkgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzTWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gJ1NIT1dfU0VUVElOR1MnKSB7XG4gICAgICAgIHNldFNob3dTZXR0aW5ncyhldmVudC5kYXRhLnNob3cpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZVNldHRpbmdzTWVzc2FnZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlU2V0dGluZ3NNZXNzYWdlKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gTGlzdGVuIGZvciB1c2VyIElEIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVVc2VySWRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICd1c2VySWRDaGFuZ2UnKSB7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQoZXZlbnQuZGV0YWlsLnVzZXJJZCk7XG4gICAgICAgIC8vIERpc3BhdGNoIGV2ZW50IHRvIHVwZGF0ZSBzZXR0aW5ncyBmb3IgdGhlIG5ldyB1c2VyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICB0eXBlOiAnY2FwdHVyZVNldHRpbmdzJyxcbiAgICAgICAgICAgIHVzZXJJZDogZXZlbnQuZGV0YWlsLnVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBJbml0aWFsaXplIHNldHRpbmdzIHdoZW4gY29tcG9uZW50IG1vdW50c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25zZW50VXNlcklkKSB7XG4gICAgICAvLyBTZXQgdGhlIGN1cnJlbnQgdXNlciBJRFxuICAgICAgc2V0Q3VycmVudFVzZXJJZChjb25zZW50VXNlcklkKTtcbiAgICAgIFxuICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gdXBkYXRlIHNldHRpbmdzIGZvciB0aGlzIHVzZXJcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdjYXB0dXJlU2V0dGluZ3MnLFxuICAgICAgICAgIHVzZXJJZDogY29uc2VudFVzZXJJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH0sIFtjb25zZW50VXNlcklkXSk7XG5cbiAgLy8gTG9hZCBzZXR0aW5ncyBmcm9tIGJhY2tlbmQgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZFNldHRpbmdzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb25zZW50VXNlcklkKSByZXR1cm47XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHtjb25zZW50VXNlcklkfWApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBzZXR0aW5ncycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvYWRlZFNldHRpbmdzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGNvbXBvbmVudCB0byBiZSBtb3VudGVkIGFuZCByZWYgdG8gYmUgaW5pdGlhbGl6ZWRcbiAgICAgICAgY29uc3Qgd2FpdEZvclJlZiA9IChyZXRyaWVzID0gNSkgPT4ge1xuICAgICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIHR5cGVvZiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNldHRpbmdzIGZvciB0aGlzIHVzZXJcbiAgICAgICAgICAgIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQudXBkYXRlU2V0dGluZ3MobG9hZGVkU2V0dGluZ3MpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEaXNwYXRjaCBldmVudCB0byB1cGRhdGUgVUlcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCB7XG4gICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjYXB0dXJlU2V0dGluZ3MnLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogY29uc2VudFVzZXJJZCxcbiAgICAgICAgICAgICAgICB0aW1lczogbG9hZGVkU2V0dGluZ3MudGltZXMsXG4gICAgICAgICAgICAgICAgZGVsYXk6IGxvYWRlZFNldHRpbmdzLmRlbGF5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmV0cmllcyA+IDApIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gd2FpdEZvclJlZihyZXRyaWVzIC0gMSksIDUwMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQWN0aW9uQnV0dG9uR3JvdXAgcmVmIG5vdCBpbml0aWFsaXplZCBhZnRlciByZXRyaWVzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgd2FpdEZvclJlZigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEFkZCBhIHNtYWxsIGRlbGF5IHRvIGVuc3VyZSBjb21wb25lbnRzIGFyZSBtb3VudGVkXG4gICAgc2V0VGltZW91dChsb2FkU2V0dGluZ3MsIDEwMDApO1xuICB9LCBbY29uc2VudFVzZXJJZF0pO1xuXG4gIC8vIEFkZCBwb2xsaW5nIGZvciByZWFsLXRpbWUgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoVXBkYXRlcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghY29uc2VudFVzZXJJZCkgcmV0dXJuO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7Y29uc2VudFVzZXJJZH1gKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudCAmJiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKSB7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBZb3UgY2FuIGFkZCBpbWFnZSBmZXRjaGluZyBsb2dpYyBoZXJlIGlmIG5lZWRlZFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXBkYXRlczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEluaXRpYWwgZmV0Y2hcbiAgICBmZXRjaFVwZGF0ZXMoKTtcblxuICAgIC8vIFNldCB1cCBwb2xsaW5nIGludGVydmFsXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmZXRjaFVwZGF0ZXMsIDMwMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtjb25zZW50VXNlcklkXSk7XG5cbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3Igc2V0dGluZ3MgYW5kIGltYWdlIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbD8udHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycgJiYgZXZlbnQuZGV0YWlsPy51c2VySWQgPT09IGNvbnNlbnRVc2VySWQpIHtcbiAgICAgICAgY29uc3QgeyB0aW1lcywgZGVsYXkgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncykge1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQudXBkYXRlU2V0dGluZ3MoeyB0aW1lcywgZGVsYXkgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlSW1hZ2VVcGRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWw/LnR5cGUgPT09ICdpbWFnZScgJiYgZXZlbnQuZGV0YWlsPy51c2VySWQgPT09IGNvbnNlbnRVc2VySWQpIHtcbiAgICAgICAgY29uc3QgeyBpbWFnZSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICAvLyBVcGRhdGUgaW1hZ2UgaW4gdGhlIFVJIGlmIG5lZWRlZFxuICAgICAgICAvLyBZb3UgY2FuIGFkZCB5b3VyIGltYWdlIHVwZGF0ZSBsb2dpYyBoZXJlXG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ltYWdlVXBkYXRlJywgaGFuZGxlSW1hZ2VVcGRhdGUpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW1hZ2VVcGRhdGUnLCBoYW5kbGVJbWFnZVVwZGF0ZSk7XG4gICAgfTtcbiAgfSwgW2NvbnNlbnRVc2VySWRdKTtcblxuICAvLyBMb2FkIHNldHRpbmdzIGZvciBhIHNwZWNpZmljIHVzZXJcbiAgY29uc3QgbG9hZFNldHRpbmdzID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBzZXR0aW5ncyBmb3IgdXNlcjonLCB1c2VySWQpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHNldHRpbmdzJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIHNldHRpbmdzOicsIHVzZXJTZXR0aW5ncyk7XG4gICAgICBcbiAgICAgIC8vIERpc3BhdGNoIHNldHRpbmdzIHVwZGF0ZSBldmVudFxuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIC4uLnVzZXJTZXR0aW5nc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSB1c2VyIElEIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uc2VudFVzZXJJZCAmJiBjb25zZW50VXNlcklkICE9PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICBjb25zb2xlLmxvZygnVXNlciBJRCBjaGFuZ2VkIGluIGluZGV4LmpzOicsIGNvbnNlbnRVc2VySWQpO1xuICAgICAgc2V0Q3VycmVudFVzZXJJZChjb25zZW50VXNlcklkKTtcbiAgICAgIFxuICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gbm90aWZ5IG90aGVyIGNvbXBvbmVudHNcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCd1c2VySWRDaGFuZ2UnLCB7XG4gICAgICAgIGRldGFpbDogeyB1c2VySWQ6IGNvbnNlbnRVc2VySWQgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICBcbiAgICAgIC8vIExvYWQgc2V0dGluZ3MgZm9yIHRoZSBuZXcgdXNlclxuICAgICAgbG9hZFNldHRpbmdzKGNvbnNlbnRVc2VySWQpO1xuICAgIH1cbiAgfSwgW2NvbnNlbnRVc2VySWQsIGN1cnJlbnRVc2VySWRdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycpIHtcbiAgICAgICAgY29uc3QgeyB1c2VySWQsIHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBzZXR0aW5ncyBmb3IgdGhpcyB1c2VyXG4gICAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncykge1xuICAgICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyh7XG4gICAgICAgICAgICAgIHRpbWVzOiB0aW1lcyB8fCAxLFxuICAgICAgICAgICAgICBkZWxheTogZGVsYXkgfHwgM1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgfTtcbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgbWFpbi1jb250YWluZXIgJHtnZXRTaXplQ2xhc3MoKX1gfT5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+Q2FtZXJhIERhdGFzZXQgQ29sbGVjdGlvbjwvdGl0bGU+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiIC8+XG4gICAgICA8L0hlYWQ+XG4gICAgICBcbiAgICAgIHsvKiBCYWNrZW5kIGNvbm5lY3Rpb24gc3RhdHVzIGJhbm5lciAqL31cbiAgICAgIHtpc0h5ZHJhdGVkICYmIGJhY2tlbmRTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgcGFkZGluZzogJzZweCAwJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZlMGIyJyxcbiAgICAgICAgICBjb2xvcjogJyNlNjUxMDAnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgekluZGV4OiAxMTAwXG4gICAgICAgIH19PlxuICAgICAgICAgIOKaoO+4jyBCYWNrZW5kIGRpc2Nvbm5lY3RlZC4gSHVycnkgdXAsIE1ha2UgT05MSU5FIHBsZWFzZSBhbmQgVXNpbmcgbW9jayBtb2RlXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIFdhcm5pbmcgbWVzc2FnZSBiYW5uZXIgKi99XG4gICAgICB7aXNIeWRyYXRlZCAmJiBzaG93V2FybmluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2FybmluZy1iYW5uZXJcIiBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIHRvcDogc2hvd1RvcEJhciA/IChiYWNrZW5kU3RhdHVzID09PSAnZGlzY29ubmVjdGVkJyA/ICczMnB4JyA6ICc2MHB4JykgOiAnMCcsXG4gICAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZWIzYicsXG4gICAgICAgICAgY29sb3I6ICcjMzMzJyxcbiAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDJweCA0cHggcmdiYSgwLDAsMCwwLjIpJyxcbiAgICAgICAgICB6SW5kZXg6IDEwMTAsXG4gICAgICAgICAgYW5pbWF0aW9uOiAnZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQnXG4gICAgICAgIH19PlxuICAgICAgICAgIDxzdHJvbmc+4pqg77iPIHt3YXJuaW5nTWVzc2FnZX08L3N0cm9uZz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctY29udGFpbmVyXCI+XG4gICAgICAgICAgPHA+TG9hZGluZyB1c2VyIHNldHRpbmdzLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICAgICAgey8qIExvYWQgdGhlIHZpZGVvIHByb2Nlc3NvciBjb21wb25lbnQgKi99XG4gICAgICB7aXNIeWRyYXRlZCAmJiBpc0NsaWVudCAmJiAoXG4gICAgICAgIDxWaWRlb1Byb2Nlc3NvckNvbXBvbmVudCAvPlxuICAgICAgKX1cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogVG9wQmFyIGNvbXBvbmVudCB3aXRoIG9uQnV0dG9uQ2xpY2sgaGFuZGxlciAtIGNvbmRpdGlvbmFsbHkgcmVuZGVyZWQgKi99XG4gICAgICAgICAge3Nob3dUb3BCYXIgJiYgKFxuICAgICAgICAgICAgPFRvcEJhciBcbiAgICAgICAgICAgICAgb25CdXR0b25DbGljaz17aGFuZGxlQWN0aW9uQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICAgIG9uQ2FtZXJhQWNjZXNzPXsoKSA9PiBzZXRTaG93UGVybWlzc2lvblBvcHVwKHRydWUpfVxuICAgICAgICAgICAgICBvdXRwdXRUZXh0PXtzdGF0dXNNZXNzYWdlIHx8IG91dHB1dFRleHR9XG4gICAgICAgICAgICAgIG9uT3V0cHV0Q2hhbmdlPXsodGV4dCkgPT4gc2V0T3V0cHV0VGV4dCh0ZXh0KX1cbiAgICAgICAgICAgICAgb25Ub2dnbGVUb3BCYXI9e3RvZ2dsZVRvcEJhcn1cbiAgICAgICAgICAgICAgb25Ub2dnbGVNZXRyaWNzPXt0b2dnbGVNZXRyaWNzfVxuICAgICAgICAgICAgICBjYW52YXNSZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogU2hvdyByZXN0b3JlIGJ1dHRvbiB3aGVuIFRvcEJhciBpcyBoaWRkZW4gLSBwb3NpdGlvbmVkIGF0IHRvcCByaWdodCAqL31cbiAgICAgICAgICB7IXNob3dUb3BCYXIgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN0b3JlLWJ1dHRvbi1jb250YWluZXJcIiBzdHlsZT17e1xuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgdG9wOiAnMTBweCcsXG4gICAgICAgICAgICAgIHJpZ2h0OiAnMTBweCcsXG4gICAgICAgICAgICAgIHpJbmRleDogMTAwMFxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzdG9yZS1idG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVRvcEJhcih0cnVlKX1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIlNob3cgVG9wQmFyIGFuZCBNZXRyaWNzXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjMDA2NmNjJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKJoVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogTWFpbiBwcmV2aWV3IGFyZWEgKi99XG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIHJlZj17cHJldmlld0FyZWFSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcHJldmlldy1hcmVhXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBoZWlnaHQ6IHNob3dUb3BCYXIgPyAnY2FsYygxMDB2aCAtIDEyMHB4KScgOiAnMTAwdmgnLFxuICAgICAgICAgICAgICBtYXJnaW5Ub3A6IGJhY2tlbmRTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnID8gJzMycHgnIDogJzAnLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y1ZjVmNScsXG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7LyogQWN0aW9uIGJ1dHRvbnMgZm9yIGNhbWVyYSBjb250cm9sIC0gbW92ZWQgb3V0c2lkZSBjb25kaXRpb25hbCByZW5kZXJpbmcgKi99XG4gICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtYWN0aW9uLWJ1dHRvbnMtY29udGFpbmVyXCIgc3R5bGU9e3sgXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICBib3R0b206ICcyMHB4JyxcbiAgICAgICAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknLFxuICAgICAgICAgICAgICB6SW5kZXg6IDEwLFxuICAgICAgICAgICAgICBtYXhXaWR0aDogJzYwMHB4JyxcbiAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzAgMjBweCdcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uR3JvdXBcbiAgICAgICAgICAgICAgICByZWY9e2FjdGlvbkJ1dHRvbkdyb3VwUmVmfVxuICAgICAgICAgICAgICAgIHRyaWdnZXJDYW1lcmFBY2Nlc3M9e3RyaWdnZXJDYW1lcmFBY2Nlc3N9XG4gICAgICAgICAgICAgICAgaXNDb21wYWN0TW9kZT17d2luZG93U2l6ZS53aWR0aCA8IDc2OH1cbiAgICAgICAgICAgICAgICBvbkFjdGlvbkNsaWNrPXtoYW5kbGVBY3Rpb25CdXR0b25DbGlja31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PiAqL31cblxuICAgICAgICAgICAgeyFzaG93Q2FtZXJhID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXByZXZpZXctbWVzc2FnZVwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHNob3dUb3BCYXIgPyAncmVsYXRpdmUnIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICB6SW5kZXg6IDVcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgIDxwPkNhbWVyYSBwcmV2aWV3IHdpbGwgYXBwZWFyIGhlcmU8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYW1lcmEtc2l6ZS1pbmRpY2F0b3JcIj5DdXJyZW50IHdpbmRvdzoge3dpbmRvd1NpemUucGVyY2VudGFnZX0lIG9mIHNjcmVlbiB3aWR0aDwvcD5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgey8qIENhbWVyYSBwbGFjZWhvbGRlciBzcXVhcmUgLSBzbWFsbCB2ZXJzaW9uICovfVxuICAgICAgICAgICAgICAgICAge2lzSHlkcmF0ZWQgJiYgc2hvd0NhbWVyYVBsYWNlaG9sZGVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGxhY2Vob2xkZXItc3F1YXJlXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxODBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMzVweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcyMHB4IGF1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IGRhc2hlZCAjNjY2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjVmNWY1JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxLjVyZW0nIH19PvCfk7c8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBDYW52YXMgZm9yIGV5ZSB0cmFja2luZyBkb3RzIC0gRmxleGlibGUgY29udGFpbmVyICovfVxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtY29udGFpbmVyXCIgXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIFxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGNhbnZhcyBcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRyYWNraW5nLWNhbnZhc1wiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICBvYmplY3RGaXQ6ICdjb250YWluJ1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIE1ldHJpY3MgaW5mbyAtIGNvbmRpdGlvbmFsbHkgcmVuZGVyZWQgKi99XG4gICAgICAgICAgICB7aXNIeWRyYXRlZCAmJiBzaG93TWV0cmljcyAmJiAoXG4gICAgICAgICAgICAgIDxEaXNwbGF5UmVzcG9uc2UgXG4gICAgICAgICAgICAgICAgd2lkdGg9e21ldHJpY3Mud2lkdGh9IFxuICAgICAgICAgICAgICAgIGhlaWdodD17bWV0cmljcy5oZWlnaHR9IFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlPXttZXRyaWNzLmRpc3RhbmNlfVxuICAgICAgICAgICAgICAgIGlzVmlzaWJsZT17c2hvd01ldHJpY3N9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ2FtZXJhIGNvbXBvbmVudCAtIHVzaW5nIGNsaWVudC1vbmx5IHZlcnNpb24gKi99XG4gICAgICAgICAgICB7aXNIeWRyYXRlZCAmJiBpc0NsaWVudCAmJiBzaG93Q2FtZXJhICYmIChcbiAgICAgICAgICAgICAgPER5bmFtaWNDYW1lcmFBY2Nlc3NcbiAgICAgICAgICAgICAgICBpc1Nob3dpbmc9e3Nob3dDYW1lcmF9IFxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNhbWVyYUNsb3NlfVxuICAgICAgICAgICAgICAgIG9uQ2FtZXJhUmVhZHk9e2hhbmRsZUNhbWVyYVJlYWR5fVxuICAgICAgICAgICAgICAgIHNob3dIZWFkUG9zZT17c2hvd0hlYWRQb3NlfVxuICAgICAgICAgICAgICAgIHNob3dCb3VuZGluZ0JveD17c2hvd0JvdW5kaW5nQm94fVxuICAgICAgICAgICAgICAgIHNob3dNYXNrPXtzaG93TWFza31cbiAgICAgICAgICAgICAgICBzaG93UGFyYW1ldGVycz17c2hvd1BhcmFtZXRlcnN9XG4gICAgICAgICAgICAgICAgdmlkZW9SZWY9e3ZpZGVvUmVmfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIENhbWVyYSBwZXJtaXNzaW9uIHBvcHVwICovfVxuICAgICAgICAgICAge2lzSHlkcmF0ZWQgJiYgaXNDbGllbnQgJiYgc2hvd1Blcm1pc3Npb25Qb3B1cCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tcG9wdXBcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMjAwMFxuICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLWRpYWxvZ1wiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICB3aWR0aDogJzQwMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpJ1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLXRpdGxlXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDE1cHgnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgICAgICAgICAgIH19PkNhbWVyYSBBY2Nlc3MgUmVxdWlyZWQ8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tbWVzc2FnZVwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgMCAyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEuNCdcbiAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICBUaGlzIGFwcGxpY2F0aW9uIG5lZWRzIGFjY2VzcyB0byB5b3VyIGNhbWVyYSB0byBmdW5jdGlvbiBwcm9wZXJseS4gXG4gICAgICAgICAgICAgICAgICAgIFdoZW4gcHJvbXB0ZWQgYnkgeW91ciBicm93c2VyLCBwbGVhc2UgY2xpY2sgXCJBbGxvd1wiIHRvIGdyYW50IGNhbWVyYSBhY2Nlc3MuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLWJ1dHRvbnNcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgICAgICAgICAgICAgICBnYXA6ICcxMHB4J1xuICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkRlbmllZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmMGYwZjAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBlcm1pc3Npb25BY2NlcHRlZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDY2Y2MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBDb250aW51ZVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkhlYWQiLCJkeW5hbWljIiwiVG9wQmFyIiwiRGlzcGxheVJlc3BvbnNlIiwiQWN0aW9uQnV0dG9uR3JvdXAiLCJzaG93Q2FwdHVyZVByZXZpZXciLCJjYXB0dXJlSW1hZ2VzQXRQb2ludCIsImRyYXdSZWREb3QiLCJnZXRSYW5kb21Qb3NpdGlvbiIsInJ1bkNvdW50ZG93biIsImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMiLCJ1c2VDb25zZW50IiwidXNlUm91dGVyIiwiVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQiLCJzc3IiLCJEeW5hbWljQ2FtZXJhQWNjZXNzIiwibG9hZGluZyIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsInRleHRBbGlnbiIsInpJbmRleCIsImZvbnRTaXplIiwibWFyZ2luQm90dG9tIiwicCIsImZvbnRXZWlnaHQiLCJjb2xvciIsIkNvbGxlY3RlZERhdGFzZXRQYWdlIiwicm91dGVyIiwidXNlcklkIiwiY29uc2VudFVzZXJJZCIsInVzZXJEYXRhIiwic2V0VXNlckRhdGEiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiaXNIeWRyYXRlZCIsInNldElzSHlkcmF0ZWQiLCJiYWNrZW5kU3RhdHVzIiwic2V0QmFja2VuZFN0YXR1cyIsInNob3dUb3BCYXIiLCJzZXRTaG93VG9wQmFyIiwic2hvd1dhcm5pbmciLCJzZXRTaG93V2FybmluZyIsIndhcm5pbmdNZXNzYWdlIiwic2V0V2FybmluZ01lc3NhZ2UiLCJzdGF0dXNNZXNzYWdlIiwic2V0U3RhdHVzTWVzc2FnZSIsIm91dHB1dFRleHQiLCJzZXRPdXRwdXRUZXh0Iiwic2hvd01ldHJpY3MiLCJzZXRTaG93TWV0cmljcyIsInNob3dQZXJtaXNzaW9uUG9wdXAiLCJzZXRTaG93UGVybWlzc2lvblBvcHVwIiwiY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQiLCJzZXRDYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCIsInNob3dDYW1lcmEiLCJzZXRTaG93Q2FtZXJhIiwic2hvd0NhbWVyYVBsYWNlaG9sZGVyIiwic2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyIiwic2hvd0hlYWRQb3NlIiwic2V0U2hvd0hlYWRQb3NlIiwic2hvd0JvdW5kaW5nQm94Iiwic2V0U2hvd0JvdW5kaW5nQm94Iiwic2hvd01hc2siLCJzZXRTaG93TWFzayIsInNob3dQYXJhbWV0ZXJzIiwic2V0U2hvd1BhcmFtZXRlcnMiLCJ3aW5kb3dTaXplIiwic2V0V2luZG93U2l6ZSIsInBlcmNlbnRhZ2UiLCJtZXRyaWNzIiwic2V0TWV0cmljcyIsImRpc3RhbmNlIiwiY2FwdHVyZUNvdW50ZXIiLCJzZXRDYXB0dXJlQ291bnRlciIsImNhcHR1cmVGb2xkZXIiLCJzZXRDYXB0dXJlRm9sZGVyIiwiY3VycmVudFVzZXJJZCIsInNldEN1cnJlbnRVc2VySWQiLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJwcmV2aWV3QXJlYVJlZiIsImNhbnZhc1JlZiIsInZpZGVvUmVmIiwiYWN0aW9uQnV0dG9uR3JvdXBSZWYiLCJsb2FkVXNlckRhdGEiLCJpc1JlYWR5IiwicXVlcnkiLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsImVyciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiY2hlY2tCYWNrZW5kQ29ubmVjdGlvbiIsImNvbm5lY3RlZCIsInVwZGF0ZURpbWVuc2lvbnMiLCJjdXJyZW50Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJzY3JlZW5QZXJjZW50YWdlIiwid2luZG93IiwiaW5uZXJXaWR0aCIsInNjcmVlbiIsInByZXYiLCJpbm5lckhlaWdodCIsIk1hdGgiLCJyb3VuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibG9nIiwicHJlZmVyZW5jZXMiLCJjYW1lcmFTZXR0aW5ncyIsInNob3ciLCJ0b3BCYXIiLCJnZXRNYWluQ2FudmFzIiwiY2FudmFzTWFuYWdlciIsImdldENhbnZhcyIsImNyZWF0ZUNhbnZhcyIsIndoaXRlU2NyZWVuQ2FudmFzIiwiZG9jdW1lbnQiLCJjYW52YXNFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIndhcm4iLCJpc0NsaWVudCIsImNvbnRhaW5lciIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpZCIsInRhcmdldENvbnRhaW5lciIsImJvZHkiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJjc3NUZXh0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicGFyZW50Tm9kZSIsImFwcGVuZENoaWxkIiwiZW50ZXJGdWxsc2NyZWVuIiwiX29yaWdpbmFsU3RhdGUiLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiZXhpdEZ1bGxzY3JlZW4iLCJjbGVhciIsImNsZWFyUmVjdCIsImNhbnZhc0RpbWVuc2lvbnMiLCJpbml0aWFsaXplQ2FudmFzIiwic2V0VGltZW91dCIsImRpbWVuc2lvbnMiLCJyZWN0U2l6ZSIsImlzVmlzaWJsZSIsImFkanVzdENhbnZhc0RpbWVuc2lvbnMiLCJ0b3BCYXJIZWlnaHQiLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lckhlaWdodCIsInRvcEJhclZpc2libGUiLCJjYWxjdWxhdGVkSGVpZ2h0IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsInRleHRDb250ZW50IiwiaGVhZCIsInJlbW92ZUNoaWxkIiwidG9nZ2xlVG9wQmFyIiwidG9nZ2xlQ2FtZXJhIiwic2hvdWxkRW5hYmxlIiwiaGFuZGxlQWN0aW9uQnV0dG9uQ2xpY2siLCJhY3Rpb25UeXBlIiwicGFyYW1zIiwibmV3VG9wQmFyU3RhdGUiLCJ2YWx1ZSIsInNhZmVQYXJhbXMiLCJyYW5kb21UaW1lcyIsImRlbGF5U2Vjb25kcyIsImhhbmRsZVNldFJhbmRvbSIsImFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyIsInRpbWVJbnB1dCIsImRlbGF5SW5wdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGltZXMiLCJkZWxheSIsInBhcnNlZFRpbWUiLCJwYXJzZUludCIsImlzTmFOIiwicGFyc2VkRGVsYXkiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsImNvdW50U2F2ZU1vZHVsZSIsInNhdmVmaWxlTW9kdWxlIiwic3VjY2Vzc0NvdW50IiwiY3VycmVudENhcHR1cmUiLCJ4IiwieSIsInJlZHJhd0ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJyZXNvbHZlIiwic3RhdHVzIiwicHJvY2Vzc1N0YXR1cyIsImNsZWFySW50ZXJ2YWwiLCJjYXB0dXJlUmVzdWx0IiwicG9pbnQiLCJjYXB0dXJlQ291bnQiLCJzZXRDYXB0dXJlQ291bnQiLCJzY3JlZW5JbWFnZSIsInN1Y2Nlc3MiLCJjYXRjaCIsImhhbmRsZVJhbmRvbURvdCIsImRvdCIsIm5ld0hlYWRQb3NlU3RhdGUiLCJ2aWRlb1Byb2Nlc3NvciIsInVwZGF0ZU9wdGlvbnMiLCJvcHRpb25zIiwibmV3Qm91bmRpbmdCb3hTdGF0ZSIsIm5ld01hc2tTdGF0ZSIsIm5ld1BhcmFtZXRlcnNTdGF0ZSIsImhhbmRsZVNldENhbGlicmF0ZSIsImNhbGlicmF0ZVBvaW50c01vZHVsZSIsInBvaW50cyIsImxlbmd0aCIsInN0YXR1c0luZGljYXRvciIsInRyaWdnZXJDYW1lcmFBY2Nlc3MiLCJpIiwiaGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkIiwiaGFuZGxlUGVybWlzc2lvbkRlbmllZCIsImhhbmRsZUNhbWVyYUNsb3NlIiwiaGFuZGxlQ2FtZXJhUmVhZHkiLCJ1bmRlZmluZWQiLCJ0b2dnbGVNZXRyaWNzIiwiZm9yY2VFbmFibGUiLCJ3YWl0Rm9yVmlkZW9Qcm9jZXNzb3IiLCJjaGVja1Byb2Nlc3NvciIsInN0YXJ0VmlkZW9Qcm9jZXNzaW5nIiwicHJvY2Vzc29yQXZhaWxhYmxlIiwic2hvd1Byb2Nlc3NlZEltYWdlIiwiZ2V0U2l6ZUNsYXNzIiwiaGFuZGxlU2V0dGluZ3NWaXNpYmlsaXR5IiwiaGFuZGxlU2V0dGluZ3NNZXNzYWdlIiwiZXZlbnQiLCJ0eXBlIiwiaGFuZGxlVXNlcklkQ2hhbmdlIiwiZGV0YWlsIiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibG9hZFNldHRpbmdzIiwibG9hZGVkU2V0dGluZ3MiLCJ3YWl0Rm9yUmVmIiwicmV0cmllcyIsInVwZGF0ZVNldHRpbmdzIiwiZmV0Y2hVcGRhdGVzIiwic2V0dGluZ3MiLCJpbnRlcnZhbCIsImhhbmRsZVNldHRpbmdzVXBkYXRlIiwiaGFuZGxlSW1hZ2VVcGRhdGUiLCJpbWFnZSIsInVzZXJTZXR0aW5ncyIsInRpdGxlIiwibWV0YSIsIm5hbWUiLCJjb250ZW50IiwicGFkZGluZyIsImJveFNoYWRvdyIsImFuaW1hdGlvbiIsInN0cm9uZyIsIm9uQnV0dG9uQ2xpY2siLCJvbkNhbWVyYUFjY2VzcyIsIm9uT3V0cHV0Q2hhbmdlIiwidGV4dCIsIm9uVG9nZ2xlVG9wQmFyIiwib25Ub2dnbGVNZXRyaWNzIiwicmlnaHQiLCJidXR0b24iLCJvbkNsaWNrIiwiYmFja2dyb3VuZCIsImN1cnNvciIsInJlZiIsIm1hcmdpblRvcCIsIm92ZXJmbG93IiwibWFyZ2luIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvYmplY3RGaXQiLCJpc1Nob3dpbmciLCJvbkNsb3NlIiwib25DYW1lcmFSZWFkeSIsImgzIiwibGluZUhlaWdodCIsImdhcCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset-customized/index.js\n"));

/***/ })

});
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_pages-dir-browser_pages_collected-dataset-customized_components-gui_cameraAccess_js"],{

/***/ "(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js":
/*!***************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/cameraAccess.js ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-browser)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-browser)/./components/collected-dataset-customized/Helper/savefile.js\");\n// Unified Camera Access Component\n\nvar _s = $RefreshSig$();\n\n\n\n// Create the main camera component\nconst CameraAccessComponent = (param)=>{\n    let { isShowing, onClose, onCameraReady, showHeadPose = false, showBoundingBox = false, showMask = false, showParameters = false } = param;\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [fps, setFps] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const fpsTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const processingInterval = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [isVideoReady, setIsVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [processingResults, setProcessingResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const frameQueue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const isProcessing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [wsStatus, setWsStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('disconnected');\n    const [isLinked, setIsLinked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // WebSocket connection\n    const connectWebSocket = ()=>{\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            return;\n        }\n        setWsStatus('connecting');\n        try {\n            // Connect to FastAPI WebSocket endpoint\n            const wsUrl = \"ws://nginx:80\" || 0;\n            const ws = new WebSocket(\"\".concat(wsUrl, \"/ws/video\"));\n            wsRef.current = ws;\n            // Set a connection timeout\n            const connectionTimeout = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) {\n                    console.error('WebSocket connection timeout');\n                    ws.close();\n                    setWsStatus('error');\n                    setErrorMessage('Connection timeout. Please check if the backend server is running.');\n                    setIsLinked(false);\n                }\n            }, 5000);\n            ws.onopen = ()=>{\n                console.log('WebSocket connected to FastAPI backend');\n                clearTimeout(connectionTimeout);\n                setWsStatus('connected');\n                setErrorMessage('');\n                setIsLinked(true);\n                if (isVideoReady) {\n                    processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                }\n            };\n            ws.onmessage = (event)=>{\n                try {\n                    const result = JSON.parse(event.data);\n                    setProcessingResults(result);\n                // drawResults(result);\n                } catch (error) {\n                    console.error('Error parsing WebSocket message:', error);\n                }\n            };\n            ws.onerror = (error)=>{\n                console.error('WebSocket error:', error);\n                clearTimeout(connectionTimeout);\n                setWsStatus('error');\n                setErrorMessage('Failed to connect to FastAPI backend. Please check if the server is running.');\n                setIsLinked(false);\n            };\n            ws.onclose = (event)=>{\n                console.log('WebSocket disconnected:', event.code, event.reason);\n                clearTimeout(connectionTimeout);\n                setWsStatus('disconnected');\n                setIsLinked(false);\n                // Stop frame processing\n                if (processingInterval.current) {\n                    clearInterval(processingInterval.current);\n                    processingInterval.current = null;\n                }\n                // If the connection was closed due to an error, show error message\n                if (event.code !== 1000) {\n                    setErrorMessage(\"WebSocket connection closed: \".concat(event.reason || 'Unknown reason'));\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            setWsStatus('error');\n            setErrorMessage('Failed to create WebSocket connection. Please check your network connection.');\n            setIsLinked(false);\n        }\n    };\n    const disconnectWebSocket = ()=>{\n        if (wsRef.current) {\n            wsRef.current.close(1000, 'User requested disconnect');\n            wsRef.current = null;\n            setWsStatus('disconnected');\n            setIsLinked(false);\n            // Stop frame processing\n            if (processingInterval.current) {\n                clearInterval(processingInterval.current);\n                processingInterval.current = null;\n            }\n            // Clear the canvas to remove any overlays\n            if (canvasRef.current) {\n                const ctx = canvasRef.current.getContext('2d');\n                ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) {\n                disconnectWebSocket();\n                return;\n            }\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    disconnectWebSocket();\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Frame capture and processing\n    const captureAndProcessFrame = ()=>{\n        if (!videoRef.current || !canvasRef.current || !isVideoReady || !wsRef.current) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Only draw on canvas if WebSocket is connected\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Convert canvas to blob with high quality\n            canvas.toBlob((blob)=>{\n                if (blob && wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n                    // Send frame to backend\n                    wsRef.current.send(blob);\n                }\n            }, 'image/jpeg', 0.95);\n        }\n    };\n    // Start camera with highest resolution\n    const startCamera = async ()=>{\n        setErrorMessage('');\n        setIsVideoReady(false);\n        try {\n            // 1. Enhanced Browser Environment Check\n            if (false) {}\n            if (typeof navigator === 'undefined') {\n                throw new Error('Navigator object not available - not running in a browser environment');\n            }\n            // 2. Comprehensive Browser Detection\n            const userAgent = navigator.userAgent.toLowerCase();\n            const browserInfo = {\n                isChrome: /chrome/.test(userAgent) && !/edge/.test(userAgent),\n                isFirefox: /firefox/.test(userAgent),\n                isSafari: /safari/.test(userAgent) && !/chrome/.test(userAgent),\n                isEdge: /edge/.test(userAgent),\n                isOpera: /opr/.test(userAgent),\n                isIE: /trident/.test(userAgent),\n                isMobile: /mobile|android|iphone|ipad|phone/i.test(userAgent),\n                version: userAgent.match(/(chrome|firefox|safari|edge|opr)\\/([0-9]+)/)\n            };\n            // 3. Initialize MediaDevices API\n            if (!navigator.mediaDevices) {\n                console.warn('MediaDevices API not available, initializing...');\n                navigator.mediaDevices = {};\n            }\n            // 4. Enhanced MediaDevices Support\n            if (!navigator.mediaDevices.getUserMedia) {\n                console.warn('getUserMedia not available, checking implementations...');\n                // Try all possible implementations\n                const implementations = {\n                    standard: navigator.mediaDevices.getUserMedia,\n                    webkit: navigator.webkitGetUserMedia || navigator.mediaDevices.webkitGetUserMedia,\n                    moz: navigator.mozGetUserMedia || navigator.mediaDevices.mozGetUserMedia,\n                    ms: navigator.msGetUserMedia || navigator.mediaDevices.msGetUserMedia,\n                    legacy: navigator.getUserMedia\n                };\n                // Try to find a working implementation\n                let getUserMedia = null;\n                let implementationName = null;\n                for (const [name, impl] of Object.entries(implementations)){\n                    if (impl) {\n                        getUserMedia = impl;\n                        implementationName = name;\n                        break;\n                    }\n                }\n                if (getUserMedia) {\n                    console.log(\"Using \".concat(implementationName, \" implementation of getUserMedia\"));\n                    // Wrap the implementation in a Promise\n                    navigator.mediaDevices.getUserMedia = function(constraints) {\n                        return new Promise((resolve, reject)=>{\n                            if (implementationName === 'standard') {\n                                getUserMedia.call(navigator.mediaDevices, constraints).then(resolve).catch(reject);\n                            } else {\n                                getUserMedia.call(navigator, constraints, resolve, reject);\n                            }\n                        });\n                    };\n                } else {\n                    // Provide specific guidance based on browser\n                    if (browserInfo.isMobile) {\n                        throw new Error('Camera access on mobile devices requires HTTPS. Please use a secure connection.');\n                    } else if (browserInfo.isIE) {\n                        throw new Error('Internet Explorer does not support camera access. Please use Chrome, Firefox, or Edge.');\n                    } else if (browserInfo.isSafari) {\n                        throw new Error('Safari requires HTTPS for camera access. Please use a secure connection or try Chrome/Firefox.');\n                    } else {\n                        throw new Error('Camera access not supported in this browser. Please use Chrome, Firefox, or Edge.');\n                    }\n                }\n            }\n            // 5. Check Security Context\n            const isSecure = window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || \"development\" === 'development';\n            if (!isSecure) {\n                throw new Error(\"Camera access requires HTTPS or localhost. Current protocol: \".concat(window.location.protocol, \", hostname: \").concat(window.location.hostname));\n            }\n            // 6. Enhanced Permission Handling\n            let permissionStatus = 'prompt';\n            try {\n                if (navigator.permissions && navigator.permissions.query) {\n                    const permissionResult = await navigator.permissions.query({\n                        name: 'camera'\n                    });\n                    permissionStatus = permissionResult.state;\n                    console.log('Camera permission status:', permissionStatus);\n                    permissionResult.onchange = ()=>{\n                        console.log('Camera permission changed to:', permissionResult.state);\n                        permissionStatus = permissionResult.state;\n                    };\n                }\n            } catch (permissionError) {\n                console.warn('Could not check camera permissions:', permissionError);\n            }\n            // 7. Handle Permission States\n            if (permissionStatus === 'denied') {\n                throw new Error('Camera access has been permanently denied. Please update your browser settings to allow camera access.');\n            }\n            // 8. Get Camera Constraints\n            console.log('Starting camera access with highest resolution...');\n            const constraints = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_3__.getHighestResolutionConstraints)();\n            console.log('Using camera constraints:', constraints);\n            // 9. Add Fallback Constraints\n            const fallbackConstraints = {\n                video: {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: 'user',\n                    frameRate: {\n                        ideal: 30\n                    }\n                },\n                audio: false\n            };\n            // 10. Try to Access Camera with Permission Handling\n            let mediaStream;\n            try {\n                console.log('Attempting to access camera with high resolution...');\n                mediaStream = await navigator.mediaDevices.getUserMedia({\n                    ...constraints,\n                    audio: false\n                });\n            } catch (error) {\n                console.warn('Failed to get high resolution stream, trying fallback constraints:', error);\n                try {\n                    console.log('Attempting to access camera with fallback constraints...');\n                    mediaStream = await navigator.mediaDevices.getUserMedia(fallbackConstraints);\n                } catch (fallbackError) {\n                    console.error('Failed to get camera access with fallback constraints:', fallbackError);\n                    // Provide specific guidance based on error type\n                    if (fallbackError.name === 'NotAllowedError') {\n                        if (permissionStatus === 'prompt') {\n                            throw new Error('Camera access was denied. Please allow camera access when prompted by your browser.');\n                        } else {\n                            throw new Error('Camera access has been blocked. Please check your browser settings and allow camera access for this site.');\n                        }\n                    } else if (fallbackError.name === 'NotFoundError') {\n                        throw new Error('No camera found. Please connect a camera and try again.');\n                    } else if (fallbackError.name === 'NotReadableError') {\n                        throw new Error('Camera is already in use by another application. Please close other applications using the camera.');\n                    } else {\n                        throw new Error(\"Camera access error: \".concat(fallbackError.message));\n                    }\n                }\n            }\n            console.log('Camera access granted successfully!');\n            setStream(mediaStream);\n            // 11. Setup Video Element\n            if (videoRef.current) {\n                videoRef.current.playsInline = true;\n                videoRef.current.muted = true;\n                videoRef.current.autoplay = true;\n                videoRef.current.srcObject = mediaStream;\n                try {\n                    await videoRef.current.play();\n                    console.log('Video playing successfully!');\n                    setIsVideoReady(true);\n                    if (wsStatus === 'connected') {\n                        processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                    }\n                } catch (playError) {\n                    console.error('Error playing video:', playError);\n                    throw new Error('Unable to start video stream: ' + playError.message);\n                }\n            }\n        } catch (error) {\n            console.error('Camera access error:', error);\n            let errorMessage = 'Camera error: ';\n            if (error.name === 'NotAllowedError') {\n                errorMessage += 'Camera access was denied. Please allow camera access in your browser settings.';\n            } else if (error.name === 'NotFoundError') {\n                errorMessage += 'No camera found. Please connect a camera and try again.';\n            } else if (error.name === 'NotReadableError') {\n                errorMessage += 'Camera is already in use by another application.';\n            } else if (error.name === 'OverconstrainedError') {\n                errorMessage += 'Camera does not support the requested resolution.';\n            } else if (error.message === 'getUserMedia is not implemented in this browser') {\n                errorMessage += 'Your browser does not support camera access. Please try using a modern browser like Chrome, Firefox, or Edge.';\n            } else if (error.message.includes('HTTPS')) {\n                errorMessage += 'Camera access requires HTTPS or localhost. Please use HTTPS or run the application on localhost.';\n            } else if (error.message.includes('permanently denied')) {\n                errorMessage += 'Camera access has been permanently denied. Please update your browser settings.';\n            } else {\n                errorMessage += error.message || 'Unknown error';\n            }\n            setErrorMessage(errorMessage);\n        }\n    };\n    const stopCamera = ()=>{\n        // Stop all tracks in the stream\n        if (stream) {\n            stream.getTracks().forEach((track)=>track.stop());\n            setStream(null);\n        }\n        // Clear video source\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n        // Clear processing interval\n        if (processingInterval.current) {\n            clearInterval(processingInterval.current);\n            processingInterval.current = null;\n        }\n        setIsVideoReady(false);\n    };\n    // Start camera on component mount if isShowing is true\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (isShowing) {\n                startCamera();\n            } else {\n                stopCamera();\n            }\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    stopCamera();\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Setup FPS counter\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) return;\n            fpsTimerRef.current = setInterval({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    setFps({\n                        \"CameraAccessComponent.useEffect\": (prevFps)=>{\n                            // Simple mock for fps counter\n                            const newFps = Math.floor(Math.random() * 10) + 25; // Random between 25-35 fps\n                            return newFps;\n                        }\n                    }[\"CameraAccessComponent.useEffect\"]);\n                }\n            }[\"CameraAccessComponent.useEffect\"], 1000);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    if (fpsTimerRef.current) {\n                        clearInterval(fpsTimerRef.current);\n                    }\n                    if (processingInterval.current) {\n                        clearInterval(processingInterval.current);\n                    }\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Update dimensions when container size changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing) return;\n            const updateDimensions = {\n                \"CameraAccessComponent.useEffect.updateDimensions\": ()=>{\n                    if (containerRef.current) {\n                        const { width, height } = containerRef.current.getBoundingClientRect();\n                        setDimensions({\n                            width,\n                            height\n                        });\n                    }\n                }\n            }[\"CameraAccessComponent.useEffect.updateDimensions\"];\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        isShowing\n    ]);\n    // Handle video element ready state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccessComponent.useEffect\": ()=>{\n            if (!isShowing || !videoRef.current || !stream) return;\n            const video = videoRef.current;\n            const handleLoadedMetadata = {\n                \"CameraAccessComponent.useEffect.handleLoadedMetadata\": ()=>{\n                    setIsVideoReady(true);\n                    // Get video dimensions\n                    const videoWidth = video.videoWidth || 640;\n                    const videoHeight = video.videoHeight || 480;\n                    // Setup canvas for processing\n                    if (canvasRef.current) {\n                        // Store actual dimensions for capture\n                        canvasRef.current.width = videoWidth;\n                        canvasRef.current.height = videoHeight;\n                        // Set display size to maintain aspect ratio\n                        const aspectRatio = videoWidth / videoHeight;\n                        const containerWidth = dimensions.width;\n                        const containerHeight = containerWidth / aspectRatio;\n                        canvasRef.current.style.width = \"\".concat(containerWidth, \"px\");\n                        canvasRef.current.style.height = \"\".concat(containerHeight, \"px\");\n                    }\n                    // Start processing frames\n                    startProcessing();\n                    // Notify parent component that camera is ready\n                    if (onCameraReady) {\n                        onCameraReady({\n                            width: videoWidth,\n                            height: videoHeight\n                        });\n                    }\n                }\n            }[\"CameraAccessComponent.useEffect.handleLoadedMetadata\"];\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            return ({\n                \"CameraAccessComponent.useEffect\": ()=>{\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                }\n            })[\"CameraAccessComponent.useEffect\"];\n        }\n    }[\"CameraAccessComponent.useEffect\"], [\n        stream,\n        isShowing,\n        dimensions,\n        onCameraReady\n    ]);\n    const startProcessing = ()=>{\n        if (!canvasRef.current || !videoRef.current || !isVideoReady) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Start processing frames at ~30fps\n        processingInterval.current = setInterval(()=>{\n            if (video.readyState !== 4) return;\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Simulate face detection (90% chance of face detected)\n            const faceDetected = Math.random() > 0.1;\n            // Draw visualizations based on enabled options\n            if (faceDetected) {\n                if (showBoundingBox) {\n                    drawBoundingBox(ctx, canvas);\n                }\n                if (showHeadPose) {\n                    drawHeadPose(ctx, canvas);\n                }\n                if (showMask) {\n                    drawFaceMask(ctx, canvas);\n                }\n            }\n            // Display parameters if enabled\n            if (showParameters) {\n                drawParameters(ctx, canvas, faceDetected);\n            }\n        }, 33); // ~30fps\n    };\n    // Helper function to draw bounding box\n    const drawBoundingBox = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const boxWidth = canvas.width * 0.6;\n        const boxHeight = canvas.height * 0.8;\n        ctx.strokeStyle = 'rgba(255, 255, 0, 0.7)';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(centerX - boxWidth / 2, centerY - boxHeight / 2, boxWidth, boxHeight);\n    };\n    // Helper function to draw head pose axes\n    const drawHeadPose = (ctx, canvas, pitch, yaw, roll)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const time = Date.now() / 1000;\n        const length = canvas.width * 0.1;\n        // X axis (red)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length * Math.sin(time), centerY);\n        ctx.strokeStyle = 'red';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Y axis (green)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX, centerY + length * Math.sin(time + 1));\n        ctx.strokeStyle = 'green';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Z axis (blue)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length / 2 * Math.sin(time + 2), centerY - length / 2 * Math.cos(time + 2));\n        ctx.strokeStyle = 'blue';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n    };\n    // Helper function to draw face mask\n    const drawFaceMask = (ctx, canvas, points)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const radius = Math.min(canvas.width, canvas.height) * 0.2;\n        // Draw mask\n        ctx.fillStyle = 'rgba(0, 255, 255, 0.2)';\n        ctx.beginPath();\n        ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw eyes\n        const eyeRadius = radius * 0.2;\n        const eyeOffsetX = radius * 0.3;\n        const eyeOffsetY = radius * 0.1;\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n        // Left eye\n        ctx.beginPath();\n        ctx.arc(centerX - eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n        // Right eye\n        ctx.beginPath();\n        ctx.arc(centerX + eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n    };\n    // Helper function to draw parameters\n    const drawParameters = (ctx, canvas, faceDetected)=>{\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(5, canvas.height - 60, 150, 50);\n        ctx.font = '12px Arial';\n        ctx.fillStyle = 'white';\n        ctx.fillText(\"Resolution: \".concat(canvas.width, \"x\").concat(canvas.height), 10, canvas.height - 40);\n        ctx.fillText(\"FPS: \".concat(fps), 10, canvas.height - 25);\n        ctx.fillText(\"Face: \".concat(faceDetected ? 'Detected' : 'Not Detected'), 10, canvas.height - 10);\n    };\n    if (!isShowing) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: '30vw',\n            height: '30vh',\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n            overflow: 'hidden',\n            zIndex: 1000\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover',\n                    transform: 'scaleX(-1)',\n                    opacity: 1,\n                    zIndex: 1\n                },\n                playsInline: true,\n                muted: true,\n                autoPlay: true\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 680,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    zIndex: 2,\n                    pointerEvents: 'none',\n                    display: isLinked ? 'block' : 'none'\n                }\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 694,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '10px',\n                    right: '10px',\n                    display: 'flex',\n                    gap: '10px',\n                    zIndex: 3\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease',\n                            zIndex: 3\n                        },\n                        children: \"Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 715,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            if (isLinked) {\n                                disconnectWebSocket();\n                            } else {\n                                connectWebSocket();\n                            }\n                        },\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: isLinked ? 'rgba(255, 0, 0, 0.7)' : 'rgba(0, 255, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease',\n                            zIndex: 3\n                        },\n                        children: isLinked ? 'Unlink' : 'Link'\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 731,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 707,\n                columnNumber: 7\n            }, undefined),\n            wsStatus === 'error' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '50px',\n                    right: '10px',\n                    padding: '8px 12px',\n                    backgroundColor: 'rgba(255, 0, 0, 0.7)',\n                    color: 'white',\n                    borderRadius: '4px',\n                    zIndex: 3\n                },\n                children: [\n                    \"Connection Error: \",\n                    errorMessage\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 755,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n        lineNumber: 664,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CameraAccessComponent, \"hnEdnO3if4n0OeprCUNkmnm42m0=\");\n_c = CameraAccessComponent;\n// Create the dynamic import wrapper with SSR disabled\nconst CameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(_c1 = ()=>Promise.resolve(CameraAccessComponent), {\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                background: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                    lineNumber: 795,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                    lineNumber: 796,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n            lineNumber: 778,\n            columnNumber: 7\n        }, undefined)\n});\n_c2 = CameraAccess;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CameraAccess);\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"CameraAccessComponent\");\n$RefreshReg$(_c1, \"CameraAccess$dynamic\");\n$RefreshReg$(_c2, \"CameraAccess\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsa0NBQWtDOzs7QUFDeUI7QUFDeEI7QUFDZ0Y7QUFFbkgsbUNBQW1DO0FBQ25DLE1BQU1NLHdCQUF3QjtRQUFDLEVBQzdCQyxTQUFTLEVBQ1RDLE9BQU8sRUFDUEMsYUFBYSxFQUNiQyxlQUFlLEtBQUssRUFDcEJDLGtCQUFrQixLQUFLLEVBQ3ZCQyxXQUFXLEtBQUssRUFDaEJDLGlCQUFpQixLQUFLLEVBQ3ZCOztJQUNDLE1BQU1DLFdBQVdaLDZDQUFNQSxDQUFDO0lBQ3hCLE1BQU1hLFlBQVliLDZDQUFNQSxDQUFDO0lBQ3pCLE1BQU1jLGVBQWVkLDZDQUFNQSxDQUFDO0lBQzVCLE1BQU1lLFFBQVFmLDZDQUFNQSxDQUFDO0lBQ3JCLE1BQU0sQ0FBQ2dCLFFBQVFDLFVBQVUsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2lCLGNBQWNDLGdCQUFnQixHQUFHbEIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDbUIsS0FBS0MsT0FBTyxHQUFHcEIsK0NBQVFBLENBQUM7SUFDL0IsTUFBTXFCLGNBQWN0Qiw2Q0FBTUEsQ0FBQztJQUMzQixNQUFNdUIscUJBQXFCdkIsNkNBQU1BLENBQUM7SUFDbEMsTUFBTSxDQUFDd0IsWUFBWUMsY0FBYyxHQUFHeEIsK0NBQVFBLENBQUM7UUFBRXlCLE9BQU87UUFBR0MsUUFBUTtJQUFFO0lBQ25FLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUM2QixtQkFBbUJDLHFCQUFxQixHQUFHOUIsK0NBQVFBLENBQUM7SUFDM0QsTUFBTStCLGFBQWFoQyw2Q0FBTUEsQ0FBQyxFQUFFO0lBQzVCLE1BQU1pQyxlQUFlakMsNkNBQU1BLENBQUM7SUFDNUIsTUFBTSxDQUFDa0MsVUFBVUMsWUFBWSxHQUFHbEMsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDbUMsVUFBVUMsWUFBWSxHQUFHcEMsK0NBQVFBLENBQUM7SUFFekMsdUJBQXVCO0lBQ3ZCLE1BQU1xQyxtQkFBbUI7UUFDdkIsSUFBSXZCLE1BQU13QixPQUFPLElBQUl4QixNQUFNd0IsT0FBTyxDQUFDQyxVQUFVLEtBQUtDLFVBQVVDLElBQUksRUFBRTtZQUNoRTtRQUNGO1FBRUFQLFlBQVk7UUFDWixJQUFJO1lBQ0Ysd0NBQXdDO1lBQ3hDLE1BQU1RLFFBQVFDLGVBQThCLElBQUksQ0FBcUI7WUFDckUsTUFBTUcsS0FBSyxJQUFJTixVQUFVLEdBQVMsT0FBTkUsT0FBTTtZQUNsQzVCLE1BQU13QixPQUFPLEdBQUdRO1lBRWhCLDJCQUEyQjtZQUMzQixNQUFNQyxvQkFBb0JDLFdBQVc7Z0JBQ25DLElBQUlGLEdBQUdQLFVBQVUsS0FBS0MsVUFBVUMsSUFBSSxFQUFFO29CQUNwQ1EsUUFBUUMsS0FBSyxDQUFDO29CQUNkSixHQUFHSyxLQUFLO29CQUNSakIsWUFBWTtvQkFDWmhCLGdCQUFnQjtvQkFDaEJrQixZQUFZO2dCQUNkO1lBQ0YsR0FBRztZQUVIVSxHQUFHTSxNQUFNLEdBQUc7Z0JBQ1ZILFFBQVFJLEdBQUcsQ0FBQztnQkFDWkMsYUFBYVA7Z0JBQ2JiLFlBQVk7Z0JBQ1poQixnQkFBZ0I7Z0JBQ2hCa0IsWUFBWTtnQkFDWixJQUFJVCxjQUFjO29CQUNoQkwsbUJBQW1CZ0IsT0FBTyxHQUFHaUIsWUFBWUMsd0JBQXdCO2dCQUNuRTtZQUNGO1lBRUFWLEdBQUdXLFNBQVMsR0FBRyxDQUFDQztnQkFDZCxJQUFJO29CQUNGLE1BQU1DLFNBQVNDLEtBQUtDLEtBQUssQ0FBQ0gsTUFBTUksSUFBSTtvQkFDcENoQyxxQkFBcUI2QjtnQkFDckIsdUJBQXVCO2dCQUN6QixFQUFFLE9BQU9ULE9BQU87b0JBQ2RELFFBQVFDLEtBQUssQ0FBQyxvQ0FBb0NBO2dCQUNwRDtZQUNGO1lBRUFKLEdBQUdpQixPQUFPLEdBQUcsQ0FBQ2I7Z0JBQ1pELFFBQVFDLEtBQUssQ0FBQyxvQkFBb0JBO2dCQUNsQ0ksYUFBYVA7Z0JBQ2JiLFlBQVk7Z0JBQ1poQixnQkFBZ0I7Z0JBQ2hCa0IsWUFBWTtZQUNkO1lBRUFVLEdBQUdrQixPQUFPLEdBQUcsQ0FBQ047Z0JBQ1pULFFBQVFJLEdBQUcsQ0FBQywyQkFBMkJLLE1BQU1PLElBQUksRUFBRVAsTUFBTVEsTUFBTTtnQkFDL0RaLGFBQWFQO2dCQUNiYixZQUFZO2dCQUNaRSxZQUFZO2dCQUNaLHdCQUF3QjtnQkFDeEIsSUFBSWQsbUJBQW1CZ0IsT0FBTyxFQUFFO29CQUM5QjZCLGNBQWM3QyxtQkFBbUJnQixPQUFPO29CQUN4Q2hCLG1CQUFtQmdCLE9BQU8sR0FBRztnQkFDL0I7Z0JBRUEsbUVBQW1FO2dCQUNuRSxJQUFJb0IsTUFBTU8sSUFBSSxLQUFLLE1BQU07b0JBQ3ZCL0MsZ0JBQWdCLGdDQUFpRSxPQUFqQ3dDLE1BQU1RLE1BQU0sSUFBSTtnQkFDbEU7WUFDRjtRQUNGLEVBQUUsT0FBT2hCLE9BQU87WUFDZEQsUUFBUUMsS0FBSyxDQUFDLDZCQUE2QkE7WUFDM0NoQixZQUFZO1lBQ1poQixnQkFBZ0I7WUFDaEJrQixZQUFZO1FBQ2Q7SUFDRjtJQUVBLE1BQU1nQyxzQkFBc0I7UUFDMUIsSUFBSXRELE1BQU13QixPQUFPLEVBQUU7WUFDakJ4QixNQUFNd0IsT0FBTyxDQUFDYSxLQUFLLENBQUMsTUFBTTtZQUMxQnJDLE1BQU13QixPQUFPLEdBQUc7WUFDaEJKLFlBQVk7WUFDWkUsWUFBWTtZQUNaLHdCQUF3QjtZQUN4QixJQUFJZCxtQkFBbUJnQixPQUFPLEVBQUU7Z0JBQzlCNkIsY0FBYzdDLG1CQUFtQmdCLE9BQU87Z0JBQ3hDaEIsbUJBQW1CZ0IsT0FBTyxHQUFHO1lBQy9CO1lBQ0EsMENBQTBDO1lBQzFDLElBQUkxQixVQUFVMEIsT0FBTyxFQUFFO2dCQUNyQixNQUFNK0IsTUFBTXpELFVBQVUwQixPQUFPLENBQUNnQyxVQUFVLENBQUM7Z0JBQ3pDRCxJQUFJRSxTQUFTLENBQUMsR0FBRyxHQUFHM0QsVUFBVTBCLE9BQU8sQ0FBQ2IsS0FBSyxFQUFFYixVQUFVMEIsT0FBTyxDQUFDWixNQUFNO1lBQ3ZFO1FBQ0Y7SUFDRjtJQUVBNUIsZ0RBQVNBOzJDQUFDO1lBQ1IsSUFBSSxDQUFDTSxXQUFXO2dCQUNkZ0U7Z0JBQ0E7WUFDRjtZQUVBO21EQUFPO29CQUNMQTtnQkFDRjs7UUFDRjswQ0FBRztRQUFDaEU7S0FBVTtJQUVkLCtCQUErQjtJQUMvQixNQUFNb0QseUJBQXlCO1FBQzdCLElBQUksQ0FBQzdDLFNBQVMyQixPQUFPLElBQUksQ0FBQzFCLFVBQVUwQixPQUFPLElBQUksQ0FBQ1gsZ0JBQWdCLENBQUNiLE1BQU13QixPQUFPLEVBQUU7UUFFaEYsTUFBTWtDLFFBQVE3RCxTQUFTMkIsT0FBTztRQUM5QixNQUFNbUMsU0FBUzdELFVBQVUwQixPQUFPO1FBQ2hDLE1BQU0rQixNQUFNSSxPQUFPSCxVQUFVLENBQUM7UUFFOUIsZ0RBQWdEO1FBQ2hELElBQUl4RCxNQUFNd0IsT0FBTyxJQUFJeEIsTUFBTXdCLE9BQU8sQ0FBQ0MsVUFBVSxLQUFLQyxVQUFVQyxJQUFJLEVBQUU7WUFDaEUsZUFBZTtZQUNmNEIsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR0UsT0FBT2hELEtBQUssRUFBRWdELE9BQU8vQyxNQUFNO1lBRS9DLGlDQUFpQztZQUNqQzJDLElBQUlLLElBQUk7WUFFUixvREFBb0Q7WUFDcERMLElBQUlNLFNBQVMsQ0FBQ0YsT0FBT2hELEtBQUssRUFBRTtZQUM1QjRDLElBQUlPLEtBQUssQ0FBQyxDQUFDLEdBQUc7WUFFZCxnREFBZ0Q7WUFDaERQLElBQUlRLFNBQVMsQ0FBQ0wsT0FBTyxHQUFHLEdBQUdDLE9BQU9oRCxLQUFLLEVBQUVnRCxPQUFPL0MsTUFBTTtZQUV0RCw0QkFBNEI7WUFDNUIyQyxJQUFJUyxPQUFPO1lBRVgsMkNBQTJDO1lBQzNDTCxPQUFPTSxNQUFNLENBQUMsQ0FBQ0M7Z0JBQ2IsSUFBSUEsUUFBUWxFLE1BQU13QixPQUFPLElBQUl4QixNQUFNd0IsT0FBTyxDQUFDQyxVQUFVLEtBQUtDLFVBQVVDLElBQUksRUFBRTtvQkFDeEUsd0JBQXdCO29CQUN4QjNCLE1BQU13QixPQUFPLENBQUMyQyxJQUFJLENBQUNEO2dCQUNyQjtZQUNGLEdBQUcsY0FBYztRQUNuQjtJQUNGO0lBRUEsdUNBQXVDO0lBQ3ZDLE1BQU1FLGNBQWM7UUFDbEJoRSxnQkFBZ0I7UUFDaEJVLGdCQUFnQjtRQUVoQixJQUFJO1lBQ0Ysd0NBQXdDO1lBQ3hDLElBQUksS0FBNkIsRUFBRSxFQUVsQztZQUVELElBQUksT0FBT3dELGNBQWMsYUFBYTtnQkFDcEMsTUFBTSxJQUFJRCxNQUFNO1lBQ2xCO1lBRUEscUNBQXFDO1lBQ3JDLE1BQU1FLFlBQVlELFVBQVVDLFNBQVMsQ0FBQ0MsV0FBVztZQUNqRCxNQUFNQyxjQUFjO2dCQUNsQkMsVUFBVSxTQUFTQyxJQUFJLENBQUNKLGNBQWMsQ0FBQyxPQUFPSSxJQUFJLENBQUNKO2dCQUNuREssV0FBVyxVQUFVRCxJQUFJLENBQUNKO2dCQUMxQk0sVUFBVSxTQUFTRixJQUFJLENBQUNKLGNBQWMsQ0FBQyxTQUFTSSxJQUFJLENBQUNKO2dCQUNyRE8sUUFBUSxPQUFPSCxJQUFJLENBQUNKO2dCQUNwQlEsU0FBUyxNQUFNSixJQUFJLENBQUNKO2dCQUNwQlMsTUFBTSxVQUFVTCxJQUFJLENBQUNKO2dCQUNyQlUsVUFBVSxvQ0FBb0NOLElBQUksQ0FBQ0o7Z0JBQ25EVyxTQUFTWCxVQUFVWSxLQUFLLENBQUM7WUFDM0I7WUFFQSxpQ0FBaUM7WUFDakMsSUFBSSxDQUFDYixVQUFVYyxZQUFZLEVBQUU7Z0JBQzNCakQsUUFBUWtELElBQUksQ0FBQztnQkFDYmYsVUFBVWMsWUFBWSxHQUFHLENBQUM7WUFDNUI7WUFFQSxtQ0FBbUM7WUFDbkMsSUFBSSxDQUFDZCxVQUFVYyxZQUFZLENBQUNFLFlBQVksRUFBRTtnQkFDeENuRCxRQUFRa0QsSUFBSSxDQUFDO2dCQUViLG1DQUFtQztnQkFDbkMsTUFBTUUsa0JBQWtCO29CQUN0QkMsVUFBVWxCLFVBQVVjLFlBQVksQ0FBQ0UsWUFBWTtvQkFDN0NHLFFBQVFuQixVQUFVb0Isa0JBQWtCLElBQUlwQixVQUFVYyxZQUFZLENBQUNNLGtCQUFrQjtvQkFDakZDLEtBQUtyQixVQUFVc0IsZUFBZSxJQUFJdEIsVUFBVWMsWUFBWSxDQUFDUSxlQUFlO29CQUN4RUMsSUFBSXZCLFVBQVV3QixjQUFjLElBQUl4QixVQUFVYyxZQUFZLENBQUNVLGNBQWM7b0JBQ3JFQyxRQUFRekIsVUFBVWdCLFlBQVk7Z0JBQ2hDO2dCQUVBLHVDQUF1QztnQkFDdkMsSUFBSUEsZUFBZTtnQkFDbkIsSUFBSVUscUJBQXFCO2dCQUV6QixLQUFLLE1BQU0sQ0FBQ0MsTUFBTUMsS0FBSyxJQUFJQyxPQUFPQyxPQUFPLENBQUNiLGlCQUFrQjtvQkFDMUQsSUFBSVcsTUFBTTt3QkFDUlosZUFBZVk7d0JBQ2ZGLHFCQUFxQkM7d0JBQ3JCO29CQUNGO2dCQUNGO2dCQUVBLElBQUlYLGNBQWM7b0JBQ2hCbkQsUUFBUUksR0FBRyxDQUFDLFNBQTRCLE9BQW5CeUQsb0JBQW1CO29CQUV4Qyx1Q0FBdUM7b0JBQ3ZDMUIsVUFBVWMsWUFBWSxDQUFDRSxZQUFZLEdBQUcsU0FBU2UsV0FBVzt3QkFDeEQsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDOzRCQUMzQixJQUFJUix1QkFBdUIsWUFBWTtnQ0FDckNWLGFBQWFtQixJQUFJLENBQUNuQyxVQUFVYyxZQUFZLEVBQUVpQixhQUN2Q0ssSUFBSSxDQUFDSCxTQUNMSSxLQUFLLENBQUNIOzRCQUNYLE9BQU87Z0NBQ0xsQixhQUFhbUIsSUFBSSxDQUFDbkMsV0FBVytCLGFBQWFFLFNBQVNDOzRCQUNyRDt3QkFDRjtvQkFDRjtnQkFDRixPQUFPO29CQUNMLDZDQUE2QztvQkFDN0MsSUFBSS9CLFlBQVlRLFFBQVEsRUFBRTt3QkFDeEIsTUFBTSxJQUFJWixNQUFNO29CQUNsQixPQUFPLElBQUlJLFlBQVlPLElBQUksRUFBRTt3QkFDM0IsTUFBTSxJQUFJWCxNQUFNO29CQUNsQixPQUFPLElBQUlJLFlBQVlJLFFBQVEsRUFBRTt3QkFDL0IsTUFBTSxJQUFJUixNQUFNO29CQUNsQixPQUFPO3dCQUNMLE1BQU0sSUFBSUEsTUFBTTtvQkFDbEI7Z0JBQ0Y7WUFDRjtZQUVBLDRCQUE0QjtZQUM1QixNQUFNdUMsV0FBV0MsT0FBT0MsUUFBUSxDQUFDQyxRQUFRLEtBQUssWUFDOUJGLE9BQU9DLFFBQVEsQ0FBQ0UsUUFBUSxLQUFLLGVBQzdCSCxPQUFPQyxRQUFRLENBQUNFLFFBQVEsS0FBSyxlQUM3Qm5GLGtCQUF5QjtZQUV6QyxJQUFJLENBQUMrRSxVQUFVO2dCQUNiLE1BQU0sSUFBSXZDLE1BQU0sZ0VBQXVHd0MsT0FBdkNBLE9BQU9DLFFBQVEsQ0FBQ0MsUUFBUSxFQUFDLGdCQUF1QyxPQUF6QkYsT0FBT0MsUUFBUSxDQUFDRSxRQUFRO1lBQ2pKO1lBRUEsa0NBQWtDO1lBQ2xDLElBQUlDLG1CQUFtQjtZQUN2QixJQUFJO2dCQUNGLElBQUkzQyxVQUFVNEMsV0FBVyxJQUFJNUMsVUFBVTRDLFdBQVcsQ0FBQ0MsS0FBSyxFQUFFO29CQUN4RCxNQUFNQyxtQkFBbUIsTUFBTTlDLFVBQVU0QyxXQUFXLENBQUNDLEtBQUssQ0FBQzt3QkFBRWxCLE1BQU07b0JBQVM7b0JBQzVFZ0IsbUJBQW1CRyxpQkFBaUJDLEtBQUs7b0JBQ3pDbEYsUUFBUUksR0FBRyxDQUFDLDZCQUE2QjBFO29CQUV6Q0csaUJBQWlCRSxRQUFRLEdBQUc7d0JBQzFCbkYsUUFBUUksR0FBRyxDQUFDLGlDQUFpQzZFLGlCQUFpQkMsS0FBSzt3QkFDbkVKLG1CQUFtQkcsaUJBQWlCQyxLQUFLO29CQUMzQztnQkFDRjtZQUNGLEVBQUUsT0FBT0UsaUJBQWlCO2dCQUN4QnBGLFFBQVFrRCxJQUFJLENBQUMsdUNBQXVDa0M7WUFDdEQ7WUFFQSw4QkFBOEI7WUFDOUIsSUFBSU4scUJBQXFCLFVBQVU7Z0JBQ2pDLE1BQU0sSUFBSTVDLE1BQU07WUFDbEI7WUFFQSw0QkFBNEI7WUFDNUJsQyxRQUFRSSxHQUFHLENBQUM7WUFDWixNQUFNOEQsY0FBYyxNQUFNakgseUhBQStCQTtZQUN6RCtDLFFBQVFJLEdBQUcsQ0FBQyw2QkFBNkI4RDtZQUV6Qyw4QkFBOEI7WUFDOUIsTUFBTW1CLHNCQUFzQjtnQkFDMUI5RCxPQUFPO29CQUNML0MsT0FBTzt3QkFBRThHLE9BQU87b0JBQUs7b0JBQ3JCN0csUUFBUTt3QkFBRTZHLE9BQU87b0JBQUk7b0JBQ3JCQyxZQUFZO29CQUNaQyxXQUFXO3dCQUFFRixPQUFPO29CQUFHO2dCQUN6QjtnQkFDQUcsT0FBTztZQUNUO1lBRUEsb0RBQW9EO1lBQ3BELElBQUlDO1lBQ0osSUFBSTtnQkFDRjFGLFFBQVFJLEdBQUcsQ0FBQztnQkFDWnNGLGNBQWMsTUFBTXZELFVBQVVjLFlBQVksQ0FBQ0UsWUFBWSxDQUFDO29CQUN0RCxHQUFHZSxXQUFXO29CQUNkdUIsT0FBTztnQkFDVDtZQUNGLEVBQUUsT0FBT3hGLE9BQU87Z0JBQ2RELFFBQVFrRCxJQUFJLENBQUMsc0VBQXNFakQ7Z0JBQ25GLElBQUk7b0JBQ0ZELFFBQVFJLEdBQUcsQ0FBQztvQkFDWnNGLGNBQWMsTUFBTXZELFVBQVVjLFlBQVksQ0FBQ0UsWUFBWSxDQUFDa0M7Z0JBQzFELEVBQUUsT0FBT00sZUFBZTtvQkFDdEIzRixRQUFRQyxLQUFLLENBQUMsMERBQTBEMEY7b0JBRXhFLGdEQUFnRDtvQkFDaEQsSUFBSUEsY0FBYzdCLElBQUksS0FBSyxtQkFBbUI7d0JBQzVDLElBQUlnQixxQkFBcUIsVUFBVTs0QkFDakMsTUFBTSxJQUFJNUMsTUFBTTt3QkFDbEIsT0FBTzs0QkFDTCxNQUFNLElBQUlBLE1BQU07d0JBQ2xCO29CQUNGLE9BQU8sSUFBSXlELGNBQWM3QixJQUFJLEtBQUssaUJBQWlCO3dCQUNqRCxNQUFNLElBQUk1QixNQUFNO29CQUNsQixPQUFPLElBQUl5RCxjQUFjN0IsSUFBSSxLQUFLLG9CQUFvQjt3QkFDcEQsTUFBTSxJQUFJNUIsTUFBTTtvQkFDbEIsT0FBTzt3QkFDTCxNQUFNLElBQUlBLE1BQU0sd0JBQThDLE9BQXRCeUQsY0FBY0MsT0FBTztvQkFDL0Q7Z0JBQ0Y7WUFDRjtZQUVBNUYsUUFBUUksR0FBRyxDQUFDO1lBQ1pyQyxVQUFVMkg7WUFFViwwQkFBMEI7WUFDMUIsSUFBSWhJLFNBQVMyQixPQUFPLEVBQUU7Z0JBQ3BCM0IsU0FBUzJCLE9BQU8sQ0FBQ3dHLFdBQVcsR0FBRztnQkFDL0JuSSxTQUFTMkIsT0FBTyxDQUFDeUcsS0FBSyxHQUFHO2dCQUN6QnBJLFNBQVMyQixPQUFPLENBQUMwRyxRQUFRLEdBQUc7Z0JBQzVCckksU0FBUzJCLE9BQU8sQ0FBQzJHLFNBQVMsR0FBR047Z0JBRTdCLElBQUk7b0JBQ0YsTUFBTWhJLFNBQVMyQixPQUFPLENBQUM0RyxJQUFJO29CQUMzQmpHLFFBQVFJLEdBQUcsQ0FBQztvQkFDWnpCLGdCQUFnQjtvQkFFaEIsSUFBSUssYUFBYSxhQUFhO3dCQUM1QlgsbUJBQW1CZ0IsT0FBTyxHQUFHaUIsWUFBWUMsd0JBQXdCO29CQUNuRTtnQkFDRixFQUFFLE9BQU8yRixXQUFXO29CQUNsQmxHLFFBQVFDLEtBQUssQ0FBQyx3QkFBd0JpRztvQkFDdEMsTUFBTSxJQUFJaEUsTUFBTSxtQ0FBbUNnRSxVQUFVTixPQUFPO2dCQUN0RTtZQUNGO1FBQ0YsRUFBRSxPQUFPM0YsT0FBTztZQUNkRCxRQUFRQyxLQUFLLENBQUMsd0JBQXdCQTtZQUN0QyxJQUFJakMsZUFBZTtZQUVuQixJQUFJaUMsTUFBTTZELElBQUksS0FBSyxtQkFBbUI7Z0JBQ3BDOUYsZ0JBQWdCO1lBQ2xCLE9BQU8sSUFBSWlDLE1BQU02RCxJQUFJLEtBQUssaUJBQWlCO2dCQUN6QzlGLGdCQUFnQjtZQUNsQixPQUFPLElBQUlpQyxNQUFNNkQsSUFBSSxLQUFLLG9CQUFvQjtnQkFDNUM5RixnQkFBZ0I7WUFDbEIsT0FBTyxJQUFJaUMsTUFBTTZELElBQUksS0FBSyx3QkFBd0I7Z0JBQ2hEOUYsZ0JBQWdCO1lBQ2xCLE9BQU8sSUFBSWlDLE1BQU0yRixPQUFPLEtBQUssbURBQW1EO2dCQUM5RTVILGdCQUFnQjtZQUNsQixPQUFPLElBQUlpQyxNQUFNMkYsT0FBTyxDQUFDTyxRQUFRLENBQUMsVUFBVTtnQkFDMUNuSSxnQkFBZ0I7WUFDbEIsT0FBTyxJQUFJaUMsTUFBTTJGLE9BQU8sQ0FBQ08sUUFBUSxDQUFDLHVCQUF1QjtnQkFDdkRuSSxnQkFBZ0I7WUFDbEIsT0FBTztnQkFDTEEsZ0JBQWdCaUMsTUFBTTJGLE9BQU8sSUFBSTtZQUNuQztZQUVBM0gsZ0JBQWdCRDtRQUNsQjtJQUNGO0lBRUEsTUFBTW9JLGFBQWE7UUFDakIsZ0NBQWdDO1FBQ2hDLElBQUl0SSxRQUFRO1lBQ1ZBLE9BQU91SSxTQUFTLEdBQUdDLE9BQU8sQ0FBQ0MsQ0FBQUEsUUFBU0EsTUFBTUMsSUFBSTtZQUM5Q3pJLFVBQVU7UUFDWjtRQUVBLHFCQUFxQjtRQUNyQixJQUFJTCxTQUFTMkIsT0FBTyxFQUFFO1lBQ3BCM0IsU0FBUzJCLE9BQU8sQ0FBQzJHLFNBQVMsR0FBRztRQUMvQjtRQUVBLDRCQUE0QjtRQUM1QixJQUFJM0gsbUJBQW1CZ0IsT0FBTyxFQUFFO1lBQzlCNkIsY0FBYzdDLG1CQUFtQmdCLE9BQU87WUFDeENoQixtQkFBbUJnQixPQUFPLEdBQUc7UUFDL0I7UUFFQVYsZ0JBQWdCO0lBQ2xCO0lBRUEsdURBQXVEO0lBQ3ZEOUIsZ0RBQVNBOzJDQUFDO1lBQ1IsSUFBSU0sV0FBVztnQkFDYjhFO1lBQ0YsT0FBTztnQkFDTG1FO1lBQ0Y7WUFFQTttREFBTztvQkFDTEE7Z0JBQ0Y7O1FBQ0Y7MENBQUc7UUFBQ2pKO0tBQVU7SUFFZCxvQkFBb0I7SUFDcEJOLGdEQUFTQTsyQ0FBQztZQUNSLElBQUksQ0FBQ00sV0FBVztZQUVoQmlCLFlBQVlpQixPQUFPLEdBQUdpQjttREFBWTtvQkFDaENuQzsyREFBT3NJLENBQUFBOzRCQUNMLDhCQUE4Qjs0QkFDOUIsTUFBTUMsU0FBU0MsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUssTUFBTSxJQUFJLDJCQUEyQjs0QkFDL0UsT0FBT0g7d0JBQ1Q7O2dCQUNGO2tEQUFHO1lBRUg7bURBQU87b0JBQ0wsSUFBSXRJLFlBQVlpQixPQUFPLEVBQUU7d0JBQ3ZCNkIsY0FBYzlDLFlBQVlpQixPQUFPO29CQUNuQztvQkFDQSxJQUFJaEIsbUJBQW1CZ0IsT0FBTyxFQUFFO3dCQUM5QjZCLGNBQWM3QyxtQkFBbUJnQixPQUFPO29CQUMxQztnQkFDRjs7UUFDRjswQ0FBRztRQUFDbEM7S0FBVTtJQUVkLGdEQUFnRDtJQUNoRE4sZ0RBQVNBOzJDQUFDO1lBQ1IsSUFBSSxDQUFDTSxXQUFXO1lBRWhCLE1BQU0ySjtvRUFBbUI7b0JBQ3ZCLElBQUlsSixhQUFheUIsT0FBTyxFQUFFO3dCQUN4QixNQUFNLEVBQUViLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUdiLGFBQWF5QixPQUFPLENBQUMwSCxxQkFBcUI7d0JBQ3BFeEksY0FBYzs0QkFBRUM7NEJBQU9DO3dCQUFPO29CQUNoQztnQkFDRjs7WUFFQXFJO1lBQ0FwQyxPQUFPc0MsZ0JBQWdCLENBQUMsVUFBVUY7WUFDbEM7bURBQU8sSUFBTXBDLE9BQU91QyxtQkFBbUIsQ0FBQyxVQUFVSDs7UUFDcEQ7MENBQUc7UUFBQzNKO0tBQVU7SUFFZCxtQ0FBbUM7SUFDbkNOLGdEQUFTQTsyQ0FBQztZQUNSLElBQUksQ0FBQ00sYUFBYSxDQUFDTyxTQUFTMkIsT0FBTyxJQUFJLENBQUN2QixRQUFRO1lBRWhELE1BQU15RCxRQUFRN0QsU0FBUzJCLE9BQU87WUFFOUIsTUFBTTZIO3dFQUF1QjtvQkFDM0J2SSxnQkFBZ0I7b0JBRWhCLHVCQUF1QjtvQkFDdkIsTUFBTXdJLGFBQWE1RixNQUFNNEYsVUFBVSxJQUFJO29CQUN2QyxNQUFNQyxjQUFjN0YsTUFBTTZGLFdBQVcsSUFBSTtvQkFFekMsOEJBQThCO29CQUM5QixJQUFJekosVUFBVTBCLE9BQU8sRUFBRTt3QkFDckIsc0NBQXNDO3dCQUN0QzFCLFVBQVUwQixPQUFPLENBQUNiLEtBQUssR0FBRzJJO3dCQUMxQnhKLFVBQVUwQixPQUFPLENBQUNaLE1BQU0sR0FBRzJJO3dCQUUzQiw0Q0FBNEM7d0JBQzVDLE1BQU1DLGNBQWNGLGFBQWFDO3dCQUNqQyxNQUFNRSxpQkFBaUJoSixXQUFXRSxLQUFLO3dCQUN2QyxNQUFNK0ksa0JBQWtCRCxpQkFBaUJEO3dCQUV6QzFKLFVBQVUwQixPQUFPLENBQUNtSSxLQUFLLENBQUNoSixLQUFLLEdBQUcsR0FBa0IsT0FBZjhJLGdCQUFlO3dCQUNsRDNKLFVBQVUwQixPQUFPLENBQUNtSSxLQUFLLENBQUMvSSxNQUFNLEdBQUcsR0FBbUIsT0FBaEI4SSxpQkFBZ0I7b0JBQ3REO29CQUVBLDBCQUEwQjtvQkFDMUJFO29CQUVBLCtDQUErQztvQkFDL0MsSUFBSXBLLGVBQWU7d0JBQ2pCQSxjQUFjOzRCQUNabUIsT0FBTzJJOzRCQUNQMUksUUFBUTJJO3dCQUNWO29CQUNGO2dCQUNGOztZQUVBN0YsTUFBTXlGLGdCQUFnQixDQUFDLGtCQUFrQkU7WUFFekM7bURBQU87b0JBQ0wzRixNQUFNMEYsbUJBQW1CLENBQUMsa0JBQWtCQztnQkFDOUM7O1FBQ0Y7MENBQUc7UUFBQ3BKO1FBQVFYO1FBQVdtQjtRQUFZakI7S0FBYztJQUVqRCxNQUFNb0ssa0JBQWtCO1FBQ3RCLElBQUksQ0FBQzlKLFVBQVUwQixPQUFPLElBQUksQ0FBQzNCLFNBQVMyQixPQUFPLElBQUksQ0FBQ1gsY0FBYztRQUU5RCxNQUFNNkMsUUFBUTdELFNBQVMyQixPQUFPO1FBQzlCLE1BQU1tQyxTQUFTN0QsVUFBVTBCLE9BQU87UUFDaEMsTUFBTStCLE1BQU1JLE9BQU9ILFVBQVUsQ0FBQztRQUU5QixvQ0FBb0M7UUFDcENoRCxtQkFBbUJnQixPQUFPLEdBQUdpQixZQUFZO1lBQ3ZDLElBQUlpQixNQUFNakMsVUFBVSxLQUFLLEdBQUc7WUFFNUIsZUFBZTtZQUNmOEIsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR0UsT0FBT2hELEtBQUssRUFBRWdELE9BQU8vQyxNQUFNO1lBRS9DLGlDQUFpQztZQUNqQzJDLElBQUlLLElBQUk7WUFFUixvREFBb0Q7WUFDcERMLElBQUlNLFNBQVMsQ0FBQ0YsT0FBT2hELEtBQUssRUFBRTtZQUM1QjRDLElBQUlPLEtBQUssQ0FBQyxDQUFDLEdBQUc7WUFFZCxnREFBZ0Q7WUFDaERQLElBQUlRLFNBQVMsQ0FBQ0wsT0FBTyxHQUFHLEdBQUdDLE9BQU9oRCxLQUFLLEVBQUVnRCxPQUFPL0MsTUFBTTtZQUV0RCw0QkFBNEI7WUFDNUIyQyxJQUFJUyxPQUFPO1lBRVgsd0RBQXdEO1lBQ3hELE1BQU02RixlQUFlZixLQUFLRSxNQUFNLEtBQUs7WUFFckMsK0NBQStDO1lBQy9DLElBQUlhLGNBQWM7Z0JBQ2hCLElBQUluSyxpQkFBaUI7b0JBQ25Cb0ssZ0JBQWdCdkcsS0FBS0k7Z0JBQ3ZCO2dCQUVBLElBQUlsRSxjQUFjO29CQUNoQnNLLGFBQWF4RyxLQUFLSTtnQkFDcEI7Z0JBRUEsSUFBSWhFLFVBQVU7b0JBQ1pxSyxhQUFhekcsS0FBS0k7Z0JBQ3BCO1lBQ0Y7WUFFQSxnQ0FBZ0M7WUFDaEMsSUFBSS9ELGdCQUFnQjtnQkFDbEJxSyxlQUFlMUcsS0FBS0ksUUFBUWtHO1lBQzlCO1FBQ0YsR0FBRyxLQUFLLFNBQVM7SUFDbkI7SUFFQSx1Q0FBdUM7SUFDdkMsTUFBTUMsa0JBQWtCLENBQUN2RyxLQUFLSTtRQUM1QixNQUFNdUcsVUFBVXZHLE9BQU9oRCxLQUFLLEdBQUc7UUFDL0IsTUFBTXdKLFVBQVV4RyxPQUFPL0MsTUFBTSxHQUFHO1FBQ2hDLE1BQU13SixXQUFXekcsT0FBT2hELEtBQUssR0FBRztRQUNoQyxNQUFNMEosWUFBWTFHLE9BQU8vQyxNQUFNLEdBQUc7UUFFbEMyQyxJQUFJK0csV0FBVyxHQUFHO1FBQ2xCL0csSUFBSWdILFNBQVMsR0FBRztRQUNoQmhILElBQUlpSCxVQUFVLENBQ1pOLFVBQVVFLFdBQVMsR0FDbkJELFVBQVVFLFlBQVUsR0FDcEJELFVBQ0FDO0lBRUo7SUFFQSx5Q0FBeUM7SUFDekMsTUFBTU4sZUFBZSxDQUFDeEcsS0FBS0ksUUFBUThHLE9BQU9DLEtBQUtDO1FBQzdDLE1BQU1ULFVBQVV2RyxPQUFPaEQsS0FBSyxHQUFHO1FBQy9CLE1BQU13SixVQUFVeEcsT0FBTy9DLE1BQU0sR0FBRztRQUNoQyxNQUFNZ0ssT0FBT0MsS0FBS0MsR0FBRyxLQUFLO1FBQzFCLE1BQU1DLFNBQVNwSCxPQUFPaEQsS0FBSyxHQUFHO1FBRTlCLGVBQWU7UUFDZjRDLElBQUl5SCxTQUFTO1FBQ2J6SCxJQUFJMEgsTUFBTSxDQUFDZixTQUFTQztRQUNwQjVHLElBQUkySCxNQUFNLENBQUNoQixVQUFVYSxTQUFTakMsS0FBS3FDLEdBQUcsQ0FBQ1AsT0FBT1Q7UUFDOUM1RyxJQUFJK0csV0FBVyxHQUFHO1FBQ2xCL0csSUFBSWdILFNBQVMsR0FBRztRQUNoQmhILElBQUk2SCxNQUFNO1FBRVYsaUJBQWlCO1FBQ2pCN0gsSUFBSXlILFNBQVM7UUFDYnpILElBQUkwSCxNQUFNLENBQUNmLFNBQVNDO1FBQ3BCNUcsSUFBSTJILE1BQU0sQ0FBQ2hCLFNBQVNDLFVBQVVZLFNBQVNqQyxLQUFLcUMsR0FBRyxDQUFDUCxPQUFPO1FBQ3ZEckgsSUFBSStHLFdBQVcsR0FBRztRQUNsQi9HLElBQUlnSCxTQUFTLEdBQUc7UUFDaEJoSCxJQUFJNkgsTUFBTTtRQUVWLGdCQUFnQjtRQUNoQjdILElBQUl5SCxTQUFTO1FBQ2J6SCxJQUFJMEgsTUFBTSxDQUFDZixTQUFTQztRQUNwQjVHLElBQUkySCxNQUFNLENBQ1JoQixVQUFVYSxTQUFPLElBQUlqQyxLQUFLcUMsR0FBRyxDQUFDUCxPQUFPLElBQ3JDVCxVQUFVWSxTQUFPLElBQUlqQyxLQUFLdUMsR0FBRyxDQUFDVCxPQUFPO1FBRXZDckgsSUFBSStHLFdBQVcsR0FBRztRQUNsQi9HLElBQUlnSCxTQUFTLEdBQUc7UUFDaEJoSCxJQUFJNkgsTUFBTTtJQUNaO0lBRUEsb0NBQW9DO0lBQ3BDLE1BQU1wQixlQUFlLENBQUN6RyxLQUFLSSxRQUFRMkg7UUFDakMsTUFBTXBCLFVBQVV2RyxPQUFPaEQsS0FBSyxHQUFHO1FBQy9CLE1BQU13SixVQUFVeEcsT0FBTy9DLE1BQU0sR0FBRztRQUNoQyxNQUFNMkssU0FBU3pDLEtBQUswQyxHQUFHLENBQUM3SCxPQUFPaEQsS0FBSyxFQUFFZ0QsT0FBTy9DLE1BQU0sSUFBSTtRQUV2RCxZQUFZO1FBQ1oyQyxJQUFJa0ksU0FBUyxHQUFHO1FBQ2hCbEksSUFBSXlILFNBQVM7UUFDYnpILElBQUltSSxHQUFHLENBQUN4QixTQUFTQyxTQUFTb0IsUUFBUSxHQUFHekMsS0FBSzZDLEVBQUUsR0FBRztRQUMvQ3BJLElBQUlxSSxJQUFJO1FBRVIsWUFBWTtRQUNaLE1BQU1DLFlBQVlOLFNBQVM7UUFDM0IsTUFBTU8sYUFBYVAsU0FBUztRQUM1QixNQUFNUSxhQUFhUixTQUFTO1FBRTVCaEksSUFBSWtJLFNBQVMsR0FBRztRQUVoQixXQUFXO1FBQ1hsSSxJQUFJeUgsU0FBUztRQUNiekgsSUFBSW1JLEdBQUcsQ0FBQ3hCLFVBQVU0QixZQUFZM0IsVUFBVTRCLFlBQVlGLFdBQVcsR0FBRy9DLEtBQUs2QyxFQUFFLEdBQUc7UUFDNUVwSSxJQUFJcUksSUFBSTtRQUVSLFlBQVk7UUFDWnJJLElBQUl5SCxTQUFTO1FBQ2J6SCxJQUFJbUksR0FBRyxDQUFDeEIsVUFBVTRCLFlBQVkzQixVQUFVNEIsWUFBWUYsV0FBVyxHQUFHL0MsS0FBSzZDLEVBQUUsR0FBRztRQUM1RXBJLElBQUlxSSxJQUFJO0lBQ1Y7SUFFQSxxQ0FBcUM7SUFDckMsTUFBTTNCLGlCQUFpQixDQUFDMUcsS0FBS0ksUUFBUWtHO1FBQ25DdEcsSUFBSWtJLFNBQVMsR0FBRztRQUNoQmxJLElBQUl5SSxRQUFRLENBQUMsR0FBR3JJLE9BQU8vQyxNQUFNLEdBQUcsSUFBSSxLQUFLO1FBRXpDMkMsSUFBSTBJLElBQUksR0FBRztRQUNYMUksSUFBSWtJLFNBQVMsR0FBRztRQUNoQmxJLElBQUkySSxRQUFRLENBQUMsZUFBK0J2SSxPQUFoQkEsT0FBT2hELEtBQUssRUFBQyxLQUFpQixPQUFkZ0QsT0FBTy9DLE1BQU0sR0FBSSxJQUFJK0MsT0FBTy9DLE1BQU0sR0FBRztRQUNqRjJDLElBQUkySSxRQUFRLENBQUMsUUFBWSxPQUFKN0wsTUFBTyxJQUFJc0QsT0FBTy9DLE1BQU0sR0FBRztRQUNoRDJDLElBQUkySSxRQUFRLENBQUMsU0FBb0QsT0FBM0NyQyxlQUFlLGFBQWEsaUJBQWtCLElBQUlsRyxPQUFPL0MsTUFBTSxHQUFHO0lBQzFGO0lBRUEsSUFBSSxDQUFDdEIsV0FBVztRQUNkLE9BQU87SUFDVDtJQUVBLHFCQUNFLDhEQUFDNk07UUFDQ0MsS0FBS3JNO1FBQ0w0SixPQUFPO1lBQ0wwQyxVQUFVO1lBQ1ZDLEtBQUs7WUFDTEMsTUFBTTtZQUNOQyxXQUFXO1lBQ1g3TCxPQUFPO1lBQ1BDLFFBQVE7WUFDUjZMLGlCQUFpQjtZQUNqQkMsY0FBYztZQUNkQyxXQUFXO1lBQ1hDLFVBQVU7WUFDVkMsUUFBUTtRQUNWOzswQkFFQSw4REFBQ25KO2dCQUNDMEksS0FBS3ZNO2dCQUNMOEosT0FBTztvQkFDTGhKLE9BQU87b0JBQ1BDLFFBQVE7b0JBQ1JrTSxXQUFXO29CQUNYTixXQUFXO29CQUNYTyxTQUFTO29CQUNURixRQUFRO2dCQUNWO2dCQUNBN0UsV0FBVztnQkFDWEMsS0FBSztnQkFDTCtFLFFBQVE7Ozs7OzswQkFFViw4REFBQ3JKO2dCQUNDeUksS0FBS3RNO2dCQUNMNkosT0FBTztvQkFDTDBDLFVBQVU7b0JBQ1ZDLEtBQUs7b0JBQ0xDLE1BQU07b0JBQ041TCxPQUFPO29CQUNQQyxRQUFRO29CQUNSaU0sUUFBUTtvQkFDUkksZUFBZTtvQkFDZkMsU0FBUzdMLFdBQVcsVUFBVTtnQkFDaEM7Ozs7OzswQkFFRiw4REFBQzhLO2dCQUFJeEMsT0FBTztvQkFDVjBDLFVBQVU7b0JBQ1ZDLEtBQUs7b0JBQ0xhLE9BQU87b0JBQ1BELFNBQVM7b0JBQ1RFLEtBQUs7b0JBQ0xQLFFBQVE7Z0JBQ1Y7O2tDQUNFLDhEQUFDUTt3QkFDQ0MsU0FBUy9OO3dCQUNUb0ssT0FBTzs0QkFDTDRELFNBQVM7NEJBQ1RkLGlCQUFpQjs0QkFDakJlLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JmLGNBQWM7NEJBQ2RnQixRQUFROzRCQUNSQyxZQUFZOzRCQUNaZCxRQUFRO3dCQUNWO2tDQUNEOzs7Ozs7a0NBSUQsOERBQUNRO3dCQUNDQyxTQUFTOzRCQUNQLElBQUlqTSxVQUFVO2dDQUNaaUM7NEJBQ0YsT0FBTztnQ0FDTC9COzRCQUNGO3dCQUNGO3dCQUNBb0ksT0FBTzs0QkFDTDRELFNBQVM7NEJBQ1RkLGlCQUFpQnBMLFdBQVcseUJBQXlCOzRCQUNyRG1NLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JmLGNBQWM7NEJBQ2RnQixRQUFROzRCQUNSQyxZQUFZOzRCQUNaZCxRQUFRO3dCQUNWO2tDQUVDeEwsV0FBVyxXQUFXOzs7Ozs7Ozs7Ozs7WUFJMUJGLGFBQWEseUJBQ1osOERBQUNnTDtnQkFBSXhDLE9BQU87b0JBQ1YwQyxVQUFVO29CQUNWQyxLQUFLO29CQUNMYSxPQUFPO29CQUNQSSxTQUFTO29CQUNUZCxpQkFBaUI7b0JBQ2pCZSxPQUFPO29CQUNQZCxjQUFjO29CQUNkRyxRQUFRO2dCQUNWOztvQkFBRztvQkFDa0IxTTs7Ozs7Ozs7Ozs7OztBQUs3QjtHQTN2Qk1kO0tBQUFBO0FBNnZCTixzREFBc0Q7QUFDdEQsTUFBTXVPLGVBQWV6TyxtREFBT0EsT0FDMUIsSUFBTW1ILFFBQVFDLE9BQU8sQ0FBQ2xILHdCQUN0QjtJQUNFd08sS0FBSztJQUNMQyxTQUFTLGtCQUNQLDhEQUFDM0I7WUFBSXhDLE9BQU87Z0JBQ1YwQyxVQUFVO2dCQUNWQyxLQUFLO2dCQUNMQyxNQUFNO2dCQUNOQyxXQUFXO2dCQUNYN0wsT0FBTztnQkFDUEMsUUFBUTtnQkFDUm1OLFlBQVk7Z0JBQ1pOLFFBQVE7Z0JBQ1JmLGNBQWM7Z0JBQ2RRLFNBQVM7Z0JBQ1RjLGVBQWU7Z0JBQ2ZDLGdCQUFnQjtnQkFDaEJDLFlBQVk7Z0JBQ1pDLFdBQVc7Z0JBQ1h0QixRQUFRO1lBQ1Y7OzhCQUNFLDhEQUFDVjtvQkFBSXhDLE9BQU87d0JBQUV5RSxVQUFVO3dCQUFRQyxjQUFjO29CQUFPOzhCQUFHOzs7Ozs7OEJBQ3hELDhEQUFDQztvQkFBRTNFLE9BQU87d0JBQUV5RSxVQUFVO3dCQUFRRyxZQUFZO3dCQUFRZixPQUFPO29CQUFVOzhCQUFHOzs7Ozs7Ozs7Ozs7QUFLNUU7O0FBR0YsaUVBQWVJLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIi9hcHAvcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9jb21wb25lbnRzLWd1aS9jYW1lcmFBY2Nlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVW5pZmllZCBDYW1lcmEgQWNjZXNzIENvbXBvbmVudFxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBkeW5hbWljIGZyb20gJ25leHQvZHluYW1pYyc7XG5pbXBvcnQgeyBnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0hlbHBlci9zYXZlZmlsZSc7XG5cbi8vIENyZWF0ZSB0aGUgbWFpbiBjYW1lcmEgY29tcG9uZW50XG5jb25zdCBDYW1lcmFBY2Nlc3NDb21wb25lbnQgPSAoeyBcbiAgaXNTaG93aW5nLCBcbiAgb25DbG9zZSwgXG4gIG9uQ2FtZXJhUmVhZHksXG4gIHNob3dIZWFkUG9zZSA9IGZhbHNlLFxuICBzaG93Qm91bmRpbmdCb3ggPSBmYWxzZSxcbiAgc2hvd01hc2sgPSBmYWxzZSxcbiAgc2hvd1BhcmFtZXRlcnMgPSBmYWxzZVxufSkgPT4ge1xuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHdzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbc3RyZWFtLCBzZXRTdHJlYW1dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtlcnJvck1lc3NhZ2UsIHNldEVycm9yTWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtmcHMsIHNldEZwc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgZnBzVGltZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHByb2Nlc3NpbmdJbnRlcnZhbCA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2RpbWVuc2lvbnMsIHNldERpbWVuc2lvbnNdID0gdXNlU3RhdGUoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICBjb25zdCBbaXNWaWRlb1JlYWR5LCBzZXRJc1ZpZGVvUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvY2Vzc2luZ1Jlc3VsdHMsIHNldFByb2Nlc3NpbmdSZXN1bHRzXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBmcmFtZVF1ZXVlID0gdXNlUmVmKFtdKTtcbiAgY29uc3QgaXNQcm9jZXNzaW5nID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgW3dzU3RhdHVzLCBzZXRXc1N0YXR1c10gPSB1c2VTdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG4gIGNvbnN0IFtpc0xpbmtlZCwgc2V0SXNMaW5rZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgY29uc3QgY29ubmVjdFdlYlNvY2tldCA9ICgpID0+IHtcbiAgICBpZiAod3NSZWYuY3VycmVudCAmJiB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0V3NTdGF0dXMoJ2Nvbm5lY3RpbmcnKTtcbiAgICB0cnkge1xuICAgICAgLy8gQ29ubmVjdCB0byBGYXN0QVBJIFdlYlNvY2tldCBlbmRwb2ludFxuICAgICAgY29uc3Qgd3NVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19XU19VUkwgfHwgJ3dzOi8vbG9jYWxob3N0OjgwMTAnO1xuICAgICAgY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0KGAke3dzVXJsfS93cy92aWRlb2ApO1xuICAgICAgd3NSZWYuY3VycmVudCA9IHdzO1xuXG4gICAgICAvLyBTZXQgYSBjb25uZWN0aW9uIHRpbWVvdXRcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh3cy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIHRpbWVvdXQnKTtcbiAgICAgICAgICB3cy5jbG9zZSgpO1xuICAgICAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICAgIHNldEVycm9yTWVzc2FnZSgnQ29ubmVjdGlvbiB0aW1lb3V0LiBQbGVhc2UgY2hlY2sgaWYgdGhlIGJhY2tlbmQgc2VydmVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDAwKTtcblxuICAgICAgd3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3RlZCB0byBGYXN0QVBJIGJhY2tlbmQnKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgc2V0V3NTdGF0dXMoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xuICAgICAgICBzZXRJc0xpbmtlZCh0cnVlKTtcbiAgICAgICAgaWYgKGlzVmlkZW9SZWFkeSkge1xuICAgICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoY2FwdHVyZUFuZFByb2Nlc3NGcmFtZSwgMzMpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIHNldFByb2Nlc3NpbmdSZXN1bHRzKHJlc3VsdCk7XG4gICAgICAgICAgLy8gZHJhd1Jlc3VsdHMocmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIFdlYlNvY2tldCBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdGYWlsZWQgdG8gY29ubmVjdCB0byBGYXN0QVBJIGJhY2tlbmQuIFBsZWFzZSBjaGVjayBpZiB0aGUgc2VydmVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIHdzLm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQ6JywgZXZlbnQuY29kZSwgZXZlbnQucmVhc29uKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgc2V0V3NTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgICAgIC8vIFN0b3AgZnJhbWUgcHJvY2Vzc2luZ1xuICAgICAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgZHVlIHRvIGFuIGVycm9yLCBzaG93IGVycm9yIG1lc3NhZ2VcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgIT09IDEwMDApIHsgLy8gMTAwMCBpcyBub3JtYWwgY2xvc3VyZVxuICAgICAgICAgIHNldEVycm9yTWVzc2FnZShgV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkOiAke2V2ZW50LnJlYXNvbiB8fCAnVW5rbm93biByZWFzb24nfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBXZWJTb2NrZXQ6JywgZXJyb3IpO1xuICAgICAgc2V0V3NTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICBzZXRFcnJvck1lc3NhZ2UoJ0ZhaWxlZCB0byBjcmVhdGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uIFBsZWFzZSBjaGVjayB5b3VyIG5ldHdvcmsgY29ubmVjdGlvbi4nKTtcbiAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzY29ubmVjdFdlYlNvY2tldCA9ICgpID0+IHtcbiAgICBpZiAod3NSZWYuY3VycmVudCkge1xuICAgICAgd3NSZWYuY3VycmVudC5jbG9zZSgxMDAwLCAnVXNlciByZXF1ZXN0ZWQgZGlzY29ubmVjdCcpO1xuICAgICAgd3NSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICBzZXRXc1N0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgICAvLyBTdG9wIGZyYW1lIHByb2Nlc3NpbmdcbiAgICAgIGlmIChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhcyB0byByZW1vdmUgYW55IG92ZXJsYXlzXG4gICAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzUmVmLmN1cnJlbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXNSZWYuY3VycmVudC53aWR0aCwgY2FudmFzUmVmLmN1cnJlbnQuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzU2hvd2luZykge1xuICAgICAgZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkaXNjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgfTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIEZyYW1lIGNhcHR1cmUgYW5kIHByb2Nlc3NpbmdcbiAgY29uc3QgY2FwdHVyZUFuZFByb2Nlc3NGcmFtZSA9ICgpID0+IHtcbiAgICBpZiAoIXZpZGVvUmVmLmN1cnJlbnQgfHwgIWNhbnZhc1JlZi5jdXJyZW50IHx8ICFpc1ZpZGVvUmVhZHkgfHwgIXdzUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8vIE9ubHkgZHJhdyBvbiBjYW52YXMgaWYgV2ViU29ja2V0IGlzIGNvbm5lY3RlZFxuICAgIGlmICh3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIC8vIENsZWFyIGNhbnZhc1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgIC8vIEZsaXAgdGhlIGNvbnRleHQgaG9yaXpvbnRhbGx5IHRvIG1pcnJvciB0aGUgdmlkZW9cbiAgICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoLCAwKTtcbiAgICAgIGN0eC5zY2FsZSgtMSwgMSk7XG5cbiAgICAgIC8vIERyYXcgdmlkZW8gZnJhbWUgdG8gY2FudmFzIGF0IGhpZ2ggcmVzb2x1dGlvblxuICAgICAgY3R4LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgLy8gUmVzdG9yZSB0aGUgY29udGV4dCBzdGF0ZVxuICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgLy8gQ29udmVydCBjYW52YXMgdG8gYmxvYiB3aXRoIGhpZ2ggcXVhbGl0eVxuICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICBpZiAoYmxvYiAmJiB3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICAvLyBTZW5kIGZyYW1lIHRvIGJhY2tlbmRcbiAgICAgICAgICB3c1JlZi5jdXJyZW50LnNlbmQoYmxvYik7XG4gICAgICAgIH1cbiAgICAgIH0sICdpbWFnZS9qcGVnJywgMC45NSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN0YXJ0IGNhbWVyYSB3aXRoIGhpZ2hlc3QgcmVzb2x1dGlvblxuICBjb25zdCBzdGFydENhbWVyYSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xuICAgIHNldElzVmlkZW9SZWFkeShmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gMS4gRW5oYW5jZWQgQnJvd3NlciBFbnZpcm9ubWVudCBDaGVja1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2luZG93IG9iamVjdCBub3QgYXZhaWxhYmxlIC0gbm90IHJ1bm5pbmcgaW4gYSBicm93c2VyIGVudmlyb25tZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdmlnYXRvciBvYmplY3Qgbm90IGF2YWlsYWJsZSAtIG5vdCBydW5uaW5nIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiBDb21wcmVoZW5zaXZlIEJyb3dzZXIgRGV0ZWN0aW9uXG4gICAgICBjb25zdCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBicm93c2VySW5mbyA9IHtcbiAgICAgICAgaXNDaHJvbWU6IC9jaHJvbWUvLnRlc3QodXNlckFnZW50KSAmJiAhL2VkZ2UvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNGaXJlZm94OiAvZmlyZWZveC8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc1NhZmFyaTogL3NhZmFyaS8udGVzdCh1c2VyQWdlbnQpICYmICEvY2hyb21lLy50ZXN0KHVzZXJBZ2VudCksXG4gICAgICAgIGlzRWRnZTogL2VkZ2UvLnRlc3QodXNlckFnZW50KSxcbiAgICAgICAgaXNPcGVyYTogL29wci8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc0lFOiAvdHJpZGVudC8udGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICBpc01vYmlsZTogL21vYmlsZXxhbmRyb2lkfGlwaG9uZXxpcGFkfHBob25lL2kudGVzdCh1c2VyQWdlbnQpLFxuICAgICAgICB2ZXJzaW9uOiB1c2VyQWdlbnQubWF0Y2goLyhjaHJvbWV8ZmlyZWZveHxzYWZhcml8ZWRnZXxvcHIpXFwvKFswLTldKykvKVxuICAgICAgfTtcblxuICAgICAgLy8gMy4gSW5pdGlhbGl6ZSBNZWRpYURldmljZXMgQVBJXG4gICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdNZWRpYURldmljZXMgQVBJIG5vdCBhdmFpbGFibGUsIGluaXRpYWxpemluZy4uLicpO1xuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzID0ge307XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIEVuaGFuY2VkIE1lZGlhRGV2aWNlcyBTdXBwb3J0XG4gICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignZ2V0VXNlck1lZGlhIG5vdCBhdmFpbGFibGUsIGNoZWNraW5nIGltcGxlbWVudGF0aW9ucy4uLicpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IGFsbCBwb3NzaWJsZSBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgY29uc3QgaW1wbGVtZW50YXRpb25zID0ge1xuICAgICAgICAgIHN0YW5kYXJkOiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSxcbiAgICAgICAgICB3ZWJraXQ6IG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy53ZWJraXRHZXRVc2VyTWVkaWEsXG4gICAgICAgICAgbW96OiBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tZWRpYURldmljZXMubW96R2V0VXNlck1lZGlhLFxuICAgICAgICAgIG1zOiBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5tc0dldFVzZXJNZWRpYSxcbiAgICAgICAgICBsZWdhY3k6IG5hdmlnYXRvci5nZXRVc2VyTWVkaWFcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUcnkgdG8gZmluZCBhIHdvcmtpbmcgaW1wbGVtZW50YXRpb25cbiAgICAgICAgbGV0IGdldFVzZXJNZWRpYSA9IG51bGw7XG4gICAgICAgIGxldCBpbXBsZW1lbnRhdGlvbk5hbWUgPSBudWxsO1xuXG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIGltcGxdIG9mIE9iamVjdC5lbnRyaWVzKGltcGxlbWVudGF0aW9ucykpIHtcbiAgICAgICAgICBpZiAoaW1wbCkge1xuICAgICAgICAgICAgZ2V0VXNlck1lZGlhID0gaW1wbDtcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFVzaW5nICR7aW1wbGVtZW50YXRpb25OYW1lfSBpbXBsZW1lbnRhdGlvbiBvZiBnZXRVc2VyTWVkaWFgKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBXcmFwIHRoZSBpbXBsZW1lbnRhdGlvbiBpbiBhIFByb21pc2VcbiAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW1wbGVtZW50YXRpb25OYW1lID09PSAnc3RhbmRhcmQnKSB7XG4gICAgICAgICAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcywgY29uc3RyYWludHMpXG4gICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLCBjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQcm92aWRlIHNwZWNpZmljIGd1aWRhbmNlIGJhc2VkIG9uIGJyb3dzZXJcbiAgICAgICAgICBpZiAoYnJvd3NlckluZm8uaXNNb2JpbGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhIGFjY2VzcyBvbiBtb2JpbGUgZGV2aWNlcyByZXF1aXJlcyBIVFRQUy4gUGxlYXNlIHVzZSBhIHNlY3VyZSBjb25uZWN0aW9uLicpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYnJvd3NlckluZm8uaXNJRSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlcm5ldCBFeHBsb3JlciBkb2VzIG5vdCBzdXBwb3J0IGNhbWVyYSBhY2Nlc3MuIFBsZWFzZSB1c2UgQ2hyb21lLCBGaXJlZm94LCBvciBFZGdlLicpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYnJvd3NlckluZm8uaXNTYWZhcmkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2FmYXJpIHJlcXVpcmVzIEhUVFBTIGZvciBjYW1lcmEgYWNjZXNzLiBQbGVhc2UgdXNlIGEgc2VjdXJlIGNvbm5lY3Rpb24gb3IgdHJ5IENocm9tZS9GaXJlZm94LicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYSBhY2Nlc3Mgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuIFBsZWFzZSB1c2UgQ2hyb21lLCBGaXJlZm94LCBvciBFZGdlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyA1LiBDaGVjayBTZWN1cml0eSBDb250ZXh0XG4gICAgICBjb25zdCBpc1NlY3VyZSA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICcxMjcuMC4wLjEnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCc7XG4gICAgICBcbiAgICAgIGlmICghaXNTZWN1cmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW1lcmEgYWNjZXNzIHJlcXVpcmVzIEhUVFBTIG9yIGxvY2FsaG9zdC4gQ3VycmVudCBwcm90b2NvbDogJHt3aW5kb3cubG9jYXRpb24ucHJvdG9jb2x9LCBob3N0bmFtZTogJHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDYuIEVuaGFuY2VkIFBlcm1pc3Npb24gSGFuZGxpbmdcbiAgICAgIGxldCBwZXJtaXNzaW9uU3RhdHVzID0gJ3Byb21wdCc7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAobmF2aWdhdG9yLnBlcm1pc3Npb25zICYmIG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSkge1xuICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb25SZXN1bHQgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoeyBuYW1lOiAnY2FtZXJhJyB9KTtcbiAgICAgICAgICBwZXJtaXNzaW9uU3RhdHVzID0gcGVybWlzc2lvblJlc3VsdC5zdGF0ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIHBlcm1pc3Npb24gc3RhdHVzOicsIHBlcm1pc3Npb25TdGF0dXMpO1xuXG4gICAgICAgICAgcGVybWlzc2lvblJlc3VsdC5vbmNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW1lcmEgcGVybWlzc2lvbiBjaGFuZ2VkIHRvOicsIHBlcm1pc3Npb25SZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgcGVybWlzc2lvblN0YXR1cyA9IHBlcm1pc3Npb25SZXN1bHQuc3RhdGU7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAocGVybWlzc2lvbkVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGNoZWNrIGNhbWVyYSBwZXJtaXNzaW9uczonLCBwZXJtaXNzaW9uRXJyb3IpO1xuICAgICAgfVxuXG4gICAgICAvLyA3LiBIYW5kbGUgUGVybWlzc2lvbiBTdGF0ZXNcbiAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzID09PSAnZGVuaWVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYSBhY2Nlc3MgaGFzIGJlZW4gcGVybWFuZW50bHkgZGVuaWVkLiBQbGVhc2UgdXBkYXRlIHlvdXIgYnJvd3NlciBzZXR0aW5ncyB0byBhbGxvdyBjYW1lcmEgYWNjZXNzLicpO1xuICAgICAgfVxuXG4gICAgICAvLyA4LiBHZXQgQ2FtZXJhIENvbnN0cmFpbnRzXG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgY2FtZXJhIGFjY2VzcyB3aXRoIGhpZ2hlc3QgcmVzb2x1dGlvbi4uLicpO1xuICAgICAgY29uc3QgY29uc3RyYWludHMgPSBhd2FpdCBnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzKCk7XG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgY2FtZXJhIGNvbnN0cmFpbnRzOicsIGNvbnN0cmFpbnRzKTtcblxuICAgICAgLy8gOS4gQWRkIEZhbGxiYWNrIENvbnN0cmFpbnRzXG4gICAgICBjb25zdCBmYWxsYmFja0NvbnN0cmFpbnRzID0ge1xuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgIHdpZHRoOiB7IGlkZWFsOiAxMjgwIH0sXG4gICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSxcbiAgICAgICAgICBmYWNpbmdNb2RlOiAndXNlcicsXG4gICAgICAgICAgZnJhbWVSYXRlOiB7IGlkZWFsOiAzMCB9XG4gICAgICAgIH0sXG4gICAgICAgIGF1ZGlvOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgLy8gMTAuIFRyeSB0byBBY2Nlc3MgQ2FtZXJhIHdpdGggUGVybWlzc2lvbiBIYW5kbGluZ1xuICAgICAgbGV0IG1lZGlhU3RyZWFtO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gYWNjZXNzIGNhbWVyYSB3aXRoIGhpZ2ggcmVzb2x1dGlvbi4uLicpO1xuICAgICAgICBtZWRpYVN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICAuLi5jb25zdHJhaW50cyxcbiAgICAgICAgICBhdWRpbzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZXQgaGlnaCByZXNvbHV0aW9uIHN0cmVhbSwgdHJ5aW5nIGZhbGxiYWNrIGNvbnN0cmFpbnRzOicsIGVycm9yKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBhY2Nlc3MgY2FtZXJhIHdpdGggZmFsbGJhY2sgY29uc3RyYWludHMuLi4nKTtcbiAgICAgICAgICBtZWRpYVN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGZhbGxiYWNrQ29uc3RyYWludHMpO1xuICAgICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBjYW1lcmEgYWNjZXNzIHdpdGggZmFsbGJhY2sgY29uc3RyYWludHM6JywgZmFsbGJhY2tFcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUHJvdmlkZSBzcGVjaWZpYyBndWlkYW5jZSBiYXNlZCBvbiBlcnJvciB0eXBlXG4gICAgICAgICAgaWYgKGZhbGxiYWNrRXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzID09PSAncHJvbXB0Jykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYSBhY2Nlc3Mgd2FzIGRlbmllZC4gUGxlYXNlIGFsbG93IGNhbWVyYSBhY2Nlc3Mgd2hlbiBwcm9tcHRlZCBieSB5b3VyIGJyb3dzZXIuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbWVyYSBhY2Nlc3MgaGFzIGJlZW4gYmxvY2tlZC4gUGxlYXNlIGNoZWNrIHlvdXIgYnJvd3NlciBzZXR0aW5ncyBhbmQgYWxsb3cgY2FtZXJhIGFjY2VzcyBmb3IgdGhpcyBzaXRlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2tFcnJvci5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY2FtZXJhIGZvdW5kLiBQbGVhc2UgY29ubmVjdCBhIGNhbWVyYSBhbmQgdHJ5IGFnYWluLicpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2tFcnJvci5uYW1lID09PSAnTm90UmVhZGFibGVFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgYXBwbGljYXRpb24uIFBsZWFzZSBjbG9zZSBvdGhlciBhcHBsaWNhdGlvbnMgdXNpbmcgdGhlIGNhbWVyYS4nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW1lcmEgYWNjZXNzIGVycm9yOiAke2ZhbGxiYWNrRXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ0NhbWVyYSBhY2Nlc3MgZ3JhbnRlZCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICBzZXRTdHJlYW0obWVkaWFTdHJlYW0pO1xuXG4gICAgICAvLyAxMS4gU2V0dXAgVmlkZW8gRWxlbWVudFxuICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQubXV0ZWQgPSB0cnVlO1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBtZWRpYVN0cmVhbTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHZpZGVvUmVmLmN1cnJlbnQucGxheSgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdWaWRlbyBwbGF5aW5nIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgICBzZXRJc1ZpZGVvUmVhZHkodHJ1ZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHdzU3RhdHVzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChjYXB0dXJlQW5kUHJvY2Vzc0ZyYW1lLCAzMyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChwbGF5RXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwbGF5aW5nIHZpZGVvOicsIHBsYXlFcnJvcik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc3RhcnQgdmlkZW8gc3RyZWFtOiAnICsgcGxheUVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbWVyYSBhY2Nlc3MgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdDYW1lcmEgZXJyb3I6ICc7XG4gICAgICBcbiAgICAgIGlmIChlcnJvci5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ0NhbWVyYSBhY2Nlc3Mgd2FzIGRlbmllZC4gUGxlYXNlIGFsbG93IGNhbWVyYSBhY2Nlc3MgaW4geW91ciBicm93c2VyIHNldHRpbmdzLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ05vIGNhbWVyYSBmb3VuZC4gUGxlYXNlIGNvbm5lY3QgYSBjYW1lcmEgYW5kIHRyeSBhZ2Fpbi4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnTm90UmVhZGFibGVFcnJvcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdDYW1lcmEgaXMgYWxyZWFkeSBpbiB1c2UgYnkgYW5vdGhlciBhcHBsaWNhdGlvbi4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnT3ZlcmNvbnN0cmFpbmVkRXJyb3InKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnQ2FtZXJhIGRvZXMgbm90IHN1cHBvcnQgdGhlIHJlcXVlc3RlZCByZXNvbHV0aW9uLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdnZXRVc2VyTWVkaWEgaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgYnJvd3NlcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBjYW1lcmEgYWNjZXNzLiBQbGVhc2UgdHJ5IHVzaW5nIGEgbW9kZXJuIGJyb3dzZXIgbGlrZSBDaHJvbWUsIEZpcmVmb3gsIG9yIEVkZ2UuJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnSFRUUFMnKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ0NhbWVyYSBhY2Nlc3MgcmVxdWlyZXMgSFRUUFMgb3IgbG9jYWxob3N0LiBQbGVhc2UgdXNlIEhUVFBTIG9yIHJ1biB0aGUgYXBwbGljYXRpb24gb24gbG9jYWxob3N0Lic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3Blcm1hbmVudGx5IGRlbmllZCcpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnQ2FtZXJhIGFjY2VzcyBoYXMgYmVlbiBwZXJtYW5lbnRseSBkZW5pZWQuIFBsZWFzZSB1cGRhdGUgeW91ciBicm93c2VyIHNldHRpbmdzLic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEVycm9yTWVzc2FnZShlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzdG9wQ2FtZXJhID0gKCkgPT4ge1xuICAgIC8vIFN0b3AgYWxsIHRyYWNrcyBpbiB0aGUgc3RyZWFtXG4gICAgaWYgKHN0cmVhbSkge1xuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgIHNldFN0cmVhbShudWxsKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgdmlkZW8gc291cmNlXG4gICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgcHJvY2Vzc2luZyBpbnRlcnZhbFxuICAgIGlmIChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIHNldElzVmlkZW9SZWFkeShmYWxzZSk7XG4gIH07XG5cbiAgLy8gU3RhcnQgY2FtZXJhIG9uIGNvbXBvbmVudCBtb3VudCBpZiBpc1Nob3dpbmcgaXMgdHJ1ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1Nob3dpbmcpIHtcbiAgICAgIHN0YXJ0Q2FtZXJhKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3BDYW1lcmEoKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN0b3BDYW1lcmEoKTtcbiAgICB9O1xuICB9LCBbaXNTaG93aW5nXSk7XG5cbiAgLy8gU2V0dXAgRlBTIGNvdW50ZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzU2hvd2luZykgcmV0dXJuO1xuICAgIFxuICAgIGZwc1RpbWVyUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzZXRGcHMocHJldkZwcyA9PiB7XG4gICAgICAgIC8vIFNpbXBsZSBtb2NrIGZvciBmcHMgY291bnRlclxuICAgICAgICBjb25zdCBuZXdGcHMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAyNTsgLy8gUmFuZG9tIGJldHdlZW4gMjUtMzUgZnBzXG4gICAgICAgIHJldHVybiBuZXdGcHM7XG4gICAgICB9KTtcbiAgICB9LCAxMDAwKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGZwc1RpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChmcHNUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbaXNTaG93aW5nXSk7XG5cbiAgLy8gVXBkYXRlIGRpbWVuc2lvbnMgd2hlbiBjb250YWluZXIgc2l6ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Nob3dpbmcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gY29udGFpbmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHNldERpbWVuc2lvbnMoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBIYW5kbGUgdmlkZW8gZWxlbWVudCByZWFkeSBzdGF0ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNTaG93aW5nIHx8ICF2aWRlb1JlZi5jdXJyZW50IHx8ICFzdHJlYW0pIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgXG4gICAgY29uc3QgaGFuZGxlTG9hZGVkTWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICBzZXRJc1ZpZGVvUmVhZHkodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIEdldCB2aWRlbyBkaW1lbnNpb25zXG4gICAgICBjb25zdCB2aWRlb1dpZHRoID0gdmlkZW8udmlkZW9XaWR0aCB8fCA2NDA7XG4gICAgICBjb25zdCB2aWRlb0hlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0IHx8IDQ4MDtcbiAgICAgIFxuICAgICAgLy8gU2V0dXAgY2FudmFzIGZvciBwcm9jZXNzaW5nXG4gICAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gU3RvcmUgYWN0dWFsIGRpbWVuc2lvbnMgZm9yIGNhcHR1cmVcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQud2lkdGggPSB2aWRlb1dpZHRoO1xuICAgICAgICBjYW52YXNSZWYuY3VycmVudC5oZWlnaHQgPSB2aWRlb0hlaWdodDtcbiAgICAgICAgXG4gICAgICAgIC8vIFNldCBkaXNwbGF5IHNpemUgdG8gbWFpbnRhaW4gYXNwZWN0IHJhdGlvXG4gICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0O1xuICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lcldpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIFxuICAgICAgICBjYW52YXNSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IGAke2NvbnRhaW5lcldpZHRofXB4YDtcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQuc3R5bGUuaGVpZ2h0ID0gYCR7Y29udGFpbmVySGVpZ2h0fXB4YDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3RhcnQgcHJvY2Vzc2luZyBmcmFtZXNcbiAgICAgIHN0YXJ0UHJvY2Vzc2luZygpO1xuICAgICAgXG4gICAgICAvLyBOb3RpZnkgcGFyZW50IGNvbXBvbmVudCB0aGF0IGNhbWVyYSBpcyByZWFkeVxuICAgICAgaWYgKG9uQ2FtZXJhUmVhZHkpIHtcbiAgICAgICAgb25DYW1lcmFSZWFkeSh7XG4gICAgICAgICAgd2lkdGg6IHZpZGVvV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB2aWRlb0hlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBoYW5kbGVMb2FkZWRNZXRhZGF0YSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgaGFuZGxlTG9hZGVkTWV0YWRhdGEpO1xuICAgIH07XG4gIH0sIFtzdHJlYW0sIGlzU2hvd2luZywgZGltZW5zaW9ucywgb25DYW1lcmFSZWFkeV0pO1xuXG4gIGNvbnN0IHN0YXJ0UHJvY2Vzc2luZyA9ICgpID0+IHtcbiAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50IHx8ICF2aWRlb1JlZi5jdXJyZW50IHx8ICFpc1ZpZGVvUmVhZHkpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgXG4gICAgLy8gU3RhcnQgcHJvY2Vzc2luZyBmcmFtZXMgYXQgfjMwZnBzXG4gICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodmlkZW8ucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBjYW52YXNcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCBjb250ZXh0IHN0YXRlXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgXG4gICAgICAvLyBGbGlwIHRoZSBjb250ZXh0IGhvcml6b250YWxseSB0byBtaXJyb3IgdGhlIHZpZGVvXG4gICAgICBjdHgudHJhbnNsYXRlKGNhbnZhcy53aWR0aCwgMCk7XG4gICAgICBjdHguc2NhbGUoLTEsIDEpO1xuICAgICAgXG4gICAgICAvLyBEcmF3IHZpZGVvIGZyYW1lIHRvIGNhbnZhcyBhdCBoaWdoIHJlc29sdXRpb25cbiAgICAgIGN0eC5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgdGhlIGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIGZhY2UgZGV0ZWN0aW9uICg5MCUgY2hhbmNlIG9mIGZhY2UgZGV0ZWN0ZWQpXG4gICAgICBjb25zdCBmYWNlRGV0ZWN0ZWQgPSBNYXRoLnJhbmRvbSgpID4gMC4xO1xuICAgICAgXG4gICAgICAvLyBEcmF3IHZpc3VhbGl6YXRpb25zIGJhc2VkIG9uIGVuYWJsZWQgb3B0aW9uc1xuICAgICAgaWYgKGZhY2VEZXRlY3RlZCkge1xuICAgICAgICBpZiAoc2hvd0JvdW5kaW5nQm94KSB7XG4gICAgICAgICAgZHJhd0JvdW5kaW5nQm94KGN0eCwgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHNob3dIZWFkUG9zZSkge1xuICAgICAgICAgIGRyYXdIZWFkUG9zZShjdHgsIGNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChzaG93TWFzaykge1xuICAgICAgICAgIGRyYXdGYWNlTWFzayhjdHgsIGNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRGlzcGxheSBwYXJhbWV0ZXJzIGlmIGVuYWJsZWRcbiAgICAgIGlmIChzaG93UGFyYW1ldGVycykge1xuICAgICAgICBkcmF3UGFyYW1ldGVycyhjdHgsIGNhbnZhcywgZmFjZURldGVjdGVkKTtcbiAgICAgIH1cbiAgICB9LCAzMyk7IC8vIH4zMGZwc1xuICB9O1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRyYXcgYm91bmRpbmcgYm94XG4gIGNvbnN0IGRyYXdCb3VuZGluZ0JveCA9IChjdHgsIGNhbnZhcykgPT4ge1xuICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICBjb25zdCBib3hXaWR0aCA9IGNhbnZhcy53aWR0aCAqIDAuNjtcbiAgICBjb25zdCBib3hIZWlnaHQgPSBjYW52YXMuaGVpZ2h0ICogMC44O1xuICAgIFxuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAwLCAwLjcpJztcbiAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgIGNlbnRlclggLSBib3hXaWR0aC8yLCBcbiAgICAgIGNlbnRlclkgLSBib3hIZWlnaHQvMiwgXG4gICAgICBib3hXaWR0aCwgXG4gICAgICBib3hIZWlnaHRcbiAgICApO1xuICB9O1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRyYXcgaGVhZCBwb3NlIGF4ZXNcbiAgY29uc3QgZHJhd0hlYWRQb3NlID0gKGN0eCwgY2FudmFzLCBwaXRjaCwgeWF3LCByb2xsKSA9PiB7XG4gICAgY29uc3QgY2VudGVyWCA9IGNhbnZhcy53aWR0aCAvIDI7XG4gICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpIC8gMTAwMDtcbiAgICBjb25zdCBsZW5ndGggPSBjYW52YXMud2lkdGggKiAwLjE7XG4gICAgXG4gICAgLy8gWCBheGlzIChyZWQpXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oY2VudGVyWCwgY2VudGVyWSk7XG4gICAgY3R4LmxpbmVUbyhjZW50ZXJYICsgbGVuZ3RoICogTWF0aC5zaW4odGltZSksIGNlbnRlclkpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBcbiAgICAvLyBZIGF4aXMgKGdyZWVuKVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKGNlbnRlclgsIGNlbnRlclkpO1xuICAgIGN0eC5saW5lVG8oY2VudGVyWCwgY2VudGVyWSArIGxlbmd0aCAqIE1hdGguc2luKHRpbWUgKyAxKSk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2dyZWVuJztcbiAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgXG4gICAgLy8gWiBheGlzIChibHVlKVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKGNlbnRlclgsIGNlbnRlclkpO1xuICAgIGN0eC5saW5lVG8oXG4gICAgICBjZW50ZXJYICsgbGVuZ3RoLzIgKiBNYXRoLnNpbih0aW1lICsgMiksIFxuICAgICAgY2VudGVyWSAtIGxlbmd0aC8yICogTWF0aC5jb3ModGltZSArIDIpXG4gICAgKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmx1ZSc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgY3R4LnN0cm9rZSgpO1xuICB9O1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRyYXcgZmFjZSBtYXNrXG4gIGNvbnN0IGRyYXdGYWNlTWFzayA9IChjdHgsIGNhbnZhcywgcG9pbnRzKSA9PiB7XG4gICAgY29uc3QgY2VudGVyWCA9IGNhbnZhcy53aWR0aCAvIDI7XG4gICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWluKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkgKiAwLjI7XG4gICAgXG4gICAgLy8gRHJhdyBtYXNrXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDI1NSwgMjU1LCAwLjIpJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIFxuICAgIC8vIERyYXcgZXllc1xuICAgIGNvbnN0IGV5ZVJhZGl1cyA9IHJhZGl1cyAqIDAuMjtcbiAgICBjb25zdCBleWVPZmZzZXRYID0gcmFkaXVzICogMC4zO1xuICAgIGNvbnN0IGV5ZU9mZnNldFkgPSByYWRpdXMgKiAwLjE7XG4gICAgXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyknO1xuICAgIFxuICAgIC8vIExlZnQgZXllXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoY2VudGVyWCAtIGV5ZU9mZnNldFgsIGNlbnRlclkgLSBleWVPZmZzZXRZLCBleWVSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIFxuICAgIC8vIFJpZ2h0IGV5ZVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKGNlbnRlclggKyBleWVPZmZzZXRYLCBjZW50ZXJZIC0gZXllT2Zmc2V0WSwgZXllUmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IHBhcmFtZXRlcnNcbiAgY29uc3QgZHJhd1BhcmFtZXRlcnMgPSAoY3R4LCBjYW52YXMsIGZhY2VEZXRlY3RlZCkgPT4ge1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjcpJztcbiAgICBjdHguZmlsbFJlY3QoNSwgY2FudmFzLmhlaWdodCAtIDYwLCAxNTAsIDUwKTtcbiAgICBcbiAgICBjdHguZm9udCA9ICcxMnB4IEFyaWFsJztcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZmlsbFRleHQoYFJlc29sdXRpb246ICR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCwgMTAsIGNhbnZhcy5oZWlnaHQgLSA0MCk7XG4gICAgY3R4LmZpbGxUZXh0KGBGUFM6ICR7ZnBzfWAsIDEwLCBjYW52YXMuaGVpZ2h0IC0gMjUpO1xuICAgIGN0eC5maWxsVGV4dChgRmFjZTogJHtmYWNlRGV0ZWN0ZWQgPyAnRGV0ZWN0ZWQnIDogJ05vdCBEZXRlY3RlZCd9YCwgMTAsIGNhbnZhcy5oZWlnaHQgLSAxMCk7XG4gIH07XG5cbiAgaWYgKCFpc1Nob3dpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxuICAgICAgc3R5bGU9e3sgXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgICAgd2lkdGg6ICczMHZ3JyxcbiAgICAgICAgaGVpZ2h0OiAnMzB2aCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgYm94U2hhZG93OiAnMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKScsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgekluZGV4OiAxMDAwXG4gICAgICB9fVxuICAgID5cbiAgICAgIDx2aWRlb1xuICAgICAgICByZWY9e3ZpZGVvUmVmfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgb2JqZWN0Rml0OiAnY292ZXInLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlWCgtMSknLFxuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgekluZGV4OiAxXG4gICAgICAgIH19XG4gICAgICAgIHBsYXlzSW5saW5lXG4gICAgICAgIG11dGVkXG4gICAgICAgIGF1dG9QbGF5XG4gICAgICAvPlxuICAgICAgPGNhbnZhc1xuICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHpJbmRleDogMixcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgICAgZGlzcGxheTogaXNMaW5rZWQgPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAnMTBweCcsXG4gICAgICAgIHJpZ2h0OiAnMTBweCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZ2FwOiAnMTBweCcsXG4gICAgICAgIHpJbmRleDogM1xuICAgICAgfX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDEycHgnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjcpJyxcbiAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAnYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UnLFxuICAgICAgICAgICAgekluZGV4OiAzXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIENsb3NlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0xpbmtlZCkge1xuICAgICAgICAgICAgICBkaXNjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNMaW5rZWQgPyAncmdiYSgyNTUsIDAsIDAsIDAuNyknIDogJ3JnYmEoMCwgMjU1LCAwLCAwLjcpJyxcbiAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAnYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UnLFxuICAgICAgICAgICAgekluZGV4OiAzXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtpc0xpbmtlZCA/ICdVbmxpbmsnIDogJ0xpbmsnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7d3NTdGF0dXMgPT09ICdlcnJvcicgJiYgKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgdG9wOiAnNTBweCcsXG4gICAgICAgICAgcmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgICBwYWRkaW5nOiAnOHB4IDEycHgnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAwLCAwLCAwLjcpJyxcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgIHpJbmRleDogM1xuICAgICAgICB9fT5cbiAgICAgICAgICBDb25uZWN0aW9uIEVycm9yOiB7ZXJyb3JNZXNzYWdlfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBDcmVhdGUgdGhlIGR5bmFtaWMgaW1wb3J0IHdyYXBwZXIgd2l0aCBTU1IgZGlzYWJsZWRcbmNvbnN0IENhbWVyYUFjY2VzcyA9IGR5bmFtaWMoXG4gICgpID0+IFByb21pc2UucmVzb2x2ZShDYW1lcmFBY2Nlc3NDb21wb25lbnQpLFxuICB7IFxuICAgIHNzcjogZmFsc2UsIC8vIERpc2FibGUgc2VydmVyLXNpZGUgcmVuZGVyaW5nIGZvciBjYW1lcmEgY29tcG9uZW50XG4gICAgbG9hZGluZzogKCkgPT4gKFxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgICAgIHdpZHRoOiAnNDgwcHgnLFxuICAgICAgICBoZWlnaHQ6ICczNjBweCcsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZjBmOGZmJyxcbiAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICMwMDY2Y2MnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICB6SW5kZXg6IDk5OVxuICAgICAgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICc0OHB4JywgbWFyZ2luQm90dG9tOiAnMTVweCcgfX0+8J+TtzwvZGl2PlxuICAgICAgICA8cCBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnLCBmb250V2VpZ2h0OiAnYm9sZCcsIGNvbG9yOiAnIzAwNjZjYycgfX0+XG4gICAgICAgICAgTG9hZGluZyBjYW1lcmEuLi5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW1lcmFBY2Nlc3M7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJkeW5hbWljIiwiZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cyIsIkNhbWVyYUFjY2Vzc0NvbXBvbmVudCIsImlzU2hvd2luZyIsIm9uQ2xvc2UiLCJvbkNhbWVyYVJlYWR5Iiwic2hvd0hlYWRQb3NlIiwic2hvd0JvdW5kaW5nQm94Iiwic2hvd01hc2siLCJzaG93UGFyYW1ldGVycyIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwiY29udGFpbmVyUmVmIiwid3NSZWYiLCJzdHJlYW0iLCJzZXRTdHJlYW0iLCJlcnJvck1lc3NhZ2UiLCJzZXRFcnJvck1lc3NhZ2UiLCJmcHMiLCJzZXRGcHMiLCJmcHNUaW1lclJlZiIsInByb2Nlc3NpbmdJbnRlcnZhbCIsImRpbWVuc2lvbnMiLCJzZXREaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJpc1ZpZGVvUmVhZHkiLCJzZXRJc1ZpZGVvUmVhZHkiLCJwcm9jZXNzaW5nUmVzdWx0cyIsInNldFByb2Nlc3NpbmdSZXN1bHRzIiwiZnJhbWVRdWV1ZSIsImlzUHJvY2Vzc2luZyIsIndzU3RhdHVzIiwic2V0V3NTdGF0dXMiLCJpc0xpbmtlZCIsInNldElzTGlua2VkIiwiY29ubmVjdFdlYlNvY2tldCIsImN1cnJlbnQiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsIndzVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1dTX1VSTCIsIndzIiwiY29ubmVjdGlvblRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY29uc29sZSIsImVycm9yIiwiY2xvc2UiLCJvbm9wZW4iLCJsb2ciLCJjbGVhclRpbWVvdXQiLCJzZXRJbnRlcnZhbCIsImNhcHR1cmVBbmRQcm9jZXNzRnJhbWUiLCJvbm1lc3NhZ2UiLCJldmVudCIsInJlc3VsdCIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJvbmVycm9yIiwib25jbG9zZSIsImNvZGUiLCJyZWFzb24iLCJjbGVhckludGVydmFsIiwiZGlzY29ubmVjdFdlYlNvY2tldCIsImN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJ2aWRlbyIsImNhbnZhcyIsInNhdmUiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJ0b0Jsb2IiLCJibG9iIiwic2VuZCIsInN0YXJ0Q2FtZXJhIiwiRXJyb3IiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsImJyb3dzZXJJbmZvIiwiaXNDaHJvbWUiLCJ0ZXN0IiwiaXNGaXJlZm94IiwiaXNTYWZhcmkiLCJpc0VkZ2UiLCJpc09wZXJhIiwiaXNJRSIsImlzTW9iaWxlIiwidmVyc2lvbiIsIm1hdGNoIiwibWVkaWFEZXZpY2VzIiwid2FybiIsImdldFVzZXJNZWRpYSIsImltcGxlbWVudGF0aW9ucyIsInN0YW5kYXJkIiwid2Via2l0Iiwid2Via2l0R2V0VXNlck1lZGlhIiwibW96IiwibW96R2V0VXNlck1lZGlhIiwibXMiLCJtc0dldFVzZXJNZWRpYSIsImxlZ2FjeSIsImltcGxlbWVudGF0aW9uTmFtZSIsIm5hbWUiLCJpbXBsIiwiT2JqZWN0IiwiZW50cmllcyIsImNvbnN0cmFpbnRzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjYWxsIiwidGhlbiIsImNhdGNoIiwiaXNTZWN1cmUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJwZXJtaXNzaW9uU3RhdHVzIiwicGVybWlzc2lvbnMiLCJxdWVyeSIsInBlcm1pc3Npb25SZXN1bHQiLCJzdGF0ZSIsIm9uY2hhbmdlIiwicGVybWlzc2lvbkVycm9yIiwiZmFsbGJhY2tDb25zdHJhaW50cyIsImlkZWFsIiwiZmFjaW5nTW9kZSIsImZyYW1lUmF0ZSIsImF1ZGlvIiwibWVkaWFTdHJlYW0iLCJmYWxsYmFja0Vycm9yIiwibWVzc2FnZSIsInBsYXlzSW5saW5lIiwibXV0ZWQiLCJhdXRvcGxheSIsInNyY09iamVjdCIsInBsYXkiLCJwbGF5RXJyb3IiLCJpbmNsdWRlcyIsInN0b3BDYW1lcmEiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwicHJldkZwcyIsIm5ld0ZwcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInVwZGF0ZURpbWVuc2lvbnMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUxvYWRlZE1ldGFkYXRhIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiYXNwZWN0UmF0aW8iLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lckhlaWdodCIsInN0eWxlIiwic3RhcnRQcm9jZXNzaW5nIiwiZmFjZURldGVjdGVkIiwiZHJhd0JvdW5kaW5nQm94IiwiZHJhd0hlYWRQb3NlIiwiZHJhd0ZhY2VNYXNrIiwiZHJhd1BhcmFtZXRlcnMiLCJjZW50ZXJYIiwiY2VudGVyWSIsImJveFdpZHRoIiwiYm94SGVpZ2h0Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwicGl0Y2giLCJ5YXciLCJyb2xsIiwidGltZSIsIkRhdGUiLCJub3ciLCJsZW5ndGgiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzaW4iLCJzdHJva2UiLCJjb3MiLCJwb2ludHMiLCJyYWRpdXMiLCJtaW4iLCJmaWxsU3R5bGUiLCJhcmMiLCJQSSIsImZpbGwiLCJleWVSYWRpdXMiLCJleWVPZmZzZXRYIiwiZXllT2Zmc2V0WSIsImZpbGxSZWN0IiwiZm9udCIsImZpbGxUZXh0IiwiZGl2IiwicmVmIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93Iiwib3ZlcmZsb3ciLCJ6SW5kZXgiLCJvYmplY3RGaXQiLCJvcGFjaXR5IiwiYXV0b1BsYXkiLCJwb2ludGVyRXZlbnRzIiwiZGlzcGxheSIsInJpZ2h0IiwiZ2FwIiwiYnV0dG9uIiwib25DbGljayIsInBhZGRpbmciLCJjb2xvciIsImJvcmRlciIsImN1cnNvciIsInRyYW5zaXRpb24iLCJDYW1lcmFBY2Nlc3MiLCJzc3IiLCJsb2FkaW5nIiwiYmFja2dyb3VuZCIsImZsZXhEaXJlY3Rpb24iLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsInAiLCJmb250V2VpZ2h0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\n"));

/***/ })

}]);
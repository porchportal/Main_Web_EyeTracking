"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_pages-dir-browser_pages_collected-dataset_components-gui_cameraAccess_js"],{

/***/ "(pages-dir-browser)/./pages/collected-dataset/components-gui/cameraAccess.js":
/*!****************************************************************!*\
  !*** ./pages/collected-dataset/components-gui/cameraAccess.js ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_collected_dataset_Helper_savefile__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../components/collected-dataset/Helper/savefile */ \"(pages-dir-browser)/./components/collected-dataset/Helper/savefile.js\");\n// cameraAccess.js\n\nvar _s = $RefreshSig$();\n\n\nconst CameraAccess = (param)=>{\n    let { isShowing, onClose, onCameraReady, showHeadPose = false, showBoundingBox = false, showMask = false, showParameters = false } = param;\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [fps, setFps] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const fpsTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const processingInterval = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [isVideoReady, setIsVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [processingResults, setProcessingResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const frameQueue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const isProcessing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [wsStatus, setWsStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('disconnected');\n    const [isLinked, setIsLinked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // WebSocket connection\n    const connectWebSocket = ()=>{\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            console.log('WebSocket already connected');\n            return;\n        }\n        setWsStatus('connecting');\n        try {\n            // Connect to FastAPI WebSocket endpoint\n            const ws = new WebSocket('ws://localhost:8000/ws/video');\n            wsRef.current = ws;\n            // Set a connection timeout\n            const connectionTimeout = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) {\n                    console.error('WebSocket connection timeout');\n                    ws.close();\n                    setWsStatus('error');\n                    setErrorMessage('Connection timeout. Please check if the backend server is running.');\n                    setIsLinked(false);\n                }\n            }, 5000);\n            ws.onopen = ()=>{\n                console.log('WebSocket connected to FastAPI backend');\n                clearTimeout(connectionTimeout);\n                setWsStatus('connected');\n                setErrorMessage('');\n                setIsLinked(true);\n                if (isVideoReady) {\n                    processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                }\n            };\n            ws.onmessage = (event)=>{\n                try {\n                    const result = JSON.parse(event.data);\n                    setProcessingResults(result);\n                    drawResults(result);\n                } catch (error) {\n                    console.error('Error parsing WebSocket message:', error);\n                }\n            };\n            ws.onerror = (error)=>{\n                console.error('WebSocket error:', error);\n                clearTimeout(connectionTimeout);\n                setWsStatus('error');\n                setErrorMessage('Failed to connect to FastAPI backend. Please check if the server is running.');\n                setIsLinked(false);\n            };\n            ws.onclose = (event)=>{\n                console.log('WebSocket disconnected:', event.code, event.reason);\n                clearTimeout(connectionTimeout);\n                setWsStatus('disconnected');\n                setIsLinked(false);\n                // Stop frame processing\n                if (processingInterval.current) {\n                    clearInterval(processingInterval.current);\n                    processingInterval.current = null;\n                }\n                // If the connection was closed due to an error, show error message\n                if (event.code !== 1000) {\n                    setErrorMessage(\"WebSocket connection closed: \".concat(event.reason || 'Unknown reason'));\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            setWsStatus('error');\n            setErrorMessage('Failed to create WebSocket connection. Please check your network connection.');\n            setIsLinked(false);\n        }\n    };\n    const disconnectWebSocket = ()=>{\n        if (wsRef.current) {\n            wsRef.current.close(1000, 'User requested disconnect');\n            wsRef.current = null;\n            setWsStatus('disconnected');\n            setIsLinked(false);\n            // Stop frame processing\n            if (processingInterval.current) {\n                clearInterval(processingInterval.current);\n                processingInterval.current = null;\n            }\n            // Clear the canvas to remove any overlays\n            if (canvasRef.current) {\n                const ctx = canvasRef.current.getContext('2d');\n                ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing) {\n                disconnectWebSocket();\n                return;\n            }\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    disconnectWebSocket();\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Frame capture and processing\n    const captureAndProcessFrame = ()=>{\n        if (!videoRef.current || !canvasRef.current || !isVideoReady || !wsRef.current) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Only draw on canvas if WebSocket is connected\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Convert canvas to blob with high quality\n            canvas.toBlob((blob)=>{\n                if (blob && wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n                    // Send frame to backend\n                    wsRef.current.send(blob);\n                }\n            }, 'image/jpeg', 0.95);\n        }\n    };\n    // Draw processing results\n    const drawResults = (results)=>{\n        if (!canvasRef.current || !results) return;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Draw bounding box if available\n        if (results.bounding_box && showBoundingBox) {\n            const { x, y, width, height } = results.bounding_box;\n            ctx.strokeStyle = 'rgba(255, 0, 0, 0.8)';\n            ctx.lineWidth = 2;\n            ctx.strokeRect(x, y, width, height);\n        }\n        // Draw head pose if available\n        if (results.head_pose && showHeadPose) {\n            const { pitch, yaw, roll } = results.head_pose;\n            // Draw head pose visualization\n            drawHeadPose(ctx, canvas, pitch, yaw, roll);\n        }\n        // Draw face mask if available\n        if (results.face_mask && showMask) {\n            const { points } = results.face_mask;\n            drawFaceMask(ctx, canvas, points);\n        }\n        // Draw parameters if enabled\n        if (showParameters) {\n            drawParameters(ctx, canvas, results);\n        }\n    };\n    // Start camera with highest resolution\n    const startCamera = async ()=>{\n        setErrorMessage('');\n        setIsVideoReady(false);\n        try {\n            // Check if MediaDevices API is supported\n            if (typeof navigator === 'undefined' || !navigator.mediaDevices) {\n                // Try to polyfill the MediaDevices API\n                if (typeof navigator !== 'undefined') {\n                    navigator.mediaDevices = {};\n                }\n                // Add getUserMedia polyfill if needed\n                if (!navigator.mediaDevices.getUserMedia) {\n                    navigator.mediaDevices.getUserMedia = function(constraints) {\n                        // First get ahold of the legacy getUserMedia, if present\n                        const getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n                        // Some browsers just don't implement it - return a rejected promise with an error\n                        if (!getUserMedia) {\n                            return Promise.reject(new Error('getUserMedia is not implemented in this browser'));\n                        }\n                        // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n                        return new Promise(function(resolve, reject) {\n                            getUserMedia.call(navigator, constraints, resolve, reject);\n                        });\n                    };\n                }\n            }\n            // Check if we're on HTTPS or localhost\n            const isSecure = window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || \"development\" === 'development';\n            if (!isSecure) {\n                throw new Error('Camera access requires HTTPS or localhost. Please use HTTPS or run the application on localhost.');\n            }\n            console.log('Starting camera access with highest resolution...');\n            // Get highest resolution constraints\n            const constraints = await (0,_components_collected_dataset_Helper_savefile__WEBPACK_IMPORTED_MODULE_2__.getHighestResolutionConstraints)();\n            console.log('Using camera constraints:', constraints);\n            const mediaStream = await navigator.mediaDevices.getUserMedia({\n                ...constraints,\n                audio: false\n            });\n            console.log('High resolution camera access granted!');\n            setStream(mediaStream);\n            if (videoRef.current) {\n                videoRef.current.playsInline = true;\n                videoRef.current.muted = true;\n                videoRef.current.autoplay = true;\n                videoRef.current.srcObject = mediaStream;\n                try {\n                    await videoRef.current.play();\n                    console.log('Video playing successfully!');\n                    setIsVideoReady(true);\n                    // Start frame processing if WebSocket is connected\n                    if (wsStatus === 'connected') {\n                        processingInterval.current = setInterval(captureAndProcessFrame, 33); // ~30fps\n                    }\n                } catch (playError) {\n                    console.error('Error playing video:', playError);\n                    setErrorMessage('Unable to start video stream. Please try again.');\n                }\n            }\n        } catch (error) {\n            console.error('Camera access error:', error);\n            let errorMessage = 'Camera error: ';\n            if (error.name === 'NotAllowedError') {\n                errorMessage += 'Camera access was denied. Please allow camera access in your browser settings.';\n            } else if (error.name === 'NotFoundError') {\n                errorMessage += 'No camera found. Please connect a camera and try again.';\n            } else if (error.name === 'NotReadableError') {\n                errorMessage += 'Camera is already in use by another application.';\n            } else if (error.name === 'OverconstrainedError') {\n                errorMessage += 'Camera does not support the requested resolution.';\n            } else if (error.message === 'getUserMedia is not implemented in this browser') {\n                errorMessage += 'Your browser does not support camera access. Please try using a modern browser like Chrome, Firefox, or Edge.';\n            } else {\n                errorMessage += error.message || 'Unknown error';\n            }\n            setErrorMessage(errorMessage);\n        }\n    };\n    const stopCamera = ()=>{\n        // Stop all tracks in the stream\n        if (stream) {\n            stream.getTracks().forEach((track)=>track.stop());\n            setStream(null);\n        }\n        // Clear video source\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n        // Clear processing interval\n        if (processingInterval.current) {\n            clearInterval(processingInterval.current);\n            processingInterval.current = null;\n        }\n        setIsVideoReady(false);\n    };\n    // Start camera on component mount if isShowing is true\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (isShowing) {\n                startCamera();\n            } else {\n                stopCamera();\n            }\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    stopCamera();\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Setup FPS counter\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing) return;\n            fpsTimerRef.current = setInterval({\n                \"CameraAccess.useEffect\": ()=>{\n                    setFps({\n                        \"CameraAccess.useEffect\": (prevFps)=>{\n                            // Simple mock for fps counter\n                            const newFps = Math.floor(Math.random() * 10) + 25; // Random between 25-35 fps\n                            return newFps;\n                        }\n                    }[\"CameraAccess.useEffect\"]);\n                }\n            }[\"CameraAccess.useEffect\"], 1000);\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    if (fpsTimerRef.current) {\n                        clearInterval(fpsTimerRef.current);\n                    }\n                    if (processingInterval.current) {\n                        clearInterval(processingInterval.current);\n                    }\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Update dimensions when container size changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing) return;\n            const updateDimensions = {\n                \"CameraAccess.useEffect.updateDimensions\": ()=>{\n                    if (containerRef.current) {\n                        const { width, height } = containerRef.current.getBoundingClientRect();\n                        setDimensions({\n                            width,\n                            height\n                        });\n                    }\n                }\n            }[\"CameraAccess.useEffect.updateDimensions\"];\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            return ({\n                \"CameraAccess.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Handle video element ready state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing || !videoRef.current || !stream) return;\n            const video = videoRef.current;\n            const handleLoadedMetadata = {\n                \"CameraAccess.useEffect.handleLoadedMetadata\": ()=>{\n                    console.log('Video metadata loaded');\n                    setIsVideoReady(true);\n                    // Get video dimensions\n                    const videoWidth = video.videoWidth || 640;\n                    const videoHeight = video.videoHeight || 480;\n                    console.log(\"Video dimensions: \".concat(videoWidth, \"x\").concat(videoHeight));\n                    // Setup canvas for processing\n                    if (canvasRef.current) {\n                        // Store actual dimensions for capture\n                        canvasRef.current.width = videoWidth;\n                        canvasRef.current.height = videoHeight;\n                        // Set display size to maintain aspect ratio\n                        const aspectRatio = videoWidth / videoHeight;\n                        const containerWidth = dimensions.width;\n                        const containerHeight = containerWidth / aspectRatio;\n                        canvasRef.current.style.width = \"\".concat(containerWidth, \"px\");\n                        canvasRef.current.style.height = \"\".concat(containerHeight, \"px\");\n                    }\n                    // Start processing frames\n                    startProcessing();\n                    // Notify parent component that camera is ready\n                    if (onCameraReady) {\n                        onCameraReady({\n                            width: videoWidth,\n                            height: videoHeight\n                        });\n                    }\n                }\n            }[\"CameraAccess.useEffect.handleLoadedMetadata\"];\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        stream,\n        isShowing,\n        dimensions,\n        onCameraReady\n    ]);\n    const startProcessing = ()=>{\n        if (!canvasRef.current || !videoRef.current || !isVideoReady) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Start processing frames at ~30fps\n        processingInterval.current = setInterval(()=>{\n            if (video.readyState !== 4) return;\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Simulate face detection (90% chance of face detected)\n            const faceDetected = Math.random() > 0.1;\n            // Draw visualizations based on enabled options\n            if (faceDetected) {\n                if (showBoundingBox) {\n                    drawBoundingBox(ctx, canvas);\n                }\n                if (showHeadPose) {\n                    drawHeadPose(ctx, canvas);\n                }\n                if (showMask) {\n                    drawFaceMask(ctx, canvas);\n                }\n            }\n            // Display parameters if enabled\n            if (showParameters) {\n                drawParameters(ctx, canvas, faceDetected);\n            }\n        }, 33); // ~30fps\n    };\n    // Helper function to draw bounding box\n    const drawBoundingBox = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const boxWidth = canvas.width * 0.6;\n        const boxHeight = canvas.height * 0.8;\n        ctx.strokeStyle = 'rgba(255, 255, 0, 0.7)';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(centerX - boxWidth / 2, centerY - boxHeight / 2, boxWidth, boxHeight);\n    };\n    // Helper function to draw head pose axes\n    const drawHeadPose = (ctx, canvas, pitch, yaw, roll)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const time = Date.now() / 1000;\n        const length = canvas.width * 0.1;\n        // X axis (red)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length * Math.sin(time), centerY);\n        ctx.strokeStyle = 'red';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Y axis (green)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX, centerY + length * Math.sin(time + 1));\n        ctx.strokeStyle = 'green';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Z axis (blue)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length / 2 * Math.sin(time + 2), centerY - length / 2 * Math.cos(time + 2));\n        ctx.strokeStyle = 'blue';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n    };\n    // Helper function to draw face mask\n    const drawFaceMask = (ctx, canvas, points)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const radius = Math.min(canvas.width, canvas.height) * 0.2;\n        // Draw mask\n        ctx.fillStyle = 'rgba(0, 255, 255, 0.2)';\n        ctx.beginPath();\n        ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw eyes\n        const eyeRadius = radius * 0.2;\n        const eyeOffsetX = radius * 0.3;\n        const eyeOffsetY = radius * 0.1;\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n        // Left eye\n        ctx.beginPath();\n        ctx.arc(centerX - eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n        // Right eye\n        ctx.beginPath();\n        ctx.arc(centerX + eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n    };\n    // Helper function to draw parameters\n    const drawParameters = (ctx, canvas, faceDetected)=>{\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(5, canvas.height - 60, 150, 50);\n        ctx.font = '12px Arial';\n        ctx.fillStyle = 'white';\n        ctx.fillText(\"Resolution: \".concat(canvas.width, \"x\").concat(canvas.height), 10, canvas.height - 40);\n        ctx.fillText(\"FPS: \".concat(fps), 10, canvas.height - 25);\n        ctx.fillText(\"Face: \".concat(faceDetected ? 'Detected' : 'Not Detected'), 10, canvas.height - 10);\n    };\n    if (!isShowing) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: '30vw',\n            height: '30vh',\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n            overflow: 'hidden',\n            zIndex: 1000\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover',\n                    transform: 'scaleX(-1)',\n                    opacity: 1\n                },\n                playsInline: true,\n                muted: true,\n                autoPlay: true\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset/components-gui/cameraAccess.js\",\n                lineNumber: 595,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    zIndex: 1,\n                    pointerEvents: 'none',\n                    display: isLinked ? 'block' : 'none' // Hide canvas when not linked\n                }\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset/components-gui/cameraAccess.js\",\n                lineNumber: 608,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '10px',\n                    right: '10px',\n                    display: 'flex',\n                    gap: '10px',\n                    zIndex: 2\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease'\n                        },\n                        children: \"Close\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset/components-gui/cameraAccess.js\",\n                        lineNumber: 629,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            if (isLinked) {\n                                disconnectWebSocket();\n                            } else {\n                                connectWebSocket();\n                            }\n                        },\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: isLinked ? 'rgba(255, 0, 0, 0.7)' : 'rgba(0, 255, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease'\n                        },\n                        children: isLinked ? 'Unlink' : 'Link'\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset/components-gui/cameraAccess.js\",\n                        lineNumber: 644,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset/components-gui/cameraAccess.js\",\n                lineNumber: 621,\n                columnNumber: 7\n            }, undefined),\n            wsStatus === 'error' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '50px',\n                    right: '10px',\n                    padding: '8px 12px',\n                    backgroundColor: 'rgba(255, 0, 0, 0.7)',\n                    color: 'white',\n                    borderRadius: '4px',\n                    zIndex: 2\n                },\n                children: [\n                    \"Connection Error: \",\n                    errorMessage\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset/components-gui/cameraAccess.js\",\n                lineNumber: 667,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset/components-gui/cameraAccess.js\",\n        lineNumber: 579,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CameraAccess, \"hnEdnO3if4n0OeprCUNkmnm42m0=\");\n_c = CameraAccess;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CameraAccess);\nvar _c;\n$RefreshReg$(_c, \"CameraAccess\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL2NhbWVyYUFjY2Vzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxrQkFBa0I7OztBQUN5QztBQUM2QztBQUV4RyxNQUFNSyxlQUFlO1FBQUMsRUFDcEJDLFNBQVMsRUFDVEMsT0FBTyxFQUNQQyxhQUFhLEVBQ2JDLGVBQWUsS0FBSyxFQUNwQkMsa0JBQWtCLEtBQUssRUFDdkJDLFdBQVcsS0FBSyxFQUNoQkMsaUJBQWlCLEtBQUssRUFDdkI7O0lBQ0MsTUFBTUMsV0FBV1gsNkNBQU1BLENBQUM7SUFDeEIsTUFBTVksWUFBWVosNkNBQU1BLENBQUM7SUFDekIsTUFBTWEsZUFBZWIsNkNBQU1BLENBQUM7SUFDNUIsTUFBTWMsUUFBUWQsNkNBQU1BLENBQUM7SUFDckIsTUFBTSxDQUFDZSxRQUFRQyxVQUFVLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2dCLGNBQWNDLGdCQUFnQixHQUFHakIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDa0IsS0FBS0MsT0FBTyxHQUFHbkIsK0NBQVFBLENBQUM7SUFDL0IsTUFBTW9CLGNBQWNyQiw2Q0FBTUEsQ0FBQztJQUMzQixNQUFNc0IscUJBQXFCdEIsNkNBQU1BLENBQUM7SUFDbEMsTUFBTSxDQUFDdUIsWUFBWUMsY0FBYyxHQUFHdkIsK0NBQVFBLENBQUM7UUFBRXdCLE9BQU87UUFBR0MsUUFBUTtJQUFFO0lBQ25FLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUM0QixtQkFBbUJDLHFCQUFxQixHQUFHN0IsK0NBQVFBLENBQUM7SUFDM0QsTUFBTThCLGFBQWEvQiw2Q0FBTUEsQ0FBQyxFQUFFO0lBQzVCLE1BQU1nQyxlQUFlaEMsNkNBQU1BLENBQUM7SUFDNUIsTUFBTSxDQUFDaUMsVUFBVUMsWUFBWSxHQUFHakMsK0NBQVFBLENB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Qjs0QkFDckQrSixPQUFPOzRCQUNQQyxRQUFROzRCQUNSZixjQUFjOzRCQUNkZ0IsUUFBUTs0QkFDUkMsWUFBWTt3QkFDZDtrQ0FFQ2xLLFdBQVcsV0FBVzs7Ozs7Ozs7Ozs7O1lBSTFCRixhQUFhLHlCQUNaLDhEQUFDNEk7Z0JBQUk5QixPQUFPO29CQUNWZ0MsVUFBVTtvQkFDVkMsS0FBSztvQkFDTGEsT0FBTztvQkFDUEksU0FBUztvQkFDVGQsaUJBQWlCO29CQUNqQmUsT0FBTztvQkFDUGQsY0FBYztvQkFDZEcsUUFBUTtnQkFDVjs7b0JBQUc7b0JBQ2tCdEs7Ozs7Ozs7Ozs7Ozs7QUFLN0I7R0FycUJNZDtLQUFBQTtBQXVxQk4saUVBQWVBLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIi9hcHAvcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQvY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNhbWVyYUFjY2Vzcy5qc1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0L0hlbHBlci9zYXZlZmlsZSc7XG5cbmNvbnN0IENhbWVyYUFjY2VzcyA9ICh7IFxuICBpc1Nob3dpbmcsIFxuICBvbkNsb3NlLCBcbiAgb25DYW1lcmFSZWFkeSxcbiAgc2hvd0hlYWRQb3NlID0gZmFsc2UsXG4gIHNob3dCb3VuZGluZ0JveCA9IGZhbHNlLFxuICBzaG93TWFzayA9IGZhbHNlLFxuICBzaG93UGFyYW1ldGVycyA9IGZhbHNlXG59KSA9PiB7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgd3NSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtzdHJlYW0sIHNldFN0cmVhbV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2Vycm9yTWVzc2FnZSwgc2V0RXJyb3JNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2Zwcywgc2V0RnBzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBmcHNUaW1lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcHJvY2Vzc2luZ0ludGVydmFsID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbZGltZW5zaW9ucywgc2V0RGltZW5zaW9uc10gPSB1c2VTdGF0ZSh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7XG4gIGNvbnN0IFtpc1ZpZGVvUmVhZHksIHNldElzVmlkZW9SZWFkeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9jZXNzaW5nUmVzdWx0cywgc2V0UHJvY2Vzc2luZ1Jlc3VsdHNdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGZyYW1lUXVldWUgPSB1c2VSZWYoW10pO1xuICBjb25zdCBpc1Byb2Nlc3NpbmcgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBbd3NTdGF0dXMsIHNldFdzU3RhdHVzXSA9IHVzZVN0YXRlKCdkaXNjb25uZWN0ZWQnKTtcbiAgY29uc3QgW2lzTGlua2VkLCBzZXRJc0xpbmtlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBXZWJTb2NrZXQgY29ubmVjdGlvblxuICBjb25zdCBjb25uZWN0V2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIGlmICh3c1JlZi5jdXJyZW50ICYmIHdzUmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRXc1N0YXR1cygnY29ubmVjdGluZycpO1xuICAgIHRyeSB7XG4gICAgICAvLyBDb25uZWN0IHRvIEZhc3RBUEkgV2ViU29ja2V0IGVuZHBvaW50XG4gICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vbG9jYWxob3N0OjgwMDAvd3MvdmlkZW8nKTtcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSB3cztcblxuICAgICAgLy8gU2V0IGEgY29ubmVjdGlvbiB0aW1lb3V0XG4gICAgICBjb25zdCBjb25uZWN0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAod3MucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgY29ubmVjdGlvbiB0aW1lb3V0Jyk7XG4gICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgICBzZXRXc1N0YXR1cygnZXJyb3InKTtcbiAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJ0Nvbm5lY3Rpb24gdGltZW91dC4gUGxlYXNlIGNoZWNrIGlmIHRoZSBiYWNrZW5kIHNlcnZlciBpcyBydW5uaW5nLicpO1xuICAgICAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwMCk7XG5cbiAgICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0ZWQgdG8gRmFzdEFQSSBiYWNrZW5kJyk7XG4gICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIHNldFdzU3RhdHVzKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICAgICAgc2V0SXNMaW5rZWQodHJ1ZSk7XG4gICAgICAgIGlmIChpc1ZpZGVvUmVhZHkpIHtcbiAgICAgICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKGNhcHR1cmVBbmRQcm9jZXNzRnJhbWUsIDMzKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICBzZXRQcm9jZXNzaW5nUmVzdWx0cyhyZXN1bHQpO1xuICAgICAgICAgIGRyYXdSZXN1bHRzKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBXZWJTb2NrZXQgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25UaW1lb3V0KTtcbiAgICAgICAgc2V0V3NTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHNldEVycm9yTWVzc2FnZSgnRmFpbGVkIHRvIGNvbm5lY3QgdG8gRmFzdEFQSSBiYWNrZW5kLiBQbGVhc2UgY2hlY2sgaWYgdGhlIHNlcnZlciBpcyBydW5uaW5nLicpO1xuICAgICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICB3cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgZGlzY29ubmVjdGVkOicsIGV2ZW50LmNvZGUsIGV2ZW50LnJlYXNvbik7XG4gICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIHNldFdzU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgICAgICAvLyBTdG9wIGZyYW1lIHByb2Nlc3NpbmdcbiAgICAgICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGR1ZSB0byBhbiBlcnJvciwgc2hvdyBlcnJvciBtZXNzYWdlXG4gICAgICAgIGlmIChldmVudC5jb2RlICE9PSAxMDAwKSB7IC8vIDEwMDAgaXMgbm9ybWFsIGNsb3N1cmVcbiAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoYFdlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZDogJHtldmVudC5yZWFzb24gfHwgJ1Vua25vd24gcmVhc29uJ31gKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgV2ViU29ja2V0OicsIGVycm9yKTtcbiAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpO1xuICAgICAgc2V0RXJyb3JNZXNzYWdlKCdGYWlsZWQgdG8gY3JlYXRlIFdlYlNvY2tldCBjb25uZWN0aW9uLiBQbGVhc2UgY2hlY2sgeW91ciBuZXR3b3JrIGNvbm5lY3Rpb24uJyk7XG4gICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc2Nvbm5lY3RXZWJTb2NrZXQgPSAoKSA9PiB7XG4gICAgaWYgKHdzUmVmLmN1cnJlbnQpIHtcbiAgICAgIHdzUmVmLmN1cnJlbnQuY2xvc2UoMTAwMCwgJ1VzZXIgcmVxdWVzdGVkIGRpc2Nvbm5lY3QnKTtcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgc2V0V3NTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgICAgLy8gU3RvcCBmcmFtZSBwcm9jZXNzaW5nXG4gICAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIHRoZSBjYW52YXMgdG8gcmVtb3ZlIGFueSBvdmVybGF5c1xuICAgICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhc1JlZi5jdXJyZW50LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzUmVmLmN1cnJlbnQud2lkdGgsIGNhbnZhc1JlZi5jdXJyZW50LmhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Nob3dpbmcpIHtcbiAgICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgIH07XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBGcmFtZSBjYXB0dXJlIGFuZCBwcm9jZXNzaW5nXG4gIGNvbnN0IGNhcHR1cmVBbmRQcm9jZXNzRnJhbWUgPSAoKSA9PiB7XG4gICAgaWYgKCF2aWRlb1JlZi5jdXJyZW50IHx8ICFjYW52YXNSZWYuY3VycmVudCB8fCAhaXNWaWRlb1JlYWR5IHx8ICF3c1JlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAvLyBPbmx5IGRyYXcgb24gY2FudmFzIGlmIFdlYlNvY2tldCBpcyBjb25uZWN0ZWRcbiAgICBpZiAod3NSZWYuY3VycmVudCAmJiB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAvLyBDbGVhciBjYW52YXNcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCBjb250ZXh0IHN0YXRlXG4gICAgICBjdHguc2F2ZSgpO1xuXG4gICAgICAvLyBGbGlwIHRoZSBjb250ZXh0IGhvcml6b250YWxseSB0byBtaXJyb3IgdGhlIHZpZGVvXG4gICAgICBjdHgudHJhbnNsYXRlKGNhbnZhcy53aWR0aCwgMCk7XG4gICAgICBjdHguc2NhbGUoLTEsIDEpO1xuXG4gICAgICAvLyBEcmF3IHZpZGVvIGZyYW1lIHRvIGNhbnZhcyBhdCBoaWdoIHJlc29sdXRpb25cbiAgICAgIGN0eC5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgIC8vIFJlc3RvcmUgdGhlIGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgIC8vIENvbnZlcnQgY2FudmFzIHRvIGJsb2Igd2l0aCBoaWdoIHF1YWxpdHlcbiAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgaWYgKGJsb2IgJiYgd3NSZWYuY3VycmVudCAmJiB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgLy8gU2VuZCBmcmFtZSB0byBiYWNrZW5kXG4gICAgICAgICAgd3NSZWYuY3VycmVudC5zZW5kKGJsb2IpO1xuICAgICAgICB9XG4gICAgICB9LCAnaW1hZ2UvanBlZycsIDAuOTUpO1xuICAgIH1cbiAgfTtcblxuICAvLyBEcmF3IHByb2Nlc3NpbmcgcmVzdWx0c1xuICBjb25zdCBkcmF3UmVzdWx0cyA9IChyZXN1bHRzKSA9PiB7XG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCB8fCAhcmVzdWx0cykgcmV0dXJuO1xuXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAvLyBEcmF3IGJvdW5kaW5nIGJveCBpZiBhdmFpbGFibGVcbiAgICBpZiAocmVzdWx0cy5ib3VuZGluZ19ib3ggJiYgc2hvd0JvdW5kaW5nQm94KSB7XG4gICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IHJlc3VsdHMuYm91bmRpbmdfYm94O1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAwLCAwLCAwLjgpJztcbiAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgY3R4LnN0cm9rZVJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBoZWFkIHBvc2UgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHJlc3VsdHMuaGVhZF9wb3NlICYmIHNob3dIZWFkUG9zZSkge1xuICAgICAgY29uc3QgeyBwaXRjaCwgeWF3LCByb2xsIH0gPSByZXN1bHRzLmhlYWRfcG9zZTtcbiAgICAgIC8vIERyYXcgaGVhZCBwb3NlIHZpc3VhbGl6YXRpb25cbiAgICAgIGRyYXdIZWFkUG9zZShjdHgsIGNhbnZhcywgcGl0Y2gsIHlhdywgcm9sbCk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBmYWNlIG1hc2sgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHJlc3VsdHMuZmFjZV9tYXNrICYmIHNob3dNYXNrKSB7XG4gICAgICBjb25zdCB7IHBvaW50cyB9ID0gcmVzdWx0cy5mYWNlX21hc2s7XG4gICAgICBkcmF3RmFjZU1hc2soY3R4LCBjYW52YXMsIHBvaW50cyk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBwYXJhbWV0ZXJzIGlmIGVuYWJsZWRcbiAgICBpZiAoc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgIGRyYXdQYXJhbWV0ZXJzKGN0eCwgY2FudmFzLCByZXN1bHRzKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU3RhcnQgY2FtZXJhIHdpdGggaGlnaGVzdCByZXNvbHV0aW9uXG4gIGNvbnN0IHN0YXJ0Q2FtZXJhID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgc2V0SXNWaWRlb1JlYWR5KGZhbHNlKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBNZWRpYURldmljZXMgQVBJIGlzIHN1cHBvcnRlZFxuICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7XG4gICAgICAgIC8vIFRyeSB0byBwb2x5ZmlsbCB0aGUgTWVkaWFEZXZpY2VzIEFQSVxuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBnZXRVc2VyTWVkaWEgcG9seWZpbGwgaWYgbmVlZGVkXG4gICAgICAgIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICAvLyBGaXJzdCBnZXQgYWhvbGQgb2YgdGhlIGxlZ2FjeSBnZXRVc2VyTWVkaWEsIGlmIHByZXNlbnRcbiAgICAgICAgICAgIGNvbnN0IGdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU29tZSBicm93c2VycyBqdXN0IGRvbid0IGltcGxlbWVudCBpdCAtIHJldHVybiBhIHJlamVjdGVkIHByb21pc2Ugd2l0aCBhbiBlcnJvclxuICAgICAgICAgICAgaWYgKCFnZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZ2V0VXNlck1lZGlhIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIGJyb3dzZXInKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd3JhcCB0aGUgY2FsbCB0byB0aGUgb2xkIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgd2l0aCBhIFByb21pc2VcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLCBjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgb24gSFRUUFMgb3IgbG9jYWxob3N0XG4gICAgICBjb25zdCBpc1NlY3VyZSA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICcxMjcuMC4wLjEnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCc7XG4gICAgICBcbiAgICAgIGlmICghaXNTZWN1cmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgYWNjZXNzIHJlcXVpcmVzIEhUVFBTIG9yIGxvY2FsaG9zdC4gUGxlYXNlIHVzZSBIVFRQUyBvciBydW4gdGhlIGFwcGxpY2F0aW9uIG9uIGxvY2FsaG9zdC4nKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGNhbWVyYSBhY2Nlc3Mgd2l0aCBoaWdoZXN0IHJlc29sdXRpb24uLi4nKTtcblxuICAgICAgLy8gR2V0IGhpZ2hlc3QgcmVzb2x1dGlvbiBjb25zdHJhaW50c1xuICAgICAgY29uc3QgY29uc3RyYWludHMgPSBhd2FpdCBnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzKCk7XG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgY2FtZXJhIGNvbnN0cmFpbnRzOicsIGNvbnN0cmFpbnRzKTtcblxuICAgICAgY29uc3QgbWVkaWFTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIC4uLmNvbnN0cmFpbnRzLFxuICAgICAgICBhdWRpbzogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZygnSGlnaCByZXNvbHV0aW9uIGNhbWVyYSBhY2Nlc3MgZ3JhbnRlZCEnKTtcbiAgICAgIHNldFN0cmVhbShtZWRpYVN0cmVhbSk7XG5cbiAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheXNJbmxpbmUgPSB0cnVlO1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm11dGVkID0gdHJ1ZTtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbWVkaWFTdHJlYW07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVmlkZW8gcGxheWluZyBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICAgICAgc2V0SXNWaWRlb1JlYWR5KHRydWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0YXJ0IGZyYW1lIHByb2Nlc3NpbmcgaWYgV2ViU29ja2V0IGlzIGNvbm5lY3RlZFxuICAgICAgICAgIGlmICh3c1N0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoY2FwdHVyZUFuZFByb2Nlc3NGcmFtZSwgMzMpOyAvLyB+MzBmcHNcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHBsYXlFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBsYXlpbmcgdmlkZW86JywgcGxheUVycm9yKTtcbiAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJ1VuYWJsZSB0byBzdGFydCB2aWRlbyBzdHJlYW0uIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2FtZXJhIGFjY2VzcyBlcnJvcjonLCBlcnJvcik7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0NhbWVyYSBlcnJvcjogJztcbiAgICAgIFxuICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnQ2FtZXJhIGFjY2VzcyB3YXMgZGVuaWVkLiBQbGVhc2UgYWxsb3cgY2FtZXJhIGFjY2VzcyBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnTm8gY2FtZXJhIGZvdW5kLiBQbGVhc2UgY29ubmVjdCBhIGNhbWVyYSBhbmQgdHJ5IGFnYWluLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RSZWFkYWJsZUVycm9yJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ0NhbWVyYSBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFwcGxpY2F0aW9uLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdPdmVyY29uc3RyYWluZWRFcnJvcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdDYW1lcmEgZG9lcyBub3Qgc3VwcG9ydCB0aGUgcmVxdWVzdGVkIHJlc29sdXRpb24uJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSA9PT0gJ2dldFVzZXJNZWRpYSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBicm93c2VyJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGNhbWVyYSBhY2Nlc3MuIFBsZWFzZSB0cnkgdXNpbmcgYSBtb2Rlcm4gYnJvd3NlciBsaWtlIENocm9tZSwgRmlyZWZveCwgb3IgRWRnZS4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvck1lc3NhZ2UoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RvcENhbWVyYSA9ICgpID0+IHtcbiAgICAvLyBTdG9wIGFsbCB0cmFja3MgaW4gdGhlIHN0cmVhbVxuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICBzZXRTdHJlYW0obnVsbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIHZpZGVvIHNvdXJjZVxuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XG4gICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIHByb2Nlc3NpbmcgaW50ZXJ2YWxcbiAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc1ZpZGVvUmVhZHkoZmFsc2UpO1xuICB9O1xuXG4gIC8vIFN0YXJ0IGNhbWVyYSBvbiBjb21wb25lbnQgbW91bnQgaWYgaXNTaG93aW5nIGlzIHRydWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNTaG93aW5nKSB7XG4gICAgICBzdGFydENhbWVyYSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wQ2FtZXJhKCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdG9wQ2FtZXJhKCk7XG4gICAgfTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIFNldHVwIEZQUyBjb3VudGVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Nob3dpbmcpIHJldHVybjtcbiAgICBcbiAgICBmcHNUaW1lclJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0RnBzKHByZXZGcHMgPT4ge1xuICAgICAgICAvLyBTaW1wbGUgbW9jayBmb3IgZnBzIGNvdW50ZXJcbiAgICAgICAgY29uc3QgbmV3RnBzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApICsgMjU7IC8vIFJhbmRvbSBiZXR3ZWVuIDI1LTM1IGZwc1xuICAgICAgICByZXR1cm4gbmV3RnBzO1xuICAgICAgfSk7XG4gICAgfSwgMTAwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChmcHNUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZnBzVGltZXJSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIFVwZGF0ZSBkaW1lbnNpb25zIHdoZW4gY29udGFpbmVyIHNpemUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNTaG93aW5nKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdXBkYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXREaW1lbnNpb25zKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICB9LCBbaXNTaG93aW5nXSk7XG5cbiAgLy8gSGFuZGxlIHZpZGVvIGVsZW1lbnQgcmVhZHkgc3RhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzU2hvd2luZyB8fCAhdmlkZW9SZWYuY3VycmVudCB8fCAhc3RyZWFtKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZUxvYWRlZE1ldGFkYXRhID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1ZpZGVvIG1ldGFkYXRhIGxvYWRlZCcpO1xuICAgICAgc2V0SXNWaWRlb1JlYWR5KHRydWUpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdmlkZW8gZGltZW5zaW9uc1xuICAgICAgY29uc3QgdmlkZW9XaWR0aCA9IHZpZGVvLnZpZGVvV2lkdGggfHwgNjQwO1xuICAgICAgY29uc3QgdmlkZW9IZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodCB8fCA0ODA7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBWaWRlbyBkaW1lbnNpb25zOiAke3ZpZGVvV2lkdGh9eCR7dmlkZW9IZWlnaHR9YCk7XG4gICAgICBcbiAgICAgIC8vIFNldHVwIGNhbnZhcyBmb3IgcHJvY2Vzc2luZ1xuICAgICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIFN0b3JlIGFjdHVhbCBkaW1lbnNpb25zIGZvciBjYXB0dXJlXG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LndpZHRoID0gdmlkZW9XaWR0aDtcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQuaGVpZ2h0ID0gdmlkZW9IZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICAvLyBTZXQgZGlzcGxheSBzaXplIHRvIG1haW50YWluIGFzcGVjdCByYXRpb1xuICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xuICAgICAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXJXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICBcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBgJHtjb250YWluZXJXaWR0aH1weGA7XG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke2NvbnRhaW5lckhlaWdodH1weGA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IHByb2Nlc3NpbmcgZnJhbWVzXG4gICAgICBzdGFydFByb2Nlc3NpbmcoKTtcbiAgICAgIFxuICAgICAgLy8gTm90aWZ5IHBhcmVudCBjb21wb25lbnQgdGhhdCBjYW1lcmEgaXMgcmVhZHlcbiAgICAgIGlmIChvbkNhbWVyYVJlYWR5KSB7XG4gICAgICAgIG9uQ2FtZXJhUmVhZHkoe1xuICAgICAgICAgIHdpZHRoOiB2aWRlb1dpZHRoLFxuICAgICAgICAgIGhlaWdodDogdmlkZW9IZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgaGFuZGxlTG9hZGVkTWV0YWRhdGEpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKTtcbiAgICB9O1xuICB9LCBbc3RyZWFtLCBpc1Nob3dpbmcsIGRpbWVuc2lvbnMsIG9uQ2FtZXJhUmVhZHldKTtcblxuICBjb25zdCBzdGFydFByb2Nlc3NpbmcgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCB8fCAhdmlkZW9SZWYuY3VycmVudCB8fCAhaXNWaWRlb1JlYWR5KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIFxuICAgIC8vIFN0YXJ0IHByb2Nlc3NpbmcgZnJhbWVzIGF0IH4zMGZwc1xuICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHZpZGVvLnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgY29udGV4dCBzdGF0ZVxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIFxuICAgICAgLy8gRmxpcCB0aGUgY29udGV4dCBob3Jpem9udGFsbHkgdG8gbWlycm9yIHRoZSB2aWRlb1xuICAgICAgY3R4LnRyYW5zbGF0ZShjYW52YXMud2lkdGgsIDApO1xuICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgICAgIFxuICAgICAgLy8gRHJhdyB2aWRlbyBmcmFtZSB0byBjYW52YXMgYXQgaGlnaCByZXNvbHV0aW9uXG4gICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIHRoZSBjb250ZXh0IHN0YXRlXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBmYWNlIGRldGVjdGlvbiAoOTAlIGNoYW5jZSBvZiBmYWNlIGRldGVjdGVkKVxuICAgICAgY29uc3QgZmFjZURldGVjdGVkID0gTWF0aC5yYW5kb20oKSA+IDAuMTtcbiAgICAgIFxuICAgICAgLy8gRHJhdyB2aXN1YWxpemF0aW9ucyBiYXNlZCBvbiBlbmFibGVkIG9wdGlvbnNcbiAgICAgIGlmIChmYWNlRGV0ZWN0ZWQpIHtcbiAgICAgICAgaWYgKHNob3dCb3VuZGluZ0JveCkge1xuICAgICAgICAgIGRyYXdCb3VuZGluZ0JveChjdHgsIGNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChzaG93SGVhZFBvc2UpIHtcbiAgICAgICAgICBkcmF3SGVhZFBvc2UoY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvd01hc2spIHtcbiAgICAgICAgICBkcmF3RmFjZU1hc2soY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERpc3BsYXkgcGFyYW1ldGVycyBpZiBlbmFibGVkXG4gICAgICBpZiAoc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgICAgZHJhd1BhcmFtZXRlcnMoY3R4LCBjYW52YXMsIGZhY2VEZXRlY3RlZCk7XG4gICAgICB9XG4gICAgfSwgMzMpOyAvLyB+MzBmcHNcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGJvdW5kaW5nIGJveFxuICBjb25zdCBkcmF3Qm91bmRpbmdCb3ggPSAoY3R4LCBjYW52YXMpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgYm94V2lkdGggPSBjYW52YXMud2lkdGggKiAwLjY7XG4gICAgY29uc3QgYm94SGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIDAuODtcbiAgICBcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMCwgMC43KSc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICBjZW50ZXJYIC0gYm94V2lkdGgvMiwgXG4gICAgICBjZW50ZXJZIC0gYm94SGVpZ2h0LzIsIFxuICAgICAgYm94V2lkdGgsIFxuICAgICAgYm94SGVpZ2h0XG4gICAgKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGhlYWQgcG9zZSBheGVzXG4gIGNvbnN0IGRyYXdIZWFkUG9zZSA9IChjdHgsIGNhbnZhcywgcGl0Y2gsIHlhdywgcm9sbCkgPT4ge1xuICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgY29uc3QgbGVuZ3RoID0gY2FudmFzLndpZHRoICogMC4xO1xuICAgIFxuICAgIC8vIFggYXhpcyAocmVkKVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKGNlbnRlclgsIGNlbnRlclkpO1xuICAgIGN0eC5saW5lVG8oY2VudGVyWCArIGxlbmd0aCAqIE1hdGguc2luKHRpbWUpLCBjZW50ZXJZKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgXG4gICAgLy8gWSBheGlzIChncmVlbilcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKGNlbnRlclgsIGNlbnRlclkgKyBsZW5ndGggKiBNYXRoLnNpbih0aW1lICsgMSkpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdncmVlbic7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIFxuICAgIC8vIFogYXhpcyAoYmx1ZSlcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKFxuICAgICAgY2VudGVyWCArIGxlbmd0aC8yICogTWF0aC5zaW4odGltZSArIDIpLCBcbiAgICAgIGNlbnRlclkgLSBsZW5ndGgvMiAqIE1hdGguY29zKHRpbWUgKyAyKVxuICAgICk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsdWUnO1xuICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGZhY2UgbWFza1xuICBjb25zdCBkcmF3RmFjZU1hc2sgPSAoY3R4LCBjYW52YXMsIHBvaW50cykgPT4ge1xuICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICBjb25zdCByYWRpdXMgPSBNYXRoLm1pbihjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpICogMC4yO1xuICAgIFxuICAgIC8vIERyYXcgbWFza1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAyNTUsIDI1NSwgMC4yKSc7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBcbiAgICAvLyBEcmF3IGV5ZXNcbiAgICBjb25zdCBleWVSYWRpdXMgPSByYWRpdXMgKiAwLjI7XG4gICAgY29uc3QgZXllT2Zmc2V0WCA9IHJhZGl1cyAqIDAuMztcbiAgICBjb25zdCBleWVPZmZzZXRZID0gcmFkaXVzICogMC4xO1xuICAgIFxuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJztcbiAgICBcbiAgICAvLyBMZWZ0IGV5ZVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKGNlbnRlclggLSBleWVPZmZzZXRYLCBjZW50ZXJZIC0gZXllT2Zmc2V0WSwgZXllUmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBcbiAgICAvLyBSaWdodCBleWVcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhjZW50ZXJYICsgZXllT2Zmc2V0WCwgY2VudGVyWSAtIGV5ZU9mZnNldFksIGV5ZVJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBwYXJhbWV0ZXJzXG4gIGNvbnN0IGRyYXdQYXJhbWV0ZXJzID0gKGN0eCwgY2FudmFzLCBmYWNlRGV0ZWN0ZWQpID0+IHtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC43KSc7XG4gICAgY3R4LmZpbGxSZWN0KDUsIGNhbnZhcy5oZWlnaHQgLSA2MCwgMTUwLCA1MCk7XG4gICAgXG4gICAgY3R4LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmZpbGxUZXh0KGBSZXNvbHV0aW9uOiAke2NhbnZhcy53aWR0aH14JHtjYW52YXMuaGVpZ2h0fWAsIDEwLCBjYW52YXMuaGVpZ2h0IC0gNDApO1xuICAgIGN0eC5maWxsVGV4dChgRlBTOiAke2Zwc31gLCAxMCwgY2FudmFzLmhlaWdodCAtIDI1KTtcbiAgICBjdHguZmlsbFRleHQoYEZhY2U6ICR7ZmFjZURldGVjdGVkID8gJ0RldGVjdGVkJyA6ICdOb3QgRGV0ZWN0ZWQnfWAsIDEwLCBjYW52YXMuaGVpZ2h0IC0gMTApO1xuICB9O1xuXG4gIGlmICghaXNTaG93aW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgXG4gICAgICByZWY9e2NvbnRhaW5lclJlZn1cbiAgICAgIHN0eWxlPXt7IFxuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgICAgIHdpZHRoOiAnMzB2dycsXG4gICAgICAgIGhlaWdodDogJzMwdmgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIHpJbmRleDogMTAwMFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8dmlkZW9cbiAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIG9iamVjdEZpdDogJ2NvdmVyJyxcbiAgICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZVgoLTEpJyxcbiAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH19XG4gICAgICAgIHBsYXlzSW5saW5lXG4gICAgICAgIG11dGVkXG4gICAgICAgIGF1dG9QbGF5XG4gICAgICAvPlxuICAgICAgPGNhbnZhc1xuICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgICAgZGlzcGxheTogaXNMaW5rZWQgPyAnYmxvY2snIDogJ25vbmUnIC8vIEhpZGUgY2FudmFzIHdoZW4gbm90IGxpbmtlZFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzEwcHgnLFxuICAgICAgICByaWdodDogJzEwcHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGdhcDogJzEwcHgnLFxuICAgICAgICB6SW5kZXg6IDJcbiAgICAgIH19PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlJ1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBDbG9zZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNMaW5rZWQpIHtcbiAgICAgICAgICAgICAgZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzTGlua2VkID8gJ3JnYmEoMjU1LCAwLCAwLCAwLjcpJyA6ICdyZ2JhKDAsIDI1NSwgMCwgMC43KScsXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2JhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlJ1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7aXNMaW5rZWQgPyAnVW5saW5rJyA6ICdMaW5rJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3dzU3RhdHVzID09PSAnZXJyb3InICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogJzUwcHgnLFxuICAgICAgICAgIHJpZ2h0OiAnMTBweCcsXG4gICAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC43KScsXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICB6SW5kZXg6IDJcbiAgICAgICAgfX0+XG4gICAgICAgICAgQ29ubmVjdGlvbiBFcnJvcjoge2Vycm9yTWVzc2FnZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FtZXJhQWNjZXNzOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cyIsIkNhbWVyYUFjY2VzcyIsImlzU2hvd2luZyIsIm9uQ2xvc2UiLCJvbkNhbWVyYVJlYWR5Iiwic2hvd0hlYWRQb3NlIiwic2hvd0JvdW5kaW5nQm94Iiwic2hvd01hc2siLCJzaG93UGFyYW1ldGVycyIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwiY29udGFpbmVyUmVmIiwid3NSZWYiLCJzdHJlYW0iLCJzZXRTdHJlYW0iLCJlcnJvck1lc3NhZ2UiLCJzZXRFcnJvck1lc3NhZ2UiLCJmcHMiLCJzZXRGcHMiLCJmcHNUaW1lclJlZiIsInByb2Nlc3NpbmdJbnRlcnZhbCIsImRpbWVuc2lvbnMiLCJzZXREaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJpc1ZpZGVvUmVhZHkiLCJzZXRJc1ZpZGVvUmVhZHkiLCJwcm9jZXNzaW5nUmVzdWx0cyIsInNldFByb2Nlc3NpbmdSZXN1bHRzIiwiZnJhbWVRdWV1ZSIsImlzUHJvY2Vzc2luZyIsIndzU3RhdHVzIiwic2V0V3NTdGF0dXMiLCJpc0xpbmtlZCIsInNldElzTGlua2VkIiwiY29ubmVjdFdlYlNvY2tldCIsImN1cnJlbnQiLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsImNvbnNvbGUiLCJsb2ciLCJ3cyIsImNvbm5lY3Rpb25UaW1lb3V0Iiwic2V0VGltZW91dCIsImVycm9yIiwiY2xvc2UiLCJvbm9wZW4iLCJjbGVhclRpbWVvdXQiLCJzZXRJbnRlcnZhbCIsImNhcHR1cmVBbmRQcm9jZXNzRnJhbWUiLCJvbm1lc3NhZ2UiLCJldmVudCIsInJlc3VsdCIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJkcmF3UmVzdWx0cyIsIm9uZXJyb3IiLCJvbmNsb3NlIiwiY29kZSIsInJlYXNvbiIsImNsZWFySW50ZXJ2YWwiLCJkaXNjb25uZWN0V2ViU29ja2V0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsInZpZGVvIiwiY2FudmFzIiwic2F2ZSIsInRyYW5zbGF0ZSIsInNjYWxlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsInRvQmxvYiIsImJsb2IiLCJzZW5kIiwicmVzdWx0cyIsImJvdW5kaW5nX2JveCIsIngiLCJ5Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwiaGVhZF9wb3NlIiwicGl0Y2giLCJ5YXciLCJyb2xsIiwiZHJhd0hlYWRQb3NlIiwiZmFjZV9tYXNrIiwicG9pbnRzIiwiZHJhd0ZhY2VNYXNrIiwiZHJhd1BhcmFtZXRlcnMiLCJzdGFydENhbWVyYSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImNvbnN0cmFpbnRzIiwid2Via2l0R2V0VXNlck1lZGlhIiwibW96R2V0VXNlck1lZGlhIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwicmVzb2x2ZSIsImNhbGwiLCJpc1NlY3VyZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInByb2Nlc3MiLCJtZWRpYVN0cmVhbSIsImF1ZGlvIiwicGxheXNJbmxpbmUiLCJtdXRlZCIsImF1dG9wbGF5Iiwic3JjT2JqZWN0IiwicGxheSIsInBsYXlFcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwic3RvcENhbWVyYSIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsInN0b3AiLCJwcmV2RnBzIiwibmV3RnBzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidXBkYXRlRGltZW5zaW9ucyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlTG9hZGVkTWV0YWRhdGEiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJhc3BlY3RSYXRpbyIsImNvbnRhaW5lcldpZHRoIiwiY29udGFpbmVySGVpZ2h0Iiwic3R5bGUiLCJzdGFydFByb2Nlc3NpbmciLCJmYWNlRGV0ZWN0ZWQiLCJkcmF3Qm91bmRpbmdCb3giLCJjZW50ZXJYIiwiY2VudGVyWSIsImJveFdpZHRoIiwiYm94SGVpZ2h0IiwidGltZSIsIkRhdGUiLCJub3ciLCJsZW5ndGgiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzaW4iLCJzdHJva2UiLCJjb3MiLCJyYWRpdXMiLCJtaW4iLCJmaWxsU3R5bGUiLCJhcmMiLCJQSSIsImZpbGwiLCJleWVSYWRpdXMiLCJleWVPZmZzZXRYIiwiZXllT2Zmc2V0WSIsImZpbGxSZWN0IiwiZm9udCIsImZpbGxUZXh0IiwiZGl2IiwicmVmIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93Iiwib3ZlcmZsb3ciLCJ6SW5kZXgiLCJvYmplY3RGaXQiLCJvcGFjaXR5IiwiYXV0b1BsYXkiLCJwb2ludGVyRXZlbnRzIiwiZGlzcGxheSIsInJpZ2h0IiwiZ2FwIiwiYnV0dG9uIiwib25DbGljayIsInBhZGRpbmciLCJjb2xvciIsImJvcmRlciIsImN1cnNvciIsInRyYW5zaXRpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset/components-gui/cameraAccess.js\n"));

/***/ })

}]);
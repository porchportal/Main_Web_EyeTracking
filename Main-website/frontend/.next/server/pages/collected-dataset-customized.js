/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/collected-dataset-customized";
exports.ids = ["pages/collected-dataset-customized"];
exports.modules = {

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.jsx":
/*!****************************************************************************!*\
  !*** ./components/collected-dataset-customized/Action/CalibratePoints.jsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearCalibrationPoints: () => (/* binding */ clearCalibrationPoints),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   drawCalibrationGrid: () => (/* binding */ drawCalibrationGrid),\n/* harmony export */   drawCalibrationPoint: () => (/* binding */ drawCalibrationPoint),\n/* harmony export */   drawCalibrationPointLegacy: () => (/* binding */ drawCalibrationPointLegacy),\n/* harmony export */   generateCalibrationPoints: () => (/* binding */ generateCalibrationPoints)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n// CalibratePoints.jsx\n// Utility for generating and managing calibration points on a canvas\n\n/**\n * Get canvas management utilities from global scope (from actionButton.js)\n * @returns {Object} Canvas utilities object\n */ const getCanvasUtils = ()=>{\n    if (false) {}\n    return {\n        canvasUtils: null,\n        canvasManager: null\n    };\n};\n/**\n * Get or create canvas using the canvas management system from actionButton.js\n * @returns {HTMLCanvasElement} Canvas element\n */ const getCanvas = ()=>{\n    const { canvasUtils, canvasManager } = getCanvasUtils();\n    // First try to use canvasUtils from actionButton.js\n    if (canvasUtils && typeof canvasUtils.getCanvas === 'function') {\n        return canvasUtils.getCanvas();\n    }\n    // Fallback to canvasManager\n    if (canvasManager && typeof canvasManager.getCanvas === 'function') {\n        return canvasManager.getCanvas() || canvasManager.createCanvas();\n    }\n    // Fallback to direct query\n    return document.querySelector('#tracking-canvas');\n};\n/**\n * Transform canvas coordinates to viewport coordinates when in fullscreen\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {Object} point - {x, y} point coordinates\n * @returns {Object} Transformed point coordinates\n */ const transformCoordinates = (canvas, point)=>{\n    if (!canvas || !point) return point;\n    // Check if canvas is in fullscreen mode\n    const isFullscreen = canvas.style.position === 'fixed' && (canvas.style.width === '100vw' || canvas.style.width === '100%');\n    if (isFullscreen) {\n        // Get the canvas's bounding rect to understand its position in the viewport\n        const canvasRect = canvas.getBoundingClientRect();\n        // Calculate the scale factors\n        const scaleX = canvasRect.width / canvas.width;\n        const scaleY = canvasRect.height / canvas.height;\n        // Transform the coordinates\n        const transformedPoint = {\n            x: point.x * scaleX + canvasRect.left,\n            y: point.y * scaleY + canvasRect.top,\n            label: point.label\n        };\n        console.log('Coordinate transformation in CalibratePoints:', {\n            original: point,\n            transformed: transformedPoint,\n            canvasRect,\n            scale: {\n                x: scaleX,\n                y: scaleY\n            }\n        });\n        return transformedPoint;\n    }\n    // If not fullscreen, return original coordinates\n    return point;\n};\n/**\n * Draw dot using the canvas management system\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} radius - Dot radius\n * @returns {boolean} Success status\n */ const drawDotWithCanvasManager = (x, y, radius = 12)=>{\n    const { canvasUtils } = getCanvasUtils();\n    if (canvasUtils && typeof canvasUtils.drawDot === 'function') {\n        return canvasUtils.drawDot(x, y, radius);\n    }\n    // Fallback: manually draw dot\n    const canvas = getCanvas();\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        drawCalibrationPointLegacy(ctx, x, y, radius);\n        return true;\n    }\n    return false;\n};\n/**\n * Clear canvas using the canvas management system\n */ const clearCanvasWithManager = ()=>{\n    const { canvasUtils, canvasManager } = getCanvasUtils();\n    if (canvasUtils && typeof canvasUtils.clear === 'function') {\n        canvasUtils.clear();\n        return;\n    }\n    if (canvasManager && typeof canvasManager.clear === 'function') {\n        canvasManager.clear();\n        return;\n    }\n    // Fallback: manually clear canvas\n    const canvas = getCanvas();\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n};\n/**\n * Generate a grid of calibration points based on canvas dimensions\n * @param {number} width - Canvas width\n * @param {number} height - Canvas height\n * @returns {Array} Array of point objects with x,y coordinates\n */ const generateCalibrationPoints = (width, height)=>{\n    if (!width || !height || width <= 0 || height <= 0) {\n        console.error(\"generateCalibrationPoints: Invalid canvas dimensions\", {\n            width,\n            height\n        });\n        return [];\n    }\n    const conditionalRound = (dimension, percentage)=>Math.round(dimension * percentage);\n    // Outer frame (12% from edges)\n    const xLeftOuter = conditionalRound(width, 0.12);\n    const xRightOuter = width - xLeftOuter;\n    const yTopOuter = conditionalRound(height, 0.12);\n    const yBottomOuter = height - yTopOuter;\n    // Inner frame (26% from edges)\n    const xLeftInner = conditionalRound(width, 0.26);\n    const xRightInner = width - xLeftInner;\n    const yTopInner = conditionalRound(height, 0.26);\n    const yBottomInner = height - yTopInner;\n    const xCenter = Math.floor(width / 2);\n    const yCenter = Math.floor(height / 2);\n    return [\n        // Outer frame (8 points)\n        {\n            x: xLeftOuter,\n            y: yTopOuter,\n            label: \"Outer Top-Left\"\n        },\n        {\n            x: xCenter,\n            y: yTopOuter,\n            label: \"Outer Top-Center\"\n        },\n        {\n            x: xRightOuter,\n            y: yTopOuter,\n            label: \"Outer Top-Right\"\n        },\n        {\n            x: xLeftOuter,\n            y: yCenter,\n            label: \"Outer Middle-Left\"\n        },\n        {\n            x: xRightOuter,\n            y: yCenter,\n            label: \"Outer Middle-Right\"\n        },\n        {\n            x: xLeftOuter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Left\"\n        },\n        {\n            x: xCenter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Center\"\n        },\n        {\n            x: xRightOuter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Right\"\n        },\n        // Inner frame (8 points)\n        {\n            x: xLeftInner,\n            y: yTopInner,\n            label: \"Inner Top-Left\"\n        },\n        {\n            x: xCenter,\n            y: yTopInner,\n            label: \"Inner Top-Center\"\n        },\n        {\n            x: xRightInner,\n            y: yTopInner,\n            label: \"Inner Top-Right\"\n        },\n        {\n            x: xLeftInner,\n            y: yCenter,\n            label: \"Inner Middle-Left\"\n        },\n        {\n            x: xRightInner,\n            y: yCenter,\n            label: \"Inner Middle-Right\"\n        },\n        {\n            x: xLeftInner,\n            y: yBottomInner,\n            label: \"Inner Bottom-Left\"\n        },\n        {\n            x: xCenter,\n            y: yBottomInner,\n            label: \"Inner Bottom-Center\"\n        },\n        {\n            x: xRightInner,\n            y: yBottomInner,\n            label: \"Inner Bottom-Right\"\n        }\n    ];\n};\n/**\n * Draw a calibration point on a canvas using the canvas management system\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {Object} options - Optional settings (color, radius)\n * @returns {Object} Point position object {x, y}\n */ const drawCalibrationPoint = (x, y, options = {})=>{\n    const radius = options.radius || 12; // Use standard radius\n    const success = drawDotWithCanvasManager(x, y, radius);\n    return {\n        x,\n        y,\n        success\n    };\n};\n/**\n * Legacy function for backward compatibility (draws directly on canvas context)\n * @param {CanvasRenderingContext2D} ctx - Canvas 2D context\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} radius - Dot radius\n * @returns {Object} Point position object {x, y}\n */ const drawCalibrationPointLegacy = (ctx, x, y, radius = 12)=>{\n    if (!ctx) return {\n        x,\n        y\n    };\n    const canvas = ctx.canvas;\n    // Clear the canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'yellow';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    // Draw the dot with a bright red color\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.fillStyle = 'red';\n    ctx.fill();\n    // Add glow effect for better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 3, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.lineWidth = 3;\n    ctx.stroke();\n    // Add a second larger glow for even better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 6, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.3)';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    console.log(`Drew calibration point at (${x}, ${y}) with radius ${radius}`);\n    return {\n        x,\n        y\n    };\n};\n/**\n * Draw all calibration points on a canvas (for debugging/visualization)\n * @param {Array} points - Array of point objects\n * @param {number} activeIndex - Index of the currently active point\n */ const drawCalibrationGrid = (points, activeIndex = -1)=>{\n    if (!points || !points.length) return;\n    const canvas = getCanvas();\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    clearCanvasWithManager();\n    points.forEach((point, index)=>{\n        const isActive = index === activeIndex;\n        const radius = isActive ? 12 : 6; // Use standard radius for active, smaller for inactive\n        // Draw the point\n        ctx.beginPath();\n        ctx.arc(point.x, point.y, radius, 0, Math.PI * 2);\n        ctx.fillStyle = isActive ? 'red' : 'rgba(0, 102, 204, 0.7)';\n        ctx.fill();\n        // Add glow effect for active points\n        if (isActive) {\n            ctx.beginPath();\n            ctx.arc(point.x, point.y, radius + 3, 0, Math.PI * 2);\n            ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n            ctx.lineWidth = 3;\n            ctx.stroke();\n        }\n        // Draw point number\n        ctx.fillStyle = 'white';\n        ctx.font = '10px Arial';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.fillText(`${index + 1}`, point.x, point.y);\n        // Draw label for active point\n        if (isActive && point.label) {\n            ctx.font = '12px Arial';\n            ctx.fillStyle = 'black';\n            ctx.fillText(point.label, point.x, point.y - 25);\n        }\n    });\n    // Draw connecting lines (optional)\n    if (points.length > 1) {\n        ctx.beginPath();\n        ctx.moveTo(points[0].x, points[0].y);\n        for(let i = 1; i < points.length; i++){\n            ctx.lineTo(points[i].x, points[i].y);\n        }\n        ctx.strokeStyle = 'rgba(0, 102, 204, 0.3)';\n        ctx.lineWidth = 1;\n        ctx.stroke();\n    }\n};\n/**\n * Clear all calibration points from canvas\n */ const clearCalibrationPoints = ()=>{\n    clearCanvasWithManager();\n};\n// Default export for React compatibility\nconst CalibratePoints = ()=>null; // This is a utility file, so we don't need to render anything\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CalibratePoints);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHNCQUFzQjtBQUN0QixxRUFBcUU7QUFFM0M7QUFFMUI7OztDQUdDLEdBQ0QsTUFBTUMsaUJBQWlCO0lBQ3JCLElBQUksS0FBNkIsRUFBRSxFQUtsQztJQUNELE9BQU87UUFBRUMsYUFBYTtRQUFNRSxlQUFlO0lBQUs7QUFDbEQ7QUFFQTs7O0NBR0MsR0FDRCxNQUFNQyxZQUFZO0lBQ2hCLE1BQU0sRUFBRUgsV0FBVyxFQUFFRSxhQUFhLEVBQUUsR0FBR0g7SUFFdkMsb0RBQW9EO0lBQ3BELElBQUlDLGVBQWUsT0FBT0EsWUFBWUcsU0FBUyxLQUFLLFlBQVk7UUFDOUQsT0FBT0gsWUFBWUcsU0FBUztJQUM5QjtJQUVBLDRCQUE0QjtJQUM1QixJQUFJRCxpQkFBaUIsT0FBT0EsY0FBY0MsU0FBUyxLQUFLLFlBQVk7UUFDbEUsT0FBT0QsY0FBY0MsU0FBUyxNQUFNRCxjQUFjRSxZQUFZO0lBQ2hFO0lBRUEsMkJBQTJCO0lBQzNCLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQztBQUNoQztBQUVBOzs7OztDQUtDLEdBQ0QsTUFBTUMsdUJBQXVCLENBQUNDLFFBQVFDO0lBQ3BDLElBQUksQ0FBQ0QsVUFBVSxDQUFDQyxPQUFPLE9BQU9BO0lBRTlCLHdDQUF3QztJQUN4QyxNQUFNQyxlQUFlRixPQUFPRyxLQUFLLENBQUNDLFFBQVEsS0FBSyxXQUMxQkosQ0FBQUEsT0FBT0csS0FBSyxDQUFDRSxLQUFLLEtBQUssV0FBV0wsT0FBT0csS0FBSyxDQUFDRSxLQUFLLEtBQUssTUFBSztJQUVuRixJQUFJSCxjQUFjO1FBQ2hCLDRFQUE0RTtRQUM1RSxNQUFNSSxhQUFhTixPQUFPTyxxQkFBcUI7UUFFL0MsOEJBQThCO1FBQzlCLE1BQU1DLFNBQVNGLFdBQVdELEtBQUssR0FBR0ws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O1FBQ2hCNUMsSUFBSTZDLFlBQVksR0FBRztRQUNuQjdDLElBQUk4QyxRQUFRLENBQUMsR0FBR0wsUUFBUSxHQUFHLEVBQUVqRSxNQUFNVyxDQUFDLEVBQUVYLE1BQU1hLENBQUM7UUFFN0MsOEJBQThCO1FBQzlCLElBQUlxRCxZQUFZbEUsTUFBTWUsS0FBSyxFQUFFO1lBQzNCUyxJQUFJMkMsSUFBSSxHQUFHO1lBQ1gzQyxJQUFJTSxTQUFTLEdBQUc7WUFDaEJOLElBQUk4QyxRQUFRLENBQUN0RSxNQUFNZSxLQUFLLEVBQUVmLE1BQU1XLENBQUMsRUFBRVgsTUFBTWEsQ0FBQyxHQUFHO1FBQy9DO0lBQ0Y7SUFFQSxtQ0FBbUM7SUFDbkMsSUFBSWdELE9BQU9FLE1BQU0sR0FBRyxHQUFHO1FBQ3JCdkMsSUFBSTZCLFNBQVM7UUFDYjdCLElBQUkrQyxNQUFNLENBQUNWLE1BQU0sQ0FBQyxFQUFFLENBQUNsRCxDQUFDLEVBQUVrRCxNQUFNLENBQUMsRUFBRSxDQUFDaEQsQ0FBQztRQUNuQyxJQUFLLElBQUkyRCxJQUFJLEdBQUdBLElBQUlYLE9BQU9FLE1BQU0sRUFBRVMsSUFBSztZQUN0Q2hELElBQUlpRCxNQUFNLENBQUNaLE1BQU0sQ0FBQ1csRUFBRSxDQUFDN0QsQ0FBQyxFQUFFa0QsTUFBTSxDQUFDVyxFQUFFLENBQUMzRCxDQUFDO1FBQ3JDO1FBQ0FXLElBQUlpQyxXQUFXLEdBQUc7UUFDbEJqQyxJQUFJa0MsU0FBUyxHQUFHO1FBQ2hCbEMsSUFBSW1DLE1BQU07SUFDWjtBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1lLHlCQUF5QjtJQUNwQy9DO0FBQ0YsRUFBRTtBQUVGLHlDQUF5QztBQUN6QyxNQUFNZ0Qsa0JBQWtCLElBQU0sTUFBTSw4REFBOEQ7QUFFbEcsaUVBQWVBLGVBQWVBLEVBQUMiLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENhbGlicmF0ZVBvaW50cy5qc3hcbi8vIFV0aWxpdHkgZm9yIGdlbmVyYXRpbmcgYW5kIG1hbmFnaW5nIGNhbGlicmF0aW9uIHBvaW50cyBvbiBhIGNhbnZhc1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIEdldCBjYW52YXMgbWFuYWdlbWVudCB1dGlsaXRpZXMgZnJvbSBnbG9iYWwgc2NvcGUgKGZyb20gYWN0aW9uQnV0dG9uLmpzKVxuICogQHJldHVybnMge09iamVjdH0gQ2FudmFzIHV0aWxpdGllcyBvYmplY3RcbiAqL1xuY29uc3QgZ2V0Q2FudmFzVXRpbHMgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB7XG4gICAgICBjYW52YXNVdGlsczogd2luZG93LmNhbnZhc1V0aWxzLFxuICAgICAgY2FudmFzTWFuYWdlcjogd2luZG93LmNhbnZhc01hbmFnZXJcbiAgICB9O1xuICB9XG4gIHJldHVybiB7IGNhbnZhc1V0aWxzOiBudWxsLCBjYW52YXNNYW5hZ2VyOiBudWxsIH07XG59O1xuXG4vKipcbiAqIEdldCBvciBjcmVhdGUgY2FudmFzIHVzaW5nIHRoZSBjYW52YXMgbWFuYWdlbWVudCBzeXN0ZW0gZnJvbSBhY3Rpb25CdXR0b24uanNcbiAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzIGVsZW1lbnRcbiAqL1xuY29uc3QgZ2V0Q2FudmFzID0gKCkgPT4ge1xuICBjb25zdCB7IGNhbnZhc1V0aWxzLCBjYW52YXNNYW5hZ2VyIH0gPSBnZXRDYW52YXNVdGlscygpO1xuICBcbiAgLy8gRmlyc3QgdHJ5IHRvIHVzZSBjYW52YXNVdGlscyBmcm9tIGFjdGlvbkJ1dHRvbi5qc1xuICBpZiAoY2FudmFzVXRpbHMgJiYgdHlwZW9mIGNhbnZhc1V0aWxzLmdldENhbnZhcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBjYW52YXNVdGlscy5nZXRDYW52YXMoKTtcbiAgfVxuICBcbiAgLy8gRmFsbGJhY2sgdG8gY2FudmFzTWFuYWdlclxuICBpZiAoY2FudmFzTWFuYWdlciAmJiB0eXBlb2YgY2FudmFzTWFuYWdlci5nZXRDYW52YXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY2FudmFzTWFuYWdlci5nZXRDYW52YXMoKSB8fCBjYW52YXNNYW5hZ2VyLmNyZWF0ZUNhbnZhcygpO1xuICB9XG4gIFxuICAvLyBGYWxsYmFjayB0byBkaXJlY3QgcXVlcnlcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0cmFja2luZy1jYW52YXMnKTtcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIGNhbnZhcyBjb29yZGluYXRlcyB0byB2aWV3cG9ydCBjb29yZGluYXRlcyB3aGVuIGluIGZ1bGxzY3JlZW5cbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIENhbnZhcyBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgLSB7eCwgeX0gcG9pbnQgY29vcmRpbmF0ZXNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRyYW5zZm9ybWVkIHBvaW50IGNvb3JkaW5hdGVzXG4gKi9cbmNvbnN0IHRyYW5zZm9ybUNvb3JkaW5hdGVzID0gKGNhbnZhcywgcG9pbnQpID0+IHtcbiAgaWYgKCFjYW52YXMgfHwgIXBvaW50KSByZXR1cm4gcG9pbnQ7XG4gIFxuICAvLyBDaGVjayBpZiBjYW52YXMgaXMgaW4gZnVsbHNjcmVlbiBtb2RlXG4gIGNvbnN0IGlzRnVsbHNjcmVlbiA9IGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAoY2FudmFzLnN0eWxlLndpZHRoID09PSAnMTAwdncnIHx8IGNhbnZhcy5zdHlsZS53aWR0aCA9PT0gJzEwMCUnKTtcbiAgXG4gIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICAvLyBHZXQgdGhlIGNhbnZhcydzIGJvdW5kaW5nIHJlY3QgdG8gdW5kZXJzdGFuZCBpdHMgcG9zaXRpb24gaW4gdGhlIHZpZXdwb3J0XG4gICAgY29uc3QgY2FudmFzUmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvcnNcbiAgICBjb25zdCBzY2FsZVggPSBjYW52YXNSZWN0LndpZHRoIC8gY2FudmFzLndpZHRoO1xuICAgIGNvbnN0IHNjYWxlWSA9IGNhbnZhc1JlY3QuaGVpZ2h0IC8gY2FudmFzLmhlaWdodDtcbiAgICBcbiAgICAvLyBUcmFuc2Zvcm0gdGhlIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgdHJhbnNmb3JtZWRQb2ludCA9IHtcbiAgICAgIHg6IHBvaW50LnggKiBzY2FsZVggKyBjYW52YXNSZWN0LmxlZnQsXG4gICAgICB5OiBwb2ludC55ICogc2NhbGVZICsgY2FudmFzUmVjdC50b3AsXG4gICAgICBsYWJlbDogcG9pbnQubGFiZWxcbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdDb29yZGluYXRlIHRyYW5zZm9ybWF0aW9uIGluIENhbGlicmF0ZVBvaW50czonLCB7XG4gICAgICBvcmlnaW5hbDogcG9pbnQsXG4gICAgICB0cmFuc2Zvcm1lZDogdHJhbnNmb3JtZWRQb2ludCxcbiAgICAgIGNhbnZhc1JlY3QsXG4gICAgICBzY2FsZTogeyB4OiBzY2FsZVgsIHk6IHNjYWxlWSB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkUG9pbnQ7XG4gIH1cbiAgXG4gIC8vIElmIG5vdCBmdWxsc2NyZWVuLCByZXR1cm4gb3JpZ2luYWwgY29vcmRpbmF0ZXNcbiAgcmV0dXJuIHBvaW50O1xufTtcblxuLyoqXG4gKiBEcmF3IGRvdCB1c2luZyB0aGUgY2FudmFzIG1hbmFnZW1lbnQgc3lzdGVtXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFggY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBEb3QgcmFkaXVzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gU3VjY2VzcyBzdGF0dXNcbiAqL1xuY29uc3QgZHJhd0RvdFdpdGhDYW52YXNNYW5hZ2VyID0gKHgsIHksIHJhZGl1cyA9IDEyKSA9PiB7XG4gIGNvbnN0IHsgY2FudmFzVXRpbHMgfSA9IGdldENhbnZhc1V0aWxzKCk7XG4gIFxuICBpZiAoY2FudmFzVXRpbHMgJiYgdHlwZW9mIGNhbnZhc1V0aWxzLmRyYXdEb3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gY2FudmFzVXRpbHMuZHJhd0RvdCh4LCB5LCByYWRpdXMpO1xuICB9XG4gIFxuICAvLyBGYWxsYmFjazogbWFudWFsbHkgZHJhdyBkb3RcbiAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gIGlmIChjYW52YXMpIHtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBkcmF3Q2FsaWJyYXRpb25Qb2ludExlZ2FjeShjdHgsIHgsIHksIHJhZGl1cyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBDbGVhciBjYW52YXMgdXNpbmcgdGhlIGNhbnZhcyBtYW5hZ2VtZW50IHN5c3RlbVxuICovXG5jb25zdCBjbGVhckNhbnZhc1dpdGhNYW5hZ2VyID0gKCkgPT4ge1xuICBjb25zdCB7IGNhbnZhc1V0aWxzLCBjYW52YXNNYW5hZ2VyIH0gPSBnZXRDYW52YXNVdGlscygpO1xuICBcbiAgaWYgKGNhbnZhc1V0aWxzICYmIHR5cGVvZiBjYW52YXNVdGlscy5jbGVhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbnZhc1V0aWxzLmNsZWFyKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBpZiAoY2FudmFzTWFuYWdlciAmJiB0eXBlb2YgY2FudmFzTWFuYWdlci5jbGVhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbnZhc01hbmFnZXIuY2xlYXIoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIC8vIEZhbGxiYWNrOiBtYW51YWxseSBjbGVhciBjYW52YXNcbiAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gIGlmIChjYW52YXMpIHtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2VuZXJhdGUgYSBncmlkIG9mIGNhbGlicmF0aW9uIHBvaW50cyBiYXNlZCBvbiBjYW52YXMgZGltZW5zaW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gQ2FudmFzIHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gQ2FudmFzIGhlaWdodFxuICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBwb2ludCBvYmplY3RzIHdpdGggeCx5IGNvb3JkaW5hdGVzXG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzID0gKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0IHx8IHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApIHtcbiAgICBjb25zb2xlLmVycm9yKFwiZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50czogSW52YWxpZCBjYW52YXMgZGltZW5zaW9uc1wiLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgY29uZGl0aW9uYWxSb3VuZCA9IChkaW1lbnNpb24sIHBlcmNlbnRhZ2UpID0+IE1hdGgucm91bmQoZGltZW5zaW9uICogcGVyY2VudGFnZSk7XG5cbiAgLy8gT3V0ZXIgZnJhbWUgKDEyJSBmcm9tIGVkZ2VzKVxuICBjb25zdCB4TGVmdE91dGVyID0gY29uZGl0aW9uYWxSb3VuZCh3aWR0aCwgMC4xMik7XG4gIGNvbnN0IHhSaWdodE91dGVyID0gd2lkdGggLSB4TGVmdE91dGVyO1xuICBjb25zdCB5VG9wT3V0ZXIgPSBjb25kaXRpb25hbFJvdW5kKGhlaWdodCwgMC4xMik7XG4gIGNvbnN0IHlCb3R0b21PdXRlciA9IGhlaWdodCAtIHlUb3BPdXRlcjtcblxuICAvLyBJbm5lciBmcmFtZSAoMjYlIGZyb20gZWRnZXMpXG4gIGNvbnN0IHhMZWZ0SW5uZXIgPSBjb25kaXRpb25hbFJvdW5kKHdpZHRoLCAwLjI2KTtcbiAgY29uc3QgeFJpZ2h0SW5uZXIgPSB3aWR0aCAtIHhMZWZ0SW5uZXI7XG4gIGNvbnN0IHlUb3BJbm5lciA9IGNvbmRpdGlvbmFsUm91bmQoaGVpZ2h0LCAwLjI2KTtcbiAgY29uc3QgeUJvdHRvbUlubmVyID0gaGVpZ2h0IC0geVRvcElubmVyO1xuXG4gIGNvbnN0IHhDZW50ZXIgPSBNYXRoLmZsb29yKHdpZHRoIC8gMik7XG4gIGNvbnN0IHlDZW50ZXIgPSBNYXRoLmZsb29yKGhlaWdodCAvIDIpO1xuXG4gIHJldHVybiBbXG4gICAgLy8gT3V0ZXIgZnJhbWUgKDggcG9pbnRzKVxuICAgIHsgeDogeExlZnRPdXRlciwgeTogeVRvcE91dGVyLCBsYWJlbDogXCJPdXRlciBUb3AtTGVmdFwiIH0sXG4gICAgeyB4OiB4Q2VudGVyLCB5OiB5VG9wT3V0ZXIsIGxhYmVsOiBcIk91dGVyIFRvcC1DZW50ZXJcIiB9LFxuICAgIHsgeDogeFJpZ2h0T3V0ZXIsIHk6IHlUb3BPdXRlciwgbGFiZWw6IFwiT3V0ZXIgVG9wLVJpZ2h0XCIgfSxcbiAgICB7IHg6IHhMZWZ0T3V0ZXIsIHk6IHlDZW50ZXIsIGxhYmVsOiBcIk91dGVyIE1pZGRsZS1MZWZ0XCIgfSxcbiAgICB7IHg6IHhSaWdodE91dGVyLCB5OiB5Q2VudGVyLCBsYWJlbDogXCJPdXRlciBNaWRkbGUtUmlnaHRcIiB9LFxuICAgIHsgeDogeExlZnRPdXRlciwgeTogeUJvdHRvbU91dGVyLCBsYWJlbDogXCJPdXRlciBCb3R0b20tTGVmdFwiIH0sXG4gICAgeyB4OiB4Q2VudGVyLCB5OiB5Qm90dG9tT3V0ZXIsIGxhYmVsOiBcIk91dGVyIEJvdHRvbS1DZW50ZXJcIiB9LFxuICAgIHsgeDogeFJpZ2h0T3V0ZXIsIHk6IHlCb3R0b21PdXRlciwgbGFiZWw6IFwiT3V0ZXIgQm90dG9tLVJpZ2h0XCIgfSxcblxuICAgIC8vIElubmVyIGZyYW1lICg4IHBvaW50cylcbiAgICB7IHg6IHhMZWZ0SW5uZXIsIHk6IHlUb3BJbm5lciwgbGFiZWw6IFwiSW5uZXIgVG9wLUxlZnRcIiB9LFxuICAgIHsgeDogeENlbnRlciwgeTogeVRvcElubmVyLCBsYWJlbDogXCJJbm5lciBUb3AtQ2VudGVyXCIgfSxcbiAgICB7IHg6IHhSaWdodElubmVyLCB5OiB5VG9wSW5uZXIsIGxhYmVsOiBcIklubmVyIFRvcC1SaWdodFwiIH0sXG4gICAgeyB4OiB4TGVmdElubmVyLCB5OiB5Q2VudGVyLCBsYWJlbDogXCJJbm5lciBNaWRkbGUtTGVmdFwiIH0sXG4gICAgeyB4OiB4UmlnaHRJbm5lciwgeTogeUNlbnRlciwgbGFiZWw6IFwiSW5uZXIgTWlkZGxlLVJpZ2h0XCIgfSxcbiAgICB7IHg6IHhMZWZ0SW5uZXIsIHk6IHlCb3R0b21Jbm5lciwgbGFiZWw6IFwiSW5uZXIgQm90dG9tLUxlZnRcIiB9LFxuICAgIHsgeDogeENlbnRlciwgeTogeUJvdHRvbUlubmVyLCBsYWJlbDogXCJJbm5lciBCb3R0b20tQ2VudGVyXCIgfSxcbiAgICB7IHg6IHhSaWdodElubmVyLCB5OiB5Qm90dG9tSW5uZXIsIGxhYmVsOiBcIklubmVyIEJvdHRvbS1SaWdodFwiIH1cbiAgXTtcbn07XG5cbi8qKlxuICogRHJhdyBhIGNhbGlicmF0aW9uIHBvaW50IG9uIGEgY2FudmFzIHVzaW5nIHRoZSBjYW52YXMgbWFuYWdlbWVudCBzeXN0ZW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25hbCBzZXR0aW5ncyAoY29sb3IsIHJhZGl1cylcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBvaW50IHBvc2l0aW9uIG9iamVjdCB7eCwgeX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRyYXdDYWxpYnJhdGlvblBvaW50ID0gKHgsIHksIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCByYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCAxMjsgLy8gVXNlIHN0YW5kYXJkIHJhZGl1c1xuICBjb25zdCBzdWNjZXNzID0gZHJhd0RvdFdpdGhDYW52YXNNYW5hZ2VyKHgsIHksIHJhZGl1cyk7XG4gIHJldHVybiB7IHgsIHksIHN1Y2Nlc3MgfTtcbn07XG5cbi8qKlxuICogTGVnYWN5IGZ1bmN0aW9uIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IChkcmF3cyBkaXJlY3RseSBvbiBjYW52YXMgY29udGV4dClcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBDYW52YXMgMkQgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBYIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gWSBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gRG90IHJhZGl1c1xuICogQHJldHVybnMge09iamVjdH0gUG9pbnQgcG9zaXRpb24gb2JqZWN0IHt4LCB5fVxuICovXG5leHBvcnQgY29uc3QgZHJhd0NhbGlicmF0aW9uUG9pbnRMZWdhY3kgPSAoY3R4LCB4LCB5LCByYWRpdXMgPSAxMikgPT4ge1xuICBpZiAoIWN0eCkgcmV0dXJuIHsgeCwgeSB9O1xuXG4gIGNvbnN0IGNhbnZhcyA9IGN0eC5jYW52YXM7XG4gIFxuICAvLyBDbGVhciB0aGUgY2FudmFzXG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgY3R4LmZpbGxTdHlsZSA9ICd5ZWxsb3cnO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAvLyBEcmF3IHRoZSBkb3Qgd2l0aCBhIGJyaWdodCByZWQgY29sb3JcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XG4gIGN0eC5maWxsKCk7XG4gIFxuICAvLyBBZGQgZ2xvdyBlZmZlY3QgZm9yIGJldHRlciB2aXNpYmlsaXR5XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyh4LCB5LCByYWRpdXMgKyAzLCAwLCBNYXRoLlBJICogMik7XG4gIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC41KSc7XG4gIGN0eC5saW5lV2lkdGggPSAzO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICAvLyBBZGQgYSBzZWNvbmQgbGFyZ2VyIGdsb3cgZm9yIGV2ZW4gYmV0dGVyIHZpc2liaWxpdHlcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKHgsIHksIHJhZGl1cyArIDYsIDAsIE1hdGguUEkgKiAyKTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAwLCAwLCAwLjMpJztcbiAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gIGN0eC5zdHJva2UoKTtcblxuICBjb25zb2xlLmxvZyhgRHJldyBjYWxpYnJhdGlvbiBwb2ludCBhdCAoJHt4fSwgJHt5fSkgd2l0aCByYWRpdXMgJHtyYWRpdXN9YCk7XG4gIHJldHVybiB7IHgsIHkgfTtcbn07XG5cbi8qKlxuICogRHJhdyBhbGwgY2FsaWJyYXRpb24gcG9pbnRzIG9uIGEgY2FudmFzIChmb3IgZGVidWdnaW5nL3Zpc3VhbGl6YXRpb24pXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludHMgLSBBcnJheSBvZiBwb2ludCBvYmplY3RzXG4gKiBAcGFyYW0ge251bWJlcn0gYWN0aXZlSW5kZXggLSBJbmRleCBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBwb2ludFxuICovXG5leHBvcnQgY29uc3QgZHJhd0NhbGlicmF0aW9uR3JpZCA9IChwb2ludHMsIGFjdGl2ZUluZGV4ID0gLTEpID0+IHtcbiAgaWYgKCFwb2ludHMgfHwgIXBvaW50cy5sZW5ndGgpIHJldHVybjtcblxuICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY2xlYXJDYW52YXNXaXRoTWFuYWdlcigpO1xuXG4gIHBvaW50cy5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGluZGV4ID09PSBhY3RpdmVJbmRleDtcbiAgICBjb25zdCByYWRpdXMgPSBpc0FjdGl2ZSA/IDEyIDogNjsgLy8gVXNlIHN0YW5kYXJkIHJhZGl1cyBmb3IgYWN0aXZlLCBzbWFsbGVyIGZvciBpbmFjdGl2ZVxuXG4gICAgLy8gRHJhdyB0aGUgcG9pbnRcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhwb2ludC54LCBwb2ludC55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbFN0eWxlID0gaXNBY3RpdmUgPyAncmVkJyA6ICdyZ2JhKDAsIDEwMiwgMjA0LCAwLjcpJztcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgLy8gQWRkIGdsb3cgZWZmZWN0IGZvciBhY3RpdmUgcG9pbnRzXG4gICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHBvaW50LngsIHBvaW50LnksIHJhZGl1cyArIDMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC41KSc7XG4gICAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IHBvaW50IG51bWJlclxuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5mb250ID0gJzEwcHggQXJpYWwnO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY3R4LmZpbGxUZXh0KGAke2luZGV4ICsgMX1gLCBwb2ludC54LCBwb2ludC55KTtcblxuICAgIC8vIERyYXcgbGFiZWwgZm9yIGFjdGl2ZSBwb2ludFxuICAgIGlmIChpc0FjdGl2ZSAmJiBwb2ludC5sYWJlbCkge1xuICAgICAgY3R4LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGN0eC5maWxsVGV4dChwb2ludC5sYWJlbCwgcG9pbnQueCwgcG9pbnQueSAtIDI1KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIERyYXcgY29ubmVjdGluZyBsaW5lcyAob3B0aW9uYWwpXG4gIGlmIChwb2ludHMubGVuZ3RoID4gMSkge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKHBvaW50c1swXS54LCBwb2ludHNbMF0ueSk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN0eC5saW5lVG8ocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTtcbiAgICB9XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwgMTAyLCAyMDQsIDAuMyknO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDbGVhciBhbGwgY2FsaWJyYXRpb24gcG9pbnRzIGZyb20gY2FudmFzXG4gKi9cbmV4cG9ydCBjb25zdCBjbGVhckNhbGlicmF0aW9uUG9pbnRzID0gKCkgPT4ge1xuICBjbGVhckNhbnZhc1dpdGhNYW5hZ2VyKCk7XG59O1xuXG4vLyBEZWZhdWx0IGV4cG9ydCBmb3IgUmVhY3QgY29tcGF0aWJpbGl0eVxuY29uc3QgQ2FsaWJyYXRlUG9pbnRzID0gKCkgPT4gbnVsbDsgLy8gVGhpcyBpcyBhIHV0aWxpdHkgZmlsZSwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW5kZXIgYW55dGhpbmdcblxuZXhwb3J0IGRlZmF1bHQgQ2FsaWJyYXRlUG9pbnRzOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJnZXRDYW52YXNVdGlscyIsImNhbnZhc1V0aWxzIiwid2luZG93IiwiY2FudmFzTWFuYWdlciIsImdldENhbnZhcyIsImNyZWF0ZUNhbnZhcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRyYW5zZm9ybUNvb3JkaW5hdGVzIiwiY2FudmFzIiwicG9pbnQiLCJpc0Z1bGxzY3JlZW4iLCJzdHlsZSIsInBvc2l0aW9uIiwid2lkdGgiLCJjYW52YXNSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2NhbGVYIiwic2NhbGVZIiwiaGVpZ2h0IiwidHJhbnNmb3JtZWRQb2ludCIsIngiLCJsZWZ0IiwieSIsInRvcCIsImxhYmVsIiwiY29uc29sZSIsImxvZyIsIm9yaWdpbmFsIiwidHJhbnNmb3JtZWQiLCJzY2FsZSIsImRyYXdEb3RXaXRoQ2FudmFzTWFuYWdlciIsInJhZGl1cyIsImRyYXdEb3QiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0NhbGlicmF0aW9uUG9pbnRMZWdhY3kiLCJjbGVhckNhbnZhc1dpdGhNYW5hZ2VyIiwiY2xlYXIiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMiLCJlcnJvciIsImNvbmRpdGlvbmFsUm91bmQiLCJkaW1lbnNpb24iLCJwZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwieExlZnRPdXRlciIsInhSaWdodE91dGVyIiwieVRvcE91dGVyIiwieUJvdHRvbU91dGVyIiwieExlZnRJbm5lciIsInhSaWdodElubmVyIiwieVRvcElubmVyIiwieUJvdHRvbUlubmVyIiwieENlbnRlciIsImZsb29yIiwieUNlbnRlciIsImRyYXdDYWxpYnJhdGlvblBvaW50Iiwib3B0aW9ucyIsInN1Y2Nlc3MiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImZpbGwiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsImRyYXdDYWxpYnJhdGlvbkdyaWQiLCJwb2ludHMiLCJhY3RpdmVJbmRleCIsImxlbmd0aCIsImZvckVhY2giLCJpbmRleCIsImlzQWN0aXZlIiwiZm9udCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwibW92ZVRvIiwiaSIsImxpbmVUbyIsImNsZWFyQ2FsaWJyYXRpb25Qb2ludHMiLCJDYWxpYnJhdGVQb2ludHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.jsx\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.jsx":
/*!**********************************************************************!*\
  !*** ./components/collected-dataset-customized/Action/countSave.jsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calibrationCapture: () => (/* binding */ calibrationCapture),\n/* harmony export */   captureAndPreviewProcess: () => (/* binding */ captureAndPreviewProcess),\n/* harmony export */   captureImages: () => (/* binding */ captureImages),\n/* harmony export */   createCountdownElement: () => (/* binding */ createCountdownElement),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   drawRedDot: () => (/* binding */ drawRedDot),\n/* harmony export */   getRandomPosition: () => (/* binding */ getRandomPosition),\n/* harmony export */   runCountdown: () => (/* binding */ runCountdown),\n/* harmony export */   showCapturePreview: () => (/* binding */ showCapturePreview)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Helper_savefile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\");\n// Fixed countSave.jsx - Resolving redrawInterval reference error\n// Shared functionality for countdown and image capture processes\n\n\n/**\n * Get canvas management utilities from global scope (from actionButton.js)\n * @returns {Object} Canvas utilities object\n */ const getCanvasUtils = ()=>{\n    if (false) {}\n    return {\n        canvasUtils: null,\n        canvasManager: null\n    };\n};\n/**\n * Get or create canvas using the canvas management system from actionButton.js\n * @returns {HTMLCanvasElement} Canvas element\n */ const getCanvas = ()=>{\n    const { canvasUtils, canvasManager } = getCanvasUtils();\n    // First try to use canvasUtils from actionButton.js\n    if (canvasUtils && typeof canvasUtils.getCanvas === 'function') {\n        return canvasUtils.getCanvas();\n    }\n    // Fallback to canvasManager\n    if (canvasManager && typeof canvasManager.getCanvas === 'function') {\n        return canvasManager.getCanvas() || canvasManager.createCanvas();\n    }\n    // Fallback to direct query\n    return document.querySelector('#tracking-canvas');\n};\n/**\n * Draw dot using the canvas management system\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} radius - Dot radius\n * @returns {boolean} Success status\n */ const drawDotWithCanvasManager = (x, y, radius = 12)=>{\n    const { canvasUtils } = getCanvasUtils();\n    if (canvasUtils && typeof canvasUtils.drawDot === 'function') {\n        return canvasUtils.drawDot(x, y, radius);\n    }\n    // Fallback: manually draw dot\n    const canvas = getCanvas();\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        drawRedDot(ctx, x, y, radius, false);\n        return true;\n    }\n    return false;\n};\n/**\n * Creates and displays a countdown element above a dot position\n * @param {Object} position - {x, y} position of the dot\n * @param {DOMRect} canvasRect - getBoundingClientRect() of the canvas\n * @returns {HTMLElement} - The created countdown element\n */ const createCountdownElement = (position, canvasRect)=>{\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[createCountdownElement] Invalid position:', position);\n        return null;\n    }\n    // Remove any existing countdown elements\n    const existingCountdowns = document.querySelectorAll('.calibrate-countdown, .forced-countdown, .center-countdown-backup, .dot-countdown, .test-countdown');\n    existingCountdowns.forEach((el)=>{\n        console.log('Removing existing countdown element:', el);\n        if (el.parentNode) {\n            el.parentNode.removeChild(el);\n        }\n    });\n    // Get canvas to check if we need coordinate transformation\n    const canvas = getCanvas();\n    let displayPosition = position;\n    if (canvas) {\n        // Check if canvas is in fullscreen mode\n        const isFullscreen = canvas.style.position === 'fixed' && (canvas.style.width === '100vw' || canvas.style.width === '100%');\n        displayPosition = {\n            x: position.x,\n            y: position.y\n        };\n    // if (isFullscreen) {\n    //   // Canvas is in fullscreen mode, use direct coordinates\n    //   displayPosition = {\n    //     x: position.x,\n    //     y: position.y\n    //   };\n    // } else {\n    //   // Canvas is in normal mode, use canvas-relative coordinates\n    //   displayPosition = {\n    //     x: canvasRect.left + position.x,\n    //     y: canvasRect.top + position.y\n    //   };\n    // }\n    }\n    console.log('[createCountdownElement] Creating countdown at position:', {\n        original: position,\n        display: displayPosition,\n        canvasRect: canvasRect,\n        canvasFullscreen: canvas ? canvas.style.position === 'fixed' && canvas.style.width === '100vw' : false\n    });\n    // Create the main countdown element\n    const countdownElement = document.createElement('div');\n    countdownElement.className = 'dot-countdown';\n    countdownElement.style.cssText = `\n    position: fixed;\n    left: ${displayPosition.x}px;\n    top: ${displayPosition.y - 80}px;\n    transform: translateX(-50%);\n    color: red;\n    font-size: 64px;\n    font-weight: bold;\n    text-shadow: 0 0 20px white, 0 0 30px white, 0 0 40px white;\n    z-index: 30;\n    background-color: rgba(255, 255, 255, 0.98);\n    border: 4px solid red;\n    border-radius: 50%;\n    width: 100px;\n    height: 100px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow: 0 0 30px rgba(0, 0, 0, 0.7), 0 0 50px rgba(255, 0, 0, 0.5);\n    animation: countdownPulse 1s infinite;\n    pointer-events: none;\n    user-select: none;\n  `;\n    // Add CSS animation for pulse effect\n    if (!document.querySelector('#countdown-styles')) {\n        const style = document.createElement('style');\n        style.id = 'countdown-styles';\n        style.textContent = `\n      @keyframes countdownPulse {\n        0% { transform: translateX(-50%) scale(1); }\n        50% { transform: translateX(-50%) scale(1.1); }\n        100% { transform: translateX(-50%) scale(1); }\n      }\n    `;\n        document.head.appendChild(style);\n    }\n    document.body.appendChild(countdownElement);\n    console.log('createCountdownElement created at:', {\n        originalPosition: position,\n        displayPosition,\n        canvasRect,\n        canvasInfo: canvas ? {\n            position: canvas.style.position,\n            width: canvas.style.width,\n            height: canvas.style.height,\n            rect: canvas.getBoundingClientRect()\n        } : null\n    });\n    // Add a temporary visual indicator to show where the countdown is positioned\n    const indicator = document.createElement('div');\n    indicator.style.cssText = `\n    position: fixed;\n    left: ${displayPosition.x}px;\n    top: ${displayPosition.y}px;\n    width: 10px;\n    height: 10px;\n    background-color: blue;\n    border-radius: 50%;\n    z-index: 20;\n    pointer-events: none;\n  `;\n    document.body.appendChild(indicator);\n    // Remove indicator after 2 seconds\n    setTimeout(()=>{\n        if (indicator.parentNode) {\n            indicator.parentNode.removeChild(indicator);\n        }\n    }, 2000);\n    return countdownElement;\n};\n/**\n * Display a preview of the captured images\n * @param {string} screenImage - Data URL of the screen image\n * @param {string} webcamImage - Data URL of the webcam image\n * @param {Object} point - {x, y} position of the dot\n */ const showCapturePreview = (screenImage, webcamImage, point)=>{\n    if (!screenImage && !webcamImage) return;\n    // Remove any existing previews\n    const existingPreviews = document.querySelectorAll('.capture-preview-container');\n    existingPreviews.forEach((preview)=>{\n        if (preview.parentNode) {\n            preview.parentNode.removeChild(preview);\n        }\n    });\n    // Create preview container\n    const previewContainer = document.createElement('div');\n    previewContainer.className = 'capture-preview-container';\n    previewContainer.style.cssText = `\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    gap: 20px;\n    background-color: rgba(0, 0, 0, 0.85);\n    padding: 20px;\n    border-radius: 12px;\n    z-index: 20;\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);\n  `;\n    // Add screen image if available\n    if (screenImage) {\n        const screenPreview = document.createElement('div');\n        screenPreview.style.cssText = `\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    `;\n        const screenImg = document.createElement('img');\n        screenImg.src = screenImage;\n        screenImg.alt = 'Screen Capture';\n        screenImg.style.cssText = `\n      max-width: 320px;\n      max-height: 240px;\n      border: 3px solid white;\n      border-radius: 8px;\n      background-color: #333;\n    `;\n        const screenLabel = document.createElement('div');\n        screenLabel.textContent = 'Screen Capture';\n        screenLabel.style.cssText = `\n      color: white;\n      font-size: 14px;\n      margin-top: 10px;\n      font-weight: bold;\n    `;\n        screenPreview.appendChild(screenImg);\n        screenPreview.appendChild(screenLabel);\n        previewContainer.appendChild(screenPreview);\n    }\n    // Add webcam image if available\n    if (webcamImage) {\n        const webcamPreview = document.createElement('div');\n        webcamPreview.style.cssText = `\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    `;\n        const webcamImg = document.createElement('img');\n        webcamImg.src = webcamImage;\n        webcamImg.alt = 'Webcam Capture';\n        webcamImg.style.cssText = `\n      max-width: 320px;\n      max-height: 240px;\n      border: 3px solid white;\n      border-radius: 8px;\n      background-color: #333;\n    `;\n        const webcamLabel = document.createElement('div');\n        webcamLabel.textContent = 'Webcam Capture';\n        webcamLabel.style.cssText = `\n      color: white;\n      font-size: 14px;\n      margin-top: 10px;\n      font-weight: bold;\n    `;\n        webcamPreview.appendChild(webcamImg);\n        webcamPreview.appendChild(webcamLabel);\n        previewContainer.appendChild(webcamPreview);\n    }\n    // Add point info\n    if (point) {\n        const pointInfo = document.createElement('div');\n        pointInfo.textContent = point.label ? `${point.label}: x=${Math.round(point.x)}, y=${Math.round(point.y)}` : `Point: x=${Math.round(point.x)}, y=${Math.round(point.y)}`;\n        pointInfo.style.cssText = `\n      color: #ffcc00;\n      font-size: 14px;\n      position: absolute;\n      top: -40px;\n      left: 0;\n      width: 100%;\n      text-align: center;\n    `;\n        previewContainer.appendChild(pointInfo);\n    }\n    // Add timer\n    const timerElement = document.createElement('div');\n    timerElement.textContent = '2.0s';\n    timerElement.style.cssText = `\n    position: absolute;\n    bottom: -25px;\n    right: 20px;\n    color: white;\n    font-size: 12px;\n    background-color: rgba(0, 0, 0, 0.7);\n    padding: 3px 8px;\n    border-radius: 4px;\n  `;\n    previewContainer.appendChild(timerElement);\n    // Add to document\n    document.body.appendChild(previewContainer);\n    // Countdown\n    let timeLeft = 2.0;\n    const interval = setInterval(()=>{\n        timeLeft -= 0.1;\n        if (timeLeft <= 0) {\n            clearInterval(interval);\n            previewContainer.style.opacity = '0';\n            previewContainer.style.transition = 'opacity 0.3s ease';\n            setTimeout(()=>{\n                if (previewContainer.parentNode) {\n                    previewContainer.parentNode.removeChild(previewContainer);\n                }\n            }, 300);\n        } else {\n            timerElement.textContent = `${timeLeft.toFixed(1)}s`;\n        }\n    }, 100);\n    // Safety cleanup\n    setTimeout(()=>{\n        if (previewContainer.parentNode) {\n            previewContainer.parentNode.removeChild(previewContainer);\n        }\n    }, 5000);\n};\n/**\n * Runs a countdown process that displays 3-2-1 above a dot\n * @param {Object} position - {x, y} position of the dot\n * @param {HTMLCanvasElement} canvas - Canvas element with the dot\n * @param {Function} onStatusUpdate - Function to update status messages\n * @param {Function} onComplete - Callback to execute when countdown completes\n */ const runCountdown = async (position, canvas, onStatusUpdate, onComplete)=>{\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[runCountdown] Invalid position:', position);\n        onStatusUpdate?.({\n            processStatus: \"Invalid dot position\",\n            countdownValue: null,\n            isCapturing: false\n        });\n        return;\n    }\n    const canvasRect = canvas.getBoundingClientRect();\n    const countdownElement = createCountdownElement(position, canvasRect);\n    if (!countdownElement) {\n        console.warn('[runCountdown] Countdown element could not be created.');\n        return;\n    }\n    // Get the backup countdown element\n    const backupCountdown = document.querySelector('.backup-countdown');\n    // Use canvas management system to draw dot\n    drawDotWithCanvasManager(position.x, position.y);\n    let count = 3;\n    countdownElement.textContent = count;\n    if (backupCountdown) {\n        backupCountdown.textContent = count;\n    }\n    onStatusUpdate?.({\n        processStatus: \"Countdown\",\n        countdownValue: count,\n        isCapturing: true\n    });\n    // Create redrawInterval for keeping dot visible during countdown\n    let redrawInterval = setInterval(()=>{\n        drawDotWithCanvasManager(position.x, position.y);\n    }, 200);\n    return new Promise((resolve)=>{\n        const countdownInterval = setInterval(()=>{\n            count--;\n            if (count <= 0) {\n                clearInterval(countdownInterval);\n                countdownElement.textContent = \"✓\";\n                if (backupCountdown) {\n                    backupCountdown.textContent = \"✓\";\n                }\n                onStatusUpdate?.({\n                    countdownValue: \"Capturing...\",\n                    processStatus: \"Capturing image...\",\n                    isCapturing: true\n                });\n                setTimeout(()=>{\n                    // Remove both countdown elements\n                    if (countdownElement.parentNode) {\n                        countdownElement.parentNode.removeChild(countdownElement);\n                    }\n                    if (backupCountdown && backupCountdown.parentNode) {\n                        backupCountdown.parentNode.removeChild(backupCountdown);\n                    }\n                    drawDotWithCanvasManager(position.x, position.y);\n                    // Clear the redrawInterval we defined above\n                    if (redrawInterval) {\n                        clearInterval(redrawInterval);\n                    }\n                    if (onComplete) {\n                        drawDotWithCanvasManager(position.x, position.y);\n                        onComplete();\n                    }\n                    resolve();\n                }, 300);\n            } else {\n                countdownElement.textContent = count;\n                if (backupCountdown) {\n                    backupCountdown.textContent = count;\n                }\n                onStatusUpdate?.({\n                    processStatus: \"Countdown\",\n                    countdownValue: count,\n                    isCapturing: true\n                });\n            }\n        }, 800);\n    });\n};\n/**\n * Draw a red dot on the canvas (legacy function for backward compatibility)\n * @param {CanvasRenderingContext2D} ctx - Canvas 2D context\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} radius - Dot radius\n * @param {boolean} clearCanvas - Whether to clear the canvas before drawing (default: true)\n * @returns {Object} - {x, y} position\n */ const drawRedDot = (ctx, x, y, radius = 12, clearCanvas = true)=>{\n    const canvas = ctx.canvas;\n    // Clear the canvas if requested (default behavior)\n    if (clearCanvas) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'yellow';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    // Draw the dot with a bright red color\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.fillStyle = 'red';\n    ctx.fill();\n    // Add glow effect for better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 3, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.lineWidth = 3;\n    ctx.stroke();\n    // Add a second larger glow for even better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 6, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.3)';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    console.log(`Drew red dot at (${x}, ${y}) with radius ${radius}`);\n    return {\n        x,\n        y\n    };\n};\n/**\n * Get highest resolution camera constraints\n * @returns {Promise<Object>} - Camera constraints\n */ const getHighestResolutionConstraints = async ()=>{\n    try {\n        // Get all video input devices\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const videoDevices = devices.filter((device)=>device.kind === 'videoinput');\n        if (videoDevices.length === 0) {\n            console.warn('No video devices found, using default constraints');\n            return {\n                video: true\n            };\n        }\n        // Try to get capabilities for the first video device\n        const stream = await navigator.mediaDevices.getUserMedia({\n            video: true\n        });\n        const videoTrack = stream.getVideoTracks()[0];\n        if (!videoTrack.getCapabilities) {\n            console.warn('getCapabilities not supported, using default constraints');\n            stream.getTracks().forEach((track)=>track.stop());\n            return {\n                video: true\n            };\n        }\n        const capabilities = videoTrack.getCapabilities();\n        stream.getTracks().forEach((track)=>track.stop());\n        if (!capabilities.width || !capabilities.height) {\n            console.warn('No width/height capabilities, using default constraints');\n            return {\n                video: true\n            };\n        }\n        // Get the highest resolution available\n        const maxWidth = Math.max(...capabilities.width.values);\n        const maxHeight = Math.max(...capabilities.height.values);\n        console.log(`Using highest resolution: ${maxWidth}x${maxHeight}`);\n        return {\n            video: {\n                width: {\n                    ideal: maxWidth\n                },\n                height: {\n                    ideal: maxHeight\n                },\n                frameRate: {\n                    ideal: 30\n                }\n            }\n        };\n    } catch (error) {\n        console.warn('Error getting camera constraints, using default:', error);\n        return {\n            video: true\n        };\n    }\n};\n/**\n * Capture images at a specific point\n * @param {Object} options - Capture options\n * @returns {Promise} - Promise that resolves with the capture result\n */ const captureImages = async (options)=>{\n    const { canvasRef, position, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, captureFolder = 'eye_tracking_captures' } = options;\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[captureImages] Invalid position object:', position);\n        setProcessStatus?.('Error: Invalid capture position');\n        return null;\n    }\n    try {\n        // Get highest resolution constraints\n        const constraints = await getHighestResolutionConstraints();\n        console.log('Using camera constraints:', constraints);\n        // Get a new stream with the highest resolution\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        const videoTrack = stream.getVideoTracks()[0];\n        const settings = videoTrack.getSettings();\n        console.log('Actual camera settings:', settings);\n        // Update video element with new stream\n        const videoElement = window.videoElement || document.querySelector('video');\n        if (videoElement) {\n            videoElement.srcObject = stream;\n            await videoElement.play();\n        }\n        // Call the captureImagesAtPoint with all necessary parameters\n        const result = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_1__.captureImagesAtPoint)({\n            point: position,\n            captureCount: captureCounter,\n            canvasRef,\n            setCaptureCount: setCaptureCounter,\n            showCapturePreview\n        });\n        console.log('Capture successful with ID:', result.captureId);\n        // Clean up the stream\n        stream.getTracks().forEach((track)=>track.stop());\n        return {\n            screenImage: result?.screenImage || '',\n            webcamImage: result?.webcamImage || '',\n            success: true,\n            captureId: result?.captureId,\n            resolution: {\n                width: settings.width,\n                height: settings.height\n            }\n        };\n    } catch (err) {\n        console.error('[captureImages] Unexpected error:', err);\n        setProcessStatus?.(`Error: ${err.message}`);\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: err.message\n        };\n    }\n};\n/**\n * Generate a random dot position within the canvas\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {number} padding - Padding from the edges\n * @returns {Object} - {x, y} position\n */ const getRandomPosition = (canvas, padding = 40)=>{\n    if (!canvas) return {\n        x: 100,\n        y: 100\n    }; // Fallback position\n    const width = canvas.width || 400; // Fallback if width is 0\n    const height = canvas.height || 300; // Fallback if height is 0\n    return {\n        x: Math.floor(Math.random() * (width - 2 * padding)) + padding,\n        y: Math.floor(Math.random() * (height - 2 * padding)) + padding\n    };\n};\n/**\n * Special calibration capture function that behaves like random dot capture\n * @param {Object} options - All the calibration options\n * @returns {Promise<Object>} Result object with captured data\n */ const calibrationCapture = async (options)=>{\n    const { canvasRef, point, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, captureFolder = 'eye_tracking_captures', pointIndex, totalPoints } = options;\n    try {\n        console.log(`Starting calibration capture for point ${pointIndex + 1}/${totalPoints}`);\n        // Get canvas using canvas management system\n        const canvas = getCanvas();\n        if (!canvas) {\n            console.error(\"Canvas reference is null in calibrationCapture\");\n            setProcessStatus?.(`Error: Canvas not available`);\n            return {\n                success: false\n            };\n        }\n        // Use canvas management system to draw dot\n        drawDotWithCanvasManager(point.x, point.y);\n        setProcessStatus?.(`Calibration point ${pointIndex + 1}/${totalPoints}`);\n        // Use the same countdown element creation method\n        const canvasRect = canvas.getBoundingClientRect();\n        const countdownElement = createCountdownElement(point, canvasRect);\n        if (!countdownElement) {\n            console.error(\"Failed to create countdown element\");\n            return {\n                success: false\n            };\n        }\n        // Create a redrawInterval for keeping the dot visible\n        let redrawInterval = setInterval(()=>{\n            drawDotWithCanvasManager(point.x, point.y);\n        }, 200);\n        // Run the same countdown as random dot\n        for(let count = 3; count > 0; count--){\n            countdownElement.textContent = count;\n            setProcessStatus?.(`Point ${pointIndex + 1}/${totalPoints} - countdown ${count}`);\n            // Redraw the dot at each step to ensure it remains visible\n            drawDotWithCanvasManager(point.x, point.y);\n            await new Promise((resolve)=>setTimeout(resolve, 800));\n        }\n        // Show checkmark\n        countdownElement.textContent = \"✓\";\n        // Remove countdown element\n        setTimeout(()=>{\n            if (countdownElement.parentNode) {\n                countdownElement.parentNode.removeChild(countdownElement);\n            }\n            // Clear redrawInterval\n            if (redrawInterval) {\n                clearInterval(redrawInterval);\n            }\n        }, 300);\n        // Use captureAndPreviewProcess instead of directly calling captureImagesAtPoint\n        const captureResult = await captureAndPreviewProcess({\n            canvasRef,\n            position: point,\n            captureCounter,\n            setCaptureCounter,\n            setProcessStatus: (status)=>{\n                if (typeof status === 'string') {\n                    setProcessStatus?.(status);\n                } else if (status && typeof status === 'object') {\n                    setProcessStatus?.(status.processStatus || '');\n                }\n            },\n            toggleTopBar,\n            onStatusUpdate: (status)=>{\n                if (typeof status === 'string') {\n                    setProcessStatus?.(status);\n                } else if (status && typeof status === 'object') {\n                    setProcessStatus?.(status.processStatus || '');\n                }\n            },\n            captureFolder\n        });\n        // Ensure proper return even if captureResult is null\n        const safeResult = captureResult && typeof captureResult === 'object' ? captureResult : {\n            screenImage: '',\n            webcamImage: '',\n            success: false\n        };\n        return {\n            screenImage: safeResult.screenImage || '',\n            webcamImage: safeResult.webcamImage || '',\n            success: true,\n            point\n        };\n    } catch (error) {\n        console.error(\"Error in calibrationCapture:\", error);\n        setProcessStatus?.(`Error: ${error.message}`);\n        // Always return a valid object with default values\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\n * Complete capture and preview process\n * @param {Object} options - Process options\n */ const captureAndPreviewProcess = async (options)=>{\n    const { canvasRef, position, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, onStatusUpdate, captureFolder } = options;\n    try {\n        // Get canvas using canvas management system\n        const canvas = getCanvas();\n        if (!canvas) {\n            console.error(\"[captureAndPreviewProcess] Canvas reference is null\");\n            if (setProcessStatus) setProcessStatus('Error: Canvas is not available');\n            return null;\n        }\n        // Draw the dot using canvas management system\n        drawDotWithCanvasManager(position.x, position.y);\n        // Countdown before capture\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Starting countdown...',\n                isCapturing: true\n            });\n        }\n        // Remove any existing countdown elements first\n        const existingCountdowns = document.querySelectorAll('.calibrate-countdown, .dot-countdown, .forced-countdown, .center-countdown-backup');\n        existingCountdowns.forEach((el)=>{\n            console.log('captureAndPreviewProcess: Removing existing countdown:', el);\n            el.remove();\n        });\n        // Create a custom countdown element\n        const canvasRect = canvas.getBoundingClientRect();\n        // Transform coordinates for fullscreen display\n        let displayPosition = position;\n        displayPosition = {\n            x: position.x,\n            y: position.y\n        };\n        // if (canvas.style.position === 'fixed' && canvas.style.width === '100vw') {\n        //   // Canvas is in fullscreen mode, use direct coordinates\n        //   displayPosition = {\n        //     x: position.x,\n        //     y: position.y\n        //   };\n        // } else {\n        //   // Canvas is in normal mode, use canvas-relative coordinates\n        //   displayPosition = {\n        //     x: canvasRect.left + position.x,\n        //     y: canvasRect.top + position.y\n        //   };\n        // }\n        console.log('captureAndPreviewProcess: Creating countdown at:', {\n            originalPosition: position,\n            displayPosition,\n            canvasRect,\n            canvasStyle: {\n                position: canvas.style.position,\n                width: canvas.style.width,\n                height: canvas.style.height\n            }\n        });\n        const countdownElement = document.createElement('div');\n        countdownElement.className = 'calibrate-countdown';\n        countdownElement.style.cssText = `\n      position: fixed;\n      left: ${displayPosition.x}px;\n      top: ${displayPosition.y - 60}px;\n      transform: translateX(-50%);\n      color: red;\n      font-size: 48px;\n      font-weight: bold;\n      text-shadow: 0 0 15px white, 0 0 25px white, 0 0 35px white;\n      z-index: 30;\n      background-color: rgba(255, 255, 255, 0.95);\n      border: 3px solid red;\n      border-radius: 50%;\n      width: 80px;\n      height: 80px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5), 0 0 40px rgba(255, 0, 0, 0.3);\n      animation: pulse 1s infinite;\n    `;\n        document.body.appendChild(countdownElement);\n        // Create a redrawInterval for keeping the dot visible\n        let redrawInterval = setInterval(()=>{\n            drawDotWithCanvasManager(position.x, position.y);\n        }, 200);\n        // Manual countdown\n        for(let count = 3; count > 0; count--){\n            countdownElement.textContent = count;\n            // backupCountdown.textContent = count;\n            if (onStatusUpdate) {\n                onStatusUpdate({\n                    processStatus: `Countdown: ${count}`,\n                    countdownValue: count,\n                    isCapturing: true\n                });\n            }\n            // Redraw dot to ensure it's visible\n            drawDotWithCanvasManager(position.x, position.y);\n            await new Promise((resolve)=>setTimeout(resolve, 800));\n        }\n        // Change to checkmark\n        countdownElement.textContent = \"✓\";\n        // backupCountdown.textContent = \"✓\";\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Capturing images...',\n                countdownValue: \"Capturing...\",\n                isCapturing: true\n            });\n        }\n        // Remove countdown elements and clear redrawInterval\n        setTimeout(()=>{\n            if (countdownElement.parentNode) {\n                countdownElement.parentNode.removeChild(countdownElement);\n            }\n            if (redrawInterval) {\n                clearInterval(redrawInterval);\n            }\n        }, 300);\n        // Use captureImagesAtPoint from savefile.js\n        const captureResult = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_1__.captureImagesAtPoint)({\n            point: position,\n            captureCount: captureCounter,\n            canvasRef,\n            setCaptureCount: setCaptureCounter,\n            showCapturePreview\n        });\n        if (setProcessStatus) {\n            setProcessStatus(`Captured dot at x=${Math.round(position.x)}, y=${Math.round(position.y)}`);\n        }\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Capture complete',\n                isCapturing: false\n            });\n        }\n        // Show TopBar again with delay\n        setTimeout(()=>{\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(true);\n            } else if (false) {}\n        }, 2500);\n        return captureResult;\n    } catch (error) {\n        console.error(\"[captureAndPreviewProcess] Fatal error:\", error);\n        if (setProcessStatus) {\n            setProcessStatus(`Fatal error: ${error.message}`);\n        }\n        // Ensure TopBar is shown even on error\n        setTimeout(()=>{\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(true);\n            } else if (false) {}\n        }, 1500);\n        // Return a minimal valid object to prevent null reference errors\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: error.message\n        };\n    }\n};\n// Default export for React compatibility\nconst CountSave = ()=>null; // This is a utility file, so we don't need to render anything\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CountSave);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRUFBaUU7QUFDakUsaUVBQWlFO0FBQ3ZDO0FBQ2dDO0FBRTFEOzs7Q0FHQyxHQUNELE1BQU1FLGlCQUFpQjtJQUNyQixJQUFJLEtBQTZCLEVBQUUsRUFLbEM7SUFDRCxPQUFPO1FBQUVDLGFBQWE7UUFBTUUsZUFBZTtJQUFLO0FBQ2xEO0FBRUE7OztDQUdDLEdBQ0QsTUFBTUMsWUFBWTtJQUNoQixNQUFNLEVBQUVILFdBQVcsRUFBRUUsYUFBYSxFQUFFLEdBQUdIO0lBRXZDLG9EQUFvRDtJQUNwRCxJQUFJQyxlQUFlLE9BQU9BLFlBQVlHLFNBQVMsS0FBSyxZQUFZO1FBQzlELE9BQU9ILFlBQVlHLFNBQVM7SUFDOUI7SUFFQSw0QkFBNEI7SUFDNUIsSUFBSUQsaUJBQWlCLE9BQU9BLGNBQWNDLFNBQVMsS0FBSyxZQUFZO1FBQ2xFLE9BQU9ELGNBQWNDLFNBQVMsTUFBTUQsY0FBY0UsWUFBWTtJQUNoRTtJQUVBLDJCQUEyQjtJQUMzQixPQUFPQyxTQUFTQyxhQUFhLENBQUM7QUFDaEM7QUFHQTs7Ozs7O0NBTUMsR0FDRCxNQUFNQywyQkFBMkIsQ0FBQ0MsR0FBR0MsR0FBR0MsU0FBUyxFQUFFO0lBQ2pELE1BQU0sRUFBRVYsV0FBVyxFQUFFLEdBQUdEO0lBRXhCLElBQUlDLGVBQWUsT0FBT0EsWUFBWVcsT0FBTyxLQUFLLFlBQVk7UUFDNUQsT0FBT1gsWUFBWVcsT0FBTyxDQUFDSCxHQUFHQyxHQUFHQztJQUNuQztJQUVBLDhCQUE4QjtJQUM5QixNQUFNRSxTQUFTVDtJQUNmLElBQUlTLFFBQVE7UUFDVixNQUFNQyxNQUFNRCxPQUFPRSxVQUFVLENBQUM7UUFDOUJDLFdBQVdGLEtBQUtMLEdBQUdDLEdBQUdDLFFBQVE7UUFDOUIsT0FBTztJQUNUO0lBQ0EsT0FB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aUVBQWlFO1FBQ2pFLE9BQU87WUFDTGxGLGFBQWE7WUFDYkMsYUFBYTtZQUNiNkYsU0FBUztZQUNUbkIsT0FBT0EsTUFBTXNCLE9BQU87UUFDdEI7SUFDRjtBQUNGLEVBQUU7QUFFRix5Q0FBeUM7QUFDekMsTUFBTWMsWUFBWSxJQUFNLE1BQU0sOERBQThEO0FBRTVGLGlFQUFlQSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyIvYXBwL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaXhlZCBjb3VudFNhdmUuanN4IC0gUmVzb2x2aW5nIHJlZHJhd0ludGVydmFsIHJlZmVyZW5jZSBlcnJvclxuLy8gU2hhcmVkIGZ1bmN0aW9uYWxpdHkgZm9yIGNvdW50ZG93biBhbmQgaW1hZ2UgY2FwdHVyZSBwcm9jZXNzZXNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9IGZyb20gJy4uL0hlbHBlci9zYXZlZmlsZSc7XG5cbi8qKlxuICogR2V0IGNhbnZhcyBtYW5hZ2VtZW50IHV0aWxpdGllcyBmcm9tIGdsb2JhbCBzY29wZSAoZnJvbSBhY3Rpb25CdXR0b24uanMpXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBDYW52YXMgdXRpbGl0aWVzIG9iamVjdFxuICovXG5jb25zdCBnZXRDYW52YXNVdGlscyA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbnZhc1V0aWxzOiB3aW5kb3cuY2FudmFzVXRpbHMsXG4gICAgICBjYW52YXNNYW5hZ2VyOiB3aW5kb3cuY2FudmFzTWFuYWdlclxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgY2FudmFzVXRpbHM6IG51bGwsIGNhbnZhc01hbmFnZXI6IG51bGwgfTtcbn07XG5cbi8qKlxuICogR2V0IG9yIGNyZWF0ZSBjYW52YXMgdXNpbmcgdGhlIGNhbnZhcyBtYW5hZ2VtZW50IHN5c3RlbSBmcm9tIGFjdGlvbkJ1dHRvbi5qc1xuICogQHJldHVybnMge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMgZWxlbWVudFxuICovXG5jb25zdCBnZXRDYW52YXMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgY2FudmFzVXRpbHMsIGNhbnZhc01hbmFnZXIgfSA9IGdldENhbnZhc1V0aWxzKCk7XG4gIFxuICAvLyBGaXJzdCB0cnkgdG8gdXNlIGNhbnZhc1V0aWxzIGZyb20gYWN0aW9uQnV0dG9uLmpzXG4gIGlmIChjYW52YXNVdGlscyAmJiB0eXBlb2YgY2FudmFzVXRpbHMuZ2V0Q2FudmFzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGNhbnZhc1V0aWxzLmdldENhbnZhcygpO1xuICB9XG4gIFxuICAvLyBGYWxsYmFjayB0byBjYW52YXNNYW5hZ2VyXG4gIGlmIChjYW52YXNNYW5hZ2VyICYmIHR5cGVvZiBjYW52YXNNYW5hZ2VyLmdldENhbnZhcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBjYW52YXNNYW5hZ2VyLmdldENhbnZhcygpIHx8IGNhbnZhc01hbmFnZXIuY3JlYXRlQ2FudmFzKCk7XG4gIH1cbiAgXG4gIC8vIEZhbGxiYWNrIHRvIGRpcmVjdCBxdWVyeVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyYWNraW5nLWNhbnZhcycpO1xufTtcblxuXG4vKipcbiAqIERyYXcgZG90IHVzaW5nIHRoZSBjYW52YXMgbWFuYWdlbWVudCBzeXN0ZW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIERvdCByYWRpdXNcbiAqIEByZXR1cm5zIHtib29sZWFufSBTdWNjZXNzIHN0YXR1c1xuICovXG5jb25zdCBkcmF3RG90V2l0aENhbnZhc01hbmFnZXIgPSAoeCwgeSwgcmFkaXVzID0gMTIpID0+IHtcbiAgY29uc3QgeyBjYW52YXNVdGlscyB9ID0gZ2V0Q2FudmFzVXRpbHMoKTtcbiAgXG4gIGlmIChjYW52YXNVdGlscyAmJiB0eXBlb2YgY2FudmFzVXRpbHMuZHJhd0RvdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBjYW52YXNVdGlscy5kcmF3RG90KHgsIHksIHJhZGl1cyk7XG4gIH1cbiAgXG4gIC8vIEZhbGxiYWNrOiBtYW51YWxseSBkcmF3IGRvdFxuICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgaWYgKGNhbnZhcykge1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGRyYXdSZWREb3QoY3R4LCB4LCB5LCByYWRpdXMsIGZhbHNlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgZGlzcGxheXMgYSBjb3VudGRvd24gZWxlbWVudCBhYm92ZSBhIGRvdCBwb3NpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uIC0ge3gsIHl9IHBvc2l0aW9uIG9mIHRoZSBkb3RcbiAqIEBwYXJhbSB7RE9NUmVjdH0gY2FudmFzUmVjdCAtIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIG9mIHRoZSBjYW52YXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gLSBUaGUgY3JlYXRlZCBjb3VudGRvd24gZWxlbWVudFxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlQ291bnRkb3duRWxlbWVudCA9IChwb3NpdGlvbiwgY2FudmFzUmVjdCkgPT4ge1xuICBpZiAoIXBvc2l0aW9uIHx8IHR5cGVvZiBwb3NpdGlvbi54ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcG9zaXRpb24ueSAhPT0gJ251bWJlcicpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tjcmVhdGVDb3VudGRvd25FbGVtZW50XSBJbnZhbGlkIHBvc2l0aW9uOicsIHBvc2l0aW9uKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgY291bnRkb3duIGVsZW1lbnRzXG4gIGNvbnN0IGV4aXN0aW5nQ291bnRkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYWxpYnJhdGUtY291bnRkb3duLCAuZm9yY2VkLWNvdW50ZG93biwgLmNlbnRlci1jb3VudGRvd24tYmFja3VwLCAuZG90LWNvdW50ZG93biwgLnRlc3QtY291bnRkb3duJyk7XG4gIGV4aXN0aW5nQ291bnRkb3ducy5mb3JFYWNoKGVsID0+IHtcbiAgICBjb25zb2xlLmxvZygnUmVtb3ZpbmcgZXhpc3RpbmcgY291bnRkb3duIGVsZW1lbnQ6JywgZWwpO1xuICAgIGlmIChlbC5wYXJlbnROb2RlKSB7XG4gICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEdldCBjYW52YXMgdG8gY2hlY2sgaWYgd2UgbmVlZCBjb29yZGluYXRlIHRyYW5zZm9ybWF0aW9uXG4gIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICBsZXQgZGlzcGxheVBvc2l0aW9uID0gcG9zaXRpb247XG4gIFxuICBpZiAoY2FudmFzKSB7XG4gICAgLy8gQ2hlY2sgaWYgY2FudmFzIGlzIGluIGZ1bGxzY3JlZW4gbW9kZVxuICAgIGNvbnN0IGlzRnVsbHNjcmVlbiA9IGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgIChjYW52YXMuc3R5bGUud2lkdGggPT09ICcxMDB2dycgfHwgY2FudmFzLnN0eWxlLndpZHRoID09PSAnMTAwJScpO1xuICAgIGRpc3BsYXlQb3NpdGlvbiA9IHtcbiAgICAgIHg6IHBvc2l0aW9uLngsXG4gICAgICB5OiBwb3NpdGlvbi55XG4gICAgfTtcbiAgICAvLyBpZiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgLy8gICAvLyBDYW52YXMgaXMgaW4gZnVsbHNjcmVlbiBtb2RlLCB1c2UgZGlyZWN0IGNvb3JkaW5hdGVzXG4gICAgLy8gICBkaXNwbGF5UG9zaXRpb24gPSB7XG4gICAgLy8gICAgIHg6IHBvc2l0aW9uLngsXG4gICAgLy8gICAgIHk6IHBvc2l0aW9uLnlcbiAgICAvLyAgIH07XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIC8vIENhbnZhcyBpcyBpbiBub3JtYWwgbW9kZSwgdXNlIGNhbnZhcy1yZWxhdGl2ZSBjb29yZGluYXRlc1xuICAgIC8vICAgZGlzcGxheVBvc2l0aW9uID0ge1xuICAgIC8vICAgICB4OiBjYW52YXNSZWN0LmxlZnQgKyBwb3NpdGlvbi54LFxuICAgIC8vICAgICB5OiBjYW52YXNSZWN0LnRvcCArIHBvc2l0aW9uLnlcbiAgICAvLyAgIH07XG4gICAgLy8gfVxuICB9XG5cbiAgY29uc29sZS5sb2coJ1tjcmVhdGVDb3VudGRvd25FbGVtZW50XSBDcmVhdGluZyBjb3VudGRvd24gYXQgcG9zaXRpb246Jywge1xuICAgIG9yaWdpbmFsOiBwb3NpdGlvbixcbiAgICBkaXNwbGF5OiBkaXNwbGF5UG9zaXRpb24sXG4gICAgY2FudmFzUmVjdDogY2FudmFzUmVjdCxcbiAgICBjYW52YXNGdWxsc2NyZWVuOiBjYW52YXMgPyAoY2FudmFzLnN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnICYmIGNhbnZhcy5zdHlsZS53aWR0aCA9PT0gJzEwMHZ3JykgOiBmYWxzZVxuICB9KTtcblxuICAvLyBDcmVhdGUgdGhlIG1haW4gY291bnRkb3duIGVsZW1lbnRcbiAgY29uc3QgY291bnRkb3duRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb3VudGRvd25FbGVtZW50LmNsYXNzTmFtZSA9ICdkb3QtY291bnRkb3duJztcbiAgY291bnRkb3duRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBsZWZ0OiAke2Rpc3BsYXlQb3NpdGlvbi54fXB4O1xuICAgIHRvcDogJHtkaXNwbGF5UG9zaXRpb24ueSAtIDgwfXB4O1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICBjb2xvcjogcmVkO1xuICAgIGZvbnQtc2l6ZTogNjRweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB0ZXh0LXNoYWRvdzogMCAwIDIwcHggd2hpdGUsIDAgMCAzMHB4IHdoaXRlLCAwIDAgNDBweCB3aGl0ZTtcbiAgICB6LWluZGV4OiAzMDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOTgpO1xuICAgIGJvcmRlcjogNHB4IHNvbGlkIHJlZDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgd2lkdGg6IDEwMHB4O1xuICAgIGhlaWdodDogMTAwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJveC1zaGFkb3c6IDAgMCAzMHB4IHJnYmEoMCwgMCwgMCwgMC43KSwgMCAwIDUwcHggcmdiYSgyNTUsIDAsIDAsIDAuNSk7XG4gICAgYW5pbWF0aW9uOiBjb3VudGRvd25QdWxzZSAxcyBpbmZpbml0ZTtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgYDtcbiAgXG4gIC8vIEFkZCBDU1MgYW5pbWF0aW9uIGZvciBwdWxzZSBlZmZlY3RcbiAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY291bnRkb3duLXN0eWxlcycpKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLmlkID0gJ2NvdW50ZG93bi1zdHlsZXMnO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgICAgQGtleWZyYW1lcyBjb3VudGRvd25QdWxzZSB7XG4gICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHNjYWxlKDEpOyB9XG4gICAgICAgIDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSBzY2FsZSgxLjEpOyB9XG4gICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgc2NhbGUoMSk7IH1cbiAgICAgIH1cbiAgICBgO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb3VudGRvd25FbGVtZW50KTtcbiAgXG4gIGNvbnNvbGUubG9nKCdjcmVhdGVDb3VudGRvd25FbGVtZW50IGNyZWF0ZWQgYXQ6Jywge1xuICAgIG9yaWdpbmFsUG9zaXRpb246IHBvc2l0aW9uLFxuICAgIGRpc3BsYXlQb3NpdGlvbixcbiAgICBjYW52YXNSZWN0LFxuICAgIGNhbnZhc0luZm86IGNhbnZhcyA/IHtcbiAgICAgIHBvc2l0aW9uOiBjYW52YXMuc3R5bGUucG9zaXRpb24sXG4gICAgICB3aWR0aDogY2FudmFzLnN0eWxlLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjYW52YXMuc3R5bGUuaGVpZ2h0LFxuICAgICAgcmVjdDogY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgfSA6IG51bGxcbiAgfSk7XG5cbiAgLy8gQWRkIGEgdGVtcG9yYXJ5IHZpc3VhbCBpbmRpY2F0b3IgdG8gc2hvdyB3aGVyZSB0aGUgY291bnRkb3duIGlzIHBvc2l0aW9uZWRcbiAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGluZGljYXRvci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBsZWZ0OiAke2Rpc3BsYXlQb3NpdGlvbi54fXB4O1xuICAgIHRvcDogJHtkaXNwbGF5UG9zaXRpb24ueX1weDtcbiAgICB3aWR0aDogMTBweDtcbiAgICBoZWlnaHQ6IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgei1pbmRleDogMjA7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIGA7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcbiAgXG4gIC8vIFJlbW92ZSBpbmRpY2F0b3IgYWZ0ZXIgMiBzZWNvbmRzXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGlmIChpbmRpY2F0b3IucGFyZW50Tm9kZSkge1xuICAgICAgaW5kaWNhdG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW5kaWNhdG9yKTtcbiAgICB9XG4gIH0sIDIwMDApO1xuICBcbiAgcmV0dXJuIGNvdW50ZG93bkVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIERpc3BsYXkgYSBwcmV2aWV3IG9mIHRoZSBjYXB0dXJlZCBpbWFnZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzY3JlZW5JbWFnZSAtIERhdGEgVVJMIG9mIHRoZSBzY3JlZW4gaW1hZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSB3ZWJjYW1JbWFnZSAtIERhdGEgVVJMIG9mIHRoZSB3ZWJjYW0gaW1hZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCAtIHt4LCB5fSBwb3NpdGlvbiBvZiB0aGUgZG90XG4gKi9cbmV4cG9ydCBjb25zdCBzaG93Q2FwdHVyZVByZXZpZXcgPSAoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlLCBwb2ludCkgPT4ge1xuICBpZiAoIXNjcmVlbkltYWdlICYmICF3ZWJjYW1JbWFnZSkgcmV0dXJuO1xuICBcbiAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBwcmV2aWV3c1xuICBjb25zdCBleGlzdGluZ1ByZXZpZXdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcHR1cmUtcHJldmlldy1jb250YWluZXInKTtcbiAgZXhpc3RpbmdQcmV2aWV3cy5mb3JFYWNoKHByZXZpZXcgPT4ge1xuICAgIGlmIChwcmV2aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgIHByZXZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwcmV2aWV3KTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gQ3JlYXRlIHByZXZpZXcgY29udGFpbmVyXG4gIGNvbnN0IHByZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJldmlld0NvbnRhaW5lci5jbGFzc05hbWUgPSAnY2FwdHVyZS1wcmV2aWV3LWNvbnRhaW5lcic7XG4gIHByZXZpZXdDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44NSk7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIHotaW5kZXg6IDIwO1xuICAgIGJveC1zaGFkb3c6IDAgOHB4IDI1cHggcmdiYSgwLCAwLCAwLCAwLjYpO1xuICBgO1xuICBcbiAgLy8gQWRkIHNjcmVlbiBpbWFnZSBpZiBhdmFpbGFibGVcbiAgaWYgKHNjcmVlbkltYWdlKSB7XG4gICAgY29uc3Qgc2NyZWVuUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNjcmVlblByZXZpZXcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHNjcmVlbkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIHNjcmVlbkltZy5zcmMgPSBzY3JlZW5JbWFnZTtcbiAgICBzY3JlZW5JbWcuYWx0ID0gJ1NjcmVlbiBDYXB0dXJlJztcbiAgICBzY3JlZW5JbWcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIG1heC13aWR0aDogMzIwcHg7XG4gICAgICBtYXgtaGVpZ2h0OiAyNDBweDtcbiAgICAgIGJvcmRlcjogM3B4IHNvbGlkIHdoaXRlO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHNjcmVlbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc2NyZWVuTGFiZWwudGV4dENvbnRlbnQgPSAnU2NyZWVuIENhcHR1cmUnO1xuICAgIHNjcmVlbkxhYmVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgYDtcbiAgICBcbiAgICBzY3JlZW5QcmV2aWV3LmFwcGVuZENoaWxkKHNjcmVlbkltZyk7XG4gICAgc2NyZWVuUHJldmlldy5hcHBlbmRDaGlsZChzY3JlZW5MYWJlbCk7XG4gICAgcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChzY3JlZW5QcmV2aWV3KTtcbiAgfVxuICBcbiAgLy8gQWRkIHdlYmNhbSBpbWFnZSBpZiBhdmFpbGFibGVcbiAgaWYgKHdlYmNhbUltYWdlKSB7XG4gICAgY29uc3Qgd2ViY2FtUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdlYmNhbVByZXZpZXcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHdlYmNhbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIHdlYmNhbUltZy5zcmMgPSB3ZWJjYW1JbWFnZTtcbiAgICB3ZWJjYW1JbWcuYWx0ID0gJ1dlYmNhbSBDYXB0dXJlJztcbiAgICB3ZWJjYW1JbWcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIG1heC13aWR0aDogMzIwcHg7XG4gICAgICBtYXgtaGVpZ2h0OiAyNDBweDtcbiAgICAgIGJvcmRlcjogM3B4IHNvbGlkIHdoaXRlO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHdlYmNhbUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd2ViY2FtTGFiZWwudGV4dENvbnRlbnQgPSAnV2ViY2FtIENhcHR1cmUnO1xuICAgIHdlYmNhbUxhYmVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgYDtcbiAgICBcbiAgICB3ZWJjYW1QcmV2aWV3LmFwcGVuZENoaWxkKHdlYmNhbUltZyk7XG4gICAgd2ViY2FtUHJldmlldy5hcHBlbmRDaGlsZCh3ZWJjYW1MYWJlbCk7XG4gICAgcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh3ZWJjYW1QcmV2aWV3KTtcbiAgfVxuICBcbiAgLy8gQWRkIHBvaW50IGluZm9cbiAgaWYgKHBvaW50KSB7XG4gICAgY29uc3QgcG9pbnRJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcG9pbnRJbmZvLnRleHRDb250ZW50ID0gcG9pbnQubGFiZWwgPyBcbiAgICAgIGAke3BvaW50LmxhYmVsfTogeD0ke01hdGgucm91bmQocG9pbnQueCl9LCB5PSR7TWF0aC5yb3VuZChwb2ludC55KX1gIDpcbiAgICAgIGBQb2ludDogeD0ke01hdGgucm91bmQocG9pbnQueCl9LCB5PSR7TWF0aC5yb3VuZChwb2ludC55KX1gO1xuICAgICAgXG4gICAgcG9pbnRJbmZvLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBjb2xvcjogI2ZmY2MwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogLTQwcHg7XG4gICAgICBsZWZ0OiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYDtcbiAgICBwcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHBvaW50SW5mbyk7XG4gIH1cbiAgXG4gIC8vIEFkZCB0aW1lclxuICBjb25zdCB0aW1lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gJzIuMHMnO1xuICB0aW1lckVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAtMjVweDtcbiAgICByaWdodDogMjBweDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgICBwYWRkaW5nOiAzcHggOHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYDtcbiAgcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aW1lckVsZW1lbnQpO1xuICBcbiAgLy8gQWRkIHRvIGRvY3VtZW50XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocHJldmlld0NvbnRhaW5lcik7XG4gIFxuICAvLyBDb3VudGRvd25cbiAgbGV0IHRpbWVMZWZ0ID0gMi4wO1xuICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICB0aW1lTGVmdCAtPSAwLjE7XG4gICAgaWYgKHRpbWVMZWZ0IDw9IDApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgcHJldmlld0NvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgcHJldmlld0NvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMC4zcyBlYXNlJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAocHJldmlld0NvbnRhaW5lci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgcHJldmlld0NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHByZXZpZXdDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lckVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aW1lTGVmdC50b0ZpeGVkKDEpfXNgO1xuICAgIH1cbiAgfSwgMTAwKTtcbiAgXG4gIC8vIFNhZmV0eSBjbGVhbnVwXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGlmIChwcmV2aWV3Q29udGFpbmVyLnBhcmVudE5vZGUpIHtcbiAgICAgIHByZXZpZXdDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwcmV2aWV3Q29udGFpbmVyKTtcbiAgICB9XG4gIH0sIDUwMDApO1xufTtcblxuLyoqXG4gKiBSdW5zIGEgY291bnRkb3duIHByb2Nlc3MgdGhhdCBkaXNwbGF5cyAzLTItMSBhYm92ZSBhIGRvdFxuICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uIC0ge3gsIHl9IHBvc2l0aW9uIG9mIHRoZSBkb3RcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIGRvdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdGF0dXNVcGRhdGUgLSBGdW5jdGlvbiB0byB1cGRhdGUgc3RhdHVzIG1lc3NhZ2VzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkNvbXBsZXRlIC0gQ2FsbGJhY2sgdG8gZXhlY3V0ZSB3aGVuIGNvdW50ZG93biBjb21wbGV0ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHJ1bkNvdW50ZG93biA9IGFzeW5jIChwb3NpdGlvbiwgY2FudmFzLCBvblN0YXR1c1VwZGF0ZSwgb25Db21wbGV0ZSkgPT4ge1xuICBpZiAoIXBvc2l0aW9uIHx8IHR5cGVvZiBwb3NpdGlvbi54ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcG9zaXRpb24ueSAhPT0gJ251bWJlcicpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tydW5Db3VudGRvd25dIEludmFsaWQgcG9zaXRpb246JywgcG9zaXRpb24pO1xuICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgcHJvY2Vzc1N0YXR1czogXCJJbnZhbGlkIGRvdCBwb3NpdGlvblwiLFxuICAgICAgY291bnRkb3duVmFsdWU6IG51bGwsXG4gICAgICBpc0NhcHR1cmluZzogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjYW52YXNSZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjb3VudGRvd25FbGVtZW50ID0gY3JlYXRlQ291bnRkb3duRWxlbWVudChwb3NpdGlvbiwgY2FudmFzUmVjdCk7XG4gIFxuICBpZiAoIWNvdW50ZG93bkVsZW1lbnQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tydW5Db3VudGRvd25dIENvdW50ZG93biBlbGVtZW50IGNvdWxkIG5vdCBiZSBjcmVhdGVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEdldCB0aGUgYmFja3VwIGNvdW50ZG93biBlbGVtZW50XG4gIGNvbnN0IGJhY2t1cENvdW50ZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYWNrdXAtY291bnRkb3duJyk7XG5cbiAgLy8gVXNlIGNhbnZhcyBtYW5hZ2VtZW50IHN5c3RlbSB0byBkcmF3IGRvdFxuICBkcmF3RG90V2l0aENhbnZhc01hbmFnZXIocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgbGV0IGNvdW50ID0gMztcbiAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuICBpZiAoYmFja3VwQ291bnRkb3duKSB7XG4gICAgYmFja3VwQ291bnRkb3duLnRleHRDb250ZW50ID0gY291bnQ7XG4gIH1cblxuICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICBwcm9jZXNzU3RhdHVzOiBcIkNvdW50ZG93blwiLFxuICAgIGNvdW50ZG93blZhbHVlOiBjb3VudCxcbiAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICB9KTtcblxuICAvLyBDcmVhdGUgcmVkcmF3SW50ZXJ2YWwgZm9yIGtlZXBpbmcgZG90IHZpc2libGUgZHVyaW5nIGNvdW50ZG93blxuICBsZXQgcmVkcmF3SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgZHJhd0RvdFdpdGhDYW52YXNNYW5hZ2VyKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICB9LCAyMDApO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IGNvdW50ZG93bkludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY291bnQtLTtcblxuICAgICAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICAgIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBcIuKck1wiO1xuICAgICAgICBpZiAoYmFja3VwQ291bnRkb3duKSB7XG4gICAgICAgICAgYmFja3VwQ291bnRkb3duLnRleHRDb250ZW50ID0gXCLinJNcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICAgIGNvdW50ZG93blZhbHVlOiBcIkNhcHR1cmluZy4uLlwiLFxuICAgICAgICAgIHByb2Nlc3NTdGF0dXM6IFwiQ2FwdHVyaW5nIGltYWdlLi4uXCIsXG4gICAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGJvdGggY291bnRkb3duIGVsZW1lbnRzXG4gICAgICAgICAgaWYgKGNvdW50ZG93bkVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYmFja3VwQ291bnRkb3duICYmIGJhY2t1cENvdW50ZG93bi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBiYWNrdXBDb3VudGRvd24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYWNrdXBDb3VudGRvd24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBkcmF3RG90V2l0aENhbnZhc01hbmFnZXIocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgICAgICAgICAvLyBDbGVhciB0aGUgcmVkcmF3SW50ZXJ2YWwgd2UgZGVmaW5lZCBhYm92ZVxuICAgICAgICAgIGlmIChyZWRyYXdJbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWRyYXdJbnRlcnZhbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGRyYXdEb3RXaXRoQ2FudmFzTWFuYWdlcihwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuICAgICAgICBpZiAoYmFja3VwQ291bnRkb3duKSB7XG4gICAgICAgICAgYmFja3VwQ291bnRkb3duLnRleHRDb250ZW50ID0gY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICAgICAgICBwcm9jZXNzU3RhdHVzOiBcIkNvdW50ZG93blwiLFxuICAgICAgICAgIGNvdW50ZG93blZhbHVlOiBjb3VudCxcbiAgICAgICAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCA4MDApO1xuICB9KTtcbn07XG5cbi8qKlxuICogRHJhdyBhIHJlZCBkb3Qgb24gdGhlIGNhbnZhcyAobGVnYWN5IGZ1bmN0aW9uIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCAtIENhbnZhcyAyRCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFggY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBEb3QgcmFkaXVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyQ2FudmFzIC0gV2hldGhlciB0byBjbGVhciB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIChkZWZhdWx0OiB0cnVlKVxuICogQHJldHVybnMge09iamVjdH0gLSB7eCwgeX0gcG9zaXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGRyYXdSZWREb3QgPSAoY3R4LCB4LCB5LCByYWRpdXMgPSAxMiwgY2xlYXJDYW52YXMgPSB0cnVlKSA9PiB7XG4gIGNvbnN0IGNhbnZhcyA9IGN0eC5jYW52YXM7XG4gIFxuICAvLyBDbGVhciB0aGUgY2FudmFzIGlmIHJlcXVlc3RlZCAoZGVmYXVsdCBiZWhhdmlvcilcbiAgaWYgKGNsZWFyQ2FudmFzKSB7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAneWVsbG93JztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgfVxuICBcbiAgLy8gRHJhdyB0aGUgZG90IHdpdGggYSBicmlnaHQgcmVkIGNvbG9yXG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyh4LCB5LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xuICBjdHguZmlsbCgpO1xuICBcbiAgLy8gQWRkIGdsb3cgZWZmZWN0IGZvciBiZXR0ZXIgdmlzaWJpbGl0eVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzICsgMywgMCwgTWF0aC5QSSAqIDIpO1xuICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuNSknO1xuICBjdHgubGluZVdpZHRoID0gMztcbiAgY3R4LnN0cm9rZSgpO1xuICBcbiAgLy8gQWRkIGEgc2Vjb25kIGxhcmdlciBnbG93IGZvciBldmVuIGJldHRlciB2aXNpYmlsaXR5XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyh4LCB5LCByYWRpdXMgKyA2LCAwLCBNYXRoLlBJICogMik7XG4gIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC4zKSc7XG4gIGN0eC5saW5lV2lkdGggPSAyO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICBjb25zb2xlLmxvZyhgRHJldyByZWQgZG90IGF0ICgke3h9LCAke3l9KSB3aXRoIHJhZGl1cyAke3JhZGl1c31gKTtcbiAgcmV0dXJuIHsgeCwgeSB9O1xufTtcblxuLyoqXG4gKiBHZXQgaGlnaGVzdCByZXNvbHV0aW9uIGNhbWVyYSBjb25zdHJhaW50c1xuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBDYW1lcmEgY29uc3RyYWludHNcbiAqL1xuY29uc3QgZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cyA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgYWxsIHZpZGVvIGlucHV0IGRldmljZXNcbiAgICBjb25zdCBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgY29uc3QgdmlkZW9EZXZpY2VzID0gZGV2aWNlcy5maWx0ZXIoZGV2aWNlID0+IGRldmljZS5raW5kID09PSAndmlkZW9pbnB1dCcpO1xuICAgIFxuICAgIGlmICh2aWRlb0RldmljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIHZpZGVvIGRldmljZXMgZm91bmQsIHVzaW5nIGRlZmF1bHQgY29uc3RyYWludHMnKTtcbiAgICAgIHJldHVybiB7IHZpZGVvOiB0cnVlIH07XG4gICAgfVxuICAgIFxuICAgIC8vIFRyeSB0byBnZXQgY2FwYWJpbGl0aWVzIGZvciB0aGUgZmlyc3QgdmlkZW8gZGV2aWNlXG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyB2aWRlbzogdHJ1ZSB9KTtcbiAgICBjb25zdCB2aWRlb1RyYWNrID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgXG4gICAgaWYgKCF2aWRlb1RyYWNrLmdldENhcGFiaWxpdGllcykge1xuICAgICAgY29uc29sZS53YXJuKCdnZXRDYXBhYmlsaXRpZXMgbm90IHN1cHBvcnRlZCwgdXNpbmcgZGVmYXVsdCBjb25zdHJhaW50cycpO1xuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgIHJldHVybiB7IHZpZGVvOiB0cnVlIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHZpZGVvVHJhY2suZ2V0Q2FwYWJpbGl0aWVzKCk7XG4gICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICBcbiAgICBpZiAoIWNhcGFiaWxpdGllcy53aWR0aCB8fCAhY2FwYWJpbGl0aWVzLmhlaWdodCkge1xuICAgICAgY29uc29sZS53YXJuKCdObyB3aWR0aC9oZWlnaHQgY2FwYWJpbGl0aWVzLCB1c2luZyBkZWZhdWx0IGNvbnN0cmFpbnRzJyk7XG4gICAgICByZXR1cm4geyB2aWRlbzogdHJ1ZSB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgdGhlIGhpZ2hlc3QgcmVzb2x1dGlvbiBhdmFpbGFibGVcbiAgICBjb25zdCBtYXhXaWR0aCA9IE1hdGgubWF4KC4uLmNhcGFiaWxpdGllcy53aWR0aC52YWx1ZXMpO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IE1hdGgubWF4KC4uLmNhcGFiaWxpdGllcy5oZWlnaHQudmFsdWVzKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgVXNpbmcgaGlnaGVzdCByZXNvbHV0aW9uOiAke21heFdpZHRofXgke21heEhlaWdodH1gKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgdmlkZW86IHtcbiAgICAgICAgd2lkdGg6IHsgaWRlYWw6IG1heFdpZHRoIH0sXG4gICAgICAgIGhlaWdodDogeyBpZGVhbDogbWF4SGVpZ2h0IH0sXG4gICAgICAgIGZyYW1lUmF0ZTogeyBpZGVhbDogMzAgfVxuICAgICAgfVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdFcnJvciBnZXR0aW5nIGNhbWVyYSBjb25zdHJhaW50cywgdXNpbmcgZGVmYXVsdDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgdmlkZW86IHRydWUgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYXB0dXJlIGltYWdlcyBhdCBhIHNwZWNpZmljIHBvaW50XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIENhcHR1cmUgb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNhcHR1cmUgcmVzdWx0XG4gKi9cbmV4cG9ydCBjb25zdCBjYXB0dXJlSW1hZ2VzID0gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjYW52YXNSZWYsXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGNhcHR1cmVDb3VudGVyLCBcbiAgICAgIHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyxcbiAgICAgIHRvZ2dsZVRvcEJhcixcbiAgICAgIGNhcHR1cmVGb2xkZXIgPSAnZXllX3RyYWNraW5nX2NhcHR1cmVzJ1xuICAgIH0gPSBvcHRpb25zO1xuICBcbiAgICBpZiAoIXBvc2l0aW9uIHx8IHR5cGVvZiBwb3NpdGlvbi54ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcG9zaXRpb24ueSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybignW2NhcHR1cmVJbWFnZXNdIEludmFsaWQgcG9zaXRpb24gb2JqZWN0OicsIHBvc2l0aW9uKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXM/LignRXJyb3I6IEludmFsaWQgY2FwdHVyZSBwb3NpdGlvbicpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGhpZ2hlc3QgcmVzb2x1dGlvbiBjb25zdHJhaW50c1xuICAgICAgY29uc3QgY29uc3RyYWludHMgPSBhd2FpdCBnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzKCk7XG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgY2FtZXJhIGNvbnN0cmFpbnRzOicsIGNvbnN0cmFpbnRzKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGEgbmV3IHN0cmVhbSB3aXRoIHRoZSBoaWdoZXN0IHJlc29sdXRpb25cbiAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgY29uc29sZS5sb2coJ0FjdHVhbCBjYW1lcmEgc2V0dGluZ3M6Jywgc2V0dGluZ3MpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdmlkZW8gZWxlbWVudCB3aXRoIG5ldyBzdHJlYW1cbiAgICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IHdpbmRvdy52aWRlb0VsZW1lbnQgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcbiAgICAgIGlmICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgYXdhaXQgdmlkZW9FbGVtZW50LnBsYXkoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FsbCB0aGUgY2FwdHVyZUltYWdlc0F0UG9pbnQgd2l0aCBhbGwgbmVjZXNzYXJ5IHBhcmFtZXRlcnNcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgcG9pbnQ6IHBvc2l0aW9uLFxuICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudGVyLFxuICAgICAgICBjYW52YXNSZWYsIFxuICAgICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgICBzaG93Q2FwdHVyZVByZXZpZXdcbiAgICAgIH0pO1xuICBcbiAgICAgIGNvbnNvbGUubG9nKCdDYXB0dXJlIHN1Y2Nlc3NmdWwgd2l0aCBJRDonLCByZXN1bHQuY2FwdHVyZUlkKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgdGhlIHN0cmVhbVxuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NyZWVuSW1hZ2U6IHJlc3VsdD8uc2NyZWVuSW1hZ2UgfHwgJycsXG4gICAgICAgIHdlYmNhbUltYWdlOiByZXN1bHQ/LndlYmNhbUltYWdlIHx8ICcnLFxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBjYXB0dXJlSWQ6IHJlc3VsdD8uY2FwdHVyZUlkLFxuICAgICAgICByZXNvbHV0aW9uOiB7XG4gICAgICAgICAgd2lkdGg6IHNldHRpbmdzLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogc2V0dGluZ3MuaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbY2FwdHVyZUltYWdlc10gVW5leHBlY3RlZCBlcnJvcjonLCBlcnIpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKGBFcnJvcjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlbkltYWdlOiAnJyxcbiAgICAgICAgd2ViY2FtSW1hZ2U6ICcnLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSBkb3QgcG9zaXRpb24gd2l0aGluIHRoZSBjYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIENhbnZhcyBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZyAtIFBhZGRpbmcgZnJvbSB0aGUgZWRnZXNcbiAqIEByZXR1cm5zIHtPYmplY3R9IC0ge3gsIHl9IHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRSYW5kb21Qb3NpdGlvbiA9IChjYW52YXMsIHBhZGRpbmcgPSA0MCkgPT4ge1xuICBpZiAoIWNhbnZhcykgcmV0dXJuIHsgeDogMTAwLCB5OiAxMDAgfTsgLy8gRmFsbGJhY2sgcG9zaXRpb25cbiAgXG4gIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoIHx8IDQwMDsgIC8vIEZhbGxiYWNrIGlmIHdpZHRoIGlzIDBcbiAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCB8fCAzMDA7IC8vIEZhbGxiYWNrIGlmIGhlaWdodCBpcyAwXG4gIFxuICByZXR1cm4ge1xuICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh3aWR0aCAtIDIgKiBwYWRkaW5nKSkgKyBwYWRkaW5nLFxuICAgIHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChoZWlnaHQgLSAyICogcGFkZGluZykpICsgcGFkZGluZ1xuICB9O1xufTtcblxuLyoqXG4gKiBTcGVjaWFsIGNhbGlicmF0aW9uIGNhcHR1cmUgZnVuY3Rpb24gdGhhdCBiZWhhdmVzIGxpa2UgcmFuZG9tIGRvdCBjYXB0dXJlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFsbCB0aGUgY2FsaWJyYXRpb24gb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUmVzdWx0IG9iamVjdCB3aXRoIGNhcHR1cmVkIGRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IGNhbGlicmF0aW9uQ2FwdHVyZSA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY2FudmFzUmVmLFxuICAgICAgcG9pbnQsXG4gICAgICBjYXB0dXJlQ291bnRlcixcbiAgICAgIHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyxcbiAgICAgIHRvZ2dsZVRvcEJhcixcbiAgICAgIGNhcHR1cmVGb2xkZXIgPSAnZXllX3RyYWNraW5nX2NhcHR1cmVzJyxcbiAgICAgIHBvaW50SW5kZXgsXG4gICAgICB0b3RhbFBvaW50c1xuICAgIH0gPSBvcHRpb25zO1xuICBcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIGNhbGlicmF0aW9uIGNhcHR1cmUgZm9yIHBvaW50ICR7cG9pbnRJbmRleCArIDF9LyR7dG90YWxQb2ludHN9YCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjYW52YXMgdXNpbmcgY2FudmFzIG1hbmFnZW1lbnQgc3lzdGVtXG4gICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgcmVmZXJlbmNlIGlzIG51bGwgaW4gY2FsaWJyYXRpb25DYXB0dXJlXCIpO1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYEVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZWApO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xuICAgICAgfVxuICBcbiAgICAgIC8vIFVzZSBjYW52YXMgbWFuYWdlbWVudCBzeXN0ZW0gdG8gZHJhdyBkb3RcbiAgICAgIGRyYXdEb3RXaXRoQ2FudmFzTWFuYWdlcihwb2ludC54LCBwb2ludC55KTtcbiAgXG4gICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYENhbGlicmF0aW9uIHBvaW50ICR7cG9pbnRJbmRleCArIDF9LyR7dG90YWxQb2ludHN9YCk7XG4gIFxuICAgICAgLy8gVXNlIHRoZSBzYW1lIGNvdW50ZG93biBlbGVtZW50IGNyZWF0aW9uIG1ldGhvZFxuICAgICAgY29uc3QgY2FudmFzUmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGNvdW50ZG93bkVsZW1lbnQgPSBjcmVhdGVDb3VudGRvd25FbGVtZW50KHBvaW50LCBjYW52YXNSZWN0KTtcbiAgICAgIFxuICAgICAgaWYgKCFjb3VudGRvd25FbGVtZW50KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIGNvdW50ZG93biBlbGVtZW50XCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xuICAgICAgfVxuICBcbiAgICAgIC8vIENyZWF0ZSBhIHJlZHJhd0ludGVydmFsIGZvciBrZWVwaW5nIHRoZSBkb3QgdmlzaWJsZVxuICAgICAgbGV0IHJlZHJhd0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBkcmF3RG90V2l0aENhbnZhc01hbmFnZXIocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICB9LCAyMDApO1xuICBcbiAgICAgIC8vIFJ1biB0aGUgc2FtZSBjb3VudGRvd24gYXMgcmFuZG9tIGRvdFxuICAgICAgZm9yIChsZXQgY291bnQgPSAzOyBjb3VudCA+IDA7IGNvdW50LS0pIHtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYFBvaW50ICR7cG9pbnRJbmRleCArIDF9LyR7dG90YWxQb2ludHN9IC0gY291bnRkb3duICR7Y291bnR9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWRyYXcgdGhlIGRvdCBhdCBlYWNoIHN0ZXAgdG8gZW5zdXJlIGl0IHJlbWFpbnMgdmlzaWJsZVxuICAgICAgICBkcmF3RG90V2l0aENhbnZhc01hbmFnZXIocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgODAwKSk7XG4gICAgICB9XG4gIFxuICAgICAgLy8gU2hvdyBjaGVja21hcmtcbiAgICAgIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBcIuKck1wiO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgY291bnRkb3duIGVsZW1lbnRcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciByZWRyYXdJbnRlcnZhbFxuICAgICAgICBpZiAocmVkcmF3SW50ZXJ2YWwpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHJlZHJhd0ludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgXG4gICAgICAvLyBVc2UgY2FwdHVyZUFuZFByZXZpZXdQcm9jZXNzIGluc3RlYWQgb2YgZGlyZWN0bHkgY2FsbGluZyBjYXB0dXJlSW1hZ2VzQXRQb2ludFxuICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVBbmRQcmV2aWV3UHJvY2Vzcyh7XG4gICAgICAgIGNhbnZhc1JlZixcbiAgICAgICAgcG9zaXRpb246IHBvaW50LFxuICAgICAgICBjYXB0dXJlQ291bnRlcixcbiAgICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXM6IChzdGF0dXMpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHN0YXR1cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXM/LihzdGF0dXMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzICYmIHR5cGVvZiBzdGF0dXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oc3RhdHVzLnByb2Nlc3NTdGF0dXMgfHwgJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlVG9wQmFyLFxuICAgICAgICBvblN0YXR1c1VwZGF0ZTogKHN0YXR1cykgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdHVzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKHN0YXR1cyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgJiYgdHlwZW9mIHN0YXR1cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXM/LihzdGF0dXMucHJvY2Vzc1N0YXR1cyB8fCAnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYXB0dXJlRm9sZGVyXG4gICAgICB9KTtcbiAgXG4gICAgICAvLyBFbnN1cmUgcHJvcGVyIHJldHVybiBldmVuIGlmIGNhcHR1cmVSZXN1bHQgaXMgbnVsbFxuICAgICAgY29uc3Qgc2FmZVJlc3VsdCA9IGNhcHR1cmVSZXN1bHQgJiYgdHlwZW9mIGNhcHR1cmVSZXN1bHQgPT09ICdvYmplY3QnIFxuICAgICAgICA/IGNhcHR1cmVSZXN1bHQgXG4gICAgICAgIDogeyBzY3JlZW5JbWFnZTogJycsIHdlYmNhbUltYWdlOiAnJywgc3VjY2VzczogZmFsc2UgfTtcbiAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY3JlZW5JbWFnZTogc2FmZVJlc3VsdC5zY3JlZW5JbWFnZSB8fCAnJyxcbiAgICAgICAgd2ViY2FtSW1hZ2U6IHNhZmVSZXN1bHQud2ViY2FtSW1hZ2UgfHwgJycsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHBvaW50XG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBjYWxpYnJhdGlvbkNhcHR1cmU6XCIsIGVycm9yKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXM/LihgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIFxuICAgICAgLy8gQWx3YXlzIHJldHVybiBhIHZhbGlkIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY3JlZW5JbWFnZTogJycsXG4gICAgICAgIHdlYmNhbUltYWdlOiAnJyxcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBDb21wbGV0ZSBjYXB0dXJlIGFuZCBwcmV2aWV3IHByb2Nlc3NcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUHJvY2VzcyBvcHRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3MgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICBjb25zdCB7XG4gICAgY2FudmFzUmVmLFxuICAgIHBvc2l0aW9uLFxuICAgIGNhcHR1cmVDb3VudGVyLFxuICAgIHNldENhcHR1cmVDb3VudGVyLFxuICAgIHNldFByb2Nlc3NTdGF0dXMsXG4gICAgdG9nZ2xlVG9wQmFyLFxuICAgIG9uU3RhdHVzVXBkYXRlLFxuICAgIGNhcHR1cmVGb2xkZXJcbiAgfSA9IG9wdGlvbnM7XG5cbiAgdHJ5IHtcbiAgICAvLyBHZXQgY2FudmFzIHVzaW5nIGNhbnZhcyBtYW5hZ2VtZW50IHN5c3RlbVxuICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW2NhcHR1cmVBbmRQcmV2aWV3UHJvY2Vzc10gQ2FudmFzIHJlZmVyZW5jZSBpcyBudWxsXCIpO1xuICAgICAgaWYgKHNldFByb2Nlc3NTdGF0dXMpIHNldFByb2Nlc3NTdGF0dXMoJ0Vycm9yOiBDYW52YXMgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gRHJhdyB0aGUgZG90IHVzaW5nIGNhbnZhcyBtYW5hZ2VtZW50IHN5c3RlbVxuICAgIGRyYXdEb3RXaXRoQ2FudmFzTWFuYWdlcihwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcblxuICAgIC8vIENvdW50ZG93biBiZWZvcmUgY2FwdHVyZVxuICAgIGlmIChvblN0YXR1c1VwZGF0ZSkge1xuICAgICAgb25TdGF0dXNVcGRhdGUoe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiAnU3RhcnRpbmcgY291bnRkb3duLi4uJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgZXhpc3RpbmcgY291bnRkb3duIGVsZW1lbnRzIGZpcnN0XG4gICAgY29uc3QgZXhpc3RpbmdDb3VudGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbGlicmF0ZS1jb3VudGRvd24sIC5kb3QtY291bnRkb3duLCAuZm9yY2VkLWNvdW50ZG93biwgLmNlbnRlci1jb3VudGRvd24tYmFja3VwJyk7XG4gICAgZXhpc3RpbmdDb3VudGRvd25zLmZvckVhY2goZWwgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2NhcHR1cmVBbmRQcmV2aWV3UHJvY2VzczogUmVtb3ZpbmcgZXhpc3RpbmcgY291bnRkb3duOicsIGVsKTtcbiAgICAgIGVsLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIGN1c3RvbSBjb3VudGRvd24gZWxlbWVudFxuICAgIGNvbnN0IGNhbnZhc1JlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIGNvb3JkaW5hdGVzIGZvciBmdWxsc2NyZWVuIGRpc3BsYXlcbiAgICBsZXQgZGlzcGxheVBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgZGlzcGxheVBvc2l0aW9uID0ge1xuICAgICAgeDogcG9zaXRpb24ueCxcbiAgICAgIHk6IHBvc2l0aW9uLnlcbiAgICB9O1xuICAgIC8vIGlmIChjYW52YXMuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcgJiYgY2FudmFzLnN0eWxlLndpZHRoID09PSAnMTAwdncnKSB7XG4gICAgLy8gICAvLyBDYW52YXMgaXMgaW4gZnVsbHNjcmVlbiBtb2RlLCB1c2UgZGlyZWN0IGNvb3JkaW5hdGVzXG4gICAgLy8gICBkaXNwbGF5UG9zaXRpb24gPSB7XG4gICAgLy8gICAgIHg6IHBvc2l0aW9uLngsXG4gICAgLy8gICAgIHk6IHBvc2l0aW9uLnlcbiAgICAvLyAgIH07XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIC8vIENhbnZhcyBpcyBpbiBub3JtYWwgbW9kZSwgdXNlIGNhbnZhcy1yZWxhdGl2ZSBjb29yZGluYXRlc1xuICAgIC8vICAgZGlzcGxheVBvc2l0aW9uID0ge1xuICAgIC8vICAgICB4OiBjYW52YXNSZWN0LmxlZnQgKyBwb3NpdGlvbi54LFxuICAgIC8vICAgICB5OiBjYW52YXNSZWN0LnRvcCArIHBvc2l0aW9uLnlcbiAgICAvLyAgIH07XG4gICAgLy8gfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3M6IENyZWF0aW5nIGNvdW50ZG93biBhdDonLCB7XG4gICAgICBvcmlnaW5hbFBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgIGRpc3BsYXlQb3NpdGlvbixcbiAgICAgIGNhbnZhc1JlY3QsXG4gICAgICBjYW52YXNTdHlsZToge1xuICAgICAgICBwb3NpdGlvbjogY2FudmFzLnN0eWxlLnBvc2l0aW9uLFxuICAgICAgICB3aWR0aDogY2FudmFzLnN0eWxlLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNhbnZhcy5zdHlsZS5oZWlnaHRcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBjb3VudGRvd25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY291bnRkb3duRWxlbWVudC5jbGFzc05hbWUgPSAnY2FsaWJyYXRlLWNvdW50ZG93bic7XG4gICAgY291bnRkb3duRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgbGVmdDogJHtkaXNwbGF5UG9zaXRpb24ueH1weDtcbiAgICAgIHRvcDogJHtkaXNwbGF5UG9zaXRpb24ueSAtIDYwfXB4O1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgICAgY29sb3I6IHJlZDtcbiAgICAgIGZvbnQtc2l6ZTogNDhweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgdGV4dC1zaGFkb3c6IDAgMCAxNXB4IHdoaXRlLCAwIDAgMjVweCB3aGl0ZSwgMCAwIDM1cHggd2hpdGU7XG4gICAgICB6LWluZGV4OiAzMDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45NSk7XG4gICAgICBib3JkZXI6IDNweCBzb2xpZCByZWQ7XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICB3aWR0aDogODBweDtcbiAgICAgIGhlaWdodDogODBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBib3gtc2hhZG93OiAwIDAgMjBweCByZ2JhKDAsIDAsIDAsIDAuNSksIDAgMCA0MHB4IHJnYmEoMjU1LCAwLCAwLCAwLjMpO1xuICAgICAgYW5pbWF0aW9uOiBwdWxzZSAxcyBpbmZpbml0ZTtcbiAgICBgO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY291bnRkb3duRWxlbWVudCk7XG5cbiAgICAvLyBDcmVhdGUgYSByZWRyYXdJbnRlcnZhbCBmb3Iga2VlcGluZyB0aGUgZG90IHZpc2libGVcbiAgICBsZXQgcmVkcmF3SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBkcmF3RG90V2l0aENhbnZhc01hbmFnZXIocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgfSwgMjAwKTtcblxuICAgIC8vIE1hbnVhbCBjb3VudGRvd25cbiAgICBmb3IgKGxldCBjb3VudCA9IDM7IGNvdW50ID4gMDsgY291bnQtLSkge1xuICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuICAgICAgLy8gYmFja3VwQ291bnRkb3duLnRleHRDb250ZW50ID0gY291bnQ7XG4gICAgICBpZiAob25TdGF0dXNVcGRhdGUpIHtcbiAgICAgICAgb25TdGF0dXNVcGRhdGUoe1xuICAgICAgICAgIHByb2Nlc3NTdGF0dXM6IGBDb3VudGRvd246ICR7Y291bnR9YCxcbiAgICAgICAgICBjb3VudGRvd25WYWx1ZTogY291bnQsXG4gICAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBSZWRyYXcgZG90IHRvIGVuc3VyZSBpdCdzIHZpc2libGVcbiAgICAgIGRyYXdEb3RXaXRoQ2FudmFzTWFuYWdlcihwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTtcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgdG8gY2hlY2ttYXJrXG4gICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IFwi4pyTXCI7XG4gICAgLy8gYmFja3VwQ291bnRkb3duLnRleHRDb250ZW50ID0gXCLinJNcIjtcbiAgICBpZiAob25TdGF0dXNVcGRhdGUpIHtcbiAgICAgIG9uU3RhdHVzVXBkYXRlKHtcbiAgICAgICAgcHJvY2Vzc1N0YXR1czogJ0NhcHR1cmluZyBpbWFnZXMuLi4nLFxuICAgICAgICBjb3VudGRvd25WYWx1ZTogXCJDYXB0dXJpbmcuLi5cIixcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBjb3VudGRvd24gZWxlbWVudHMgYW5kIGNsZWFyIHJlZHJhd0ludGVydmFsXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGNvdW50ZG93bkVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb3VudGRvd25FbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJlZHJhd0ludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0sIDMwMCk7XG5cbiAgICAvLyBVc2UgY2FwdHVyZUltYWdlc0F0UG9pbnQgZnJvbSBzYXZlZmlsZS5qc1xuICAgIGNvbnN0IGNhcHR1cmVSZXN1bHQgPSBhd2FpdCBjYXB0dXJlSW1hZ2VzQXRQb2ludCh7XG4gICAgICBwb2ludDogcG9zaXRpb24sXG4gICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudGVyLFxuICAgICAgY2FudmFzUmVmLFxuICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgIHNob3dDYXB0dXJlUHJldmlld1xuICAgIH0pO1xuXG4gICAgaWYgKHNldFByb2Nlc3NTdGF0dXMpIHtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYENhcHR1cmVkIGRvdCBhdCB4PSR7TWF0aC5yb3VuZChwb3NpdGlvbi54KX0sIHk9JHtNYXRoLnJvdW5kKHBvc2l0aW9uLnkpfWApO1xuICAgIH1cblxuICAgIGlmIChvblN0YXR1c1VwZGF0ZSkge1xuICAgICAgb25TdGF0dXNVcGRhdGUoe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiAnQ2FwdHVyZSBjb21wbGV0ZScsXG4gICAgICAgIGlzQ2FwdHVyaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyBUb3BCYXIgYWdhaW4gd2l0aCBkZWxheVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0b2dnbGVUb3BCYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICB9XG4gICAgfSwgMjUwMCk7XG5cbiAgICByZXR1cm4gY2FwdHVyZVJlc3VsdDtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbY2FwdHVyZUFuZFByZXZpZXdQcm9jZXNzXSBGYXRhbCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIFxuICAgIGlmIChzZXRQcm9jZXNzU3RhdHVzKSB7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBGYXRhbCBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgICBcbiAgICAvLyBFbnN1cmUgVG9wQmFyIGlzIHNob3duIGV2ZW4gb24gZXJyb3JcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdG9nZ2xlVG9wQmFyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgfVxuICAgIH0sIDE1MDApO1xuICAgIFxuICAgIC8vIFJldHVybiBhIG1pbmltYWwgdmFsaWQgb2JqZWN0IHRvIHByZXZlbnQgbnVsbCByZWZlcmVuY2UgZXJyb3JzXG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcmVlbkltYWdlOiAnJyxcbiAgICAgIHdlYmNhbUltYWdlOiAnJyxcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICB9O1xuICB9XG59O1xuXG4vLyBEZWZhdWx0IGV4cG9ydCBmb3IgUmVhY3QgY29tcGF0aWJpbGl0eVxuY29uc3QgQ291bnRTYXZlID0gKCkgPT4gbnVsbDsgLy8gVGhpcyBpcyBhIHV0aWxpdHkgZmlsZSwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW5kZXIgYW55dGhpbmdcblxuZXhwb3J0IGRlZmF1bHQgQ291bnRTYXZlOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJjYXB0dXJlSW1hZ2VzQXRQb2ludCIsImdldENhbnZhc1V0aWxzIiwiY2FudmFzVXRpbHMiLCJ3aW5kb3ciLCJjYW52YXNNYW5hZ2VyIiwiZ2V0Q2FudmFzIiwiY3JlYXRlQ2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZHJhd0RvdFdpdGhDYW52YXNNYW5hZ2VyIiwieCIsInkiLCJyYWRpdXMiLCJkcmF3RG90IiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdSZWREb3QiLCJjcmVhdGVDb3VudGRvd25FbGVtZW50IiwicG9zaXRpb24iLCJjYW52YXNSZWN0IiwiY29uc29sZSIsIndhcm4iLCJleGlzdGluZ0NvdW50ZG93bnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwibG9nIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZGlzcGxheVBvc2l0aW9uIiwiaXNGdWxsc2NyZWVuIiwic3R5bGUiLCJ3aWR0aCIsIm9yaWdpbmFsIiwiZGlzcGxheSIsImNhbnZhc0Z1bGxzY3JlZW4iLCJjb3VudGRvd25FbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImNzc1RleHQiLCJpZCIsInRleHRDb250ZW50IiwiaGVhZCIsImFwcGVuZENoaWxkIiwiYm9keSIsIm9yaWdpbmFsUG9zaXRpb24iLCJjYW52YXNJbmZvIiwiaGVpZ2h0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImluZGljYXRvciIsInNldFRpbWVvdXQiLCJzaG93Q2FwdHVyZVByZXZpZXciLCJzY3JlZW5JbWFnZSIsIndlYmNhbUltYWdlIiwicG9pbnQiLCJleGlzdGluZ1ByZXZpZXdzIiwicHJldmlldyIsInByZXZpZXdDb250YWluZXIiLCJzY3JlZW5QcmV2aWV3Iiwic2NyZWVuSW1nIiwic3JjIiwiYWx0Iiwic2NyZWVuTGFiZWwiLCJ3ZWJjYW1QcmV2aWV3Iiwid2ViY2FtSW1nIiwid2ViY2FtTGFiZWwiLCJwb2ludEluZm8iLCJsYWJlbCIsIk1hdGgiLCJyb3VuZCIsInRpbWVyRWxlbWVudCIsInRpbWVMZWZ0IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsInRvRml4ZWQiLCJydW5Db3VudGRvd24iLCJvblN0YXR1c1VwZGF0ZSIsIm9uQ29tcGxldGUiLCJwcm9jZXNzU3RhdHVzIiwiY291bnRkb3duVmFsdWUiLCJpc0NhcHR1cmluZyIsImJhY2t1cENvdW50ZG93biIsImNvdW50IiwicmVkcmF3SW50ZXJ2YWwiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNvdW50ZG93bkludGVydmFsIiwiY2xlYXJDYW52YXMiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwiZmlsbCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cyIsImRldmljZXMiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJlbnVtZXJhdGVEZXZpY2VzIiwidmlkZW9EZXZpY2VzIiwiZmlsdGVyIiwiZGV2aWNlIiwia2luZCIsImxlbmd0aCIsInZpZGVvIiwic3RyZWFtIiwiZ2V0VXNlck1lZGlhIiwidmlkZW9UcmFjayIsImdldFZpZGVvVHJhY2tzIiwiZ2V0Q2FwYWJpbGl0aWVzIiwiZ2V0VHJhY2tzIiwidHJhY2siLCJzdG9wIiwiY2FwYWJpbGl0aWVzIiwibWF4V2lkdGgiLCJtYXgiLCJ2YWx1ZXMiLCJtYXhIZWlnaHQiLCJpZGVhbCIsImZyYW1lUmF0ZSIsImVycm9yIiwiY2FwdHVyZUltYWdlcyIsIm9wdGlvbnMiLCJjYW52YXNSZWYiLCJjYXB0dXJlQ291bnRlciIsInNldENhcHR1cmVDb3VudGVyIiwic2V0UHJvY2Vzc1N0YXR1cyIsInRvZ2dsZVRvcEJhciIsImNhcHR1cmVGb2xkZXIiLCJjb25zdHJhaW50cyIsInNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ2aWRlb0VsZW1lbnQiLCJzcmNPYmplY3QiLCJwbGF5IiwicmVzdWx0IiwiY2FwdHVyZUNvdW50Iiwic2V0Q2FwdHVyZUNvdW50IiwiY2FwdHVyZUlkIiwic3VjY2VzcyIsInJlc29sdXRpb24iLCJlcnIiLCJtZXNzYWdlIiwiZ2V0UmFuZG9tUG9zaXRpb24iLCJwYWRkaW5nIiwiZmxvb3IiLCJyYW5kb20iLCJjYWxpYnJhdGlvbkNhcHR1cmUiLCJwb2ludEluZGV4IiwidG90YWxQb2ludHMiLCJjYXB0dXJlUmVzdWx0IiwiY2FwdHVyZUFuZFByZXZpZXdQcm9jZXNzIiwic3RhdHVzIiwic2FmZVJlc3VsdCIsInJlbW92ZSIsImNhbnZhc1N0eWxlIiwiQ291bnRTYXZlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.jsx\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js":
/*!********************************************************************!*\
  !*** ./components/collected-dataset-customized/Helper/savefile.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   captureImagesAtPoint: () => (/* binding */ captureImagesAtPoint),\n/* harmony export */   getHighestResolutionConstraints: () => (/* binding */ getHighestResolutionConstraints),\n/* harmony export */   saveCSVToServer: () => (/* binding */ saveCSVToServer),\n/* harmony export */   saveImageToServer: () => (/* binding */ saveImageToServer)\n/* harmony export */ });\n// Helper/savefile.js - Added highest resolution webcam capture\n/**\n * Resize an image to fit within a certain size limit\n * @param {string} imageDataUrl - Base64 encoded image data\n * @param {number} maxWidth - Maximum width of the resized image\n * @param {number} maxHeight - Maximum height of the resized image\n * @param {number} quality - JPEG quality (0-1)\n * @returns {Promise<string>} - Resized image data URL\n */ const resizeImage = async (imageDataUrl, maxWidth = 800, maxHeight = 600, quality = 0.85)=>{\n    return new Promise((resolve, reject)=>{\n        try {\n            const img = new Image();\n            img.onload = ()=>{\n                // Calculate new dimensions while maintaining aspect ratio\n                let width = img.width;\n                let height = img.height;\n                if (width > maxWidth) {\n                    height = Math.round(height * (maxWidth / width));\n                    width = maxWidth;\n                }\n                if (height > maxHeight) {\n                    width = Math.round(width * (maxHeight / height));\n                    height = maxHeight;\n                }\n                // Create canvas for resizing\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                // Draw and resize image on canvas\n                const ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0, width, height);\n                // Convert to JPEG with specified quality\n                const resizedDataUrl = canvas.toDataURL('image/jpeg', quality);\n                resolve(resizedDataUrl);\n            };\n            img.onerror = (err)=>reject(err);\n            img.src = imageDataUrl;\n        } catch (err) {\n            reject(err);\n        }\n    });\n};\n/**\n * Save an image or data to the server with group ID to ensure consistent numbering\n * @param {string} imageData - Base64 encoded image data\n * @param {string} filename - Filename pattern to save as\n * @param {string} type - Type of file (screen, webcam, parameters)\n * @param {string} folder - Folder to save in\n * @param {string} captureGroup - Unique ID for grouping files from the same capture\n * @returns {Promise<Object>} - Server response\n */ const saveImageToServer = async (imageData, filename, type, folder = 'eye_tracking_captures', captureGroup = null)=>{\n    try {\n        const response = await fetch('/api/save-capture', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                imageData,\n                filename,\n                type,\n                folder,\n                captureGroup\n            })\n        });\n        if (!response.ok) {\n            console.error(`Server returned ${response.status} for ${type}`);\n            // If the error is 413 (payload too large) and it's an image, try resizing\n            if (response.status === 413 && type !== 'parameters') {\n                console.warn(`Image too large for server (413 error), will resize and retry`);\n                // Start with higher quality and progressively reduce quality/size until it fits\n                const sizes = [\n                    {\n                        width: 1920,\n                        height: 1080,\n                        quality: 0.9\n                    },\n                    {\n                        width: 1280,\n                        height: 720,\n                        quality: 0.85\n                    },\n                    {\n                        width: 800,\n                        height: 600,\n                        quality: 0.8\n                    },\n                    {\n                        width: 640,\n                        height: 480,\n                        quality: 0.75\n                    }\n                ];\n                for (const { width, height, quality } of sizes){\n                    const resizedImage = await resizeImage(imageData, width, height, quality);\n                    try {\n                        const retryResponse = await fetch('/api/save-capture', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify({\n                                imageData: resizedImage,\n                                filename,\n                                type,\n                                folder,\n                                captureGroup\n                            })\n                        });\n                        if (retryResponse.ok) {\n                            console.log(`Successfully saved resized ${type} at ${width}x${height}, quality ${quality}`);\n                            return await retryResponse.json();\n                        }\n                    } catch (retryError) {\n                        console.error(`Error during retry for ${type}:`, retryError);\n                    }\n                }\n                return {\n                    success: false,\n                    error: \"Failed to save image even after resizing\"\n                };\n            }\n            return {\n                success: false,\n                error: `Server returned ${response.status}`\n            };\n        }\n        const result = await response.json();\n        return result;\n    } catch (error) {\n        console.error(`Error saving ${type}:`, error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\n * Save CSV data to the server\n * @param {string} csvData - CSV data\n * @param {string} filename - Filename pattern to save as\n * @param {string} folder - Folder to save in\n * @param {string} captureGroup - Unique ID for grouping files from the same capture\n * @returns {Promise<Object>} - Server response\n */ const saveCSVToServer = async (csvData, filename, folder = 'eye_tracking_captures', captureGroup = null)=>{\n    try {\n        const csvBlob = new Blob([\n            csvData\n        ], {\n            type: 'text/csv'\n        });\n        const reader = new FileReader();\n        const csvDataUrl = await new Promise((resolve)=>{\n            reader.onloadend = ()=>resolve(reader.result);\n            reader.readAsDataURL(csvBlob);\n        });\n        const result = await saveImageToServer(csvDataUrl, filename, 'parameters', folder, captureGroup);\n        return result;\n    } catch (error) {\n        console.error('Error saving CSV:', error);\n        return null;\n    }\n};\n/**\n * Get the highest resolution camera constraints supported by the device\n * @returns {Promise<MediaStreamConstraints>} - Camera constraints with highest resolution\n */ const getHighestResolutionConstraints = async ()=>{\n    // Try to get all available camera capabilities first\n    try {\n        // Get a temporary access to the camera\n        const tempStream = await navigator.mediaDevices.getUserMedia({\n            video: true\n        });\n        const videoTrack = tempStream.getVideoTracks()[0];\n        // Get capabilities\n        const capabilities = videoTrack.getCapabilities?.();\n        console.log(\"Camera capabilities:\", capabilities);\n        // Get current settings to check aspect ratio\n        const settings = videoTrack.getSettings();\n        console.log(\"Current camera settings:\", settings);\n        // Stop the temporary stream\n        videoTrack.stop();\n        if (capabilities && capabilities.width && capabilities.height) {\n            // Use the maximum width and height from device capabilities\n            const maxWidth = capabilities.width.max;\n            const maxHeight = capabilities.height.max;\n            // Force exact resolution instead of ideal\n            return {\n                video: {\n                    width: {\n                        exact: maxWidth\n                    },\n                    height: {\n                        exact: maxHeight\n                    },\n                    frameRate: {\n                        ideal: 30\n                    } // Try to maintain good frame rate\n                }\n            };\n        }\n    } catch (err) {\n        console.log(\"Could not get camera capabilities:\", err);\n    }\n    // Fallback: try standard resolutions in order\n    const resolutions = [\n        {\n            width: {\n                exact: 4096\n            },\n            height: {\n                exact: 2160\n            }\n        },\n        {\n            width: {\n                exact: 3840\n            },\n            height: {\n                exact: 2160\n            }\n        },\n        {\n            width: {\n                exact: 2560\n            },\n            height: {\n                exact: 1440\n            }\n        },\n        {\n            width: {\n                exact: 1920\n            },\n            height: {\n                exact: 1080\n            }\n        },\n        {\n            width: {\n                exact: 1280\n            },\n            height: {\n                exact: 720\n            }\n        },\n        {\n            width: {\n                exact: 640\n            },\n            height: {\n                exact: 480\n            }\n        },\n        {} // Default - let browser decide\n    ];\n    // Try the resolutions in order until one works\n    for (const resolution of resolutions){\n        try {\n            const constraints = {\n                video: {\n                    ...resolution,\n                    facingMode: \"user\",\n                    frameRate: {\n                        ideal: 30\n                    }\n                }\n            };\n            // Test if this resolution is supported\n            const stream = await navigator.mediaDevices.getUserMedia(constraints);\n            // Get the actual dimensions\n            const videoTrack = stream.getVideoTracks()[0];\n            const settings = videoTrack.getSettings();\n            console.log(\"Supported resolution:\", settings.width, \"x\", settings.height);\n            // Stop the test stream immediately\n            stream.getTracks().forEach((track)=>track.stop());\n            return constraints;\n        } catch (err) {\n            console.log(`Resolution not supported: ${JSON.stringify(resolution)}`);\n        // Continue to next resolution\n        }\n    }\n    // If nothing worked, return basic constraints\n    return {\n        video: {\n            width: {\n                exact: 1280\n            },\n            height: {\n                exact: 720\n            },\n            frameRate: {\n                ideal: 30\n            }\n        }\n    };\n};\n/**\n * Capture and save images at a specific point with consistent numbering\n * @param {Object} options - Capture options\n * @returns {Promise<Object>} - Capture results\n */ const captureImagesAtPoint = async ({ point, captureCount = 1, canvasRef, setCaptureCount, showCapturePreview })=>{\n    try {\n        const folder = 'eye_tracking_captures';\n        // Create a unique ID for this capture group\n        const captureGroupId = `capture-${Date.now()}`;\n        console.log(`Generated capture group ID: ${captureGroupId}`);\n        // File patterns for saving\n        const screenFilename = 'screen_001.jpg'; // Pattern only - server will assign number\n        const webcamFilename = 'webcam_001.jpg'; // Pattern only - server will assign number\n        const parameterFilename = 'parameter_001.csv'; // Pattern only - server will assign number\n        // For logging\n        console.log(\"Starting capture with group ID:\", captureGroupId);\n        const canvas = canvasRef.current;\n        let screenImage = null;\n        let webcamImage = null;\n        let captureNumber = null;\n        // Variables to store webcam resolution\n        let webcamWidth = 0;\n        let webcamHeight = 0;\n        // 1. Prepare all data first\n        // 1.1 Canvas/screen image\n        if (canvas) {\n            screenImage = canvas.toDataURL('image/png');\n        }\n        // 1.2 Webcam image - Try to get the highest resolution available \n        // with device's native capabilities instead of fixed values\n        let webcamImagePreview = null; // Separate lower-resolution version for preview\n        const videoElement = window.videoElement || document.querySelector('video');\n        if (videoElement) {\n            try {\n                // Use existing video element if available\n                // First check if videoTrack has settings info\n                let trackSettings = null;\n                if (videoElement.srcObject) {\n                    const videoTrack = videoElement.srcObject.getVideoTracks()[0];\n                    if (videoTrack) {\n                        trackSettings = videoTrack.getSettings();\n                        console.log(\"Video track settings:\", trackSettings);\n                    }\n                }\n                // Get dimensions from track if available, otherwise from element\n                if (trackSettings && trackSettings.width && trackSettings.height) {\n                    webcamWidth = trackSettings.width;\n                    webcamHeight = trackSettings.height;\n                    console.log(`Using track settings dimensions: ${webcamWidth}x${webcamHeight}`);\n                } else {\n                    webcamWidth = videoElement.videoWidth || 0;\n                    webcamHeight = videoElement.videoHeight || 0;\n                    console.log(`Using video element dimensions: ${webcamWidth}x${webcamHeight}`);\n                }\n                // Sanity check - if both dimensions are the same, double-check\n                if (webcamWidth === webcamHeight && webcamWidth > 100) {\n                    console.warn(\"Suspicious square aspect ratio detected, double-checking dimensions\");\n                    // Try to get more reliable info\n                    if (videoElement.srcObject) {\n                        const videoTrack = videoElement.srcObject.getVideoTracks()[0];\n                        if (videoTrack) {\n                            const constraints = videoTrack.getConstraints();\n                            console.log(\"Video constraints:\", constraints);\n                            // If constraints have width/height, use those\n                            if (constraints.width && constraints.height) {\n                                if (typeof constraints.width.exact === 'number') {\n                                    webcamWidth = constraints.width.exact;\n                                } else if (typeof constraints.width.ideal === 'number') {\n                                    webcamWidth = constraints.width.ideal;\n                                }\n                                if (typeof constraints.height.exact === 'number') {\n                                    webcamHeight = constraints.height.exact;\n                                } else if (typeof constraints.height.ideal === 'number') {\n                                    webcamHeight = constraints.height.ideal;\n                                }\n                                console.log(`Updated dimensions from constraints: ${webcamWidth}x${webcamHeight}`);\n                            }\n                        }\n                    }\n                }\n                // Final reality check - make sure dimensions are reasonable\n                if (webcamWidth <= 0 || webcamHeight <= 0) {\n                    console.warn(\"Invalid webcam dimensions, using defaults\");\n                    webcamWidth = 640;\n                    webcamHeight = 480;\n                }\n                const tempCanvas = document.createElement('canvas');\n                tempCanvas.width = webcamWidth;\n                tempCanvas.height = webcamHeight;\n                tempCanvas.getContext('2d').drawImage(videoElement, 0, 0, webcamWidth, webcamHeight);\n                // Create high-resolution version for saving\n                webcamImage = tempCanvas.toDataURL('image/jpeg', 0.95);\n                // Create lower-resolution version for preview\n                webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.85);\n                console.log(`Webcam capture complete at resolution: ${webcamWidth}x${webcamHeight}`);\n            } catch (err) {\n                console.error(\"Error capturing from existing video element:\", err);\n                webcamWidth = videoElement.videoWidth || 640;\n                webcamHeight = videoElement.videoHeight || 480;\n            }\n        } else {\n            try {\n                // Get highest resolution constraints for this device\n                const constraints = await getHighestResolutionConstraints();\n                console.log(\"Using camera constraints:\", constraints);\n                // Try to get stream with highest resolution\n                const stream = await navigator.mediaDevices.getUserMedia(constraints);\n                // Get the actual dimensions from the track first\n                const videoTrack = stream.getVideoTracks()[0];\n                const trackSettings = videoTrack.getSettings();\n                console.log(\"Actual camera settings:\", trackSettings);\n                // Create temporary video element to get the stream\n                const tempVideo = document.createElement('video');\n                tempVideo.srcObject = stream;\n                tempVideo.muted = true;\n                tempVideo.playsInline = true;\n                tempVideo.autoplay = true;\n                document.body.appendChild(tempVideo);\n                // Need to wait for video to be initialized\n                await new Promise((resolve)=>{\n                    tempVideo.onloadedmetadata = ()=>{\n                        tempVideo.play();\n                        resolve();\n                    };\n                    // Fallback if onloadedmetadata doesn't fire\n                    setTimeout(resolve, 1000);\n                });\n                // Wait a bit longer for the video to actually start playing\n                await new Promise((res)=>setTimeout(res, 500));\n                // Store webcam resolution - prioritize track settings over video element\n                if (trackSettings && trackSettings.width && trackSettings.height) {\n                    webcamWidth = trackSettings.width;\n                    webcamHeight = trackSettings.height;\n                    console.log(`Using track settings for resolution: ${webcamWidth}x${webcamHeight}`);\n                } else {\n                    webcamWidth = tempVideo.videoWidth || 0;\n                    webcamHeight = tempVideo.videoHeight || 0;\n                    console.log(`Using video element for resolution: ${webcamWidth}x${webcamHeight}`);\n                }\n                // Reality check on dimensions\n                if (webcamWidth <= 0 || webcamHeight <= 0) {\n                    console.warn(\"Invalid webcam dimensions, trying to get from constraints\");\n                    if (constraints.video && typeof constraints.video === 'object') {\n                        if (constraints.video.width && constraints.video.width.exact) {\n                            webcamWidth = constraints.video.width.exact;\n                        }\n                        if (constraints.video.height && constraints.video.height.exact) {\n                            webcamHeight = constraints.video.height.exact;\n                        }\n                    }\n                    if (webcamWidth <= 0 || webcamHeight <= 0) {\n                        console.warn(\"Still invalid dimensions, using defaults\");\n                        webcamWidth = 640;\n                        webcamHeight = 480;\n                    }\n                }\n                // Final check for square aspect ratio which is usually incorrect\n                if (webcamWidth === webcamHeight && webcamWidth > 100) {\n                    console.warn(\"Square aspect ratio detected, may be incorrect\");\n                    // Try to get more reliable dimensions\n                    const capabilities = videoTrack.getCapabilities?.();\n                    if (capabilities && capabilities.width && capabilities.height) {\n                        if (capabilities.width.max && capabilities.height.max) {\n                            // Assume the maximum capabilities have the correct aspect ratio\n                            const aspectRatio = capabilities.width.max / capabilities.height.max;\n                            if (Math.abs(aspectRatio - 1.33) < 0.1) {\n                                webcamHeight = Math.round(webcamWidth / 1.33);\n                                console.log(`Corrected to 4:3 aspect ratio: ${webcamWidth}x${webcamHeight}`);\n                            } else if (Math.abs(aspectRatio - 1.78) < 0.1) {\n                                webcamHeight = Math.round(webcamWidth / 1.78);\n                                console.log(`Corrected to 16:9 aspect ratio: ${webcamWidth}x${webcamHeight}`);\n                            }\n                        }\n                    }\n                }\n                const tempCanvas = document.createElement('canvas');\n                tempCanvas.width = webcamWidth;\n                tempCanvas.height = webcamHeight;\n                tempCanvas.getContext('2d').drawImage(tempVideo, 0, 0, webcamWidth, webcamHeight);\n                // Create high-resolution version for saving\n                webcamImage = tempCanvas.toDataURL('image/jpeg', 0.95);\n                // Create lower-resolution version for preview\n                webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.85);\n                console.log(`High-resolution webcam capture complete: ${webcamWidth}x${webcamHeight}`);\n                // Clean up\n                stream.getTracks().forEach((t)=>t.stop());\n                tempVideo.remove();\n            } catch (err) {\n                console.warn(\"High-resolution webcam capture failed:\", err);\n                // Try one more time with basic constraints\n                try {\n                    const stream = await navigator.mediaDevices.getUserMedia({\n                        video: true\n                    });\n                    const videoTrack = stream.getVideoTracks()[0];\n                    const trackSettings = videoTrack.getSettings();\n                    const tempVideo = document.createElement('video');\n                    tempVideo.srcObject = stream;\n                    tempVideo.muted = true;\n                    tempVideo.playsInline = true;\n                    document.body.appendChild(tempVideo);\n                    await tempVideo.play();\n                    await new Promise((res)=>setTimeout(res, 300));\n                    // Get dimensions from track settings if available\n                    if (trackSettings && trackSettings.width && trackSettings.height) {\n                        webcamWidth = trackSettings.width;\n                        webcamHeight = trackSettings.height;\n                    } else {\n                        webcamWidth = tempVideo.videoWidth || 0;\n                        webcamHeight = tempVideo.videoHeight || 0;\n                    }\n                    // Final check for invalid dimensions\n                    if (webcamWidth <= 0 || webcamHeight <= 0) {\n                        webcamWidth = 640;\n                        webcamHeight = 480;\n                    }\n                    const tempCanvas = document.createElement('canvas');\n                    tempCanvas.width = webcamWidth;\n                    tempCanvas.height = webcamHeight;\n                    tempCanvas.getContext('2d').drawImage(tempVideo, 0, 0, webcamWidth, webcamHeight);\n                    // Create high-resolution version for saving\n                    webcamImage = tempCanvas.toDataURL('image/jpeg', 0.9);\n                    // Create lower-resolution version for preview\n                    webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.8);\n                    console.log(`Basic webcam resolution captured: ${webcamWidth}x${webcamHeight}`);\n                    stream.getTracks().forEach((t)=>t.stop());\n                    tempVideo.remove();\n                } catch (fallbackErr) {\n                    console.error(\"All webcam capture methods failed:\", fallbackErr);\n                    webcamWidth = 640;\n                    webcamHeight = 480;\n                }\n            }\n        }\n        // 1.3 Parameter data - Now including webcam resolution\n        const csvData = [\n            \"name,value\",\n            `dot_x,${point.x}`,\n            `dot_y,${point.y}`,\n            `canvas_width,${canvas?.width || 0}`,\n            `canvas_height,${canvas?.height || 0}`,\n            `window_width,${window.innerWidth}`,\n            `window_height,${window.innerHeight}`,\n            `webcam_resolution_width,${webcamWidth}`,\n            `webcam_resolution_height,${webcamHeight}`,\n            `timestamp,${new Date().toISOString()}`,\n            `group_id,${captureGroupId}`\n        ].join('\\n');\n        // 2. Save all files with the same group ID so they get the same number\n        // 2.1 Save parameter file\n        const paramResult = await saveCSVToServer(csvData, parameterFilename, folder, captureGroupId);\n        if (paramResult && paramResult.success) {\n            captureNumber = paramResult.number;\n            console.log(`Server assigned capture number: ${captureNumber} for group: ${captureGroupId}`);\n        }\n        // 2.2 Save screen image if available\n        let screenResult = null;\n        if (screenImage) {\n            screenResult = await saveImageToServer(screenImage, screenFilename, 'screen', folder, captureGroupId);\n        }\n        // 2.3 Save webcam image if available\n        let webcamResult = null;\n        if (webcamImage) {\n            webcamResult = await saveImageToServer(webcamImage, webcamFilename, 'webcam', folder, captureGroupId);\n        }\n        // 3. Show preview if needed - use the lower resolution version for preview\n        if (showCapturePreview && typeof showCapturePreview === 'function') {\n            showCapturePreview(screenImage, webcamImagePreview || webcamImage, point);\n        }\n        // 4. Increment counter for next capture\n        if (setCaptureCount && typeof setCaptureCount === 'function') {\n            setCaptureCount((prevCount)=>prevCount + 1);\n        }\n        // 5. Return results - now including webcam resolution\n        return {\n            screenImage,\n            webcamImage,\n            success: true,\n            point,\n            captureNumber,\n            groupId: captureGroupId,\n            webcamWidth,\n            webcamHeight\n        };\n    } catch (err) {\n        console.error(\"captureImagesAtPoint failed:\", err);\n        return {\n            success: false,\n            error: err.message,\n            screenImage: null,\n            webcamImage: null,\n            webcamWidth: 0,\n            webcamHeight: 0\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLCtEQUErRDtBQUUvRDs7Ozs7OztDQU9DLEdBQ0QsTUFBTUEsY0FBYyxPQUFPQyxjQUFjQyxXQUFXLEdBQUcsRUFBRUMsWUFBWSxHQUFHLEVBQUVDLFVBQVUsSUFBSTtJQUN0RixPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7UUFDM0IsSUFBSTtZQUNGLE1BQU1DLE1BQU0sSUFBSUM7WUFDaEJELElBQUlFLE1BQU0sR0FBRztnQkFDWCwwREFBMEQ7Z0JBQzFELElBQUlDLFFBQVFILElBQUlHLEtBQUs7Z0JBQ3JCLElBQUlDLFNBQVNKLElBQUlJLE1BQU07Z0JBRXZCLElBQUlELFFBQVFULFVBQVU7b0JBQ3BCVSxTQUFTQyxLQUFLQyxLQUFLLENBQUNGLFNBQVVWLENBQUFBLFdBQVdTLEtBQUk7b0JBQzdDQSxRQUFRVDtnQkFDVjtnQkFFQSxJQUFJVSxTQUFTVCxXQUFXO29CQUN0QlEsUUFBUUUsS0FBS0MsS0FBSyxDQUFDSCxRQUFTUixDQUFBQSxZQUFZUyxNQUFLO29CQUM3Q0EsU0FBU1Q7Z0JBQ1g7Z0JBRUEsNkJBQTZCO2dCQUM3QixNQUFNWSxTQUFTQyxTQUFTQyxhQUFhLENBQUM7Z0JBQ3RDRixPQUFPSixLQUFLLEdBQUdBO2dCQUNmSSxPQUFPSCxNQUFNLEdBQUdBO2dCQUVoQixrQ0FBa0M7Z0JBQ2xDLE1BQU1NLE1BQU1ILE9BQU9JLFVBQVUsQ0FBQztnQkFDOUJELElBQUlFLFNBQVMsQ0FBQ1osS0FBSyxHQUFHLEdBQUdHLE9BQU9DO2dCQUVoQyx5Q0FBeUM7Z0JBQ3pDLE1BQU1TLGlCQUFpQk4sT0FBT08sU0FBUyxDQUFDLGNBQWNsQjtnQkFDdERFLFFBQVFlO1lBQ1Y7WUFFQWIsSUFBSWUsT0FBTyxHQUFHLENBQUNDLE1BQVFqQixPQUFPaUI7WUFDOUJoQixJQUFJ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RixLQUFLO1FBQ1pnQixRQUFRQyxLQUFLLENBQUMsZ0NBQWdDakI7UUFDOUMsT0FBTztZQUNMMEIsU0FBUztZQUNUVCxPQUFPakIsSUFBSTRCLE9BQU87WUFDbEJnRCxhQUFhO1lBQ2JDLGFBQWE7WUFDYkUsYUFBYTtZQUNiQyxjQUFjO1FBQ2hCO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvYXBwL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSGVscGVyL3NhdmVmaWxlLmpzIC0gQWRkZWQgaGlnaGVzdCByZXNvbHV0aW9uIHdlYmNhbSBjYXB0dXJlXG5cbi8qKlxuICogUmVzaXplIGFuIGltYWdlIHRvIGZpdCB3aXRoaW4gYSBjZXJ0YWluIHNpemUgbGltaXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZURhdGFVcmwgLSBCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4V2lkdGggLSBNYXhpbXVtIHdpZHRoIG9mIHRoZSByZXNpemVkIGltYWdlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4SGVpZ2h0IC0gTWF4aW11bSBoZWlnaHQgb2YgdGhlIHJlc2l6ZWQgaW1hZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gSlBFRyBxdWFsaXR5ICgwLTEpXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFJlc2l6ZWQgaW1hZ2UgZGF0YSBVUkxcbiAqL1xuY29uc3QgcmVzaXplSW1hZ2UgPSBhc3luYyAoaW1hZ2VEYXRhVXJsLCBtYXhXaWR0aCA9IDgwMCwgbWF4SGVpZ2h0ID0gNjAwLCBxdWFsaXR5ID0gMC44NSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgZGltZW5zaW9ucyB3aGlsZSBtYWludGFpbmluZyBhc3BlY3QgcmF0aW9cbiAgICAgICAgbGV0IHdpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIGlmICh3aWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgKiAobWF4V2lkdGggLyB3aWR0aCkpO1xuICAgICAgICAgIHdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChoZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiAobWF4SGVpZ2h0IC8gaGVpZ2h0KSk7XG4gICAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgY2FudmFzIGZvciByZXNpemluZ1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IGFuZCByZXNpemUgaW1hZ2Ugb24gY2FudmFzXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb252ZXJ0IHRvIEpQRUcgd2l0aCBzcGVjaWZpZWQgcXVhbGl0eVxuICAgICAgICBjb25zdCByZXNpemVkRGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCBxdWFsaXR5KTtcbiAgICAgICAgcmVzb2x2ZShyZXNpemVkRGF0YVVybCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBpbWcub25lcnJvciA9IChlcnIpID0+IHJlamVjdChlcnIpO1xuICAgICAgaW1nLnNyYyA9IGltYWdlRGF0YVVybDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFNhdmUgYW4gaW1hZ2Ugb3IgZGF0YSB0byB0aGUgc2VydmVyIHdpdGggZ3JvdXAgSUQgdG8gZW5zdXJlIGNvbnNpc3RlbnQgbnVtYmVyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VEYXRhIC0gQmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lIC0gRmlsZW5hbWUgcGF0dGVybiB0byBzYXZlIGFzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFR5cGUgb2YgZmlsZSAoc2NyZWVuLCB3ZWJjYW0sIHBhcmFtZXRlcnMpXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9sZGVyIC0gRm9sZGVyIHRvIHNhdmUgaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjYXB0dXJlR3JvdXAgLSBVbmlxdWUgSUQgZm9yIGdyb3VwaW5nIGZpbGVzIGZyb20gdGhlIHNhbWUgY2FwdHVyZVxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBTZXJ2ZXIgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IHNhdmVJbWFnZVRvU2VydmVyID0gYXN5bmMgKGltYWdlRGF0YSwgZmlsZW5hbWUsIHR5cGUsIGZvbGRlciA9ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnLCBjYXB0dXJlR3JvdXAgPSBudWxsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zYXZlLWNhcHR1cmUnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICAgIGltYWdlRGF0YSwgXG4gICAgICAgIGZpbGVuYW1lLCBcbiAgICAgICAgdHlwZSwgXG4gICAgICAgIGZvbGRlcixcbiAgICAgICAgY2FwdHVyZUdyb3VwIC8vIEluY2x1ZGUgdGhlIGNhcHR1cmUgZ3JvdXAgSURcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc29sZS5lcnJvcihgU2VydmVyIHJldHVybmVkICR7cmVzcG9uc2Uuc3RhdHVzfSBmb3IgJHt0eXBlfWApO1xuICAgICAgXG4gICAgICAvLyBJZiB0aGUgZXJyb3IgaXMgNDEzIChwYXlsb2FkIHRvbyBsYXJnZSkgYW5kIGl0J3MgYW4gaW1hZ2UsIHRyeSByZXNpemluZ1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDEzICYmIHR5cGUgIT09ICdwYXJhbWV0ZXJzJykge1xuICAgICAgICBjb25zb2xlLndhcm4oYEltYWdlIHRvbyBsYXJnZSBmb3Igc2VydmVyICg0MTMgZXJyb3IpLCB3aWxsIHJlc2l6ZSBhbmQgcmV0cnlgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0YXJ0IHdpdGggaGlnaGVyIHF1YWxpdHkgYW5kIHByb2dyZXNzaXZlbHkgcmVkdWNlIHF1YWxpdHkvc2l6ZSB1bnRpbCBpdCBmaXRzXG4gICAgICAgIGNvbnN0IHNpemVzID0gW1xuICAgICAgICAgIHsgd2lkdGg6IDE5MjAsIGhlaWdodDogMTA4MCwgcXVhbGl0eTogMC45IH0sXG4gICAgICAgICAgeyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAsIHF1YWxpdHk6IDAuODUgfSxcbiAgICAgICAgICB7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwLCBxdWFsaXR5OiAwLjggfSxcbiAgICAgICAgICB7IHdpZHRoOiA2NDAsIGhlaWdodDogNDgwLCBxdWFsaXR5OiAwLjc1IH1cbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBxdWFsaXR5IH0gb2Ygc2l6ZXMpIHtcbiAgICAgICAgICBjb25zdCByZXNpemVkSW1hZ2UgPSBhd2FpdCByZXNpemVJbWFnZShpbWFnZURhdGEsIHdpZHRoLCBoZWlnaHQsIHF1YWxpdHkpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2F2ZS1jYXB0dXJlJywge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgICAgICAgICAgICBpbWFnZURhdGE6IHJlc2l6ZWRJbWFnZSwgXG4gICAgICAgICAgICAgICAgZmlsZW5hbWUsIFxuICAgICAgICAgICAgICAgIHR5cGUsIFxuICAgICAgICAgICAgICAgIGZvbGRlcixcbiAgICAgICAgICAgICAgICBjYXB0dXJlR3JvdXBcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmV0cnlSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHNhdmVkIHJlc2l6ZWQgJHt0eXBlfSBhdCAke3dpZHRofXgke2hlaWdodH0sIHF1YWxpdHkgJHtxdWFsaXR5fWApO1xuICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0cnlSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocmV0cnlFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZHVyaW5nIHJldHJ5IGZvciAke3R5cGV9OmAsIHJldHJ5RXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBzYXZlIGltYWdlIGV2ZW4gYWZ0ZXIgcmVzaXppbmdcIiB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBTZXJ2ZXIgcmV0dXJuZWQgJHtyZXNwb25zZS5zdGF0dXN9YCB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzYXZpbmcgJHt0eXBlfTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbn07XG5cbi8qKlxuICogU2F2ZSBDU1YgZGF0YSB0byB0aGUgc2VydmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gY3N2RGF0YSAtIENTViBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWUgLSBGaWxlbmFtZSBwYXR0ZXJuIHRvIHNhdmUgYXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb2xkZXIgLSBGb2xkZXIgdG8gc2F2ZSBpblxuICogQHBhcmFtIHtzdHJpbmd9IGNhcHR1cmVHcm91cCAtIFVuaXF1ZSBJRCBmb3IgZ3JvdXBpbmcgZmlsZXMgZnJvbSB0aGUgc2FtZSBjYXB0dXJlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSAtIFNlcnZlciByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3Qgc2F2ZUNTVlRvU2VydmVyID0gYXN5bmMgKGNzdkRhdGEsIGZpbGVuYW1lLCBmb2xkZXIgPSAnZXllX3RyYWNraW5nX2NhcHR1cmVzJywgY2FwdHVyZUdyb3VwID0gbnVsbCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNzdkJsb2IgPSBuZXcgQmxvYihbY3N2RGF0YV0sIHsgdHlwZTogJ3RleHQvY3N2JyB9KTtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGNvbnN0IGNzdkRhdGFVcmwgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChjc3ZCbG9iKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhdmVJbWFnZVRvU2VydmVyKGNzdkRhdGFVcmwsIGZpbGVuYW1lLCAncGFyYW1ldGVycycsIGZvbGRlciwgY2FwdHVyZUdyb3VwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBDU1Y6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCB0aGUgaGlnaGVzdCByZXNvbHV0aW9uIGNhbWVyYSBjb25zdHJhaW50cyBzdXBwb3J0ZWQgYnkgdGhlIGRldmljZVxuICogQHJldHVybnMge1Byb21pc2U8TWVkaWFTdHJlYW1Db25zdHJhaW50cz59IC0gQ2FtZXJhIGNvbnN0cmFpbnRzIHdpdGggaGlnaGVzdCByZXNvbHV0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzID0gYXN5bmMgKCkgPT4ge1xuICAvLyBUcnkgdG8gZ2V0IGFsbCBhdmFpbGFibGUgY2FtZXJhIGNhcGFiaWxpdGllcyBmaXJzdFxuICB0cnkge1xuICAgIC8vIEdldCBhIHRlbXBvcmFyeSBhY2Nlc3MgdG8gdGhlIGNhbWVyYVxuICAgIGNvbnN0IHRlbXBTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IHZpZGVvOiB0cnVlIH0pO1xuICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB0ZW1wU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgXG4gICAgLy8gR2V0IGNhcGFiaWxpdGllc1xuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHZpZGVvVHJhY2suZ2V0Q2FwYWJpbGl0aWVzPy4oKTtcbiAgICBjb25zb2xlLmxvZyhcIkNhbWVyYSBjYXBhYmlsaXRpZXM6XCIsIGNhcGFiaWxpdGllcyk7XG4gICAgXG4gICAgLy8gR2V0IGN1cnJlbnQgc2V0dGluZ3MgdG8gY2hlY2sgYXNwZWN0IHJhdGlvXG4gICAgY29uc3Qgc2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgY29uc29sZS5sb2coXCJDdXJyZW50IGNhbWVyYSBzZXR0aW5nczpcIiwgc2V0dGluZ3MpO1xuICAgIFxuICAgIC8vIFN0b3AgdGhlIHRlbXBvcmFyeSBzdHJlYW1cbiAgICB2aWRlb1RyYWNrLnN0b3AoKTtcbiAgICBcbiAgICBpZiAoY2FwYWJpbGl0aWVzICYmIGNhcGFiaWxpdGllcy53aWR0aCAmJiBjYXBhYmlsaXRpZXMuaGVpZ2h0KSB7XG4gICAgICAvLyBVc2UgdGhlIG1heGltdW0gd2lkdGggYW5kIGhlaWdodCBmcm9tIGRldmljZSBjYXBhYmlsaXRpZXNcbiAgICAgIGNvbnN0IG1heFdpZHRoID0gY2FwYWJpbGl0aWVzLndpZHRoLm1heDtcbiAgICAgIGNvbnN0IG1heEhlaWdodCA9IGNhcGFiaWxpdGllcy5oZWlnaHQubWF4O1xuICAgICAgXG4gICAgICAvLyBGb3JjZSBleGFjdCByZXNvbHV0aW9uIGluc3RlYWQgb2YgaWRlYWxcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgd2lkdGg6IHsgZXhhY3Q6IG1heFdpZHRoIH0sXG4gICAgICAgICAgaGVpZ2h0OiB7IGV4YWN0OiBtYXhIZWlnaHQgfSxcbiAgICAgICAgICBmcmFtZVJhdGU6IHsgaWRlYWw6IDMwIH0gLy8gVHJ5IHRvIG1haW50YWluIGdvb2QgZnJhbWUgcmF0ZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgZ2V0IGNhbWVyYSBjYXBhYmlsaXRpZXM6XCIsIGVycik7XG4gIH1cbiAgXG4gIC8vIEZhbGxiYWNrOiB0cnkgc3RhbmRhcmQgcmVzb2x1dGlvbnMgaW4gb3JkZXJcbiAgY29uc3QgcmVzb2x1dGlvbnMgPSBbXG4gICAgeyB3aWR0aDogeyBleGFjdDogNDA5NiB9LCBoZWlnaHQ6IHsgZXhhY3Q6IDIxNjAgfSB9LCAvLyA0S1xuICAgIHsgd2lkdGg6IHsgZXhhY3Q6IDM4NDAgfSwgaGVpZ2h0OiB7IGV4YWN0OiAyMTYwIH0gfSwgLy8gNEsgVUhEXG4gICAgeyB3aWR0aDogeyBleGFjdDogMjU2MCB9LCBoZWlnaHQ6IHsgZXhhY3Q6IDE0NDAgfSB9LCAvLyAySyBRSERcbiAgICB7IHdpZHRoOiB7IGV4YWN0OiAxOTIwIH0sIGhlaWdodDogeyBleGFjdDogMTA4MCB9IH0sIC8vIEZ1bGwgSERcbiAgICB7IHdpZHRoOiB7IGV4YWN0OiAxMjgwIH0sIGhlaWdodDogeyBleGFjdDogNzIwIH0gfSwgIC8vIEhEXG4gICAgeyB3aWR0aDogeyBleGFjdDogNjQwIH0sIGhlaWdodDogeyBleGFjdDogNDgwIH0gfSwgICAvLyBWR0FcbiAgICB7fSAgLy8gRGVmYXVsdCAtIGxldCBicm93c2VyIGRlY2lkZVxuICBdO1xuXG4gIC8vIFRyeSB0aGUgcmVzb2x1dGlvbnMgaW4gb3JkZXIgdW50aWwgb25lIHdvcmtzXG4gIGZvciAoY29uc3QgcmVzb2x1dGlvbiBvZiByZXNvbHV0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25zdHJhaW50cyA9IHtcbiAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICAuLi5yZXNvbHV0aW9uLFxuICAgICAgICAgIGZhY2luZ01vZGU6IFwidXNlclwiLFxuICAgICAgICAgIGZyYW1lUmF0ZTogeyBpZGVhbDogMzAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBUZXN0IGlmIHRoaXMgcmVzb2x1dGlvbiBpcyBzdXBwb3J0ZWRcbiAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBhY3R1YWwgZGltZW5zaW9uc1xuICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIlN1cHBvcnRlZCByZXNvbHV0aW9uOlwiLCBzZXR0aW5ncy53aWR0aCwgXCJ4XCIsIHNldHRpbmdzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIFN0b3AgdGhlIHRlc3Qgc3RyZWFtIGltbWVkaWF0ZWx5XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgXG4gICAgICByZXR1cm4gY29uc3RyYWludHM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhgUmVzb2x1dGlvbiBub3Qgc3VwcG9ydGVkOiAke0pTT04uc3RyaW5naWZ5KHJlc29sdXRpb24pfWApO1xuICAgICAgLy8gQ29udGludWUgdG8gbmV4dCByZXNvbHV0aW9uXG4gICAgfVxuICB9XG4gIFxuICAvLyBJZiBub3RoaW5nIHdvcmtlZCwgcmV0dXJuIGJhc2ljIGNvbnN0cmFpbnRzXG4gIHJldHVybiB7IFxuICAgIHZpZGVvOiB7XG4gICAgICB3aWR0aDogeyBleGFjdDogMTI4MCB9LFxuICAgICAgaGVpZ2h0OiB7IGV4YWN0OiA3MjAgfSxcbiAgICAgIGZyYW1lUmF0ZTogeyBpZGVhbDogMzAgfVxuICAgIH0gXG4gIH07XG59O1xuXG4vKipcbiAqIENhcHR1cmUgYW5kIHNhdmUgaW1hZ2VzIGF0IGEgc3BlY2lmaWMgcG9pbnQgd2l0aCBjb25zaXN0ZW50IG51bWJlcmluZ1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBDYXB0dXJlIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gQ2FwdHVyZSByZXN1bHRzXG4gKi9cbmV4cG9ydCBjb25zdCBjYXB0dXJlSW1hZ2VzQXRQb2ludCA9IGFzeW5jICh7IHBvaW50LCBjYXB0dXJlQ291bnQgPSAxLCBjYW52YXNSZWYsIHNldENhcHR1cmVDb3VudCwgc2hvd0NhcHR1cmVQcmV2aWV3IH0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmb2xkZXIgPSAnZXllX3RyYWNraW5nX2NhcHR1cmVzJztcbiAgICBcbiAgICAvLyBDcmVhdGUgYSB1bmlxdWUgSUQgZm9yIHRoaXMgY2FwdHVyZSBncm91cFxuICAgIGNvbnN0IGNhcHR1cmVHcm91cElkID0gYGNhcHR1cmUtJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc29sZS5sb2coYEdlbmVyYXRlZCBjYXB0dXJlIGdyb3VwIElEOiAke2NhcHR1cmVHcm91cElkfWApO1xuICAgIFxuICAgIC8vIEZpbGUgcGF0dGVybnMgZm9yIHNhdmluZ1xuICAgIGNvbnN0IHNjcmVlbkZpbGVuYW1lID0gJ3NjcmVlbl8wMDEuanBnJzsgIC8vIFBhdHRlcm4gb25seSAtIHNlcnZlciB3aWxsIGFzc2lnbiBudW1iZXJcbiAgICBjb25zdCB3ZWJjYW1GaWxlbmFtZSA9ICd3ZWJjYW1fMDAxLmpwZyc7ICAvLyBQYXR0ZXJuIG9ubHkgLSBzZXJ2ZXIgd2lsbCBhc3NpZ24gbnVtYmVyXG4gICAgY29uc3QgcGFyYW1ldGVyRmlsZW5hbWUgPSAncGFyYW1ldGVyXzAwMS5jc3YnOyAgLy8gUGF0dGVybiBvbmx5IC0gc2VydmVyIHdpbGwgYXNzaWduIG51bWJlclxuICAgIFxuICAgIC8vIEZvciBsb2dnaW5nXG4gICAgY29uc29sZS5sb2coXCJTdGFydGluZyBjYXB0dXJlIHdpdGggZ3JvdXAgSUQ6XCIsIGNhcHR1cmVHcm91cElkKTtcbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBsZXQgc2NyZWVuSW1hZ2UgPSBudWxsO1xuICAgIGxldCB3ZWJjYW1JbWFnZSA9IG51bGw7XG4gICAgbGV0IGNhcHR1cmVOdW1iZXIgPSBudWxsO1xuICAgIFxuICAgIC8vIFZhcmlhYmxlcyB0byBzdG9yZSB3ZWJjYW0gcmVzb2x1dGlvblxuICAgIGxldCB3ZWJjYW1XaWR0aCA9IDA7XG4gICAgbGV0IHdlYmNhbUhlaWdodCA9IDA7XG4gICAgXG4gICAgLy8gMS4gUHJlcGFyZSBhbGwgZGF0YSBmaXJzdFxuICAgIFxuICAgIC8vIDEuMSBDYW52YXMvc2NyZWVuIGltYWdlXG4gICAgaWYgKGNhbnZhcykge1xuICAgICAgc2NyZWVuSW1hZ2UgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICB9XG5cbiAgICAvLyAxLjIgV2ViY2FtIGltYWdlIC0gVHJ5IHRvIGdldCB0aGUgaGlnaGVzdCByZXNvbHV0aW9uIGF2YWlsYWJsZSBcbiAgICAvLyB3aXRoIGRldmljZSdzIG5hdGl2ZSBjYXBhYmlsaXRpZXMgaW5zdGVhZCBvZiBmaXhlZCB2YWx1ZXNcbiAgICBsZXQgd2ViY2FtSW1hZ2VQcmV2aWV3ID0gbnVsbDsgLy8gU2VwYXJhdGUgbG93ZXItcmVzb2x1dGlvbiB2ZXJzaW9uIGZvciBwcmV2aWV3XG4gICAgY29uc3QgdmlkZW9FbGVtZW50ID0gd2luZG93LnZpZGVvRWxlbWVudCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpO1xuICAgIFxuICAgIGlmICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFVzZSBleGlzdGluZyB2aWRlbyBlbGVtZW50IGlmIGF2YWlsYWJsZVxuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB2aWRlb1RyYWNrIGhhcyBzZXR0aW5ncyBpbmZvXG4gICAgICAgIGxldCB0cmFja1NldHRpbmdzID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGlmICh2aWRlb0VsZW1lbnQuc3JjT2JqZWN0KSB7XG4gICAgICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHZpZGVvRWxlbWVudC5zcmNPYmplY3QuZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgICAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgICAgICAgdHJhY2tTZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmlkZW8gdHJhY2sgc2V0dGluZ3M6XCIsIHRyYWNrU2V0dGluZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGRpbWVuc2lvbnMgZnJvbSB0cmFjayBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmcm9tIGVsZW1lbnRcbiAgICAgICAgaWYgKHRyYWNrU2V0dGluZ3MgJiYgdHJhY2tTZXR0aW5ncy53aWR0aCAmJiB0cmFja1NldHRpbmdzLmhlaWdodCkge1xuICAgICAgICAgIHdlYmNhbVdpZHRoID0gdHJhY2tTZXR0aW5ncy53aWR0aDtcbiAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSB0cmFja1NldHRpbmdzLmhlaWdodDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgdHJhY2sgc2V0dGluZ3MgZGltZW5zaW9uczogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSB2aWRlb0VsZW1lbnQudmlkZW9XaWR0aCB8fCAwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHZpZGVvRWxlbWVudC52aWRlb0hlaWdodCB8fCAwO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB2aWRlbyBlbGVtZW50IGRpbWVuc2lvbnM6ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTYW5pdHkgY2hlY2sgLSBpZiBib3RoIGRpbWVuc2lvbnMgYXJlIHRoZSBzYW1lLCBkb3VibGUtY2hlY2tcbiAgICAgICAgaWYgKHdlYmNhbVdpZHRoID09PSB3ZWJjYW1IZWlnaHQgJiYgd2ViY2FtV2lkdGggPiAxMDApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJTdXNwaWNpb3VzIHNxdWFyZSBhc3BlY3QgcmF0aW8gZGV0ZWN0ZWQsIGRvdWJsZS1jaGVja2luZyBkaW1lbnNpb25zXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFRyeSB0byBnZXQgbW9yZSByZWxpYWJsZSBpbmZvXG4gICAgICAgICAgaWYgKHZpZGVvRWxlbWVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0LmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICAgICAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IHZpZGVvVHJhY2suZ2V0Q29uc3RyYWludHMoKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJWaWRlbyBjb25zdHJhaW50czpcIiwgY29uc3RyYWludHMpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSWYgY29uc3RyYWludHMgaGF2ZSB3aWR0aC9oZWlnaHQsIHVzZSB0aG9zZVxuICAgICAgICAgICAgICBpZiAoY29uc3RyYWludHMud2lkdGggJiYgY29uc3RyYWludHMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJhaW50cy53aWR0aC5leGFjdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gY29uc3RyYWludHMud2lkdGguZXhhY3Q7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWludHMud2lkdGguaWRlYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICB3ZWJjYW1XaWR0aCA9IGNvbnN0cmFpbnRzLndpZHRoLmlkZWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnN0cmFpbnRzLmhlaWdodC5leGFjdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IGNvbnN0cmFpbnRzLmhlaWdodC5leGFjdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zdHJhaW50cy5oZWlnaHQuaWRlYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSBjb25zdHJhaW50cy5oZWlnaHQuaWRlYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVcGRhdGVkIGRpbWVuc2lvbnMgZnJvbSBjb25zdHJhaW50czogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmFsIHJlYWxpdHkgY2hlY2sgLSBtYWtlIHN1cmUgZGltZW5zaW9ucyBhcmUgcmVhc29uYWJsZVxuICAgICAgICBpZiAod2ViY2FtV2lkdGggPD0gMCB8fCB3ZWJjYW1IZWlnaHQgPD0gMCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgd2ViY2FtIGRpbWVuc2lvbnMsIHVzaW5nIGRlZmF1bHRzXCIpO1xuICAgICAgICAgIHdlYmNhbVdpZHRoID0gNjQwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IDQ4MDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gd2ViY2FtV2lkdGg7XG4gICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gd2ViY2FtSGVpZ2h0O1xuICAgICAgICB0ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKHZpZGVvRWxlbWVudCwgMCwgMCwgd2ViY2FtV2lkdGgsIHdlYmNhbUhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgaGlnaC1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHNhdmluZ1xuICAgICAgICB3ZWJjYW1JbWFnZSA9IHRlbXBDYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgMC45NSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgbG93ZXItcmVzb2x1dGlvbiB2ZXJzaW9uIGZvciBwcmV2aWV3XG4gICAgICAgIHdlYmNhbUltYWdlUHJldmlldyA9IGF3YWl0IHJlc2l6ZUltYWdlKHdlYmNhbUltYWdlLCA2NDAsIDQ4MCwgMC44NSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgV2ViY2FtIGNhcHR1cmUgY29tcGxldGUgYXQgcmVzb2x1dGlvbjogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhcHR1cmluZyBmcm9tIGV4aXN0aW5nIHZpZGVvIGVsZW1lbnQ6XCIsIGVycik7XG4gICAgICAgIHdlYmNhbVdpZHRoID0gdmlkZW9FbGVtZW50LnZpZGVvV2lkdGggfHwgNjQwO1xuICAgICAgICB3ZWJjYW1IZWlnaHQgPSB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQgfHwgNDgwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBHZXQgaGlnaGVzdCByZXNvbHV0aW9uIGNvbnN0cmFpbnRzIGZvciB0aGlzIGRldmljZVxuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGF3YWl0IGdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyBjYW1lcmEgY29uc3RyYWludHM6XCIsIGNvbnN0cmFpbnRzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSB0byBnZXQgc3RyZWFtIHdpdGggaGlnaGVzdCByZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCB0aGUgYWN0dWFsIGRpbWVuc2lvbnMgZnJvbSB0aGUgdHJhY2sgZmlyc3RcbiAgICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgICBjb25zdCB0cmFja1NldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbCBjYW1lcmEgc2V0dGluZ3M6XCIsIHRyYWNrU2V0dGluZ3MpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHRlbXBvcmFyeSB2aWRlbyBlbGVtZW50IHRvIGdldCB0aGUgc3RyZWFtXG4gICAgICAgIGNvbnN0IHRlbXBWaWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIHRlbXBWaWRlby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgIHRlbXBWaWRlby5tdXRlZCA9IHRydWU7XG4gICAgICAgIHRlbXBWaWRlby5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgICAgIHRlbXBWaWRlby5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcFZpZGVvKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE5lZWQgdG8gd2FpdCBmb3IgdmlkZW8gdG8gYmUgaW5pdGlhbGl6ZWRcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgdGVtcFZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgICAgICB0ZW1wVmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gRmFsbGJhY2sgaWYgb25sb2FkZWRtZXRhZGF0YSBkb2Vzbid0IGZpcmVcbiAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFdhaXQgYSBiaXQgbG9uZ2VyIGZvciB0aGUgdmlkZW8gdG8gYWN0dWFsbHkgc3RhcnQgcGxheWluZ1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgd2ViY2FtIHJlc29sdXRpb24gLSBwcmlvcml0aXplIHRyYWNrIHNldHRpbmdzIG92ZXIgdmlkZW8gZWxlbWVudFxuICAgICAgICBpZiAodHJhY2tTZXR0aW5ncyAmJiB0cmFja1NldHRpbmdzLndpZHRoICYmIHRyYWNrU2V0dGluZ3MuaGVpZ2h0KSB7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSB0cmFja1NldHRpbmdzLndpZHRoO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHRyYWNrU2V0dGluZ3MuaGVpZ2h0O1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB0cmFjayBzZXR0aW5ncyBmb3IgcmVzb2x1dGlvbjogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSB0ZW1wVmlkZW8udmlkZW9XaWR0aCB8fCAwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHRlbXBWaWRlby52aWRlb0hlaWdodCB8fCAwO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB2aWRlbyBlbGVtZW50IGZvciByZXNvbHV0aW9uOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVhbGl0eSBjaGVjayBvbiBkaW1lbnNpb25zXG4gICAgICAgIGlmICh3ZWJjYW1XaWR0aCA8PSAwIHx8IHdlYmNhbUhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCB3ZWJjYW0gZGltZW5zaW9ucywgdHJ5aW5nIHRvIGdldCBmcm9tIGNvbnN0cmFpbnRzXCIpO1xuICAgICAgICAgIGlmIChjb25zdHJhaW50cy52aWRlbyAmJiB0eXBlb2YgY29uc3RyYWludHMudmlkZW8gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoY29uc3RyYWludHMudmlkZW8ud2lkdGggJiYgY29uc3RyYWludHMudmlkZW8ud2lkdGguZXhhY3QpIHtcbiAgICAgICAgICAgICAgd2ViY2FtV2lkdGggPSBjb25zdHJhaW50cy52aWRlby53aWR0aC5leGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50cy52aWRlby5oZWlnaHQgJiYgY29uc3RyYWludHMudmlkZW8uaGVpZ2h0LmV4YWN0KSB7XG4gICAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IGNvbnN0cmFpbnRzLnZpZGVvLmhlaWdodC5leGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHdlYmNhbVdpZHRoIDw9IDAgfHwgd2ViY2FtSGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlN0aWxsIGludmFsaWQgZGltZW5zaW9ucywgdXNpbmcgZGVmYXVsdHNcIik7XG4gICAgICAgICAgICB3ZWJjYW1XaWR0aCA9IDY0MDtcbiAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IDQ4MDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmFsIGNoZWNrIGZvciBzcXVhcmUgYXNwZWN0IHJhdGlvIHdoaWNoIGlzIHVzdWFsbHkgaW5jb3JyZWN0XG4gICAgICAgIGlmICh3ZWJjYW1XaWR0aCA9PT0gd2ViY2FtSGVpZ2h0ICYmIHdlYmNhbVdpZHRoID4gMTAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiU3F1YXJlIGFzcGVjdCByYXRpbyBkZXRlY3RlZCwgbWF5IGJlIGluY29ycmVjdFwiKTtcbiAgICAgICAgICAvLyBUcnkgdG8gZ2V0IG1vcmUgcmVsaWFibGUgZGltZW5zaW9uc1xuICAgICAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHZpZGVvVHJhY2suZ2V0Q2FwYWJpbGl0aWVzPy4oKTtcbiAgICAgICAgICBpZiAoY2FwYWJpbGl0aWVzICYmIGNhcGFiaWxpdGllcy53aWR0aCAmJiBjYXBhYmlsaXRpZXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoY2FwYWJpbGl0aWVzLndpZHRoLm1heCAmJiBjYXBhYmlsaXRpZXMuaGVpZ2h0Lm1heCkge1xuICAgICAgICAgICAgICAvLyBBc3N1bWUgdGhlIG1heGltdW0gY2FwYWJpbGl0aWVzIGhhdmUgdGhlIGNvcnJlY3QgYXNwZWN0IHJhdGlvXG4gICAgICAgICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gY2FwYWJpbGl0aWVzLndpZHRoLm1heCAvIGNhcGFiaWxpdGllcy5oZWlnaHQubWF4O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGFzcGVjdFJhdGlvIC0gMS4zMykgPCAwLjEpIHsgLy8gQ2xvc2UgdG8gNDozXG4gICAgICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gTWF0aC5yb3VuZCh3ZWJjYW1XaWR0aCAvIDEuMzMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb3JyZWN0ZWQgdG8gNDozIGFzcGVjdCByYXRpbzogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoYXNwZWN0UmF0aW8gLSAxLjc4KSA8IDAuMSkgeyAvLyBDbG9zZSB0byAxNjo5XG4gICAgICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gTWF0aC5yb3VuZCh3ZWJjYW1XaWR0aCAvIDEuNzgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb3JyZWN0ZWQgdG8gMTY6OSBhc3BlY3QgcmF0aW86ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRlbXBDYW52YXMud2lkdGggPSB3ZWJjYW1XaWR0aDtcbiAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSB3ZWJjYW1IZWlnaHQ7XG4gICAgICAgIHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGVtcFZpZGVvLCAwLCAwLCB3ZWJjYW1XaWR0aCwgd2ViY2FtSGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBoaWdoLXJlc29sdXRpb24gdmVyc2lvbiBmb3Igc2F2aW5nXG4gICAgICAgIHdlYmNhbUltYWdlID0gdGVtcENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjk1KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBsb3dlci1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHByZXZpZXdcbiAgICAgICAgd2ViY2FtSW1hZ2VQcmV2aWV3ID0gYXdhaXQgcmVzaXplSW1hZ2Uod2ViY2FtSW1hZ2UsIDY0MCwgNDgwLCAwLjg1KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBIaWdoLXJlc29sdXRpb24gd2ViY2FtIGNhcHR1cmUgY29tcGxldGU6ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7XG4gICAgICAgIHRlbXBWaWRlby5yZW1vdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJIaWdoLXJlc29sdXRpb24gd2ViY2FtIGNhcHR1cmUgZmFpbGVkOlwiLCBlcnIpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IG9uZSBtb3JlIHRpbWUgd2l0aCBiYXNpYyBjb25zdHJhaW50c1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgdmlkZW86IHRydWUgfSk7XG4gICAgICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgICAgIGNvbnN0IHRyYWNrU2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgdGVtcFZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICB0ZW1wVmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgIHRlbXBWaWRlby5tdXRlZCA9IHRydWU7XG4gICAgICAgICAgdGVtcFZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlbXBWaWRlbyk7XG4gICAgICAgICAgYXdhaXQgdGVtcFZpZGVvLnBsYXkoKTtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDMwMCkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEdldCBkaW1lbnNpb25zIGZyb20gdHJhY2sgc2V0dGluZ3MgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKHRyYWNrU2V0dGluZ3MgJiYgdHJhY2tTZXR0aW5ncy53aWR0aCAmJiB0cmFja1NldHRpbmdzLmhlaWdodCkge1xuICAgICAgICAgICAgd2ViY2FtV2lkdGggPSB0cmFja1NldHRpbmdzLndpZHRoO1xuICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gdHJhY2tTZXR0aW5ncy5oZWlnaHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gdGVtcFZpZGVvLnZpZGVvV2lkdGggfHwgMDtcbiAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHRlbXBWaWRlby52aWRlb0hlaWdodCB8fCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5hbCBjaGVjayBmb3IgaW52YWxpZCBkaW1lbnNpb25zXG4gICAgICAgICAgaWYgKHdlYmNhbVdpZHRoIDw9IDAgfHwgd2ViY2FtSGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gNjQwO1xuICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gNDgwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IHdlYmNhbVdpZHRoO1xuICAgICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gd2ViY2FtSGVpZ2h0O1xuICAgICAgICAgIHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGVtcFZpZGVvLCAwLCAwLCB3ZWJjYW1XaWR0aCwgd2ViY2FtSGVpZ2h0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgaGlnaC1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHNhdmluZ1xuICAgICAgICAgIHdlYmNhbUltYWdlID0gdGVtcENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBsb3dlci1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHByZXZpZXdcbiAgICAgICAgICB3ZWJjYW1JbWFnZVByZXZpZXcgPSBhd2FpdCByZXNpemVJbWFnZSh3ZWJjYW1JbWFnZSwgNjQwLCA0ODAsIDAuOCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYEJhc2ljIHdlYmNhbSByZXNvbHV0aW9uIGNhcHR1cmVkOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0ID0+IHQuc3RvcCgpKTtcbiAgICAgICAgICB0ZW1wVmlkZW8ucmVtb3ZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFsbCB3ZWJjYW0gY2FwdHVyZSBtZXRob2RzIGZhaWxlZDpcIiwgZmFsbGJhY2tFcnIpO1xuICAgICAgICAgIHdlYmNhbVdpZHRoID0gNjQwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IDQ4MDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDEuMyBQYXJhbWV0ZXIgZGF0YSAtIE5vdyBpbmNsdWRpbmcgd2ViY2FtIHJlc29sdXRpb25cbiAgICBjb25zdCBjc3ZEYXRhID0gW1xuICAgICAgXCJuYW1lLHZhbHVlXCIsXG4gICAgICBgZG90X3gsJHtwb2ludC54fWAsXG4gICAgICBgZG90X3ksJHtwb2ludC55fWAsXG4gICAgICBgY2FudmFzX3dpZHRoLCR7Y2FudmFzPy53aWR0aCB8fCAwfWAsXG4gICAgICBgY2FudmFzX2hlaWdodCwke2NhbnZhcz8uaGVpZ2h0IHx8IDB9YCxcbiAgICAgIGB3aW5kb3dfd2lkdGgsJHt3aW5kb3cuaW5uZXJXaWR0aH1gLFxuICAgICAgYHdpbmRvd19oZWlnaHQsJHt3aW5kb3cuaW5uZXJIZWlnaHR9YCxcbiAgICAgIGB3ZWJjYW1fcmVzb2x1dGlvbl93aWR0aCwke3dlYmNhbVdpZHRofWAsXG4gICAgICBgd2ViY2FtX3Jlc29sdXRpb25faGVpZ2h0LCR7d2ViY2FtSGVpZ2h0fWAsXG4gICAgICBgdGltZXN0YW1wLCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWAsXG4gICAgICBgZ3JvdXBfaWQsJHtjYXB0dXJlR3JvdXBJZH1gXG4gICAgXS5qb2luKCdcXG4nKTtcbiAgICBcbiAgICAvLyAyLiBTYXZlIGFsbCBmaWxlcyB3aXRoIHRoZSBzYW1lIGdyb3VwIElEIHNvIHRoZXkgZ2V0IHRoZSBzYW1lIG51bWJlclxuICAgIFxuICAgIC8vIDIuMSBTYXZlIHBhcmFtZXRlciBmaWxlXG4gICAgY29uc3QgcGFyYW1SZXN1bHQgPSBhd2FpdCBzYXZlQ1NWVG9TZXJ2ZXIoY3N2RGF0YSwgcGFyYW1ldGVyRmlsZW5hbWUsIGZvbGRlciwgY2FwdHVyZUdyb3VwSWQpO1xuICAgIFxuICAgIGlmIChwYXJhbVJlc3VsdCAmJiBwYXJhbVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBjYXB0dXJlTnVtYmVyID0gcGFyYW1SZXN1bHQubnVtYmVyO1xuICAgICAgY29uc29sZS5sb2coYFNlcnZlciBhc3NpZ25lZCBjYXB0dXJlIG51bWJlcjogJHtjYXB0dXJlTnVtYmVyfSBmb3IgZ3JvdXA6ICR7Y2FwdHVyZUdyb3VwSWR9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIDIuMiBTYXZlIHNjcmVlbiBpbWFnZSBpZiBhdmFpbGFibGVcbiAgICBsZXQgc2NyZWVuUmVzdWx0ID0gbnVsbDtcbiAgICBpZiAoc2NyZWVuSW1hZ2UpIHtcbiAgICAgIHNjcmVlblJlc3VsdCA9IGF3YWl0IHNhdmVJbWFnZVRvU2VydmVyKHNjcmVlbkltYWdlLCBzY3JlZW5GaWxlbmFtZSwgJ3NjcmVlbicsIGZvbGRlciwgY2FwdHVyZUdyb3VwSWQpO1xuICAgIH1cbiAgICBcbiAgICAvLyAyLjMgU2F2ZSB3ZWJjYW0gaW1hZ2UgaWYgYXZhaWxhYmxlXG4gICAgbGV0IHdlYmNhbVJlc3VsdCA9IG51bGw7XG4gICAgaWYgKHdlYmNhbUltYWdlKSB7XG4gICAgICB3ZWJjYW1SZXN1bHQgPSBhd2FpdCBzYXZlSW1hZ2VUb1NlcnZlcih3ZWJjYW1JbWFnZSwgd2ViY2FtRmlsZW5hbWUsICd3ZWJjYW0nLCBmb2xkZXIsIGNhcHR1cmVHcm91cElkKTtcbiAgICB9XG4gICAgXG4gICAgLy8gMy4gU2hvdyBwcmV2aWV3IGlmIG5lZWRlZCAtIHVzZSB0aGUgbG93ZXIgcmVzb2x1dGlvbiB2ZXJzaW9uIGZvciBwcmV2aWV3XG4gICAgaWYgKHNob3dDYXB0dXJlUHJldmlldyAmJiB0eXBlb2Ygc2hvd0NhcHR1cmVQcmV2aWV3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzaG93Q2FwdHVyZVByZXZpZXcoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlUHJldmlldyB8fCB3ZWJjYW1JbWFnZSwgcG9pbnQpO1xuICAgIH1cbiAgICBcbiAgICAvLyA0LiBJbmNyZW1lbnQgY291bnRlciBmb3IgbmV4dCBjYXB0dXJlXG4gICAgaWYgKHNldENhcHR1cmVDb3VudCAmJiB0eXBlb2Ygc2V0Q2FwdHVyZUNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzZXRDYXB0dXJlQ291bnQocHJldkNvdW50ID0+IHByZXZDb3VudCArIDEpO1xuICAgIH1cbiAgICBcbiAgICAvLyA1LiBSZXR1cm4gcmVzdWx0cyAtIG5vdyBpbmNsdWRpbmcgd2ViY2FtIHJlc29sdXRpb25cbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuSW1hZ2UsXG4gICAgICB3ZWJjYW1JbWFnZSxcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBwb2ludCxcbiAgICAgIGNhcHR1cmVOdW1iZXIsXG4gICAgICBncm91cElkOiBjYXB0dXJlR3JvdXBJZCxcbiAgICAgIHdlYmNhbVdpZHRoLFxuICAgICAgd2ViY2FtSGVpZ2h0XG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcImNhcHR1cmVJbWFnZXNBdFBvaW50IGZhaWxlZDpcIiwgZXJyKTtcbiAgICByZXR1cm4geyBcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgIHNjcmVlbkltYWdlOiBudWxsLFxuICAgICAgd2ViY2FtSW1hZ2U6IG51bGwsXG4gICAgICB3ZWJjYW1XaWR0aDogMCxcbiAgICAgIHdlYmNhbUhlaWdodDogMFxuICAgIH07XG4gIH1cbn07Il0sIm5hbWVzIjpbInJlc2l6ZUltYWdlIiwiaW1hZ2VEYXRhVXJsIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJxdWFsaXR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIndpZHRoIiwiaGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInJlc2l6ZWREYXRhVXJsIiwidG9EYXRhVVJMIiwib25lcnJvciIsImVyciIsInNyYyIsInNhdmVJbWFnZVRvU2VydmVyIiwiaW1hZ2VEYXRhIiwiZmlsZW5hbWUiLCJ0eXBlIiwiZm9sZGVyIiwiY2FwdHVyZUdyb3VwIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzIiwid2FybiIsInNpemVzIiwicmVzaXplZEltYWdlIiwicmV0cnlSZXNwb25zZSIsImxvZyIsImpzb24iLCJyZXRyeUVycm9yIiwic3VjY2VzcyIsInJlc3VsdCIsIm1lc3NhZ2UiLCJzYXZlQ1NWVG9TZXJ2ZXIiLCJjc3ZEYXRhIiwiY3N2QmxvYiIsIkJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiY3N2RGF0YVVybCIsIm9ubG9hZGVuZCIsInJlYWRBc0RhdGFVUkwiLCJnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzIiwidGVtcFN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwidmlkZW9UcmFjayIsImdldFZpZGVvVHJhY2tzIiwiY2FwYWJpbGl0aWVzIiwiZ2V0Q2FwYWJpbGl0aWVzIiwic2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInN0b3AiLCJtYXgiLCJleGFjdCIsImZyYW1lUmF0ZSIsImlkZWFsIiwicmVzb2x1dGlvbnMiLCJyZXNvbHV0aW9uIiwiY29uc3RyYWludHMiLCJmYWNpbmdNb2RlIiwic3RyZWFtIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwiY2FwdHVyZUltYWdlc0F0UG9pbnQiLCJwb2ludCIsImNhcHR1cmVDb3VudCIsImNhbnZhc1JlZiIsInNldENhcHR1cmVDb3VudCIsInNob3dDYXB0dXJlUHJldmlldyIsImNhcHR1cmVHcm91cElkIiwiRGF0ZSIsIm5vdyIsInNjcmVlbkZpbGVuYW1lIiwid2ViY2FtRmlsZW5hbWUiLCJwYXJhbWV0ZXJGaWxlbmFtZSIsImN1cnJlbnQiLCJzY3JlZW5JbWFnZSIsIndlYmNhbUltYWdlIiwiY2FwdHVyZU51bWJlciIsIndlYmNhbVdpZHRoIiwid2ViY2FtSGVpZ2h0Iiwid2ViY2FtSW1hZ2VQcmV2aWV3IiwidmlkZW9FbGVtZW50Iiwid2luZG93IiwicXVlcnlTZWxlY3RvciIsInRyYWNrU2V0dGluZ3MiLCJzcmNPYmplY3QiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJnZXRDb25zdHJhaW50cyIsInRlbXBDYW52YXMiLCJ0ZW1wVmlkZW8iLCJtdXRlZCIsInBsYXlzSW5saW5lIiwiYXV0b3BsYXkiLCJhcHBlbmRDaGlsZCIsIm9ubG9hZGVkbWV0YWRhdGEiLCJwbGF5Iiwic2V0VGltZW91dCIsInJlcyIsImFzcGVjdFJhdGlvIiwiYWJzIiwidCIsInJlbW92ZSIsImZhbGxiYWNrRXJyIiwieCIsInkiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ0b0lTT1N0cmluZyIsImpvaW4iLCJwYXJhbVJlc3VsdCIsIm51bWJlciIsInNjcmVlblJlc3VsdCIsIndlYmNhbVJlc3VsdCIsInByZXZDb3VudCIsImdyb3VwSWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/consent_ui/ConsentBanner.js":
/*!************************************************!*\
  !*** ./components/consent_ui/ConsentBanner.js ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConsentBanner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/Consent.module.css */ \"(pages-dir-node)/./styles/Consent.module.css\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ConsentContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConsentContext */ \"(pages-dir-node)/./components/consent_ui/ConsentContext.js\");\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__]);\n([_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/components/consent_ui/ConsentBanner.js\n\n\n\n\n\n\nfunction ConsentBanner() {\n    const { showBanner, updateConsent } = (0,_ConsentContext__WEBPACK_IMPORTED_MODULE_4__.useConsent)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [cookieStatus, setCookieStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentBanner.useEffect\": ()=>{\n            const checkCookieStatus = {\n                \"ConsentBanner.useEffect.checkCookieStatus\": async ()=>{\n                    try {\n                        const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__.getOrCreateUserId)();\n                        const response = await fetch(`/api/user-preferences/${userId}`, {\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json',\n                                // 'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV',\n                                'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                            }\n                        });\n                        if (response.ok) {\n                            const data = await response.json();\n                            setCookieStatus(data.data?.cookie ?? false);\n                        } else {\n                            setCookieStatus(false);\n                        }\n                    } catch (error) {\n                        console.error('Error checking cookie status:', error);\n                        setCookieStatus(false);\n                    }\n                }\n            }[\"ConsentBanner.useEffect.checkCookieStatus\"];\n            checkCookieStatus();\n        }\n    }[\"ConsentBanner.useEffect\"], []);\n    // If banner shouldn't be shown or cookie is already accepted, return null\n    if (!showBanner || cookieStatus === true) return null;\n    const handleAccept = async ()=>{\n        setLoading(true);\n        try {\n            // Update consent status\n            await updateConsent(true);\n            // Get user ID\n            const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__.getOrCreateUserId)();\n            // Update user preferences with cookie acceptance\n            const response = await fetch(`/api/user-preferences/${userId}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                },\n                body: JSON.stringify({\n                    cookie: true\n                })\n            });\n            if (!response.ok) {\n                throw new Error('Failed to save cookie preferences');\n            }\n            setCookieStatus(true);\n            // Redirect to consent setup page\n            router.push('/preferences/consent-setup');\n        } catch (error) {\n            console.error('Error handling cookie acceptance:', error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleDecline = async ()=>{\n        setLoading(true);\n        try {\n            await updateConsent(false);\n            setCookieStatus(false);\n        } catch (error) {\n            console.error('Error handling cookie decline:', error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleLearnMore = ()=>{\n        try {\n            router.push('/privacy-policy');\n        } catch (error) {\n            console.error('Navigation error:', error);\n            // Fallback to window.location if router fails\n            window.location.href = '/privacy-policy';\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerContainer),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerContent),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerText),\n                    children: '\\uD83C\\uDF6A We use cookies to collect information about how you interact with our site—like your preferences and usage data—to improve your experience. By clicking \"Accept\", you agree to our use of cookies.'\n                }, void 0, false, {\n                    fileName: \"/app/components/consent_ui/ConsentBanner.js\",\n                    lineNumber: 105,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButtons),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().acceptButton)}`,\n                            onClick: handleAccept,\n                            disabled: loading,\n                            children: loading ? 'Processing...' : 'Accept'\n                        }, void 0, false, {\n                            fileName: \"/app/components/consent_ui/ConsentBanner.js\",\n                            lineNumber: 109,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().declineButton)}`,\n                            onClick: handleDecline,\n                            disabled: loading,\n                            children: \"Decline\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/consent_ui/ConsentBanner.js\",\n                            lineNumber: 116,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().learnMoreButton)}`,\n                            onClick: handleLearnMore,\n                            children: \"Learn more\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/consent_ui/ConsentBanner.js\",\n                            lineNumber: 123,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/components/consent_ui/ConsentBanner.js\",\n                    lineNumber: 108,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/components/consent_ui/ConsentBanner.js\",\n            lineNumber: 104,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/components/consent_ui/ConsentBanner.js\",\n        lineNumber: 103,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29uc2VudF91aS9Db25zZW50QmFubmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsa0RBQWtEOztBQUNOO0FBQ0o7QUFDYTtBQUNQO0FBQ2lCO0FBRWhELFNBQVNNO0lBQ3RCLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxhQUFhLEVBQUUsR0FBR0osMkRBQVVBO0lBQ2hELE1BQU0sQ0FBQ0ssU0FBU0MsV0FBVyxHQUFHViwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNVyxTQUFTVCxzREFBU0E7SUFDeEIsTUFBTSxDQUFDVSxjQUFjQyxnQkFBZ0IsR0FBR2IsK0NBQVFBLENBQUM7SUFFakRDLGdEQUFTQTttQ0FBQztZQUNSLE1BQU1hOzZEQUFvQjtvQkFDeEIsSUFBSTt3QkFDRixNQUFNQyxTQUFTVix3RUFBaUJBO3dCQUNoQyxNQUFNVyxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRUYsUUFBUSxFQUFFOzRCQUM5REcsU0FBUztnQ0FDUCxVQUFVO2dDQUNWLGdCQUFnQjtnQ0FDaEIsMEZBQTBGO2dDQUMxRixhQUFhQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQjs0QkFDOUM7d0JBQ0Y7d0JBRUEsSUFBSUwsU0FBU00sRUFBRSxFQUFFOzRCQUNmLE1BQU1DLE9BQU8sTUFBTVAsU0FBU1EsSUFBSTs0QkFDaENYLGdCQUFnQlUsS0FBS0EsSUFBSSxFQUFFRSxVQUFVO3dCQUN2QyxPQUFPOzRCQUNMWixnQkFBZ0I7d0JBQ2xCO29CQUNGLEVBQUUsT0FBT2EsT0FBTzt3QkFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7d0JBQy9DYixnQkFBZ0I7b0JBQ2xCO2dCQUNGOztZQUVBQztRQUNGO2tDQUFHLEVBQUU7SUFFTCwwRUFBMEU7SUFDMUUsSUFBSSxDQUFDUCxjQUFjSyxpQkFBaUIsTUFBTSxPQUFPO0lBRWpELE1BQU1nQixlQUFlO1FBQ25CbEIsV0FBVztRQUNYLElBQUk7WUFDRix3QkFBd0I7WUFDeEIsTUFBTUYsY0FBYztZQUVwQixjQUFjO1lBQ2QsTUFBTU8sU0FBU1Ysd0VBQWlCQTtZQUVoQyxpREFBaUQ7WUFDakQsTUFBTVcsV0FBVyxNQUFNQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVGLFFBQVEsRUFBRTtnQkFDOURjLFFBQVE7Z0JBQ1JYLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixhQUFhQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQjtnQkFDOUM7Z0JBQ0FTLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJQLFFBQVE7Z0JBQ1Y7WUFDRjtZQUVBLElBQUksQ0FBQ1QsU0FBU00sRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlXLE1BQU07WUFDbEI7WUFFQXBCLGdCQUFnQjtZQUNoQixpQ0FBaUM7WUFDakNGLE9BQU91QixJQUFJLENBQUM7UUFDZCxFQUFFLE9BQU9SLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDckQsU0FBVTtZQUNSaEIsV0FBVztRQUNiO0lBQ0Y7SUFFQSxNQUFNeUIsZ0JBQWdCO1FBQ3BCekIsV0FBVztRQUNYLElBQUk7WUFDRixNQUFNRixjQUFjO1lBQ3BCSyxnQkFBZ0I7UUFDbEIsRUFBRSxPQUFPYSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2xELFNBQVU7WUFDUmhCLFdBQVc7UUFDYjtJQUNGO0lBRUEsTUFBTTBCLGtCQUFrQjtRQUN0QixJQUFJO1lBQ0Z6QixPQUFPdUIsSUFBSSxDQUFDO1FBQ2QsRUFBRSxPQUFPUixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxxQkFBcUJBO1lBQ25DLDhDQUE4QztZQUM5Q1csT0FBT0MsUUFBUSxDQUFDQyxJQUFJLEdBQUc7UUFDekI7SUFDRjtJQUVBLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFXdEMsbUZBQXNCO2tCQUNwQyw0RUFBQ3FDO1lBQUlDLFdBQVd0QyxpRkFBb0I7OzhCQUNsQyw4REFBQ3lDO29CQUFLSCxXQUFXdEMsOEVBQWlCOzhCQUFFOzs7Ozs7OEJBR3BDLDhEQUFDcUM7b0JBQUlDLFdBQVd0QyxpRkFBb0I7O3NDQUNsQyw4REFBQzRDOzRCQUNDTixXQUFXLEdBQUd0QyxnRkFBbUIsQ0FBQyxDQUFDLEVBQUVBLGdGQUFtQixFQUFFOzRCQUMxRCtDLFNBQVN0Qjs0QkFDVHVCLFVBQVUxQztzQ0FFVEEsVUFBVSxrQkFBa0I7Ozs7OztzQ0FFL0IsOERBQUNzQzs0QkFDQ04sV0FBVyxHQUFHdEMsZ0ZBQW1CLENBQUMsQ0FBQyxFQUFFQSxpRkFBb0IsRUFBRTs0QkFDM0QrQyxTQUFTZjs0QkFDVGdCLFVBQVUxQztzQ0FDWDs7Ozs7O3NDQUdELDhEQUFDc0M7NEJBQ0NOLFdBQVcsR0FBR3RDLGdGQUFtQixDQUFDLENBQUMsRUFBRUEsbUZBQXNCLEVBQUU7NEJBQzdEK0MsU0FBU2Q7c0NBQ1Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT1giLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9jb25zZW50X3VpL0NvbnNlbnRCYW5uZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZnJvbnRlbmQvY29tcG9uZW50cy9jb25zZW50X3VpL0NvbnNlbnRCYW5uZXIuanNcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uLy4uL3N0eWxlcy9Db25zZW50Lm1vZHVsZS5jc3MnO1xuaW1wb3J0IHsgdXNlQ29uc2VudCB9IGZyb20gJy4vQ29uc2VudENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0T3JDcmVhdGVVc2VySWQgfSBmcm9tICcuLi8uLi91dGlscy9jb25zZW50TWFuYWdlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnNlbnRCYW5uZXIoKSB7XG4gIGNvbnN0IHsgc2hvd0Jhbm5lciwgdXBkYXRlQ29uc2VudCB9ID0gdXNlQ29uc2VudCgpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBbY29va2llU3RhdHVzLCBzZXRDb29raWVTdGF0dXNdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjaGVja0Nvb2tpZVN0YXR1cyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlci1wcmVmZXJlbmNlcy8ke3VzZXJJZH1gLCB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAvLyAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBzZXRDb29raWVTdGF0dXMoZGF0YS5kYXRhPy5jb29raWUgPz8gZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldENvb2tpZVN0YXR1cyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvb2tpZSBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgICBzZXRDb29raWVTdGF0dXMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjaGVja0Nvb2tpZVN0YXR1cygpO1xuICB9LCBbXSk7XG5cbiAgLy8gSWYgYmFubmVyIHNob3VsZG4ndCBiZSBzaG93biBvciBjb29raWUgaXMgYWxyZWFkeSBhY2NlcHRlZCwgcmV0dXJuIG51bGxcbiAgaWYgKCFzaG93QmFubmVyIHx8IGNvb2tpZVN0YXR1cyA9PT0gdHJ1ZSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgaGFuZGxlQWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVwZGF0ZSBjb25zZW50IHN0YXR1c1xuICAgICAgYXdhaXQgdXBkYXRlQ29uc2VudCh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHVzZXIgSURcbiAgICAgIGNvbnN0IHVzZXJJZCA9IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB1c2VyIHByZWZlcmVuY2VzIHdpdGggY29va2llIGFjY2VwdGFuY2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlci1wcmVmZXJlbmNlcy8ke3VzZXJJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgY29va2llOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGNvb2tpZSBwcmVmZXJlbmNlcycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRDb29raWVTdGF0dXModHJ1ZSk7XG4gICAgICAvLyBSZWRpcmVjdCB0byBjb25zZW50IHNldHVwIHBhZ2VcbiAgICAgIHJvdXRlci5wdXNoKCcvcHJlZmVyZW5jZXMvY29uc2VudC1zZXR1cCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBjb29raWUgYWNjZXB0YW5jZTonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWNsaW5lID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHVwZGF0ZUNvbnNlbnQoZmFsc2UpO1xuICAgICAgc2V0Q29va2llU3RhdHVzKGZhbHNlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgY29va2llIGRlY2xpbmU6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTGVhcm5Nb3JlID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByb3V0ZXIucHVzaCgnL3ByaXZhY3ktcG9saWN5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ05hdmlnYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgLy8gRmFsbGJhY2sgdG8gd2luZG93LmxvY2F0aW9uIGlmIHJvdXRlciBmYWlsc1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3ByaXZhY3ktcG9saWN5JztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJhbm5lckNvbnRhaW5lcn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJhbm5lckNvbnRlbnR9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5iYW5uZXJUZXh0fT5cbiAgICAgICAgICDwn42qIFdlIHVzZSBjb29raWVzIHRvIGNvbGxlY3QgaW5mb3JtYXRpb24gYWJvdXQgaG93IHlvdSBpbnRlcmFjdCB3aXRoIG91ciBzaXRl4oCUbGlrZSB5b3VyIHByZWZlcmVuY2VzIGFuZCB1c2FnZSBkYXRh4oCUdG8gaW1wcm92ZSB5b3VyIGV4cGVyaWVuY2UuIEJ5IGNsaWNraW5nIFwiQWNjZXB0XCIsIHlvdSBhZ3JlZSB0byBvdXIgdXNlIG9mIGNvb2tpZXMuXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5iYW5uZXJCdXR0b25zfT5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMuYmFubmVyQnV0dG9ufSAke3N0eWxlcy5hY2NlcHRCdXR0b259YH0gXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBY2NlcHR9XG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bG9hZGluZyA/ICdQcm9jZXNzaW5nLi4uJyA6ICdBY2NlcHQnfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5iYW5uZXJCdXR0b259ICR7c3R5bGVzLmRlY2xpbmVCdXR0b259YH0gXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWNsaW5lfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGVjbGluZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5iYW5uZXJCdXR0b259ICR7c3R5bGVzLmxlYXJuTW9yZUJ1dHRvbn1gfVxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTGVhcm5Nb3JlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIExlYXJuIG1vcmVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJzdHlsZXMiLCJ1c2VDb25zZW50IiwiZ2V0T3JDcmVhdGVVc2VySWQiLCJDb25zZW50QmFubmVyIiwic2hvd0Jhbm5lciIsInVwZGF0ZUNvbnNlbnQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJvdXRlciIsImNvb2tpZVN0YXR1cyIsInNldENvb2tpZVN0YXR1cyIsImNoZWNrQ29va2llU3RhdHVzIiwidXNlcklkIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb29raWUiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVBY2NlcHQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIkVycm9yIiwicHVzaCIsImhhbmRsZURlY2xpbmUiLCJoYW5kbGVMZWFybk1vcmUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJkaXYiLCJjbGFzc05hbWUiLCJiYW5uZXJDb250YWluZXIiLCJiYW5uZXJDb250ZW50Iiwic3BhbiIsImJhbm5lclRleHQiLCJiYW5uZXJCdXR0b25zIiwiYnV0dG9uIiwiYmFubmVyQnV0dG9uIiwiYWNjZXB0QnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiZGVjbGluZUJ1dHRvbiIsImxlYXJuTW9yZUJ1dHRvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/consent_ui/ConsentBanner.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/consent_ui/ConsentContext.js":
/*!*************************************************!*\
  !*** ./components/consent_ui/ConsentContext.js ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsentProvider: () => (/* binding */ ConsentProvider),\n/* harmony export */   useConsent: () => (/* binding */ useConsent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__]);\n_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// frontend/components/consent_ui/ConsentContext.js\n\n\n\nconst ConsentContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Check if running on localhost\nconst isLocalhost = ()=>{\n    if (true) return false;\n    return window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n};\nfunction ConsentProvider({ children }) {\n    const [consentState, setConsentState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        loading: true,\n        userId: null,\n        consentStatus: null,\n        consentUpdatedAt: null,\n        consentDetails: null,\n        showBanner: true\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentProvider.useEffect\": ()=>{\n            // Get consent data from cookies\n            const initializeConsent = {\n                \"ConsentProvider.useEffect.initializeConsent\": async ()=>{\n                    try {\n                        // If running on localhost, automatically set consent\n                        if (isLocalhost()) {\n                            const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getOrCreateUserId)();\n                            const autoConsentData = {\n                                userId,\n                                consentStatus: true,\n                                consentUpdatedAt: new Date().toISOString(),\n                                consentDetails: {\n                                    userId,\n                                    status: true,\n                                    timestamp: new Date().toISOString(),\n                                    autoEnabled: true\n                                }\n                            };\n                            // Update cookies with auto-consent\n                            await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.updateUserConsent)(true, {\n                                userId\n                            });\n                            setConsentState({\n                                loading: false,\n                                userId: autoConsentData.userId,\n                                consentStatus: true,\n                                consentUpdatedAt: autoConsentData.consentUpdatedAt,\n                                consentDetails: autoConsentData.consentDetails,\n                                showBanner: false\n                            });\n                            console.log('Auto-enabled consent for localhost:', autoConsentData);\n                            return;\n                        }\n                        // Normal flow for non-localhost\n                        const consentData = await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getUserConsent)();\n                        console.log('Initial consent data:', consentData);\n                        if (!consentData || consentData.consentStatus === null) {\n                            setConsentState({\n                                loading: false,\n                                userId: null,\n                                consentStatus: null,\n                                consentUpdatedAt: null,\n                                consentDetails: null,\n                                showBanner: true\n                            });\n                            return;\n                        }\n                        setConsentState({\n                            loading: false,\n                            userId: consentData.userId,\n                            consentStatus: consentData.consentStatus,\n                            consentUpdatedAt: consentData.consentUpdatedAt,\n                            consentDetails: consentData.consentDetails,\n                            showBanner: false\n                        });\n                    } catch (error) {\n                        console.error('Error initializing consent:', error);\n                        setConsentState({\n                            loading: false,\n                            userId: null,\n                            consentStatus: null,\n                            consentUpdatedAt: null,\n                            consentDetails: null,\n                            showBanner: true\n                        });\n                    }\n                }\n            }[\"ConsentProvider.useEffect.initializeConsent\"];\n            initializeConsent();\n        }\n    }[\"ConsentProvider.useEffect\"], []);\n    const updateConsent = async (status)=>{\n        try {\n            const userId = consentState.userId || (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getOrCreateUserId)();\n            console.log('Updating consent with userId:', userId);\n            const updatedConsent = await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.updateUserConsent)(status, {\n                userId\n            });\n            console.log('Updated consent data:', updatedConsent);\n            setConsentState((prev)=>({\n                    ...prev,\n                    userId: updatedConsent.userId,\n                    consentStatus: updatedConsent.consentStatus,\n                    consentUpdatedAt: updatedConsent.consentUpdatedAt,\n                    consentDetails: updatedConsent.consentDetails,\n                    showBanner: false\n                }));\n            return true;\n        } catch (error) {\n            console.error('Error updating consent:', error);\n            return false;\n        }\n    };\n    const toggleBanner = (show)=>{\n        setConsentState((prev)=>({\n                ...prev,\n                showBanner: show\n            }));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConsentContext.Provider, {\n        value: {\n            ...consentState,\n            updateConsent,\n            toggleBanner\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/app/components/consent_ui/ConsentContext.js\",\n        lineNumber: 130,\n        columnNumber: 5\n    }, this);\n}\nfunction useConsent() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConsentContext);\n    if (context === undefined) {\n        throw new Error('useConsent must be used within a ConsentProvider');\n    }\n    return context;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29uc2VudF91aS9Db25zZW50Q29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsbURBQW1EOztBQUNvQjtBQUMyQjtBQUVsRyxNQUFNTywrQkFBaUJQLG9EQUFhQTtBQUVwQyxnQ0FBZ0M7QUFDaEMsTUFBTVEsY0FBYztJQUNsQixJQUFJLElBQTZCLEVBQUUsT0FBTztJQUMxQyxPQUFPQyxPQUFPQyxRQUFRLENBQUNDLFFBQVEsS0FBSyxlQUFlRixPQUFPQyxRQUFRLENBQUNDLFFBQVEsS0FBSztBQUNsRjtBQUVPLFNBQVNDLGdCQUFnQixFQUFFQyxRQUFRLEVBQUU7SUFDMUMsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR2IsK0NBQVFBLENBQUM7UUFDL0NjLFNBQVM7UUFDVEMsUUFBUTtRQUNSQyxlQUFlO1FBQ2ZDLGtCQUFrQjtRQUNsQkMsZ0JBQWdCO1FBQ2hCQyxZQUFZO0lBQ2Q7SUFFQWxCLGdEQUFTQTtxQ0FBQztZQUNSLGdDQUFnQztZQUNoQyxNQUFNbUI7K0RBQW9CO29CQUN4QixJQUFJO3dCQUNGLHFEQUFxRDt3QkFDckQsSUFBSWQsZUFBZTs0QkFDakIsTUFBTVMsU0FBU1gsd0VBQWlCQTs0QkFDaEMsTUFBTWlCLGtCQUFrQjtnQ0FDdEJOO2dDQUNBQyxlQUFlO2dDQUNmQyxrQkFBa0IsSUFBSUssT0FBT0MsV0FBVztnQ0FDeENMLGdCQUFnQjtvQ0FDZEg7b0NBQ0FTLFFBQVE7b0NBQ1JDLFdBQVcsSUFBSUgsT0FBT0MsV0FBVztvQ0FDakNHLGFBQWE7Z0NBQ2Y7NEJBQ0Y7NEJBRUEsbUNBQW1DOzRCQUNuQyxNQUFNdkIsd0VBQWlCQSxDQUFDLE1BQU07Z0NBQUVZOzRCQUFPOzRCQUV2Q0YsZ0JBQWdCO2dDQUNkQyxTQUFTO2dDQUNUQyxRQUFRTSxnQkFBZ0JOLE1BQU07Z0NBQzlCQyxlQUFlO2dDQUNmQyxrQkFBa0JJLGdCQUFnQkosZ0JBQWdCO2dDQUNsREMsZ0JBQWdCRyxnQkFBZ0JILGNBQWM7Z0NBQzlDQyxZQUFZOzRCQUNkOzRCQUVBUSxRQUFRQyxHQUFHLENBQUMsdUNBQXVDUDs0QkFDbkQ7d0JBQ0Y7d0JBRUEsZ0NBQWdDO3dCQUNoQyxNQUFNUSxjQUFjLE1BQU0zQixxRUFBY0E7d0JBQ3hDeUIsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QkM7d0JBRXJDLElBQUksQ0FBQ0EsZUFBZUEsWUFBWWIsYUFBYSxLQUFLLE1BQU07NEJBQ3RESCxnQkFBZ0I7Z0NBQ2RDLFNBQVM7Z0NBQ1RDLFFBQVE7Z0NBQ1JDLGVBQWU7Z0NBQ2ZDLGtCQUFrQjtnQ0FDbEJDLGdCQUFnQjtnQ0FDaEJDLFlBQVk7NEJBQ2Q7NEJBQ0E7d0JBQ0Y7d0JBRUFOLGdCQUFnQjs0QkFDZEMsU0FBUzs0QkFDVEMsUUFBUWMsWUFBWWQsTUFBTTs0QkFDMUJDLGVBQWVhLFlBQVliLGFBQWE7NEJBQ3hDQyxrQkFBa0JZLFlBQVlaLGdCQUFnQjs0QkFDOUNDLGdCQUFnQlcsWUFBWVgsY0FBYzs0QkFDMUNDLFlBQVk7d0JBQ2Q7b0JBQ0YsRUFBRSxPQUFPVyxPQUFPO3dCQUNkSCxRQUFRRyxLQUFLLENBQUMsK0JBQStCQTt3QkFDN0NqQixnQkFBZ0I7NEJBQ2RDLFNBQVM7NEJBQ1RDLFFBQVE7NEJBQ1JDLGVBQWU7NEJBQ2ZDLGtCQUFrQjs0QkFDbEJDLGdCQUFnQjs0QkFDaEJDLFlBQVk7d0JBQ2Q7b0JBQ0Y7Z0JBQ0Y7O1lBRUFDO1FBQ0Y7b0NBQUcsRUFBRTtJQUVMLE1BQU1XLGdCQUFnQixPQUFPUDtRQUMzQixJQUFJO1lBQ0YsTUFBTVQsU0FBU0gsYUFBYUcsTUFBTSxJQUFJWCx3RUFBaUJBO1lBQ3ZEdUIsUUFBUUMsR0FBRyxDQUFDLGlDQUFpQ2I7WUFFN0MsTUFBTWlCLGlCQUFpQixNQUFNN0Isd0VBQWlCQSxDQUFDcUIsUUFBUTtnQkFBRVQ7WUFBTztZQUNoRVksUUFBUUMsR0FBRyxDQUFDLHlCQUF5Qkk7WUFFckNuQixnQkFBZ0JvQixDQUFBQSxPQUFTO29CQUN2QixHQUFHQSxJQUFJO29CQUNQbEIsUUFBUWlCLGVBQWVqQixNQUFNO29CQUM3QkMsZUFBZWdCLGVBQWVoQixhQUFhO29CQUMzQ0Msa0JBQWtCZSxlQUFlZixnQkFBZ0I7b0JBQ2pEQyxnQkFBZ0JjLGVBQWVkLGNBQWM7b0JBQzdDQyxZQUFZO2dCQUNkO1lBRUEsT0FBTztRQUNULEVBQUUsT0FBT1csT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMsMkJBQTJCQTtZQUN6QyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE1BQU1JLGVBQWUsQ0FBQ0M7UUFDcEJ0QixnQkFBZ0JvQixDQUFBQSxPQUFTO2dCQUN2QixHQUFHQSxJQUFJO2dCQUNQZCxZQUFZZ0I7WUFDZDtJQUNGO0lBRUEscUJBQ0UsOERBQUM5QixlQUFlK0IsUUFBUTtRQUN0QkMsT0FBTztZQUNMLEdBQUd6QixZQUFZO1lBQ2ZtQjtZQUNBRztRQUNGO2tCQUVDdkI7Ozs7OztBQUdQO0FBRU8sU0FBUzJCO0lBQ2QsTUFBTUMsVUFBVXhDLGlEQUFVQSxDQUFDTTtJQUMzQixJQUFJa0MsWUFBWUMsV0FBVztRQUN6QixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFDQSxPQUFPRjtBQUNUIiwic291cmNlcyI6WyIvYXBwL2NvbXBvbmVudHMvY29uc2VudF91aS9Db25zZW50Q29udGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmcm9udGVuZC9jb21wb25lbnRzL2NvbnNlbnRfdWkvQ29uc2VudENvbnRleHQuanNcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRVc2VyQ29uc2VudCwgdXBkYXRlVXNlckNvbnNlbnQsIGdldE9yQ3JlYXRlVXNlcklkIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29uc2VudE1hbmFnZXInO1xuXG5jb25zdCBDb25zZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTtcblxuLy8gQ2hlY2sgaWYgcnVubmluZyBvbiBsb2NhbGhvc3RcbmNvbnN0IGlzTG9jYWxob3N0ID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBDb25zZW50UHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gIGNvbnN0IFtjb25zZW50U3RhdGUsIHNldENvbnNlbnRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgbG9hZGluZzogdHJ1ZSxcbiAgICB1c2VySWQ6IG51bGwsXG4gICAgY29uc2VudFN0YXR1czogbnVsbCxcbiAgICBjb25zZW50VXBkYXRlZEF0OiBudWxsLFxuICAgIGNvbnNlbnREZXRhaWxzOiBudWxsLFxuICAgIHNob3dCYW5uZXI6IHRydWUsXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gR2V0IGNvbnNlbnQgZGF0YSBmcm9tIGNvb2tpZXNcbiAgICBjb25zdCBpbml0aWFsaXplQ29uc2VudCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIElmIHJ1bm5pbmcgb24gbG9jYWxob3N0LCBhdXRvbWF0aWNhbGx5IHNldCBjb25zZW50XG4gICAgICAgIGlmIChpc0xvY2FsaG9zdCgpKSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gZ2V0T3JDcmVhdGVVc2VySWQoKTtcbiAgICAgICAgICBjb25zdCBhdXRvQ29uc2VudERhdGEgPSB7XG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICBjb25zZW50U3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgY29uc2VudFVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgY29uc2VudERldGFpbHM6IHtcbiAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICBhdXRvRW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBVcGRhdGUgY29va2llcyB3aXRoIGF1dG8tY29uc2VudFxuICAgICAgICAgIGF3YWl0IHVwZGF0ZVVzZXJDb25zZW50KHRydWUsIHsgdXNlcklkIH0pO1xuXG4gICAgICAgICAgc2V0Q29uc2VudFN0YXRlKHtcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgdXNlcklkOiBhdXRvQ29uc2VudERhdGEudXNlcklkLFxuICAgICAgICAgICAgY29uc2VudFN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IGF1dG9Db25zZW50RGF0YS5jb25zZW50VXBkYXRlZEF0LFxuICAgICAgICAgICAgY29uc2VudERldGFpbHM6IGF1dG9Db25zZW50RGF0YS5jb25zZW50RGV0YWlscyxcbiAgICAgICAgICAgIHNob3dCYW5uZXI6IGZhbHNlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZygnQXV0by1lbmFibGVkIGNvbnNlbnQgZm9yIGxvY2FsaG9zdDonLCBhdXRvQ29uc2VudERhdGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vcm1hbCBmbG93IGZvciBub24tbG9jYWxob3N0XG4gICAgICAgIGNvbnN0IGNvbnNlbnREYXRhID0gYXdhaXQgZ2V0VXNlckNvbnNlbnQoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWwgY29uc2VudCBkYXRhOicsIGNvbnNlbnREYXRhKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghY29uc2VudERhdGEgfHwgY29uc2VudERhdGEuY29uc2VudFN0YXR1cyA9PT0gbnVsbCkge1xuICAgICAgICAgIHNldENvbnNlbnRTdGF0ZSh7XG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZXJJZDogbnVsbCxcbiAgICAgICAgICAgIGNvbnNlbnRTdGF0dXM6IG51bGwsXG4gICAgICAgICAgICBjb25zZW50VXBkYXRlZEF0OiBudWxsLFxuICAgICAgICAgICAgY29uc2VudERldGFpbHM6IG51bGwsXG4gICAgICAgICAgICBzaG93QmFubmVyOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRDb25zZW50U3RhdGUoe1xuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIHVzZXJJZDogY29uc2VudERhdGEudXNlcklkLFxuICAgICAgICAgIGNvbnNlbnRTdGF0dXM6IGNvbnNlbnREYXRhLmNvbnNlbnRTdGF0dXMsXG4gICAgICAgICAgY29uc2VudFVwZGF0ZWRBdDogY29uc2VudERhdGEuY29uc2VudFVwZGF0ZWRBdCxcbiAgICAgICAgICBjb25zZW50RGV0YWlsczogY29uc2VudERhdGEuY29uc2VudERldGFpbHMsXG4gICAgICAgICAgc2hvd0Jhbm5lcjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgY29uc2VudDonLCBlcnJvcik7XG4gICAgICAgIHNldENvbnNlbnRTdGF0ZSh7XG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgdXNlcklkOiBudWxsLFxuICAgICAgICAgIGNvbnNlbnRTdGF0dXM6IG51bGwsXG4gICAgICAgICAgY29uc2VudFVwZGF0ZWRBdDogbnVsbCxcbiAgICAgICAgICBjb25zZW50RGV0YWlsczogbnVsbCxcbiAgICAgICAgICBzaG93QmFubmVyOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpbml0aWFsaXplQ29uc2VudCgpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgdXBkYXRlQ29uc2VudCA9IGFzeW5jIChzdGF0dXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcklkID0gY29uc2VudFN0YXRlLnVzZXJJZCB8fCBnZXRPckNyZWF0ZVVzZXJJZCgpO1xuICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIGNvbnNlbnQgd2l0aCB1c2VySWQ6JywgdXNlcklkKTtcbiAgICAgIFxuICAgICAgY29uc3QgdXBkYXRlZENvbnNlbnQgPSBhd2FpdCB1cGRhdGVVc2VyQ29uc2VudChzdGF0dXMsIHsgdXNlcklkIH0pO1xuICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgY29uc2VudCBkYXRhOicsIHVwZGF0ZWRDb25zZW50KTtcbiAgICAgIFxuICAgICAgc2V0Q29uc2VudFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgdXNlcklkOiB1cGRhdGVkQ29uc2VudC51c2VySWQsXG4gICAgICAgIGNvbnNlbnRTdGF0dXM6IHVwZGF0ZWRDb25zZW50LmNvbnNlbnRTdGF0dXMsXG4gICAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IHVwZGF0ZWRDb25zZW50LmNvbnNlbnRVcGRhdGVkQXQsXG4gICAgICAgIGNvbnNlbnREZXRhaWxzOiB1cGRhdGVkQ29uc2VudC5jb25zZW50RGV0YWlscyxcbiAgICAgICAgc2hvd0Jhbm5lcjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNvbnNlbnQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB0b2dnbGVCYW5uZXIgPSAoc2hvdykgPT4ge1xuICAgIHNldENvbnNlbnRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgc2hvd0Jhbm5lcjogc2hvd1xuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxDb25zZW50Q29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgLi4uY29uc2VudFN0YXRlLFxuICAgICAgICB1cGRhdGVDb25zZW50LFxuICAgICAgICB0b2dnbGVCYW5uZXJcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQ29uc2VudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb25zZW50KCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChDb25zZW50Q29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUNvbnNlbnQgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIENvbnNlbnRQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufSJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiZ2V0VXNlckNvbnNlbnQiLCJ1cGRhdGVVc2VyQ29uc2VudCIsImdldE9yQ3JlYXRlVXNlcklkIiwiQ29uc2VudENvbnRleHQiLCJpc0xvY2FsaG9zdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJDb25zZW50UHJvdmlkZXIiLCJjaGlsZHJlbiIsImNvbnNlbnRTdGF0ZSIsInNldENvbnNlbnRTdGF0ZSIsImxvYWRpbmciLCJ1c2VySWQiLCJjb25zZW50U3RhdHVzIiwiY29uc2VudFVwZGF0ZWRBdCIsImNvbnNlbnREZXRhaWxzIiwic2hvd0Jhbm5lciIsImluaXRpYWxpemVDb25zZW50IiwiYXV0b0NvbnNlbnREYXRhIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3RhdHVzIiwidGltZXN0YW1wIiwiYXV0b0VuYWJsZWQiLCJjb25zb2xlIiwibG9nIiwiY29uc2VudERhdGEiLCJlcnJvciIsInVwZGF0ZUNvbnNlbnQiLCJ1cGRhdGVkQ29uc2VudCIsInByZXYiLCJ0b2dnbGVCYW5uZXIiLCJzaG93IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZUNvbnNlbnQiLCJjb250ZXh0IiwidW5kZWZpbmVkIiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/consent_ui/ConsentContext.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/layout/Layout.js":
/*!*************************************!*\
  !*** ./components/layout/Layout.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"(pages-dir-node)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _consent_ui_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../consent_ui/ConsentBanner */ \"(pages-dir-node)/./components/consent_ui/ConsentBanner.js\");\n/* harmony import */ var _profile_UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../profile/UserProfileSidebar */ \"(pages-dir-node)/./components/profile/UserProfileSidebar.js\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../styles/Consent.module.css */ \"(pages-dir-node)/./styles/Consent.module.css\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../consent_ui/ConsentContext */ \"(pages-dir-node)/./components/consent_ui/ConsentContext.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_consent_ui_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__, _profile_UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__, _consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_5__]);\n([_consent_ui_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__, _profile_UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__, _consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/components/layout/Layout.js\n\n\n\n\n\n\nfunction Layout({ children, title = 'Eye Tracking App' }) {\n    const { showBanner } = (0,_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_5__.useConsent)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: title\n                    }, void 0, false, {\n                        fileName: \"/app/components/layout/Layout.js\",\n                        lineNumber: 14,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Eye tracking application with multiple models\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/layout/Layout.js\",\n                        lineNumber: 15,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/app/components/layout/Layout.js\",\n                        lineNumber: 16,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/layout/Layout.js\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_consent_ui_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"/app/components/layout/Layout.js\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default().mainContent)} ${showBanner ? (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default().withBanner) : ''}`,\n                children: children\n            }, void 0, false, {\n                fileName: \"/app/components/layout/Layout.js\",\n                lineNumber: 22,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_profile_UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                fileName: \"/app/components/layout/Layout.js\",\n                lineNumber: 27,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvbGF5b3V0L0xheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsdUNBQXVDOztBQUNWO0FBQzJCO0FBQ087QUFDVjtBQUNLO0FBRTNDLFNBQVNLLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLGtCQUFrQixFQUFFO0lBQ3JFLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdKLHNFQUFVQTtJQUVqQyxxQkFDRTs7MEJBQ0UsOERBQUNKLGtEQUFJQTs7a0NBQ0gsOERBQUNPO2tDQUFPQTs7Ozs7O2tDQUNSLDhEQUFDRTt3QkFBS0MsTUFBSzt3QkFBY0MsU0FBUTs7Ozs7O2tDQUNqQyw4REFBQ0M7d0JBQUtDLEtBQUk7d0JBQU9DLE1BQUs7Ozs7Ozs7Ozs7OzswQkFJeEIsOERBQUNiLGlFQUFhQTs7Ozs7MEJBRWQsOERBQUNjO2dCQUFLQyxXQUFXLEdBQUdiLCtFQUFrQixDQUFDLENBQUMsRUFBRUssYUFBYUwsOEVBQWlCLEdBQUcsSUFBSTswQkFDNUVHOzs7Ozs7MEJBSUgsOERBQUNKLG1FQUFrQkE7Ozs7Ozs7QUFHekIiLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9sYXlvdXQvTGF5b3V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZyb250ZW5kL2NvbXBvbmVudHMvbGF5b3V0L0xheW91dC5qc1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCBDb25zZW50QmFubmVyIGZyb20gJy4uL2NvbnNlbnRfdWkvQ29uc2VudEJhbm5lcic7XG5pbXBvcnQgVXNlclByb2ZpbGVTaWRlYmFyIGZyb20gJy4uL3Byb2ZpbGUvVXNlclByb2ZpbGVTaWRlYmFyJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vLi4vc3R5bGVzL0NvbnNlbnQubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi4vY29uc2VudF91aS9Db25zZW50Q29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExheW91dCh7IGNoaWxkcmVuLCB0aXRsZSA9ICdFeWUgVHJhY2tpbmcgQXBwJyB9KSB7XG4gIGNvbnN0IHsgc2hvd0Jhbm5lciB9ID0gdXNlQ29uc2VudCgpO1xuICBcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT57dGl0bGV9PC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIkV5ZSB0cmFja2luZyBhcHBsaWNhdGlvbiB3aXRoIG11bHRpcGxlIG1vZGVsc1wiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cImljb25cIiBocmVmPVwiL2Zhdmljb24uaWNvXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIFxuICAgICAgey8qIENvb2tpZSBjb25zZW50IGJhbm5lciBhdCB0aGUgdG9wICovfVxuICAgICAgPENvbnNlbnRCYW5uZXIgLz5cbiAgICAgIFxuICAgICAgPG1haW4gY2xhc3NOYW1lPXtgJHtzdHlsZXMubWFpbkNvbnRlbnR9ICR7c2hvd0Jhbm5lciA/IHN0eWxlcy53aXRoQmFubmVyIDogJyd9YH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvbWFpbj5cblxuICAgICAgey8qIFVzZXIgUHJvZmlsZSBTaWRlYmFyICovfVxuICAgICAgPFVzZXJQcm9maWxlU2lkZWJhciAvPlxuICAgIDwvPlxuICApO1xufSJdLCJuYW1lcyI6WyJIZWFkIiwiQ29uc2VudEJhbm5lciIsIlVzZXJQcm9maWxlU2lkZWJhciIsInN0eWxlcyIsInVzZUNvbnNlbnQiLCJMYXlvdXQiLCJjaGlsZHJlbiIsInRpdGxlIiwic2hvd0Jhbm5lciIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImxpbmsiLCJyZWwiLCJocmVmIiwibWFpbiIsImNsYXNzTmFtZSIsIm1haW5Db250ZW50Iiwid2l0aEJhbm5lciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/layout/Layout.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/profile/UserProfileSidebar.js":
/*!**************************************************!*\
  !*** ./components/profile/UserProfileSidebar.js ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UserProfileSidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/UserProfile.module.css */ \"(pages-dir-node)/./styles/UserProfile.module.css\");\n/* harmony import */ var _styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../consent_ui/ConsentContext */ \"(pages-dir-node)/./components/consent_ui/ConsentContext.js\");\n/* harmony import */ var _utils_stateManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/stateManager */ \"(pages-dir-node)/./utils/stateManager.js\");\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_6__]);\n([_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// import { getUserProfile, updateUserProfile } from '../utils/consentManager';\n\n\n\nfunction UserProfileSidebar() {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [profile, setProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        username: '',\n        sex: '',\n        age: '',\n        image_background: '',\n        preferences: {}\n    });\n    // const [statusMessage, setStatusMessageLocal] = useState('');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [localUserId, setLocalUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get consent and backend status\n    const { userId, consentStatus } = (0,_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_4__.useConsent)();\n    const { isConnected, authValid } = (0,_utils_stateManager__WEBPACK_IMPORTED_MODULE_5__.useBackendConnection)();\n    // Update local user ID when consent status changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            if (consentStatus) {\n                const newUserId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_6__.getOrCreateUserId)();\n                setLocalUserId(newUserId);\n            }\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        consentStatus\n    ]);\n    // Load profile data when component mounts or consent changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            const loadProfile = {\n                \"UserProfileSidebar.useEffect.loadProfile\": async ()=>{\n                    const currentUserId = localUserId || userId;\n                    if (!currentUserId) {\n                        setIsLoading(false);\n                        return;\n                    }\n                    try {\n                        setIsLoading(true);\n                        const response = await fetch(`/api/user-preferences/${currentUserId}`, {\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json',\n                                'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                            }\n                        });\n                        if (!response.ok) {\n                            throw new Error('Failed to load profile');\n                        }\n                        const data = await response.json();\n                        console.log('Loaded profile data:', data);\n                        if (data.data) {\n                            setProfile({\n                                \"UserProfileSidebar.useEffect.loadProfile\": (prev)=>({\n                                        ...prev,\n                                        username: data.data.username || '',\n                                        sex: data.data.sex || '',\n                                        age: data.data.age || '',\n                                        image_background: data.data.image_background || ''\n                                    })\n                            }[\"UserProfileSidebar.useEffect.loadProfile\"]);\n                        }\n                    } catch (error) {\n                        console.error('Error loading profile:', error);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"UserProfileSidebar.useEffect.loadProfile\"];\n            loadProfile();\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        userId,\n        localUserId,\n        consentStatus\n    ]);\n    // Reset sidebar state when route changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            setIsOpen(false);\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        router.pathname\n    ]);\n    const handleInputChange = (e)=>{\n        const { name, value } = e.target;\n        setProfile((prev)=>({\n                ...prev,\n                [name]: value\n            }));\n    };\n    const handleSave = async ()=>{\n        try {\n            if (!localUserId) {\n                console.error('No user ID available');\n                return;\n            }\n            // Check if username is \"admin\"\n            if (profile.username === \"admin\") {\n                // Redirect to admin login page\n                router.push('/admin_ui/admin-login');\n                return;\n            }\n            // Prepare profile data\n            const profileData = {\n                username: profile.username || null,\n                sex: profile.sex || null,\n                age: profile.age || null\n            };\n            // Save to backend\n            const response = await fetch(`/api/user-preferences/${localUserId}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                    // 'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                },\n                body: JSON.stringify(profileData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.detail || 'Failed to save profile');\n            }\n            const result = await response.json();\n            console.log('Profile saved successfully:', result);\n            // Update local state\n            setProfile((prev)=>({\n                    ...prev,\n                    ...profileData\n                }));\n            // Dispatch admin update event\n            if (false) {}\n            // Show success message\n            alert('Profile saved successfully!');\n        } catch (error) {\n            console.error('Error saving profile:', error);\n            alert(error.message || 'Failed to save profile. Please try again.');\n        }\n    };\n    // const updateStatusMessage = (message) => {\n    //   if (setStatusMessage) {\n    //     setStatusMessage(message);\n    //   }\n    //   setStatusMessageLocal(message);\n    // };\n    // Don't render anything if consent is not accepted\n    if (!consentStatus) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: 'fixed',\n            bottom: '20px',\n            right: '20px',\n            zIndex: 100\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().toggleButton),\n                onClick: ()=>setIsOpen(!isOpen),\n                style: {\n                    zIndex: 100,\n                    position: 'fixed',\n                    bottom: '20px',\n                    right: '20px',\n                    backgroundColor: '#0d6efd',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    fontSize: '20px',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyItems: 'center',\n                    boxShadow: '0 2px 5px rgba(0, 0, 0, 0.2)'\n                },\n                children: isOpen ? '×' : '☰'\n            }, void 0, false, {\n                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                lineNumber: 175,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().sidebar)} ${isOpen ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().open) : ''}`,\n                style: {\n                    zIndex: 49,\n                    position: 'fixed',\n                    top: 0,\n                    right: isOpen ? '0' : '-400px',\n                    width: '400px',\n                    height: '100vh',\n                    background: 'white',\n                    boxShadow: '-2px 0 5px rgba(0, 0, 0, 0.1)',\n                    transition: 'right 0.3s ease',\n                    overflowY: 'auto'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().profileHeader),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"User Profile\"\n                            }, void 0, false, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 216,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().closeButton),\n                                onClick: ()=>setIsOpen(false),\n                                children: \"\\xd7\"\n                            }, void 0, false, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 217,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                        lineNumber: 215,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusSection),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"User ID:\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 228,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue),\n                                        children: localUserId || userId || 'Not set'\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 229,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 227,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Consent Status:\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 232,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${consentStatus ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: consentStatus === null ? 'Not set' : consentStatus ? 'Accepted' : 'Declined'\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 233,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 231,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Backend Status:\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 238,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${isConnected ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: isConnected ? 'Connected' : 'Disconnected'\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 239,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 237,\n                                columnNumber: 11\n                            }, this),\n                            isConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Authentication:\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 245,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${authValid ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: authValid ? 'Valid' : 'Invalid'\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 246,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 244,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                        lineNumber: 226,\n                        columnNumber: 9\n                    }, this),\n                    isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().loadingContainer),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Loading profile data...\"\n                        }, void 0, false, {\n                            fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                            lineNumber: 255,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                        lineNumber: 254,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().profileForm),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"username\",\n                                        children: \"Username\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 260,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        id: \"username\",\n                                        name: \"username\",\n                                        value: profile.username,\n                                        onChange: handleInputChange,\n                                        placeholder: \"Enter username\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 261,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 259,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"sex\",\n                                        children: \"Sex\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 272,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        id: \"sex\",\n                                        name: \"sex\",\n                                        value: profile.sex,\n                                        onChange: handleInputChange,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"Select\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                                lineNumber: 279,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"male\",\n                                                children: \"Male\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                                lineNumber: 280,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"female\",\n                                                children: \"Female\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                                lineNumber: 281,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"other\",\n                                                children: \"Other\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                                lineNumber: 282,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 273,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 271,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"age\",\n                                        children: \"Age\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 287,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        id: \"age\",\n                                        name: \"age\",\n                                        value: profile.age,\n                                        onChange: handleInputChange,\n                                        min: \"1\",\n                                        max: \"120\",\n                                        placeholder: \"Enter age\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 288,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 286,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"image_background\",\n                                        children: \"Background Image URL\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 301,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        id: \"image_background\",\n                                        name: \"image_background\",\n                                        value: profile.image_background,\n                                        onChange: handleInputChange,\n                                        placeholder: \"Enter image URL\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                        lineNumber: 302,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 300,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().saveButton),\n                                onClick: handleSave,\n                                disabled: isLoading,\n                                children: isLoading ? 'Saving...' : 'Save Profile'\n                            }, void 0, false, {\n                                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                                lineNumber: 312,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                        lineNumber: 258,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/components/profile/UserProfileSidebar.js\",\n                lineNumber: 200,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/components/profile/UserProfileSidebar.js\",\n        lineNumber: 174,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvcHJvZmlsZS9Vc2VyUHJvZmlsZVNpZGViYXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0QztBQUNKO0FBQ2lCO0FBQ3pELCtFQUErRTtBQUNyQjtBQUNNO0FBQ0Q7QUFFaEQsU0FBU087SUFDdEIsTUFBTUMsU0FBU04sc0RBQVNBO0lBQ3hCLE1BQU0sQ0FBQ08sUUFBUUMsVUFBVSxHQUFHViwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNXLFNBQVNDLFdBQVcsR0FBR1osK0NBQVFBLENBQUM7UUFDckNhLFVBQVU7UUFDVkMsS0FBSztRQUNMQyxLQUFLO1FBQ0xDLGtCQUFrQjtRQUNsQkMsYUFBYSxDQUFDO0lBQ2hCO0lBQ0EsK0RBQStEO0lBQy9ELE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDb0IsYUFBYUMsZUFBZSxHQUFHckIsK0NBQVFBLENBQUM7SUFFL0MsaUNBQWlDO0lBQ2pDLE1BQU0sRUFBRXNCLE1BQU0sRUFBRUMsYUFBYSxFQUFFLEdBQUduQixzRUFBVUE7SUFDNUMsTUFBTSxFQUFFb0IsV0FBVyxFQUFFQyxTQUFTLEVBQUUsR0FBR3BCLHlFQUFvQkE7SUFFdkQsbURBQW1EO0lBQ25ESixnREFBU0E7d0NBQUM7WUFDUixJQUFJc0IsZUFBZTtnQkFDakIsTUFBTUcsWUFBWXBCLHdFQUFpQkE7Z0JBQ25DZSxlQUFlSztZQUNqQjtRQUNGO3VDQUFHO1FBQUNIO0tBQWM7SUFFbEIsNkRBQTZEO0lBQzdEdEIsZ0RBQVNBO3dDQUFDO1lBQ1IsTUFBTTBCOzREQUFjO29CQUNsQixNQUFNQyxnQkFBZ0JSLGVBQWVFO29CQUNyQyxJQUFJLENBQUNNLGVBQWU7d0JBQ2xCVCxhQUFhO3dCQUNiO29CQUNGO29CQUVBLElBQUk7d0JBQ0ZBLGFBQWE7d0JBQ2IsTUFBTVUsV0FBVyxNQUFNQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVG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QyxRQUFRSyxnQkFBZ0I7d0NBQy9Ca0csVUFBVXRFO3dDQUNWdUUsYUFBWTs7Ozs7Ozs7Ozs7OzBDQUloQiw4REFBQ3pDO2dDQUNDQyxXQUFXeEUsa0ZBQWlCO2dDQUM1QjBFLFNBQVM1QjtnQ0FDVHdFLFVBQVV2RzswQ0FFVEEsWUFBWSxjQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPekMiLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9wcm9maWxlL1VzZXJQcm9maWxlU2lkZWJhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi8uLi9zdHlsZXMvVXNlclByb2ZpbGUubW9kdWxlLmNzcyc7XG4vLyBpbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSwgdXBkYXRlVXNlclByb2ZpbGUgfSBmcm9tICcuLi91dGlscy9jb25zZW50TWFuYWdlcic7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi4vY29uc2VudF91aS9Db25zZW50Q29udGV4dCc7XG5pbXBvcnQgeyB1c2VCYWNrZW5kQ29ubmVjdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL3N0YXRlTWFuYWdlcic7XG5pbXBvcnQgeyBnZXRPckNyZWF0ZVVzZXJJZCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbnNlbnRNYW5hZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXNlclByb2ZpbGVTaWRlYmFyKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2ZpbGUsIHNldFByb2ZpbGVdID0gdXNlU3RhdGUoe1xuICAgIHVzZXJuYW1lOiAnJyxcbiAgICBzZXg6ICcnLFxuICAgIGFnZTogJycsXG4gICAgaW1hZ2VfYmFja2dyb3VuZDogJycsXG4gICAgcHJlZmVyZW5jZXM6IHt9XG4gIH0pO1xuICAvLyBjb25zdCBbc3RhdHVzTWVzc2FnZSwgc2V0U3RhdHVzTWVzc2FnZUxvY2FsXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbbG9jYWxVc2VySWQsIHNldExvY2FsVXNlcklkXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIC8vIEdldCBjb25zZW50IGFuZCBiYWNrZW5kIHN0YXR1c1xuICBjb25zdCB7IHVzZXJJZCwgY29uc2VudFN0YXR1cyB9ID0gdXNlQ29uc2VudCgpO1xuICBjb25zdCB7IGlzQ29ubmVjdGVkLCBhdXRoVmFsaWQgfSA9IHVzZUJhY2tlbmRDb25uZWN0aW9uKCk7XG5cbiAgLy8gVXBkYXRlIGxvY2FsIHVzZXIgSUQgd2hlbiBjb25zZW50IHN0YXR1cyBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnNlbnRTdGF0dXMpIHtcbiAgICAgIGNvbnN0IG5ld1VzZXJJZCA9IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgICBzZXRMb2NhbFVzZXJJZChuZXdVc2VySWQpO1xuICAgIH1cbiAgfSwgW2NvbnNlbnRTdGF0dXNdKTtcblxuICAvLyBMb2FkIHByb2ZpbGUgZGF0YSB3aGVuIGNvbXBvbmVudCBtb3VudHMgb3IgY29uc2VudCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZFByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50VXNlcklkID0gbG9jYWxVc2VySWQgfHwgdXNlcklkO1xuICAgICAgaWYgKCFjdXJyZW50VXNlcklkKSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXItcHJlZmVyZW5jZXMvJHtjdXJyZW50VXNlcklkfWAsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBwcm9maWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGVkIHByb2ZpbGUgZGF0YTonLCBkYXRhKTtcblxuICAgICAgICBpZiAoZGF0YS5kYXRhKSB7XG4gICAgICAgICAgc2V0UHJvZmlsZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgdXNlcm5hbWU6IGRhdGEuZGF0YS51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIHNleDogZGF0YS5kYXRhLnNleCB8fCAnJyxcbiAgICAgICAgICAgIGFnZTogZGF0YS5kYXRhLmFnZSB8fCAnJyxcbiAgICAgICAgICAgIGltYWdlX2JhY2tncm91bmQ6IGRhdGEuZGF0YS5pbWFnZV9iYWNrZ3JvdW5kIHx8ICcnXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZFByb2ZpbGUoKTtcbiAgfSwgW3VzZXJJZCwgbG9jYWxVc2VySWQsIGNvbnNlbnRTdGF0dXNdKTtcblxuICAvLyBSZXNldCBzaWRlYmFyIHN0YXRlIHdoZW4gcm91dGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzT3BlbihmYWxzZSk7XG4gIH0sIFtyb3V0ZXIucGF0aG5hbWVdKTtcblxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gZS50YXJnZXQ7XG4gICAgc2V0UHJvZmlsZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgW25hbWVdOiB2YWx1ZVxuICAgIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYXZlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWxvY2FsVXNlcklkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHVzZXIgSUQgYXZhaWxhYmxlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgdXNlcm5hbWUgaXMgXCJhZG1pblwiXG4gICAgICBpZiAocHJvZmlsZS51c2VybmFtZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIGFkbWluIGxvZ2luIHBhZ2VcbiAgICAgICAgcm91dGVyLnB1c2goJy9hZG1pbl91aS9hZG1pbi1sb2dpbicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBQcmVwYXJlIHByb2ZpbGUgZGF0YVxuICAgICAgY29uc3QgcHJvZmlsZURhdGEgPSB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9maWxlLnVzZXJuYW1lIHx8IG51bGwsXG4gICAgICAgIHNleDogcHJvZmlsZS5zZXggfHwgbnVsbCxcbiAgICAgICAgYWdlOiBwcm9maWxlLmFnZSB8fCBudWxsXG4gICAgICB9O1xuXG4gICAgICAvLyBTYXZlIHRvIGJhY2tlbmRcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlci1wcmVmZXJlbmNlcy8ke2xvY2FsVXNlcklkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgLy8gJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVicsXG4gICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVlcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZmlsZURhdGEpXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZGV0YWlsIHx8ICdGYWlsZWQgdG8gc2F2ZSBwcm9maWxlJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9maWxlIHNhdmVkIHN1Y2Nlc3NmdWxseTonLCByZXN1bHQpO1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIHNldFByb2ZpbGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICAuLi5wcm9maWxlRGF0YVxuICAgICAgfSkpO1xuXG4gICAgICAvLyBEaXNwYXRjaCBhZG1pbiB1cGRhdGUgZXZlbnRcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnYWRtaW5VcGRhdGUnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICB0eXBlOiAncHJvZmlsZScsXG4gICAgICAgICAgICB1c2VySWQ6IGxvY2FsVXNlcklkLFxuICAgICAgICAgICAgcHJvZmlsZToge1xuICAgICAgICAgICAgICAuLi5wcm9maWxlRGF0YSxcbiAgICAgICAgICAgICAgaXNDb21wbGV0ZTogQm9vbGVhbihwcm9maWxlRGF0YS51c2VybmFtZSAmJiBwcm9maWxlRGF0YS5zZXgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAgYWxlcnQoJ1Byb2ZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcHJvZmlsZTonLCBlcnJvcik7XG4gICAgICBhbGVydChlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2F2ZSBwcm9maWxlLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH1cbiAgfTtcblxuICAvLyBjb25zdCB1cGRhdGVTdGF0dXNNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgLy8gICBpZiAoc2V0U3RhdHVzTWVzc2FnZSkge1xuICAvLyAgICAgc2V0U3RhdHVzTWVzc2FnZShtZXNzYWdlKTtcbiAgLy8gICB9XG4gIC8vICAgc2V0U3RhdHVzTWVzc2FnZUxvY2FsKG1lc3NhZ2UpO1xuICAvLyB9O1xuXG4gIC8vIERvbid0IHJlbmRlciBhbnl0aGluZyBpZiBjb25zZW50IGlzIG5vdCBhY2NlcHRlZFxuICBpZiAoIWNvbnNlbnRTdGF0dXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2ZpeGVkJywgYm90dG9tOiAnMjBweCcsIHJpZ2h0OiAnMjBweCcsIHpJbmRleDogMTAwIH19PlxuICAgICAgPGJ1dHRvbiBcbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudG9nZ2xlQnV0dG9ufVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4oIWlzT3Blbil9XG4gICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgIHpJbmRleDogMTAwLFxuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIGJvdHRvbTogJzIwcHgnLFxuICAgICAgICAgIHJpZ2h0OiAnMjBweCcsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzBkNmVmZCcsXG4gICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgICAgICB3aWR0aDogJzQwcHgnLFxuICAgICAgICAgIGhlaWdodDogJzQwcHgnLFxuICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgIGp1c3RpZnlJdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgYm94U2hhZG93OiAnMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4yKSdcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge2lzT3BlbiA/ICfDlycgOiAn4piwJ31cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5zaWRlYmFyfSAke2lzT3BlbiA/IHN0eWxlcy5vcGVuIDogJyd9YH1cbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgekluZGV4OiA0OSxcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgcmlnaHQ6IGlzT3BlbiA/ICcwJyA6ICctNDAwcHgnLFxuICAgICAgICAgIHdpZHRoOiAnNDAwcHgnLFxuICAgICAgICAgIGhlaWdodDogJzEwMHZoJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAnd2hpdGUnLFxuICAgICAgICAgIGJveFNoYWRvdzogJy0ycHggMCA1cHggcmdiYSgwLCAwLCAwLCAwLjEpJyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiAncmlnaHQgMC4zcyBlYXNlJyxcbiAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnByb2ZpbGVIZWFkZXJ9PlxuICAgICAgICAgIDxoMj5Vc2VyIFByb2ZpbGU8L2gyPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jbG9zZUJ1dHRvbn1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbihmYWxzZSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgw5dcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFN0YXR1cyBJbmZvcm1hdGlvbiAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNTZWN0aW9ufT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0l0ZW19PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzTGFiZWx9PlVzZXIgSUQ6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzVmFsdWV9Pntsb2NhbFVzZXJJZCB8fCB1c2VySWQgfHwgJ05vdCBzZXQnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0l0ZW19PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzTGFiZWx9PkNvbnNlbnQgU3RhdHVzOjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YCR7c3R5bGVzLnN0YXR1c1ZhbHVlfSAke2NvbnNlbnRTdGF0dXMgPyBzdHlsZXMuc3RhdHVzQWN0aXZlIDogc3R5bGVzLnN0YXR1c0luYWN0aXZlfWB9PlxuICAgICAgICAgICAgICB7Y29uc2VudFN0YXR1cyA9PT0gbnVsbCA/ICdOb3Qgc2V0JyA6IGNvbnNlbnRTdGF0dXMgPyAnQWNjZXB0ZWQnIDogJ0RlY2xpbmVkJ31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0l0ZW19PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzTGFiZWx9PkJhY2tlbmQgU3RhdHVzOjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YCR7c3R5bGVzLnN0YXR1c1ZhbHVlfSAke2lzQ29ubmVjdGVkID8gc3R5bGVzLnN0YXR1c0FjdGl2ZSA6IHN0eWxlcy5zdGF0dXNJbmFjdGl2ZX1gfT5cbiAgICAgICAgICAgICAge2lzQ29ubmVjdGVkID8gJ0Nvbm5lY3RlZCcgOiAnRGlzY29ubmVjdGVkJ31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7aXNDb25uZWN0ZWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNJdGVtfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzTGFiZWx9PkF1dGhlbnRpY2F0aW9uOjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtzdHlsZXMuc3RhdHVzVmFsdWV9ICR7YXV0aFZhbGlkID8gc3R5bGVzLnN0YXR1c0FjdGl2ZSA6IHN0eWxlcy5zdGF0dXNJbmFjdGl2ZX1gfT5cbiAgICAgICAgICAgICAgICB7YXV0aFZhbGlkID8gJ1ZhbGlkJyA6ICdJbnZhbGlkJ31cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2lzTG9hZGluZyA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxvYWRpbmdDb250YWluZXJ9PlxuICAgICAgICAgICAgPHA+TG9hZGluZyBwcm9maWxlIGRhdGEuLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wcm9maWxlRm9ybX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmZvcm1Hcm91cH0+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwidXNlcm5hbWVcIj5Vc2VybmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBpZD1cInVzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwidXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9maWxlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHVzZXJuYW1lXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmZvcm1Hcm91cH0+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwic2V4XCI+U2V4PC9sYWJlbD5cbiAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgIGlkPVwic2V4XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwic2V4XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvZmlsZS5zZXh9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtYWxlXCI+TWFsZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJmZW1hbGVcIj5GZW1hbGU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwib3RoZXJcIj5PdGhlcjwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmZvcm1Hcm91cH0+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiYWdlXCI+QWdlPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgaWQ9XCJhZ2VcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJhZ2VcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9maWxlLmFnZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgbWF4PVwiMTIwXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGFnZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5mb3JtR3JvdXB9PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImltYWdlX2JhY2tncm91bmRcIj5CYWNrZ3JvdW5kIEltYWdlIFVSTDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBpZD1cImltYWdlX2JhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJpbWFnZV9iYWNrZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvZmlsZS5pbWFnZV9iYWNrZ3JvdW5kfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGltYWdlIFVSTFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc2F2ZUJ1dHRvbn1cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzTG9hZGluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUgUHJvZmlsZSd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJzdHlsZXMiLCJ1c2VDb25zZW50IiwidXNlQmFja2VuZENvbm5lY3Rpb24iLCJnZXRPckNyZWF0ZVVzZXJJZCIsIlVzZXJQcm9maWxlU2lkZWJhciIsInJvdXRlciIsImlzT3BlbiIsInNldElzT3BlbiIsInByb2ZpbGUiLCJzZXRQcm9maWxlIiwidXNlcm5hbWUiLCJzZXgiLCJhZ2UiLCJpbWFnZV9iYWNrZ3JvdW5kIiwicHJlZmVyZW5jZXMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJsb2NhbFVzZXJJZCIsInNldExvY2FsVXNlcklkIiwidXNlcklkIiwiY29uc2VudFN0YXR1cyIsImlzQ29ubmVjdGVkIiwiYXV0aFZhbGlkIiwibmV3VXNlcklkIiwibG9hZFByb2ZpbGUiLCJjdXJyZW50VXNlcklkIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJwcmV2IiwiZXJyb3IiLCJwYXRobmFtZSIsImhhbmRsZUlucHV0Q2hhbmdlIiwiZSIsIm5hbWUiLCJ2YWx1ZSIsInRhcmdldCIsImhhbmRsZVNhdmUiLCJwdXNoIiwicHJvZmlsZURhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yRGF0YSIsImRldGFpbCIsInJlc3VsdCIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJ0eXBlIiwiaXNDb21wbGV0ZSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiYWxlcnQiLCJtZXNzYWdlIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsImJvdHRvbSIsInJpZ2h0IiwiekluZGV4IiwiYnV0dG9uIiwiY2xhc3NOYW1lIiwidG9nZ2xlQnV0dG9uIiwib25DbGljayIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwid2lkdGgiLCJoZWlnaHQiLCJmb250U2l6ZSIsImN1cnNvciIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUl0ZW1zIiwiYm94U2hhZG93Iiwic2lkZWJhciIsIm9wZW4iLCJ0b3AiLCJiYWNrZ3JvdW5kIiwidHJhbnNpdGlvbiIsIm92ZXJmbG93WSIsInByb2ZpbGVIZWFkZXIiLCJoMiIsImNsb3NlQnV0dG9uIiwic3RhdHVzU2VjdGlvbiIsInN0YXR1c0l0ZW0iLCJzcGFuIiwic3RhdHVzTGFiZWwiLCJzdGF0dXNWYWx1ZSIsInN0YXR1c0FjdGl2ZSIsInN0YXR1c0luYWN0aXZlIiwibG9hZGluZ0NvbnRhaW5lciIsInAiLCJwcm9maWxlRm9ybSIsImZvcm1Hcm91cCIsImxhYmVsIiwiaHRtbEZvciIsImlucHV0IiwiaWQiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwic2VsZWN0Iiwib3B0aW9uIiwibWluIiwibWF4Iiwic2F2ZUJ1dHRvbiIsImRpc2FibGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/profile/UserProfileSidebar.js\n");

/***/ }),

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(pages-dir-node)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(pages-dir-node)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_shared_lib_router_utils_format_url__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/format-url */ \"next/dist/shared/lib/router/utils/format-url\");\n/* harmony import */ var next_dist_shared_lib_router_utils_format_url__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_format_url__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(pages-dir-node)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/app-render/interop-default */ \"(pages-dir-node)/./node_modules/next/dist/server/app-render/interop-default.js\");\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(pages-dir-node)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_shared_lib_page_path_normalize_data_path__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/shared/lib/page-path/normalize-data-path */ \"next/dist/shared/lib/page-path/normalize-data-path\");\n/* harmony import */ var next_dist_shared_lib_page_path_normalize_data_path__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_page_path_normalize_data_path__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(pages-dir-node)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./pages/_app.js\");\n/* harmony import */ var _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pages/collected-dataset-customized/index.js */ \"(pages-dir-node)/./pages/collected-dataset-customized/index.js\");\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(pages-dir-node)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_shared_lib_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/shared/lib/utils */ \"next/dist/shared/lib/utils\");\n/* harmony import */ var next_dist_shared_lib_utils__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_utils__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var next_dist_lib_redirect_status__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! next/dist/lib/redirect-status */ \"(pages-dir-node)/./node_modules/next/dist/lib/redirect-status.js\");\n/* harmony import */ var next_dist_lib_redirect_status__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_redirect_status__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! next/dist/lib/constants */ \"(pages-dir-node)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! next/dist/server/send-payload */ \"(pages-dir-node)/./node_modules/next/dist/server/send-payload.js\");\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! next/dist/server/render-result */ \"(pages-dir-node)/./node_modules/next/dist/server/render-result.js\");\n/* harmony import */ var next_dist_server_response_cache_utils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! next/dist/server/response-cache/utils */ \"(pages-dir-node)/./node_modules/next/dist/server/response-cache/utils.js\");\n/* harmony import */ var next_dist_server_response_cache_utils__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache_utils__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! next/dist/client/components/redirect-status-code */ \"(pages-dir-node)/./node_modules/next/dist/client/components/redirect-status-code.js\");\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/is-bot */ \"next/dist/shared/lib/router/utils/is-bot\");\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var next_dist_shared_lib_router_utils_add_path_prefix__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/add-path-prefix */ \"next/dist/shared/lib/router/utils/add-path-prefix\");\n/* harmony import */ var next_dist_shared_lib_router_utils_add_path_prefix__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_add_path_prefix__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var next_dist_shared_lib_router_utils_remove_trailing_slash__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/remove-trailing-slash */ \"next/dist/shared/lib/router/utils/remove-trailing-slash\");\n/* harmony import */ var next_dist_shared_lib_router_utils_remove_trailing_slash__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_remove_trailing_slash__WEBPACK_IMPORTED_MODULE_25__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_12__, _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_12__, _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_10__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/collected-dataset-customized\",\n        pathname: \"/collected-dataset-customized\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    distDir: \".next\" || 0,\n    projectDir:  false || '',\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_11___default())\n    },\n    userland: _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__\n});\nasync function handler(req, res, ctx) {\n    var _serverFilesManifest_config_experimental, _serverFilesManifest_config;\n    let srcPage = \"/collected-dataset-customized\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = \"false\";\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return;\n    }\n    const { buildId, query, params, parsedUrl, originalQuery, originalPathname, buildManifest, nextFontManifest, serverFilesManifest, reactLoadableManifest, prerenderManifest, isDraftMode, isOnDemandRevalidate, revalidateOnlyGenerated, locale, locales, defaultLocale, routerServerContext, nextConfig, resolvedPathname } = prepareResult;\n    const isExperimentalCompile = serverFilesManifest == null ? void 0 : (_serverFilesManifest_config = serverFilesManifest.config) == null ? void 0 : (_serverFilesManifest_config_experimental = _serverFilesManifest_config.experimental) == null ? void 0 : _serverFilesManifest_config_experimental.isExperimentalCompile;\n    const hasServerProps = Boolean(getServerSideProps);\n    const hasStaticProps = Boolean(getStaticProps);\n    const hasStaticPaths = Boolean(getStaticPaths);\n    const hasGetInitialProps = Boolean((_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"] || _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__).getInitialProps);\n    const isAmp = query.amp && config.amp;\n    let cacheKey = null;\n    let isIsrFallback = false;\n    let isNextDataRequest = prepareResult.isNextDataRequest && (hasStaticProps || hasServerProps);\n    const is404Page = srcPage === '/404';\n    const is500Page = srcPage === '/500';\n    const isErrorPage = srcPage === '/_error';\n    if (!routeModule.isDev && !isDraftMode && hasStaticProps) {\n        cacheKey = `${locale ? `/${locale}` : ''}${(srcPage === '/' || resolvedPathname === '/') && locale ? '' : resolvedPathname}${isAmp ? '.amp' : ''}`;\n        if (is404Page || is500Page || isErrorPage) {\n            cacheKey = `${locale ? `/${locale}` : ''}${srcPage}${isAmp ? '.amp' : ''}`;\n        }\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    if (hasStaticPaths && !isDraftMode) {\n        const decodedPathname = (0,next_dist_shared_lib_router_utils_remove_trailing_slash__WEBPACK_IMPORTED_MODULE_25__.removeTrailingSlash)(locale ? (0,next_dist_shared_lib_router_utils_add_path_prefix__WEBPACK_IMPORTED_MODULE_24__.addPathPrefix)(resolvedPathname, `/${locale}`) : resolvedPathname);\n        const isPrerendered = Boolean(prerenderManifest.routes[decodedPathname]) || prerenderManifest.notFoundRoutes.includes(decodedPathname);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[srcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_21__.NoFallbackError();\n            }\n            if (typeof prerenderInfo.fallback === 'string' && !isPrerendered && !isNextDataRequest) {\n                isIsrFallback = true;\n            }\n        }\n    }\n    // When serving a bot request, we want to serve a blocking render and not\n    // the prerendered page. This ensures that the correct content is served\n    // to the bot in the head.\n    if (isIsrFallback && (0,next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_23__.isBot)(req.headers['user-agent'] || '') || (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'minimalMode')) {\n        isIsrFallback = false;\n    }\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    try {\n        const method = req.method || 'GET';\n        const resolvedUrl = (0,next_dist_shared_lib_router_utils_format_url__WEBPACK_IMPORTED_MODULE_4__.formatUrl)({\n            pathname: nextConfig.trailingSlash ? parsedUrl.pathname : (0,next_dist_shared_lib_router_utils_remove_trailing_slash__WEBPACK_IMPORTED_MODULE_25__.removeTrailingSlash)(parsedUrl.pathname || '/'),\n            // make sure to only add query values from original URL\n            query: hasStaticProps ? {} : originalQuery\n        });\n        const publicRuntimeConfig = (routerServerContext == null ? void 0 : routerServerContext.publicRuntimeConfig) || nextConfig.publicRuntimeConfig;\n        const handleResponse = async (span)=>{\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                var _previousCacheEntry_value;\n                const doRender = async ()=>{\n                    try {\n                        var _nextConfig_i18n, _nextConfig_experimental_amp, _nextConfig_experimental_amp1;\n                        return await routeModule.render(req, res, {\n                            query: hasStaticProps && !isExperimentalCompile ? {\n                                ...params,\n                                ...isAmp ? {\n                                    amp: query.amp\n                                } : {}\n                            } : {\n                                ...query,\n                                ...params\n                            },\n                            params,\n                            page: srcPage,\n                            renderContext: {\n                                isDraftMode,\n                                isFallback: isIsrFallback,\n                                developmentNotFoundSourcePage: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'developmentNotFoundSourcePage')\n                            },\n                            sharedContext: {\n                                buildId,\n                                customServer: Boolean(routerServerContext == null ? void 0 : routerServerContext.isCustomServer) || undefined,\n                                deploymentId: false\n                            },\n                            renderOpts: {\n                                params,\n                                routeModule,\n                                page: srcPage,\n                                pageConfig: config || {},\n                                Component: (0,next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__.interopDefault)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__),\n                                ComponentMod: _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_13__,\n                                getStaticProps,\n                                getStaticPaths,\n                                getServerSideProps,\n                                supportsDynamicResponse: !hasStaticProps,\n                                buildManifest,\n                                nextFontManifest,\n                                reactLoadableManifest,\n                                assetPrefix: nextConfig.assetPrefix,\n                                strictNextHead: nextConfig.experimental.strictNextHead ?? true,\n                                previewProps: prerenderManifest.preview,\n                                images: nextConfig.images,\n                                nextConfigOutput: nextConfig.output,\n                                optimizeCss: Boolean(nextConfig.experimental.optimizeCss),\n                                nextScriptWorkers: Boolean(nextConfig.experimental.nextScriptWorkers),\n                                domainLocales: (_nextConfig_i18n = nextConfig.i18n) == null ? void 0 : _nextConfig_i18n.domains,\n                                crossOrigin: nextConfig.crossOrigin,\n                                multiZoneDraftMode,\n                                basePath: nextConfig.basePath,\n                                canonicalBase: nextConfig.amp.canonicalBase || '',\n                                ampOptimizerConfig: (_nextConfig_experimental_amp = nextConfig.experimental.amp) == null ? void 0 : _nextConfig_experimental_amp.optimizer,\n                                disableOptimizedLoading: nextConfig.experimental.disableOptimizedLoading,\n                                largePageDataBytes: nextConfig.experimental.largePageDataBytes,\n                                // Only the `publicRuntimeConfig` key is exposed to the client side\n                                // It'll be rendered as part of __NEXT_DATA__ on the client side\n                                runtimeConfig: Object.keys(publicRuntimeConfig).length > 0 ? publicRuntimeConfig : undefined,\n                                isExperimentalCompile,\n                                experimental: {\n                                    clientTraceMetadata: nextConfig.experimental.clientTraceMetadata || []\n                                },\n                                locale,\n                                locales,\n                                defaultLocale,\n                                setIsrStatus: routerServerContext == null ? void 0 : routerServerContext.setIsrStatus,\n                                isNextDataRequest: isNextDataRequest && (hasServerProps || hasStaticProps),\n                                resolvedUrl,\n                                // For getServerSideProps and getInitialProps we need to ensure we use the original URL\n                                // and not the resolved URL to prevent a hydration mismatch on\n                                // asPath\n                                resolvedAsPath: hasServerProps || hasGetInitialProps ? (0,next_dist_shared_lib_router_utils_format_url__WEBPACK_IMPORTED_MODULE_4__.formatUrl)({\n                                    // we use the original URL pathname less the _next/data prefix if\n                                    // present\n                                    pathname: isNextDataRequest ? (0,next_dist_shared_lib_page_path_normalize_data_path__WEBPACK_IMPORTED_MODULE_8__.normalizeDataPath)(originalPathname) : originalPathname,\n                                    query: originalQuery\n                                }) : resolvedUrl,\n                                isOnDemandRevalidate,\n                                ErrorDebug: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'PagesErrorDebug'),\n                                err: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'invokeError'),\n                                dev: routeModule.isDev,\n                                // needed for experimental.optimizeCss feature\n                                distDir: `${routeModule.projectDir}/${routeModule.distDir}`,\n                                ampSkipValidation: (_nextConfig_experimental_amp1 = nextConfig.experimental.amp) == null ? void 0 : _nextConfig_experimental_amp1.skipValidation,\n                                ampValidator: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'ampValidator')\n                            }\n                        }).then((renderResult)=>{\n                            const { metadata } = renderResult;\n                            let cacheControl = metadata.cacheControl;\n                            if ('isNotFound' in metadata && metadata.isNotFound) {\n                                return {\n                                    value: null,\n                                    cacheControl\n                                };\n                            }\n                            // Handle `isRedirect`.\n                            if (metadata.isRedirect) {\n                                return {\n                                    value: {\n                                        kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__.CachedRouteKind.REDIRECT,\n                                        props: metadata.pageData ?? metadata.flightData\n                                    },\n                                    cacheControl\n                                };\n                            }\n                            return {\n                                value: {\n                                    kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__.CachedRouteKind.PAGES,\n                                    html: renderResult,\n                                    pageData: renderResult.metadata.pageData,\n                                    headers: renderResult.metadata.headers,\n                                    status: renderResult.metadata.statusCode\n                                },\n                                cacheControl\n                            };\n                        }).finally(()=>{\n                            if (!span) return;\n                            span.setAttributes({\n                                'http.status_code': res.statusCode,\n                                'next.rsc': false\n                            });\n                            const rootSpanAttributes = tracer.getRootSpanAttributes();\n                            // We were unable to get attributes, probably OTEL is not enabled\n                            if (!rootSpanAttributes) {\n                                return;\n                            }\n                            if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_2__.BaseServerSpan.handleRequest) {\n                                console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                                return;\n                            }\n                            const route = rootSpanAttributes.get('next.route');\n                            if (route) {\n                                const name = `${method} ${route}`;\n                                span.setAttributes({\n                                    'next.route': route,\n                                    'http.route': route,\n                                    'next.span_name': name\n                                });\n                                span.updateName(name);\n                            } else {\n                                span.updateName(`${method} ${req.url}`);\n                            }\n                        });\n                    } catch (err) {\n                        // if this is a background revalidate we need to report\n                        // the request error here as it won't be bubbled\n                        if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                            await routeModule.onRequestError(req, err, {\n                                routerKind: 'Pages Router',\n                                routePath: srcPage,\n                                routeType: 'render',\n                                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_7__.getRevalidateReason)({\n                                    isRevalidate: hasStaticProps,\n                                    isOnDemandRevalidate\n                                })\n                            }, routerServerContext);\n                        }\n                        throw err;\n                    }\n                };\n                // if we've already generated this page we no longer\n                // serve the fallback\n                if (previousCacheEntry) {\n                    isIsrFallback = false;\n                }\n                if (isIsrFallback) {\n                    const fallbackResponse = await routeModule.getResponseCache(req).get(routeModule.isDev ? null : locale ? `/${locale}${srcPage}` : srcPage, async ({ previousCacheEntry: previousFallbackCacheEntry = null })=>{\n                        if (!routeModule.isDev) {\n                            return (0,next_dist_server_response_cache_utils__WEBPACK_IMPORTED_MODULE_20__.toResponseCacheEntry)(previousFallbackCacheEntry);\n                        }\n                        return doRender();\n                    }, {\n                        routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n                        isFallback: true,\n                        isRoutePPREnabled: false,\n                        isOnDemandRevalidate: false,\n                        incrementalCache: await routeModule.getIncrementalCache(req, nextConfig, prerenderManifest),\n                        waitUntil: ctx.waitUntil\n                    });\n                    if (fallbackResponse) {\n                        // Remove the cache control from the response to prevent it from being\n                        // used in the surrounding cache.\n                        delete fallbackResponse.cacheControl;\n                        fallbackResponse.isMiss = true;\n                        return fallbackResponse;\n                    }\n                }\n                if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                    res.statusCode = 404;\n                    // on-demand revalidate always sets this header\n                    res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                    res.end('This page could not be found');\n                    return null;\n                }\n                if (isIsrFallback && (previousCacheEntry == null ? void 0 : (_previousCacheEntry_value = previousCacheEntry.value) == null ? void 0 : _previousCacheEntry_value.kind) === next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__.CachedRouteKind.PAGES) {\n                    return {\n                        value: {\n                            kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__.CachedRouteKind.PAGES,\n                            html: new next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"](Buffer.from(previousCacheEntry.value.html), {\n                                contentType: 'text/html;utf-8',\n                                metadata: {\n                                    statusCode: previousCacheEntry.value.status,\n                                    headers: previousCacheEntry.value.headers\n                                }\n                            }),\n                            pageData: {},\n                            status: previousCacheEntry.value.status,\n                            headers: previousCacheEntry.value.headers\n                        },\n                        cacheControl: {\n                            revalidate: 0,\n                            expire: undefined\n                        }\n                    };\n                }\n                return doRender();\n            };\n            const result = await routeModule.handleResponse({\n                cacheKey,\n                req,\n                nextConfig,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                waitUntil: ctx.waitUntil,\n                responseGenerator: responseGenerator,\n                prerenderManifest\n            });\n            // if we got a cache hit this wasn't an ISR fallback\n            // but it wasn't generated during build so isn't in the\n            // prerender-manifest\n            if (isIsrFallback && !(result == null ? void 0 : result.isMiss)) {\n                isIsrFallback = false;\n            }\n            // response is finished is no cache entry\n            if (!result) {\n                return;\n            }\n            if (hasStaticProps && !(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : result.isMiss ? 'MISS' : result.isStale ? 'STALE' : 'HIT');\n            }\n            let cacheControl;\n            if (!hasStaticProps || isIsrFallback) {\n                if (!res.getHeader('Cache-Control')) {\n                    cacheControl = {\n                        revalidate: 0,\n                        expire: undefined\n                    };\n                }\n            } else if (is404Page) {\n                const notFoundRevalidate = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'notFoundRevalidate');\n                cacheControl = {\n                    revalidate: typeof notFoundRevalidate === 'undefined' ? 0 : notFoundRevalidate,\n                    expire: undefined\n                };\n            } else if (is500Page) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (result.cacheControl) {\n                // If the cache entry has a cache control with a revalidate value that's\n                // a number, use it.\n                if (typeof result.cacheControl.revalidate === 'number') {\n                    var _result_cacheControl;\n                    if (result.cacheControl.revalidate < 1) {\n                        throw Object.defineProperty(new Error(`Invalid revalidate configuration provided: ${result.cacheControl.revalidate} < 1`), \"__NEXT_ERROR_CODE\", {\n                            value: \"E22\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                    }\n                    cacheControl = {\n                        revalidate: result.cacheControl.revalidate,\n                        expire: ((_result_cacheControl = result.cacheControl) == null ? void 0 : _result_cacheControl.expire) ?? nextConfig.expireTime\n                    };\n                } else {\n                    // revalidate: false\n                    cacheControl = {\n                        revalidate: next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_17__.CACHE_ONE_YEAR,\n                        expire: undefined\n                    };\n                }\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheControl && !res.getHeader('Cache-Control')) {\n                res.setHeader('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_14__.getCacheControlHeader)(cacheControl));\n            }\n            // notFound: true case\n            if (!result.value) {\n                var _result_cacheControl1;\n                // add revalidate metadata before rendering 404 page\n                // so that we can use this as source of truth for the\n                // cache-control header instead of what the 404 page returns\n                // for the revalidate value\n                (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.addRequestMeta)(req, 'notFoundRevalidate', (_result_cacheControl1 = result.cacheControl) == null ? void 0 : _result_cacheControl1.revalidate);\n                res.statusCode = 404;\n                if (isNextDataRequest) {\n                    res.end('{\"notFound\":true}');\n                    return;\n                }\n                // TODO: should route-module itself handle rendering the 404\n                if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n                    await routerServerContext.render404(req, res, parsedUrl, false);\n                } else {\n                    res.end('This page could not be found');\n                }\n                return;\n            }\n            if (result.value.kind === next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__.CachedRouteKind.REDIRECT) {\n                if (isNextDataRequest) {\n                    res.setHeader('content-type', 'application/json');\n                    res.end(JSON.stringify(result.value.props));\n                    return;\n                } else {\n                    const handleRedirect = (pageData)=>{\n                        const redirect = {\n                            destination: pageData.pageProps.__N_REDIRECT,\n                            statusCode: pageData.pageProps.__N_REDIRECT_STATUS,\n                            basePath: pageData.pageProps.__N_REDIRECT_BASE_PATH\n                        };\n                        const statusCode = (0,next_dist_lib_redirect_status__WEBPACK_IMPORTED_MODULE_16__.getRedirectStatus)(redirect);\n                        const { basePath } = nextConfig;\n                        if (basePath && redirect.basePath !== false && redirect.destination.startsWith('/')) {\n                            redirect.destination = `${basePath}${redirect.destination}`;\n                        }\n                        if (redirect.destination.startsWith('/')) {\n                            redirect.destination = (0,next_dist_shared_lib_utils__WEBPACK_IMPORTED_MODULE_15__.normalizeRepeatedSlashes)(redirect.destination);\n                        }\n                        res.statusCode = statusCode;\n                        res.setHeader('Location', redirect.destination);\n                        if (statusCode === next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_22__.RedirectStatusCode.PermanentRedirect) {\n                            res.setHeader('Refresh', `0;url=${redirect.destination}`);\n                        }\n                        res.end(redirect.destination);\n                    };\n                    await handleRedirect(result.value.props);\n                    return null;\n                }\n            }\n            if (result.value.kind !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_9__.CachedRouteKind.PAGES) {\n                throw Object.defineProperty(new Error(`Invariant: received non-pages cache entry in pages handler`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E695\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            // In dev, we should not cache pages for any reason.\n            if (routeModule.isDev) {\n                res.setHeader('Cache-Control', 'no-store, must-revalidate');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            // when invoking _error before pages/500 we don't actually\n            // send the _error response\n            if ((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'customErrorRender') || isErrorPage && (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_5__.getRequestMeta)(req, 'minimalMode') && res.statusCode === 500) {\n                return null;\n            }\n            await (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_18__.sendRenderResult)({\n                req,\n                res,\n                // If we are rendering the error page it's not a data request\n                // anymore\n                result: isNextDataRequest && !isErrorPage && !is500Page ? new next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"](Buffer.from(JSON.stringify(result.value.pageData)), {\n                    contentType: 'application/json',\n                    metadata: result.value.html.metadata\n                }) : result.value.html,\n                generateEtags: nextConfig.generateEtags,\n                poweredByHeader: nextConfig.poweredByHeader,\n                cacheControl: routeModule.isDev ? undefined : cacheControl,\n                type: isNextDataRequest ? 'json' : 'html'\n            });\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse();\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_2__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_21__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'Pages Router',\n                routePath: srcPage,\n                routeType: 'render',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_7__.getRevalidateReason)({\n                    isRevalidate: hasStaticProps,\n                    isOnDemandRevalidate\n                })\n            }, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        throw err;\n    }\n}\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkJTJGaW5kZXguanMmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0Y7QUFDaEM7QUFDYztBQUNFO0FBQ0M7QUFDTTtBQUNGO0FBQ0E7QUFDVTtBQUNyQjtBQUNSO0FBQzFEO0FBQ3lEO0FBQ1Y7QUFDL0M7QUFDMEU7QUFDQztBQUNMO0FBQ0o7QUFDVDtBQUNRO0FBQ1A7QUFDbUI7QUFDSztBQUNJO0FBQ3JCO0FBQ2lCO0FBQ1k7QUFDOUY7QUFDQSxpRUFBZSx5RUFBSyxDQUFDLDBFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix5RUFBSyxDQUFDLDBFQUFRO0FBQ3JDLHVCQUF1Qix5RUFBSyxDQUFDLDBFQUFRO0FBQ3JDLDJCQUEyQix5RUFBSyxDQUFDLDBFQUFRO0FBQ3pDLGVBQWUseUVBQUssQ0FBQywwRUFBUTtBQUM3Qix3QkFBd0IseUVBQUssQ0FBQywwRUFBUTtBQUM3QztBQUNPLGdDQUFnQyx5RUFBSyxDQUFDLDBFQUFRO0FBQzlDLGdDQUFnQyx5RUFBSyxDQUFDLDBFQUFRO0FBQzlDLGlDQUFpQyx5RUFBSyxDQUFDLDBFQUFRO0FBQy9DLGdDQUFn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QUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZFQUFjLDZDQUE2Qyw2RUFBYztBQUN6RjtBQUNBO0FBQ0Esa0JBQWtCLGdGQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSx1RUFBWTtBQUMxRjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ04sNkJBQTZCLDZGQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBmb3JtYXRVcmwgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2Zvcm1hdC11cmxcIjtcbmltcG9ydCB7IGFkZFJlcXVlc3RNZXRhLCBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgaW50ZXJvcERlZmF1bHQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2ludGVyb3AtZGVmYXVsdFwiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgbm9ybWFsaXplRGF0YVBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcGFnZS1wYXRoL25vcm1hbGl6ZS1kYXRhLXBhdGhcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgYXBwIGFuZCBkb2N1bWVudCBtb2R1bGVzLlxuaW1wb3J0ICogYXMgZG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCAqIGFzIGFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBub3JtYWxpemVSZXBlYXRlZFNsYXNoZXMgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldFJlZGlyZWN0U3RhdHVzIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvcmVkaXJlY3Qtc3RhdHVzXCI7XG5pbXBvcnQgeyBDQUNIRV9PTkVfWUVBUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgc2VuZFJlbmRlclJlc3VsdCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcGF5bG9hZFwiO1xuaW1wb3J0IFJlbmRlclJlc3VsdCBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZW5kZXItcmVzdWx0XCI7XG5pbXBvcnQgeyB0b1Jlc3BvbnNlQ2FjaGVFbnRyeSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlL3V0aWxzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IFJlZGlyZWN0U3RhdHVzQ29kZSB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVkaXJlY3Qtc3RhdHVzLWNvZGVcIjtcbmltcG9ydCB7IGlzQm90IH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9pcy1ib3RcIjtcbmltcG9ydCB7IGFkZFBhdGhQcmVmaXggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FkZC1wYXRoLXByZWZpeFwiO1xuaW1wb3J0IHsgcmVtb3ZlVHJhaWxpbmdTbGFzaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvcmVtb3ZlLXRyYWlsaW5nLXNsYXNoXCI7XG4vLyBSZS1leHBvcnQgdGhlIGNvbXBvbmVudCAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U2VydmVyU2lkZVByb3BzJyk7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgJ3JlcG9ydFdlYlZpdGFscycpO1xuLy8gUmUtZXhwb3J0IGxlZ2FjeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFNlcnZlclByb3BzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIC8vIGRlZmF1bHQgZXhwb3J0IG1pZ2h0IG5vdCBleGlzdCB3aGVuIG9wdGltaXplZCBmb3IgZGF0YSBvbmx5XG4gICAgICAgIEFwcDogYXBwLmRlZmF1bHQsXG4gICAgICAgIERvY3VtZW50OiBkb2N1bWVudC5kZWZhdWx0XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9zZXJ2ZXJGaWxlc01hbmlmZXN0X2NvbmZpZ19leHBlcmltZW50YWwsIF9zZXJ2ZXJGaWxlc01hbmlmZXN0X2NvbmZpZztcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWRcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHF1ZXJ5LCBwYXJhbXMsIHBhcnNlZFVybCwgb3JpZ2luYWxRdWVyeSwgb3JpZ2luYWxQYXRobmFtZSwgYnVpbGRNYW5pZmVzdCwgbmV4dEZvbnRNYW5pZmVzdCwgc2VydmVyRmlsZXNNYW5pZmVzdCwgcmVhY3RMb2FkYWJsZU1hbmlmZXN0LCBwcmVyZW5kZXJNYW5pZmVzdCwgaXNEcmFmdE1vZGUsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgbG9jYWxlLCBsb2NhbGVzLCBkZWZhdWx0TG9jYWxlLCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBuZXh0Q29uZmlnLCByZXNvbHZlZFBhdGhuYW1lIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IGlzRXhwZXJpbWVudGFsQ29tcGlsZSA9IHNlcnZlckZpbGVzTWFuaWZlc3QgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VydmVyRmlsZXNNYW5pZmVzdF9jb25maWcgPSBzZXJ2ZXJGaWxlc01hbmlmZXN0LmNvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IChfc2VydmVyRmlsZXNNYW5pZmVzdF9jb25maWdfZXhwZXJpbWVudGFsID0gX3NlcnZlckZpbGVzTWFuaWZlc3RfY29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zZXJ2ZXJGaWxlc01hbmlmZXN0X2NvbmZpZ19leHBlcmltZW50YWwuaXNFeHBlcmltZW50YWxDb21waWxlO1xuICAgIGNvbnN0IGhhc1NlcnZlclByb3BzID0gQm9vbGVhbihnZXRTZXJ2ZXJTaWRlUHJvcHMpO1xuICAgIGNvbnN0IGhhc1N0YXRpY1Byb3BzID0gQm9vbGVhbihnZXRTdGF0aWNQcm9wcyk7XG4gICAgY29uc3QgaGFzU3RhdGljUGF0aHMgPSBCb29sZWFuKGdldFN0YXRpY1BhdGhzKTtcbiAgICBjb25zdCBoYXNHZXRJbml0aWFsUHJvcHMgPSBCb29sZWFuKCh1c2VybGFuZC5kZWZhdWx0IHx8IHVzZXJsYW5kKS5nZXRJbml0aWFsUHJvcHMpO1xuICAgIGNvbnN0IGlzQW1wID0gcXVlcnkuYW1wICYmIGNvbmZpZy5hbXA7XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBsZXQgaXNJc3JGYWxsYmFjayA9IGZhbHNlO1xuICAgIGxldCBpc05leHREYXRhUmVxdWVzdCA9IHByZXBhcmVSZXN1bHQuaXNOZXh0RGF0YVJlcXVlc3QgJiYgKGhhc1N0YXRpY1Byb3BzIHx8IGhhc1NlcnZlclByb3BzKTtcbiAgICBjb25zdCBpczQwNFBhZ2UgPSBzcmNQYWdlID09PSAnLzQwNCc7XG4gICAgY29uc3QgaXM1MDBQYWdlID0gc3JjUGFnZSA9PT0gJy81MDAnO1xuICAgIGNvbnN0IGlzRXJyb3JQYWdlID0gc3JjUGFnZSA9PT0gJy9fZXJyb3InO1xuICAgIGlmICghcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlICYmIGhhc1N0YXRpY1Byb3BzKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gYCR7bG9jYWxlID8gYC8ke2xvY2FsZX1gIDogJyd9JHsoc3JjUGFnZSA9PT0gJy8nIHx8IHJlc29sdmVkUGF0aG5hbWUgPT09ICcvJykgJiYgbG9jYWxlID8gJycgOiByZXNvbHZlZFBhdGhuYW1lfSR7aXNBbXAgPyAnLmFtcCcgOiAnJ31gO1xuICAgICAgICBpZiAoaXM0MDRQYWdlIHx8IGlzNTAwUGFnZSB8fCBpc0Vycm9yUGFnZSkge1xuICAgICAgICAgICAgY2FjaGVLZXkgPSBgJHtsb2NhbGUgPyBgLyR7bG9jYWxlfWAgOiAnJ30ke3NyY1BhZ2V9JHtpc0FtcCA/ICcuYW1wJyA6ICcnfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgaWYgKGhhc1N0YXRpY1BhdGhzICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBkZWNvZGVkUGF0aG5hbWUgPSByZW1vdmVUcmFpbGluZ1NsYXNoKGxvY2FsZSA/IGFkZFBhdGhQcmVmaXgocmVzb2x2ZWRQYXRobmFtZSwgYC8ke2xvY2FsZX1gKSA6IHJlc29sdmVkUGF0aG5hbWUpO1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbZGVjb2RlZFBhdGhuYW1lXSkgfHwgcHJlcmVuZGVyTWFuaWZlc3Qubm90Rm91bmRSb3V0ZXMuaW5jbHVkZXMoZGVjb2RlZFBhdGhuYW1lKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbc3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09ICdzdHJpbmcnICYmICFpc1ByZXJlbmRlcmVkICYmICFpc05leHREYXRhUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIGlzSXNyRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdoZW4gc2VydmluZyBhIGJvdCByZXF1ZXN0LCB3ZSB3YW50IHRvIHNlcnZlIGEgYmxvY2tpbmcgcmVuZGVyIGFuZCBub3RcbiAgICAvLyB0aGUgcHJlcmVuZGVyZWQgcGFnZS4gVGhpcyBlbnN1cmVzIHRoYXQgdGhlIGNvcnJlY3QgY29udGVudCBpcyBzZXJ2ZWRcbiAgICAvLyB0byB0aGUgYm90IGluIHRoZSBoZWFkLlxuICAgIGlmIChpc0lzckZhbGxiYWNrICYmIGlzQm90KHJlcS5oZWFkZXJzWyd1c2VyLWFnZW50J10gfHwgJycpIHx8IGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykpIHtcbiAgICAgICAgaXNJc3JGYWxsYmFjayA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkVXJsID0gZm9ybWF0VXJsKHtcbiAgICAgICAgICAgIHBhdGhuYW1lOiBuZXh0Q29uZmlnLnRyYWlsaW5nU2xhc2ggPyBwYXJzZWRVcmwucGF0aG5hbWUgOiByZW1vdmVUcmFpbGluZ1NsYXNoKHBhcnNlZFVybC5wYXRobmFtZSB8fCAnLycpLFxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRvIG9ubHkgYWRkIHF1ZXJ5IHZhbHVlcyBmcm9tIG9yaWdpbmFsIFVSTFxuICAgICAgICAgICAgcXVlcnk6IGhhc1N0YXRpY1Byb3BzID8ge30gOiBvcmlnaW5hbFF1ZXJ5XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwdWJsaWNSdW50aW1lQ29uZmlnID0gKHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQucHVibGljUnVudGltZUNvbmZpZykgfHwgbmV4dENvbmZpZy5wdWJsaWNSdW50aW1lQ29uZmlnO1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB2YXIgX3ByZXZpb3VzQ2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb1JlbmRlciA9IGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX25leHRDb25maWdfaTE4biwgX25leHRDb25maWdfZXhwZXJpbWVudGFsX2FtcCwgX25leHRDb25maWdfZXhwZXJpbWVudGFsX2FtcDE7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcm91dGVNb2R1bGUucmVuZGVyKHJlcSwgcmVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGhhc1N0YXRpY1Byb3BzICYmICFpc0V4cGVyaW1lbnRhbENvbXBpbGUgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXNBbXAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbXA6IHF1ZXJ5LmFtcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDoge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJDb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhZnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBpc0lzckZhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZlbG9wbWVudE5vdEZvdW5kU291cmNlUGFnZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnZGV2ZWxvcG1lbnROb3RGb3VuZFNvdXJjZVBhZ2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkQ29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21TZXJ2ZXI6IEJvb2xlYW4ocm91dGVyU2VydmVyQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogcm91dGVyU2VydmVyQ29udGV4dC5pc0N1c3RvbVNlcnZlcikgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50SWQ6IHByb2Nlc3MuZW52Lk5FWFRfREVQTE9ZTUVOVF9JRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlQ29uZmlnOiBjb25maWcgfHwge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXBvbmVudDogaW50ZXJvcERlZmF1bHQodXNlcmxhbmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wb25lbnRNb2Q6IHVzZXJsYW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRTdGF0aWNQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U3RhdGljUGF0aHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFNlcnZlclNpZGVQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U6ICFoYXNTdGF0aWNQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZvbnRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RMb2FkYWJsZU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldFByZWZpeDogbmV4dENvbmZpZy5hc3NldFByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWN0TmV4dEhlYWQ6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLnN0cmljdE5leHRIZWFkID8/IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdQcm9wczogcHJlcmVuZGVyTWFuaWZlc3QucHJldmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiBuZXh0Q29uZmlnLmltYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dENvbmZpZ091dHB1dDogbmV4dENvbmZpZy5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGltaXplQ3NzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLm9wdGltaXplQ3NzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNjcmlwdFdvcmtlcnM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwubmV4dFNjcmlwdFdvcmtlcnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21haW5Mb2NhbGVzOiAoX25leHRDb25maWdfaTE4biA9IG5leHRDb25maWcuaTE4bikgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2kxOG4uZG9tYWlucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IG5leHRDb25maWcuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IG5leHRDb25maWcuYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbm9uaWNhbEJhc2U6IG5leHRDb25maWcuYW1wLmNhbm9uaWNhbEJhc2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtcE9wdGltaXplckNvbmZpZzogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbF9hbXAgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hbXApID09IG51bGwgPyB2b2lkIDAgOiBfbmV4dENvbmZpZ19leHBlcmltZW50YWxfYW1wLm9wdGltaXplcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZU9wdGltaXplZExvYWRpbmc6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLmRpc2FibGVPcHRpbWl6ZWRMb2FkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXJnZVBhZ2VEYXRhQnl0ZXM6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLmxhcmdlUGFnZURhdGFCeXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB0aGUgYHB1YmxpY1J1bnRpbWVDb25maWdgIGtleSBpcyBleHBvc2VkIHRvIHRoZSBjbGllbnQgc2lkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCdsbCBiZSByZW5kZXJlZCBhcyBwYXJ0IG9mIF9fTkVYVF9EQVRBX18gb24gdGhlIGNsaWVudCBzaWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWVDb25maWc6IE9iamVjdC5rZXlzKHB1YmxpY1J1bnRpbWVDb25maWcpLmxlbmd0aCA+IDAgPyBwdWJsaWNSdW50aW1lQ29uZmlnIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0V4cGVyaW1lbnRhbENvbXBpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50VHJhY2VNZXRhZGF0YTogbmV4dENvbmZpZy5leHBlcmltZW50YWwuY2xpZW50VHJhY2VNZXRhZGF0YSB8fCBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzclN0YXR1czogcm91dGVyU2VydmVyQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogcm91dGVyU2VydmVyQ29udGV4dC5zZXRJc3JTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV4dERhdGFSZXF1ZXN0OiBpc05leHREYXRhUmVxdWVzdCAmJiAoaGFzU2VydmVyUHJvcHMgfHwgaGFzU3RhdGljUHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGdldFNlcnZlclNpZGVQcm9wcyBhbmQgZ2V0SW5pdGlhbFByb3BzIHdlIG5lZWQgdG8gZW5zdXJlIHdlIHVzZSB0aGUgb3JpZ2luYWwgVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBub3QgdGhlIHJlc29sdmVkIFVSTCB0byBwcmV2ZW50IGEgaHlkcmF0aW9uIG1pc21hdGNoIG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzUGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZEFzUGF0aDogaGFzU2VydmVyUHJvcHMgfHwgaGFzR2V0SW5pdGlhbFByb3BzID8gZm9ybWF0VXJsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHVzZSB0aGUgb3JpZ2luYWwgVVJMIHBhdGhuYW1lIGxlc3MgdGhlIF9uZXh0L2RhdGEgcHJlZml4IGlmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmVzZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRobmFtZTogaXNOZXh0RGF0YVJlcXVlc3QgPyBub3JtYWxpemVEYXRhUGF0aChvcmlnaW5hbFBhdGhuYW1lKSA6IG9yaWdpbmFsUGF0aG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogb3JpZ2luYWxRdWVyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IHJlc29sdmVkVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXJyb3JEZWJ1ZzogZ2V0UmVxdWVzdE1ldGEocmVxLCAnUGFnZXNFcnJvckRlYnVnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycjogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW52b2tlRXJyb3InKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2OiByb3V0ZU1vZHVsZS5pc0RldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZGVkIGZvciBleHBlcmltZW50YWwub3B0aW1pemVDc3MgZmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0RGlyOiBgJHtyb3V0ZU1vZHVsZS5wcm9qZWN0RGlyfS8ke3JvdXRlTW9kdWxlLmRpc3REaXJ9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1wU2tpcFZhbGlkYXRpb246IChfbmV4dENvbmZpZ19leHBlcmltZW50YWxfYW1wMSA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsLmFtcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbF9hbXAxLnNraXBWYWxpZGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbXBWYWxpZGF0b3I6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2FtcFZhbGlkYXRvcicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVuZGVyUmVzdWx0KT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0YWRhdGEgfSA9IHJlbmRlclJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FjaGVDb250cm9sID0gbWV0YWRhdGEuY2FjaGVDb250cm9sO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnaXNOb3RGb3VuZCcgaW4gbWV0YWRhdGEgJiYgbWV0YWRhdGEuaXNOb3RGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGBpc1JlZGlyZWN0YC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEuaXNSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuUkVESVJFQ1QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IG1ldGFkYXRhLnBhZ2VEYXRhID8/IG1ldGFkYXRhLmZsaWdodERhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5QQUdFUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlbmRlclJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhOiByZW5kZXJSZXN1bHQubWV0YWRhdGEucGFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZW5kZXJSZXN1bHQubWV0YWRhdGEuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVuZGVyUmVzdWx0Lm1ldGFkYXRhLnN0YXR1c0NvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ1BhZ2VzIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncmVuZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGU6IGhhc1N0YXRpY1Byb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UndmUgYWxyZWFkeSBnZW5lcmF0ZWQgdGhpcyBwYWdlIHdlIG5vIGxvbmdlclxuICAgICAgICAgICAgICAgIC8vIHNlcnZlIHRoZSBmYWxsYmFja1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNJc3JGYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNJc3JGYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0gYXdhaXQgcm91dGVNb2R1bGUuZ2V0UmVzcG9uc2VDYWNoZShyZXEpLmdldChyb3V0ZU1vZHVsZS5pc0RldiA/IG51bGwgOiBsb2NhbGUgPyBgLyR7bG9jYWxlfSR7c3JjUGFnZX1gIDogc3JjUGFnZSwgYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5OiBwcmV2aW91c0ZhbGxiYWNrQ2FjaGVFbnRyeSA9IG51bGwgfSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcm91dGVNb2R1bGUuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9SZXNwb25zZUNhY2hlRW50cnkocHJldmlvdXNGYWxsYmFja0NhY2hlRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGYWxsYmFjazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGF3YWl0IHJvdXRlTW9kdWxlLmdldEluY3JlbWVudGFsQ2FjaGUocmVxLCBuZXh0Q29uZmlnLCBwcmVyZW5kZXJNYW5pZmVzdCksXG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFja1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGNhY2hlIGNvbnRyb2wgZnJvbSB0aGUgcmVzcG9uc2UgdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VkIGluIHRoZSBzdXJyb3VuZGluZyBjYWNoZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmYWxsYmFja1Jlc3BvbnNlLmNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrUmVzcG9uc2UuaXNNaXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxsYmFja1Jlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNJc3JGYWxsYmFjayAmJiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX3ByZXZpb3VzQ2FjaGVFbnRyeV92YWx1ZSA9IHByZXZpb3VzQ2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wcmV2aW91c0NhY2hlRW50cnlfdmFsdWUua2luZCkgPT09IENhY2hlZFJvdXRlS2luZC5QQUdFUykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogbmV3IFJlbmRlclJlc3VsdChCdWZmZXIuZnJvbShwcmV2aW91c0NhY2hlRW50cnkudmFsdWUuaHRtbCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICd0ZXh0L2h0bWw7dXRmLTgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogcHJldmlvdXNDYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHByZXZpb3VzQ2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YToge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBwcmV2aW91c0NhY2hlRW50cnkudmFsdWUuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHByZXZpb3VzQ2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZG9SZW5kZXIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yOiByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBpZiB3ZSBnb3QgYSBjYWNoZSBoaXQgdGhpcyB3YXNuJ3QgYW4gSVNSIGZhbGxiYWNrXG4gICAgICAgICAgICAvLyBidXQgaXQgd2Fzbid0IGdlbmVyYXRlZCBkdXJpbmcgYnVpbGQgc28gaXNuJ3QgaW4gdGhlXG4gICAgICAgICAgICAvLyBwcmVyZW5kZXItbWFuaWZlc3RcbiAgICAgICAgICAgIGlmIChpc0lzckZhbGxiYWNrICYmICEocmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHQuaXNNaXNzKSkge1xuICAgICAgICAgICAgICAgIGlzSXNyRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlc3BvbnNlIGlzIGZpbmlzaGVkIGlzIG5vIGNhY2hlIGVudHJ5XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNTdGF0aWNQcm9wcyAmJiAhZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogcmVzdWx0LmlzTWlzcyA/ICdNSVNTJyA6IHJlc3VsdC5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICBpZiAoIWhhc1N0YXRpY1Byb3BzIHx8IGlzSXNyRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzNDA0UGFnZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdEZvdW5kUmV2YWxpZGF0ZSA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ25vdEZvdW5kUmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogdHlwZW9mIG5vdEZvdW5kUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogbm90Rm91bmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzNTAwUGFnZSkge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuY2FjaGVDb250cm9sKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNhY2hlIGVudHJ5IGhhcyBhIGNhY2hlIGNvbnRyb2wgd2l0aCBhIHJldmFsaWRhdGUgdmFsdWUgdGhhdCdzXG4gICAgICAgICAgICAgICAgLy8gYSBudW1iZXIsIHVzZSBpdC5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5jYWNoZUNvbnRyb2wucmV2YWxpZGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXN1bHRfY2FjaGVDb250cm9sO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNhY2hlQ29udHJvbC5yZXZhbGlkYXRlIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YWxpZCByZXZhbGlkYXRlIGNvbmZpZ3VyYXRpb24gcHJvdmlkZWQ6ICR7cmVzdWx0LmNhY2hlQ29udHJvbC5yZXZhbGlkYXRlfSA8IDFgKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTIyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiByZXN1bHQuY2FjaGVDb250cm9sLnJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6ICgoX3Jlc3VsdF9jYWNoZUNvbnRyb2wgPSByZXN1bHQuY2FjaGVDb250cm9sKSA9PSBudWxsID8gdm9pZCAwIDogX3Jlc3VsdF9jYWNoZUNvbnRyb2wuZXhwaXJlKSA/PyBuZXh0Q29uZmlnLmV4cGlyZVRpbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXZhbGlkYXRlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiBDQUNIRV9PTkVfWUVBUixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBub3RGb3VuZDogdHJ1ZSBjYXNlXG4gICAgICAgICAgICBpZiAoIXJlc3VsdC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBfcmVzdWx0X2NhY2hlQ29udHJvbDE7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHJldmFsaWRhdGUgbWV0YWRhdGEgYmVmb3JlIHJlbmRlcmluZyA0MDQgcGFnZVxuICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGlzIGFzIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlXG4gICAgICAgICAgICAgICAgLy8gY2FjaGUtY29udHJvbCBoZWFkZXIgaW5zdGVhZCBvZiB3aGF0IHRoZSA0MDQgcGFnZSByZXR1cm5zXG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoZSByZXZhbGlkYXRlIHZhbHVlXG4gICAgICAgICAgICAgICAgYWRkUmVxdWVzdE1ldGEocmVxLCAnbm90Rm91bmRSZXZhbGlkYXRlJywgKF9yZXN1bHRfY2FjaGVDb250cm9sMSA9IHJlc3VsdC5jYWNoZUNvbnRyb2wpID09IG51bGwgPyB2b2lkIDAgOiBfcmVzdWx0X2NhY2hlQ29udHJvbDEucmV2YWxpZGF0ZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmV4dERhdGFSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ3tcIm5vdEZvdW5kXCI6dHJ1ZX0nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgcm91dGUtbW9kdWxlIGl0c2VsZiBoYW5kbGUgcmVuZGVyaW5nIHRoZSA0MDRcbiAgICAgICAgICAgICAgICBpZiAocm91dGVyU2VydmVyQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogcm91dGVyU2VydmVyQ29udGV4dC5yZW5kZXI0MDQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVyU2VydmVyQ29udGV4dC5yZW5kZXI0MDQocmVxLCByZXMsIHBhcnNlZFVybCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZS5raW5kID09PSBDYWNoZWRSb3V0ZUtpbmQuUkVESVJFQ1QpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXh0RGF0YVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeShyZXN1bHQudmFsdWUucHJvcHMpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZVJlZGlyZWN0ID0gKHBhZ2VEYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IHBhZ2VEYXRhLnBhZ2VQcm9wcy5fX05fUkVESVJFQ1QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogcGFnZURhdGEucGFnZVByb3BzLl9fTl9SRURJUkVDVF9TVEFUVVMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IHBhZ2VEYXRhLnBhZ2VQcm9wcy5fX05fUkVESVJFQ1RfQkFTRV9QQVRIXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzQ29kZSA9IGdldFJlZGlyZWN0U3RhdHVzKHJlZGlyZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYmFzZVBhdGggfSA9IG5leHRDb25maWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZVBhdGggJiYgcmVkaXJlY3QuYmFzZVBhdGggIT09IGZhbHNlICYmIHJlZGlyZWN0LmRlc3RpbmF0aW9uLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0LmRlc3RpbmF0aW9uID0gYCR7YmFzZVBhdGh9JHtyZWRpcmVjdC5kZXN0aW5hdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0LmRlc3RpbmF0aW9uLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0LmRlc3RpbmF0aW9uID0gbm9ybWFsaXplUmVwZWF0ZWRTbGFzaGVzKHJlZGlyZWN0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0xvY2F0aW9uJywgcmVkaXJlY3QuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPT09IFJlZGlyZWN0U3RhdHVzQ29kZS5QZXJtYW5lbnRSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ1JlZnJlc2gnLCBgMDt1cmw9JHtyZWRpcmVjdC5kZXN0aW5hdGlvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQocmVkaXJlY3QuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVSZWRpcmVjdChyZXN1bHQudmFsdWUucHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlLmtpbmQgIT09IENhY2hlZFJvdXRlS2luZC5QQUdFUykge1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogcmVjZWl2ZWQgbm9uLXBhZ2VzIGNhY2hlIGVudHJ5IGluIHBhZ2VzIGhhbmRsZXJgKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU2OTVcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW4gZGV2LCB3ZSBzaG91bGQgbm90IGNhY2hlIHBhZ2VzIGZvciBhbnkgcmVhc29uLlxuICAgICAgICAgICAgaWYgKHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICduby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2hlbiBpbnZva2luZyBfZXJyb3IgYmVmb3JlIHBhZ2VzLzUwMCB3ZSBkb24ndCBhY3R1YWxseVxuICAgICAgICAgICAgLy8gc2VuZCB0aGUgX2Vycm9yIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAoZ2V0UmVxdWVzdE1ldGEocmVxLCAnY3VzdG9tRXJyb3JSZW5kZXInKSB8fCBpc0Vycm9yUGFnZSAmJiBnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIHJlcy5zdGF0dXNDb2RlID09PSA1MDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZW5kZXJSZXN1bHQoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgYXJlIHJlbmRlcmluZyB0aGUgZXJyb3IgcGFnZSBpdCdzIG5vdCBhIGRhdGEgcmVxdWVzdFxuICAgICAgICAgICAgICAgIC8vIGFueW1vcmVcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGlzTmV4dERhdGFSZXF1ZXN0ICYmICFpc0Vycm9yUGFnZSAmJiAhaXM1MDBQYWdlID8gbmV3IFJlbmRlclJlc3VsdChCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShyZXN1bHQudmFsdWUucGFnZURhdGEpKSwge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogcmVzdWx0LnZhbHVlLmh0bWwubWV0YWRhdGFcbiAgICAgICAgICAgICAgICB9KSA6IHJlc3VsdC52YWx1ZS5odG1sLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlRXRhZ3M6IG5leHRDb25maWcuZ2VuZXJhdGVFdGFncyxcbiAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogcm91dGVNb2R1bGUuaXNEZXYgPyB1bmRlZmluZWQgOiBjYWNoZUNvbnRyb2wsXG4gICAgICAgICAgICAgICAgdHlwZTogaXNOZXh0RGF0YVJlcXVlc3QgPyAnanNvbicgOiAnaHRtbCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ1BhZ2VzIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JlbmRlcicsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZTogaGFzU3RhdGljUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collected-dataset/styles/main.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/main.css\");\n/* harmony import */ var _collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collected-dataset/styles/camera.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/camera.css\");\n/* harmony import */ var _collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collected-dataset/styles/topbar.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/topbar.css\");\n/* harmony import */ var _collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/Home.module.css */ \"(pages-dir-node)/./styles/Home.module.css\");\n/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./collected-dataset/styles/control-buttons.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/control-buttons.css\");\n/* harmony import */ var _collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_stateManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/stateManager */ \"(pages-dir-node)/./utils/stateManager.js\");\n/* harmony import */ var _components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/consent_ui/ConsentContext */ \"(pages-dir-node)/./components/consent_ui/ConsentContext.js\");\n/* harmony import */ var _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/layout/Layout */ \"(pages-dir-node)/./components/layout/Layout.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_7__, _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__]);\n([_components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_7__, _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// pages/_app.js\n\n\n\n\n\n\n\n\n// import ConnectionStatusIndicator from '../components/ConnectionStatusIndicator';\n\n// import { generateCalibrationPoints } from '../components/collected-dataset-customized/Action/CalibratePoints';\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_utils_stateManager__WEBPACK_IMPORTED_MODULE_6__.ProcessStatusProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_utils_stateManager__WEBPACK_IMPORTED_MODULE_6__.BackendConnectionProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_7__.ConsentProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                        ...pageProps\n                    }, void 0, false, {\n                        fileName: \"/app/pages/_app.js\",\n                        lineNumber: 20,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/app/pages/_app.js\",\n                    lineNumber: 18,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/app/pages/_app.js\",\n                lineNumber: 17,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/app/pages/_app.js\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/pages/_app.js\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL19hcHAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdCQUFnQjs7QUFDNkI7QUFDRTtBQUNBO0FBQ1o7QUFDcUI7QUFDaUM7QUFDZjtBQUMxRSxtRkFBbUY7QUFDbEM7QUFDakQsaUhBQWlIO0FBRWpILFNBQVNJLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUU7SUFDckMscUJBQ0UsOERBQUNOLHNFQUFxQkE7a0JBQ3BCLDRFQUFDQywwRUFBeUJBO3NCQUN4Qiw0RUFBQ0Msa0ZBQWVBOzBCQUNkLDRFQUFDQyxpRUFBTUE7OEJBRUwsNEVBQUNFO3dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTXBDO0FBRUEsaUVBQWVGLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIi9hcHAvcGFnZXMvX2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9fYXBwLmpzXG5pbXBvcnQgJy4vY29sbGVjdGVkLWRhdGFzZXQvc3R5bGVzL21haW4uY3NzJztcbmltcG9ydCAnLi9jb2xsZWN0ZWQtZGF0YXNldC9zdHlsZXMvY2FtZXJhLmNzcyc7XG5pbXBvcnQgJy4vY29sbGVjdGVkLWRhdGFzZXQvc3R5bGVzL3RvcGJhci5jc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMvSG9tZS5tb2R1bGUuY3NzJztcbmltcG9ydCAnLi9jb2xsZWN0ZWQtZGF0YXNldC9zdHlsZXMvY29udHJvbC1idXR0b25zLmNzcyc7XG5pbXBvcnQgeyBQcm9jZXNzU3RhdHVzUHJvdmlkZXIsIEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXIgfSBmcm9tICcuLi91dGlscy9zdGF0ZU1hbmFnZXInO1xuaW1wb3J0IHsgQ29uc2VudFByb3ZpZGVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb25zZW50X3VpL0NvbnNlbnRDb250ZXh0Jztcbi8vIGltcG9ydCBDb25uZWN0aW9uU3RhdHVzSW5kaWNhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvQ29ubmVjdGlvblN0YXR1c0luZGljYXRvcic7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0L0xheW91dCc7XG4vLyBpbXBvcnQgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMnO1xuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8UHJvY2Vzc1N0YXR1c1Byb3ZpZGVyPlxuICAgICAgPEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgICAgIDxDb25zZW50UHJvdmlkZXI+XG4gICAgICAgICAgPExheW91dD5cbiAgICAgICAgICAgIHsvKiA8Q29ubmVjdGlvblN0YXR1c0luZGljYXRvciAvPiAqL31cbiAgICAgICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgICAgICA8L0xheW91dD5cbiAgICAgICAgPC9Db25zZW50UHJvdmlkZXI+XG4gICAgICA8L0JhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgPC9Qcm9jZXNzU3RhdHVzUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwOyJdLCJuYW1lcyI6WyJQcm9jZXNzU3RhdHVzUHJvdmlkZXIiLCJCYWNrZW5kQ29ubmVjdGlvblByb3ZpZGVyIiwiQ29uc2VudFByb3ZpZGVyIiwiTGF5b3V0IiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/_app.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js":
/*!****************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/adminSettings.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AdminSettings),\n/* harmony export */   useAdminSettings: () => (/* binding */ useAdminSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// Add deep comparison utility\nconst isEqual = (obj1, obj2)=>{\n    if (obj1 === obj2) return true;\n    if (typeof obj1 !== 'object' || typeof obj2 !== 'object') return false;\n    if (obj1 === null || obj2 === null) return false;\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    return keys1.every((key)=>keys2.includes(key) && isEqual(obj1[key], obj2[key]));\n};\n// Add debounce utility\nconst debounce = (func, wait)=>{\n    let timeout;\n    return function executedFunction(...args) {\n        const later = ()=>{\n            clearTimeout(timeout);\n            func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n};\n// Helper function to safely access localStorage\nconst getLocalStorage = (key)=>{\n    if (true) return null;\n    try {\n        return localStorage.getItem(key);\n    } catch (error) {\n        console.warn('Error accessing localStorage:', error);\n        return null;\n    }\n};\n// Helper function to safely set localStorage\nconst setLocalStorage = (key, value)=>{\n    if (true) return;\n    try {\n        localStorage.setItem(key, value);\n    } catch (error) {\n        console.warn('Error setting localStorage:', error);\n    }\n};\nconst useAdminSettings = (ref)=>{\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useAdminSettings.useState\": ()=>{\n            // Initialize from localStorage on mount, safely\n            return getLocalStorage('currentUserId');\n        }\n    }[\"useAdminSettings.useState\"]);\n    const [isTopBarUpdated, setIsTopBarUpdated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const initialized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const pollingInterval = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [currentSettings, setCurrentSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [lastUpdateTime, setLastUpdateTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    // Constants for timing\n    const MIN_UPDATE_INTERVAL = 2000; // 2 seconds minimum between updates\n    const CACHE_DURATION = 30000; // 30 seconds cache duration\n    const POLLING_INTERVAL = 5000; // 5 seconds polling interval\n    // Cache and state tracking\n    const settingsCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const lastSettingsUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const pendingUpdates = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const isUpdating = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const lastKnownSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    // Debug logging for settings changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            console.log('AdminSettings - Current Settings:', settings);\n            console.log('AdminSettings - Current User ID:', currentUserId);\n            console.log('AdminSettings - Is TopBar Updated:', isTopBarUpdated);\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings,\n        currentUserId,\n        isTopBarUpdated\n    ]);\n    // Helper: Fetch settings for a user from backend with enhanced caching\n    const fetchSettingsForUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAdminSettings.useCallback[fetchSettingsForUser]\": async (userId)=>{\n            if (!userId) return;\n            // Check cache first\n            const cachedSettings = settingsCache.current.get(userId);\n            const lastUpdate = lastSettingsUpdate.current.get(userId);\n            const now = Date.now();\n            // If we have cached settings and they're recent enough, use them\n            if (cachedSettings && lastUpdate && now - lastUpdate < CACHE_DURATION) {\n                console.log('[AdminSettings] Using cached settings for user:', userId);\n                return cachedSettings;\n            }\n            // If there's already a pending update, return the cached value\n            if (pendingUpdates.current.has(userId)) {\n                console.log('[AdminSettings] Pending update exists, using cached value');\n                return cachedSettings;\n            }\n            // If an update is in progress, return the cached value\n            if (isUpdating.current) {\n                console.log('[AdminSettings] Update in progress, using cached value');\n                return cachedSettings;\n            }\n            try {\n                isUpdating.current = true;\n                pendingUpdates.current.set(userId, true);\n                const response = await fetch(`/api/data-center/settings/${userId}`, {\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    }\n                });\n                if (!response.ok) {\n                    const errorData = await response.json().catch({\n                        \"useAdminSettings.useCallback[fetchSettingsForUser]\": ()=>({})\n                    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"]);\n                    throw new Error(errorData.detail || 'Failed to fetch settings');\n                }\n                const result = await response.json();\n                const newSettings = result.data || {};\n                // Compare with last known settings\n                const lastKnown = lastKnownSettings.current.get(userId);\n                const hasChanged = !isEqual(lastKnown, newSettings);\n                if (hasChanged) {\n                    console.log('[AdminSettings] Settings changed, updating...');\n                    setSettings({\n                        \"useAdminSettings.useCallback[fetchSettingsForUser]\": (prev)=>({\n                                ...prev,\n                                [userId]: newSettings\n                            })\n                    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"]);\n                    setCurrentSettings(newSettings);\n                    // Update caches\n                    settingsCache.current.set(userId, newSettings);\n                    lastSettingsUpdate.current.set(userId, now);\n                    lastKnownSettings.current.set(userId, newSettings);\n                    // Update TopBar if ref provided\n                    if (ref && ref.current && ref.current.setCaptureSettings) {\n                        ref.current.setCaptureSettings(newSettings);\n                        setIsTopBarUpdated(true);\n                    }\n                } else {\n                    console.log('[AdminSettings] Settings unchanged, skipping update');\n                }\n                setError(null);\n                return newSettings;\n            } catch (error) {\n                console.error('[AdminSettings] Error fetching settings:', error);\n                setError(error.message);\n                return cachedSettings; // Return cached settings on error\n            } finally{\n                isUpdating.current = false;\n                pendingUpdates.current.delete(userId);\n            }\n        }\n    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"], [\n        ref\n    ]);\n    // Debounced version of fetchSettingsForUser\n    const debouncedFetchSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(debounce({\n        \"useAdminSettings.useCallback[debouncedFetchSettings]\": (userId)=>{\n            fetchSettingsForUser(userId);\n        }\n    }[\"useAdminSettings.useCallback[debouncedFetchSettings]\"], 1000), [\n        fetchSettingsForUser\n    ]);\n    // Polling for settings updates with value-based optimization\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (!currentUserId) return;\n            const fetchSettings = {\n                \"useAdminSettings.useEffect.fetchSettings\": async ()=>{\n                    const now = Date.now();\n                    if (now - lastUpdateTime < MIN_UPDATE_INTERVAL) {\n                        return;\n                    }\n                    try {\n                        await debouncedFetchSettings(currentUserId);\n                        setLastUpdateTime(now);\n                    } catch (error) {\n                        console.error('[AdminSettings] Polling error:', error);\n                    }\n                }\n            }[\"useAdminSettings.useEffect.fetchSettings\"];\n            // Initial fetch\n            fetchSettings();\n            // Set up polling with value-based interval\n            pollingInterval.current = setInterval(fetchSettings, POLLING_INTERVAL);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>{\n                    if (pollingInterval.current) {\n                        clearInterval(pollingInterval.current);\n                    }\n                }\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId,\n        lastUpdateTime,\n        debouncedFetchSettings\n    ]);\n    // Listen for userId changes (from index.js navigation)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"useAdminSettings.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.userId) {\n                        console.log('[handleUserIdChange] userId:', event.detail.userId);\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        setLocalStorage('currentUserId', newUserId);\n                        fetchSettingsForUser(newUserId);\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>window.removeEventListener('userIdChange', handleUserIdChange)\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        ref\n    ]);\n    // Initial settings fetch on mount if we have a user ID\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (currentUserId && !initialized.current) {\n                fetchSettingsForUser(currentUserId);\n                initialized.current = true;\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId\n    ]);\n    // Effect to handle index.js update after TopBar is updated\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (isTopBarUpdated) {\n                const event = new CustomEvent('settingsUpdated', {\n                    detail: {\n                        type: 'settings',\n                        userId: currentUserId,\n                        settings: settings[currentUserId]\n                    }\n                });\n                window.dispatchEvent(event);\n                setIsTopBarUpdated(false);\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        isTopBarUpdated,\n        currentUserId,\n        settings\n    ]);\n    // Load settings from localStorage on mount (optional, fallback)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            try {\n                const savedSettings = getLocalStorage('adminSettings');\n                if (savedSettings) {\n                    const parsedSettings = JSON.parse(savedSettings);\n                    setSettings(parsedSettings);\n                }\n            } catch (error) {\n                console.warn('Error loading settings from localStorage:', error);\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], []);\n    // Save settings to localStorage when they change (optional)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (initialized.current) {\n                try {\n                    setLocalStorage('adminSettings', JSON.stringify(settings));\n                } catch (error) {\n                    console.warn('Error saving settings to localStorage:', error);\n                }\n            } else {\n                initialized.current = true;\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings\n    ]);\n    // Update settings when they change in the context\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (settings && currentUserId) {\n                console.log('[settings useEffect] currentUserId:', currentUserId); // Debug log\n                const userSettings = settings[currentUserId];\n                if (userSettings) {\n                    setCurrentSettings(userSettings);\n                // Optionally update UI elements if needed\n                }\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings,\n        currentUserId\n    ]);\n    // Listen for settings updates from admin page (captureSettingsUpdate event)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"useAdminSettings.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        console.log('[handleSettingsUpdate] userId:', userId, 'currentUserId:', currentUserId); // Debug log\n                        if (userId === currentUserId) {\n                            const newSettings = {\n                                ...currentSettings,\n                                times: times !== undefined ? Number(times) : currentSettings.times,\n                                delay: delay !== undefined ? Number(delay) : currentSettings.delay\n                            };\n                            setCurrentSettings(newSettings);\n                            setSettings({\n                                \"useAdminSettings.useEffect.handleSettingsUpdate\": (prev)=>({\n                                        ...prev,\n                                        [userId]: newSettings\n                                    })\n                            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"]);\n                            updateSettings(newSettings, userId);\n                        }\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate)\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId,\n        currentSettings\n    ]);\n    // Update settings for a user with value-based optimization\n    const updateSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAdminSettings.useCallback[updateSettings]\": async (newSettings, userId)=>{\n            if (!userId) return;\n            const now = Date.now();\n            if (now - lastUpdateTime < MIN_UPDATE_INTERVAL) {\n                console.log('[updateSettings] Skipping update - too soon after last update');\n                return;\n            }\n            const updatedSettings = {\n                ...settings[userId],\n                ...newSettings\n            };\n            // Compare with last known settings\n            const lastKnown = lastKnownSettings.current.get(userId);\n            const hasChanged = !isEqual(lastKnown, updatedSettings);\n            if (!hasChanged) {\n                console.log('[updateSettings] Settings unchanged, skipping update');\n                return;\n            }\n            try {\n                isUpdating.current = true;\n                pendingUpdates.current.set(userId, true);\n                const response = await fetch(`http://localhost:80/api/data-center/settings/${userId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    },\n                    body: JSON.stringify(updatedSettings)\n                });\n                if (!response.ok) {\n                    const errorData = await response.json().catch({\n                        \"useAdminSettings.useCallback[updateSettings]\": ()=>({})\n                    }[\"useAdminSettings.useCallback[updateSettings]\"]);\n                    throw new Error(errorData.detail || 'Failed to save settings');\n                }\n                const result = await response.json();\n                const finalSettings = result.data || updatedSettings;\n                // Update state and caches\n                setSettings({\n                    \"useAdminSettings.useCallback[updateSettings]\": (prev)=>({\n                            ...prev,\n                            [userId]: finalSettings\n                        })\n                }[\"useAdminSettings.useCallback[updateSettings]\"]);\n                setCurrentSettings(finalSettings);\n                settingsCache.current.set(userId, finalSettings);\n                lastSettingsUpdate.current.set(userId, now);\n                lastKnownSettings.current.set(userId, finalSettings);\n                setLastUpdateTime(now);\n                setError(null);\n            } catch (error) {\n                setError(error.message);\n            } finally{\n                isUpdating.current = false;\n                pendingUpdates.current.delete(userId);\n            }\n        }\n    }[\"useAdminSettings.useCallback[updateSettings]\"], [\n        settings,\n        lastUpdateTime\n    ]);\n    // Upload and update image for a user\n    const updateImage = async (userId, base64Image)=>{\n        console.log('[updateImage] userId:', userId); // Debug log\n        if (!userId || !base64Image) return;\n        try {\n            const response = await fetch(`http://localhost:80/api/data-center/image?user_id=${userId}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                },\n                body: JSON.stringify({\n                    image: base64Image\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.detail || 'Failed to upload image');\n            }\n            // Optionally, fetch settings again to get updated image info\n            await fetchSettingsForUser(userId);\n            setError(null);\n            return true;\n        } catch (error) {\n            setError(error.message);\n            return false;\n        }\n    };\n    return {\n        settings,\n        currentSettings,\n        currentUserId,\n        error,\n        updateSettings: fetchSettingsForUser\n    };\n};\n// Add default export component\nfunction AdminSettings() {\n    return null; // This is a utility file, so we don't need to render anything\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvYWRtaW5TZXR0aW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlFO0FBRWpFLDhCQUE4QjtBQUM5QixNQUFNSSxVQUFVLENBQUNDLE1BQU1DO0lBQ3JCLElBQUlELFNBQVNDLE1BQU0sT0FBTztJQUMxQixJQUFJLE9BQU9ELFNBQVMsWUFBWSxPQUFPQyxTQUFTLFVBQVUsT0FBTztJQUNqRSxJQUFJRCxTQUFTLFFBQVFDLFNBQVMsTUFBTSxPQUFPO0lBRTNDLE1BQU1DLFFBQVFDLE9BQU9DLElBQUksQ0FBQ0o7SUFDMUIsTUFBTUssUUFBUUYsT0FBT0MsSUFBSSxDQUFDSDtJQUUxQixJQUFJQyxNQUFNSSxNQUFNLEtBQUtELE1BQU1DLE1BQU0sRUFBRSxPQUFPO0lBRTFDLE9BQU9KLE1BQU1LLEtBQUssQ0FBQ0MsQ0FBQUEsTUFDakJILE1BQU1JLFFBQVEsQ0FBQ0QsUUFBUVQsUUFBUUMsSUFBSSxDQUFDUSxJQUFJLEVBQUVQLElBQUksQ0FBQ08sSUFBSTtBQUV2RDtBQUVBLHVCQUF1QjtBQUN2QixNQUFNRSxXQUFXLENBQUNDLE1BQU1DO0lBQ3RCLElBQUlDO0lBQ0osT0FBTyxTQUFTQyxpQkFBaUIsR0FBR0MsSUFBSTtRQUN0QyxNQUFNQyxRQUFRO1lBQ1pDLGFBQWFKO1lBQ2JGLFFBQVFJO1FBQ1Y7UUFDQUUsYUFBYUo7UUFDYkEsVUFBVUssV0FBV0YsT0FBT0o7SUFDOUI7QUFDRjtBQUVBLGdEQUFnRDtBQUNoRCxNQUFNTyxrQkFBa0IsQ0FBQ1g7SUFDdkIsSUFBSSxJQUE2QixFQUFFLE9BQU87SUFDMUMsSUFBSTtRQUNGLE9BQU9ZLGFBQWFDLE9BQU8sQ0FBQ2I7SUFDOUIsRUFBRSxPQUFPYyxPQUFPO1FBQ2RDLFFBQVFDLElBQUksQ0FBQyxpQ0FBaUNGO1FBQzlDLE9BQU87SUFDVDtBQUNGO0FBRUEsNkNBQTZDO0FBQzdDLE1B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LFNBQVMsQ0FBQztvQkFBRWMsT0FBT0Q7Z0JBQVk7WUFDNUM7WUFDQSxJQUFJLENBQUNuRCxTQUFTTSxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU1DLFlBQVksTUFBTVAsU0FBU1EsSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTyxFQUFDO2dCQUN0RCxNQUFNLElBQUlDLE1BQU1ILFVBQVVJLE1BQU0sSUFBSTtZQUN0QztZQUNBLDZEQUE2RDtZQUM3RCxNQUFNckIscUJBQXFCQztZQUMzQmxCLFNBQVM7WUFDVCxPQUFPO1FBQ1QsRUFBRSxPQUFPZCxPQUFPO1lBQ2RjLFNBQVNkLE1BQU00RCxPQUFPO1lBQ3RCLE9BQU87UUFDVDtJQUNGO0lBRUEsT0FBTztRQUNMcEQ7UUFDQVM7UUFDQVA7UUFDQVY7UUFDQXNGLGdCQUFnQnZEO0lBQ2xCO0FBQ0YsRUFBRTtBQUVGLCtCQUErQjtBQUNoQixTQUFTK0Q7SUFDdEIsT0FBTyxNQUFNLDhEQUE4RDtBQUM3RSIsInNvdXJjZXMiOlsiL2FwcC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2NvbXBvbmVudHMtZ3VpL2FkbWluU2V0dGluZ3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuLy8gQWRkIGRlZXAgY29tcGFyaXNvbiB1dGlsaXR5XG5jb25zdCBpc0VxdWFsID0gKG9iajEsIG9iajIpID0+IHtcbiAgaWYgKG9iajEgPT09IG9iajIpIHJldHVybiB0cnVlO1xuICBpZiAodHlwZW9mIG9iajEgIT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmoyICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICBpZiAob2JqMSA9PT0gbnVsbCB8fCBvYmoyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIFxuICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICBcbiAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIFxuICByZXR1cm4ga2V5czEuZXZlcnkoa2V5ID0+IFxuICAgIGtleXMyLmluY2x1ZGVzKGtleSkgJiYgaXNFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSlcbiAgKTtcbn07XG5cbi8vIEFkZCBkZWJvdW5jZSB1dGlsaXR5XG5jb25zdCBkZWJvdW5jZSA9IChmdW5jLCB3YWl0KSA9PiB7XG4gIGxldCB0aW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gZXhlY3V0ZWRGdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgIH07XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgfTtcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgYWNjZXNzIGxvY2FsU3RvcmFnZVxuY29uc3QgZ2V0TG9jYWxTdG9yYWdlID0gKGtleSkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICB0cnkge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRXJyb3IgYWNjZXNzaW5nIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgc2V0IGxvY2FsU3RvcmFnZVxuY29uc3Qgc2V0TG9jYWxTdG9yYWdlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdFcnJvciBzZXR0aW5nIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBZG1pblNldHRpbmdzID0gKHJlZikgPT4ge1xuICBjb25zdCBbc2V0dGluZ3MsIHNldFNldHRpbmdzXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIC8vIEluaXRpYWxpemUgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gbW91bnQsIHNhZmVseVxuICAgIHJldHVybiBnZXRMb2NhbFN0b3JhZ2UoJ2N1cnJlbnRVc2VySWQnKTtcbiAgfSk7XG4gIGNvbnN0IFtpc1RvcEJhclVwZGF0ZWQsIHNldElzVG9wQmFyVXBkYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGluaXRpYWxpemVkID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgcG9sbGluZ0ludGVydmFsID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbY3VycmVudFNldHRpbmdzLCBzZXRDdXJyZW50U2V0dGluZ3NdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbbGFzdFVwZGF0ZVRpbWUsIHNldExhc3RVcGRhdGVUaW1lXSA9IHVzZVN0YXRlKDApO1xuICBcbiAgLy8gQ29uc3RhbnRzIGZvciB0aW1pbmdcbiAgY29uc3QgTUlOX1VQREFURV9JTlRFUlZBTCA9IDIwMDA7IC8vIDIgc2Vjb25kcyBtaW5pbXVtIGJldHdlZW4gdXBkYXRlc1xuICBjb25zdCBDQUNIRV9EVVJBVElPTiA9IDMwMDAwOyAvLyAzMCBzZWNvbmRzIGNhY2hlIGR1cmF0aW9uXG4gIGNvbnN0IFBPTExJTkdfSU5URVJWQUwgPSA1MDAwOyAvLyA1IHNlY29uZHMgcG9sbGluZyBpbnRlcnZhbFxuICBcbiAgLy8gQ2FjaGUgYW5kIHN0YXRlIHRyYWNraW5nXG4gIGNvbnN0IHNldHRpbmdzQ2FjaGUgPSB1c2VSZWYobmV3IE1hcCgpKTtcbiAgY29uc3QgbGFzdFNldHRpbmdzVXBkYXRlID0gdXNlUmVmKG5ldyBNYXAoKSk7XG4gIGNvbnN0IHBlbmRpbmdVcGRhdGVzID0gdXNlUmVmKG5ldyBNYXAoKSk7XG4gIGNvbnN0IGlzVXBkYXRpbmcgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBsYXN0S25vd25TZXR0aW5ncyA9IHVzZVJlZihuZXcgTWFwKCkpO1xuXG4gIC8vIERlYnVnIGxvZ2dpbmcgZm9yIHNldHRpbmdzIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnQWRtaW5TZXR0aW5ncyAtIEN1cnJlbnQgU2V0dGluZ3M6Jywgc2V0dGluZ3MpO1xuICAgIGNvbnNvbGUubG9nKCdBZG1pblNldHRpbmdzIC0gQ3VycmVudCBVc2VyIElEOicsIGN1cnJlbnRVc2VySWQpO1xuICAgIGNvbnNvbGUubG9nKCdBZG1pblNldHRpbmdzIC0gSXMgVG9wQmFyIFVwZGF0ZWQ6JywgaXNUb3BCYXJVcGRhdGVkKTtcbiAgfSwgW3NldHRpbmdzLCBjdXJyZW50VXNlcklkLCBpc1RvcEJhclVwZGF0ZWRdKTtcblxuICAvLyBIZWxwZXI6IEZldGNoIHNldHRpbmdzIGZvciBhIHVzZXIgZnJvbSBiYWNrZW5kIHdpdGggZW5oYW5jZWQgY2FjaGluZ1xuICBjb25zdCBmZXRjaFNldHRpbmdzRm9yVXNlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcbiAgICBjb25zdCBjYWNoZWRTZXR0aW5ncyA9IHNldHRpbmdzQ2FjaGUuY3VycmVudC5nZXQodXNlcklkKTtcbiAgICBjb25zdCBsYXN0VXBkYXRlID0gbGFzdFNldHRpbmdzVXBkYXRlLmN1cnJlbnQuZ2V0KHVzZXJJZCk7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIC8vIElmIHdlIGhhdmUgY2FjaGVkIHNldHRpbmdzIGFuZCB0aGV5J3JlIHJlY2VudCBlbm91Z2gsIHVzZSB0aGVtXG4gICAgaWYgKGNhY2hlZFNldHRpbmdzICYmIGxhc3RVcGRhdGUgJiYgKG5vdyAtIGxhc3RVcGRhdGUgPCBDQUNIRV9EVVJBVElPTikpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQWRtaW5TZXR0aW5nc10gVXNpbmcgY2FjaGVkIHNldHRpbmdzIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgICByZXR1cm4gY2FjaGVkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IGEgcGVuZGluZyB1cGRhdGUsIHJldHVybiB0aGUgY2FjaGVkIHZhbHVlXG4gICAgaWYgKHBlbmRpbmdVcGRhdGVzLmN1cnJlbnQuaGFzKHVzZXJJZCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQWRtaW5TZXR0aW5nc10gUGVuZGluZyB1cGRhdGUgZXhpc3RzLCB1c2luZyBjYWNoZWQgdmFsdWUnKTtcbiAgICAgIHJldHVybiBjYWNoZWRTZXR0aW5ncztcbiAgICB9XG5cbiAgICAvLyBJZiBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3MsIHJldHVybiB0aGUgY2FjaGVkIHZhbHVlXG4gICAgaWYgKGlzVXBkYXRpbmcuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coJ1tBZG1pblNldHRpbmdzXSBVcGRhdGUgaW4gcHJvZ3Jlc3MsIHVzaW5nIGNhY2hlZCB2YWx1ZScpO1xuICAgICAgcmV0dXJuIGNhY2hlZFNldHRpbmdzO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc1VwZGF0aW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcGVuZGluZ1VwZGF0ZXMuY3VycmVudC5zZXQodXNlcklkLCB0cnVlKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVidcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCAnRmFpbGVkIHRvIGZldGNoIHNldHRpbmdzJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0gcmVzdWx0LmRhdGEgfHwge307XG4gICAgICBcbiAgICAgIC8vIENvbXBhcmUgd2l0aCBsYXN0IGtub3duIHNldHRpbmdzXG4gICAgICBjb25zdCBsYXN0S25vd24gPSBsYXN0S25vd25TZXR0aW5ncy5jdXJyZW50LmdldCh1c2VySWQpO1xuICAgICAgY29uc3QgaGFzQ2hhbmdlZCA9ICFpc0VxdWFsKGxhc3RLbm93biwgbmV3U2V0dGluZ3MpO1xuICAgICAgXG4gICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnW0FkbWluU2V0dGluZ3NdIFNldHRpbmdzIGNoYW5nZWQsIHVwZGF0aW5nLi4uJyk7XG4gICAgICAgIHNldFNldHRpbmdzKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFt1c2VySWRdOiBuZXdTZXR0aW5nc1xuICAgICAgICB9KSk7XG4gICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgY2FjaGVzXG4gICAgICAgIHNldHRpbmdzQ2FjaGUuY3VycmVudC5zZXQodXNlcklkLCBuZXdTZXR0aW5ncyk7XG4gICAgICAgIGxhc3RTZXR0aW5nc1VwZGF0ZS5jdXJyZW50LnNldCh1c2VySWQsIG5vdyk7XG4gICAgICAgIGxhc3RLbm93blNldHRpbmdzLmN1cnJlbnQuc2V0KHVzZXJJZCwgbmV3U2V0dGluZ3MpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIFRvcEJhciBpZiByZWYgcHJvdmlkZWRcbiAgICAgICAgaWYgKHJlZiAmJiByZWYuY3VycmVudCAmJiByZWYuY3VycmVudC5zZXRDYXB0dXJlU2V0dGluZ3MpIHtcbiAgICAgICAgICByZWYuY3VycmVudC5zZXRDYXB0dXJlU2V0dGluZ3MobmV3U2V0dGluZ3MpO1xuICAgICAgICAgIHNldElzVG9wQmFyVXBkYXRlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tBZG1pblNldHRpbmdzXSBTZXR0aW5ncyB1bmNoYW5nZWQsIHNraXBwaW5nIHVwZGF0ZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0FkbWluU2V0dGluZ3NdIEVycm9yIGZldGNoaW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIGNhY2hlZFNldHRpbmdzOyAvLyBSZXR1cm4gY2FjaGVkIHNldHRpbmdzIG9uIGVycm9yXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzVXBkYXRpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgcGVuZGluZ1VwZGF0ZXMuY3VycmVudC5kZWxldGUodXNlcklkKTtcbiAgICB9XG4gIH0sIFtyZWZdKTtcblxuICAvLyBEZWJvdW5jZWQgdmVyc2lvbiBvZiBmZXRjaFNldHRpbmdzRm9yVXNlclxuICBjb25zdCBkZWJvdW5jZWRGZXRjaFNldHRpbmdzID0gdXNlQ2FsbGJhY2soXG4gICAgZGVib3VuY2UoKHVzZXJJZCkgPT4ge1xuICAgICAgZmV0Y2hTZXR0aW5nc0ZvclVzZXIodXNlcklkKTtcbiAgICB9LCAxMDAwKSxcbiAgICBbZmV0Y2hTZXR0aW5nc0ZvclVzZXJdXG4gICk7XG5cbiAgLy8gUG9sbGluZyBmb3Igc2V0dGluZ3MgdXBkYXRlcyB3aXRoIHZhbHVlLWJhc2VkIG9wdGltaXphdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGZldGNoU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgaWYgKG5vdyAtIGxhc3RVcGRhdGVUaW1lIDwgTUlOX1VQREFURV9JTlRFUlZBTCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlYm91bmNlZEZldGNoU2V0dGluZ3MoY3VycmVudFVzZXJJZCk7XG4gICAgICAgIHNldExhc3RVcGRhdGVUaW1lKG5vdyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbQWRtaW5TZXR0aW5nc10gUG9sbGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEluaXRpYWwgZmV0Y2hcbiAgICBmZXRjaFNldHRpbmdzKCk7XG4gICAgXG4gICAgLy8gU2V0IHVwIHBvbGxpbmcgd2l0aCB2YWx1ZS1iYXNlZCBpbnRlcnZhbFxuICAgIHBvbGxpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoZmV0Y2hTZXR0aW5ncywgUE9MTElOR19JTlRFUlZBTCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwb2xsaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHBvbGxpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbY3VycmVudFVzZXJJZCwgbGFzdFVwZGF0ZVRpbWUsIGRlYm91bmNlZEZldGNoU2V0dGluZ3NdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHVzZXJJZCBjaGFuZ2VzIChmcm9tIGluZGV4LmpzIG5hdmlnYXRpb24pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlVXNlcklkQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC51c2VySWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1toYW5kbGVVc2VySWRDaGFuZ2VdIHVzZXJJZDonLCBldmVudC5kZXRhaWwudXNlcklkKTtcbiAgICAgICAgY29uc3QgbmV3VXNlcklkID0gZXZlbnQuZGV0YWlsLnVzZXJJZDtcbiAgICAgICAgc2V0Q3VycmVudFVzZXJJZChuZXdVc2VySWQpO1xuICAgICAgICBzZXRMb2NhbFN0b3JhZ2UoJ2N1cnJlbnRVc2VySWQnLCBuZXdVc2VySWQpO1xuICAgICAgICBmZXRjaFNldHRpbmdzRm9yVXNlcihuZXdVc2VySWQpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICB9LCBbcmVmXSk7XG5cbiAgLy8gSW5pdGlhbCBzZXR0aW5ncyBmZXRjaCBvbiBtb3VudCBpZiB3ZSBoYXZlIGEgdXNlciBJRFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXJyZW50VXNlcklkICYmICFpbml0aWFsaXplZC5jdXJyZW50KSB7XG4gICAgICBmZXRjaFNldHRpbmdzRm9yVXNlcihjdXJyZW50VXNlcklkKTtcbiAgICAgIGluaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICAvLyBFZmZlY3QgdG8gaGFuZGxlIGluZGV4LmpzIHVwZGF0ZSBhZnRlciBUb3BCYXIgaXMgdXBkYXRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1RvcEJhclVwZGF0ZWQpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzZXR0aW5nc1VwZGF0ZWQnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdzZXR0aW5ncycsXG4gICAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlcklkLFxuICAgICAgICAgIHNldHRpbmdzOiBzZXR0aW5nc1tjdXJyZW50VXNlcklkXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHNldElzVG9wQmFyVXBkYXRlZChmYWxzZSk7XG4gICAgfVxuICB9LCBbaXNUb3BCYXJVcGRhdGVkLCBjdXJyZW50VXNlcklkLCBzZXR0aW5nc10pO1xuXG4gIC8vIExvYWQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gbW91bnQgKG9wdGlvbmFsLCBmYWxsYmFjaylcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2F2ZWRTZXR0aW5ncyA9IGdldExvY2FsU3RvcmFnZSgnYWRtaW5TZXR0aW5ncycpO1xuICAgICAgaWYgKHNhdmVkU2V0dGluZ3MpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkU2V0dGluZ3MgPSBKU09OLnBhcnNlKHNhdmVkU2V0dGluZ3MpO1xuICAgICAgICBzZXRTZXR0aW5ncyhwYXJzZWRTZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRXJyb3IgbG9hZGluZyBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gU2F2ZSBzZXR0aW5ncyB0byBsb2NhbFN0b3JhZ2Ugd2hlbiB0aGV5IGNoYW5nZSAob3B0aW9uYWwpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxpemVkLmN1cnJlbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvY2FsU3RvcmFnZSgnYWRtaW5TZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHNhdmluZyBzZXR0aW5ncyB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbml0aWFsaXplZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtzZXR0aW5nc10pO1xuXG4gIC8vIFVwZGF0ZSBzZXR0aW5ncyB3aGVuIHRoZXkgY2hhbmdlIGluIHRoZSBjb250ZXh0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNldHRpbmdzICYmIGN1cnJlbnRVc2VySWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbc2V0dGluZ3MgdXNlRWZmZWN0XSBjdXJyZW50VXNlcklkOicsIGN1cnJlbnRVc2VySWQpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzW2N1cnJlbnRVc2VySWRdO1xuICAgICAgaWYgKHVzZXJTZXR0aW5ncykge1xuICAgICAgICBzZXRDdXJyZW50U2V0dGluZ3ModXNlclNldHRpbmdzKTtcbiAgICAgICAgLy8gT3B0aW9uYWxseSB1cGRhdGUgVUkgZWxlbWVudHMgaWYgbmVlZGVkXG4gICAgICB9XG4gICAgfVxuICB9LCBbc2V0dGluZ3MsIGN1cnJlbnRVc2VySWRdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXMgZnJvbSBhZG1pbiBwYWdlIChjYXB0dXJlU2V0dGluZ3NVcGRhdGUgZXZlbnQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU2V0dGluZ3NVcGRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICdjYXB0dXJlU2V0dGluZ3MnKSB7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkLCB0aW1lcywgZGVsYXkgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgY29uc29sZS5sb2coJ1toYW5kbGVTZXR0aW5nc1VwZGF0ZV0gdXNlcklkOicsIHVzZXJJZCwgJ2N1cnJlbnRVc2VySWQ6JywgY3VycmVudFVzZXJJZCk7IC8vIERlYnVnIGxvZ1xuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50U2V0dGluZ3MsXG4gICAgICAgICAgICB0aW1lczogdGltZXMgIT09IHVuZGVmaW5lZCA/IE51bWJlcih0aW1lcykgOiBjdXJyZW50U2V0dGluZ3MudGltZXMsXG4gICAgICAgICAgICBkZWxheTogZGVsYXkgIT09IHVuZGVmaW5lZCA/IE51bWJlcihkZWxheSkgOiBjdXJyZW50U2V0dGluZ3MuZGVsYXlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgc2V0U2V0dGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdXNlcklkXTogbmV3U2V0dGluZ3MgfSkpO1xuICAgICAgICAgIHVwZGF0ZVNldHRpbmdzKG5ld1NldHRpbmdzLCB1c2VySWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICB9LCBbY3VycmVudFVzZXJJZCwgY3VycmVudFNldHRpbmdzXSk7XG5cbiAgLy8gVXBkYXRlIHNldHRpbmdzIGZvciBhIHVzZXIgd2l0aCB2YWx1ZS1iYXNlZCBvcHRpbWl6YXRpb25cbiAgY29uc3QgdXBkYXRlU2V0dGluZ3MgPSB1c2VDYWxsYmFjayhhc3luYyAobmV3U2V0dGluZ3MsIHVzZXJJZCkgPT4ge1xuICAgIGlmICghdXNlcklkKSByZXR1cm47XG4gICAgXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IC0gbGFzdFVwZGF0ZVRpbWUgPCBNSU5fVVBEQVRFX0lOVEVSVkFMKSB7XG4gICAgICBjb25zb2xlLmxvZygnW3VwZGF0ZVNldHRpbmdzXSBTa2lwcGluZyB1cGRhdGUgLSB0b28gc29vbiBhZnRlciBsYXN0IHVwZGF0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHtcbiAgICAgIC4uLnNldHRpbmdzW3VzZXJJZF0sXG4gICAgICAuLi5uZXdTZXR0aW5nc1xuICAgIH07XG5cbiAgICAvLyBDb21wYXJlIHdpdGggbGFzdCBrbm93biBzZXR0aW5nc1xuICAgIGNvbnN0IGxhc3RLbm93biA9IGxhc3RLbm93blNldHRpbmdzLmN1cnJlbnQuZ2V0KHVzZXJJZCk7XG4gICAgY29uc3QgaGFzQ2hhbmdlZCA9ICFpc0VxdWFsKGxhc3RLbm93biwgdXBkYXRlZFNldHRpbmdzKTtcblxuICAgIGlmICghaGFzQ2hhbmdlZCkge1xuICAgICAgY29uc29sZS5sb2coJ1t1cGRhdGVTZXR0aW5nc10gU2V0dGluZ3MgdW5jaGFuZ2VkLCBza2lwcGluZyB1cGRhdGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNVcGRhdGluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHBlbmRpbmdVcGRhdGVzLmN1cnJlbnQuc2V0KHVzZXJJZCwgdHJ1ZSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6ODAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7dXNlcklkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIHx8ICdBMUIyQzNENC1FNUY2LTc4OTAtR0hJSi1LTE1OT1BRUlNUVVYnXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRTZXR0aW5ncylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5kZXRhaWwgfHwgJ0ZhaWxlZCB0byBzYXZlIHNldHRpbmdzJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbmFsU2V0dGluZ3MgPSByZXN1bHQuZGF0YSB8fCB1cGRhdGVkU2V0dGluZ3M7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgY2FjaGVzXG4gICAgICBzZXRTZXR0aW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt1c2VySWRdOiBmaW5hbFNldHRpbmdzIH0pKTtcbiAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhmaW5hbFNldHRpbmdzKTtcbiAgICAgIHNldHRpbmdzQ2FjaGUuY3VycmVudC5zZXQodXNlcklkLCBmaW5hbFNldHRpbmdzKTtcbiAgICAgIGxhc3RTZXR0aW5nc1VwZGF0ZS5jdXJyZW50LnNldCh1c2VySWQsIG5vdyk7XG4gICAgICBsYXN0S25vd25TZXR0aW5ncy5jdXJyZW50LnNldCh1c2VySWQsIGZpbmFsU2V0dGluZ3MpO1xuICAgICAgc2V0TGFzdFVwZGF0ZVRpbWUobm93KTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNVcGRhdGluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBwZW5kaW5nVXBkYXRlcy5jdXJyZW50LmRlbGV0ZSh1c2VySWQpO1xuICAgIH1cbiAgfSwgW3NldHRpbmdzLCBsYXN0VXBkYXRlVGltZV0pO1xuXG4gIC8vIFVwbG9hZCBhbmQgdXBkYXRlIGltYWdlIGZvciBhIHVzZXJcbiAgY29uc3QgdXBkYXRlSW1hZ2UgPSBhc3luYyAodXNlcklkLCBiYXNlNjRJbWFnZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbdXBkYXRlSW1hZ2VdIHVzZXJJZDonLCB1c2VySWQpOyAvLyBEZWJ1ZyBsb2dcbiAgICBpZiAoIXVzZXJJZCB8fCAhYmFzZTY0SW1hZ2UpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MC9hcGkvZGF0YS1jZW50ZXIvaW1hZ2U/dXNlcl9pZD0ke3VzZXJJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGltYWdlOiBiYXNlNjRJbWFnZSB9KVxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5kZXRhaWwgfHwgJ0ZhaWxlZCB0byB1cGxvYWQgaW1hZ2UnKTtcbiAgICAgIH1cbiAgICAgIC8vIE9wdGlvbmFsbHksIGZldGNoIHNldHRpbmdzIGFnYWluIHRvIGdldCB1cGRhdGVkIGltYWdlIGluZm9cbiAgICAgIGF3YWl0IGZldGNoU2V0dGluZ3NGb3JVc2VyKHVzZXJJZCk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0aW5ncyxcbiAgICBjdXJyZW50U2V0dGluZ3MsXG4gICAgY3VycmVudFVzZXJJZCxcbiAgICBlcnJvcixcbiAgICB1cGRhdGVTZXR0aW5nczogZmV0Y2hTZXR0aW5nc0ZvclVzZXJcbiAgfTtcbn07XG5cbi8vIEFkZCBkZWZhdWx0IGV4cG9ydCBjb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkbWluU2V0dGluZ3MoKSB7XG4gIHJldHVybiBudWxsOyAvLyBUaGlzIGlzIGEgdXRpbGl0eSBmaWxlLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlbmRlciBhbnl0aGluZ1xufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiaXNFcXVhbCIsIm9iajEiLCJvYmoyIiwia2V5czEiLCJPYmplY3QiLCJrZXlzIiwia2V5czIiLCJsZW5ndGgiLCJldmVyeSIsImtleSIsImluY2x1ZGVzIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJleGVjdXRlZEZ1bmN0aW9uIiwiYXJncyIsImxhdGVyIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImdldExvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwic2V0TG9jYWxTdG9yYWdlIiwidmFsdWUiLCJzZXRJdGVtIiwidXNlQWRtaW5TZXR0aW5ncyIsInJlZiIsInNldHRpbmdzIiwic2V0U2V0dGluZ3MiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImlzVG9wQmFyVXBkYXRlZCIsInNldElzVG9wQmFyVXBkYXRlZCIsInNldEVycm9yIiwiaW5pdGlhbGl6ZWQiLCJwb2xsaW5nSW50ZXJ2YWwiLCJjdXJyZW50U2V0dGluZ3MiLCJzZXRDdXJyZW50U2V0dGluZ3MiLCJsYXN0VXBkYXRlVGltZSIsInNldExhc3RVcGRhdGVUaW1lIiwiTUlOX1VQREFURV9JTlRFUlZBTCIsIkNBQ0hFX0RVUkFUSU9OIiwiUE9MTElOR19JTlRFUlZBTCIsInNldHRpbmdzQ2FjaGUiLCJNYXAiLCJsYXN0U2V0dGluZ3NVcGRhdGUiLCJwZW5kaW5nVXBkYXRlcyIsImlzVXBkYXRpbmciLCJsYXN0S25vd25TZXR0aW5ncyIsImxvZyIsImZldGNoU2V0dGluZ3NGb3JVc2VyIiwidXNlcklkIiwiY2FjaGVkU2V0dGluZ3MiLCJjdXJyZW50IiwiZ2V0IiwibGFzdFVwZGF0ZSIsIm5vdyIsIkRhdGUiLCJoYXMiLCJzZXQiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfS0VZIiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJFcnJvciIsImRldGFpbCIsInJlc3VsdCIsIm5ld1NldHRpbmdzIiwiZGF0YSIsImxhc3RLbm93biIsImhhc0NoYW5nZWQiLCJwcmV2Iiwic2V0Q2FwdHVyZVNldHRpbmdzIiwibWVzc2FnZSIsImRlbGV0ZSIsImRlYm91bmNlZEZldGNoU2V0dGluZ3MiLCJmZXRjaFNldHRpbmdzIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiaGFuZGxlVXNlcklkQ2hhbmdlIiwiZXZlbnQiLCJuZXdVc2VySWQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkN1c3RvbUV2ZW50IiwidHlwZSIsImRpc3BhdGNoRXZlbnQiLCJzYXZlZFNldHRpbmdzIiwicGFyc2VkU2V0dGluZ3MiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ1c2VyU2V0dGluZ3MiLCJoYW5kbGVTZXR0aW5nc1VwZGF0ZSIsInRpbWVzIiwiZGVsYXkiLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJ1cGRhdGVTZXR0aW5ncyIsInVwZGF0ZWRTZXR0aW5ncyIsIm1ldGhvZCIsImJvZHkiLCJmaW5hbFNldHRpbmdzIiwidXBkYXRlSW1hZ2UiLCJiYXNlNjRJbWFnZSIsImltYWdlIiwiQWRtaW5TZXR0aW5ncyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js":
/*!******************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/displayResponse.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst DisplayResponse = ({ width, height, distance, isVisible = true })=>{\n    // Animation state for visibility transitions\n    const [animationState, setAnimationState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isVisible ? 'visible' : 'hidden');\n    // Update animation state when visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DisplayResponse.useEffect\": ()=>{\n            console.log('DisplayResponse: isVisible changed to', isVisible);\n            setAnimationState(isVisible ? 'visible' : 'hidden');\n        }\n    }[\"DisplayResponse.useEffect\"], [\n        isVisible\n    ]);\n    // Format values with units and handle missing values\n    const formattedWidth = width || '---';\n    const formattedHeight = height || '---';\n    const formattedDistance = distance || '---';\n    console.log('DisplayResponse: rendering with isVisible:', isVisible, 'animationState:', animationState);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `metrics-display ${animationState}`,\n        style: {\n            position: 'absolute',\n            right: '20px',\n            top: '80px',\n            backgroundColor: 'rgba(0, 102, 204, 0.8)',\n            color: 'white',\n            padding: '10px 15px',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontFamily: 'monospace',\n            boxShadow: '0 2px 10px rgba(0, 0, 0, 0.3)',\n            transition: 'all 0.3s ease',\n            opacity: animationState === 'visible' ? 1 : 0,\n            transform: animationState === 'visible' ? 'translateX(0)' : 'translateX(50px)',\n            pointerEvents: animationState === 'visible' ? 'auto' : 'none',\n            zIndex: 100\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"metrics-header\",\n                style: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    marginBottom: '8px',\n                    borderBottom: '1px solid rgba(255, 255, 255, 0.3)',\n                    paddingBottom: '5px'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontWeight: 'bold'\n                        },\n                        children: \"Display Metrics\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 54,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"metrics-indicator\",\n                        style: {\n                            width: '10px',\n                            height: '10px',\n                            borderRadius: '50%',\n                            backgroundColor: '#00ff00',\n                            boxShadow: '0 0 5px rgba(0, 255, 0, 0.8)'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                lineNumber: 43,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"metrics-content\",\n                style: {\n                    lineHeight: '1.5'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Width:\"\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 72,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedWidth\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 73,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" pixels\"\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 74,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 71,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Height:\"\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 77,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedHeight\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 78,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" pixels\"\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 79,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 76,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Distance:\"\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 82,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedDistance\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 83,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" cm\"\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 84,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 81,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisplayResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUVuRCxNQUFNRyxrQkFBa0IsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxZQUFZLElBQUksRUFBRTtJQUNwRSw2Q0FBNkM7SUFDN0MsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHUiwrQ0FBUUEsQ0FBQ00sWUFBWSxZQUFZO0lBRTdFLGlEQUFpRDtJQUNqREwsZ0RBQVNBO3FDQUFDO1lBQ1JRLFFBQVFDLEdBQUcsQ0FBQyx5Q0FBeUNKO1lBQ3JERSxrQkFBa0JGLFlBQVksWUFBWTtRQUM1QztvQ0FBRztRQUFDQTtLQUFVO0lBRWQscURBQXFEO0lBQ3JELE1BQU1LLGlCQUFpQlIsU0FBUztJQUNoQyxNQUFNUyxrQkFBa0JSLFVBQVU7SUFDbEMsTUFBTVMsb0JBQW9CUixZQUFZO0lBRXRDSSxRQUFRQyxHQUFHLENBQUMsOENBQThDSixXQUFXLG1CQUFtQkM7SUFFeEYscUJBQ0UsOERBQUNPO1FBQ0NDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRVIsZ0JBQWdCO1FBQzlDUyxPQUFPO1lBQ0xDLFVBQVU7WUFDVkMsT0FBTztZQUNQQyxLQUFLO1lBQ0xDLGlCQUFpQjtZQUNqQkMsT0FBTztZQUNQQyxTQUFTO1lBQ1RDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxZQUFZO1lBQ1pDLFdBQVc7WUFDWEMsWUFBWTtZQUNaQyxTQUFTckIsbUJBQW1CLFlBQVksSUFBSTtZQUM1Q3NCLFdBQVd0QixtQkFBbUIsWUFDMUIsa0JBQ0E7WUFDSnVCLGVBQWV2QixtQkFBbUIsWUFBWSxTQUFTO1lBQ3ZEd0IsUUFBUTtRQUNWOzswQkFFQSw4REFBQ2pCO2dCQUNDQyxXQUFVO2dCQUNWQyxPQUFPO29CQUNMZ0IsU0FBUztvQkFDVEMsZ0JBQWdCO29CQUNoQkMsWUFBWTtvQkFDWkMsY0FBYztvQkFDZEMsY0FBYztvQkFDZEMsZUFBZTtnQkFDakI7O2tDQUVBLDhEQUFDQzt3QkFBS3RCLE9BQU87NEJBQUV1QixZQUFZO3dCQUFPO2tDQUFHOzs7Ozs7a0NBQ3JDLDhEQUFDekI7d0JBQ0NDLFdBQVU7d0JBQ1ZDLE9BQU87NEJBQ0xiLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JtQixjQUFjOzRCQUNkSCxpQkFBaUI7NEJBQ2pCTSxXQUFXO3dCQUNiOzs7Ozs7Ozs7Ozs7MEJBSUosOERBQUNaO2dCQUNDQyxXQUFVO2dCQUNWQyxPQUFPO29CQUFFd0IsWUFBWTtnQkFBTTs7a0NBRTNCLDhEQUFDQzs7MENBQ0MsOERBQUNIO2dDQUFLdEIsT0FBTztvQ0FBRWdCLFNBQVM7b0NBQWdCN0IsT0FBTztnQ0FBTzswQ0FBRzs7Ozs7OzBDQUN6RCw4REFBQ21DO2dDQUFLdEIsT0FBTztvQ0FBRXVCLFlBQVk7Z0NBQU87MENBQUk1Qjs7Ozs7OzBDQUN0Qyw4REFBQzJCO2dDQUFLdEIsT0FBTztvQ0FBRVksU0FBUztvQ0FBS0osVUFBVTtnQ0FBTzswQ0FBRzs7Ozs7Ozs7Ozs7O2tDQUVuRCw4REFBQ2lCOzswQ0FDQyw4REFBQ0g7Z0NBQUt0QixPQUFPO29DQUFFZ0IsU0FBUztvQ0FBZ0I3QixPQUFPO2dDQUFPOzBDQUFHOzs7Ozs7MENBQ3pELDhEQUFDbUM7Z0NBQUt0QixPQUFPO29DQUFFdUIsWUFBWTtnQ0FBTzswQ0FBSTNCOzs7Ozs7MENBQ3RDLDhEQUFDMEI7Z0NBQUt0QixPQUFPO29DQUFFWSxTQUFTO29DQUFLSixVQUFVO2dDQUFPOzBDQUFHOzs7Ozs7Ozs7Ozs7a0NBRW5ELDhEQUFDaUI7OzBDQUNDLDhEQUFDSDtnQ0FBS3RCLE9BQU87b0NBQUVnQixTQUFTO29DQUFnQjdCLE9BQU87Z0NBQU87MENBQUc7Ozs7OzswQ0FDekQsOERBQUNtQztnQ0FBS3RCLE9BQU87b0NBQUV1QixZQUFZO2dDQUFPOzBDQUFJMUI7Ozs7OzswQ0FDdEMsOERBQUN5QjtnQ0FBS3RCLE9BQU87b0NBQUVZLFNBQVM7b0NBQUtKLFVBQVU7Z0NBQU87MENBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUszRDtBQUVBLGlFQUFldEIsZUFBZUEsRUFBQyIsInNvdXJjZXMiOlsiL2FwcC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2NvbXBvbmVudHMtZ3VpL2Rpc3BsYXlSZXNwb25zZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgRGlzcGxheVJlc3BvbnNlID0gKHsgd2lkdGgsIGhlaWdodCwgZGlzdGFuY2UsIGlzVmlzaWJsZSA9IHRydWUgfSkgPT4ge1xuICAvLyBBbmltYXRpb24gc3RhdGUgZm9yIHZpc2liaWxpdHkgdHJhbnNpdGlvbnNcbiAgY29uc3QgW2FuaW1hdGlvblN0YXRlLCBzZXRBbmltYXRpb25TdGF0ZV0gPSB1c2VTdGF0ZShpc1Zpc2libGUgPyAndmlzaWJsZScgOiAnaGlkZGVuJyk7XG4gIFxuICAvLyBVcGRhdGUgYW5pbWF0aW9uIHN0YXRlIHdoZW4gdmlzaWJpbGl0eSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0Rpc3BsYXlSZXNwb25zZTogaXNWaXNpYmxlIGNoYW5nZWQgdG8nLCBpc1Zpc2libGUpO1xuICAgIHNldEFuaW1hdGlvblN0YXRlKGlzVmlzaWJsZSA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nKTtcbiAgfSwgW2lzVmlzaWJsZV0pO1xuICBcbiAgLy8gRm9ybWF0IHZhbHVlcyB3aXRoIHVuaXRzIGFuZCBoYW5kbGUgbWlzc2luZyB2YWx1ZXNcbiAgY29uc3QgZm9ybWF0dGVkV2lkdGggPSB3aWR0aCB8fCAnLS0tJztcbiAgY29uc3QgZm9ybWF0dGVkSGVpZ2h0ID0gaGVpZ2h0IHx8ICctLS0nO1xuICBjb25zdCBmb3JtYXR0ZWREaXN0YW5jZSA9IGRpc3RhbmNlIHx8ICctLS0nO1xuICBcbiAgY29uc29sZS5sb2coJ0Rpc3BsYXlSZXNwb25zZTogcmVuZGVyaW5nIHdpdGggaXNWaXNpYmxlOicsIGlzVmlzaWJsZSwgJ2FuaW1hdGlvblN0YXRlOicsIGFuaW1hdGlvblN0YXRlKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIGNsYXNzTmFtZT17YG1ldHJpY3MtZGlzcGxheSAke2FuaW1hdGlvblN0YXRlfWB9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgcmlnaHQ6ICcyMHB4JyxcbiAgICAgICAgdG9wOiAnODBweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMTAyLCAyMDQsIDAuOCknLFxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgcGFkZGluZzogJzEwcHggMTVweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLFxuICAgICAgICBib3hTaGFkb3c6ICcwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXG4gICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4zcyBlYXNlJyxcbiAgICAgICAgb3BhY2l0eTogYW5pbWF0aW9uU3RhdGUgPT09ICd2aXNpYmxlJyA/IDEgOiAwLFxuICAgICAgICB0cmFuc2Zvcm06IGFuaW1hdGlvblN0YXRlID09PSAndmlzaWJsZScgXG4gICAgICAgICAgPyAndHJhbnNsYXRlWCgwKScgXG4gICAgICAgICAgOiAndHJhbnNsYXRlWCg1MHB4KScsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IGFuaW1hdGlvblN0YXRlID09PSAndmlzaWJsZScgPyAnYXV0bycgOiAnbm9uZScsXG4gICAgICAgIHpJbmRleDogMTAwXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cIm1ldHJpY3MtaGVhZGVyXCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206ICc1cHgnXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5EaXNwbGF5IE1ldHJpY3M8L3NwYW4+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwibWV0cmljcy1pbmRpY2F0b3JcIlxuICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgd2lkdGg6ICcxMHB4JywgXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMHB4JywgXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLCBcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMGZmMDAnLFxuICAgICAgICAgICAgYm94U2hhZG93OiAnMCAwIDVweCByZ2JhKDAsIDI1NSwgMCwgMC44KSdcbiAgICAgICAgICB9fSBcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJtZXRyaWNzLWNvbnRlbnRcIlxuICAgICAgICBzdHlsZT17eyBsaW5lSGVpZ2h0OiAnMS41JyB9fVxuICAgICAgPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgd2lkdGg6ICc4MHB4JyB9fT5XaWR0aDo8L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT57Zm9ybWF0dGVkV2lkdGh9PC9zcGFuPiBcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBvcGFjaXR5OiAwLjgsIGZvbnRTaXplOiAnMTJweCcgfX0+IHBpeGVsczwvc3Bhbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgd2lkdGg6ICc4MHB4JyB9fT5IZWlnaHQ6PC9zcGFuPiBcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+e2Zvcm1hdHRlZEhlaWdodH08L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG9wYWNpdHk6IDAuOCwgZm9udFNpemU6ICcxMnB4JyB9fT4gcGl4ZWxzPC9zcGFuPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCB3aWR0aDogJzgwcHgnIH19PkRpc3RhbmNlOjwvc3Bhbj4gXG4gICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19Pntmb3JtYXR0ZWREaXN0YW5jZX08L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG9wYWNpdHk6IDAuOCwgZm9udFNpemU6ICcxMnB4JyB9fT4gY208L3NwYW4+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGlzcGxheVJlc3BvbnNlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRGlzcGxheVJlc3BvbnNlIiwid2lkdGgiLCJoZWlnaHQiLCJkaXN0YW5jZSIsImlzVmlzaWJsZSIsImFuaW1hdGlvblN0YXRlIiwic2V0QW5pbWF0aW9uU3RhdGUiLCJjb25zb2xlIiwibG9nIiwiZm9ybWF0dGVkV2lkdGgiLCJmb3JtYXR0ZWRIZWlnaHQiLCJmb3JtYXR0ZWREaXN0YW5jZSIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwicG9zaXRpb24iLCJyaWdodCIsInRvcCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImJveFNoYWRvdyIsInRyYW5zaXRpb24iLCJvcGFjaXR5IiwidHJhbnNmb3JtIiwicG9pbnRlckV2ZW50cyIsInpJbmRleCIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJtYXJnaW5Cb3R0b20iLCJib3JkZXJCb3R0b20iLCJwYWRkaW5nQm90dG9tIiwic3BhbiIsImZvbnRXZWlnaHQiLCJsaW5lSGVpZ2h0IiwicCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js":
/*!*********************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/topBar.js ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _adminSettings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./adminSettings */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\");\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__]);\n_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n// Improved debounce function\nconst debounce = (func, wait)=>{\n    let timeout;\n    let lastArgs;\n    let lastThis;\n    return function executedFunction(...args) {\n        lastArgs = args;\n        lastThis = this;\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n        timeout = setTimeout(()=>{\n            timeout = null;\n            func.apply(lastThis, lastArgs);\n        }, wait);\n    };\n};\nconst TopBar = ({ onButtonClick, onCameraAccess, outputText, onOutputChange, onToggleTopBar, onToggleMetrics, canvasRef, isTopBarShown = true, isCanvasVisible = true, showMetrics = true })=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [canvasStatus, setCanvasStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(isCanvasVisible);\n    const { settings, updateSettings } = (0,_adminSettings__WEBPACK_IMPORTED_MODULE_4__.useAdminSettings)();\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [currentSettings, setCurrentSettings] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        times_set_random: 1,\n        delay_set_random: 3\n    });\n    const isUpdatingRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n    // Memoized function to fetch settings\n    const fetchSettings = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"TopBar.useCallback[fetchSettings]\": async (userId)=>{\n            if (!userId || isUpdatingRef.current) return;\n            try {\n                isUpdatingRef.current = true;\n                const response = await fetch(`/api/data-center/settings/${userId}`, {\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                    }\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to fetch settings');\n                }\n                const userSettings = await response.json();\n                if (userSettings && (userSettings.times_set_random || userSettings.delay_set_random)) {\n                    setCurrentSettings(userSettings);\n                    if (updateSettings) {\n                        await updateSettings(userSettings, userId);\n                    }\n                }\n            } catch (error) {\n                console.error('TopBar - Error fetching settings:', error);\n            } finally{\n                isUpdatingRef.current = false;\n            }\n        }\n    }[\"TopBar.useCallback[fetchSettings]\"], [\n        updateSettings\n    ]);\n    const ensureCanvasAvailable = ()=>{\n        if (true) return null;\n        // Check for existing canvas\n        let canvas = document.querySelector('#tracking-canvas');\n        if (!canvas) {\n            // Create canvas if it doesn't exist\n            canvas = document.createElement('canvas');\n            canvas.className = 'tracking-canvas';\n            canvas.id = 'tracking-canvas';\n            canvas.width = 800;\n            canvas.height = 400;\n            canvas.style.cssText = `\n        position: relative;\n        width: 100%;\n        height: 400px;\n        background-color: yellow;\n        border: 1px solid #ccc;\n        display: block;\n      `;\n            // Initialize with yellow background\n            const ctx = canvas.getContext('2d');\n            ctx.fillStyle = 'yellow';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // Append to appropriate container\n            const container = document.querySelector('.canvas-container') || document.querySelector('.main-content') || document.body;\n            container.appendChild(canvas);\n        }\n        // Store global reference\n        window.whiteScreenCanvas = canvas;\n        return canvas;\n    };\n    // Debounced save settings function\n    const debouncedSaveSettings = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(debounce({\n        \"TopBar.useCallback[debouncedSaveSettings]\": async (userId, newSettings)=>{\n            if (!userId || isUpdatingRef.current) return;\n            try {\n                isUpdatingRef.current = true;\n                const response = await fetch(`/api/data-center/settings/${userId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                    },\n                    body: JSON.stringify(newSettings)\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to save settings to backend');\n                }\n                const latestSettings = await response.json();\n                setCurrentSettings(latestSettings);\n                if (updateSettings) {\n                    await updateSettings(latestSettings, userId);\n                }\n            } catch (error) {\n                console.error('TopBar - Error saving settings:', error);\n            } finally{\n                isUpdatingRef.current = false;\n            }\n        }\n    }[\"TopBar.useCallback[debouncedSaveSettings]\"], 500), [\n        updateSettings\n    ]);\n    // Initialize user ID and fetch initial settings\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const initializeUserId = {\n                \"TopBar.useEffect.initializeUserId\": async ()=>{\n                    const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__.getOrCreateUserId)();\n                    if (userId) {\n                        setCurrentUserId(userId);\n                        await fetchSettings(userId);\n                        setIsLoading(false);\n                    }\n                }\n            }[\"TopBar.useEffect.initializeUserId\"];\n            initializeUserId();\n        }\n    }[\"TopBar.useEffect\"], [\n        fetchSettings\n    ]);\n    // Update canvas status when prop changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            setCanvasStatus(isCanvasVisible);\n        }\n    }[\"TopBar.useEffect\"], [\n        isCanvasVisible\n    ]);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"TopBar.useEffect.handleUserIdChange\": async (event)=>{\n                    if (event.detail?.userId) {\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        await fetchSettings(newUserId);\n                    }\n                }\n            }[\"TopBar.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"TopBar.useEffect\": ()=>window.removeEventListener('userIdChange', handleUserIdChange)\n            })[\"TopBar.useEffect\"];\n        }\n    }[\"TopBar.useEffect\"], [\n        fetchSettings\n    ]);\n    // Listen for settings updates from admin page\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"TopBar.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail?.type === 'captureSettings') {\n                        const { userId, times_set_random, delay_set_random } = event.detail;\n                        // Only update if values have actually changed\n                        if (times_set_random !== currentSettings.times_set_random || delay_set_random !== currentSettings.delay_set_random) {\n                            const newSettings = {\n                                times_set_random: Number(times_set_random) || currentSettings.times_set_random,\n                                delay_set_random: Number(delay_set_random) || currentSettings.delay_set_random\n                            };\n                            debouncedSaveSettings(userId, newSettings);\n                        }\n                    }\n                }\n            }[\"TopBar.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"TopBar.useEffect\": ()=>window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate)\n            })[\"TopBar.useEffect\"];\n        }\n    }[\"TopBar.useEffect\"], [\n        currentSettings,\n        debouncedSaveSettings\n    ]);\n    const handleButtonClick = (actionType)=>{\n        // Ensure canvas is available before triggering actions that need it\n        if ([\n            'setRandom',\n            'calibrate',\n            'randomDot',\n            'clearAll'\n        ].includes(actionType)) {\n            const canvas = ensureCanvasAvailable();\n            if (!canvas) {\n                console.warn(`Canvas not available for action: ${actionType}`);\n            }\n        }\n        if (onButtonClick) {\n            onButtonClick(actionType);\n        }\n    };\n    const handleToggleTopBar = ()=>{\n        onToggleTopBar(!isTopBarShown);\n    };\n    const handleToggleMetrics = ()=>{\n        console.log('TopBar: handleToggleMetrics called');\n        // Use action handler if available, otherwise fallback to direct toggle\n        if (onButtonClick) {\n            console.log('TopBar: Using action handler for metrics');\n            onButtonClick('metrics');\n        } else {\n            console.log('TopBar: Using direct toggle for metrics');\n            onToggleMetrics();\n        }\n    };\n    const handleGoBack = ()=>{\n        router.push('/');\n    };\n    const statusMessage = `TopBar ${isTopBarShown ? 'shown' : 'hidden'}, Canvas: ${canvasStatus ? 'Visible' : 'Hidden'}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-8fd840df60237147\" + \" \" + \"topbar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-left\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"logo\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"logo-text\",\n                            children: \"Logo\"\n                        }, void 0, false, {\n                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 245,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 244,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"controls-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"control-group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-label\",\n                                        children: \"Time(s):\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 250,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-input\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"control-input-field\",\n                                            children: currentSettings.times_set_random\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 252,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 251,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, `times-${currentSettings.times_set_random}-${Date.now()}`, true, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 249,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"control-group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-label\",\n                                        children: \"Delay(s):\"\n                                    }, void 0, false, {\n                                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 257,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-input\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"control-input-field\",\n                                            children: currentSettings.delay_set_random\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 259,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 258,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, `delay-${currentSettings.delay_set_random}-${Date.now()}`, true, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 256,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 248,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 243,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-middle\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-groups\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"button-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleGoBack,\n                                            title: \"Go back to home page\",\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn back-button\",\n                                            children: \"← Back\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 269,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('setRandom'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Set Random\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 277,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('calibrate'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Set Calibrate\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 283,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 268,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginRight: '80px'\n                                    },\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('randomDot'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Random Dot\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 292,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('clearAll'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Clear All\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 298,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 291,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 267,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-divider\"\n                        }, void 0, false, {\n                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 307,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"button-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('headPose'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Draw Head pose\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 311,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('boundingBox'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Show Bounding Box\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 317,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 310,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('preview'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Show Preview\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 326,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('mask'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"\\uD83D\\uDE0A Show Mask\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 332,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('parameters'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Parameters\"\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 338,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 325,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 309,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                    lineNumber: 266,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 265,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-right\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"notes-container\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            title: \"Processing Output\",\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"output-display\",\n                            children: [\n                                statusMessage,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {\n                                    className: \"jsx-8fd840df60237147\"\n                                }, void 0, false, {\n                                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 356,\n                                    columnNumber: 13\n                                }, undefined),\n                                outputText || \"Processing output will appear here...\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 351,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 350,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-buttons\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleToggleTopBar,\n                                title: \"Toggle TopBar\",\n                                style: {\n                                    padding: '5px 10px',\n                                    backgroundColor: '#0066cc',\n                                    color: 'white',\n                                    border: 'none',\n                                    borderRadius: '4px',\n                                    fontSize: '16px',\n                                    cursor: 'pointer',\n                                    marginRight: '5px'\n                                },\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"icon-btn menu-btn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"icon-text\",\n                                    children: \"≡\"\n                                }, void 0, false, {\n                                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 377,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 362,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleToggleMetrics,\n                                title: `${showMetrics ? 'Hide' : 'Show'} Metrics`,\n                                style: {\n                                    padding: '5px 10px',\n                                    backgroundColor: showMetrics ? '#00cc00' : '#ff9900',\n                                    color: 'white',\n                                    border: 'none',\n                                    borderRadius: '4px',\n                                    fontSize: '16px',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.2s ease'\n                                },\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"icon-btn alert-btn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"icon-text\",\n                                    children: showMetrics ? '✓' : '!'\n                                }, void 0, false, {\n                                    fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 395,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 380,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 361,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 349,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"8fd840df60237147\",\n                children: \".active-toggle.jsx-8fd840df60237147{transform:scale(1.2);transition:all.3s ease}.icon-btn.jsx-8fd840df60237147{transition:all.2s ease}.icon-btn.jsx-8fd840df60237147:hover{opacity:.8}\"\n            }, void 0, false, void 0, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/components-gui/topBar.js\",\n        lineNumber: 242,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TopBar);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvdG9wQmFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDaEM7QUFDVztBQUNlO0FBRWxFLDZCQUE2QjtBQUM3QixNQUFNUSxXQUFXLENBQUNDLE1BQU1DO0lBQ3RCLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJQztJQUVKLE9BQU8sU0FBU0MsaUJBQWlCLEdBQUdDLElBQUk7UUFDdENILFdBQVdHO1FBQ1hGLFdBQVcsSUFBSTtRQUVmLElBQUlGLFNBQVM7WUFDWEssYUFBYUw7UUFDZjtRQUVBQSxVQUFVTSxXQUFXO1lBQ25CTixVQUFVO1lBQ1ZGLEtBQUtTLEtBQUssQ0FBQ0wsVUFBVUQ7UUFDdkIsR0FBR0Y7SUFDTDtBQUNGO0FBRUEsTUFBTVMsU0FBUyxDQUFDLEVBQ2RDLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxVQUFVLEVBQ1ZDLGNBQWMsRUFDZEMsY0FBYyxFQUNkQyxlQUFlLEVBQ2ZDLFNBQVMsRUFDVEMsZ0JBQWdCLElBQUksRUFDcEJDLGtCQUFrQixJQUFJLEVBQ3RCQyxjQUFjLElBQUksRUFDbkI7SUFDQyxNQUFNQyxTQUFTekIsc0RBQVNBO0lBQ3hCLE1BQU0sQ0FBQzBCLGNBQWNDLGdCQUFnQixHQUFHL0IsK0NBQVFBLENBQUMyQjtJQUNqRCxNQUFNLEVBQUVLLFFBQVEsRUFBRUMsY0FBYyxFQUFFLEdBQUc1QixnRUFBZ0JBO0lBQ3JELE1BQU0sQ0FBQzZCLGVBQWVDLGlCQUFpQixHQUFHbkMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDb0MsV0FBV0MsYUFBYSxHQUFHckMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDc0MsaUJBQWlCQyxtQkFBbUIsR0FBR3ZDLCtDQUFRQSxDQUFDO1FBQUV3QyxrQkFBa0I7UUFBR0Msa0JBQWtCO0lBQUU7SUFDbEcsTUFBTUMsZ0JBQWdCdkMsNkNB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O29DQUNWQyxRQUFRO29DQUNSQyxZQUFZO2dDQUNkOzBFQVpVOzBDQWNWLDRFQUFDZjs4RUFBZTs4Q0FBYTlFLGNBQWMsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUI3RDtBQUVBLGlFQUFlVixNQUFNQSxFQUFDIiwic291cmNlcyI6WyIvYXBwL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvdG9wQmFyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlQWRtaW5TZXR0aW5ncyB9IGZyb20gJy4vYWRtaW5TZXR0aW5ncyc7XG5pbXBvcnQgeyBnZXRPckNyZWF0ZVVzZXJJZCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbnNlbnRNYW5hZ2VyJztcblxuLy8gSW1wcm92ZWQgZGVib3VuY2UgZnVuY3Rpb25cbmNvbnN0IGRlYm91bmNlID0gKGZ1bmMsIHdhaXQpID0+IHtcbiAgbGV0IHRpbWVvdXQ7XG4gIGxldCBsYXN0QXJncztcbiAgbGV0IGxhc3RUaGlzO1xuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIGV4ZWN1dGVkRnVuY3Rpb24oLi4uYXJncykge1xuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgXG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9XG4gICAgXG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICBmdW5jLmFwcGx5KGxhc3RUaGlzLCBsYXN0QXJncyk7XG4gICAgfSwgd2FpdCk7XG4gIH07XG59O1xuXG5jb25zdCBUb3BCYXIgPSAoeyBcbiAgb25CdXR0b25DbGljayxcbiAgb25DYW1lcmFBY2Nlc3MsXG4gIG91dHB1dFRleHQsXG4gIG9uT3V0cHV0Q2hhbmdlLFxuICBvblRvZ2dsZVRvcEJhcixcbiAgb25Ub2dnbGVNZXRyaWNzLFxuICBjYW52YXNSZWYsXG4gIGlzVG9wQmFyU2hvd24gPSB0cnVlLFxuICBpc0NhbnZhc1Zpc2libGUgPSB0cnVlLFxuICBzaG93TWV0cmljcyA9IHRydWVcbn0pID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtjYW52YXNTdGF0dXMsIHNldENhbnZhc1N0YXR1c10gPSB1c2VTdGF0ZShpc0NhbnZhc1Zpc2libGUpO1xuICBjb25zdCB7IHNldHRpbmdzLCB1cGRhdGVTZXR0aW5ncyB9ID0gdXNlQWRtaW5TZXR0aW5ncygpO1xuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbY3VycmVudFNldHRpbmdzLCBzZXRDdXJyZW50U2V0dGluZ3NdID0gdXNlU3RhdGUoeyB0aW1lc19zZXRfcmFuZG9tOiAxLCBkZWxheV9zZXRfcmFuZG9tOiAzIH0pO1xuICBjb25zdCBpc1VwZGF0aW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICAvLyBNZW1vaXplZCBmdW5jdGlvbiB0byBmZXRjaCBzZXR0aW5nc1xuICBjb25zdCBmZXRjaFNldHRpbmdzID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgIGlmICghdXNlcklkIHx8IGlzVXBkYXRpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBpc1VwZGF0aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVlcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlclNldHRpbmdzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKHVzZXJTZXR0aW5ncyAmJiAodXNlclNldHRpbmdzLnRpbWVzX3NldF9yYW5kb20gfHwgdXNlclNldHRpbmdzLmRlbGF5X3NldF9yYW5kb20pKSB7XG4gICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyh1c2VyU2V0dGluZ3MpO1xuICAgICAgICBpZiAodXBkYXRlU2V0dGluZ3MpIHtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVTZXR0aW5ncyh1c2VyU2V0dGluZ3MsIHVzZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVG9wQmFyIC0gRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc1VwZGF0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIFt1cGRhdGVTZXR0aW5nc10pO1xuXG4gIGNvbnN0IGVuc3VyZUNhbnZhc0F2YWlsYWJsZSA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBjYW52YXNcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyYWNraW5nLWNhbnZhcycpO1xuICAgIFxuICAgIGlmICghY2FudmFzKSB7XG4gICAgICAvLyBDcmVhdGUgY2FudmFzIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgY2FudmFzLmNsYXNzTmFtZSA9ICd0cmFja2luZy1jYW52YXMnO1xuICAgICAgY2FudmFzLmlkID0gJ3RyYWNraW5nLWNhbnZhcyc7XG4gICAgICBjYW52YXMud2lkdGggPSA4MDA7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gNDAwO1xuICAgICAgY2FudmFzLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogNDAwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBgO1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIHdpdGggeWVsbG93IGJhY2tncm91bmRcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd5ZWxsb3cnO1xuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIEFwcGVuZCB0byBhcHByb3ByaWF0ZSBjb250YWluZXJcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1jb250ZW50JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICB9XG4gICAgXG4gICAgLy8gU3RvcmUgZ2xvYmFsIHJlZmVyZW5jZVxuICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICByZXR1cm4gY2FudmFzO1xuICB9O1xuXG4gIC8vIERlYm91bmNlZCBzYXZlIHNldHRpbmdzIGZ1bmN0aW9uXG4gIGNvbnN0IGRlYm91bmNlZFNhdmVTZXR0aW5ncyA9IHVzZUNhbGxiYWNrKFxuICAgIGRlYm91bmNlKGFzeW5jICh1c2VySWQsIG5ld1NldHRpbmdzKSA9PiB7XG4gICAgICBpZiAoIXVzZXJJZCB8fCBpc1VwZGF0aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgaXNVcGRhdGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdTZXR0aW5ncylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNhdmUgc2V0dGluZ3MgdG8gYmFja2VuZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGF0ZXN0U2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhsYXRlc3RTZXR0aW5ncyk7XG4gICAgICAgIGlmICh1cGRhdGVTZXR0aW5ncykge1xuICAgICAgICAgIGF3YWl0IHVwZGF0ZVNldHRpbmdzKGxhdGVzdFNldHRpbmdzLCB1c2VySWQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUb3BCYXIgLSBFcnJvciBzYXZpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNVcGRhdGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSwgNTAwKSxcbiAgICBbdXBkYXRlU2V0dGluZ3NdXG4gICk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB1c2VyIElEIGFuZCBmZXRjaCBpbml0aWFsIHNldHRpbmdzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbGl6ZVVzZXJJZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQodXNlcklkKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTZXR0aW5ncyh1c2VySWQpO1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgaW5pdGlhbGl6ZVVzZXJJZCgpO1xuICB9LCBbZmV0Y2hTZXR0aW5nc10pO1xuXG4gIC8vIFVwZGF0ZSBjYW52YXMgc3RhdHVzIHdoZW4gcHJvcCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0Q2FudmFzU3RhdHVzKGlzQ2FudmFzVmlzaWJsZSk7XG4gIH0sIFtpc0NhbnZhc1Zpc2libGVdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHVzZXIgSUQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbD8udXNlcklkKSB7XG4gICAgICAgIGNvbnN0IG5ld1VzZXJJZCA9IGV2ZW50LmRldGFpbC51c2VySWQ7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQobmV3VXNlcklkKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTZXR0aW5ncyhuZXdVc2VySWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gIH0sIFtmZXRjaFNldHRpbmdzXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBzZXR0aW5ncyB1cGRhdGVzIGZyb20gYWRtaW4gcGFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsPy50eXBlID09PSAnY2FwdHVyZVNldHRpbmdzJykge1xuICAgICAgICBjb25zdCB7IHVzZXJJZCwgdGltZXNfc2V0X3JhbmRvbSwgZGVsYXlfc2V0X3JhbmRvbSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBcbiAgICAgICAgLy8gT25seSB1cGRhdGUgaWYgdmFsdWVzIGhhdmUgYWN0dWFsbHkgY2hhbmdlZFxuICAgICAgICBpZiAodGltZXNfc2V0X3JhbmRvbSAhPT0gY3VycmVudFNldHRpbmdzLnRpbWVzX3NldF9yYW5kb20gfHwgZGVsYXlfc2V0X3JhbmRvbSAhPT0gY3VycmVudFNldHRpbmdzLmRlbGF5X3NldF9yYW5kb20pIHtcbiAgICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHRpbWVzX3NldF9yYW5kb206IE51bWJlcih0aW1lc19zZXRfcmFuZG9tKSB8fCBjdXJyZW50U2V0dGluZ3MudGltZXNfc2V0X3JhbmRvbSxcbiAgICAgICAgICAgIGRlbGF5X3NldF9yYW5kb206IE51bWJlcihkZWxheV9zZXRfcmFuZG9tKSB8fCBjdXJyZW50U2V0dGluZ3MuZGVsYXlfc2V0X3JhbmRvbVxuICAgICAgICAgIH07XG4gICAgICAgICAgZGVib3VuY2VkU2F2ZVNldHRpbmdzKHVzZXJJZCwgbmV3U2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gIH0sIFtjdXJyZW50U2V0dGluZ3MsIGRlYm91bmNlZFNhdmVTZXR0aW5nc10pO1xuICBcbiAgY29uc3QgaGFuZGxlQnV0dG9uQ2xpY2sgPSAoYWN0aW9uVHlwZSkgPT4ge1xuICAgIC8vIEVuc3VyZSBjYW52YXMgaXMgYXZhaWxhYmxlIGJlZm9yZSB0cmlnZ2VyaW5nIGFjdGlvbnMgdGhhdCBuZWVkIGl0XG4gICAgaWYgKFsnc2V0UmFuZG9tJywgJ2NhbGlicmF0ZScsICdyYW5kb21Eb3QnLCAnY2xlYXJBbGwnXS5pbmNsdWRlcyhhY3Rpb25UeXBlKSkge1xuICAgICAgY29uc3QgY2FudmFzID0gZW5zdXJlQ2FudmFzQXZhaWxhYmxlKCk7XG4gICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICBjb25zb2xlLndhcm4oYENhbnZhcyBub3QgYXZhaWxhYmxlIGZvciBhY3Rpb246ICR7YWN0aW9uVHlwZX1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKG9uQnV0dG9uQ2xpY2spIHtcbiAgICAgIG9uQnV0dG9uQ2xpY2soYWN0aW9uVHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVRvcEJhciA9ICgpID0+IHtcbiAgICBvblRvZ2dsZVRvcEJhcighaXNUb3BCYXJTaG93bik7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVUb2dnbGVNZXRyaWNzID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdUb3BCYXI6IGhhbmRsZVRvZ2dsZU1ldHJpY3MgY2FsbGVkJyk7XG4gICAgLy8gVXNlIGFjdGlvbiBoYW5kbGVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGxiYWNrIHRvIGRpcmVjdCB0b2dnbGVcbiAgICBpZiAob25CdXR0b25DbGljaykge1xuICAgICAgY29uc29sZS5sb2coJ1RvcEJhcjogVXNpbmcgYWN0aW9uIGhhbmRsZXIgZm9yIG1ldHJpY3MnKTtcbiAgICAgIG9uQnV0dG9uQ2xpY2soJ21ldHJpY3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ1RvcEJhcjogVXNpbmcgZGlyZWN0IHRvZ2dsZSBmb3IgbWV0cmljcycpO1xuICAgICAgb25Ub2dnbGVNZXRyaWNzKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUdvQmFjayA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnLycpO1xuICB9O1xuXG4gIGNvbnN0IHN0YXR1c01lc3NhZ2UgPSBgVG9wQmFyICR7aXNUb3BCYXJTaG93biA/ICdzaG93bicgOiAnaGlkZGVuJ30sIENhbnZhczogJHtjYW52YXNTdGF0dXMgPyAnVmlzaWJsZScgOiAnSGlkZGVuJ31gO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0b3BiYXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wYmFyLWxlZnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvXCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImxvZ28tdGV4dFwiPkxvZ288L2gxPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2xzLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1ncm91cFwiIGtleT17YHRpbWVzLSR7Y3VycmVudFNldHRpbmdzLnRpbWVzX3NldF9yYW5kb219LSR7RGF0ZS5ub3coKX1gfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj5UaW1lKHMpOjwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0LWZpZWxkXCI+e2N1cnJlbnRTZXR0aW5ncy50aW1lc19zZXRfcmFuZG9tfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1ncm91cFwiIGtleT17YGRlbGF5LSR7Y3VycmVudFNldHRpbmdzLmRlbGF5X3NldF9yYW5kb219LSR7RGF0ZS5ub3coKX1gfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj5EZWxheShzKTo8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dC1maWVsZFwiPntjdXJyZW50U2V0dGluZ3MuZGVsYXlfc2V0X3JhbmRvbX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3BiYXItbWlkZGxlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWdyb3Vwc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1yb3dcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYmFjay1idXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdvQmFja31cbiAgICAgICAgICAgICAgICB0aXRsZT1cIkdvIGJhY2sgdG8gaG9tZSBwYWdlXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdzZXRSYW5kb20nKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNldCBSYW5kb21cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygnY2FsaWJyYXRlJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTZXQgQ2FsaWJyYXRlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnODBweCcgfX0+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygncmFuZG9tRG90Jyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBSYW5kb20gRG90XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ2NsZWFyQWxsJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDbGVhciBBbGxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcGJhci1kaXZpZGVyXCI+PC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ2hlYWRQb3NlJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBEcmF3IEhlYWQgcG9zZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdib3VuZGluZ0JveCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2hvdyBCb3VuZGluZyBCb3hcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygncHJldmlldycpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2hvdyBQcmV2aWV3XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ21hc2snKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIPCfmIogU2hvdyBNYXNrXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ3BhcmFtZXRlcnMnKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3BiYXItcmlnaHRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub3Rlcy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwib3V0cHV0LWRpc3BsYXlcIlxuICAgICAgICAgICAgdGl0bGU9XCJQcm9jZXNzaW5nIE91dHB1dFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3N0YXR1c01lc3NhZ2V9XG4gICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgIHtvdXRwdXRUZXh0IHx8IFwiUHJvY2Vzc2luZyBvdXRwdXQgd2lsbCBhcHBlYXIgaGVyZS4uLlwifVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1idXR0b25zXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24tYnRuIG1lbnUtYnRuXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVRvcEJhcn1cbiAgICAgICAgICAgIHRpdGxlPVwiVG9nZ2xlIFRvcEJhclwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBwYWRkaW5nOiAnNXB4IDEwcHgnLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA2NmNjJyxcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICc1cHgnXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tdGV4dFwiPuKJoTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbi1idG4gYWxlcnQtYnRuXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZU1ldHJpY3N9XG4gICAgICAgICAgICB0aXRsZT17YCR7c2hvd01ldHJpY3MgPyAnSGlkZScgOiAnU2hvdyd9IE1ldHJpY3NgfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzaG93TWV0cmljcyA/ICcjMDBjYzAwJyA6ICcjZmY5OTAwJyxcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwLjJzIGVhc2UnXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tdGV4dFwiPntzaG93TWV0cmljcyA/ICfinJMnIDogJyEnfTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuYWN0aXZlLXRvZ2dsZSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5pY29uLWJ0biB7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmljb24tYnRuOmhvdmVyIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjg7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRvcEJhcjsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlUm91dGVyIiwidXNlQWRtaW5TZXR0aW5ncyIsImdldE9yQ3JlYXRlVXNlcklkIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiZXhlY3V0ZWRGdW5jdGlvbiIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJUb3BCYXIiLCJvbkJ1dHRvbkNsaWNrIiwib25DYW1lcmFBY2Nlc3MiLCJvdXRwdXRUZXh0Iiwib25PdXRwdXRDaGFuZ2UiLCJvblRvZ2dsZVRvcEJhciIsIm9uVG9nZ2xlTWV0cmljcyIsImNhbnZhc1JlZiIsImlzVG9wQmFyU2hvd24iLCJpc0NhbnZhc1Zpc2libGUiLCJzaG93TWV0cmljcyIsInJvdXRlciIsImNhbnZhc1N0YXR1cyIsInNldENhbnZhc1N0YXR1cyIsInNldHRpbmdzIiwidXBkYXRlU2V0dGluZ3MiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImN1cnJlbnRTZXR0aW5ncyIsInNldEN1cnJlbnRTZXR0aW5ncyIsInRpbWVzX3NldF9yYW5kb20iLCJkZWxheV9zZXRfcmFuZG9tIiwiaXNVcGRhdGluZ1JlZiIsImZldGNoU2V0dGluZ3MiLCJ1c2VySWQiLCJjdXJyZW50IiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiRXJyb3IiLCJ1c2VyU2V0dGluZ3MiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwiZW5zdXJlQ2FudmFzQXZhaWxhYmxlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlkIiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsImNzc1RleHQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjb250YWluZXIiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ3aW5kb3ciLCJ3aGl0ZVNjcmVlbkNhbnZhcyIsImRlYm91bmNlZFNhdmVTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImxhdGVzdFNldHRpbmdzIiwiaW5pdGlhbGl6ZVVzZXJJZCIsImhhbmRsZVVzZXJJZENoYW5nZSIsImV2ZW50IiwiZGV0YWlsIiwibmV3VXNlcklkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTZXR0aW5nc1VwZGF0ZSIsInR5cGUiLCJOdW1iZXIiLCJoYW5kbGVCdXR0b25DbGljayIsImFjdGlvblR5cGUiLCJpbmNsdWRlcyIsIndhcm4iLCJoYW5kbGVUb2dnbGVUb3BCYXIiLCJoYW5kbGVUb2dnbGVNZXRyaWNzIiwibG9nIiwiaGFuZGxlR29CYWNrIiwicHVzaCIsInN0YXR1c01lc3NhZ2UiLCJkaXYiLCJoMSIsInNwYW4iLCJEYXRlIiwibm93IiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwibWFyZ2luUmlnaHQiLCJiciIsInBhZGRpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImZvbnRTaXplIiwiY3Vyc29yIiwidHJhbnNpdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/index.js":
/*!*****************************************************!*\
  !*** ./pages/collected-dataset-customized/index.js ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionButton: () => (/* binding */ ActionButton),\n/* harmony export */   MainComponent: () => (/* binding */ MainComponent),\n/* harmony export */   \"default\": () => (/* binding */ MainPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/head */ \"(pages-dir-node)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-node)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_gui_topBar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components-gui/topBar */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js\");\n/* harmony import */ var _components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components-gui/displayResponse */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_countSave_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Action/countSave.jsx */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.jsx\");\n/* harmony import */ var _components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_CalibratePoints_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Action/CalibratePoints.jsx */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.jsx\");\n/* harmony import */ var _components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../components/consent_ui/ConsentContext */ \"(pages-dir-node)/./components/consent_ui/ConsentContext.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _components_gui_adminSettings__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components-gui/adminSettings */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_gui_topBar__WEBPACK_IMPORTED_MODULE_5__, _components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_10__]);\n([_components_gui_topBar__WEBPACK_IMPORTED_MODULE_5__, _components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_10__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Dynamically import the camera component with SSR disabled\nconst DynamicCameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_4___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-node_pages_collected-dataset-customized_components-gui_cameraAccess_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/cameraAccess */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/cameraAccess\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                backgroundColor: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 36,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 37,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n            lineNumber: 19,\n            columnNumber: 7\n        }, undefined)\n});\n// Add deep comparison utility\nconst isEqual = (obj1, obj2)=>{\n    if (obj1 === obj2) return true;\n    if (typeof obj1 !== 'object' || typeof obj2 !== 'object') return false;\n    if (obj1 === null || obj2 === null) return false;\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    return keys1.every((key)=>keys2.includes(key) && isEqual(obj1[key], obj2[key]));\n};\n// Create a basic ActionButton component with optimization\nconst ActionButton = ({ text, abbreviatedText, onClick, customClass = '', disabled = false, active = false })=>{\n    const [isAbbreviated, setIsAbbreviated] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const { settings } = (0,_components_gui_adminSettings__WEBPACK_IMPORTED_MODULE_12__.useAdminSettings)();\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('default');\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    // Memoize button props to prevent unnecessary re-renders\n    const buttonProps = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"ActionButton.useMemo[buttonProps]\": ()=>({\n                className: `action-button ${customClass} ${isAbbreviated ? 'abbreviated' : ''} ${active ? 'active' : ''}`,\n                onClick,\n                disabled,\n                title: text\n            })\n    }[\"ActionButton.useMemo[buttonProps]\"], [\n        customClass,\n        isAbbreviated,\n        active,\n        onClick,\n        disabled,\n        text\n    ]);\n    // Check window size and set abbreviated mode with debounce\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            if (true) return;\n            let timeoutId;\n            const handleResize = {\n                \"ActionButton.useEffect.handleResize\": ()=>{\n                    clearTimeout(timeoutId);\n                    timeoutId = setTimeout({\n                        \"ActionButton.useEffect.handleResize\": ()=>{\n                            const width = window.innerWidth;\n                            setIsAbbreviated(width < 768);\n                        }\n                    }[\"ActionButton.useEffect.handleResize\"], 100);\n                }\n            }[\"ActionButton.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            handleResize(); // Initial call\n            return ({\n                \"ActionButton.useEffect\": ()=>{\n                    window.removeEventListener('resize', handleResize);\n                    clearTimeout(timeoutId);\n                }\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], []);\n    // Add effect to listen for user ID changes with optimization\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"ActionButton.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        const newUserId = event.detail.userId;\n                        if (newUserId !== currentUserId) {\n                            setCurrentUserId(newUserId);\n                        }\n                    }\n                }\n            }[\"ActionButton.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"ActionButton.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], [\n        currentUserId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        ...buttonProps,\n        children: [\n            isAbbreviated ? abbreviatedText : text,\n            processStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"process-status\",\n                children: processStatus\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 121,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n        lineNumber: 118,\n        columnNumber: 5\n    }, undefined);\n};\n// Global Canvas Manager - Single source of truth for canvas operations\nclass GlobalCanvasManager {\n    constructor(){\n        this.canvas = null;\n        this.originalState = null;\n        this.resizeObserver = null;\n        this.isFullscreen = false;\n        this.isInitialized = false;\n    }\n    // Get or create the single main canvas\n    getCanvas() {\n        if (this.canvas && this.canvas.parentNode) {\n            return this.canvas;\n        }\n        // Try to find existing canvas\n        let canvas = document.querySelector('#tracking-canvas');\n        if (!canvas) {\n            // Create new canvas only if none exists\n            canvas = document.createElement('canvas');\n            canvas.className = 'tracking-canvas';\n            canvas.id = 'tracking-canvas';\n            console.log('Created new main canvas');\n        } else {\n            console.log('Found existing main canvas');\n        }\n        this.canvas = canvas;\n        return canvas;\n    }\n    // Initialize the main canvas\n    initializeCanvas(container = null) {\n        if (this.isInitialized) {\n            console.log('Canvas already initialized');\n            return this.getCanvas();\n        }\n        const canvas = this.getCanvas();\n        if (!canvas) return null;\n        // Determine container\n        const targetContainer = container || document.querySelector('.canvas-container') || document.querySelector('.main-content') || document.body;\n        // Set initial dimensions based on current window size\n        this.updateCanvasSize(canvas, targetContainer);\n        // Initialize with yellow background\n        const ctx = canvas.getContext('2d');\n        ctx.fillStyle = 'yellow';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        // Add to container if not already there\n        if (!canvas.parentNode) {\n            targetContainer.appendChild(canvas);\n        }\n        // Remove placeholder if it exists\n        const placeholder = document.querySelector('#canvas-placeholder');\n        if (placeholder && placeholder.parentNode) {\n            placeholder.parentNode.removeChild(placeholder);\n        }\n        // Store global reference\n        window.whiteScreenCanvas = canvas;\n        window.globalCanvasManager = this;\n        // Set up responsive behavior\n        this.setupResponsiveCanvas(canvas, targetContainer);\n        this.isInitialized = true;\n        console.log(`Main canvas initialized: ${canvas.width}x${canvas.height}`);\n        return canvas;\n    }\n    // Update canvas size to match container and window size\n    updateCanvasSize(canvas, container) {\n        if (!canvas || !container) return;\n        // Get current window dimensions\n        const windowWidth = window.innerWidth || 800;\n        const windowHeight = window.innerHeight || 600;\n        // Get container dimensions\n        const rect = container.getBoundingClientRect();\n        const containerWidth = rect.width || container.clientWidth || windowWidth;\n        const containerHeight = rect.height || container.clientHeight || windowHeight;\n        // Set canvas size to match container and window\n        canvas.width = containerWidth;\n        canvas.height = containerHeight;\n        // Update CSS to match\n        canvas.style.width = '100%';\n        canvas.style.height = '100%';\n        canvas.style.display = 'block';\n        canvas.style.backgroundColor = 'yellow';\n        // Link with other canvases if they exist\n        this.linkWithOtherCanvases(canvas);\n    }\n    // Link this canvas with other canvases\n    linkWithOtherCanvases(canvas) {\n        // Find all other canvases on the page\n        const allCanvases = document.querySelectorAll('canvas');\n        allCanvases.forEach((otherCanvas)=>{\n            if (otherCanvas !== canvas && otherCanvas.id !== 'tracking-canvas') {\n                // Sync dimensions with other canvases\n                otherCanvas.width = canvas.width;\n                otherCanvas.height = canvas.height;\n                otherCanvas.style.width = '100%';\n                otherCanvas.style.height = '100%';\n                // Clear and redraw other canvases\n                const ctx = otherCanvas.getContext('2d');\n                ctx.fillStyle = 'yellow';\n                ctx.fillRect(0, 0, otherCanvas.width, otherCanvas.height);\n            }\n        });\n    }\n    // Set up responsive canvas that adapts to container size\n    setupResponsiveCanvas(canvas, container) {\n        if (!canvas || !container) return;\n        // Remove existing resize observer\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n        }\n        // Create new resize observer\n        this.resizeObserver = new ResizeObserver((entries)=>{\n            for (const entry of entries){\n                if (entry.target === container) {\n                    this.updateCanvasSize(canvas, container);\n                    // Redraw yellow background after resize\n                    const ctx = canvas.getContext('2d');\n                    ctx.fillStyle = 'yellow';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                }\n            }\n        });\n        // Observe container for size changes\n        this.resizeObserver.observe(container);\n        // Also listen for window resize as fallback\n        const handleWindowResize = ()=>{\n            this.updateCanvasSize(canvas, container);\n            const ctx = canvas.getContext('2d');\n            ctx.fillStyle = 'yellow';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n        };\n        window.addEventListener('resize', handleWindowResize);\n        canvas._windowResizeHandler = handleWindowResize;\n    }\n    // Switch to fullscreen mode\n    enterFullscreen() {\n        const canvas = this.getCanvas();\n        if (!canvas) return null;\n        // Save original state\n        this.originalState = {\n            parent: canvas.parentElement,\n            position: canvas.style.position,\n            top: canvas.style.top,\n            left: canvas.style.left,\n            width: canvas.style.width,\n            height: canvas.style.height,\n            zIndex: canvas.style.zIndex\n        };\n        // Remove canvas from current parent\n        if (canvas.parentNode) {\n            canvas.parentNode.removeChild(canvas);\n        }\n        // Move to body and make fullscreen\n        document.body.appendChild(canvas);\n        // Set fullscreen styles\n        canvas.style.cssText = `\n      position: fixed !important;\n      top: 0 !important;\n      left: 0 !important;\n      width: 100vw !important;\n      height: 100vh !important;\n      z-index: 10;\n      background-color: yellow !important;\n      border: none !important;\n      display: block !important;\n      opacity: 1 !important;\n      pointer-events: auto !important;\n      margin: 0 !important;\n      padding: 0 !important;\n      box-sizing: border-box !important;\n      transform: none !important;\n    `;\n        // Set canvas dimensions to window size\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n        // Clear with yellow background\n        const ctx = canvas.getContext('2d');\n        ctx.fillStyle = 'yellow';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        // Hide UI elements\n        this.hideUIElements();\n        this.isFullscreen = true;\n        console.log('Main canvas entered fullscreen mode');\n        return canvas;\n    }\n    // Exit fullscreen mode\n    exitFullscreen() {\n        const canvas = this.getCanvas();\n        if (!canvas || !this.originalState) return null;\n        // Show UI elements\n        this.showUIElements();\n        // Find appropriate container\n        const container = document.querySelector('.canvas-container') || document.querySelector('.main-content') || document.body;\n        // Move canvas back to container\n        container.appendChild(canvas);\n        // Restore original styles\n        canvas.style.position = 'relative';\n        canvas.style.top = '';\n        canvas.style.left = '';\n        canvas.style.width = '100%';\n        canvas.style.height = '100%';\n        canvas.style.zIndex = '';\n        canvas.style.backgroundColor = 'yellow';\n        // Update size to match container\n        this.updateCanvasSize(canvas, container);\n        // Clear with yellow background\n        const ctx = canvas.getContext('2d');\n        ctx.fillStyle = 'yellow';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        // Clear original state\n        this.originalState = null;\n        this.isFullscreen = false;\n        console.log('Main canvas exited fullscreen mode');\n        return canvas;\n    }\n    // Hide UI elements during fullscreen\n    hideUIElements() {\n        const elementsToHide = [\n            '.topbar',\n            '.canvas-container',\n            '.main-content',\n            '.metrics-panel',\n            '.display-metrics',\n            'nav',\n            'header',\n            '.button-groups',\n            '.control-buttons'\n        ];\n        elementsToHide.forEach((selector)=>{\n            const elements = document.querySelectorAll(selector);\n            elements.forEach((el)=>{\n                el.style.display = 'none';\n                el.setAttribute('data-hidden-by-canvas', 'true');\n            });\n        });\n    }\n    // Show UI elements after fullscreen\n    showUIElements() {\n        const hiddenElements = document.querySelectorAll('[data-hidden-by-canvas=\"true\"]');\n        hiddenElements.forEach((el)=>{\n            el.style.display = '';\n            el.removeAttribute('data-hidden-by-canvas');\n        });\n    }\n    // Clear canvas content\n    clear() {\n        const canvas = this.getCanvas();\n        if (!canvas) return;\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'yellow';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        console.log('Canvas cleared with yellow background');\n    }\n    // Draw dot at position\n    drawDot(x, y, radius = 12) {\n        const canvas = this.getCanvas();\n        if (!canvas) return false;\n        const ctx = canvas.getContext('2d');\n        (0,_components_collected_dataset_customized_Action_countSave_jsx__WEBPACK_IMPORTED_MODULE_7__.drawRedDot)(ctx, x, y, radius, false);\n        return true;\n    }\n    // Get canvas dimensions\n    getDimensions() {\n        const canvas = this.getCanvas();\n        if (!canvas) return {\n            width: 0,\n            height: 0\n        };\n        return {\n            width: canvas.width,\n            height: canvas.height\n        };\n    }\n    // Check if canvas is in fullscreen mode\n    isInFullscreen() {\n        return this.isFullscreen;\n    }\n    // Cleanup\n    destroy() {\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n        }\n        if (this.canvas && this.canvas._windowResizeHandler) {\n            window.removeEventListener('resize', this.canvas._windowResizeHandler);\n        }\n        // Remove canvas completely from DOM\n        if (this.canvas && this.canvas.parentNode) {\n            this.canvas.parentNode.removeChild(this.canvas);\n        }\n        this.canvas = null;\n        this.originalState = null;\n        this.isFullscreen = false;\n        this.isInitialized = false;\n    }\n}\n// Main component that combines all functionality\nconst MainComponent = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(({ triggerCameraAccess, isCompactMode, onActionClick }, ref)=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_11__.useRouter)();\n    const { userId: consentUserId } = (0,_components_consent_ui_ConsentContext__WEBPACK_IMPORTED_MODULE_10__.useConsent)();\n    const { settings, updateSettings } = (0,_components_gui_adminSettings__WEBPACK_IMPORTED_MODULE_12__.useAdminSettings)(ref);\n    // State management\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [isHydrated, setIsHydrated] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [backendStatus, setBackendStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('checking');\n    const [showTopBar, setShowTopBar] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [showWarning, setShowWarning] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [warningMessage, setWarningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [outputText, setOutputText] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [showMetrics, setShowMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [cameraPermissionGranted, setCameraPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showCamera, setShowCamera] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showCameraPlaceholder, setShowCameraPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [windowSize, setWindowSize] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        width: 0,\n        height: 0,\n        percentage: 100\n    });\n    const [metrics, setMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        width: '---',\n        height: '---',\n        distance: '---'\n    });\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [captureFolder, setCaptureFolder] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('default');\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isPageActive, setIsPageActive] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [captureCount, setCaptureCount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    // Button action states\n    const [randomTimes, setRandomTimes] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [delaySeconds, setDelaySeconds] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(3);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [countdownValue, setCountdownValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [currentDot, setCurrentDot] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [calibrationPoints, setCalibrationPoints] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [remainingCaptures, setRemainingCaptures] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [showCanvas, setShowCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [calibrationHandler, setCalibrationHandler] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [isCameraActive, setIsCameraActive] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Refs\n    const previewAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const actionButtonGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // Add cache for settings\n    const settingsCache = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(new Map());\n    const lastSettingsUpdate = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(new Map());\n    // Global canvas manager instance - initialize only once\n    const canvasManager = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"MainComponent.useMemo[canvasManager]\": ()=>{\n            // Create a singleton canvas manager\n            if (false) {}\n            const manager = new GlobalCanvasManager();\n            // Store globally for other components to use\n            if (false) {}\n            return manager;\n        }\n    }[\"MainComponent.useMemo[canvasManager]\"], []);\n    // Utility function to easily manage canvas operations\n    const canvasUtils = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"MainComponent.useMemo[canvasUtils]\": ()=>({\n                // Get or create canvas\n                getCanvas: ({\n                    \"MainComponent.useMemo[canvasUtils]\": ()=>canvasManager.getCanvas()\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Enter fullscreen mode\n                enterFullscreen: ({\n                    \"MainComponent.useMemo[canvasUtils]\": ()=>{\n                        return canvasManager.enterFullscreen();\n                    }\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Exit fullscreen mode\n                exitFullscreen: ({\n                    \"MainComponent.useMemo[canvasUtils]\": ()=>{\n                        return canvasManager.exitFullscreen();\n                    }\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Clear canvas\n                clear: ({\n                    \"MainComponent.useMemo[canvasUtils]\": ()=>{\n                        canvasManager.clear();\n                    }\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Draw dot at position\n                drawDot: ({\n                    \"MainComponent.useMemo[canvasUtils]\": (x, y, radius = 12)=>{\n                        return canvasManager.drawDot(x, y, radius);\n                    }\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Get canvas dimensions\n                getDimensions: ({\n                    \"MainComponent.useMemo[canvasUtils]\": ()=>{\n                        return canvasManager.getDimensions();\n                    }\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Check if canvas is in fullscreen\n                isFullscreen: ({\n                    \"MainComponent.useMemo[canvasUtils]\": ()=>canvasManager.isInFullscreen()\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Update canvas size to match container and window\n                resizeToContainer: ({\n                    \"MainComponent.useMemo[canvasUtils]\": (container)=>{\n                        const canvas = canvasManager.getCanvas();\n                        if (!canvas || !container) return false;\n                        // Get current window dimensions\n                        const windowWidth = window.innerWidth || 800;\n                        const windowHeight = window.innerHeight || 600;\n                        const rect = container.getBoundingClientRect();\n                        canvas.width = rect.width || container.clientWidth || windowWidth;\n                        canvas.height = rect.height || container.clientHeight || windowHeight;\n                        // Clear and redraw yellow background\n                        const ctx = canvas.getContext('2d');\n                        ctx.fillStyle = 'yellow';\n                        ctx.fillRect(0, 0, canvas.width, canvas.height);\n                        // Link with other canvases\n                        canvasManager.linkWithOtherCanvases(canvas);\n                        return true;\n                    }\n                })[\"MainComponent.useMemo[canvasUtils]\"],\n                // Link with other canvases\n                linkWithOtherCanvases: ({\n                    \"MainComponent.useMemo[canvasUtils]\": (canvas)=>{\n                        canvasManager.linkWithOtherCanvases(canvas);\n                    }\n                })[\"MainComponent.useMemo[canvasUtils]\"]\n            })\n    }[\"MainComponent.useMemo[canvasUtils]\"], [\n        canvasManager\n    ]);\n    // Make canvas utilities globally available\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            if (false) {}\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    if (false) {}\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], [\n        canvasUtils,\n        canvasManager\n    ]);\n    // Set hydrated state after mount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            setIsHydrated(true);\n            // Reset any existing canvas to prevent size accumulation\n            if (false) {}\n            // Cleanup function to reset page state when navigating away\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    // Reset any global styles or state that might affect other pages\n                    if (false) {}\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], []);\n    // Handle page visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            const handleVisibilityChange = {\n                \"MainComponent.useEffect.handleVisibilityChange\": ()=>{\n                    if (document.hidden) {\n                        // Set page as inactive\n                        setIsPageActive(false);\n                        // Page is hidden, cleanup any resources\n                        cleanupPageStyles();\n                    } else {\n                        // Page is visible again, set as active\n                        setIsPageActive(true);\n                    }\n                }\n            }[\"MainComponent.useEffect.handleVisibilityChange\"];\n            const handleBeforeUnload = {\n                \"MainComponent.useEffect.handleBeforeUnload\": ()=>{\n                    // Set page as inactive\n                    setIsPageActive(false);\n                    // Cleanup when page is about to unload\n                    cleanupPageStyles();\n                }\n            }[\"MainComponent.useEffect.handleBeforeUnload\"];\n            const cleanupPageStyles = {\n                \"MainComponent.useEffect.cleanupPageStyles\": ()=>{\n                    if (false) {}\n                }\n            }[\"MainComponent.useEffect.cleanupPageStyles\"];\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            window.addEventListener('beforeunload', handleBeforeUnload);\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                    window.removeEventListener('beforeunload', handleBeforeUnload);\n                    // Cleanup on unmount\n                    cleanupPageStyles();\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], []);\n    // Handle router events for cleanup\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            const handleRouteChangeStart = {\n                \"MainComponent.useEffect.handleRouteChangeStart\": ()=>{\n                    // Set page as inactive\n                    setIsPageActive(false);\n                    // Cleanup when navigation starts\n                    if (false) {}\n                }\n            }[\"MainComponent.useEffect.handleRouteChangeStart\"];\n            router.events.on('routeChangeStart', handleRouteChangeStart);\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    router.events.off('routeChangeStart', handleRouteChangeStart);\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], [\n        router\n    ]);\n    // Load user data\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            const loadUserData = {\n                \"MainComponent.useEffect.loadUserData\": async ()=>{\n                    if (!router.isReady) return;\n                    try {\n                        if (router.query.userData) {\n                            const parsedData = JSON.parse(router.query.userData);\n                            setUserData(parsedData);\n                            return;\n                        }\n                        if (router.query.userId) {\n                            const response = await fetch(`/api/user-preferences/${router.query.userId}`, {\n                                headers: {\n                                    'Accept': 'application/json',\n                                    'Content-Type': 'application/json',\n                                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                                }\n                            });\n                            if (!response.ok) {\n                                throw new Error('Failed to fetch user data');\n                            }\n                            const data = await response.json();\n                            setUserData(data);\n                        }\n                    } catch (err) {\n                        console.error('Error loading user data:', err);\n                        setError(err.message);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"MainComponent.useEffect.loadUserData\"];\n            loadUserData();\n        }\n    }[\"MainComponent.useEffect\"], [\n        router.isReady,\n        router.query\n    ]);\n    // Check backend connection\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            const checkBackendConnection = {\n                \"MainComponent.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendStatus(data.connected ? 'connected' : 'disconnected');\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendStatus('disconnected');\n                    }\n                }\n            }[\"MainComponent.useEffect.checkBackendConnection\"];\n            if (isHydrated) {\n                checkBackendConnection();\n            }\n        }\n    }[\"MainComponent.useEffect\"], [\n        isHydrated\n    ]);\n    // Update window size\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            const updateDimensions = {\n                \"MainComponent.useEffect.updateDimensions\": ()=>{\n                    if (previewAreaRef.current) {\n                        const width = previewAreaRef.current.offsetWidth;\n                        const height = previewAreaRef.current.offsetHeight;\n                        const screenPercentage = window.innerWidth / window.screen.width * 100;\n                        setMetrics({\n                            \"MainComponent.useEffect.updateDimensions\": (prev)=>({\n                                    ...prev,\n                                    width,\n                                    height\n                                })\n                        }[\"MainComponent.useEffect.updateDimensions\"]);\n                        setWindowSize({\n                            width: window.innerWidth,\n                            height: window.innerHeight,\n                            percentage: Math.round(screenPercentage)\n                        });\n                        // Update canvas size when window size changes\n                        if (canvasManager && isPageActive) {\n                            const canvas = canvasManager.getCanvas();\n                            if (canvas) {\n                                canvasManager.updateCanvasSize(canvas, previewAreaRef.current);\n                            }\n                        }\n                    }\n                }\n            }[\"MainComponent.useEffect.updateDimensions\"];\n            if (isHydrated) {\n                updateDimensions();\n                window.addEventListener('resize', updateDimensions);\n                return ({\n                    \"MainComponent.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n                })[\"MainComponent.useEffect\"];\n            }\n        }\n    }[\"MainComponent.useEffect\"], [\n        isHydrated,\n        canvasManager,\n        isPageActive\n    ]);\n    // Initialize canvas on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            // Only initialize canvas if page is active\n            if (!isPageActive) return;\n            // Initialize the global canvas manager\n            const canvas = canvasManager.initializeCanvas();\n            console.log('Global canvas initialized:', canvas ? 'success' : 'failed');\n            // Ensure canvas has yellow background\n            if (canvas) {\n                const ctx = canvas.getContext('2d');\n                ctx.fillStyle = 'yellow';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                // Sync all canvases after initialization\n                setTimeout({\n                    \"MainComponent.useEffect\": ()=>{\n                        canvasManager.linkWithOtherCanvases(canvas);\n                    }\n                }[\"MainComponent.useEffect\"], 100);\n            }\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    // Cleanup canvas on component unmount\n                    if (false) {}\n                    console.log('MainComponent cleanup - canvas removed');\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], [\n        canvasManager,\n        isPageActive\n    ]);\n    // Optimize settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            if (settings && currentUserId && settings[currentUserId]) {\n                const userSettings = settings[currentUserId];\n                const cachedSettings = settingsCache.current.get(currentUserId);\n                if (!isEqual(cachedSettings, userSettings)) {\n                    setRandomTimes(Number(userSettings.times_set_random) || 1);\n                    setDelaySeconds(Number(userSettings.delay_set_random) || 3);\n                    settingsCache.current.set(currentUserId, userSettings);\n                    lastSettingsUpdate.current.set(currentUserId, Date.now());\n                }\n            }\n        }\n    }[\"MainComponent.useEffect\"], [\n        settings,\n        currentUserId\n    ]);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"MainComponent.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        // Update settings for new user\n                        if (settings && settings[newUserId]) {\n                            const userSettings = settings[newUserId];\n                            setRandomTimes(Number(userSettings.times_set_random) || 1);\n                            setDelaySeconds(Number(userSettings.delay_set_random) || 3);\n                        }\n                    }\n                }\n            }[\"MainComponent.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], [\n        settings\n    ]);\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"MainComponent.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times_set_random, delay_set_random } = event.detail;\n                        if (userId === currentUserId) {\n                            if (times_set_random !== undefined) {\n                                const newTimes = Number(times_set_random) || 1;\n                                setRandomTimes(newTimes);\n                            }\n                            if (delay_set_random !== undefined) {\n                                const newDelay = Number(delay_set_random) || 3;\n                                setDelaySeconds(newDelay);\n                            }\n                        }\n                    }\n                }\n            }[\"MainComponent.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], [\n        currentUserId\n    ]);\n    // Make functions globally accessible\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            if (false) {}\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    if (false) {}\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], [\n        canvasManager,\n        canvasUtils\n    ]);\n    // Make toggleTopBar function available globally\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"MainComponent.useEffect\": ()=>{\n            if (false) {}\n            return ({\n                \"MainComponent.useEffect\": ()=>{\n                    if (false) {}\n                }\n            })[\"MainComponent.useEffect\"];\n        }\n    }[\"MainComponent.useEffect\"], []);\n    // Action handlers\n    const handleRandomDot = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Import and use RandomDotAction\n            const { default: RandomDotAction } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_components_collected-dataset-customized_Action_RandomDotAction_jsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/RandomDotAction.jsx */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/RandomDotAction.jsx\"));\n            // Ensure canvas is available\n            const canvas = canvasManager.getCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available\");\n            }\n            const randomDotAction = new RandomDotAction({\n                canvasRef: {\n                    current: canvas\n                },\n                toggleTopBar: (show)=>{\n                    setShowTopBar(show);\n                    if (typeof onActionClick === 'function') {\n                        onActionClick('toggleTopBar', show);\n                    }\n                },\n                setIsCapturing: (capturing)=>{\n                    setIsCapturing(capturing);\n                    console.log('RandomDotAction: isCapturing set to', capturing);\n                },\n                setProcessStatus: (status)=>{\n                    setProcessStatus(status);\n                    console.log('RandomDotAction: processStatus set to', status);\n                },\n                setCurrentDot: (dot)=>{\n                    setCurrentDot(dot);\n                    console.log('RandomDotAction: currentDot set to', dot);\n                },\n                triggerCameraAccess,\n                onStatusUpdate: (status)=>{\n                    if (status.processStatus) setProcessStatus(status.processStatus);\n                    if (status.isCapturing !== undefined) setIsCapturing(status.isCapturing);\n                },\n                saveImageToServer: true,\n                setCaptureCounter,\n                captureCounter: captureCounter\n            });\n            await randomDotAction.handleRandomDot();\n        } catch (error) {\n            console.error('Random dot error:', error);\n            setProcessStatus(`Error: ${error.message}`);\n            setIsCapturing(false);\n        }\n    };\n    const handleSetRandom = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Import and use SetRandomAction\n            const { default: SetRandomAction } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_components_collected-dataset-customized_Action_SetRandomAction_jsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/SetRandomAction.jsx */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/SetRandomAction.jsx\"));\n            // Ensure canvas is available\n            const canvas = canvasManager.getCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available\");\n            }\n            const setRandomAction = new SetRandomAction({\n                canvasRef: {\n                    current: canvas\n                },\n                onStatusUpdate: (status)=>{\n                    if (status.processStatus) setProcessStatus(status.processStatus);\n                    if (status.isCapturing !== undefined) setIsCapturing(status.isCapturing);\n                    if (status.remainingCaptures !== undefined) setRemainingCaptures(status.remainingCaptures);\n                },\n                setCaptureCounter,\n                toggleTopBar: (show)=>{\n                    setShowTopBar(show);\n                    if (typeof onActionClick === 'function') {\n                        onActionClick('toggleTopBar', show);\n                    }\n                },\n                captureCounter: captureCounter,\n                triggerCameraAccess,\n                setIsCapturing: (capturing)=>{\n                    setIsCapturing(capturing);\n                    console.log('SetRandomAction: isCapturing set to', capturing);\n                },\n                setProcessStatus: (status)=>{\n                    setProcessStatus(status);\n                    console.log('SetRandomAction: processStatus set to', status);\n                }\n            });\n            await setRandomAction.handleAction();\n        } catch (error) {\n            console.error(\"Random sequence error:\", error);\n            setProcessStatus(`Random sequence failed: ${error.message}`);\n            setIsCapturing(false);\n        }\n    };\n    const handleSetCalibrate = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Ensure canvas is initialized first\n            const canvas = canvasManager.getCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available\");\n            }\n            // Import and use SetCalibrateAction\n            const { default: SetCalibrateAction } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_components_collected-dataset-customized_Action_SetCalibrateAction_jsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/SetCalibrateAction.jsx */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/SetCalibrateAction.jsx\"));\n            const setCalibrateAction = new SetCalibrateAction({\n                canvasRef: {\n                    current: canvas\n                },\n                toggleTopBar: (show)=>{\n                    setShowTopBar(show);\n                    if (typeof onActionClick === 'function') {\n                        onActionClick('toggleTopBar', show);\n                    }\n                },\n                setIsCapturing: (capturing)=>{\n                    setIsCapturing(capturing);\n                    console.log('SetCalibrateAction: isCapturing set to', capturing);\n                },\n                setProcessStatus: (status)=>{\n                    setProcessStatus(status);\n                    console.log('SetCalibrateAction: processStatus set to', status);\n                },\n                setCurrentDot: (dot)=>{\n                    setCurrentDot(dot);\n                    console.log('SetCalibrateAction: currentDot set to', dot);\n                },\n                triggerCameraAccess,\n                onStatusUpdate: (status)=>{\n                    if (status.processStatus) setProcessStatus(status.processStatus);\n                    if (status.isCapturing !== undefined) setIsCapturing(status.isCapturing);\n                },\n                saveImageToServer: true,\n                setCaptureCounter,\n                captureCounter: captureCounter\n            });\n            await setCalibrateAction.handleSetCalibrate();\n        } catch (error) {\n            console.error(\"Calibration error:\", error);\n            setProcessStatus(`Calibration error: ${error.message}`);\n            setIsCapturing(false);\n        }\n    };\n    const handleClearAll = ()=>{\n        // Clear canvas content\n        canvasManager.clear();\n        // Reset states\n        setProcessStatus('');\n        setRemainingCaptures(0);\n        setIsCapturing(false);\n        setCountdownValue(null);\n        setShowCanvas(true);\n        setCurrentDot(null);\n        console.log('Clear All: Reset all states');\n    };\n    // Toggle functions\n    const handleToggleHeadPose = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleToggleHeadPose]\": ()=>{\n            const newHeadPoseState = !showHeadPose;\n            setShowHeadPose(newHeadPoseState);\n            setProcessStatus(`Head pose visualization ${newHeadPoseState ? 'enabled' : 'disabled'}`);\n            if (onActionClick) {\n                onActionClick('headPose');\n            }\n            if (false) {}\n        }\n    }[\"MainComponent.useCallback[handleToggleHeadPose]\"], [\n        showHeadPose,\n        onActionClick\n    ]);\n    const handleToggleBoundingBox = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleToggleBoundingBox]\": ()=>{\n            const newBoundingBoxState = !showBoundingBox;\n            setShowBoundingBox(newBoundingBoxState);\n            setProcessStatus(`Bounding box ${newBoundingBoxState ? 'shown' : 'hidden'}`);\n            if (onActionClick) {\n                onActionClick('boundingBox');\n            }\n            if (false) {}\n        }\n    }[\"MainComponent.useCallback[handleToggleBoundingBox]\"], [\n        showBoundingBox,\n        onActionClick\n    ]);\n    const handleToggleMask = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleToggleMask]\": ()=>{\n            const newMaskState = !showMask;\n            setShowMask(newMaskState);\n            setProcessStatus(`Mask ${newMaskState ? 'shown' : 'hidden'}`);\n            if (onActionClick) {\n                onActionClick('mask');\n            }\n            if (false) {}\n        }\n    }[\"MainComponent.useCallback[handleToggleMask]\"], [\n        showMask,\n        onActionClick\n    ]);\n    const handleToggleParameters = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleToggleParameters]\": ()=>{\n            const newParametersState = !showParameters;\n            setShowParameters(newParametersState);\n            setProcessStatus(`Parameters ${newParametersState ? 'shown' : 'hidden'}`);\n            if (onActionClick) {\n                onActionClick('parameters');\n            }\n            if (false) {}\n        }\n    }[\"MainComponent.useCallback[handleToggleParameters]\"], [\n        showParameters,\n        onActionClick\n    ]);\n    const handleToggleCamera = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleToggleCamera]\": ()=>{\n            const newCameraState = !isCameraActive;\n            setIsCameraActive(newCameraState);\n            setShowCamera(newCameraState); // Link the camera display state with the active state\n            if (onActionClick) {\n                onActionClick('preview', newCameraState);\n            } else {\n                setShowPermissionPopup(true);\n            }\n            if (newCameraState && \"undefined\" !== 'undefined' && 0) {}\n        }\n    }[\"MainComponent.useCallback[handleToggleCamera]\"], [\n        isCameraActive,\n        showCamera,\n        onActionClick,\n        showHeadPose,\n        showBoundingBox,\n        showMask,\n        showParameters\n    ]);\n    // Add a proper action handler for camera preview\n    const handleActionClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleActionClick]\": (actionType, ...args)=>{\n            switch(actionType){\n                case 'preview':\n                    const shouldShow = args[0] !== undefined ? args[0] : !showCamera;\n                    setShowCamera(shouldShow);\n                    setIsCameraActive(shouldShow);\n                    setProcessStatus(shouldShow ? 'Camera preview started' : 'Camera preview stopped');\n                    break;\n                case 'headPose':\n                    handleToggleHeadPose();\n                    break;\n                case 'boundingBox':\n                    handleToggleBoundingBox();\n                    break;\n                case 'mask':\n                    handleToggleMask();\n                    break;\n                case 'parameters':\n                    handleToggleParameters();\n                    break;\n                case 'metrics':\n                    console.log('Metrics toggle clicked, current state:', showMetrics);\n                    setShowMetrics(!showMetrics);\n                    setProcessStatus(`Metrics ${!showMetrics ? 'shown' : 'hidden'}`);\n                    break;\n                case 'randomDot':\n                    console.log('Random Dot button clicked');\n                    handleRandomDot();\n                    break;\n                case 'setRandom':\n                    console.log('Set Random button clicked');\n                    handleSetRandom();\n                    break;\n                case 'calibrate':\n                    console.log('Set Calibrate button clicked');\n                    handleSetCalibrate();\n                    break;\n                case 'clearAll':\n                    console.log('Clear All button clicked');\n                    handleClearAll();\n                    break;\n                case 'toggleTopBar':\n                    const show = args[0] !== undefined ? args[0] : !showTopBar;\n                    setShowTopBar(show);\n                    break;\n                default:\n                    console.log('Unknown action type:', actionType);\n                    break;\n            }\n        }\n    }[\"MainComponent.useCallback[handleActionClick]\"], [\n        showCamera,\n        showMetrics,\n        showTopBar,\n        handleToggleHeadPose,\n        handleToggleBoundingBox,\n        handleToggleMask,\n        handleToggleParameters,\n        handleRandomDot,\n        handleSetRandom,\n        handleSetCalibrate,\n        handleClearAll\n    ]);\n    // Camera permission handlers\n    const handlePermissionAccepted = ()=>{\n        setShowPermissionPopup(false);\n        if (triggerCameraAccess) {\n            triggerCameraAccess(true);\n        }\n    };\n    const handlePermissionDenied = ()=>{\n        setShowPermissionPopup(false);\n        setProcessStatus('Camera access denied');\n    };\n    // Handle camera close\n    const handleCameraClose = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleCameraClose]\": ()=>{\n            setShowCamera(false);\n            setIsCameraActive(false);\n            setProcessStatus('Camera preview stopped');\n        }\n    }[\"MainComponent.useCallback[handleCameraClose]\"], []);\n    // Handle camera ready\n    const handleCameraReady = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"MainComponent.useCallback[handleCameraReady]\": (dimensions)=>{\n            setMetrics({\n                width: dimensions.width,\n                height: dimensions.height,\n                distance: dimensions.distance || '---'\n            });\n            setOutputText(`Camera ready: ${dimensions.width}x${dimensions.height}`);\n            setProcessStatus('Camera preview active');\n        }\n    }[\"MainComponent.useCallback[handleCameraReady]\"], []);\n    // Add back button handler\n    const handleGoBack = ()=>{\n        router.push('/');\n    };\n    // Dynamic class to reflect current window size\n    const getSizeClass = ()=>{\n        const { percentage } = windowSize;\n        if (percentage < 35) return 'window-size-tiny';\n        if (percentage < 50) return 'window-size-small';\n        if (percentage < 70) return 'window-size-medium';\n        return 'window-size-large';\n    };\n    // Expose functions via ref\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useImperativeHandle)(ref, {\n        \"MainComponent.useImperativeHandle\": ()=>({\n                handleRandomDot,\n                handleSetRandom,\n                handleSetCalibrate,\n                handleClearAll,\n                handleToggleHeadPose,\n                handleToggleBoundingBox,\n                handleToggleMask,\n                handleToggleParameters,\n                handleToggleCamera\n            })\n    }[\"MainComponent.useImperativeHandle\"]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `main-container collected-dataset-customized-page ${getSizeClass()}`,\n        style: {\n            height: '100vh',\n            width: '100vw',\n            overflow: 'hidden',\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            margin: 0,\n            padding: 0\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        className: \"jsx-2b2456cd71359df6\",\n                        children: \"Camera Dataset Collection\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1413,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\",\n                        className: \"jsx-2b2456cd71359df6\"\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1414,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                        id: \"2b2456cd71359df6\",\n                        children: \".collected-dataset-customized-page.jsx-2b2456cd71359df6{height:100vh;width:100vw;overflow:hidden;position:fixed;top:0;left:0;margin:0;padding:0;z-index:4}\"\n                    }, void 0, false, void 0, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1412,\n                columnNumber: 7\n            }, undefined),\n            isHydrated && backendStatus === 'disconnected' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    padding: '6px 0',\n                    backgroundColor: '#ffe0b2',\n                    color: '#e65100',\n                    textAlign: 'center',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    zIndex: 110\n                },\n                children: \"⚠️ Backend disconnected. Hurry up, Make ONLINE please and Using mock mode\"\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1432,\n                columnNumber: 9\n            }, undefined),\n            isHydrated && showWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"warning-banner\",\n                style: {\n                    position: 'fixed',\n                    top: showTopBar ? backendStatus === 'disconnected' ? '32px' : '60px' : '0',\n                    left: '0',\n                    width: '100%',\n                    backgroundColor: '#ffeb3b',\n                    color: '#333',\n                    padding: '10px',\n                    textAlign: 'center',\n                    boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                    zIndex: 101,\n                    animation: 'fadeIn 0.3s ease-in-out'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                    children: [\n                        \"⚠️ \",\n                        warningMessage\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1464,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1451,\n                columnNumber: 9\n            }, undefined),\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"loading-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Loading user settings...\"\n                }, void 0, false, {\n                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1470,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1469,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            position: 'fixed',\n                            top: 0,\n                            left: 0,\n                            right: 0,\n                            zIndex: 100,\n                            height: '120px'\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_topBar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            onButtonClick: handleActionClick,\n                            onCameraAccess: ()=>setShowPermissionPopup(true),\n                            outputText: statusMessage || outputText,\n                            onOutputChange: (text)=>setOutputText(text),\n                            onToggleTopBar: (show)=>setShowTopBar(show),\n                            onToggleMetrics: ()=>setShowMetrics(!showMetrics),\n                            canvasRef: {\n                                current: canvasManager.getCanvas()\n                            },\n                            showMetrics: showMetrics,\n                            isTopBarShown: showTopBar,\n                            isCanvasVisible: showCanvas\n                        }, `topbar-${showTopBar}-${showMetrics}`, false, {\n                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                            lineNumber: 1484,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1476,\n                        columnNumber: 13\n                    }, undefined),\n                    !showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"restore-button-container\",\n                        style: {\n                            position: 'fixed',\n                            top: '10px',\n                            right: '10px',\n                            zIndex: 1000\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"restore-btn\",\n                            onClick: ()=>setShowTopBar(true),\n                            title: \"Show TopBar and Metrics\",\n                            style: {\n                                padding: '5px 10px',\n                                background: '#0066cc',\n                                color: 'white',\n                                border: 'none',\n                                borderRadius: '4px',\n                                fontSize: '16px',\n                                cursor: 'pointer'\n                            },\n                            children: \"≡\"\n                        }, void 0, false, {\n                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                            lineNumber: 1508,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1502,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: previewAreaRef,\n                        className: \"camera-preview-area\",\n                        style: {\n                            height: showTopBar ? 'calc(100vh - 120px)' : '100vh',\n                            marginTop: backendStatus === 'disconnected' ? '32px' : '0',\n                            position: 'absolute',\n                            top: 0,\n                            left: 0,\n                            right: 0,\n                            bottom: 0,\n                            backgroundColor: '#f5f5f5',\n                            overflow: 'hidden',\n                            zIndex: 1\n                        },\n                        children: [\n                            !showCamera ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"camera-preview-message\",\n                                        style: {\n                                            padding: '20px',\n                                            textAlign: 'center',\n                                            position: 'absolute',\n                                            top: '50%',\n                                            left: '50%',\n                                            transform: 'translate(-50%, -50%)',\n                                            width: '100%',\n                                            maxWidth: '600px',\n                                            zIndex: 5,\n                                            pointerEvents: 'none'\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                style: {\n                                                    margin: '0 0 10px 0',\n                                                    fontSize: '16px'\n                                                },\n                                                children: \"Camera preview will appear here\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1558,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"camera-size-indicator\",\n                                                style: {\n                                                    margin: '0',\n                                                    fontSize: '14px',\n                                                    color: '#666'\n                                                },\n                                                children: [\n                                                    \"Current window: \",\n                                                    windowSize.percentage,\n                                                    \"% of screen width\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1559,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            isHydrated && showCameraPlaceholder && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"camera-placeholder-square\",\n                                                style: {\n                                                    width: '180px',\n                                                    height: '135px',\n                                                    margin: '20px auto',\n                                                    border: '2px dashed #666',\n                                                    borderRadius: '4px',\n                                                    backgroundColor: '#f5f5f5',\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    justifyContent: 'center',\n                                                    pointerEvents: 'none'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: '1.5rem'\n                                                    },\n                                                    children: \"\\uD83D\\uDCF7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                    lineNumber: 1580,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1565,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1546,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"canvas-container\",\n                                        style: {\n                                            position: 'absolute',\n                                            top: 0,\n                                            left: 0,\n                                            width: '100%',\n                                            height: '100%',\n                                            backgroundColor: 'yellow',\n                                            overflow: 'hidden',\n                                            border: 'none',\n                                            zIndex: 10,\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            pointerEvents: 'auto'\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            id: \"canvas-placeholder\",\n                                            style: {\n                                                width: '100%',\n                                                height: '100%',\n                                                backgroundColor: 'yellow',\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                justifyContent: 'center'\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                style: {\n                                                    color: '#666',\n                                                    fontSize: '14px'\n                                                },\n                                                children: \"Canvas ready for eye tracking\"\n                                            }, void 0, false, {\n                                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1613,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1605,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1586,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : null,\n                            isHydrated && showMetrics && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                width: metrics.width,\n                                height: metrics.height,\n                                distance: metrics.distance,\n                                isVisible: showMetrics\n                            }, void 0, false, {\n                                fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1623,\n                                columnNumber: 15\n                            }, undefined),\n                            console.log('Rendering DisplayResponse, showMetrics:', showMetrics, 'isHydrated:', isHydrated),\n                            isHydrated && \"undefined\" !== 'undefined' && 0 && /*#__PURE__*/ 0,\n                            isHydrated && \"undefined\" !== 'undefined' && 0 && /*#__PURE__*/ 0\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1528,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n        lineNumber: 1402,\n        columnNumber: 5\n    }, undefined);\n});\n// Create a client-only version of MainComponent\nconst MainComponentClient = next_dynamic__WEBPACK_IMPORTED_MODULE_4___default()(()=>Promise.resolve(MainComponent), {\n    ssr: false\n});\n// Export the main component\nfunction MainPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MainComponentClient, {}, void 0, false, {\n        fileName: \"/app/pages/collected-dataset-customized/index.js\",\n        lineNumber: 1729,\n        columnNumber: 10\n    }, this);\n}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtIO0FBQ3JGO0FBQ007QUFDVTtBQUNrQjtBQUM4RztBQUN4RTtBQUNnQjtBQUM3QztBQUNoQztBQUMwQjtBQUVsRSw0REFBNEQ7QUFDNUQsTUFBTXNCLHNCQUFzQmIsbURBQU9BLENBQ2pDLElBQU0sMlNBQXVDOzs7Ozs7SUFFM0NjLEtBQUs7SUFDTEMsU0FBUyxrQkFDUCw4REFBQ0M7WUFBSUMsT0FBTztnQkFDVkMsVUFBVTtnQkFDVkMsS0FBSztnQkFDTEMsTUFBTTtnQkFDTkMsV0FBVztnQkFDWEMsT0FBTztnQkFDUEMsUUFBUTtnQkFDUkMsaUJBQWlCO2dCQUNqQkMsUUFBUTtnQkFDUkMsY0FBYztnQkFDZEMsU0FBUztnQkFDVEMsZUFBZTtnQkFDZkMsZ0JBQWdCO2dCQUNoQkMsWUFBWTtnQkFDWkMsV0FBVztnQkFDWEMsUUFBUTtZQUNWOzs4QkFDRSw4REFBQ2hCO29CQUFJQyxPQUFPO3dCQUFFZ0IsVUFBVTt3QkFBUUMsY0FBYztvQkFBTzs4QkFBRzs7Ozs7OzhCQUN4RCw4REFBQ0M7b0JBQUVsQixPQUFPO3dCQUFFZ0IsVUFBVTt3QkFBUUcsWUFBWTt3QkFBUUMsT0FBTztvQkFBVTs4QkFBRzs7Ozs7Ozs7Ozs7OztBQVE5RSw4QkFBOEI7QUFDOUIsTUFBTUMsVUFBVSxDQUFDQyxNQUFNQztJQUNyQixJQUFJRCxTQUFTQyxNQUFNLE9BQU87SUFDMUIsSUFBSSxPQUFPRCxTQUFTLFlBQVksT0FBT0MsU0FBUyxVQUFVLE9BQU87SUFDakUsSUFBSUQsU0FBUyxRQUFRQyxTQUFTLE1BQU0sT0FBTztJQUUzQyxNQUFNQyxRQUFRQyxPQUFPQyxJQUFJLENBQUNKO0lBQzFCLE1BQU1LLFFBQVFGLE9BQU9DLElBQUksQ0FBQ0g7SUFFMUIsSUFBSUMsTUFBTUksTUFBTSxL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Q2xCO3NEQUNFLDRFQUFDTTtnREFBRWxCLE9BQU87b0RBQUVvQixPQUFPO29EQUFRSixVQUFVO2dEQUFPOzBEQUFHOzs7Ozs7Ozs7Ozs7Ozs7OzsrQ0FNbkQ7NEJBR0g0SSxjQUFjYyw2QkFDYiw4REFBQ3pMLHVFQUFlQTtnQ0FDZG9CLE9BQU8wTCxRQUFRMUwsS0FBSztnQ0FDcEJDLFFBQVF5TCxRQUFRekwsTUFBTTtnQ0FDdEIyTCxVQUFVRixRQUFRRSxRQUFRO2dDQUMxQmdLLFdBQVd2TDs7Ozs7OzRCQUdkMUYsUUFBUUMsR0FBRyxDQUFDLDJDQUEyQ3lGLGFBQWEsZUFBZWQ7NEJBR25GQSxjQUFjLGdCQUFrQixlQUFlb0IsQ0FBVUEsa0JBQ3hEOzRCQWNEcEIsY0FBYyxnQkFBa0IsZUFBZWdCLENBQW1CQSxrQkFDakU7Ozs7Ozs7Ozs7Ozs7OztBQXlFZDtBQUVBLGdEQUFnRDtBQUNoRCxNQUFNNEwsc0JBQXNCelgsbURBQU9BLENBQUMsSUFBTTBYLFFBQVFDLE9BQU8sQ0FBQzVOLGdCQUFnQjtJQUFFakosS0FBSztBQUFNO0FBRXZGLDRCQUE0QjtBQUNiLFNBQVM4VztJQUN0QixxQkFBTyw4REFBQ0g7Ozs7O0FBQ1Y7QUFFdUMiLCJzb3VyY2VzIjpbIi9hcHAvcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IFRvcEJhciBmcm9tICcuL2NvbXBvbmVudHMtZ3VpL3RvcEJhcic7XG5pbXBvcnQgRGlzcGxheVJlc3BvbnNlIGZyb20gJy4vY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlJztcbmltcG9ydCB7IHNob3dDYXB0dXJlUHJldmlldywgZHJhd1JlZERvdCwgZ2V0UmFuZG9tUG9zaXRpb24sIGNyZWF0ZUNvdW50ZG93bkVsZW1lbnQsIHJ1bkNvdW50ZG93biB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlLmpzeCc7XG5pbXBvcnQgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUnO1xuaW1wb3J0IHsgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzLmpzeCc7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb25zZW50X3VpL0NvbnNlbnRDb250ZXh0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHVzZUFkbWluU2V0dGluZ3MgfSBmcm9tICcuL2NvbXBvbmVudHMtZ3VpL2FkbWluU2V0dGluZ3MnO1xuXG4vLyBEeW5hbWljYWxseSBpbXBvcnQgdGhlIGNhbWVyYSBjb21wb25lbnQgd2l0aCBTU1IgZGlzYWJsZWRcbmNvbnN0IER5bmFtaWNDYW1lcmFBY2Nlc3MgPSBkeW5hbWljKFxuICAoKSA9PiBpbXBvcnQoJy4vY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzJyksXG4gIHsgXG4gICAgc3NyOiBmYWxzZSxcbiAgICBsb2FkaW5nOiAoKSA9PiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgICAgd2lkdGg6ICc0ODBweCcsXG4gICAgICAgIGhlaWdodDogJzM2MHB4JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2YwZjhmZicsXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjMDA2NmNjJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgekluZGV4OiA5OTlcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnNDhweCcsIG1hcmdpbkJvdHRvbTogJzE1cHgnIH19PvCfk7c8L2Rpdj5cbiAgICAgICAgPHAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JywgZm9udFdlaWdodDogJ2JvbGQnLCBjb2xvcjogJyMwMDY2Y2MnIH19PlxuICAgICAgICAgIExvYWRpbmcgY2FtZXJhLi4uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuKTtcblxuLy8gQWRkIGRlZXAgY29tcGFyaXNvbiB1dGlsaXR5XG5jb25zdCBpc0VxdWFsID0gKG9iajEsIG9iajIpID0+IHtcbiAgaWYgKG9iajEgPT09IG9iajIpIHJldHVybiB0cnVlO1xuICBpZiAodHlwZW9mIG9iajEgIT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmoyICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICBpZiAob2JqMSA9PT0gbnVsbCB8fCBvYmoyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIFxuICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICBcbiAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIFxuICByZXR1cm4ga2V5czEuZXZlcnkoa2V5ID0+IFxuICAgIGtleXMyLmluY2x1ZGVzKGtleSkgJiYgaXNFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSlcbiAgKTtcbn07XG5cbi8vIENyZWF0ZSBhIGJhc2ljIEFjdGlvbkJ1dHRvbiBjb21wb25lbnQgd2l0aCBvcHRpbWl6YXRpb25cbmNvbnN0IEFjdGlvbkJ1dHRvbiA9ICh7IHRleHQsIGFiYnJldmlhdGVkVGV4dCwgb25DbGljaywgY3VzdG9tQ2xhc3MgPSAnJywgZGlzYWJsZWQgPSBmYWxzZSwgYWN0aXZlID0gZmFsc2UgfSkgPT4ge1xuICBjb25zdCBbaXNBYmJyZXZpYXRlZCwgc2V0SXNBYmJyZXZpYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgc2V0dGluZ3MgfSA9IHVzZUFkbWluU2V0dGluZ3MoKTtcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGUoJ2RlZmF1bHQnKTtcbiAgY29uc3QgW2lzQ2FwdHVyaW5nLCBzZXRJc0NhcHR1cmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjYXB0dXJlQ291bnRlciwgc2V0Q2FwdHVyZUNvdW50ZXJdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtwcm9jZXNzU3RhdHVzLCBzZXRQcm9jZXNzU3RhdHVzXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvLyBNZW1vaXplIGJ1dHRvbiBwcm9wcyB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlLXJlbmRlcnNcbiAgY29uc3QgYnV0dG9uUHJvcHMgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgY2xhc3NOYW1lOiBgYWN0aW9uLWJ1dHRvbiAke2N1c3RvbUNsYXNzfSAke2lzQWJicmV2aWF0ZWQgPyAnYWJicmV2aWF0ZWQnIDogJyd9ICR7YWN0aXZlID8gJ2FjdGl2ZScgOiAnJ31gLFxuICAgIG9uQ2xpY2ssXG4gICAgZGlzYWJsZWQsXG4gICAgdGl0bGU6IHRleHRcbiAgfSksIFtjdXN0b21DbGFzcywgaXNBYmJyZXZpYXRlZCwgYWN0aXZlLCBvbkNsaWNrLCBkaXNhYmxlZCwgdGV4dF0pO1xuXG4gIC8vIENoZWNrIHdpbmRvdyBzaXplIGFuZCBzZXQgYWJicmV2aWF0ZWQgbW9kZSB3aXRoIGRlYm91bmNlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBzZXRJc0FiYnJldmlhdGVkKHdpZHRoIDwgNzY4KTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgICBoYW5kbGVSZXNpemUoKTsgLy8gSW5pdGlhbCBjYWxsXG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEFkZCBlZmZlY3QgdG8gbGlzdGVuIGZvciB1c2VyIElEIGNoYW5nZXMgd2l0aCBvcHRpbWl6YXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVVc2VySWRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICd1c2VySWRDaGFuZ2UnKSB7XG4gICAgICAgIGNvbnN0IG5ld1VzZXJJZCA9IGV2ZW50LmRldGFpbC51c2VySWQ7XG4gICAgICAgIGlmIChuZXdVc2VySWQgIT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgICAgICBzZXRDdXJyZW50VXNlcklkKG5ld1VzZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtjdXJyZW50VXNlcklkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uIHsuLi5idXR0b25Qcm9wc30+XG4gICAgICB7aXNBYmJyZXZpYXRlZCA/IGFiYnJldmlhdGVkVGV4dCA6IHRleHR9XG4gICAgICB7cHJvY2Vzc1N0YXR1cyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvY2Vzcy1zdGF0dXNcIj5cbiAgICAgICAgICB7cHJvY2Vzc1N0YXR1c31cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcblxuLy8gR2xvYmFsIENhbnZhcyBNYW5hZ2VyIC0gU2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgY2FudmFzIG9wZXJhdGlvbnNcbmNsYXNzIEdsb2JhbENhbnZhc01hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbFN0YXRlID0gbnVsbDtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICB0aGlzLmlzRnVsbHNjcmVlbiA9IGZhbHNlO1xuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG5cbiAgLy8gR2V0IG9yIGNyZWF0ZSB0aGUgc2luZ2xlIG1haW4gY2FudmFzXG4gIGdldENhbnZhcygpIHtcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMucGFyZW50Tm9kZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FudmFzO1xuICAgIH1cbiAgICBcbiAgICAvLyBUcnkgdG8gZmluZCBleGlzdGluZyBjYW52YXNcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyYWNraW5nLWNhbnZhcycpO1xuICAgIFxuICAgIGlmICghY2FudmFzKSB7XG4gICAgICAvLyBDcmVhdGUgbmV3IGNhbnZhcyBvbmx5IGlmIG5vbmUgZXhpc3RzXG4gICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNhbnZhcy5jbGFzc05hbWUgPSAndHJhY2tpbmctY2FudmFzJztcbiAgICAgIGNhbnZhcy5pZCA9ICd0cmFja2luZy1jYW52YXMnO1xuICAgICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgbmV3IG1haW4gY2FudmFzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBleGlzdGluZyBtYWluIGNhbnZhcycpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSB0aGUgbWFpbiBjYW52YXNcbiAgaW5pdGlhbGl6ZUNhbnZhcyhjb250YWluZXIgPSBudWxsKSB7XG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgY29uc29sZS5sb2coJ0NhbnZhcyBhbHJlYWR5IGluaXRpYWxpemVkJyk7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDYW52YXMoKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGNvbnRhaW5lclxuICAgIGNvbnN0IHRhcmdldENvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1jb250ZW50JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHk7XG5cbiAgICAvLyBTZXQgaW5pdGlhbCBkaW1lbnNpb25zIGJhc2VkIG9uIGN1cnJlbnQgd2luZG93IHNpemVcbiAgICB0aGlzLnVwZGF0ZUNhbnZhc1NpemUoY2FudmFzLCB0YXJnZXRDb250YWluZXIpO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgd2l0aCB5ZWxsb3cgYmFja2dyb3VuZFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAneWVsbG93JztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIC8vIEFkZCB0byBjb250YWluZXIgaWYgbm90IGFscmVhZHkgdGhlcmVcbiAgICBpZiAoIWNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICB0YXJnZXRDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgcGxhY2Vob2xkZXIgaWYgaXQgZXhpc3RzXG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzLXBsYWNlaG9sZGVyJyk7XG4gICAgaWYgKHBsYWNlaG9sZGVyICYmIHBsYWNlaG9sZGVyLnBhcmVudE5vZGUpIHtcbiAgICAgIHBsYWNlaG9sZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGxhY2Vob2xkZXIpO1xuICAgIH1cblxuICAgIC8vIFN0b3JlIGdsb2JhbCByZWZlcmVuY2VcbiAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXM7XG4gICAgd2luZG93Lmdsb2JhbENhbnZhc01hbmFnZXIgPSB0aGlzO1xuXG4gICAgLy8gU2V0IHVwIHJlc3BvbnNpdmUgYmVoYXZpb3JcbiAgICB0aGlzLnNldHVwUmVzcG9uc2l2ZUNhbnZhcyhjYW52YXMsIHRhcmdldENvbnRhaW5lcik7XG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKGBNYWluIGNhbnZhcyBpbml0aWFsaXplZDogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgLy8gVXBkYXRlIGNhbnZhcyBzaXplIHRvIG1hdGNoIGNvbnRhaW5lciBhbmQgd2luZG93IHNpemVcbiAgdXBkYXRlQ2FudmFzU2l6ZShjYW52YXMsIGNvbnRhaW5lcikge1xuICAgIGlmICghY2FudmFzIHx8ICFjb250YWluZXIpIHJldHVybjtcblxuICAgIC8vIEdldCBjdXJyZW50IHdpbmRvdyBkaW1lbnNpb25zXG4gICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCA4MDA7XG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IDYwMDtcbiAgICBcbiAgICAvLyBHZXQgY29udGFpbmVyIGRpbWVuc2lvbnNcbiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gcmVjdC53aWR0aCB8fCBjb250YWluZXIuY2xpZW50V2lkdGggfHwgd2luZG93V2lkdGg7XG4gICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gcmVjdC5oZWlnaHQgfHwgY29udGFpbmVyLmNsaWVudEhlaWdodCB8fCB3aW5kb3dIZWlnaHQ7XG5cbiAgICAvLyBTZXQgY2FudmFzIHNpemUgdG8gbWF0Y2ggY29udGFpbmVyIGFuZCB3aW5kb3dcbiAgICBjYW52YXMud2lkdGggPSBjb250YWluZXJXaWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0O1xuXG4gICAgLy8gVXBkYXRlIENTUyB0byBtYXRjaFxuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3llbGxvdyc7XG4gICAgXG4gICAgLy8gTGluayB3aXRoIG90aGVyIGNhbnZhc2VzIGlmIHRoZXkgZXhpc3RcbiAgICB0aGlzLmxpbmtXaXRoT3RoZXJDYW52YXNlcyhjYW52YXMpO1xuICB9XG5cbiAgLy8gTGluayB0aGlzIGNhbnZhcyB3aXRoIG90aGVyIGNhbnZhc2VzXG4gIGxpbmtXaXRoT3RoZXJDYW52YXNlcyhjYW52YXMpIHtcbiAgICAvLyBGaW5kIGFsbCBvdGhlciBjYW52YXNlcyBvbiB0aGUgcGFnZVxuICAgIGNvbnN0IGFsbENhbnZhc2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY2FudmFzJyk7XG4gICAgXG4gICAgYWxsQ2FudmFzZXMuZm9yRWFjaChvdGhlckNhbnZhcyA9PiB7XG4gICAgICBpZiAob3RoZXJDYW52YXMgIT09IGNhbnZhcyAmJiBvdGhlckNhbnZhcy5pZCAhPT0gJ3RyYWNraW5nLWNhbnZhcycpIHtcbiAgICAgICAgLy8gU3luYyBkaW1lbnNpb25zIHdpdGggb3RoZXIgY2FudmFzZXNcbiAgICAgICAgb3RoZXJDYW52YXMud2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICAgIG90aGVyQ2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIG90aGVyQ2FudmFzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBvdGhlckNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciBhbmQgcmVkcmF3IG90aGVyIGNhbnZhc2VzXG4gICAgICAgIGNvbnN0IGN0eCA9IG90aGVyQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAneWVsbG93JztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIG90aGVyQ2FudmFzLndpZHRoLCBvdGhlckNhbnZhcy5oZWlnaHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gU2V0IHVwIHJlc3BvbnNpdmUgY2FudmFzIHRoYXQgYWRhcHRzIHRvIGNvbnRhaW5lciBzaXplXG4gIHNldHVwUmVzcG9uc2l2ZUNhbnZhcyhjYW52YXMsIGNvbnRhaW5lcikge1xuICAgIGlmICghY2FudmFzIHx8ICFjb250YWluZXIpIHJldHVybjtcblxuICAgIC8vIFJlbW92ZSBleGlzdGluZyByZXNpemUgb2JzZXJ2ZXJcbiAgICBpZiAodGhpcy5yZXNpemVPYnNlcnZlcikge1xuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyByZXNpemUgb2JzZXJ2ZXJcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gY29udGFpbmVyKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVDYW52YXNTaXplKGNhbnZhcywgY29udGFpbmVyKTtcbiAgICAgICAgICAvLyBSZWRyYXcgeWVsbG93IGJhY2tncm91bmQgYWZ0ZXIgcmVzaXplXG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd5ZWxsb3cnO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBPYnNlcnZlIGNvbnRhaW5lciBmb3Igc2l6ZSBjaGFuZ2VzXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKGNvbnRhaW5lcik7XG5cbiAgICAvLyBBbHNvIGxpc3RlbiBmb3Igd2luZG93IHJlc2l6ZSBhcyBmYWxsYmFja1xuICAgIGNvbnN0IGhhbmRsZVdpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlQ2FudmFzU2l6ZShjYW52YXMsIGNvbnRhaW5lcik7XG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAneWVsbG93JztcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlV2luZG93UmVzaXplKTtcbiAgICBjYW52YXMuX3dpbmRvd1Jlc2l6ZUhhbmRsZXIgPSBoYW5kbGVXaW5kb3dSZXNpemU7XG4gIH1cblxuICAvLyBTd2l0Y2ggdG8gZnVsbHNjcmVlbiBtb2RlXG4gIGVudGVyRnVsbHNjcmVlbigpIHtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpO1xuICAgIGlmICghY2FudmFzKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIFNhdmUgb3JpZ2luYWwgc3RhdGVcbiAgICB0aGlzLm9yaWdpbmFsU3RhdGUgPSB7XG4gICAgICBwYXJlbnQ6IGNhbnZhcy5wYXJlbnRFbGVtZW50LFxuICAgICAgcG9zaXRpb246IGNhbnZhcy5zdHlsZS5wb3NpdGlvbixcbiAgICAgIHRvcDogY2FudmFzLnN0eWxlLnRvcCxcbiAgICAgIGxlZnQ6IGNhbnZhcy5zdHlsZS5sZWZ0LFxuICAgICAgd2lkdGg6IGNhbnZhcy5zdHlsZS53aWR0aCxcbiAgICAgIGhlaWdodDogY2FudmFzLnN0eWxlLmhlaWdodCxcbiAgICAgIHpJbmRleDogY2FudmFzLnN0eWxlLnpJbmRleFxuICAgIH07XG5cbiAgICAvLyBSZW1vdmUgY2FudmFzIGZyb20gY3VycmVudCBwYXJlbnRcbiAgICBpZiAoY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgIGNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNhbnZhcyk7XG4gICAgfVxuXG4gICAgLy8gTW92ZSB0byBib2R5IGFuZCBtYWtlIGZ1bGxzY3JlZW5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgXG4gICAgLy8gU2V0IGZ1bGxzY3JlZW4gc3R5bGVzXG4gICAgY2FudmFzLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDtcbiAgICAgIHRvcDogMCAhaW1wb3J0YW50O1xuICAgICAgbGVmdDogMCAhaW1wb3J0YW50O1xuICAgICAgd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7XG4gICAgICBoZWlnaHQ6IDEwMHZoICFpbXBvcnRhbnQ7XG4gICAgICB6LWluZGV4OiAxMDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdyAhaW1wb3J0YW50O1xuICAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XG4gICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50O1xuICAgICAgdHJhbnNmb3JtOiBub25lICFpbXBvcnRhbnQ7XG4gICAgYDtcblxuICAgIC8vIFNldCBjYW52YXMgZGltZW5zaW9ucyB0byB3aW5kb3cgc2l6ZVxuICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAvLyBDbGVhciB3aXRoIHllbGxvdyBiYWNrZ3JvdW5kXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd5ZWxsb3cnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgLy8gSGlkZSBVSSBlbGVtZW50c1xuICAgIHRoaXMuaGlkZVVJRWxlbWVudHMoKTtcblxuICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gdHJ1ZTtcbiAgICBjb25zb2xlLmxvZygnTWFpbiBjYW52YXMgZW50ZXJlZCBmdWxsc2NyZWVuIG1vZGUnKTtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgLy8gRXhpdCBmdWxsc2NyZWVuIG1vZGVcbiAgZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcbiAgICBpZiAoIWNhbnZhcyB8fCAhdGhpcy5vcmlnaW5hbFN0YXRlKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIFNob3cgVUkgZWxlbWVudHNcbiAgICB0aGlzLnNob3dVSUVsZW1lbnRzKCk7XG5cbiAgICAvLyBGaW5kIGFwcHJvcHJpYXRlIGNvbnRhaW5lclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tY29udGVudCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keTtcblxuICAgIC8vIE1vdmUgY2FudmFzIGJhY2sgdG8gY29udGFpbmVyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIHN0eWxlc1xuICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgY2FudmFzLnN0eWxlLnRvcCA9ICcnO1xuICAgIGNhbnZhcy5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgY2FudmFzLnN0eWxlLnpJbmRleCA9ICcnO1xuICAgIGNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAneWVsbG93JztcblxuICAgIC8vIFVwZGF0ZSBzaXplIHRvIG1hdGNoIGNvbnRhaW5lclxuICAgIHRoaXMudXBkYXRlQ2FudmFzU2l6ZShjYW52YXMsIGNvbnRhaW5lcik7XG5cbiAgICAvLyBDbGVhciB3aXRoIHllbGxvdyBiYWNrZ3JvdW5kXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd5ZWxsb3cnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgLy8gQ2xlYXIgb3JpZ2luYWwgc3RhdGVcbiAgICB0aGlzLm9yaWdpbmFsU3RhdGUgPSBudWxsO1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gZmFsc2U7XG5cbiAgICBjb25zb2xlLmxvZygnTWFpbiBjYW52YXMgZXhpdGVkIGZ1bGxzY3JlZW4gbW9kZScpO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICAvLyBIaWRlIFVJIGVsZW1lbnRzIGR1cmluZyBmdWxsc2NyZWVuXG4gIGhpZGVVSUVsZW1lbnRzKCkge1xuICAgIGNvbnN0IGVsZW1lbnRzVG9IaWRlID0gW1xuICAgICAgJy50b3BiYXInLFxuICAgICAgJy5jYW52YXMtY29udGFpbmVyJywgXG4gICAgICAnLm1haW4tY29udGVudCcsXG4gICAgICAnLm1ldHJpY3MtcGFuZWwnLFxuICAgICAgJy5kaXNwbGF5LW1ldHJpY3MnLFxuICAgICAgJ25hdicsXG4gICAgICAnaGVhZGVyJyxcbiAgICAgICcuYnV0dG9uLWdyb3VwcycsXG4gICAgICAnLmNvbnRyb2wtYnV0dG9ucydcbiAgICBdO1xuICAgIFxuICAgIGVsZW1lbnRzVG9IaWRlLmZvckVhY2goc2VsZWN0b3IgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGlkZGVuLWJ5LWNhbnZhcycsICd0cnVlJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFNob3cgVUkgZWxlbWVudHMgYWZ0ZXIgZnVsbHNjcmVlblxuICBzaG93VUlFbGVtZW50cygpIHtcbiAgICBjb25zdCBoaWRkZW5FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWhpZGRlbi1ieS1jYW52YXM9XCJ0cnVlXCJdJyk7XG4gICAgaGlkZGVuRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaGlkZGVuLWJ5LWNhbnZhcycpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ2xlYXIgY2FudmFzIGNvbnRlbnRcbiAgY2xlYXIoKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3llbGxvdyc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0NhbnZhcyBjbGVhcmVkIHdpdGggeWVsbG93IGJhY2tncm91bmQnKTtcbiAgfVxuXG4gIC8vIERyYXcgZG90IGF0IHBvc2l0aW9uXG4gIGRyYXdEb3QoeCwgeSwgcmFkaXVzID0gMTIpIHtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpO1xuICAgIGlmICghY2FudmFzKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgZHJhd1JlZERvdChjdHgsIHgsIHksIHJhZGl1cywgZmFsc2UpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gR2V0IGNhbnZhcyBkaW1lbnNpb25zXG4gIGdldERpbWVuc2lvbnMoKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0XG4gICAgfTtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIGNhbnZhcyBpcyBpbiBmdWxsc2NyZWVuIG1vZGVcbiAgaXNJbkZ1bGxzY3JlZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNGdWxsc2NyZWVuO1xuICB9XG5cbiAgLy8gQ2xlYW51cFxuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuX3dpbmRvd1Jlc2l6ZUhhbmRsZXIpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmNhbnZhcy5fd2luZG93UmVzaXplSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGNhbnZhcyBjb21wbGV0ZWx5IGZyb20gRE9NXG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgIH1cblxuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsU3RhdGUgPSBudWxsO1xuICAgIHRoaXMuaXNGdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gTWFpbiBjb21wb25lbnQgdGhhdCBjb21iaW5lcyBhbGwgZnVuY3Rpb25hbGl0eVxuY29uc3QgTWFpbkNvbXBvbmVudCA9IGZvcndhcmRSZWYoKHsgdHJpZ2dlckNhbWVyYUFjY2VzcywgaXNDb21wYWN0TW9kZSwgb25BY3Rpb25DbGljayB9LCByZWYpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHsgdXNlcklkOiBjb25zZW50VXNlcklkIH0gPSB1c2VDb25zZW50KCk7XG4gIGNvbnN0IHsgc2V0dGluZ3MsIHVwZGF0ZVNldHRpbmdzIH0gPSB1c2VBZG1pblNldHRpbmdzKHJlZik7XG4gIFxuICAvLyBTdGF0ZSBtYW5hZ2VtZW50XG4gIGNvbnN0IFt1c2VyRGF0YSwgc2V0VXNlckRhdGFdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2lzSHlkcmF0ZWQsIHNldElzSHlkcmF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYmFja2VuZFN0YXR1cywgc2V0QmFja2VuZFN0YXR1c10gPSB1c2VTdGF0ZSgnY2hlY2tpbmcnKTtcbiAgY29uc3QgW3Nob3dUb3BCYXIsIHNldFNob3dUb3BCYXJdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzaG93V2FybmluZywgc2V0U2hvd1dhcm5pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbd2FybmluZ01lc3NhZ2UsIHNldFdhcm5pbmdNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3N0YXR1c01lc3NhZ2UsIHNldFN0YXR1c01lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbb3V0cHV0VGV4dCwgc2V0T3V0cHV0VGV4dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzaG93TWV0cmljcywgc2V0U2hvd01ldHJpY3NdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzaG93UGVybWlzc2lvblBvcHVwLCBzZXRTaG93UGVybWlzc2lvblBvcHVwXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NhbWVyYVBlcm1pc3Npb25HcmFudGVkLCBzZXRDYW1lcmFQZXJtaXNzaW9uR3JhbnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Q2FtZXJhLCBzZXRTaG93Q2FtZXJhXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dDYW1lcmFQbGFjZWhvbGRlciwgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dIZWFkUG9zZSwgc2V0U2hvd0hlYWRQb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCb3VuZGluZ0JveCwgc2V0U2hvd0JvdW5kaW5nQm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNYXNrLCBzZXRTaG93TWFza10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UGFyYW1ldGVycywgc2V0U2hvd1BhcmFtZXRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbd2luZG93U2l6ZSwgc2V0V2luZG93U2l6ZV0gPSB1c2VTdGF0ZSh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIHBlcmNlbnRhZ2U6IDEwMCB9KTtcbiAgY29uc3QgW21ldHJpY3MsIHNldE1ldHJpY3NdID0gdXNlU3RhdGUoeyB3aWR0aDogJy0tLScsIGhlaWdodDogJy0tLScsIGRpc3RhbmNlOiAnLS0tJyB9KTtcbiAgY29uc3QgW2NhcHR1cmVDb3VudGVyLCBzZXRDYXB0dXJlQ291bnRlcl0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2NhcHR1cmVGb2xkZXIsIHNldENhcHR1cmVGb2xkZXJdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZSgnZGVmYXVsdCcpO1xuICBjb25zdCBbc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNQYWdlQWN0aXZlLCBzZXRJc1BhZ2VBY3RpdmVdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjYXB0dXJlQ291bnQsIHNldENhcHR1cmVDb3VudF0gPSB1c2VTdGF0ZSgxKTtcbiAgXG4gIC8vIEJ1dHRvbiBhY3Rpb24gc3RhdGVzXG4gIGNvbnN0IFtyYW5kb21UaW1lcywgc2V0UmFuZG9tVGltZXNdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtkZWxheVNlY29uZHMsIHNldERlbGF5U2Vjb25kc10gPSB1c2VTdGF0ZSgzKTtcbiAgY29uc3QgW3Byb2Nlc3NTdGF0dXMsIHNldFByb2Nlc3NTdGF0dXNdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY291bnRkb3duVmFsdWUsIHNldENvdW50ZG93blZhbHVlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY3VycmVudERvdCwgc2V0Q3VycmVudERvdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NhbGlicmF0aW9uUG9pbnRzLCBzZXRDYWxpYnJhdGlvblBvaW50c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtyZW1haW5pbmdDYXB0dXJlcywgc2V0UmVtYWluaW5nQ2FwdHVyZXNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzaG93Q2FudmFzLCBzZXRTaG93Q2FudmFzXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbY2FsaWJyYXRpb25IYW5kbGVyLCBzZXRDYWxpYnJhdGlvbkhhbmRsZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc0NhbWVyYUFjdGl2ZSwgc2V0SXNDYW1lcmFBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDYXB0dXJpbmcsIHNldElzQ2FwdHVyaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBSZWZzXG4gIGNvbnN0IHByZXZpZXdBcmVhUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBhY3Rpb25CdXR0b25Hcm91cFJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBBZGQgY2FjaGUgZm9yIHNldHRpbmdzXG4gIGNvbnN0IHNldHRpbmdzQ2FjaGUgPSB1c2VSZWYobmV3IE1hcCgpKTtcbiAgY29uc3QgbGFzdFNldHRpbmdzVXBkYXRlID0gdXNlUmVmKG5ldyBNYXAoKSk7XG5cbiAgLy8gR2xvYmFsIGNhbnZhcyBtYW5hZ2VyIGluc3RhbmNlIC0gaW5pdGlhbGl6ZSBvbmx5IG9uY2VcbiAgY29uc3QgY2FudmFzTWFuYWdlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIENyZWF0ZSBhIHNpbmdsZXRvbiBjYW52YXMgbWFuYWdlclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZ2xvYmFsQ2FudmFzTWFuYWdlcikge1xuICAgICAgcmV0dXJuIHdpbmRvdy5nbG9iYWxDYW52YXNNYW5hZ2VyO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBtYW5hZ2VyID0gbmV3IEdsb2JhbENhbnZhc01hbmFnZXIoKTtcbiAgICBcbiAgICAvLyBTdG9yZSBnbG9iYWxseSBmb3Igb3RoZXIgY29tcG9uZW50cyB0byB1c2VcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5nbG9iYWxDYW52YXNNYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG1hbmFnZXI7XG4gIH0sIFtdKTtcblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVhc2lseSBtYW5hZ2UgY2FudmFzIG9wZXJhdGlvbnNcbiAgY29uc3QgY2FudmFzVXRpbHMgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgLy8gR2V0IG9yIGNyZWF0ZSBjYW52YXNcbiAgICBnZXRDYW52YXM6ICgpID0+IGNhbnZhc01hbmFnZXIuZ2V0Q2FudmFzKCksXG4gICAgXG4gICAgLy8gRW50ZXIgZnVsbHNjcmVlbiBtb2RlXG4gICAgZW50ZXJGdWxsc2NyZWVuOiAoKSA9PiB7XG4gICAgICByZXR1cm4gY2FudmFzTWFuYWdlci5lbnRlckZ1bGxzY3JlZW4oKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIEV4aXQgZnVsbHNjcmVlbiBtb2RlXG4gICAgZXhpdEZ1bGxzY3JlZW46ICgpID0+IHtcbiAgICAgIHJldHVybiBjYW52YXNNYW5hZ2VyLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBDbGVhciBjYW52YXNcbiAgICBjbGVhcjogKCkgPT4ge1xuICAgICAgY2FudmFzTWFuYWdlci5jbGVhcigpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gRHJhdyBkb3QgYXQgcG9zaXRpb25cbiAgICBkcmF3RG90OiAoeCwgeSwgcmFkaXVzID0gMTIpID0+IHtcbiAgICAgIHJldHVybiBjYW52YXNNYW5hZ2VyLmRyYXdEb3QoeCwgeSwgcmFkaXVzKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIEdldCBjYW52YXMgZGltZW5zaW9uc1xuICAgIGdldERpbWVuc2lvbnM6ICgpID0+IHtcbiAgICAgIHJldHVybiBjYW52YXNNYW5hZ2VyLmdldERpbWVuc2lvbnMoKTtcbiAgICB9LFxuICAgIFxuICAgIC8vIENoZWNrIGlmIGNhbnZhcyBpcyBpbiBmdWxsc2NyZWVuXG4gICAgaXNGdWxsc2NyZWVuOiAoKSA9PiBjYW52YXNNYW5hZ2VyLmlzSW5GdWxsc2NyZWVuKCksXG4gICAgXG4gICAgLy8gVXBkYXRlIGNhbnZhcyBzaXplIHRvIG1hdGNoIGNvbnRhaW5lciBhbmQgd2luZG93XG4gICAgcmVzaXplVG9Db250YWluZXI6IChjb250YWluZXIpID0+IHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc01hbmFnZXIuZ2V0Q2FudmFzKCk7XG4gICAgICBpZiAoIWNhbnZhcyB8fCAhY29udGFpbmVyKSByZXR1cm4gZmFsc2U7XG4gICAgICBcbiAgICAgIC8vIEdldCBjdXJyZW50IHdpbmRvdyBkaW1lbnNpb25zXG4gICAgICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IDgwMDtcbiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCA2MDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoIHx8IGNvbnRhaW5lci5jbGllbnRXaWR0aCB8fCB3aW5kb3dXaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSByZWN0LmhlaWdodCB8fCBjb250YWluZXIuY2xpZW50SGVpZ2h0IHx8IHdpbmRvd0hlaWdodDtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgYW5kIHJlZHJhdyB5ZWxsb3cgYmFja2dyb3VuZFxuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ3llbGxvdyc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gTGluayB3aXRoIG90aGVyIGNhbnZhc2VzXG4gICAgICBjYW52YXNNYW5hZ2VyLmxpbmtXaXRoT3RoZXJDYW52YXNlcyhjYW52YXMpO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIFxuICAgIC8vIExpbmsgd2l0aCBvdGhlciBjYW52YXNlc1xuICAgIGxpbmtXaXRoT3RoZXJDYW52YXNlczogKGNhbnZhcykgPT4ge1xuICAgICAgY2FudmFzTWFuYWdlci5saW5rV2l0aE90aGVyQ2FudmFzZXMoY2FudmFzKTtcbiAgICB9XG4gIH0pLCBbY2FudmFzTWFuYWdlcl0pO1xuXG4gIC8vIE1ha2UgY2FudmFzIHV0aWxpdGllcyBnbG9iYWxseSBhdmFpbGFibGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5jYW52YXNVdGlscyA9IGNhbnZhc1V0aWxzO1xuICAgICAgd2luZG93LmNhbnZhc01hbmFnZXIgPSBjYW52YXNNYW5hZ2VyO1xuICAgICAgXG4gICAgICAvLyBBZGQgYSBmdW5jdGlvbiB0byBzeW5jIGFsbCBjYW52YXNlc1xuICAgICAgd2luZG93LnN5bmNBbGxDYW52YXNlcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNhbnZhc01hbmFnZXIpIHtcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNNYW5hZ2VyLmdldENhbnZhcygpO1xuICAgICAgICAgIGlmIChjYW52YXMpIHtcbiAgICAgICAgICAgIGNhbnZhc01hbmFnZXIubGlua1dpdGhPdGhlckNhbnZhc2VzKGNhbnZhcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRlbGV0ZSB3aW5kb3cuY2FudmFzVXRpbHM7XG4gICAgICAgIGRlbGV0ZSB3aW5kb3cuY2FudmFzTWFuYWdlcjtcbiAgICAgICAgZGVsZXRlIHdpbmRvdy5zeW5jQWxsQ2FudmFzZXM7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2NhbnZhc1V0aWxzLCBjYW52YXNNYW5hZ2VyXSk7XG5cbiAgLy8gU2V0IGh5ZHJhdGVkIHN0YXRlIGFmdGVyIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNIeWRyYXRlZCh0cnVlKTtcbiAgICBcbiAgICAvLyBSZXNldCBhbnkgZXhpc3RpbmcgY2FudmFzIHRvIHByZXZlbnQgc2l6ZSBhY2N1bXVsYXRpb25cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyYWNraW5nLWNhbnZhcycpO1xuICAgICAgaWYgKGV4aXN0aW5nQ2FudmFzKSB7XG4gICAgICAgIGV4aXN0aW5nQ2FudmFzLndpZHRoID0gODAwO1xuICAgICAgICBleGlzdGluZ0NhbnZhcy5oZWlnaHQgPSA2MDA7XG4gICAgICAgIGV4aXN0aW5nQ2FudmFzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBleGlzdGluZ0NhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGV4aXN0aW5nQ2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd5ZWxsb3cnO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uIHRvIHJlc2V0IHBhZ2Ugc3RhdGUgd2hlbiBuYXZpZ2F0aW5nIGF3YXlcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gUmVzZXQgYW55IGdsb2JhbCBzdHlsZXMgb3Igc3RhdGUgdGhhdCBtaWdodCBhZmZlY3Qgb3RoZXIgcGFnZXNcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBSZW1vdmUgYW55IGZpeGVkIHBvc2l0aW9uaW5nIHRoYXQgbWlnaHQgaGF2ZSBiZWVuIGFwcGxpZWRcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAnJztcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEhhbmRsZSBwYWdlIHZpc2liaWxpdHkgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIC8vIFNldCBwYWdlIGFzIGluYWN0aXZlXG4gICAgICAgIHNldElzUGFnZUFjdGl2ZShmYWxzZSk7XG4gICAgICAgIC8vIFBhZ2UgaXMgaGlkZGVuLCBjbGVhbnVwIGFueSByZXNvdXJjZXNcbiAgICAgICAgY2xlYW51cFBhZ2VTdHlsZXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBhZ2UgaXMgdmlzaWJsZSBhZ2Fpbiwgc2V0IGFzIGFjdGl2ZVxuICAgICAgICBzZXRJc1BhZ2VBY3RpdmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUJlZm9yZVVubG9hZCA9ICgpID0+IHtcbiAgICAgIC8vIFNldCBwYWdlIGFzIGluYWN0aXZlXG4gICAgICBzZXRJc1BhZ2VBY3RpdmUoZmFsc2UpO1xuICAgICAgLy8gQ2xlYW51cCB3aGVuIHBhZ2UgaXMgYWJvdXQgdG8gdW5sb2FkXG4gICAgICBjbGVhbnVwUGFnZVN0eWxlcygpO1xuICAgIH07XG5cbiAgICBjb25zdCBjbGVhbnVwUGFnZVN0eWxlcyA9ICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBSZW1vdmUgY2FudmFzIGNvbXBsZXRlbHkgZnJvbSBET01cbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RyYWNraW5nLWNhbnZhcycpO1xuICAgICAgICBpZiAoY2FudmFzICYmIGNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYW51cCBnbG9iYWwgY2FudmFzIG1hbmFnZXJcbiAgICAgICAgaWYgKHdpbmRvdy5nbG9iYWxDYW52YXNNYW5hZ2VyKSB7XG4gICAgICAgICAgd2luZG93Lmdsb2JhbENhbnZhc01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuZ2xvYmFsQ2FudmFzTWFuYWdlcjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYW51cCBjYW52YXMgdXRpbGl0aWVzXG4gICAgICAgIGlmICh3aW5kb3cuY2FudmFzVXRpbHMpIHtcbiAgICAgICAgICBkZWxldGUgd2luZG93LmNhbnZhc1V0aWxzO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCBhbnkgZ2xvYmFsIHN0eWxlcyB0aGF0IG1pZ2h0IGhhdmUgYmVlbiBhcHBsaWVkXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZyA9ICcnO1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgYW55IGNsYXNzZXMgdGhhdCBtaWdodCBhZmZlY3Qgb3RoZXIgcGFnZXNcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkLXBhZ2UnKTtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQtcGFnZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVCZWZvcmVVbmxvYWQpO1xuICAgICAgLy8gQ2xlYW51cCBvbiB1bm1vdW50XG4gICAgICBjbGVhbnVwUGFnZVN0eWxlcygpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBIYW5kbGUgcm91dGVyIGV2ZW50cyBmb3IgY2xlYW51cFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJvdXRlQ2hhbmdlU3RhcnQgPSAoKSA9PiB7XG4gICAgICAvLyBTZXQgcGFnZSBhcyBpbmFjdGl2ZVxuICAgICAgc2V0SXNQYWdlQWN0aXZlKGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW51cCB3aGVuIG5hdmlnYXRpb24gc3RhcnRzXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNhbnZhcyBjb21wbGV0ZWx5IGZyb20gRE9NXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0cmFja2luZy1jYW52YXMnKTtcbiAgICAgICAgaWYgKGNhbnZhcyAmJiBjYW52YXMucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFudXAgZ2xvYmFsIGNhbnZhcyBtYW5hZ2VyXG4gICAgICAgIGlmICh3aW5kb3cuZ2xvYmFsQ2FudmFzTWFuYWdlcikge1xuICAgICAgICAgIHdpbmRvdy5nbG9iYWxDYW52YXNNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgICBkZWxldGUgd2luZG93Lmdsb2JhbENhbnZhc01hbmFnZXI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFudXAgY2FudmFzIHV0aWxpdGllc1xuICAgICAgICBpZiAod2luZG93LmNhbnZhc1V0aWxzKSB7XG4gICAgICAgICAgZGVsZXRlIHdpbmRvdy5jYW52YXNVdGlscztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgYW55IGdsb2JhbCBzdHlsZXMgdGhhdCBtaWdodCBoYXZlIGJlZW4gYXBwbGllZFxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICcnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSAnJztcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBjbGFzc2VzIHRoYXQgbWlnaHQgYWZmZWN0IG90aGVyIHBhZ2VzXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC1wYWdlJyk7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkLXBhZ2UnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcm91dGVyLmV2ZW50cy5vbigncm91dGVDaGFuZ2VTdGFydCcsIGhhbmRsZVJvdXRlQ2hhbmdlU3RhcnQpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByb3V0ZXIuZXZlbnRzLm9mZigncm91dGVDaGFuZ2VTdGFydCcsIGhhbmRsZVJvdXRlQ2hhbmdlU3RhcnQpO1xuICAgIH07XG4gIH0sIFtyb3V0ZXJdKTtcblxuICAvLyBMb2FkIHVzZXIgZGF0YVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRVc2VyRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcm91dGVyLmlzUmVhZHkpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHJvdXRlci5xdWVyeS51c2VyRGF0YSkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKHJvdXRlci5xdWVyeS51c2VyRGF0YSk7XG4gICAgICAgICAgc2V0VXNlckRhdGEocGFyc2VkRGF0YSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdXRlci5xdWVyeS51c2VySWQpIHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXItcHJlZmVyZW5jZXMvJHtyb3V0ZXIucXVlcnkudXNlcklkfWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGRhdGEnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBzZXRVc2VyRGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgdXNlciBkYXRhOicsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRVc2VyRGF0YSgpO1xuICB9LCBbcm91dGVyLmlzUmVhZHksIHJvdXRlci5xdWVyeV0pO1xuXG4gIC8vIENoZWNrIGJhY2tlbmQgY29ubmVjdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrQmFja2VuZENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvbicpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRCYWNrZW5kU3RhdHVzKGRhdGEuY29ubmVjdGVkID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBiYWNrZW5kIGNvbm5lY3Rpb246JywgZXJyb3IpO1xuICAgICAgICBzZXRCYWNrZW5kU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzSHlkcmF0ZWQpIHtcbiAgICAgIGNoZWNrQmFja2VuZENvbm5lY3Rpb24oKTtcbiAgICB9XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG5cbiAgLy8gVXBkYXRlIHdpbmRvdyBzaXplXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICAgIGlmIChwcmV2aWV3QXJlYVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcHJldmlld0FyZWFSZWYuY3VycmVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gcHJldmlld0FyZWFSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHNjcmVlblBlcmNlbnRhZ2UgPSAod2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuc2NyZWVuLndpZHRoKSAqIDEwMDtcbiAgICAgICAgXG4gICAgICAgIHNldE1ldHJpY3MocHJldiA9PiAoeyAuLi5wcmV2LCB3aWR0aCwgaGVpZ2h0IH0pKTtcbiAgICAgICAgc2V0V2luZG93U2l6ZSh7XG4gICAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgucm91bmQoc2NyZWVuUGVyY2VudGFnZSlcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgY2FudmFzIHNpemUgd2hlbiB3aW5kb3cgc2l6ZSBjaGFuZ2VzXG4gICAgICAgIGlmIChjYW52YXNNYW5hZ2VyICYmIGlzUGFnZUFjdGl2ZSkge1xuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc01hbmFnZXIuZ2V0Q2FudmFzKCk7XG4gICAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgICAgY2FudmFzTWFuYWdlci51cGRhdGVDYW52YXNTaXplKGNhbnZhcywgcHJldmlld0FyZWFSZWYuY3VycmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpc0h5ZHJhdGVkKSB7XG4gICAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICAgIH1cbiAgfSwgW2lzSHlkcmF0ZWQsIGNhbnZhc01hbmFnZXIsIGlzUGFnZUFjdGl2ZV0pO1xuXG4gIC8vIEluaXRpYWxpemUgY2FudmFzIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgaW5pdGlhbGl6ZSBjYW52YXMgaWYgcGFnZSBpcyBhY3RpdmVcbiAgICBpZiAoIWlzUGFnZUFjdGl2ZSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgdGhlIGdsb2JhbCBjYW52YXMgbWFuYWdlclxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc01hbmFnZXIuaW5pdGlhbGl6ZUNhbnZhcygpO1xuICAgIGNvbnNvbGUubG9nKCdHbG9iYWwgY2FudmFzIGluaXRpYWxpemVkOicsIGNhbnZhcyA/ICdzdWNjZXNzJyA6ICdmYWlsZWQnKTtcbiAgICBcbiAgICAvLyBFbnN1cmUgY2FudmFzIGhhcyB5ZWxsb3cgYmFja2dyb3VuZFxuICAgIGlmIChjYW52YXMpIHtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd5ZWxsb3cnO1xuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIFN5bmMgYWxsIGNhbnZhc2VzIGFmdGVyIGluaXRpYWxpemF0aW9uXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2FudmFzTWFuYWdlci5saW5rV2l0aE90aGVyQ2FudmFzZXMoY2FudmFzKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBDbGVhbnVwIGNhbnZhcyBvbiBjb21wb25lbnQgdW5tb3VudFxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIFJlbW92ZSBjYW52YXMgY29tcGxldGVseSBmcm9tIERPTVxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdHJhY2tpbmctY2FudmFzJyk7XG4gICAgICAgIGlmIChjYW52YXMgJiYgY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhbnVwIGdsb2JhbCBjYW52YXMgbWFuYWdlclxuICAgICAgICBpZiAod2luZG93Lmdsb2JhbENhbnZhc01hbmFnZXIpIHtcbiAgICAgICAgICB3aW5kb3cuZ2xvYmFsQ2FudmFzTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgICAgZGVsZXRlIHdpbmRvdy5nbG9iYWxDYW52YXNNYW5hZ2VyO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhbnVwIGNhbnZhcyB1dGlsaXRpZXNcbiAgICAgICAgaWYgKHdpbmRvdy5jYW52YXNVdGlscykge1xuICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuY2FudmFzVXRpbHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdNYWluQ29tcG9uZW50IGNsZWFudXAgLSBjYW52YXMgcmVtb3ZlZCcpO1xuICAgIH07XG4gIH0sIFtjYW52YXNNYW5hZ2VyLCBpc1BhZ2VBY3RpdmVdKTtcblxuICAvLyBPcHRpbWl6ZSBzZXR0aW5ncyB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNldHRpbmdzICYmIGN1cnJlbnRVc2VySWQgJiYgc2V0dGluZ3NbY3VycmVudFVzZXJJZF0pIHtcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzW2N1cnJlbnRVc2VySWRdO1xuICAgICAgY29uc3QgY2FjaGVkU2V0dGluZ3MgPSBzZXR0aW5nc0NhY2hlLmN1cnJlbnQuZ2V0KGN1cnJlbnRVc2VySWQpO1xuICAgICAgXG4gICAgICBpZiAoIWlzRXF1YWwoY2FjaGVkU2V0dGluZ3MsIHVzZXJTZXR0aW5ncykpIHtcbiAgICAgICAgc2V0UmFuZG9tVGltZXMoTnVtYmVyKHVzZXJTZXR0aW5ncy50aW1lc19zZXRfcmFuZG9tKSB8fCAxKTtcbiAgICAgICAgc2V0RGVsYXlTZWNvbmRzKE51bWJlcih1c2VyU2V0dGluZ3MuZGVsYXlfc2V0X3JhbmRvbSkgfHwgMyk7XG4gICAgICAgIHNldHRpbmdzQ2FjaGUuY3VycmVudC5zZXQoY3VycmVudFVzZXJJZCwgdXNlclNldHRpbmdzKTtcbiAgICAgICAgbGFzdFNldHRpbmdzVXBkYXRlLmN1cnJlbnQuc2V0KGN1cnJlbnRVc2VySWQsIERhdGUubm93KCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3NldHRpbmdzLCBjdXJyZW50VXNlcklkXSk7XG5cbiAgLy8gTGlzdGVuIGZvciB1c2VyIElEIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVVc2VySWRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICd1c2VySWRDaGFuZ2UnKSB7XG4gICAgICAgIGNvbnN0IG5ld1VzZXJJZCA9IGV2ZW50LmRldGFpbC51c2VySWQ7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQobmV3VXNlcklkKTtcbiAgICAgICAgLy8gVXBkYXRlIHNldHRpbmdzIGZvciBuZXcgdXNlclxuICAgICAgICBpZiAoc2V0dGluZ3MgJiYgc2V0dGluZ3NbbmV3VXNlcklkXSkge1xuICAgICAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzW25ld1VzZXJJZF07XG4gICAgICAgICAgc2V0UmFuZG9tVGltZXMoTnVtYmVyKHVzZXJTZXR0aW5ncy50aW1lc19zZXRfcmFuZG9tKSB8fCAxKTtcbiAgICAgICAgICBzZXREZWxheVNlY29uZHMoTnVtYmVyKHVzZXJTZXR0aW5ncy5kZWxheV9zZXRfcmFuZG9tKSB8fCAzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtzZXR0aW5nc10pO1xuXG4gIC8vIExpc3RlbiBmb3Igc2V0dGluZ3MgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC50eXBlID09PSAnY2FwdHVyZVNldHRpbmdzJykge1xuICAgICAgICBjb25zdCB7IHVzZXJJZCwgdGltZXNfc2V0X3JhbmRvbSwgZGVsYXlfc2V0X3JhbmRvbSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgaWYgKHRpbWVzX3NldF9yYW5kb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbmV3VGltZXMgPSBOdW1iZXIodGltZXNfc2V0X3JhbmRvbSkgfHwgMTtcbiAgICAgICAgICAgIHNldFJhbmRvbVRpbWVzKG5ld1RpbWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRlbGF5X3NldF9yYW5kb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RGVsYXkgPSBOdW1iZXIoZGVsYXlfc2V0X3JhbmRvbSkgfHwgMztcbiAgICAgICAgICAgIHNldERlbGF5U2Vjb25kcyhuZXdEZWxheSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgIH07XG4gIH0sIFtjdXJyZW50VXNlcklkXSk7XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgZ2xvYmFsbHkgYWNjZXNzaWJsZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyA9IHtcbiAgICAgICAgaGFuZGxlUmFuZG9tRG90LFxuICAgICAgICBoYW5kbGVTZXRSYW5kb20sXG4gICAgICAgIGhhbmRsZVNldENhbGlicmF0ZSxcbiAgICAgICAgaGFuZGxlQ2xlYXJBbGxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEFsc28gbWFrZSBjYW52YXMgbWFuYWdlciBnbG9iYWxseSBhY2Nlc3NpYmxlXG4gICAgICB3aW5kb3cuZ2xvYmFsQ2FudmFzTWFuYWdlciA9IGNhbnZhc01hbmFnZXI7XG4gICAgICB3aW5kb3cuY2FudmFzVXRpbHMgPSBjYW52YXNVdGlscztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWxldGUgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucztcbiAgICAgICAgZGVsZXRlIHdpbmRvdy5nbG9iYWxDYW52YXNNYW5hZ2VyO1xuICAgICAgICBkZWxldGUgd2luZG93LmNhbnZhc1V0aWxzO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjYW52YXNNYW5hZ2VyLCBjYW52YXNVdGlsc10pO1xuXG4gIC8vIE1ha2UgdG9nZ2xlVG9wQmFyIGZ1bmN0aW9uIGF2YWlsYWJsZSBnbG9iYWxseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LnRvZ2dsZVRvcEJhciA9IChzaG93KSA9PiB7XG4gICAgICAgIHNldFNob3dUb3BCYXIoc2hvdyk7XG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIGhpZGUgbWV0cmljcyB3aGVuIGhpZGluZyB0aGUgdG9wIGJhclxuICAgICAgICBpZiAoIXNob3cpIHtcbiAgICAgICAgICBzZXRTaG93TWV0cmljcyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVsZXRlIHdpbmRvdy50b2dnbGVUb3BCYXI7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEFjdGlvbiBoYW5kbGVyc1xuICBjb25zdCBoYW5kbGVSYW5kb21Eb3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzQ2FwdHVyaW5nKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgLy8gSW1wb3J0IGFuZCB1c2UgUmFuZG9tRG90QWN0aW9uXG4gICAgICBjb25zdCB7IGRlZmF1bHQ6IFJhbmRvbURvdEFjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL1JhbmRvbURvdEFjdGlvbi5qc3gnKTtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIGNhbnZhcyBpcyBhdmFpbGFibGVcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc01hbmFnZXIuZ2V0Q2FudmFzKCk7XG4gICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmFuZG9tRG90QWN0aW9uID0gbmV3IFJhbmRvbURvdEFjdGlvbih7XG4gICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgdG9nZ2xlVG9wQmFyOiAoc2hvdykgPT4ge1xuICAgICAgICAgIHNldFNob3dUb3BCYXIoc2hvdyk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCBzaG93KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldElzQ2FwdHVyaW5nOiAoY2FwdHVyaW5nKSA9PiB7XG4gICAgICAgICAgc2V0SXNDYXB0dXJpbmcoY2FwdHVyaW5nKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmFuZG9tRG90QWN0aW9uOiBpc0NhcHR1cmluZyBzZXQgdG8nLCBjYXB0dXJpbmcpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdSYW5kb21Eb3RBY3Rpb246IHByb2Nlc3NTdGF0dXMgc2V0IHRvJywgc3RhdHVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q3VycmVudERvdDogKGRvdCkgPT4ge1xuICAgICAgICAgIHNldEN1cnJlbnREb3QoZG90KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmFuZG9tRG90QWN0aW9uOiBjdXJyZW50RG90IHNldCB0bycsIGRvdCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRyaWdnZXJDYW1lcmFBY2Nlc3MsXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSBzZXRQcm9jZXNzU3RhdHVzKHN0YXR1cy5wcm9jZXNzU3RhdHVzKTtcbiAgICAgICAgICBpZiAoc3RhdHVzLmlzQ2FwdHVyaW5nICE9PSB1bmRlZmluZWQpIHNldElzQ2FwdHVyaW5nKHN0YXR1cy5pc0NhcHR1cmluZyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNhdmVJbWFnZVRvU2VydmVyOiB0cnVlLFxuICAgICAgICBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgY2FwdHVyZUNvdW50ZXI6IGNhcHR1cmVDb3VudGVyXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgcmFuZG9tRG90QWN0aW9uLmhhbmRsZVJhbmRvbURvdCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSYW5kb20gZG90IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNldFJhbmRvbSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNDYXB0dXJpbmcpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gSW1wb3J0IGFuZCB1c2UgU2V0UmFuZG9tQWN0aW9uXG4gICAgICBjb25zdCB7IGRlZmF1bHQ6IFNldFJhbmRvbUFjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL1NldFJhbmRvbUFjdGlvbi5qc3gnKTtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIGNhbnZhcyBpcyBhdmFpbGFibGVcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc01hbmFnZXIuZ2V0Q2FudmFzKCk7XG4gICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgc2V0UmFuZG9tQWN0aW9uID0gbmV3IFNldFJhbmRvbUFjdGlvbih7XG4gICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgb25TdGF0dXNVcGRhdGU6IChzdGF0dXMpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHNldFByb2Nlc3NTdGF0dXMoc3RhdHVzLnByb2Nlc3NTdGF0dXMpO1xuICAgICAgICAgIGlmIChzdGF0dXMuaXNDYXB0dXJpbmcgIT09IHVuZGVmaW5lZCkgc2V0SXNDYXB0dXJpbmcoc3RhdHVzLmlzQ2FwdHVyaW5nKTtcbiAgICAgICAgICBpZiAoc3RhdHVzLnJlbWFpbmluZ0NhcHR1cmVzICE9PSB1bmRlZmluZWQpIHNldFJlbWFpbmluZ0NhcHR1cmVzKHN0YXR1cy5yZW1haW5pbmdDYXB0dXJlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgICB0b2dnbGVUb3BCYXI6IChzaG93KSA9PiB7XG4gICAgICAgICAgc2V0U2hvd1RvcEJhcihzaG93KTtcbiAgICAgICAgICBpZiAodHlwZW9mIG9uQWN0aW9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHNob3cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2FwdHVyZUNvdW50ZXI6IGNhcHR1cmVDb3VudGVyLFxuICAgICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzLFxuICAgICAgICBzZXRJc0NhcHR1cmluZzogKGNhcHR1cmluZykgPT4ge1xuICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGNhcHR1cmluZyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NldFJhbmRvbUFjdGlvbjogaXNDYXB0dXJpbmcgc2V0IHRvJywgY2FwdHVyaW5nKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1czogKHN0YXR1cykgPT4ge1xuICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2V0UmFuZG9tQWN0aW9uOiBwcm9jZXNzU3RhdHVzIHNldCB0bycsIHN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBzZXRSYW5kb21BY3Rpb24uaGFuZGxlQWN0aW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJSYW5kb20gc2VxdWVuY2UgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFJhbmRvbSBzZXF1ZW5jZSBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2V0Q2FsaWJyYXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBFbnN1cmUgY2FudmFzIGlzIGluaXRpYWxpemVkIGZpcnN0XG4gICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNNYW5hZ2VyLmdldENhbnZhcygpO1xuICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEltcG9ydCBhbmQgdXNlIFNldENhbGlicmF0ZUFjdGlvblxuICAgICAgY29uc3QgeyBkZWZhdWx0OiBTZXRDYWxpYnJhdGVBY3Rpb24gfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9TZXRDYWxpYnJhdGVBY3Rpb24uanN4Jyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNldENhbGlicmF0ZUFjdGlvbiA9IG5ldyBTZXRDYWxpYnJhdGVBY3Rpb24oe1xuICAgICAgICBjYW52YXNSZWY6IHsgY3VycmVudDogY2FudmFzIH0sXG4gICAgICAgIHRvZ2dsZVRvcEJhcjogKHNob3cpID0+IHtcbiAgICAgICAgICBzZXRTaG93VG9wQmFyKHNob3cpO1xuICAgICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb25BY3Rpb25DbGljaygndG9nZ2xlVG9wQmFyJywgc2hvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXRJc0NhcHR1cmluZzogKGNhcHR1cmluZykgPT4ge1xuICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGNhcHR1cmluZyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NldENhbGlicmF0ZUFjdGlvbjogaXNDYXB0dXJpbmcgc2V0IHRvJywgY2FwdHVyaW5nKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1czogKHN0YXR1cykgPT4ge1xuICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2V0Q2FsaWJyYXRlQWN0aW9uOiBwcm9jZXNzU3RhdHVzIHNldCB0bycsIHN0YXR1cyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEN1cnJlbnREb3Q6IChkb3QpID0+IHtcbiAgICAgICAgICBzZXRDdXJyZW50RG90KGRvdCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NldENhbGlicmF0ZUFjdGlvbjogY3VycmVudERvdCBzZXQgdG8nLCBkb3QpO1xuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzLFxuICAgICAgICBvblN0YXR1c1VwZGF0ZTogKHN0YXR1cykgPT4ge1xuICAgICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgICAgaWYgKHN0YXR1cy5pc0NhcHR1cmluZyAhPT0gdW5kZWZpbmVkKSBzZXRJc0NhcHR1cmluZyhzdGF0dXMuaXNDYXB0dXJpbmcpO1xuICAgICAgICB9LFxuICAgICAgICBzYXZlSW1hZ2VUb1NlcnZlcjogdHJ1ZSxcbiAgICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgICAgIGNhcHR1cmVDb3VudGVyOiBjYXB0dXJlQ291bnRlclxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IHNldENhbGlicmF0ZUFjdGlvbi5oYW5kbGVTZXRDYWxpYnJhdGUoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNhbGlicmF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYWxpYnJhdGlvbiBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbGVhckFsbCA9ICgpID0+IHtcbiAgICAvLyBDbGVhciBjYW52YXMgY29udGVudFxuICAgIGNhbnZhc01hbmFnZXIuY2xlYXIoKTtcbiAgICBcbiAgICAvLyBSZXNldCBzdGF0ZXNcbiAgICBzZXRQcm9jZXNzU3RhdHVzKCcnKTtcbiAgICBzZXRSZW1haW5pbmdDYXB0dXJlcygwKTtcbiAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgc2V0Q291bnRkb3duVmFsdWUobnVsbCk7XG4gICAgc2V0U2hvd0NhbnZhcyh0cnVlKTtcbiAgICBzZXRDdXJyZW50RG90KG51bGwpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdDbGVhciBBbGw6IFJlc2V0IGFsbCBzdGF0ZXMnKTtcbiAgfTtcblxuICAvLyBUb2dnbGUgZnVuY3Rpb25zXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUhlYWRQb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG5ld0hlYWRQb3NlU3RhdGUgPSAhc2hvd0hlYWRQb3NlO1xuICAgIHNldFNob3dIZWFkUG9zZShuZXdIZWFkUG9zZVN0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBIZWFkIHBvc2UgdmlzdWFsaXphdGlvbiAke25ld0hlYWRQb3NlU3RhdGUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApO1xuICAgIFxuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdoZWFkUG9zZScpO1xuICAgIH1cbiAgICBcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dIZWFkUG9zZTogbmV3SGVhZFBvc2VTdGF0ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc2hvd0hlYWRQb3NlLCBvbkFjdGlvbkNsaWNrXSk7XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3ggPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgbmV3Qm91bmRpbmdCb3hTdGF0ZSA9ICFzaG93Qm91bmRpbmdCb3g7XG4gICAgc2V0U2hvd0JvdW5kaW5nQm94KG5ld0JvdW5kaW5nQm94U3RhdGUpO1xuICAgIHNldFByb2Nlc3NTdGF0dXMoYEJvdW5kaW5nIGJveCAke25ld0JvdW5kaW5nQm94U3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ2JvdW5kaW5nQm94Jyk7XG4gICAgfVxuICAgIFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd0JvdW5kaW5nQm94OiBuZXdCb3VuZGluZ0JveFN0YXRlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtzaG93Qm91bmRpbmdCb3gsIG9uQWN0aW9uQ2xpY2tdKTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVNYXNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG5ld01hc2tTdGF0ZSA9ICFzaG93TWFzaztcbiAgICBzZXRTaG93TWFzayhuZXdNYXNrU3RhdGUpO1xuICAgIHNldFByb2Nlc3NTdGF0dXMoYE1hc2sgJHtuZXdNYXNrU3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ21hc2snKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBzaG93TWFzazogbmV3TWFza1N0YXRlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtzaG93TWFzaywgb25BY3Rpb25DbGlja10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgbmV3UGFyYW1ldGVyc1N0YXRlID0gIXNob3dQYXJhbWV0ZXJzO1xuICAgIHNldFNob3dQYXJhbWV0ZXJzKG5ld1BhcmFtZXRlcnNTdGF0ZSk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cyhgUGFyYW1ldGVycyAke25ld1BhcmFtZXRlcnNTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICBcbiAgICBpZiAob25BY3Rpb25DbGljaykge1xuICAgICAgb25BY3Rpb25DbGljaygncGFyYW1ldGVycycpO1xuICAgIH1cbiAgICBcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dQYXJhbWV0ZXJzOiBuZXdQYXJhbWV0ZXJzU3RhdGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3Nob3dQYXJhbWV0ZXJzLCBvbkFjdGlvbkNsaWNrXSk7XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlQ2FtZXJhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG5ld0NhbWVyYVN0YXRlID0gIWlzQ2FtZXJhQWN0aXZlO1xuICAgIHNldElzQ2FtZXJhQWN0aXZlKG5ld0NhbWVyYVN0YXRlKTtcbiAgICBzZXRTaG93Q2FtZXJhKG5ld0NhbWVyYVN0YXRlKTsgLy8gTGluayB0aGUgY2FtZXJhIGRpc3BsYXkgc3RhdGUgd2l0aCB0aGUgYWN0aXZlIHN0YXRlXG4gICAgXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ3ByZXZpZXcnLCBuZXdDYW1lcmFTdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChuZXdDYW1lcmFTdGF0ZSAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICAgICAgc2hvd0hlYWRQb3NlLFxuICAgICAgICAgICAgc2hvd0JvdW5kaW5nQm94LFxuICAgICAgICAgICAgc2hvd01hc2ssXG4gICAgICAgICAgICBzaG93UGFyYW1ldGVyc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfSwgW2lzQ2FtZXJhQWN0aXZlLCBzaG93Q2FtZXJhLCBvbkFjdGlvbkNsaWNrLCBzaG93SGVhZFBvc2UsIHNob3dCb3VuZGluZ0JveCwgc2hvd01hc2ssIHNob3dQYXJhbWV0ZXJzXSk7XG5cbiAgLy8gQWRkIGEgcHJvcGVyIGFjdGlvbiBoYW5kbGVyIGZvciBjYW1lcmEgcHJldmlld1xuICBjb25zdCBoYW5kbGVBY3Rpb25DbGljayA9IHVzZUNhbGxiYWNrKChhY3Rpb25UeXBlLCAuLi5hcmdzKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdwcmV2aWV3JzpcbiAgICAgICAgY29uc3Qgc2hvdWxkU2hvdyA9IGFyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3NbMF0gOiAhc2hvd0NhbWVyYTtcbiAgICAgICAgc2V0U2hvd0NhbWVyYShzaG91bGRTaG93KTtcbiAgICAgICAgc2V0SXNDYW1lcmFBY3RpdmUoc2hvdWxkU2hvdyk7XG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXMoc2hvdWxkU2hvdyA/ICdDYW1lcmEgcHJldmlldyBzdGFydGVkJyA6ICdDYW1lcmEgcHJldmlldyBzdG9wcGVkJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGVhZFBvc2UnOlxuICAgICAgICBoYW5kbGVUb2dnbGVIZWFkUG9zZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdW5kaW5nQm94JzpcbiAgICAgICAgaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3goKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtYXNrJzpcbiAgICAgICAgaGFuZGxlVG9nZ2xlTWFzaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BhcmFtZXRlcnMnOlxuICAgICAgICBoYW5kbGVUb2dnbGVQYXJhbWV0ZXJzKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWV0cmljcyc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdNZXRyaWNzIHRvZ2dsZSBjbGlja2VkLCBjdXJyZW50IHN0YXRlOicsIHNob3dNZXRyaWNzKTtcbiAgICAgICAgc2V0U2hvd01ldHJpY3MoIXNob3dNZXRyaWNzKTtcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgTWV0cmljcyAkeyFzaG93TWV0cmljcyA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyYW5kb21Eb3QnOlxuICAgICAgICBjb25zb2xlLmxvZygnUmFuZG9tIERvdCBidXR0b24gY2xpY2tlZCcpO1xuICAgICAgICBoYW5kbGVSYW5kb21Eb3QoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZXRSYW5kb20nOlxuICAgICAgICBjb25zb2xlLmxvZygnU2V0IFJhbmRvbSBidXR0b24gY2xpY2tlZCcpO1xuICAgICAgICBoYW5kbGVTZXRSYW5kb20oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjYWxpYnJhdGUnOlxuICAgICAgICBjb25zb2xlLmxvZygnU2V0IENhbGlicmF0ZSBidXR0b24gY2xpY2tlZCcpO1xuICAgICAgICBoYW5kbGVTZXRDYWxpYnJhdGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjbGVhckFsbCc6XG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGVhciBBbGwgYnV0dG9uIGNsaWNrZWQnKTtcbiAgICAgICAgaGFuZGxlQ2xlYXJBbGwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b2dnbGVUb3BCYXInOlxuICAgICAgICBjb25zdCBzaG93ID0gYXJnc1swXSAhPT0gdW5kZWZpbmVkID8gYXJnc1swXSA6ICFzaG93VG9wQmFyO1xuICAgICAgICBzZXRTaG93VG9wQmFyKHNob3cpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIGFjdGlvbiB0eXBlOicsIGFjdGlvblR5cGUpO1xuICAgICAgICAvLyBTaWxlbnQgaGFuZGxpbmcgZm9yIHVua25vd24gYWN0aW9uc1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sIFtzaG93Q2FtZXJhLCBzaG93TWV0cmljcywgc2hvd1RvcEJhciwgaGFuZGxlVG9nZ2xlSGVhZFBvc2UsIGhhbmRsZVRvZ2dsZUJvdW5kaW5nQm94LCBoYW5kbGVUb2dnbGVNYXNrLCBoYW5kbGVUb2dnbGVQYXJhbWV0ZXJzLCBoYW5kbGVSYW5kb21Eb3QsIGhhbmRsZVNldFJhbmRvbSwgaGFuZGxlU2V0Q2FsaWJyYXRlLCBoYW5kbGVDbGVhckFsbF0pO1xuXG4gIC8vIENhbWVyYSBwZXJtaXNzaW9uIGhhbmRsZXJzXG4gIGNvbnN0IGhhbmRsZVBlcm1pc3Npb25BY2NlcHRlZCA9ICgpID0+IHtcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBpZiAodHJpZ2dlckNhbWVyYUFjY2Vzcykge1xuICAgICAgdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGVybWlzc2lvbkRlbmllZCA9ICgpID0+IHtcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKCdDYW1lcmEgYWNjZXNzIGRlbmllZCcpO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBjYW1lcmEgY2xvc2VcbiAgY29uc3QgaGFuZGxlQ2FtZXJhQ2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2hvd0NhbWVyYShmYWxzZSk7XG4gICAgc2V0SXNDYW1lcmFBY3RpdmUoZmFsc2UpO1xuICAgIHNldFByb2Nlc3NTdGF0dXMoJ0NhbWVyYSBwcmV2aWV3IHN0b3BwZWQnKTtcbiAgfSwgW10pO1xuXG4gIC8vIEhhbmRsZSBjYW1lcmEgcmVhZHlcbiAgY29uc3QgaGFuZGxlQ2FtZXJhUmVhZHkgPSB1c2VDYWxsYmFjaygoZGltZW5zaW9ucykgPT4ge1xuICAgIHNldE1ldHJpY3Moe1xuICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgZGlzdGFuY2U6IGRpbWVuc2lvbnMuZGlzdGFuY2UgfHwgJy0tLSdcbiAgICB9KTtcbiAgICBzZXRPdXRwdXRUZXh0KGBDYW1lcmEgcmVhZHk6ICR7ZGltZW5zaW9ucy53aWR0aH14JHtkaW1lbnNpb25zLmhlaWdodH1gKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKCdDYW1lcmEgcHJldmlldyBhY3RpdmUnKTtcbiAgfSwgW10pO1xuXG4gIC8vIEFkZCBiYWNrIGJ1dHRvbiBoYW5kbGVyXG4gIGNvbnN0IGhhbmRsZUdvQmFjayA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnLycpO1xuICB9O1xuXG4gIC8vIER5bmFtaWMgY2xhc3MgdG8gcmVmbGVjdCBjdXJyZW50IHdpbmRvdyBzaXplXG4gIGNvbnN0IGdldFNpemVDbGFzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBlcmNlbnRhZ2UgfSA9IHdpbmRvd1NpemU7XG4gICAgaWYgKHBlcmNlbnRhZ2UgPCAzNSkgcmV0dXJuICd3aW5kb3ctc2l6ZS10aW55JztcbiAgICBpZiAocGVyY2VudGFnZSA8IDUwKSByZXR1cm4gJ3dpbmRvdy1zaXplLXNtYWxsJztcbiAgICBpZiAocGVyY2VudGFnZSA8IDcwKSByZXR1cm4gJ3dpbmRvdy1zaXplLW1lZGl1bSc7XG4gICAgcmV0dXJuICd3aW5kb3ctc2l6ZS1sYXJnZSc7XG4gIH07XG5cbiAgLy8gRXhwb3NlIGZ1bmN0aW9ucyB2aWEgcmVmXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIGhhbmRsZVJhbmRvbURvdCxcbiAgICBoYW5kbGVTZXRSYW5kb20sXG4gICAgaGFuZGxlU2V0Q2FsaWJyYXRlLFxuICAgIGhhbmRsZUNsZWFyQWxsLFxuICAgIGhhbmRsZVRvZ2dsZUhlYWRQb3NlLFxuICAgIGhhbmRsZVRvZ2dsZUJvdW5kaW5nQm94LFxuICAgIGhhbmRsZVRvZ2dsZU1hc2ssXG4gICAgaGFuZGxlVG9nZ2xlUGFyYW1ldGVycyxcbiAgICBoYW5kbGVUb2dnbGVDYW1lcmFcbiAgfSkpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BtYWluLWNvbnRhaW5lciBjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkLXBhZ2UgJHtnZXRTaXplQ2xhc3MoKX1gfSBzdHlsZT17e1xuICAgICAgaGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgd2lkdGg6ICcxMDB2dycsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBtYXJnaW46IDAsXG4gICAgICBwYWRkaW5nOiAwXG4gICAgfX0+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPHRpdGxlPkNhbWVyYSBEYXRhc2V0IENvbGxlY3Rpb248L3RpdGxlPlxuICAgICAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIiAvPlxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLmNvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQtcGFnZSB7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgICAgd2lkdGg6IDEwMHZ3O1xuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgei1pbmRleDogNDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvSGVhZD5cbiAgICAgIFxuICAgICAgey8qIEJhY2tlbmQgY29ubmVjdGlvbiBzdGF0dXMgYmFubmVyICovfVxuICAgICAge2lzSHlkcmF0ZWQgJiYgYmFja2VuZFN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcgJiYgKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBwYWRkaW5nOiAnNnB4IDAnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmUwYjInLFxuICAgICAgICAgIGNvbG9yOiAnI2U2NTEwMCcsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICB6SW5kZXg6IDExMFxuICAgICAgICB9fT5cbiAgICAgICAgICDimqDvuI8gQmFja2VuZCBkaXNjb25uZWN0ZWQuIEh1cnJ5IHVwLCBNYWtlIE9OTElORSBwbGVhc2UgYW5kIFVzaW5nIG1vY2sgbW9kZVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBXYXJuaW5nIG1lc3NhZ2UgYmFubmVyICovfVxuICAgICAge2lzSHlkcmF0ZWQgJiYgc2hvd1dhcm5pbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndhcm5pbmctYmFubmVyXCIgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB0b3A6IHNob3dUb3BCYXIgPyAoYmFja2VuZFN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcgPyAnMzJweCcgOiAnNjBweCcpIDogJzAnLFxuICAgICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmViM2InLFxuICAgICAgICAgIGNvbG9yOiAnIzMzMycsXG4gICAgICAgICAgcGFkZGluZzogJzEwcHgnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgYm94U2hhZG93OiAnMCAycHggNHB4IHJnYmEoMCwwLDAsMC4yKScsXG4gICAgICAgICAgekluZGV4OiAxMDEsXG4gICAgICAgICAgYW5pbWF0aW9uOiAnZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQnXG4gICAgICAgIH19PlxuICAgICAgICAgIDxzdHJvbmc+4pqg77iPIHt3YXJuaW5nTWVzc2FnZX08L3N0cm9uZz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctY29udGFpbmVyXCI+XG4gICAgICAgICAgPHA+TG9hZGluZyB1c2VyIHNldHRpbmdzLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgey8qIFRvcEJhciBjb21wb25lbnQgKi99XG4gICAgICAgICAge3Nob3dUb3BCYXIgJiYgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgekluZGV4OiAxMDAsXG4gICAgICAgICAgICAgIGhlaWdodDogJzEyMHB4J1xuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgIDxUb3BCYXIgXG4gICAgICAgICAgICAgICAga2V5PXtgdG9wYmFyLSR7c2hvd1RvcEJhcn0tJHtzaG93TWV0cmljc31gfVxuICAgICAgICAgICAgICAgIG9uQnV0dG9uQ2xpY2s9e2hhbmRsZUFjdGlvbkNsaWNrfVxuICAgICAgICAgICAgICAgIG9uQ2FtZXJhQWNjZXNzPXsoKSA9PiBzZXRTaG93UGVybWlzc2lvblBvcHVwKHRydWUpfVxuICAgICAgICAgICAgICAgIG91dHB1dFRleHQ9e3N0YXR1c01lc3NhZ2UgfHwgb3V0cHV0VGV4dH1cbiAgICAgICAgICAgICAgICBvbk91dHB1dENoYW5nZT17KHRleHQpID0+IHNldE91dHB1dFRleHQodGV4dCl9XG4gICAgICAgICAgICAgICAgb25Ub2dnbGVUb3BCYXI9eyhzaG93KSA9PiBzZXRTaG93VG9wQmFyKHNob3cpfVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlTWV0cmljcz17KCkgPT4gc2V0U2hvd01ldHJpY3MoIXNob3dNZXRyaWNzKX1cbiAgICAgICAgICAgICAgICBjYW52YXNSZWY9e3sgY3VycmVudDogY2FudmFzTWFuYWdlci5nZXRDYW52YXMoKSB9fVxuICAgICAgICAgICAgICAgIHNob3dNZXRyaWNzPXtzaG93TWV0cmljc31cbiAgICAgICAgICAgICAgICBpc1RvcEJhclNob3duPXtzaG93VG9wQmFyfVxuICAgICAgICAgICAgICAgIGlzQ2FudmFzVmlzaWJsZT17c2hvd0NhbnZhc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFNob3cgcmVzdG9yZSBidXR0b24gd2hlbiBUb3BCYXIgaXMgaGlkZGVuICovfVxuICAgICAgICAgIHshc2hvd1RvcEJhciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3RvcmUtYnV0dG9uLWNvbnRhaW5lclwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICB0b3A6ICcxMHB4JyxcbiAgICAgICAgICAgICAgcmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgICAgICAgekluZGV4OiAxMDAwXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXN0b3JlLWJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1RvcEJhcih0cnVlKX1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIlNob3cgVG9wQmFyIGFuZCBNZXRyaWNzXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjMDA2NmNjJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKJoVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogTWFpbiBwcmV2aWV3IGFyZWEgKi99XG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIHJlZj17cHJldmlld0FyZWFSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcHJldmlldy1hcmVhXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBoZWlnaHQ6IHNob3dUb3BCYXIgPyAnY2FsYygxMDB2aCAtIDEyMHB4KScgOiAnMTAwdmgnLFxuICAgICAgICAgICAgICBtYXJnaW5Ub3A6IGJhY2tlbmRTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnID8gJzMycHgnIDogJzAnLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjVmNWY1JyxcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICB6SW5kZXg6IDFcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyFzaG93Q2FtZXJhID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXByZXZpZXctbWVzc2FnZVwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICAgICAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnNjAwcHgnLFxuICAgICAgICAgICAgICAgICAgekluZGV4OiA1LFxuICAgICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBtYXJnaW46ICcwIDAgMTBweCAwJywgZm9udFNpemU6ICcxNnB4JyB9fT5DYW1lcmEgcHJldmlldyB3aWxsIGFwcGVhciBoZXJlPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FtZXJhLXNpemUtaW5kaWNhdG9yXCIgc3R5bGU9e3sgbWFyZ2luOiAnMCcsIGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzY2NicgfX0+XG4gICAgICAgICAgICAgICAgICAgIEN1cnJlbnQgd2luZG93OiB7d2luZG93U2l6ZS5wZXJjZW50YWdlfSUgb2Ygc2NyZWVuIHdpZHRoXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBDYW1lcmEgcGxhY2Vob2xkZXIgc3F1YXJlICovfVxuICAgICAgICAgICAgICAgICAge2lzSHlkcmF0ZWQgJiYgc2hvd0NhbWVyYVBsYWNlaG9sZGVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGxhY2Vob2xkZXItc3F1YXJlXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxODBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMzVweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcyMHB4IGF1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IGRhc2hlZCAjNjY2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjVmNWY1JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICcxLjVyZW0nIH19PvCfk7c8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBDYW52YXMgZm9yIGV5ZSB0cmFja2luZyBkb3RzICovfVxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtY29udGFpbmVyXCIgXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIFxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAneWVsbG93JyxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxMCxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgey8qIFRoZSBjYW52YXMgd2lsbCBiZSBtYW5hZ2VkIGJ5IHRoZSBHbG9iYWxDYW52YXNNYW5hZ2VyICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNhbnZhcy1wbGFjZWhvbGRlclwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd5ZWxsb3cnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogJyM2NjYnLCBmb250U2l6ZTogJzE0cHgnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIENhbnZhcyByZWFkeSBmb3IgZXllIHRyYWNraW5nXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogTWV0cmljcyBpbmZvICovfVxuICAgICAgICAgICAge2lzSHlkcmF0ZWQgJiYgc2hvd01ldHJpY3MgJiYgKFxuICAgICAgICAgICAgICA8RGlzcGxheVJlc3BvbnNlIFxuICAgICAgICAgICAgICAgIHdpZHRoPXttZXRyaWNzLndpZHRofSBcbiAgICAgICAgICAgICAgICBoZWlnaHQ9e21ldHJpY3MuaGVpZ2h0fSBcbiAgICAgICAgICAgICAgICBkaXN0YW5jZT17bWV0cmljcy5kaXN0YW5jZX1cbiAgICAgICAgICAgICAgICBpc1Zpc2libGU9e3Nob3dNZXRyaWNzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtjb25zb2xlLmxvZygnUmVuZGVyaW5nIERpc3BsYXlSZXNwb25zZSwgc2hvd01ldHJpY3M6Jywgc2hvd01ldHJpY3MsICdpc0h5ZHJhdGVkOicsIGlzSHlkcmF0ZWQpfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ2FtZXJhIGNvbXBvbmVudCAqL31cbiAgICAgICAgICAgIHtpc0h5ZHJhdGVkICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHNob3dDYW1lcmEgJiYgKFxuICAgICAgICAgICAgICA8RHluYW1pY0NhbWVyYUFjY2Vzc1xuICAgICAgICAgICAgICAgIGtleT17YGNhbWVyYS0ke3Nob3dDYW1lcmF9LSR7c2hvd0hlYWRQb3NlfS0ke3Nob3dCb3VuZGluZ0JveH0tJHtzaG93TWFza30tJHtzaG93UGFyYW1ldGVyc31gfVxuICAgICAgICAgICAgICAgIGlzU2hvd2luZz17c2hvd0NhbWVyYX0gXG4gICAgICAgICAgICAgICAgb25DbG9zZT17aGFuZGxlQ2FtZXJhQ2xvc2V9XG4gICAgICAgICAgICAgICAgb25DYW1lcmFSZWFkeT17aGFuZGxlQ2FtZXJhUmVhZHl9XG4gICAgICAgICAgICAgICAgc2hvd0hlYWRQb3NlPXtzaG93SGVhZFBvc2V9XG4gICAgICAgICAgICAgICAgc2hvd0JvdW5kaW5nQm94PXtzaG93Qm91bmRpbmdCb3h9XG4gICAgICAgICAgICAgICAgc2hvd01hc2s9e3Nob3dNYXNrfVxuICAgICAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzPXtzaG93UGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgICB2aWRlb1JlZj17dmlkZW9SZWZ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ2FtZXJhIHBlcm1pc3Npb24gcG9wdXAgKi99XG4gICAgICAgICAgICB7aXNIeWRyYXRlZCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBzaG93UGVybWlzc2lvblBvcHVwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1wb3B1cFwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgekluZGV4OiAyMDAwXG4gICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tZGlhbG9nXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAnNDAwcHgnLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tdGl0bGVcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAgMTVweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xuICAgICAgICAgICAgICAgICAgfX0+Q2FtZXJhIEFjY2VzcyBSZXF1aXJlZDwvaDM+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1tZXNzYWdlXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDIwcHgnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMS40J1xuICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIFRoaXMgYXBwbGljYXRpb24gbmVlZHMgYWNjZXNzIHRvIHlvdXIgY2FtZXJhIHRvIGZ1bmN0aW9uIHByb3Blcmx5LiBcbiAgICAgICAgICAgICAgICAgICAgV2hlbiBwcm9tcHRlZCBieSB5b3VyIGJyb3dzZXIsIHBsZWFzZSBjbGljayBcIkFsbG93XCIgdG8gZ3JhbnQgY2FtZXJhIGFjY2Vzcy5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tYnV0dG9uc1wiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICAgICAgICAgIGdhcDogJzEwcHgnXG4gICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQZXJtaXNzaW9uRGVuaWVkfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1idG5cIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2YwZjBmMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1idG5cIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwNjZjYycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIENvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSk7XG5cbi8vIENyZWF0ZSBhIGNsaWVudC1vbmx5IHZlcnNpb24gb2YgTWFpbkNvbXBvbmVudFxuY29uc3QgTWFpbkNvbXBvbmVudENsaWVudCA9IGR5bmFtaWMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKE1haW5Db21wb25lbnQpLCB7IHNzcjogZmFsc2UgfSk7XG5cbi8vIEV4cG9ydCB0aGUgbWFpbiBjb21wb25lbnRcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1haW5QYWdlKCkge1xuICByZXR1cm4gPE1haW5Db21wb25lbnRDbGllbnQgLz47XG59XG5cbmV4cG9ydCB7IEFjdGlvbkJ1dHRvbiwgTWFpbkNvbXBvbmVudCB9OyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsImZvcndhcmRSZWYiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwidXNlTWVtbyIsInVzZUNhbGxiYWNrIiwiSGVhZCIsImR5bmFtaWMiLCJUb3BCYXIiLCJEaXNwbGF5UmVzcG9uc2UiLCJzaG93Q2FwdHVyZVByZXZpZXciLCJkcmF3UmVkRG90IiwiZ2V0UmFuZG9tUG9zaXRpb24iLCJjcmVhdGVDb3VudGRvd25FbGVtZW50IiwicnVuQ291bnRkb3duIiwiY2FwdHVyZUltYWdlc0F0UG9pbnQiLCJnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIiwidXNlQ29uc2VudCIsInVzZVJvdXRlciIsInVzZUFkbWluU2V0dGluZ3MiLCJEeW5hbWljQ2FtZXJhQWNjZXNzIiwic3NyIiwibG9hZGluZyIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsInRleHRBbGlnbiIsInpJbmRleCIsImZvbnRTaXplIiwibWFyZ2luQm90dG9tIiwicCIsImZvbnRXZWlnaHQiLCJjb2xvciIsImlzRXF1YWwiLCJvYmoxIiwib2JqMiIsImtleXMxIiwiT2JqZWN0Iiwia2V5cyIsImtleXMyIiwibGVuZ3RoIiwiZXZlcnkiLCJrZXkiLCJpbmNsdWRlcyIsIkFjdGlvbkJ1dHRvbiIsInRleHQiLCJhYmJyZXZpYXRlZFRleHQiLCJvbkNsaWNrIiwiY3VzdG9tQ2xhc3MiLCJkaXNhYmxlZCIsImFjdGl2ZSIsImlzQWJicmV2aWF0ZWQiLCJzZXRJc0FiYnJldmlhdGVkIiwic2V0dGluZ3MiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImlzQ2FwdHVyaW5nIiwic2V0SXNDYXB0dXJpbmciLCJjYXB0dXJlQ291bnRlciIsInNldENhcHR1cmVDb3VudGVyIiwicHJvY2Vzc1N0YXR1cyIsInNldFByb2Nlc3NTdGF0dXMiLCJidXR0b25Qcm9wcyIsImNsYXNzTmFtZSIsInRpdGxlIiwidGltZW91dElkIiwiaGFuZGxlUmVzaXplIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVVzZXJJZENoYW5nZSIsImV2ZW50IiwiZGV0YWlsIiwidHlwZSIsIm5ld1VzZXJJZCIsInVzZXJJZCIsImJ1dHRvbiIsIkdsb2JhbENhbnZhc01hbmFnZXIiLCJjYW52YXMiLCJvcmlnaW5hbFN0YXRlIiwicmVzaXplT2JzZXJ2ZXIiLCJpc0Z1bGxzY3JlZW4iLCJpc0luaXRpYWxpemVkIiwiZ2V0Q2FudmFzIiwicGFyZW50Tm9kZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJpbml0aWFsaXplQ2FudmFzIiwiY29udGFpbmVyIiwidGFyZ2V0Q29udGFpbmVyIiwiYm9keSIsInVwZGF0ZUNhbnZhc1NpemUiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJhcHBlbmRDaGlsZCIsInBsYWNlaG9sZGVyIiwicmVtb3ZlQ2hpbGQiLCJ3aGl0ZVNjcmVlbkNhbnZhcyIsImdsb2JhbENhbnZhc01hbmFnZXIiLCJzZXR1cFJlc3BvbnNpdmVDYW52YXMiLCJ3aW5kb3dXaWR0aCIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNvbnRhaW5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJjb250YWluZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJsaW5rV2l0aE90aGVyQ2FudmFzZXMiLCJhbGxDYW52YXNlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwib3RoZXJDYW52YXMiLCJkaXNjb25uZWN0IiwiUmVzaXplT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZW50cnkiLCJ0YXJnZXQiLCJvYnNlcnZlIiwiaGFuZGxlV2luZG93UmVzaXplIiwiX3dpbmRvd1Jlc2l6ZUhhbmRsZXIiLCJlbnRlckZ1bGxzY3JlZW4iLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiY3NzVGV4dCIsImhpZGVVSUVsZW1lbnRzIiwiZXhpdEZ1bGxzY3JlZW4iLCJzaG93VUlFbGVtZW50cyIsImVsZW1lbnRzVG9IaWRlIiwic2VsZWN0b3IiLCJlbGVtZW50cyIsImVsIiwic2V0QXR0cmlidXRlIiwiaGlkZGVuRWxlbWVudHMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbGVhciIsImNsZWFyUmVjdCIsImRyYXdEb3QiLCJ4IiwieSIsInJhZGl1cyIsImdldERpbWVuc2lvbnMiLCJpc0luRnVsbHNjcmVlbiIsImRlc3Ryb3kiLCJNYWluQ29tcG9uZW50IiwidHJpZ2dlckNhbWVyYUFjY2VzcyIsImlzQ29tcGFjdE1vZGUiLCJvbkFjdGlvbkNsaWNrIiwicmVmIiwicm91dGVyIiwiY29uc2VudFVzZXJJZCIsInVwZGF0ZVNldHRpbmdzIiwidXNlckRhdGEiLCJzZXRVc2VyRGF0YSIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJpc0h5ZHJhdGVkIiwic2V0SXNIeWRyYXRlZCIsImJhY2tlbmRTdGF0dXMiLCJzZXRCYWNrZW5kU3RhdHVzIiwic2hvd1RvcEJhciIsInNldFNob3dUb3BCYXIiLCJzaG93V2FybmluZyIsInNldFNob3dXYXJuaW5nIiwid2FybmluZ01lc3NhZ2UiLCJzZXRXYXJuaW5nTWVzc2FnZSIsInN0YXR1c01lc3NhZ2UiLCJzZXRTdGF0dXNNZXNzYWdlIiwib3V0cHV0VGV4dCIsInNldE91dHB1dFRleHQiLCJzaG93TWV0cmljcyIsInNldFNob3dNZXRyaWNzIiwic2hvd1Blcm1pc3Npb25Qb3B1cCIsInNldFNob3dQZXJtaXNzaW9uUG9wdXAiLCJjYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCIsInNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkIiwic2hvd0NhbWVyYSIsInNldFNob3dDYW1lcmEiLCJzaG93Q2FtZXJhUGxhY2Vob2xkZXIiLCJzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIiLCJzaG93SGVhZFBvc2UiLCJzZXRTaG93SGVhZFBvc2UiLCJzaG93Qm91bmRpbmdCb3giLCJzZXRTaG93Qm91bmRpbmdCb3giLCJzaG93TWFzayIsInNldFNob3dNYXNrIiwic2hvd1BhcmFtZXRlcnMiLCJzZXRTaG93UGFyYW1ldGVycyIsIndpbmRvd1NpemUiLCJzZXRXaW5kb3dTaXplIiwicGVyY2VudGFnZSIsIm1ldHJpY3MiLCJzZXRNZXRyaWNzIiwiZGlzdGFuY2UiLCJjYXB0dXJlRm9sZGVyIiwic2V0Q2FwdHVyZUZvbGRlciIsInNob3dTZXR0aW5ncyIsInNldFNob3dTZXR0aW5ncyIsImlzUGFnZUFjdGl2ZSIsInNldElzUGFnZUFjdGl2ZSIsImNhcHR1cmVDb3VudCIsInNldENhcHR1cmVDb3VudCIsInJhbmRvbVRpbWVzIiwic2V0UmFuZG9tVGltZXMiLCJkZWxheVNlY29uZHMiLCJzZXREZWxheVNlY29uZHMiLCJjb3VudGRvd25WYWx1ZSIsInNldENvdW50ZG93blZhbHVlIiwiY3VycmVudERvdCIsInNldEN1cnJlbnREb3QiLCJjYWxpYnJhdGlvblBvaW50cyIsInNldENhbGlicmF0aW9uUG9pbnRzIiwicmVtYWluaW5nQ2FwdHVyZXMiLCJzZXRSZW1haW5pbmdDYXB0dXJlcyIsInNob3dDYW52YXMiLCJzZXRTaG93Q2FudmFzIiwiY2FsaWJyYXRpb25IYW5kbGVyIiwic2V0Q2FsaWJyYXRpb25IYW5kbGVyIiwiaXNDYW1lcmFBY3RpdmUiLCJzZXRJc0NhbWVyYUFjdGl2ZSIsInByZXZpZXdBcmVhUmVmIiwiY2FudmFzUmVmIiwidmlkZW9SZWYiLCJhY3Rpb25CdXR0b25Hcm91cFJlZiIsInNldHRpbmdzQ2FjaGUiLCJNYXAiLCJsYXN0U2V0dGluZ3NVcGRhdGUiLCJjYW52YXNNYW5hZ2VyIiwibWFuYWdlciIsImNhbnZhc1V0aWxzIiwicmVzaXplVG9Db250YWluZXIiLCJzeW5jQWxsQ2FudmFzZXMiLCJleGlzdGluZ0NhbnZhcyIsIm92ZXJmbG93IiwiZG9jdW1lbnRFbGVtZW50IiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsImhpZGRlbiIsImNsZWFudXBQYWdlU3R5bGVzIiwiaGFuZGxlQmVmb3JlVW5sb2FkIiwibWFyZ2luIiwicGFkZGluZyIsImNsYXNzTGlzdCIsInJlbW92ZSIsImhhbmRsZVJvdXRlQ2hhbmdlU3RhcnQiLCJldmVudHMiLCJvbiIsIm9mZiIsImxvYWRVc2VyRGF0YSIsImlzUmVhZHkiLCJxdWVyeSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfS0VZIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwiZXJyIiwibWVzc2FnZSIsImNoZWNrQmFja2VuZENvbm5lY3Rpb24iLCJjb25uZWN0ZWQiLCJ1cGRhdGVEaW1lbnNpb25zIiwiY3VycmVudCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic2NyZWVuUGVyY2VudGFnZSIsInNjcmVlbiIsInByZXYiLCJNYXRoIiwicm91bmQiLCJ1c2VyU2V0dGluZ3MiLCJjYWNoZWRTZXR0aW5ncyIsImdldCIsIk51bWJlciIsInRpbWVzX3NldF9yYW5kb20iLCJkZWxheV9zZXRfcmFuZG9tIiwic2V0IiwiRGF0ZSIsIm5vdyIsImhhbmRsZVNldHRpbmdzVXBkYXRlIiwidW5kZWZpbmVkIiwibmV3VGltZXMiLCJuZXdEZWxheSIsImFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyIsImhhbmRsZVJhbmRvbURvdCIsImhhbmRsZVNldFJhbmRvbSIsImhhbmRsZVNldENhbGlicmF0ZSIsImhhbmRsZUNsZWFyQWxsIiwidG9nZ2xlVG9wQmFyIiwic2hvdyIsImRlZmF1bHQiLCJSYW5kb21Eb3RBY3Rpb24iLCJyYW5kb21Eb3RBY3Rpb24iLCJjYXB0dXJpbmciLCJzdGF0dXMiLCJkb3QiLCJvblN0YXR1c1VwZGF0ZSIsInNhdmVJbWFnZVRvU2VydmVyIiwiU2V0UmFuZG9tQWN0aW9uIiwic2V0UmFuZG9tQWN0aW9uIiwiaGFuZGxlQWN0aW9uIiwiU2V0Q2FsaWJyYXRlQWN0aW9uIiwic2V0Q2FsaWJyYXRlQWN0aW9uIiwiaGFuZGxlVG9nZ2xlSGVhZFBvc2UiLCJuZXdIZWFkUG9zZVN0YXRlIiwidmlkZW9Qcm9jZXNzb3IiLCJ1cGRhdGVPcHRpb25zIiwiaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3giLCJuZXdCb3VuZGluZ0JveFN0YXRlIiwiaGFuZGxlVG9nZ2xlTWFzayIsIm5ld01hc2tTdGF0ZSIsImhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMiLCJuZXdQYXJhbWV0ZXJzU3RhdGUiLCJoYW5kbGVUb2dnbGVDYW1lcmEiLCJuZXdDYW1lcmFTdGF0ZSIsImhhbmRsZUFjdGlvbkNsaWNrIiwiYWN0aW9uVHlwZSIsImFyZ3MiLCJzaG91bGRTaG93IiwiaGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkIiwiaGFuZGxlUGVybWlzc2lvbkRlbmllZCIsImhhbmRsZUNhbWVyYUNsb3NlIiwiaGFuZGxlQ2FtZXJhUmVhZHkiLCJkaW1lbnNpb25zIiwiaGFuZGxlR29CYWNrIiwicHVzaCIsImdldFNpemVDbGFzcyIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImJveFNoYWRvdyIsImFuaW1hdGlvbiIsInN0cm9uZyIsInJpZ2h0Iiwib25CdXR0b25DbGljayIsIm9uQ2FtZXJhQWNjZXNzIiwib25PdXRwdXRDaGFuZ2UiLCJvblRvZ2dsZVRvcEJhciIsIm9uVG9nZ2xlTWV0cmljcyIsImlzVG9wQmFyU2hvd24iLCJpc0NhbnZhc1Zpc2libGUiLCJiYWNrZ3JvdW5kIiwiY3Vyc29yIiwibWFyZ2luVG9wIiwiYm90dG9tIiwibWF4V2lkdGgiLCJwb2ludGVyRXZlbnRzIiwiaXNWaXNpYmxlIiwiaXNTaG93aW5nIiwib25DbG9zZSIsIm9uQ2FtZXJhUmVhZHkiLCJoMyIsImxpbmVIZWlnaHQiLCJnYXAiLCJNYWluQ29tcG9uZW50Q2xpZW50IiwiUHJvbWlzZSIsInJlc29sdmUiLCJNYWluUGFnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/index.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/camera.css":
/*!***************************************************!*\
  !*** ./pages/collected-dataset/styles/camera.css ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/control-buttons.css":
/*!************************************************************!*\
  !*** ./pages/collected-dataset/styles/control-buttons.css ***!
  \************************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/main.css":
/*!*************************************************!*\
  !*** ./pages/collected-dataset/styles/main.css ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/topbar.css":
/*!***************************************************!*\
  !*** ./pages/collected-dataset/styles/topbar.css ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./styles/Consent.module.css":
/*!***********************************!*\
  !*** ./styles/Consent.module.css ***!
  \***********************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"bannerContainer\": \"Consent_bannerContainer__ANUBL\",\n\t\"bannerContent\": \"Consent_bannerContent__ZkmhZ\",\n\t\"bannerText\": \"Consent_bannerText___ChrP\",\n\t\"bannerButtons\": \"Consent_bannerButtons___mgz1\",\n\t\"bannerButton\": \"Consent_bannerButton__4Fv1L\",\n\t\"acceptButton\": \"Consent_acceptButton__gRsOZ\",\n\t\"declineButton\": \"Consent_declineButton__hqZeL\",\n\t\"learnMoreButton\": \"Consent_learnMoreButton__67pMk\",\n\t\"preferencesContainer\": \"Consent_preferencesContainer__9BVAk\",\n\t\"preferencesTitle\": \"Consent_preferencesTitle__ooxt_\",\n\t\"formGroup\": \"Consent_formGroup__KFE4i\",\n\t\"formLabel\": \"Consent_formLabel__tTg3F\",\n\t\"formControl\": \"Consent_formControl__pNM3l\",\n\t\"formSwitch\": \"Consent_formSwitch__kVrWI\",\n\t\"formCheckbox\": \"Consent_formCheckbox__3369o\",\n\t\"submitButton\": \"Consent_submitButton__CZklY\",\n\t\"backButton\": \"Consent_backButton__eebzl\",\n\t\"mainContent\": \"Consent_mainContent__hwFgD\",\n\t\"withBanner\": \"Consent_withBanner__lotH_\",\n\t\"adminHeader\": \"Consent_adminHeader__vhZUQ\",\n\t\"logoutButton\": \"Consent_logoutButton__S_opo\",\n\t\"consentTable\": \"Consent_consentTable__a_fCs\",\n\t\"showMoreContainer\": \"Consent_showMoreContainer__gII8D\",\n\t\"showMoreButton\": \"Consent_showMoreButton__93fFc\",\n\t\"expanding\": \"Consent_expanding__59j00\",\n\t\"expandRow\": \"Consent_expandRow__qJeMd\",\n\t\"collapsing\": \"Consent_collapsing__OSvXw\",\n\t\"collapseRow\": \"Consent_collapseRow__i1CQo\",\n\t\"saveButton\": \"Consent_saveButton__p_FJM\",\n\t\"notification\": \"Consent_notification__4PYiV\",\n\t\"slideIn\": \"Consent_slideIn__i_R9J\",\n\t\"notificationContent\": \"Consent_notificationContent__nd7TN\",\n\t\"notificationIcon\": \"Consent_notificationIcon__RV_7Y\",\n\t\"notificationMessage\": \"Consent_notificationMessage__wKP1B\",\n\t\"notificationSuccess\": \"Consent_notificationSuccess__Mrtv4\",\n\t\"notificationError\": \"Consent_notificationError__xskoy\",\n\t\"successMessage\": \"Consent_successMessage___PN6n\",\n\t\"errorMessage\": \"Consent_errorMessage__v6E0n\",\n\t\"section\": \"Consent_section__CJzTz\",\n\t\"actionButtons\": \"Consent_actionButtons__3N_zh\",\n\t\"deleteButton\": \"Consent_deleteButton__nrDLO\",\n\t\"confirmationDialog\": \"Consent_confirmationDialog__NtLa4\",\n\t\"confirmationContent\": \"Consent_confirmationContent__JG4X6\",\n\t\"confirmationButtons\": \"Consent_confirmationButtons__ixtJQ\",\n\t\"confirmButton\": \"Consent_confirmButton__vx9pM\",\n\t\"cancelButton\": \"Consent_cancelButton__dhe9_\",\n\t\"numberInputContainer\": \"Consent_numberInputContainer__Irnir\",\n\t\"numberInput\": \"Consent_numberInput__RQMNt\",\n\t\"numberControls\": \"Consent_numberControls__MzUXF\",\n\t\"numberControl\": \"Consent_numberControl__4A3iz\",\n\t\"settingsGrid\": \"Consent_settingsGrid__tMbz9\",\n\t\"div1\": \"Consent_div1__GjgNg\",\n\t\"div2\": \"Consent_div2__V_ZL6\",\n\t\"div3\": \"Consent_div3__ZmsKb\",\n\t\"div4\": \"Consent_div4__kNMOY\",\n\t\"div5\": \"Consent_div5__MKfVe\",\n\t\"settingsSection\": \"Consent_settingsSection__C4mJf\",\n\t\"buttonOrderSection\": \"Consent_buttonOrderSection__qi7D_\",\n\t\"infoBox\": \"Consent_infoBox__fUhjF\",\n\t\"taskList\": \"Consent_taskList__bQHD0\",\n\t\"taskCard\": \"Consent_taskCard__3pbX8\",\n\t\"taskCheckbox\": \"Consent_taskCheckbox__yqJXX\",\n\t\"dragHandle\": \"Consent_dragHandle__yB4kg\",\n\t\"priorityBadge\": \"Consent_priorityBadge__WJwkO\",\n\t\"priorityBadgeRed\": \"Consent_priorityBadgeRed__907Ee\",\n\t\"priorityBadgeYellow\": \"Consent_priorityBadgeYellow__Q19Ly\",\n\t\"priorityBadgeGreen\": \"Consent_priorityBadgeGreen__CGdzr\",\n\t\"priorityBadgeGray\": \"Consent_priorityBadgeGray__8uyCJ\",\n\t\"priorityInputContainer\": \"Consent_priorityInputContainer__GDg86\",\n\t\"priorityInput\": \"Consent_priorityInput__IRp9M\",\n\t\"taskContent\": \"Consent_taskContent__99KbY\",\n\t\"editRow\": \"Consent_editRow__N3isw\",\n\t\"editInput\": \"Consent_editInput__eCURl\",\n\t\"saveEditBtn\": \"Consent_saveEditBtn__TsTCy\",\n\t\"cancelEditBtn\": \"Consent_cancelEditBtn__KdJzz\",\n\t\"taskInfoRow\": \"Consent_taskInfoRow__6VFBN\",\n\t\"taskName\": \"Consent_taskName__B6ETh\",\n\t\"taskDesc\": \"Consent_taskDesc__h3jWW\",\n\t\"editBtn\": \"Consent_editBtn__Tco6k\",\n\t\"orderSummaryBox\": \"Consent_orderSummaryBox__Qo_e4\",\n\t\"orderSummaryTitle\": \"Consent_orderSummaryTitle__X7TZF\",\n\t\"orderSummaryRow\": \"Consent_orderSummaryRow__ldIzm\",\n\t\"orderSummaryNone\": \"Consent_orderSummaryNone__3P_FN\",\n\t\"fadeInOut\": \"Consent_fadeInOut__ZEZGD\",\n\t\"show\": \"Consent_show___O5Gy\",\n\t\"hide\": \"Consent_hide__qEh_j\",\n\t\"saveOrderContainer\": \"Consent_saveOrderContainer__buqkd\",\n\t\"saveOrderButton\": \"Consent_saveOrderButton__kPt5G\",\n\t\"saveStatus\": \"Consent_saveStatus__zbW3C\",\n\t\"success\": \"Consent_success__c8GPO\",\n\t\"error\": \"Consent_error__8tpN5\",\n\t\"userSelectionSection\": \"Consent_userSelectionSection__I_x8m\",\n\t\"userSelectionContainer\": \"Consent_userSelectionContainer__3iqoT\",\n\t\"userSelectionLabel\": \"Consent_userSelectionLabel__kWHAg\",\n\t\"userSelectionInput\": \"Consent_userSelectionInput__4eYqR\",\n\t\"canvaConfigModal\": \"Consent_canvaConfigModal__IQY0K\",\n\t\"canvaConfigContent\": \"Consent_canvaConfigContent__0p9eU\",\n\t\"dropZone\": \"Consent_dropZone__lmDYu\",\n\t\"dragActive\": \"Consent_dragActive__g0ml0\",\n\t\"imagePreview\": \"Consent_imagePreview__LVp_v\",\n\t\"imagesPreviewGrid\": \"Consent_imagesPreviewGrid__6mNQD\",\n\t\"dropZoneText\": \"Consent_dropZoneText__WK76Y\",\n\t\"supportedFormats\": \"Consent_supportedFormats__O330V\",\n\t\"canvaConfigActions\": \"Consent_canvaConfigActions__WfwSF\",\n\t\"clearButton\": \"Consent_clearButton__u7sr2\",\n\t\"uploadButton\": \"Consent_uploadButton__1tNSq\",\n\t\"currentImage\": \"Consent_currentImage__24_2c\",\n\t\"currentImagePreview\": \"Consent_currentImagePreview__dpj_H\",\n\t\"previewGrid\": \"Consent_previewGrid__YgHP_\",\n\t\"previewItem\": \"Consent_previewItem__BqASG\",\n\t\"removeButton\": \"Consent_removeButton___PKzt\",\n\t\"fileName\": \"Consent_fileName__SqLPS\",\n\t\"currentImages\": \"Consent_currentImages__a9024\",\n\t\"showAllImagesContainer\": \"Consent_showAllImagesContainer__4ws_k\",\n\t\"showAllImagesButton\": \"Consent_showAllImagesButton__Guhi_\",\n\t\"existingImage\": \"Consent_existingImage__URoXm\",\n\t\"newImage\": \"Consent_newImage__Ukt_g\",\n\t\"existingBadge\": \"Consent_existingBadge__59t1_\",\n\t\"newBadge\": \"Consent_newBadge__2fXEW\",\n\t\"imageModal\": \"Consent_imageModal__QlKG9\",\n\t\"imageModalContent\": \"Consent_imageModalContent__Fd8cy\",\n\t\"imageModalGrid\": \"Consent_imageModalGrid__4T__q\",\n\t\"imageModalItem\": \"Consent_imageModalItem__JeYJy\",\n\t\"imageModalPreview\": \"Consent_imageModalPreview__lvrw_\",\n\t\"imageModalName\": \"Consent_imageModalName__N2zNd\",\n\t\"imageModalClose\": \"Consent_imageModalClose__5WN3D\",\n\t\"existingCount\": \"Consent_existingCount__3XuU1\",\n\t\"imagePreviewGrid\": \"Consent_imagePreviewGrid__1qsQI\",\n\t\"imagePreviewItem\": \"Consent_imagePreviewItem__qVRPR\",\n\t\"imagePreviewThumbnail\": \"Consent_imagePreviewThumbnail__VtK0F\",\n\t\"imagePreviewName\": \"Consent_imagePreviewName__FxfFO\",\n\t\"imagesContainer\": \"Consent_imagesContainer___dfUS\",\n\t\"imagesContainerTitle\": \"Consent_imagesContainerTitle__Sr22T\",\n\t\"imageCount\": \"Consent_imageCount__UkyS2\",\n\t\"slideOut\": \"Consent_slideOut__AbNmK\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Db25zZW50Lm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvYXBwL3N0eWxlcy9Db25zZW50Lm1vZHVsZS5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiYmFubmVyQ29udGFpbmVyXCI6IFwiQ29uc2VudF9iYW5uZXJDb250YWluZXJfX0FOVUJMXCIsXG5cdFwiYmFubmVyQ29udGVudFwiOiBcIkNvbnNlbnRfYmFubmVyQ29udGVudF9fWmttaFpcIixcblx0XCJiYW5uZXJUZXh0XCI6IFwiQ29uc2VudF9iYW5uZXJUZXh0X19fQ2hyUFwiLFxuXHRcImJhbm5lckJ1dHRvbnNcIjogXCJDb25zZW50X2Jhbm5lckJ1dHRvbnNfX19tZ3oxXCIsXG5cdFwiYmFubmVyQnV0dG9uXCI6IFwiQ29uc2VudF9iYW5uZXJCdXR0b25fXzRGdjFMXCIsXG5cdFwiYWNjZXB0QnV0dG9uXCI6IFwiQ29uc2VudF9hY2NlcHRCdXR0b25fX2dSc09aXCIsXG5cdFwiZGVjbGluZUJ1dHRvblwiOiBcIkNvbnNlbnRfZGVjbGluZUJ1dHRvbl9faHFaZUxcIixcblx0XCJsZWFybk1vcmVCdXR0b25cIjogXCJDb25zZW50X2xlYXJuTW9yZUJ1dHRvbl9fNjdwTWtcIixcblx0XCJwcmVmZXJlbmNlc0NvbnRhaW5lclwiOiBcIkNvbnNlbnRfcHJlZmVyZW5jZXNDb250YWluZXJfXzlCVkFrXCIsXG5cdFwicHJlZmVyZW5jZXNUaXRsZVwiOiBcIkNvbnNlbnRfcHJlZmVyZW5jZXNUaXRsZV9fb294dF9cIixcblx0XCJmb3JtR3JvdXBcIjogXCJDb25zZW50X2Zvcm1Hcm91cF9fS0ZFNGlcIixcblx0XCJmb3JtTGFiZWxcIjogXCJDb25zZW50X2Zvcm1MYWJlbF9fdFRnM0ZcIixcblx0XCJmb3JtQ29udHJvbFwiOiBcIkNvbnNlbnRfZm9ybUNvbnRyb2xfX3BOTTNsXCIsXG5cdFwiZm9ybVN3aXRjaFwiOiBcIkNvbnNlbnRfZm9ybVN3aXRjaF9fa1ZyV0lcIixcblx0XCJmb3JtQ2hlY2tib3hcIjogXCJDb25zZW50X2Zvcm1DaGVja2JveF9fMzM2OW9cIixcblx0XCJzdWJtaXRCdXR0b25cIjogXCJDb25zZW50X3N1Ym1pdEJ1dHRvbl9fQ1prbFlcIixcblx0XCJiYWNrQnV0dG9uXCI6IFwiQ29uc2VudF9iYWNrQnV0dG9uX19lZWJ6bFwiLFxuXHRcIm1haW5Db250ZW50XCI6IFwiQ29uc2VudF9tYWluQ29udGVudF9faHdGZ0RcIixcblx0XCJ3aXRoQmFubmVyXCI6IFwiQ29uc2VudF93aXRoQmFubmVyX19sb3RIX1wiLFxuXHRcImFkbWluSGVhZGVyXCI6IFwiQ29uc2VudF9hZG1pbkhlYWRlcl9fdmhaVVFcIixcblx0XCJsb2dvdXRCdXR0b25cIjogXCJDb25zZW50X2xvZ291dEJ1dHRvbl9fU19vcG9cIixcblx0XCJjb25zZW50VGFibGVcIjogXCJDb25zZW50X2NvbnNlbnRUYWJsZV9fYV9mQ3NcIixcblx0XCJzaG93TW9yZUNvbnRhaW5lclwiOiBcIkNvbnNlbnRfc2hvd01vcmVDb250YWluZXJfX2dJSThEXCIsXG5cdFwic2hvd01vcmVCdXR0b25cIjogXCJDb25zZW50X3Nob3dNb3JlQnV0dG9uX185M2ZGY1wiLFxuXHRcImV4cGFuZGluZ1wiOiBcIkNvbnNlbnRfZXhwYW5kaW5nX181OWowMFwiLFxuXHRcImV4cGFuZFJvd1wiOiBcIkNvbnNlbnRfZXhwYW5kUm93X19xSmVNZFwiLFxuXHRcImNvbGxhcHNpbmdcIjogXCJDb25zZW50X2NvbGxhcHNpbmdfX09Tdlh3XCIsXG5cdFwiY29sbGFwc2VSb3dcIjogXCJDb25zZW50X2NvbGxhcHNlUm93X19pMUNRb1wiLFxuXHRcInNhdmVCdXR0b25cIjogXCJDb25zZW50X3NhdmVCdXR0b25fX3BfRkpNXCIsXG5cdFwibm90aWZpY2F0aW9uXCI6IFwiQ29uc2VudF9ub3RpZmljYXRpb25fXzRQWWlWXCIsXG5cdFwic2xpZGVJblwiOiBcIkNvbnNlbnRfc2xpZGVJbl9faV9SOUpcIixcblx0XCJub3RpZmljYXRpb25Db250ZW50XCI6IFwiQ29uc2VudF9ub3RpZmljYXRpb25Db250ZW50X19uZDdUTlwiLFxuXHRcIm5vdGlmaWNhdGlvbkljb25cIjogXCJDb25zZW50X25vdGlmaWNhdGlvbkljb25fX1JWXzdZXCIsXG5cdFwibm90aWZpY2F0aW9uTWVzc2FnZVwiOiBcIkNvbnNlbnRfbm90aWZpY2F0aW9uTWVzc2FnZV9fd0tQMUJcIixcblx0XCJub3RpZmljYXRpb25TdWNjZXNzXCI6IFwiQ29uc2VudF9ub3RpZmljYXRpb25TdWNjZXNzX19NcnR2NFwiLFxuXHRcIm5vdGlmaWNhdGlvbkVycm9yXCI6IFwiQ29uc2VudF9ub3RpZmljYXRpb25FcnJvcl9feHNrb3lcIixcblx0XCJzdWNjZXNzTWVzc2FnZVwiOiBcIkNvbnNlbnRfc3VjY2Vzc01lc3NhZ2VfX19QTjZuXCIsXG5cdFwiZXJyb3JNZXNzYWdlXCI6IFwiQ29uc2VudF9lcnJvck1lc3NhZ2VfX3Y2RTBuXCIsXG5cdFwic2VjdGlvblwiOiBcIkNvbnNlbnRfc2VjdGlvbl9fQ0p6VHpcIixcblx0XCJhY3Rpb25CdXR0b25zXCI6IFwiQ29uc2VudF9hY3Rpb25CdXR0b25zX18zTl96aFwiLFxuXHRcImRlbGV0ZUJ1dHRvblwiOiBcIkNvbnNlbnRfZGVsZXRlQnV0dG9uX19uckRMT1wiLFxuXHRcImNvbmZpcm1hdGlvbkRpYWxvZ1wiOiBcIkNvbnNlbnRfY29uZmlybWF0aW9uRGlhbG9nX19OdExhNFwiLFxuXHRcImNvbmZpcm1hdGlvbkNvbnRlbnRcIjogXCJDb25zZW50X2NvbmZpcm1hdGlvbkNvbnRlbnRfX0pHNFg2XCIsXG5cdFwiY29uZmlybWF0aW9uQnV0dG9uc1wiOiBcIkNvbnNlbnRfY29uZmlybWF0aW9uQnV0dG9uc19faXh0SlFcIixcblx0XCJjb25maXJtQnV0dG9uXCI6IFwiQ29uc2VudF9jb25maXJtQnV0dG9uX192eDlwTVwiLFxuXHRcImNhbmNlbEJ1dHRvblwiOiBcIkNvbnNlbnRfY2FuY2VsQnV0dG9uX19kaGU5X1wiLFxuXHRcIm51bWJlcklucHV0Q29udGFpbmVyXCI6IFwiQ29uc2VudF9udW1iZXJJbnB1dENvbnRhaW5lcl9fSXJuaXJcIixcblx0XCJudW1iZXJJbnB1dFwiOiBcIkNvbnNlbnRfbnVtYmVySW5wdXRfX1JRTU50XCIsXG5cdFwibnVtYmVyQ29udHJvbHNcIjogXCJDb25zZW50X251bWJlckNvbnRyb2xzX19NelVYRlwiLFxuXHRcIm51bWJlckNvbnRyb2xcIjogXCJDb25zZW50X251bWJlckNvbnRyb2xfXzRBM2l6XCIsXG5cdFwic2V0dGluZ3NHcmlkXCI6IFwiQ29uc2VudF9zZXR0aW5nc0dyaWRfX3RNYno5XCIsXG5cdFwiZGl2MVwiOiBcIkNvbnNlbnRfZGl2MV9fR2pnTmdcIixcblx0XCJkaXYyXCI6IFwiQ29uc2VudF9kaXYyX19WX1pMNlwiLFxuXHRcImRpdjNcIjogXCJDb25zZW50X2RpdjNfX1ptc0tiXCIsXG5cdFwiZGl2NFwiOiBcIkNvbnNlbnRfZGl2NF9fa05NT1lcIixcblx0XCJkaXY1XCI6IFwiQ29uc2VudF9kaXY1X19NS2ZWZVwiLFxuXHRcInNldHRpbmdzU2VjdGlvblwiOiBcIkNvbnNlbnRfc2V0dGluZ3NTZWN0aW9uX19DNG1KZlwiLFxuXHRcImJ1dHRvbk9yZGVyU2VjdGlvblwiOiBcIkNvbnNlbnRfYnV0dG9uT3JkZXJTZWN0aW9uX19xaTdEX1wiLFxuXHRcImluZm9Cb3hcIjogXCJDb25zZW50X2luZm9Cb3hfX2ZVaGpGXCIsXG5cdFwidGFza0xpc3RcIjogXCJDb25zZW50X3Rhc2tMaXN0X19iUUhEMFwiLFxuXHRcInRhc2tDYXJkXCI6IFwiQ29uc2VudF90YXNrQ2FyZF9fM3BiWDhcIixcblx0XCJ0YXNrQ2hlY2tib3hcIjogXCJDb25zZW50X3Rhc2tDaGVja2JveF9feXFKWFhcIixcblx0XCJkcmFnSGFuZGxlXCI6IFwiQ29uc2VudF9kcmFnSGFuZGxlX195QjRrZ1wiLFxuXHRcInByaW9yaXR5QmFkZ2VcIjogXCJDb25zZW50X3ByaW9yaXR5QmFkZ2VfX1dKd2tPXCIsXG5cdFwicHJpb3JpdHlCYWRnZVJlZFwiOiBcIkNvbnNlbnRfcHJpb3JpdHlCYWRnZVJlZF9fOTA3RWVcIixcblx0XCJwcmlvcml0eUJhZGdlWWVsbG93XCI6IFwiQ29uc2VudF9wcmlvcml0eUJhZGdlWWVsbG93X19RMTlMeVwiLFxuXHRcInByaW9yaXR5QmFkZ2VHcmVlblwiOiBcIkNvbnNlbnRfcHJpb3JpdHlCYWRnZUdyZWVuX19DR2R6clwiLFxuXHRcInByaW9yaXR5QmFkZ2VHcmF5XCI6IFwiQ29uc2VudF9wcmlvcml0eUJhZGdlR3JheV9fOHV5Q0pcIixcblx0XCJwcmlvcml0eUlucHV0Q29udGFpbmVyXCI6IFwiQ29uc2VudF9wcmlvcml0eUlucHV0Q29udGFpbmVyX19HRGc4NlwiLFxuXHRcInByaW9yaXR5SW5wdXRcIjogXCJDb25zZW50X3ByaW9yaXR5SW5wdXRfX0lScDlNXCIsXG5cdFwidGFza0NvbnRlbnRcIjogXCJDb25zZW50X3Rhc2tDb250ZW50X185OUtiWVwiLFxuXHRcImVkaXRSb3dcIjogXCJDb25zZW50X2VkaXRSb3dfX04zaXN3XCIsXG5cdFwiZWRpdElucHV0XCI6IFwiQ29uc2VudF9lZGl0SW5wdXRfX2VDVVJsXCIsXG5cdFwic2F2ZUVkaXRCdG5cIjogXCJDb25zZW50X3NhdmVFZGl0QnRuX19Uc1RDeVwiLFxuXHRcImNhbmNlbEVkaXRCdG5cIjogXCJDb25zZW50X2NhbmNlbEVkaXRCdG5fX0tkSnp6XCIsXG5cdFwidGFza0luZm9Sb3dcIjogXCJDb25zZW50X3Rhc2tJbmZvUm93X182VkZCTlwiLFxuXHRcInRhc2tOYW1lXCI6IFwiQ29uc2VudF90YXNrTmFtZV9fQjZFVGhcIixcblx0XCJ0YXNrRGVzY1wiOiBcIkNvbnNlbnRfdGFza0Rlc2NfX2gzaldXXCIsXG5cdFwiZWRpdEJ0blwiOiBcIkNvbnNlbnRfZWRpdEJ0bl9fVGNvNmtcIixcblx0XCJvcmRlclN1bW1hcnlCb3hcIjogXCJDb25zZW50X29yZGVyU3VtbWFyeUJveF9fUW9fZTRcIixcblx0XCJvcmRlclN1bW1hcnlUaXRsZVwiOiBcIkNvbnNlbnRfb3JkZXJTdW1tYXJ5VGl0bGVfX1g3VFpGXCIsXG5cdFwib3JkZXJTdW1tYXJ5Um93XCI6IFwiQ29uc2VudF9vcmRlclN1bW1hcnlSb3dfX2xkSXptXCIsXG5cdFwib3JkZXJTdW1tYXJ5Tm9uZVwiOiBcIkNvbnNlbnRfb3JkZXJTdW1tYXJ5Tm9uZV9fM1BfRk5cIixcblx0XCJmYWRlSW5PdXRcIjogXCJDb25zZW50X2ZhZGVJbk91dF9fWkVaR0RcIixcblx0XCJzaG93XCI6IFwiQ29uc2VudF9zaG93X19fTzVHeVwiLFxuXHRcImhpZGVcIjogXCJDb25zZW50X2hpZGVfX3FFaF9qXCIsXG5cdFwic2F2ZU9yZGVyQ29udGFpbmVyXCI6IFwiQ29uc2VudF9zYXZlT3JkZXJDb250YWluZXJfX2J1cWtkXCIsXG5cdFwic2F2ZU9yZGVyQnV0dG9uXCI6IFwiQ29uc2VudF9zYXZlT3JkZXJCdXR0b25fX2tQdDVHXCIsXG5cdFwic2F2ZVN0YXR1c1wiOiBcIkNvbnNlbnRfc2F2ZVN0YXR1c19femJXM0NcIixcblx0XCJzdWNjZXNzXCI6IFwiQ29uc2VudF9zdWNjZXNzX19jOEdQT1wiLFxuXHRcImVycm9yXCI6IFwiQ29uc2VudF9lcnJvcl9fOHRwTjVcIixcblx0XCJ1c2VyU2VsZWN0aW9uU2VjdGlvblwiOiBcIkNvbnNlbnRfdXNlclNlbGVjdGlvblNlY3Rpb25fX0lfeDhtXCIsXG5cdFwidXNlclNlbGVjdGlvbkNvbnRhaW5lclwiOiBcIkNvbnNlbnRfdXNlclNlbGVjdGlvbkNvbnRhaW5lcl9fM2lxb1RcIixcblx0XCJ1c2VyU2VsZWN0aW9uTGFiZWxcIjogXCJDb25zZW50X3VzZXJTZWxlY3Rpb25MYWJlbF9fa1dIQWdcIixcblx0XCJ1c2VyU2VsZWN0aW9uSW5wdXRcIjogXCJDb25zZW50X3VzZXJTZWxlY3Rpb25JbnB1dF9fNGVZcVJcIixcblx0XCJjYW52YUNvbmZpZ01vZGFsXCI6IFwiQ29uc2VudF9jYW52YUNvbmZpZ01vZGFsX19JUVkwS1wiLFxuXHRcImNhbnZhQ29uZmlnQ29udGVudFwiOiBcIkNvbnNlbnRfY2FudmFDb25maWdDb250ZW50X18wcDllVVwiLFxuXHRcImRyb3Bab25lXCI6IFwiQ29uc2VudF9kcm9wWm9uZV9fbG1EWXVcIixcblx0XCJkcmFnQWN0aXZlXCI6IFwiQ29uc2VudF9kcmFnQWN0aXZlX19nMG1sMFwiLFxuXHRcImltYWdlUHJldmlld1wiOiBcIkNvbnNlbnRfaW1hZ2VQcmV2aWV3X19MVnBfdlwiLFxuXHRcImltYWdlc1ByZXZpZXdHcmlkXCI6IFwiQ29uc2VudF9pbWFnZXNQcmV2aWV3R3JpZF9fNm1OUURcIixcblx0XCJkcm9wWm9uZVRleHRcIjogXCJDb25zZW50X2Ryb3Bab25lVGV4dF9fV0s3NllcIixcblx0XCJzdXBwb3J0ZWRGb3JtYXRzXCI6IFwiQ29uc2VudF9zdXBwb3J0ZWRGb3JtYXRzX19PMzMwVlwiLFxuXHRcImNhbnZhQ29uZmlnQWN0aW9uc1wiOiBcIkNvbnNlbnRfY2FudmFDb25maWdBY3Rpb25zX19XZndTRlwiLFxuXHRcImNsZWFyQnV0dG9uXCI6IFwiQ29uc2VudF9jbGVhckJ1dHRvbl9fdTdzcjJcIixcblx0XCJ1cGxvYWRCdXR0b25cIjogXCJDb25zZW50X3VwbG9hZEJ1dHRvbl9fMXROU3FcIixcblx0XCJjdXJyZW50SW1hZ2VcIjogXCJDb25zZW50X2N1cnJlbnRJbWFnZV9fMjRfMmNcIixcblx0XCJjdXJyZW50SW1hZ2VQcmV2aWV3XCI6IFwiQ29uc2VudF9jdXJyZW50SW1hZ2VQcmV2aWV3X19kcGpfSFwiLFxuXHRcInByZXZpZXdHcmlkXCI6IFwiQ29uc2VudF9wcmV2aWV3R3JpZF9fWWdIUF9cIixcblx0XCJwcmV2aWV3SXRlbVwiOiBcIkNvbnNlbnRfcHJldmlld0l0ZW1fX0JxQVNHXCIsXG5cdFwicmVtb3ZlQnV0dG9uXCI6IFwiQ29uc2VudF9yZW1vdmVCdXR0b25fX19QS3p0XCIsXG5cdFwiZmlsZU5hbWVcIjogXCJDb25zZW50X2ZpbGVOYW1lX19TcUxQU1wiLFxuXHRcImN1cnJlbnRJbWFnZXNcIjogXCJDb25zZW50X2N1cnJlbnRJbWFnZXNfX2E5MDI0XCIsXG5cdFwic2hvd0FsbEltYWdlc0NvbnRhaW5lclwiOiBcIkNvbnNlbnRfc2hvd0FsbEltYWdlc0NvbnRhaW5lcl9fNHdzX2tcIixcblx0XCJzaG93QWxsSW1hZ2VzQnV0dG9uXCI6IFwiQ29uc2VudF9zaG93QWxsSW1hZ2VzQnV0dG9uX19HdWhpX1wiLFxuXHRcImV4aXN0aW5nSW1hZ2VcIjogXCJDb25zZW50X2V4aXN0aW5nSW1hZ2VfX1VSb1htXCIsXG5cdFwibmV3SW1hZ2VcIjogXCJDb25zZW50X25ld0ltYWdlX19Va3RfZ1wiLFxuXHRcImV4aXN0aW5nQmFkZ2VcIjogXCJDb25zZW50X2V4aXN0aW5nQmFkZ2VfXzU5dDFfXCIsXG5cdFwibmV3QmFkZ2VcIjogXCJDb25zZW50X25ld0JhZGdlX18yZlhFV1wiLFxuXHRcImltYWdlTW9kYWxcIjogXCJDb25zZW50X2ltYWdlTW9kYWxfX1FsS0c5XCIsXG5cdFwiaW1hZ2VNb2RhbENvbnRlbnRcIjogXCJDb25zZW50X2ltYWdlTW9kYWxDb250ZW50X19GZDhjeVwiLFxuXHRcImltYWdlTW9kYWxHcmlkXCI6IFwiQ29uc2VudF9pbWFnZU1vZGFsR3JpZF9fNFRfX3FcIixcblx0XCJpbWFnZU1vZGFsSXRlbVwiOiBcIkNvbnNlbnRfaW1hZ2VNb2RhbEl0ZW1fX0plWUp5XCIsXG5cdFwiaW1hZ2VNb2RhbFByZXZpZXdcIjogXCJDb25zZW50X2ltYWdlTW9kYWxQcmV2aWV3X19sdnJ3X1wiLFxuXHRcImltYWdlTW9kYWxOYW1lXCI6IFwiQ29uc2VudF9pbWFnZU1vZGFsTmFtZV9fTjJ6TmRcIixcblx0XCJpbWFnZU1vZGFsQ2xvc2VcIjogXCJDb25zZW50X2ltYWdlTW9kYWxDbG9zZV9fNVdOM0RcIixcblx0XCJleGlzdGluZ0NvdW50XCI6IFwiQ29uc2VudF9leGlzdGluZ0NvdW50X18zWHVVMVwiLFxuXHRcImltYWdlUHJldmlld0dyaWRcIjogXCJDb25zZW50X2ltYWdlUHJldmlld0dyaWRfXzFxc1FJXCIsXG5cdFwiaW1hZ2VQcmV2aWV3SXRlbVwiOiBcIkNvbnNlbnRfaW1hZ2VQcmV2aWV3SXRlbV9fcVZSUFJcIixcblx0XCJpbWFnZVByZXZpZXdUaHVtYm5haWxcIjogXCJDb25zZW50X2ltYWdlUHJldmlld1RodW1ibmFpbF9fVnRLMEZcIixcblx0XCJpbWFnZVByZXZpZXdOYW1lXCI6IFwiQ29uc2VudF9pbWFnZVByZXZpZXdOYW1lX19GeGZGT1wiLFxuXHRcImltYWdlc0NvbnRhaW5lclwiOiBcIkNvbnNlbnRfaW1hZ2VzQ29udGFpbmVyX19fZGZVU1wiLFxuXHRcImltYWdlc0NvbnRhaW5lclRpdGxlXCI6IFwiQ29uc2VudF9pbWFnZXNDb250YWluZXJUaXRsZV9fU3IyMlRcIixcblx0XCJpbWFnZUNvdW50XCI6IFwiQ29uc2VudF9pbWFnZUNvdW50X19Va3lTMlwiLFxuXHRcInNsaWRlT3V0XCI6IFwiQ29uc2VudF9zbGlkZU91dF9fQWJObUtcIlxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/Consent.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/Home.module.css":
/*!********************************!*\
  !*** ./styles/Home.module.css ***!
  \********************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"container\": \"Home_container__d256j\",\n\t\"main\": \"Home_main__VkIEL\",\n\t\"footer\": \"Home_footer__yFiaX\",\n\t\"footerLink\": \"Home_footerLink__201sb\",\n\t\"title\": \"Home_title__hYX6j\",\n\t\"description\": \"Home_description__uXNdx\",\n\t\"uploaderContainer\": \"Home_uploaderContainer__uJ_r1\",\n\t\"buttonGrid\": \"Home_buttonGrid__6YmSF\",\n\t\"menuButton\": \"Home_menuButton__x35GK\",\n\t\"buttonRow\": \"Home_buttonRow__Nrj5f\",\n\t\"backButton\": \"Home_backButton__kEp3f\",\n\t\"centerButtonContainer\": \"Home_centerButtonContainer__0xoFG\",\n\t\"largerButton\": \"Home_largerButton__oA5AX\",\n\t\"readyButton\": \"Home_readyButton__Anf7z\",\n\t\"notReadyButton\": \"Home_notReadyButton___QovH\",\n\t\"statusText\": \"Home_statusText__E0bns\",\n\t\"statusToggleButton\": \"Home_statusToggleButton__uKFNS\",\n\t\"statusDisplay\": \"Home_statusDisplay__3g6BC\",\n\t\"dummyControls\": \"Home_dummyControls__omnHy\",\n\t\"processingButton\": \"Home_processingButton__y_sZA\",\n\t\"buttonContainer\": \"Home_buttonContainer__nOVuY\",\n\t\"button\": \"Home_button__G93Ef\",\n\t\"buttonEnabled\": \"Home_buttonEnabled__9tuN2\",\n\t\"buttonDisabled\": \"Home_buttonDisabled__g7Nm8\",\n\t\"buttonOverlay\": \"Home_buttonOverlay__ZIOY0\",\n\t\"overlayIcon\": \"Home_overlayIcon__Nbtir\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Ib21lLm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2FwcC9zdHlsZXMvSG9tZS5tb2R1bGUuY3NzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImNvbnRhaW5lclwiOiBcIkhvbWVfY29udGFpbmVyX19kMjU2alwiLFxuXHRcIm1haW5cIjogXCJIb21lX21haW5fX1ZrSUVMXCIsXG5cdFwiZm9vdGVyXCI6IFwiSG9tZV9mb290ZXJfX3lGaWFYXCIsXG5cdFwiZm9vdGVyTGlua1wiOiBcIkhvbWVfZm9vdGVyTGlua19fMjAxc2JcIixcblx0XCJ0aXRsZVwiOiBcIkhvbWVfdGl0bGVfX2hZWDZqXCIsXG5cdFwiZGVzY3JpcHRpb25cIjogXCJIb21lX2Rlc2NyaXB0aW9uX191WE5keFwiLFxuXHRcInVwbG9hZGVyQ29udGFpbmVyXCI6IFwiSG9tZV91cGxvYWRlckNvbnRhaW5lcl9fdUpfcjFcIixcblx0XCJidXR0b25HcmlkXCI6IFwiSG9tZV9idXR0b25HcmlkX182WW1TRlwiLFxuXHRcIm1lbnVCdXR0b25cIjogXCJIb21lX21lbnVCdXR0b25fX3gzNUdLXCIsXG5cdFwiYnV0dG9uUm93XCI6IFwiSG9tZV9idXR0b25Sb3dfX05yajVmXCIsXG5cdFwiYmFja0J1dHRvblwiOiBcIkhvbWVfYmFja0J1dHRvbl9fa0VwM2ZcIixcblx0XCJjZW50ZXJCdXR0b25Db250YWluZXJcIjogXCJIb21lX2NlbnRlckJ1dHRvbkNvbnRhaW5lcl9fMHhvRkdcIixcblx0XCJsYXJnZXJCdXR0b25cIjogXCJIb21lX2xhcmdlckJ1dHRvbl9fb0E1QVhcIixcblx0XCJyZWFkeUJ1dHRvblwiOiBcIkhvbWVfcmVhZHlCdXR0b25fX0FuZjd6XCIsXG5cdFwibm90UmVhZHlCdXR0b25cIjogXCJIb21lX25vdFJlYWR5QnV0dG9uX19fUW92SFwiLFxuXHRcInN0YXR1c1RleHRcIjogXCJIb21lX3N0YXR1c1RleHRfX0UwYm5zXCIsXG5cdFwic3RhdHVzVG9nZ2xlQnV0dG9uXCI6IFwiSG9tZV9zdGF0dXNUb2dnbGVCdXR0b25fX3VLRk5TXCIsXG5cdFwic3RhdHVzRGlzcGxheVwiOiBcIkhvbWVfc3RhdHVzRGlzcGxheV9fM2c2QkNcIixcblx0XCJkdW1teUNvbnRyb2xzXCI6IFwiSG9tZV9kdW1teUNvbnRyb2xzX19vbW5IeVwiLFxuXHRcInByb2Nlc3NpbmdCdXR0b25cIjogXCJIb21lX3Byb2Nlc3NpbmdCdXR0b25fX3lfc1pBXCIsXG5cdFwiYnV0dG9uQ29udGFpbmVyXCI6IFwiSG9tZV9idXR0b25Db250YWluZXJfX25PVnVZXCIsXG5cdFwiYnV0dG9uXCI6IFwiSG9tZV9idXR0b25fX0c5M0VmXCIsXG5cdFwiYnV0dG9uRW5hYmxlZFwiOiBcIkhvbWVfYnV0dG9uRW5hYmxlZF9fOXR1TjJcIixcblx0XCJidXR0b25EaXNhYmxlZFwiOiBcIkhvbWVfYnV0dG9uRGlzYWJsZWRfX2c3Tm04XCIsXG5cdFwiYnV0dG9uT3ZlcmxheVwiOiBcIkhvbWVfYnV0dG9uT3ZlcmxheV9fWklPWTBcIixcblx0XCJvdmVybGF5SWNvblwiOiBcIkhvbWVfb3ZlcmxheUljb25fX05idGlyXCJcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/Home.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/UserProfile.module.css":
/*!***************************************!*\
  !*** ./styles/UserProfile.module.css ***!
  \***************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"toggleButton\": \"UserProfile_toggleButton__Tnos2\",\n\t\"sidebar\": \"UserProfile_sidebar__a8wTF\",\n\t\"open\": \"UserProfile_open__kVXoU\",\n\t\"profileHeader\": \"UserProfile_profileHeader__zrwIz\",\n\t\"closeButton\": \"UserProfile_closeButton__YCOaY\",\n\t\"statusSection\": \"UserProfile_statusSection__oVQ9C\",\n\t\"statusItem\": \"UserProfile_statusItem__NoI4f\",\n\t\"statusLabel\": \"UserProfile_statusLabel__GuWBi\",\n\t\"statusValue\": \"UserProfile_statusValue__n4plT\",\n\t\"statusActive\": \"UserProfile_statusActive__yLwQj\",\n\t\"statusInactive\": \"UserProfile_statusInactive__XuqTw\",\n\t\"profileForm\": \"UserProfile_profileForm__Px_Sv\",\n\t\"formGroup\": \"UserProfile_formGroup__yLTt1\",\n\t\"saveButton\": \"UserProfile_saveButton__1numi\",\n\t\"settingsPanel\": \"UserProfile_settingsPanel__UElU_\",\n\t\"settingsHeader\": \"UserProfile_settingsHeader__aTjSG\",\n\t\"backButton\": \"UserProfile_backButton__AsyBi\",\n\t\"settingsContent\": \"UserProfile_settingsContent__G9QI8\",\n\t\"settingsSection\": \"UserProfile_settingsSection__PbnVn\",\n\t\"settingItem\": \"UserProfile_settingItem__NOQaH\",\n\t\"numberInput\": \"UserProfile_numberInput__Qaa7n\",\n\t\"fileInput\": \"UserProfile_fileInput__RRPEK\",\n\t\"zoomControls\": \"UserProfile_zoomControls__qr35c\",\n\t\"zoomButton\": \"UserProfile_zoomButton__7NIJV\",\n\t\"zoomInput\": \"UserProfile_zoomInput__W3_rg\",\n\t\"zoomPercent\": \"UserProfile_zoomPercent__rLEYS\",\n\t\"settingsSubScroll\": \"UserProfile_settingsSubScroll__KNAm6\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Vc2VyUHJvZmlsZS5tb2R1bGUuY3NzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2FwcC9zdHlsZXMvVXNlclByb2ZpbGUubW9kdWxlLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJ0b2dnbGVCdXR0b25cIjogXCJVc2VyUHJvZmlsZV90b2dnbGVCdXR0b25fX1Rub3MyXCIsXG5cdFwic2lkZWJhclwiOiBcIlVzZXJQcm9maWxlX3NpZGViYXJfX2E4d1RGXCIsXG5cdFwib3BlblwiOiBcIlVzZXJQcm9maWxlX29wZW5fX2tWWG9VXCIsXG5cdFwicHJvZmlsZUhlYWRlclwiOiBcIlVzZXJQcm9maWxlX3Byb2ZpbGVIZWFkZXJfX3pyd0l6XCIsXG5cdFwiY2xvc2VCdXR0b25cIjogXCJVc2VyUHJvZmlsZV9jbG9zZUJ1dHRvbl9fWUNPYVlcIixcblx0XCJzdGF0dXNTZWN0aW9uXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzU2VjdGlvbl9fb1ZROUNcIixcblx0XCJzdGF0dXNJdGVtXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzSXRlbV9fTm9JNGZcIixcblx0XCJzdGF0dXNMYWJlbFwiOiBcIlVzZXJQcm9maWxlX3N0YXR1c0xhYmVsX19HdVdCaVwiLFxuXHRcInN0YXR1c1ZhbHVlXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzVmFsdWVfX240cGxUXCIsXG5cdFwic3RhdHVzQWN0aXZlXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzQWN0aXZlX195THdRalwiLFxuXHRcInN0YXR1c0luYWN0aXZlXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzSW5hY3RpdmVfX1h1cVR3XCIsXG5cdFwicHJvZmlsZUZvcm1cIjogXCJVc2VyUHJvZmlsZV9wcm9maWxlRm9ybV9fUHhfU3ZcIixcblx0XCJmb3JtR3JvdXBcIjogXCJVc2VyUHJvZmlsZV9mb3JtR3JvdXBfX3lMVHQxXCIsXG5cdFwic2F2ZUJ1dHRvblwiOiBcIlVzZXJQcm9maWxlX3NhdmVCdXR0b25fXzFudW1pXCIsXG5cdFwic2V0dGluZ3NQYW5lbFwiOiBcIlVzZXJQcm9maWxlX3NldHRpbmdzUGFuZWxfX1VFbFVfXCIsXG5cdFwic2V0dGluZ3NIZWFkZXJcIjogXCJVc2VyUHJvZmlsZV9zZXR0aW5nc0hlYWRlcl9fYVRqU0dcIixcblx0XCJiYWNrQnV0dG9uXCI6IFwiVXNlclByb2ZpbGVfYmFja0J1dHRvbl9fQXN5QmlcIixcblx0XCJzZXR0aW5nc0NvbnRlbnRcIjogXCJVc2VyUHJvZmlsZV9zZXR0aW5nc0NvbnRlbnRfX0c5UUk4XCIsXG5cdFwic2V0dGluZ3NTZWN0aW9uXCI6IFwiVXNlclByb2ZpbGVfc2V0dGluZ3NTZWN0aW9uX19QYm5WblwiLFxuXHRcInNldHRpbmdJdGVtXCI6IFwiVXNlclByb2ZpbGVfc2V0dGluZ0l0ZW1fX05PUWFIXCIsXG5cdFwibnVtYmVySW5wdXRcIjogXCJVc2VyUHJvZmlsZV9udW1iZXJJbnB1dF9fUWFhN25cIixcblx0XCJmaWxlSW5wdXRcIjogXCJVc2VyUHJvZmlsZV9maWxlSW5wdXRfX1JSUEVLXCIsXG5cdFwiem9vbUNvbnRyb2xzXCI6IFwiVXNlclByb2ZpbGVfem9vbUNvbnRyb2xzX19xcjM1Y1wiLFxuXHRcInpvb21CdXR0b25cIjogXCJVc2VyUHJvZmlsZV96b29tQnV0dG9uX183TklKVlwiLFxuXHRcInpvb21JbnB1dFwiOiBcIlVzZXJQcm9maWxlX3pvb21JbnB1dF9fVzNfcmdcIixcblx0XCJ6b29tUGVyY2VudFwiOiBcIlVzZXJQcm9maWxlX3pvb21QZXJjZW50X19yTEVZU1wiLFxuXHRcInNldHRpbmdzU3ViU2Nyb2xsXCI6IFwiVXNlclByb2ZpbGVfc2V0dGluZ3NTdWJTY3JvbGxfX0tOQW02XCJcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/UserProfile.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/consentManager.js":
/*!*********************************!*\
  !*** ./utils/consentManager.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserConsent: () => (/* binding */ clearUserConsent),\n/* harmony export */   getOrCreateUserId: () => (/* binding */ getOrCreateUserId),\n/* harmony export */   getUserConsent: () => (/* binding */ getUserConsent),\n/* harmony export */   getUserPreferences: () => (/* binding */ getUserPreferences),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   isProfileComplete: () => (/* binding */ isProfileComplete),\n/* harmony export */   resetConsentBanner: () => (/* binding */ resetConsentBanner),\n/* harmony export */   updateUserConsent: () => (/* binding */ updateUserConsent),\n/* harmony export */   updateUserPreferences: () => (/* binding */ updateUserPreferences),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-cookie */ \"js-cookie\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_0__, js_cookie__WEBPACK_IMPORTED_MODULE_1__]);\n([uuid__WEBPACK_IMPORTED_MODULE_0__, js_cookie__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/utils/consentManager.js\n\n\nconst CONSENT_COOKIE = 'eye_tracking_consent';\nconst CONSENT_DETAILS_COOKIE = 'consent_details';\nconst USER_PROFILE_COOKIE = 'user_profile';\nconst USER_PREFERENCES_COOKIE = 'user_preferences';\n// Cookie options that work for both localhost and IP addresses\nconst COOKIE_OPTIONS = {\n    expires: 365,\n    path: '/',\n    sameSite: 'Lax'\n};\n// Get or create a user ID\nconst getOrCreateUserId = ()=>{\n    try {\n        const storedConsent = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_COOKIE);\n        const storedDetails = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_DETAILS_COOKIE);\n        if (storedConsent && storedDetails) {\n            const details = JSON.parse(storedDetails);\n            return details.userId;\n        }\n        // Generate new user ID if none exists\n        const newUserId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();\n        return newUserId;\n    } catch (error) {\n        console.error('Error getting/creating user ID:', error);\n        return (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();\n    }\n};\n// Get user profile\nconst getUserProfile = ()=>{\n    try {\n        const profileStr = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(USER_PROFILE_COOKIE);\n        if (profileStr) {\n            return JSON.parse(profileStr);\n        }\n        return null;\n    } catch (error) {\n        console.error('Error reading user profile:', error);\n        return null;\n    }\n};\n// Update user profile\nconst updateUserProfile = async (profileData)=>{\n    try {\n        // Save to cookies\n        const currentProfile = getUserProfile() || {};\n        const updatedProfile = {\n            ...currentProfile,\n            ...profileData,\n            updatedAt: new Date().toISOString()\n        };\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(USER_PROFILE_COOKIE, JSON.stringify(updatedProfile), COOKIE_OPTIONS);\n        // Save to backend (MongoDB)\n        try {\n            const userId = getOrCreateUserId();\n            const response = await fetch('/api/user-preferences', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    user_id: userId,\n                    preferences: updatedProfile\n                })\n            });\n            if (!response.ok) {\n                console.warn('Failed to save profile to backend');\n                return null;\n            }\n            // Check if profile is complete (has username and sex)\n            const isComplete = updatedProfile.username && updatedProfile.sex;\n            // Store profile completion status in session storage\n            if (isComplete) {\n                sessionStorage.setItem('profileComplete', 'true');\n                sessionStorage.setItem('userId', userId);\n            }\n            return {\n                ...updatedProfile,\n                isComplete\n            };\n        } catch (saveError) {\n            console.warn('Error saving profile to backend:', saveError);\n            return null;\n        }\n    } catch (error) {\n        console.error('Error updating user profile:', error);\n        throw error;\n    }\n};\n// Check if profile is complete\nconst isProfileComplete = ()=>{\n    try {\n        // First check session storage\n        const sessionComplete = sessionStorage.getItem('profileComplete');\n        if (sessionComplete === 'true') {\n            return true;\n        }\n        // Then check cookies\n        const profile = getUserProfile();\n        return profile && profile.username && profile.sex;\n    } catch (error) {\n        console.error('Error checking profile completion:', error);\n        return false;\n    }\n};\n// Get user preferences\nconst getUserPreferences = ()=>{\n    try {\n        const preferencesStr = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(USER_PREFERENCES_COOKIE);\n        if (preferencesStr) {\n            return JSON.parse(preferencesStr);\n        }\n        return null;\n    } catch (error) {\n        console.error('Error reading user preferences:', error);\n        return null;\n    }\n};\n// Update user preferences\nconst updateUserPreferences = (preferencesData)=>{\n    try {\n        const currentPreferences = getUserPreferences() || {};\n        const updatedPreferences = {\n            ...currentPreferences,\n            ...preferencesData,\n            updatedAt: new Date().toISOString()\n        };\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(USER_PREFERENCES_COOKIE, JSON.stringify(updatedPreferences), COOKIE_OPTIONS);\n        return updatedPreferences;\n    } catch (error) {\n        console.error('Error updating user preferences:', error);\n        return null;\n    }\n};\n// Get user consent from cookies\nconst getUserConsent = ()=>{\n    try {\n        const storedConsent = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_COOKIE);\n        const storedDetails = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_DETAILS_COOKIE);\n        if (storedConsent && storedDetails) {\n            const details = JSON.parse(storedDetails);\n            return {\n                userId: details.userId,\n                consentStatus: storedConsent === 'true',\n                consentUpdatedAt: details.timestamp,\n                consentDetails: details\n            };\n        }\n        return {\n            userId: null,\n            consentStatus: null,\n            consentUpdatedAt: null,\n            consentDetails: null\n        };\n    } catch (error) {\n        console.error('Error reading consent from cookies:', error);\n        return {\n            userId: null,\n            consentStatus: null,\n            consentUpdatedAt: null,\n            consentDetails: null\n        };\n    }\n};\n// Update user consent in cookies\nconst updateUserConsent = async (status, details = {})=>{\n    try {\n        // Get or create user ID\n        const userId = details.userId || getOrCreateUserId();\n        // Create consent data object\n        const consentData = {\n            userId,\n            status,\n            timestamp: new Date().toISOString(),\n            ...details\n        };\n        // Save to cookies\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(CONSENT_COOKIE, status.toString(), COOKIE_OPTIONS);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(CONSENT_DETAILS_COOKIE, JSON.stringify(consentData), COOKIE_OPTIONS);\n        // Send consent data to admin\n        try {\n            const response = await fetch('/api/admin/consent-data', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(consentData)\n            });\n            if (!response.ok) {\n                console.warn('Failed to send consent data to admin');\n            }\n        } catch (error) {\n            console.warn('Error sending consent data to admin:', error);\n        }\n        return {\n            userId,\n            consentStatus: status,\n            consentUpdatedAt: consentData.timestamp,\n            consentDetails: consentData\n        };\n    } catch (error) {\n        console.error('Error updating user consent:', error);\n        throw error;\n    }\n};\n// Clear user consent\nconst clearUserConsent = ()=>{\n    try {\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_COOKIE, COOKIE_OPTIONS);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_DETAILS_COOKIE, COOKIE_OPTIONS);\n        return true;\n    } catch (error) {\n        console.error('Error clearing user consent:', error);\n        return false;\n    }\n};\n// Reset consent banner\nconst resetConsentBanner = ()=>{\n    try {\n        clearUserConsent();\n        return true;\n    } catch (error) {\n        console.error('Error resetting consent banner:', error);\n        return false;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3V0aWxzL2NvbnNlbnRNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFtQztBQUNDO0FBQ0o7QUFFaEMsTUFBTUcsaUJBQWlCO0FBQ3ZCLE1BQU1DLHlCQUF5QjtBQUMvQixNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMsMEJBQTBCO0FBRWhDLCtEQUErRDtBQUMvRCxNQUFNQyxpQkFBaUI7SUFDckJDLFNBQVM7SUFDVEMsTUFBTTtJQUNOQyxVQUFVO0FBQ1o7QUFFQSwwQkFBMEI7QUFDbkIsTUFBTUMsb0JBQW9CO0lBQy9CLElBQUk7UUFDRixNQUFNQyxnQkFBZ0JWLHFEQUFXLENBQUNDO1FBQ2xDLE1BQU1XLGdCQUFnQloscURBQVcsQ0FBQ0U7UUFFbEMsSUFBSVEsaUJBQWlCRSxlQUFlO1lBQ2xDLE1BQU1DLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0g7WUFDM0IsT0FBT0MsUUFBUUcsTUFBTTtRQUN2QjtRQUVBLHNDQUFzQztRQUN0QyxNQUFNQyxZQUFZbEIsd0NBQU1BO1FBQ3hCLE9BQU9rQjtJQUNULEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPbkIsd0NBQU1BO0lBQ2Y7QUFDRixFQUFFO0FBRUYsbUJBQW1CO0FBQ1osTUFBTXFCLGlCQUFpQjtJQUM1QixJQUFJO1FBQ0YsTUFBTUMsYUFBYXJCLHFEQUFXLENBQUNHO1FBQy9CLElBQUlrQixZQUFZO1lBQ2QsT0FBT1AsS0FBS0MsS0FBSyxDQUFDTTtRQUNwQjtRQUNBLE9BQU87SUFDVCxFQUFFLE9BQU9ILE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLHNCQUFzQjtBQUNmLE1BQU1JLG9CQUFvQixPQUFPQztJQUN0QyxJQUFJO1FBQ0Ysa0JBQWtCO1FBQ2xCLE1BQU1DLGlCQUFpQkosb0JBQW9CLENBQUM7UUFD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U0FBUztZQUN2Q0MsZ0JBQWdCRztRQUNsQjtJQUNGLEVBQUUsT0FBTzdDLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRixxQkFBcUI7QUFDZCxNQUFNK0MsbUJBQW1CO0lBQzlCLElBQUk7UUFDRmpFLHdEQUFjLENBQUNDLGdCQUFnQkk7UUFDL0JMLHdEQUFjLENBQUNFLHdCQUF3Qkc7UUFDdkMsT0FBTztJQUNULEVBQUUsT0FBT2EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUYsdUJBQXVCO0FBQ2hCLE1BQU1pRCxxQkFBcUI7SUFDaEMsSUFBSTtRQUNGRjtRQUNBLE9BQU87SUFDVCxFQUFFLE9BQU8vQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU87SUFDVDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9hcHAvdXRpbHMvY29uc2VudE1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZnJvbnRlbmQvdXRpbHMvY29uc2VudE1hbmFnZXIuanNcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcblxuY29uc3QgQ09OU0VOVF9DT09LSUUgPSAnZXllX3RyYWNraW5nX2NvbnNlbnQnO1xuY29uc3QgQ09OU0VOVF9ERVRBSUxTX0NPT0tJRSA9ICdjb25zZW50X2RldGFpbHMnO1xuY29uc3QgVVNFUl9QUk9GSUxFX0NPT0tJRSA9ICd1c2VyX3Byb2ZpbGUnO1xuY29uc3QgVVNFUl9QUkVGRVJFTkNFU19DT09LSUUgPSAndXNlcl9wcmVmZXJlbmNlcyc7XG5cbi8vIENvb2tpZSBvcHRpb25zIHRoYXQgd29yayBmb3IgYm90aCBsb2NhbGhvc3QgYW5kIElQIGFkZHJlc3Nlc1xuY29uc3QgQ09PS0lFX09QVElPTlMgPSB7XG4gIGV4cGlyZXM6IDM2NSxcbiAgcGF0aDogJy8nLFxuICBzYW1lU2l0ZTogJ0xheCdcbn07XG5cbi8vIEdldCBvciBjcmVhdGUgYSB1c2VyIElEXG5leHBvcnQgY29uc3QgZ2V0T3JDcmVhdGVVc2VySWQgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcmVkQ29uc2VudCA9IENvb2tpZXMuZ2V0KENPTlNFTlRfQ09PS0lFKTtcbiAgICBjb25zdCBzdG9yZWREZXRhaWxzID0gQ29va2llcy5nZXQoQ09OU0VOVF9ERVRBSUxTX0NPT0tJRSk7XG4gICAgXG4gICAgaWYgKHN0b3JlZENvbnNlbnQgJiYgc3RvcmVkRGV0YWlscykge1xuICAgICAgY29uc3QgZGV0YWlscyA9IEpTT04ucGFyc2Uoc3RvcmVkRGV0YWlscyk7XG4gICAgICByZXR1cm4gZGV0YWlscy51c2VySWQ7XG4gICAgfVxuICAgIFxuICAgIC8vIEdlbmVyYXRlIG5ldyB1c2VyIElEIGlmIG5vbmUgZXhpc3RzXG4gICAgY29uc3QgbmV3VXNlcklkID0gdXVpZHY0KCk7XG4gICAgcmV0dXJuIG5ld1VzZXJJZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nL2NyZWF0aW5nIHVzZXIgSUQ6JywgZXJyb3IpO1xuICAgIHJldHVybiB1dWlkdjQoKTtcbiAgfVxufTtcblxuLy8gR2V0IHVzZXIgcHJvZmlsZVxuZXhwb3J0IGNvbnN0IGdldFVzZXJQcm9maWxlID0gKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHByb2ZpbGVTdHIgPSBDb29raWVzLmdldChVU0VSX1BST0ZJTEVfQ09PS0lFKTtcbiAgICBpZiAocHJvZmlsZVN0cikge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UocHJvZmlsZVN0cik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuLy8gVXBkYXRlIHVzZXIgcHJvZmlsZVxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJQcm9maWxlID0gYXN5bmMgKHByb2ZpbGVEYXRhKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gU2F2ZSB0byBjb29raWVzXG4gICAgY29uc3QgY3VycmVudFByb2ZpbGUgPSBnZXRVc2VyUHJvZmlsZSgpIHx8IHt9O1xuICAgIGNvbnN0IHVwZGF0ZWRQcm9maWxlID0ge1xuICAgICAgLi4uY3VycmVudFByb2ZpbGUsXG4gICAgICAuLi5wcm9maWxlRGF0YSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBDb29raWVzLnNldChVU0VSX1BST0ZJTEVfQ09PS0lFLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUHJvZmlsZSksIENPT0tJRV9PUFRJT05TKTtcblxuICAgIC8vIFNhdmUgdG8gYmFja2VuZCAoTW9uZ29EQilcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcklkID0gZ2V0T3JDcmVhdGVVc2VySWQoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlci1wcmVmZXJlbmNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgIHByZWZlcmVuY2VzOiB1cGRhdGVkUHJvZmlsZVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBwcm9maWxlIHRvIGJhY2tlbmQnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIHByb2ZpbGUgaXMgY29tcGxldGUgKGhhcyB1c2VybmFtZSBhbmQgc2V4KVxuICAgICAgY29uc3QgaXNDb21wbGV0ZSA9IHVwZGF0ZWRQcm9maWxlLnVzZXJuYW1lICYmIHVwZGF0ZWRQcm9maWxlLnNleDtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgcHJvZmlsZSBjb21wbGV0aW9uIHN0YXR1cyBpbiBzZXNzaW9uIHN0b3JhZ2VcbiAgICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Byb2ZpbGVDb21wbGV0ZScsICd0cnVlJyk7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHVzZXJJZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnVwZGF0ZWRQcm9maWxlLFxuICAgICAgICBpc0NvbXBsZXRlXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKHNhdmVFcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdFcnJvciBzYXZpbmcgcHJvZmlsZSB0byBiYWNrZW5kOicsIHNhdmVFcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gQ2hlY2sgaWYgcHJvZmlsZSBpcyBjb21wbGV0ZVxuZXhwb3J0IGNvbnN0IGlzUHJvZmlsZUNvbXBsZXRlID0gKCkgPT4ge1xuICB0cnkge1xuICAgIC8vIEZpcnN0IGNoZWNrIHNlc3Npb24gc3RvcmFnZVxuICAgIGNvbnN0IHNlc3Npb25Db21wbGV0ZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Byb2ZpbGVDb21wbGV0ZScpO1xuICAgIGlmIChzZXNzaW9uQ29tcGxldGUgPT09ICd0cnVlJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gVGhlbiBjaGVjayBjb29raWVzXG4gICAgY29uc3QgcHJvZmlsZSA9IGdldFVzZXJQcm9maWxlKCk7XG4gICAgcmV0dXJuIHByb2ZpbGUgJiYgcHJvZmlsZS51c2VybmFtZSAmJiBwcm9maWxlLnNleDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBwcm9maWxlIGNvbXBsZXRpb246JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gR2V0IHVzZXIgcHJlZmVyZW5jZXNcbmV4cG9ydCBjb25zdCBnZXRVc2VyUHJlZmVyZW5jZXMgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJlZmVyZW5jZXNTdHIgPSBDb29raWVzLmdldChVU0VSX1BSRUZFUkVOQ0VTX0NPT0tJRSk7XG4gICAgaWYgKHByZWZlcmVuY2VzU3RyKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShwcmVmZXJlbmNlc1N0cik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgdXNlciBwcmVmZXJlbmNlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIFVwZGF0ZSB1c2VyIHByZWZlcmVuY2VzXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByZWZlcmVuY2VzID0gKHByZWZlcmVuY2VzRGF0YSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGN1cnJlbnRQcmVmZXJlbmNlcyA9IGdldFVzZXJQcmVmZXJlbmNlcygpIHx8IHt9O1xuICAgIGNvbnN0IHVwZGF0ZWRQcmVmZXJlbmNlcyA9IHtcbiAgICAgIC4uLmN1cnJlbnRQcmVmZXJlbmNlcyxcbiAgICAgIC4uLnByZWZlcmVuY2VzRGF0YSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBDb29raWVzLnNldChVU0VSX1BSRUZFUkVOQ0VTX0NPT0tJRSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZFByZWZlcmVuY2VzKSwgQ09PS0lFX09QVElPTlMpO1xuICAgIHJldHVybiB1cGRhdGVkUHJlZmVyZW5jZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBwcmVmZXJlbmNlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIEdldCB1c2VyIGNvbnNlbnQgZnJvbSBjb29raWVzXG5leHBvcnQgY29uc3QgZ2V0VXNlckNvbnNlbnQgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcmVkQ29uc2VudCA9IENvb2tpZXMuZ2V0KENPTlNFTlRfQ09PS0lFKTtcbiAgICBjb25zdCBzdG9yZWREZXRhaWxzID0gQ29va2llcy5nZXQoQ09OU0VOVF9ERVRBSUxTX0NPT0tJRSk7XG4gICAgXG4gICAgaWYgKHN0b3JlZENvbnNlbnQgJiYgc3RvcmVkRGV0YWlscykge1xuICAgICAgY29uc3QgZGV0YWlscyA9IEpTT04ucGFyc2Uoc3RvcmVkRGV0YWlscyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1c2VySWQ6IGRldGFpbHMudXNlcklkLFxuICAgICAgICBjb25zZW50U3RhdHVzOiBzdG9yZWRDb25zZW50ID09PSAndHJ1ZScsXG4gICAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IGRldGFpbHMudGltZXN0YW1wLFxuICAgICAgICBjb25zZW50RGV0YWlsczogZGV0YWlsc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJJZDogbnVsbCxcbiAgICAgIGNvbnNlbnRTdGF0dXM6IG51bGwsXG4gICAgICBjb25zZW50VXBkYXRlZEF0OiBudWxsLFxuICAgICAgY29uc2VudERldGFpbHM6IG51bGxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgY29uc2VudCBmcm9tIGNvb2tpZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VySWQ6IG51bGwsXG4gICAgICBjb25zZW50U3RhdHVzOiBudWxsLFxuICAgICAgY29uc2VudFVwZGF0ZWRBdDogbnVsbCxcbiAgICAgIGNvbnNlbnREZXRhaWxzOiBudWxsXG4gICAgfTtcbiAgfVxufTtcblxuLy8gVXBkYXRlIHVzZXIgY29uc2VudCBpbiBjb29raWVzXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckNvbnNlbnQgPSBhc3luYyAoc3RhdHVzLCBkZXRhaWxzID0ge30pID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgb3IgY3JlYXRlIHVzZXIgSURcbiAgICBjb25zdCB1c2VySWQgPSBkZXRhaWxzLnVzZXJJZCB8fCBnZXRPckNyZWF0ZVVzZXJJZCgpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBjb25zZW50IGRhdGEgb2JqZWN0XG4gICAgY29uc3QgY29uc2VudERhdGEgPSB7XG4gICAgICB1c2VySWQsXG4gICAgICBzdGF0dXMsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIC4uLmRldGFpbHNcbiAgICB9O1xuICAgIFxuICAgIC8vIFNhdmUgdG8gY29va2llc1xuICAgIENvb2tpZXMuc2V0KENPTlNFTlRfQ09PS0lFLCBzdGF0dXMudG9TdHJpbmcoKSwgQ09PS0lFX09QVElPTlMpO1xuICAgIENvb2tpZXMuc2V0KENPTlNFTlRfREVUQUlMU19DT09LSUUsIEpTT04uc3RyaW5naWZ5KGNvbnNlbnREYXRhKSwgQ09PS0lFX09QVElPTlMpO1xuICAgIFxuICAgIC8vIFNlbmQgY29uc2VudCBkYXRhIHRvIGFkbWluXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vY29uc2VudC1kYXRhJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNvbnNlbnREYXRhKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2VuZCBjb25zZW50IGRhdGEgdG8gYWRtaW4nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdFcnJvciBzZW5kaW5nIGNvbnNlbnQgZGF0YSB0byBhZG1pbjonLCBlcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB1c2VySWQsXG4gICAgICBjb25zZW50U3RhdHVzOiBzdGF0dXMsXG4gICAgICBjb25zZW50VXBkYXRlZEF0OiBjb25zZW50RGF0YS50aW1lc3RhbXAsXG4gICAgICBjb25zZW50RGV0YWlsczogY29uc2VudERhdGFcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXIgY29uc2VudDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIENsZWFyIHVzZXIgY29uc2VudFxuZXhwb3J0IGNvbnN0IGNsZWFyVXNlckNvbnNlbnQgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgQ29va2llcy5yZW1vdmUoQ09OU0VOVF9DT09LSUUsIENPT0tJRV9PUFRJT05TKTtcbiAgICBDb29raWVzLnJlbW92ZShDT05TRU5UX0RFVEFJTFNfQ09PS0lFLCBDT09LSUVfT1BUSU9OUyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYXJpbmcgdXNlciBjb25zZW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIFJlc2V0IGNvbnNlbnQgYmFubmVyXG5leHBvcnQgY29uc3QgcmVzZXRDb25zZW50QmFubmVyID0gKCkgPT4ge1xuICB0cnkge1xuICAgIGNsZWFyVXNlckNvbnNlbnQoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNldHRpbmcgY29uc2VudCBiYW5uZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTsiXSwibmFtZXMiOlsidjQiLCJ1dWlkdjQiLCJDb29raWVzIiwiQ09OU0VOVF9DT09LSUUiLCJDT05TRU5UX0RFVEFJTFNfQ09PS0lFIiwiVVNFUl9QUk9GSUxFX0NPT0tJRSIsIlVTRVJfUFJFRkVSRU5DRVNfQ09PS0lFIiwiQ09PS0lFX09QVElPTlMiLCJleHBpcmVzIiwicGF0aCIsInNhbWVTaXRlIiwiZ2V0T3JDcmVhdGVVc2VySWQiLCJzdG9yZWRDb25zZW50IiwiZ2V0Iiwic3RvcmVkRGV0YWlscyIsImRldGFpbHMiLCJKU09OIiwicGFyc2UiLCJ1c2VySWQiLCJuZXdVc2VySWQiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRVc2VyUHJvZmlsZSIsInByb2ZpbGVTdHIiLCJ1cGRhdGVVc2VyUHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiY3VycmVudFByb2ZpbGUiLCJ1cGRhdGVkUHJvZmlsZSIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNldCIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInVzZXJfaWQiLCJwcmVmZXJlbmNlcyIsIm9rIiwid2FybiIsImlzQ29tcGxldGUiLCJ1c2VybmFtZSIsInNleCIsInNlc3Npb25TdG9yYWdlIiwic2V0SXRlbSIsInNhdmVFcnJvciIsImlzUHJvZmlsZUNvbXBsZXRlIiwic2Vzc2lvbkNvbXBsZXRlIiwiZ2V0SXRlbSIsInByb2ZpbGUiLCJnZXRVc2VyUHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlc1N0ciIsInVwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsInByZWZlcmVuY2VzRGF0YSIsImN1cnJlbnRQcmVmZXJlbmNlcyIsInVwZGF0ZWRQcmVmZXJlbmNlcyIsImdldFVzZXJDb25zZW50IiwiY29uc2VudFN0YXR1cyIsImNvbnNlbnRVcGRhdGVkQXQiLCJ0aW1lc3RhbXAiLCJjb25zZW50RGV0YWlscyIsInVwZGF0ZVVzZXJDb25zZW50Iiwic3RhdHVzIiwiY29uc2VudERhdGEiLCJ0b1N0cmluZyIsImNsZWFyVXNlckNvbnNlbnQiLCJyZW1vdmUiLCJyZXNldENvbnNlbnRCYW5uZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/consentManager.js\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/stateManager.js":
/*!*******************************!*\
  !*** ./utils/stateManager.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppStateProvider: () => (/* binding */ AppStateProvider),\n/* harmony export */   BackendConnectionProvider: () => (/* binding */ BackendConnectionProvider),\n/* harmony export */   ProcessStatusProvider: () => (/* binding */ ProcessStatusProvider),\n/* harmony export */   useBackendConnection: () => (/* binding */ useBackendConnection),\n/* harmony export */   useProcessStatus: () => (/* binding */ useProcessStatus)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Create a context for the process status\nconst ProcessStatusContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Create a context for the backend connection status\nconst BackendConnectionContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Time constants (in milliseconds)\nconst CONNECTION_CHECK_INTERVAL = 30000; // 30 seconds\nconst CONNECTION_CHECK_TIMEOUT = 5000; // 5 seconds\n// Create a provider component for process status\nfunction ProcessStatusProvider({ children }) {\n    // This state will determine if the process is ready (true) or not (false)\n    const [isProcessReady, setIsProcessReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Add a flag to prevent automatic updates\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Function to toggle the state\n    const toggleProcessStatus = ()=>{\n        const newStatus = !isProcessReady;\n        setIsProcessReady(newStatus);\n        // Save to localStorage when explicitly toggled\n        localStorage.setItem('processStatus', String(newStatus));\n    };\n    // Function to set the status directly\n    const setProcessStatus = (status)=>{\n        setIsProcessReady(status);\n        // Save to localStorage when explicitly set\n        localStorage.setItem('processStatus', String(status));\n    };\n    // Only load from localStorage on initial mount, don't auto-save on every render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ProcessStatusProvider.useEffect\": ()=>{\n            // Only run this once on component mount\n            if (!isInitialized) {\n                const storedValue = localStorage.getItem('processStatus');\n                if (storedValue !== null) {\n                    setIsProcessReady(storedValue === 'true');\n                }\n                setIsInitialized(true);\n            }\n        }\n    }[\"ProcessStatusProvider.useEffect\"], [\n        isInitialized\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProcessStatusContext.Provider, {\n        value: {\n            isProcessReady,\n            toggleProcessStatus,\n            setProcessStatus\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/app/utils/stateManager.js\",\n        lineNumber: 48,\n        columnNumber: 5\n    }, this);\n}\n// Create a provider component for backend connection\nfunction BackendConnectionProvider({ children }) {\n    const [connectionState, setConnectionState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isConnected: false,\n        authValid: false,\n        isChecking: false,\n        lastChecked: null,\n        serverInfo: {},\n        error: null\n    });\n    const [checkTimer, setCheckTimer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Function to check backend connection\n    const checkConnection = async (force = false)=>{\n        // Prevent frequent checks unless forced\n        if (connectionState.isChecking || !force && connectionState.lastChecked && Date.now() - connectionState.lastChecked < 5000) {\n            return;\n        }\n        // Update checking state\n        setConnectionState((prev)=>({\n                ...prev,\n                isChecking: true,\n                error: null\n            }));\n        try {\n            console.log(\"Checking backend connection...\");\n            const response = await fetch('/api/check-backend-connection');\n            if (!response.ok) {\n                throw new Error(`HTTP error! Status: ${response.status}`);\n            }\n            const data = await response.json();\n            console.log(\"Backend connection response:\", data);\n            setConnectionState({\n                isConnected: data.connected,\n                authValid: data.authValid || false,\n                isChecking: false,\n                lastChecked: Date.now(),\n                serverInfo: data.serverInfo || {},\n                error: null\n            });\n        } catch (err) {\n            console.error(\"Backend connection check failed:\", err);\n            setConnectionState((prev)=>({\n                    ...prev,\n                    isConnected: false,\n                    authValid: false,\n                    isChecking: false,\n                    lastChecked: Date.now(),\n                    error: err.message || \"Failed to connect to backend\"\n                }));\n        }\n    };\n    // Initial connection check on mount and set up periodic checks\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            // Check immediately on first load\n            checkConnection(true);\n            // Set up periodic checks\n            const intervalId = setInterval({\n                \"BackendConnectionProvider.useEffect.intervalId\": ()=>{\n                    checkConnection();\n                }\n            }[\"BackendConnectionProvider.useEffect.intervalId\"], CONNECTION_CHECK_INTERVAL);\n            // Clean up on unmount\n            return ({\n                \"BackendConnectionProvider.useEffect\": ()=>{\n                    clearInterval(intervalId);\n                    if (checkTimer) clearTimeout(checkTimer);\n                }\n            })[\"BackendConnectionProvider.useEffect\"];\n        }\n    }[\"BackendConnectionProvider.useEffect\"], []);\n    // Auto-reconnect when disconnected\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            if (!connectionState.isConnected && !connectionState.isChecking && !checkTimer) {\n                // Wait 5 seconds before retrying\n                const timer = setTimeout({\n                    \"BackendConnectionProvider.useEffect.timer\": ()=>{\n                        checkConnection(true);\n                        setCheckTimer(null);\n                    }\n                }[\"BackendConnectionProvider.useEffect.timer\"], 5000);\n                setCheckTimer(timer);\n                return ({\n                    \"BackendConnectionProvider.useEffect\": ()=>clearTimeout(timer)\n                })[\"BackendConnectionProvider.useEffect\"];\n            }\n        }\n    }[\"BackendConnectionProvider.useEffect\"], [\n        connectionState.isConnected,\n        connectionState.isChecking\n    ]);\n    // Check connection when tab becomes visible again\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            const handleVisibilityChange = {\n                \"BackendConnectionProvider.useEffect.handleVisibilityChange\": ()=>{\n                    if (document.visibilityState === 'visible' && (!connectionState.lastChecked || Date.now() - connectionState.lastChecked > CONNECTION_CHECK_INTERVAL)) {\n                        checkConnection();\n                    }\n                }\n            }[\"BackendConnectionProvider.useEffect.handleVisibilityChange\"];\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            return ({\n                \"BackendConnectionProvider.useEffect\": ()=>{\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                }\n            })[\"BackendConnectionProvider.useEffect\"];\n        }\n    }[\"BackendConnectionProvider.useEffect\"], [\n        connectionState.lastChecked\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BackendConnectionContext.Provider, {\n        value: {\n            ...connectionState,\n            checkConnection\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/app/utils/stateManager.js\",\n        lineNumber: 165,\n        columnNumber: 5\n    }, this);\n}\n// Combined provider for convenience\nfunction AppStateProvider({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProcessStatusProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BackendConnectionProvider, {\n            children: children\n        }, void 0, false, {\n            fileName: \"/app/utils/stateManager.js\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/utils/stateManager.js\",\n        lineNumber: 179,\n        columnNumber: 5\n    }, this);\n}\n// Create custom hooks to use the contexts\nfunction useProcessStatus() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ProcessStatusContext);\n    if (context === undefined) {\n        throw new Error('useProcessStatus must be used within a ProcessStatusProvider');\n    }\n    return context;\n}\nfunction useBackendConnection() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(BackendConnectionContext);\n    if (context === undefined) {\n        throw new Error('useBackendConnection must be used within a BackendConnectionProvider');\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUIsU0FBU0UsZ0JBQWdCLENBQUMsb0JBQW9CSDtZQUU5Qzt1REFBTztvQkFDTEMsU0FBU0csbUJBQW1CLENBQUMsb0JBQW9CSjtnQkFDbkQ7O1FBQ0Y7OENBQUc7UUFBQ2hDLGdCQUFnQkssV0FBVztLQUFDO0lBRWhDLHFCQUNFLDhEQUFDMUIseUJBQXlCa0IsUUFBUTtRQUNoQ0MsT0FBTztZQUNMLEdBQUdFLGVBQWU7WUFDbEJVO1FBQ0Y7a0JBRUMzQjs7Ozs7O0FBR1A7QUFFQSxvQ0FBb0M7QUFDN0IsU0FBU3NELGlCQUFpQixFQUFFdEQsUUFBUSxFQUFFO0lBQzNDLHFCQUNFLDhEQUFDRDtrQkFDQyw0RUFBQ2lCO3NCQUNFaEI7Ozs7Ozs7Ozs7O0FBSVQ7QUFFQSwwQ0FBMEM7QUFDbkMsU0FBU3VEO0lBQ2QsTUFBTUMsVUFBVS9ELGlEQUFVQSxDQUFDRTtJQUMzQixJQUFJNkQsWUFBWUMsV0FBVztRQUN6QixNQUFNLElBQUlwQixNQUFNO0lBQ2xCO0lBQ0EsT0FBT21CO0FBQ1Q7QUFFTyxTQUFTRTtJQUNkLE1BQU1GLFVBQVUvRCxpREFBVUEsQ0FBQ0c7SUFDM0IsSUFBSTRELFlBQVlDLFdBQVc7UUFDekIsTUFBTSxJQUFJcEIsTUFBTTtJQUNsQjtJQUNBLE9BQU9tQjtBQUNUIiwic291cmNlcyI6WyIvYXBwL3V0aWxzL3N0YXRlTWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ29udGV4dCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG4vLyBDcmVhdGUgYSBjb250ZXh0IGZvciB0aGUgcHJvY2VzcyBzdGF0dXNcbmNvbnN0IFByb2Nlc3NTdGF0dXNDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG4vLyBDcmVhdGUgYSBjb250ZXh0IGZvciB0aGUgYmFja2VuZCBjb25uZWN0aW9uIHN0YXR1c1xuY29uc3QgQmFja2VuZENvbm5lY3Rpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG4vLyBUaW1lIGNvbnN0YW50cyAoaW4gbWlsbGlzZWNvbmRzKVxuY29uc3QgQ09OTkVDVElPTl9DSEVDS19JTlRFUlZBTCA9IDMwMDAwOyAvLyAzMCBzZWNvbmRzXG5jb25zdCBDT05ORUNUSU9OX0NIRUNLX1RJTUVPVVQgPSA1MDAwOyAgIC8vIDUgc2Vjb25kc1xuXG4vLyBDcmVhdGUgYSBwcm92aWRlciBjb21wb25lbnQgZm9yIHByb2Nlc3Mgc3RhdHVzXG5leHBvcnQgZnVuY3Rpb24gUHJvY2Vzc1N0YXR1c1Byb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAvLyBUaGlzIHN0YXRlIHdpbGwgZGV0ZXJtaW5lIGlmIHRoZSBwcm9jZXNzIGlzIHJlYWR5ICh0cnVlKSBvciBub3QgKGZhbHNlKVxuICBjb25zdCBbaXNQcm9jZXNzUmVhZHksIHNldElzUHJvY2Vzc1JlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy8gQWRkIGEgZmxhZyB0byBwcmV2ZW50IGF1dG9tYXRpYyB1cGRhdGVzXG4gIGNvbnN0IFtpc0luaXRpYWxpemVkLCBzZXRJc0luaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBGdW5jdGlvbiB0byB0b2dnbGUgdGhlIHN0YXRlXG4gIGNvbnN0IHRvZ2dsZVByb2Nlc3NTdGF0dXMgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3U3RhdHVzID0gIWlzUHJvY2Vzc1JlYWR5O1xuICAgIHNldElzUHJvY2Vzc1JlYWR5KG5ld1N0YXR1cyk7XG4gICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2Ugd2hlbiBleHBsaWNpdGx5IHRvZ2dsZWRcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvY2Vzc1N0YXR1cycsIFN0cmluZyhuZXdTdGF0dXMpKTtcbiAgfTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIHNldCB0aGUgc3RhdHVzIGRpcmVjdGx5XG4gIGNvbnN0IHNldFByb2Nlc3NTdGF0dXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgc2V0SXNQcm9jZXNzUmVhZHkoc3RhdHVzKTtcbiAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZSB3aGVuIGV4cGxpY2l0bHkgc2V0XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2Nlc3NTdGF0dXMnLCBTdHJpbmcoc3RhdHVzKSk7XG4gIH07XG5cbiAgLy8gT25seSBsb2FkIGZyb20gbG9jYWxTdG9yYWdlIG9uIGluaXRpYWwgbW91bnQsIGRvbid0IGF1dG8tc2F2ZSBvbiBldmVyeSByZW5kZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHJ1biB0aGlzIG9uY2Ugb24gY29tcG9uZW50IG1vdW50XG4gICAgaWYgKCFpc0luaXRpYWxpemVkKSB7XG4gICAgICBjb25zdCBzdG9yZWRWYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9jZXNzU3RhdHVzJyk7XG4gICAgICBpZiAoc3RvcmVkVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgc2V0SXNQcm9jZXNzUmVhZHkoc3RvcmVkVmFsdWUgPT09ICd0cnVlJyk7XG4gICAgICB9XG4gICAgICBzZXRJc0luaXRpYWxpemVkKHRydWUpO1xuICAgIH1cbiAgfSwgW2lzSW5pdGlhbGl6ZWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxQcm9jZXNzU3RhdHVzQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBpc1Byb2Nlc3NSZWFkeSwgdG9nZ2xlUHJvY2Vzc1N0YXR1cywgc2V0UHJvY2Vzc1N0YXR1cyB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1Byb2Nlc3NTdGF0dXNDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG4vLyBDcmVhdGUgYSBwcm92aWRlciBjb21wb25lbnQgZm9yIGJhY2tlbmQgY29ubmVjdGlvblxuZXhwb3J0IGZ1bmN0aW9uIEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gIGNvbnN0IFtjb25uZWN0aW9uU3RhdGUsIHNldENvbm5lY3Rpb25TdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgIGF1dGhWYWxpZDogZmFsc2UsXG4gICAgaXNDaGVja2luZzogZmFsc2UsXG4gICAgbGFzdENoZWNrZWQ6IG51bGwsXG4gICAgc2VydmVySW5mbzoge30sXG4gICAgZXJyb3I6IG51bGxcbiAgfSk7XG4gIGNvbnN0IFtjaGVja1RpbWVyLCBzZXRDaGVja1RpbWVyXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGJhY2tlbmQgY29ubmVjdGlvblxuICBjb25zdCBjaGVja0Nvbm5lY3Rpb24gPSBhc3luYyAoZm9yY2UgPSBmYWxzZSkgPT4ge1xuICAgIC8vIFByZXZlbnQgZnJlcXVlbnQgY2hlY2tzIHVubGVzcyBmb3JjZWRcbiAgICBpZiAoY29ubmVjdGlvblN0YXRlLmlzQ2hlY2tpbmcgfHwgXG4gICAgICAgICghZm9yY2UgJiYgXG4gICAgICAgICBjb25uZWN0aW9uU3RhdGUubGFzdENoZWNrZWQgJiYgXG4gICAgICAgICBEYXRlLm5vdygpIC0gY29ubmVjdGlvblN0YXRlLmxhc3RDaGVja2VkIDwgNTAwMCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgY2hlY2tpbmcgc3RhdGVcbiAgICBzZXRDb25uZWN0aW9uU3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGlzQ2hlY2tpbmc6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbFxuICAgIH0pKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIGJhY2tlbmQgY29ubmVjdGlvbi4uLlwiKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2hlY2stYmFja2VuZC1jb25uZWN0aW9uJyk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBTdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coXCJCYWNrZW5kIGNvbm5lY3Rpb24gcmVzcG9uc2U6XCIsIGRhdGEpO1xuICAgICAgXG4gICAgICBzZXRDb25uZWN0aW9uU3RhdGUoe1xuICAgICAgICBpc0Nvbm5lY3RlZDogZGF0YS5jb25uZWN0ZWQsXG4gICAgICAgIGF1dGhWYWxpZDogZGF0YS5hdXRoVmFsaWQgfHwgZmFsc2UsXG4gICAgICAgIGlzQ2hlY2tpbmc6IGZhbHNlLFxuICAgICAgICBsYXN0Q2hlY2tlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgc2VydmVySW5mbzogZGF0YS5zZXJ2ZXJJbmZvIHx8IHt9LFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQmFja2VuZCBjb25uZWN0aW9uIGNoZWNrIGZhaWxlZDpcIiwgZXJyKTtcbiAgICAgIFxuICAgICAgc2V0Q29ubmVjdGlvblN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhdXRoVmFsaWQ6IGZhbHNlLFxuICAgICAgICBpc0NoZWNraW5nOiBmYWxzZSxcbiAgICAgICAgbGFzdENoZWNrZWQ6IERhdGUubm93KCksXG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBjb25uZWN0IHRvIGJhY2tlbmRcIlxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuICAvLyBJbml0aWFsIGNvbm5lY3Rpb24gY2hlY2sgb24gbW91bnQgYW5kIHNldCB1cCBwZXJpb2RpYyBjaGVja3NcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDaGVjayBpbW1lZGlhdGVseSBvbiBmaXJzdCBsb2FkXG4gICAgY2hlY2tDb25uZWN0aW9uKHRydWUpO1xuICAgIFxuICAgIC8vIFNldCB1cCBwZXJpb2RpYyBjaGVja3NcbiAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgfSwgQ09OTkVDVElPTl9DSEVDS19JTlRFUlZBTCk7XG4gICAgXG4gICAgLy8gQ2xlYW4gdXAgb24gdW5tb3VudFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgaWYgKGNoZWNrVGltZXIpIGNsZWFyVGltZW91dChjaGVja1RpbWVyKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gQXV0by1yZWNvbm5lY3Qgd2hlbiBkaXNjb25uZWN0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNvbm5lY3Rpb25TdGF0ZS5pc0Nvbm5lY3RlZCAmJiAhY29ubmVjdGlvblN0YXRlLmlzQ2hlY2tpbmcgJiYgIWNoZWNrVGltZXIpIHtcbiAgICAgIC8vIFdhaXQgNSBzZWNvbmRzIGJlZm9yZSByZXRyeWluZ1xuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2hlY2tDb25uZWN0aW9uKHRydWUpO1xuICAgICAgICBzZXRDaGVja1RpbWVyKG51bGwpO1xuICAgICAgfSwgNTAwMCk7XG4gICAgICBcbiAgICAgIHNldENoZWNrVGltZXIodGltZXIpO1xuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuICB9LCBbY29ubmVjdGlvblN0YXRlLmlzQ29ubmVjdGVkLCBjb25uZWN0aW9uU3RhdGUuaXNDaGVja2luZ10pO1xuXG4gIC8vIENoZWNrIGNvbm5lY3Rpb24gd2hlbiB0YWIgYmVjb21lcyB2aXNpYmxlIGFnYWluXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJyAmJiBcbiAgICAgICAgICAoIWNvbm5lY3Rpb25TdGF0ZS5sYXN0Q2hlY2tlZCB8fCBcbiAgICAgICAgICAgRGF0ZS5ub3coKSAtIGNvbm5lY3Rpb25TdGF0ZS5sYXN0Q2hlY2tlZCA+IENPTk5FQ1RJT05fQ0hFQ0tfSU5URVJWQUwpKSB7XG4gICAgICAgIGNoZWNrQ29ubmVjdGlvbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB9O1xuICB9LCBbY29ubmVjdGlvblN0YXRlLmxhc3RDaGVja2VkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8QmFja2VuZENvbm5lY3Rpb25Db250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICAuLi5jb25uZWN0aW9uU3RhdGUsXG4gICAgICAgIGNoZWNrQ29ubmVjdGlvblxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9CYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbi8vIENvbWJpbmVkIHByb3ZpZGVyIGZvciBjb252ZW5pZW5jZVxuZXhwb3J0IGZ1bmN0aW9uIEFwcFN0YXRlUHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gIHJldHVybiAoXG4gICAgPFByb2Nlc3NTdGF0dXNQcm92aWRlcj5cbiAgICAgIDxCYWNrZW5kQ29ubmVjdGlvblByb3ZpZGVyPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L0JhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgPC9Qcm9jZXNzU3RhdHVzUHJvdmlkZXI+XG4gICk7XG59XG5cbi8vIENyZWF0ZSBjdXN0b20gaG9va3MgdG8gdXNlIHRoZSBjb250ZXh0c1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVByb2Nlc3NTdGF0dXMoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFByb2Nlc3NTdGF0dXNDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlUHJvY2Vzc1N0YXR1cyBtdXN0IGJlIHVzZWQgd2l0aGluIGEgUHJvY2Vzc1N0YXR1c1Byb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VCYWNrZW5kQ29ubmVjdGlvbigpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQmFja2VuZENvbm5lY3Rpb25Db250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQmFja2VuZENvbm5lY3Rpb24gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsIlByb2Nlc3NTdGF0dXNDb250ZXh0IiwiQmFja2VuZENvbm5lY3Rpb25Db250ZXh0IiwiQ09OTkVDVElPTl9DSEVDS19JTlRFUlZBTCIsIkNPTk5FQ1RJT05fQ0hFQ0tfVElNRU9VVCIsIlByb2Nlc3NTdGF0dXNQcm92aWRlciIsImNoaWxkcmVuIiwiaXNQcm9jZXNzUmVhZHkiLCJzZXRJc1Byb2Nlc3NSZWFkeSIsImlzSW5pdGlhbGl6ZWQiLCJzZXRJc0luaXRpYWxpemVkIiwidG9nZ2xlUHJvY2Vzc1N0YXR1cyIsIm5ld1N0YXR1cyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJTdHJpbmciLCJzZXRQcm9jZXNzU3RhdHVzIiwic3RhdHVzIiwic3RvcmVkVmFsdWUiLCJnZXRJdGVtIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIkJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXIiLCJjb25uZWN0aW9uU3RhdGUiLCJzZXRDb25uZWN0aW9uU3RhdGUiLCJpc0Nvbm5lY3RlZCIsImF1dGhWYWxpZCIsImlzQ2hlY2tpbmciLCJsYXN0Q2hlY2tlZCIsInNlcnZlckluZm8iLCJlcnJvciIsImNoZWNrVGltZXIiLCJzZXRDaGVja1RpbWVyIiwiY2hlY2tDb25uZWN0aW9uIiwiZm9yY2UiLCJEYXRlIiwibm93IiwicHJldiIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwiZXJyIiwibWVzc2FnZSIsImludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiZG9jdW1lbnQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkFwcFN0YXRlUHJvdmlkZXIiLCJ1c2VQcm9jZXNzU3RhdHVzIiwiY29udGV4dCIsInVuZGVmaW5lZCIsInVzZUJhY2tlbmRDb25uZWN0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/stateManager.js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "js-cookie":
/*!****************************!*\
  !*** external "js-cookie" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = import("js-cookie");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/page-path/normalize-data-path":
/*!*********************************************************************!*\
  !*** external "next/dist/shared/lib/page-path/normalize-data-path" ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/page-path/normalize-data-path");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/add-path-prefix":
/*!********************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/add-path-prefix" ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/format-url":
/*!***************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/format-url" ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/format-url");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/is-bot":
/*!***********************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/is-bot" ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/remove-trailing-slash":
/*!**************************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/remove-trailing-slash" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash");

/***/ }),

/***/ "next/dist/shared/lib/utils":
/*!*********************************************!*\
  !*** external "next/dist/shared/lib/utils" ***!
  \*********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/utils");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "styled-jsx/style":
/*!***********************************!*\
  !*** external "styled-jsx/style" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("styled-jsx/style");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_pages_collected-dataset_components-gui_VideoProcessorComponent_js";
exports.ids = ["_pages-dir-node_pages_collected-dataset_components-gui_VideoProcessorComponent_js"];
exports.modules = {

/***/ "(pages-dir-node)/./pages/collected-dataset/components-gui/VideoProcessorComponent.js":
/*!***************************************************************************!*\
  !*** ./pages/collected-dataset/components-gui/VideoProcessorComponent.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _videoProcessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./videoProcessor */ \"(pages-dir-node)/./pages/collected-dataset/components-gui/videoProcessor.js\");\n// components-gui/VideoProcessorComponent.js\n\n\nconst VideoProcessorComponent = ()=>{\n    const processor = (0,_videoProcessor__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"VideoProcessorComponent.useEffect\": ()=>{\n            if (processor) {\n                window.videoProcessor = processor;\n            }\n        }\n    }[\"VideoProcessorComponent.useEffect\"], [\n        processor\n    ]);\n    return null;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VideoProcessorComponent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL1ZpZGVvUHJvY2Vzc29yQ29tcG9uZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSw0Q0FBNEM7QUFDSDtBQUNRO0FBRWpELE1BQU1HLDBCQUEwQjtJQUM5QixNQUFNQyxZQUFZRiwyREFBaUJBO0lBRW5DRCxnREFBU0E7NkNBQUM7WUFDUixJQUFJRyxXQUFXO2dCQUNiQyxPQUFPQyxjQUFjLEdBQUdGO1lBQzFCO1FBQ0Y7NENBQUc7UUFBQ0E7S0FBVTtJQUVkLE9BQU87QUFDVDtBQUVBLGlFQUFlRCx1QkFBdUJBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC9jb21wb25lbnRzLWd1aS9WaWRlb1Byb2Nlc3NvckNvbXBvbmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzLWd1aS9WaWRlb1Byb2Nlc3NvckNvbXBvbmVudC5qc1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VWaWRlb1Byb2Nlc3NvciBmcm9tICcuL3ZpZGVvUHJvY2Vzc29yJztcblxuY29uc3QgVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQgPSAoKSA9PiB7XG4gIGNvbnN0IHByb2Nlc3NvciA9IHVzZVZpZGVvUHJvY2Vzc29yKCk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICB9XG4gIH0sIFtwcm9jZXNzb3JdKTtcbiAgXG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQ7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlVmlkZW9Qcm9jZXNzb3IiLCJWaWRlb1Byb2Nlc3NvckNvbXBvbmVudCIsInByb2Nlc3NvciIsIndpbmRvdyIsInZpZGVvUHJvY2Vzc29yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset/components-gui/VideoProcessorComponent.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/components-gui/videoProcessor.js":
/*!******************************************************************!*\
  !*** ./pages/collected-dataset/components-gui/videoProcessor.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n// videoProcessor.js\n\nconst useVideoProcessor = ()=>{\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [processingResults, setProcessingResults] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [processingError, setProcessingError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [backendAvailable, setBackendAvailable] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const streamRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const processingIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [options, setOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        showHeadPose: false,\n        showBoundingBox: false,\n        showMask: false,\n        showParameters: false,\n        showProcessedImage: false\n    });\n    // Check backend connection on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useVideoProcessor.useEffect\": ()=>{\n            const checkBackendConnection = {\n                \"useVideoProcessor.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendAvailable(data.connected);\n                        console.log(`Backend connection: ${data.connected ? 'OK' : 'Failed'}`);\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendAvailable(false);\n                    }\n                }\n            }[\"useVideoProcessor.useEffect.checkBackendConnection\"];\n            checkBackendConnection();\n        }\n    }[\"useVideoProcessor.useEffect\"], []);\n    /**\n   * Start video processing with backend\n   */ const startVideoProcessing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVideoProcessor.useCallback[startVideoProcessing]\": async (newOptions = {})=>{\n            if (isProcessing) {\n                // If already processing, just update options\n                updateOptions(newOptions);\n                return;\n            }\n            setProcessingError(null);\n            // Update options\n            updateOptions(newOptions);\n            try {\n                // Request camera access\n                const mediaStream = await navigator.mediaDevices.getUserMedia({\n                    video: true,\n                    audio: false\n                });\n                // Store stream for later cleanup\n                streamRef.current = mediaStream;\n                // If we have a video element reference, attach the stream\n                if (videoRef.current) {\n                    videoRef.current.srcObject = mediaStream;\n                    try {\n                        await videoRef.current.play();\n                        console.log('Video playing successfully');\n                    } catch (playError) {\n                        console.error('Error playing video:', playError);\n                        setProcessingError(`Failed to play video: ${playError.message}`);\n                        stopVideoProcessing();\n                        return;\n                    }\n                }\n                setIsProcessing(true);\n                // Start the frame processing interval\n                processingIntervalRef.current = setInterval({\n                    \"useVideoProcessor.useCallback[startVideoProcessing]\": ()=>{\n                        processCurrentFrame();\n                    }\n                }[\"useVideoProcessor.useCallback[startVideoProcessing]\"], 200); // Process a frame every 200ms (5fps) to reduce server load\n            } catch (error) {\n                console.error('Error starting video processing:', error);\n                setProcessingError(`Failed to access camera: ${error.message}`);\n                stopVideoProcessing();\n            }\n        }\n    }[\"useVideoProcessor.useCallback[startVideoProcessing]\"], [\n        isProcessing\n    ]);\n    /**\n   * Update processing options\n   */ const updateOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVideoProcessor.useCallback[updateOptions]\": (newOptions = {})=>{\n            setOptions({\n                \"useVideoProcessor.useCallback[updateOptions]\": (prevOptions)=>{\n                    const updatedOptions = {\n                        ...prevOptions,\n                        ...newOptions\n                    };\n                    // If we're already processing, update the backend with new options on next frame\n                    if (isProcessing) {\n                        // We don't need to call processCurrentFrame explicitly here\n                        // since it's handled by the interval\n                        console.log('Options updated, will be applied on next frame:', updatedOptions);\n                    }\n                    return updatedOptions;\n                }\n            }[\"useVideoProcessor.useCallback[updateOptions]\"]);\n        }\n    }[\"useVideoProcessor.useCallback[updateOptions]\"], [\n        isProcessing\n    ]);\n    /**\n   * Stop video processing\n   */ const stopVideoProcessing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVideoProcessor.useCallback[stopVideoProcessing]\": ()=>{\n            // Clear the processing interval\n            if (processingIntervalRef.current) {\n                clearInterval(processingIntervalRef.current);\n                processingIntervalRef.current = null;\n            }\n            // Stop all tracks in the media stream\n            if (streamRef.current) {\n                streamRef.current.getTracks().forEach({\n                    \"useVideoProcessor.useCallback[stopVideoProcessing]\": (track)=>{\n                        track.stop();\n                    }\n                }[\"useVideoProcessor.useCallback[stopVideoProcessing]\"]);\n                streamRef.current = null;\n            }\n            // Clear video source\n            if (videoRef.current) {\n                videoRef.current.srcObject = null;\n            }\n            setIsProcessing(false);\n            setProcessingResults(null);\n        }\n    }[\"useVideoProcessor.useCallback[stopVideoProcessing]\"], []);\n    /**\n   * Toggle video processing\n   */ const toggleVideoProcessing = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useVideoProcessor.useCallback[toggleVideoProcessing]\": (newOptions = {})=>{\n            if (isProcessing) {\n                stopVideoProcessing();\n            } else {\n                startVideoProcessing(newOptions);\n            }\n        }\n    }[\"useVideoProcessor.useCallback[toggleVideoProcessing]\"], [\n        isProcessing,\n        startVideoProcessing,\n        stopVideoProcessing\n    ]);\n    /**\n   * Process the current video frame\n   */ const processCurrentFrame = async ()=>{\n        if (!videoRef.current || !streamRef.current || !isProcessing) return;\n        try {\n            // Create a canvas to capture the current frame\n            const canvas = document.createElement('canvas');\n            const context = canvas.getContext('2d');\n            // Set canvas size to match video dimensions\n            canvas.width = videoRef.current.videoWidth;\n            canvas.height = videoRef.current.videoHeight;\n            // Draw the current video frame to the canvas\n            context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n            // Convert canvas to blob (JPEG format with 0.8 quality)\n            const blob = await new Promise((resolve)=>{\n                canvas.toBlob(resolve, 'image/jpeg', 0.8);\n            });\n            if (!blob) {\n                console.error('Failed to capture frame');\n                return;\n            }\n            // Create form data for the API request\n            const formData = new FormData();\n            formData.append('file', blob, 'frame.jpg');\n            // Add processing options - explicitly convert booleans to strings\n            // This is important for proper transmission to the backend\n            formData.append('showHeadPose', options.showHeadPose.toString());\n            formData.append('showBoundingBox', options.showBoundingBox.toString());\n            formData.append('showMask', options.showMask.toString());\n            formData.append('showParameters', options.showParameters.toString());\n            // Log what's being sent to the backend for debugging\n            console.log('Sending options to backend:', {\n                showHeadPose: options.showHeadPose,\n                showBoundingBox: options.showBoundingBox,\n                showMask: options.showMask,\n                showParameters: options.showParameters\n            });\n            // Send to backend API\n            const response = await fetch('/api/process-frame', {\n                method: 'POST',\n                body: formData\n            });\n            if (!response.ok) {\n                throw new Error(`Server error: ${response.status}`);\n            }\n            const result = await response.json();\n            if (result.success) {\n                setProcessingResults(result);\n                // If we have a processed image, display it\n                if (result.image && options.showProcessedImage && canvasRef.current) {\n                    displayProcessedImage(result.image, canvasRef.current);\n                }\n                return result;\n            } else {\n                console.error('Processing failed:', result.error);\n                return null;\n            }\n        } catch (error) {\n            console.error('Error processing frame:', error);\n            setProcessingError(`Processing error: ${error.message}`);\n            return null;\n        }\n    };\n    /**\n   * Display the processed image in a canvas element\n   */ const displayProcessedImage = (base64Image, canvas)=>{\n        if (!canvas || !base64Image) return;\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        img.onload = ()=>{\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n        };\n        img.src = `data:image/jpeg;base64,${base64Image}`;\n    };\n    return {\n        isProcessing,\n        processingResults,\n        processingError,\n        backendAvailable,\n        videoRef,\n        canvasRef,\n        options,\n        startVideoProcessing,\n        stopVideoProcessing,\n        toggleVideoProcessing,\n        updateOptions,\n        processCurrentFrame\n    };\n};\n// Make sure to export the hook as default\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useVideoProcessor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL3ZpZGVvUHJvY2Vzc29yLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLG9CQUFvQjtBQUM2QztBQUVqRSxNQUFNSSxvQkFBb0I7SUFDeEIsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR04sK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDTyxtQkFBbUJDLHFCQUFxQixHQUFHUiwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUNTLGlCQUFpQkMsbUJBQW1CLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ1csa0JBQWtCQyxvQkFBb0IsR0FBR1osK0NBQVFBLENBQUM7SUFDekQsTUFBTWEsV0FBV1osNkNBQU1BLENBQUM7SUFDeEIsTUFBTWEsWUFBWWIsNkNBQU1BLENBQUM7SUFDekIsTUFBTWMsd0JBQXdCZCw2Q0FBTUEsQ0FBQztJQUNyQyxNQUFNZSxZQUFZZiw2Q0FBTUEsQ0FBQztJQUN6QixNQUFNLENBQUNnQixTQUFTQyxXQUFXLEdBQUdsQiwrQ0FBUUEsQ0FBQztRQUNyQ21CLGNBQWM7UUFDZEMsaUJBQWlCO1FBQ2pCQyxVQUFVO1FBQ1ZDLGdCQUFnQjtRQUNoQkMsb0JBQW9CO0lBQ3RCO0lBRUEsb0NBQW9DO0lBQ3BDcEIsZ0RBQVNBO3VDQUFDO1lBQ1IsTUFBTXFCO3NFQUF5QjtvQkFDN0IsSUFBSTt3QkFDRixNQUFNQyxXQUFXLE1BQU1DLE1BQU07d0JBQzdCLE1BQU1DLE9BQU8sTUFBTUYsU0FBU0csSUFBSTt3QkFDaENoQixvQkFBb0JlLEtBQUtFLFNBQVM7d0JBQ2xDQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsRUFBRUosS0FBS0UsU0FBUyxHQUFHLE9BQU8sVUFBVTtvQkFDdkUsRUFBRSxPQUFPRyxPQUFPO3dCQUNkRixRQUFRRSxLQUFLLENBQUMsc0NBQXNDQTt3QkFDcERwQixvQkFBb0I7b0JBQ3RCO2dCQUNGOztZQUVBWTtRQUNGO3NDQUFHLEVBQUU7SUFFTDs7R0FFQyxHQUNELE1BQU1TLHVCQUF1Qi9CLGtEQUFXQTsrREFBQyxPQUFPZ0MsYUFBYSxDQUFDLENBQUM7WUFDN0QsSUFBSTdCLGNBQWM7Z0JBQ2hCLDZDQUE2QztnQkFDN0M4QixjQUFjRDtnQkFDZDtZQUNGO1lBRUF4QixtQkFBbUI7WUFFbkIsaUJBQWlCO1lBQ2pCeUIsY0FBY0Q7WUFFZCxJQUFJO2dCQUNGLHdCQUF3QjtnQkFDeEIsTUFBTUUsY0FBYyxNQUFNQyxVQUFVQyxZQUFZLENBQUNDLFlBQVksQ0FBQztvQkFDNURDLE9BQU87b0JBQ1BDLE9BQU87Z0JBQ1Q7Z0JBRUEsaUNBQWlDO2dCQUNqQzNCLFVBQVU0QixPQUFPLEdBQUdOO2dCQUVwQiwwREFBMEQ7Z0JBQzFELElBQUl2QixTQUFTNkIsT0FBTyxFQUFFO29CQUNwQjdCLFNBQVM2QixPQUFPLENBQUNDLFNBQVMsR0FBR1A7b0JBRTdCLElBQUk7d0JBQ0YsTUFBTXZCLFNBQVM2QixPQUFPLENBQUNFLElBQUk7d0JBQzNCZCxRQUFRQyxHQUFHLENBQUM7b0JBQ2QsRUFBRSxPQUFPYyxXQUFXO3dCQUNsQmYsUUFBUUUsS0FBSyxDQUFDLHdCQUF3QmE7d0JBQ3RDbkMsbUJBQW1CLENBQUMsc0JBQXNCLEVBQUVtQyxVQUFVQyxPQUFPLEVBQUU7d0JBQy9EQzt3QkFDQTtvQkFDRjtnQkFDRjtnQkFFQXpDLGdCQUFnQjtnQkFFaEIsc0NBQXNDO2dCQUN0Q1Msc0JBQXNCMkIsT0FBTyxHQUFHTTsyRUFBWTt3QkFDMUNDO29CQUNGOzBFQUFHLE1BQU0sMkRBQTJEO1lBRXRFLEVBQUUsT0FBT2pCLE9BQU87Z0JBQ2RGLFFBQVFFLEtBQUssQ0FBQyxvQ0FBb0NBO2dCQUNsRHRCLG1CQUFtQixDQUFDLHlCQUF5QixFQUFFc0IsTUFBTWMsT0FBTyxFQUFFO2dCQUM5REM7WUFDRjtRQUNGOzhEQUFHO1FBQUMxQztLQUFhO0lBRWpCOztHQUVDLEdBQ0QsTUFBTThCLGdCQUFnQmpDLGtEQUFXQTt3REFBQyxDQUFDZ0MsYUFBYSxDQUFDLENBQUM7WUFDaERoQjtnRUFBV2dDLENBQUFBO29CQUNULE1BQU1DLGlCQUFpQjt3QkFDckIsR0FBR0QsV0FBVzt3QkFDZCxHQUFHaEIsVUFBVTtvQkFDZjtvQkFFQSxpRkFBaUY7b0JBQ2pGLElBQUk3QixjQUFjO3dCQUNoQiw0REFBNEQ7d0JBQzVELHFDQUFxQzt3QkFDckN5QixRQUFRQyxHQUFHLENBQUMsbURBQW1Eb0I7b0JBQ2pFO29CQUVBLE9BQU9BO2dCQUNUOztRQUNGO3VEQUFHO1FBQUM5QztLQUFhO0lBRWpCOztHQUVDLEdBQ0QsTUFBTTBDLHNCQUFzQjdDLGtEQUFXQTs4REFBQztZQUN0QyxnQ0FBZ0M7WUFDaEMsSUFBSWEsc0JBQXNCMkIsT0FBTyxFQUFFO2dCQUNqQ1UsY0FBY3JDLHNCQUFzQjJCLE9BQU87Z0JBQzNDM0Isc0JBQXNCMkIsT0FBTyxHQUFHO1lBQ2xDO1lBRUEsc0NBQXNDO1lBQ3RDLElBQUk1QixVQUFVNEIsT0FBTyxFQUFFO2dCQUNyQjVCLFVBQVU0QixPQUFPLENBQUNXLFNBQVMsR0FBR0MsT0FBTzswRUFBQ0MsQ0FBQUE7d0JBQ3BDQSxNQUFNQyxJQUFJO29CQUNaOztnQkFDQTFDLFVBQVU0QixPQUFPLEdBQUc7WUFDdEI7WUFFQSxxQkFBcUI7WUFDckIsSUFBSTdCLFNBQVM2QixPQUFPLEVBQUU7Z0JBQ3BCN0IsU0FBUzZCLE9BQU8sQ0FBQ0MsU0FBUyxHQUFHO1lBQy9CO1lBRUFyQyxnQkFBZ0I7WUFDaEJFLHFCQUFxQjtRQUN2Qjs2REFBRyxFQUFFO0lBRUw7O0dBRUMsR0FDRCxNQUFNaUQsd0JBQXdCdkQsa0RBQVdBO2dFQUFDLENBQUNnQyxhQUFhLENBQUMsQ0FBQztZQUN4RCxJQUFJN0IsY0FBYztnQkFDaEIwQztZQUNGLE9BQU87Z0JBQ0xkLHFCQUFxQkM7WUFDdkI7UUFDRjsrREFBRztRQUFDN0I7UUFBYzRCO1FBQXNCYztLQUFvQjtJQUU1RDs7R0FFQyxHQUNELE1BQU1FLHNCQUFzQjtRQUMxQixJQUFJLENBQUNwQyxTQUFTNkIsT0FBTyxJQUFJLENBQUM1QixVQUFVNEIsT0FBTyxJQUFJLENBQUNyQyxjQUFjO1FBRTlELElBQUk7WUFDRiwrQ0FBK0M7WUFDL0MsTUFBTXFELFNBQVNDLFNBQVNDLGFBQWEsQ0FBQztZQUN0QyxNQUFNQyxVQUFVSCxPQUFPSSxVQUFVLENBQUM7WUFFbEMsNENBQTRDO1lBQzVDSixPQUFPSyxLQUFLLEdBQUdsRCxTQUFTNkIsT0FBTyxDQUFDc0IsVUFBVTtZQUMxQ04sT0FBT08sTUFBTSxHQUFHcEQsU0FBUzZCLE9BQU8sQ0FBQ3dCLFdBQVc7WUFFNUMsNkNBQTZDO1lBQzdDTCxRQUFRTSxTQUFTLENBQUN0RCxTQUFTNkIsT0FBTyxFQUFFLEdBQUcsR0FBR2dCLE9BQU9LLEtBQUssRUFBRUwsT0FBT08sTUFBTTtZQUVyRSx3REFBd0Q7WUFDeEQsTUFBTUcsT0FBTyxNQUFNLElBQUlDLFFBQVFDLENBQUFBO2dCQUM3QlosT0FBT2EsTUFBTSxDQUFDRCxTQUFTLGNBQWM7WUFDdkM7WUFFQSxJQUFJLENBQUNGLE1BQU07Z0JBQ1R0QyxRQUFRRSxLQUFLLENBQUM7Z0JBQ2Q7WUFDRjtZQUVBLHVDQUF1QztZQUN2QyxNQUFNd0MsV0FBVyxJQUFJQztZQUNyQkQsU0FBU0UsTUFBTSxDQUFDLFFBQVFOLE1BQU07WUFFOUIsa0VBQWtFO1lBQ2xFLDJEQUEyRDtZQUMzREksU0FBU0UsTUFBTSxDQUFDLGdCQUFnQnpELFFBQVFFLFlBQVksQ0FBQ3dELFFBQVE7WUFDN0RILFNBQVNFLE1BQU0sQ0FBQyxtQkFBbUJ6RCxRQUFRRyxlQUFlLENBQUN1RCxRQUFRO1lBQ25FSCxTQUFTRSxNQUFNLENBQUMsWUFBWXpELFFBQVFJLFFBQVEsQ0FBQ3NELFFBQVE7WUFDckRILFNBQVNFLE1BQU0sQ0FBQyxrQkFBa0J6RCxRQUFRSyxjQUFjLENBQUNxRCxRQUFRO1lBRWpFLHFEQUFxRDtZQUNyRDdDLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0I7Z0JBQ3pDWixjQUFjRixRQUFRRSxZQUFZO2dCQUNsQ0MsaUJBQWlCSCxRQUFRRyxlQUFlO2dCQUN4Q0MsVUFBVUosUUFBUUksUUFBUTtnQkFDMUJDLGdCQUFnQkwsUUFBUUssY0FBYztZQUN4QztZQUVBLHNCQUFzQjtZQUN0QixNQUFNRyxXQUFXLE1BQU1DLE1BQU0sc0JBQXNCO2dCQUNqRGtELFFBQVE7Z0JBQ1JDLE1BQU1MO1lBQ1I7WUFFQSxJQUFJLENBQUMvQyxTQUFTcUQsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQyxjQUFjLEVBQUV0RCxTQUFTdUQsTUFBTSxFQUFFO1lBQ3BEO1lBRUEsTUFBTUMsU0FBUyxNQUFNeEQsU0FBU0csSUFBSTtZQUVsQyxJQUFJcUQsT0FBT0MsT0FBTyxFQUFFO2dCQUNsQjFFLHFCQUFxQnlFO2dCQUVyQiwyQ0FBMkM7Z0JBQzNDLElBQUlBLE9BQU9FLEtBQUssSUFBSWxFLFFBQVFNLGtCQUFrQixJQUFJUCxVQUFVMEIsT0FBTyxFQUFFO29CQUNuRTBDLHNCQUFzQkgsT0FBT0UsS0FBSyxFQUFFbkUsVUFBVTBCLE9BQU87Z0JBQ3ZEO2dCQUVBLE9BQU91QztZQUNULE9BQU87Z0JBQ0xuRCxRQUFRRSxLQUFLLENBQUMsc0JBQXNCaUQsT0FBT2pELEtBQUs7Z0JBQ2hELE9BQU87WUFDVDtRQUNGLEVBQUUsT0FBT0EsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsMkJBQTJCQTtZQUN6Q3RCLG1CQUFtQixDQUFDLGtCQUFrQixFQUFFc0IsTUFBTWMsT0FBTyxFQUFFO1lBQ3ZELE9BQU87UUFDVDtJQUNGO0lBRUE7O0dBRUMsR0FDRCxNQUFNc0Msd0JBQXdCLENBQUNDLGFBQWEzQjtRQUMxQyxJQUFJLENBQUNBLFVBQVUsQ0FBQzJCLGFBQWE7UUFFN0IsTUFBTUMsTUFBTTVCLE9BQU9JLFVBQVUsQ0FBQztRQUM5QixNQUFNeUIsTUFBTSxJQUFJQztRQUVoQkQsSUFBSUUsTUFBTSxHQUFHO1lBQ1hILElBQUlJLFNBQVMsQ0FBQyxHQUFHLEdBQUdoQyxPQUFPSyxLQUFLLEVBQUVMLE9BQU9PLE1BQU07WUFDL0NxQixJQUFJbkIsU0FBUyxDQUFDb0IsS0FBSyxHQUFHLEdBQUc3QixPQUFPSyxLQUFLLEVBQUVMLE9BQU9PLE1BQU07UUFDdEQ7UUFFQXNCLElBQUlJLEdBQUcsR0FBRyxDQUFDLHVCQUF1QixFQUFFTixhQUFhO0lBQ25EO0lBRUEsT0FBTztRQUNMaEY7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUc7UUFDQUM7UUFDQWdCO1FBQ0FjO1FBQ0FVO1FBQ0F0QjtRQUNBYztJQUNGO0FBQ0Y7QUFFQSwwQ0FBMEM7QUFDMUMsaUVBQWU3QyxpQkFBaUJBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC9jb21wb25lbnRzLWd1aS92aWRlb1Byb2Nlc3Nvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB2aWRlb1Byb2Nlc3Nvci5qc1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgdXNlVmlkZW9Qcm9jZXNzb3IgPSAoKSA9PiB7XG4gIGNvbnN0IFtpc1Byb2Nlc3NpbmcsIHNldElzUHJvY2Vzc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcm9jZXNzaW5nUmVzdWx0cywgc2V0UHJvY2Vzc2luZ1Jlc3VsdHNdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtwcm9jZXNzaW5nRXJyb3IsIHNldFByb2Nlc3NpbmdFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2JhY2tlbmRBdmFpbGFibGUsIHNldEJhY2tlbmRBdmFpbGFibGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBzdHJlYW1SZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHByb2Nlc3NpbmdJbnRlcnZhbFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbb3B0aW9ucywgc2V0T3B0aW9uc10gPSB1c2VTdGF0ZSh7XG4gICAgc2hvd0hlYWRQb3NlOiBmYWxzZSxcbiAgICBzaG93Qm91bmRpbmdCb3g6IGZhbHNlLFxuICAgIHNob3dNYXNrOiBmYWxzZSxcbiAgICBzaG93UGFyYW1ldGVyczogZmFsc2UsXG4gICAgc2hvd1Byb2Nlc3NlZEltYWdlOiBmYWxzZVxuICB9KTtcbiAgXG4gIC8vIENoZWNrIGJhY2tlbmQgY29ubmVjdGlvbiBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrQmFja2VuZENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvbicpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRCYWNrZW5kQXZhaWxhYmxlKGRhdGEuY29ubmVjdGVkKTtcbiAgICAgICAgY29uc29sZS5sb2coYEJhY2tlbmQgY29ubmVjdGlvbjogJHtkYXRhLmNvbm5lY3RlZCA/ICdPSycgOiAnRmFpbGVkJ31gKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGJhY2tlbmQgY29ubmVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgIHNldEJhY2tlbmRBdmFpbGFibGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjaGVja0JhY2tlbmRDb25uZWN0aW9uKCk7XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogU3RhcnQgdmlkZW8gcHJvY2Vzc2luZyB3aXRoIGJhY2tlbmRcbiAgICovXG4gIGNvbnN0IHN0YXJ0VmlkZW9Qcm9jZXNzaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKG5ld09wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmIChpc1Byb2Nlc3NpbmcpIHtcbiAgICAgIC8vIElmIGFscmVhZHkgcHJvY2Vzc2luZywganVzdCB1cGRhdGUgb3B0aW9uc1xuICAgICAgdXBkYXRlT3B0aW9ucyhuZXdPcHRpb25zKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0UHJvY2Vzc2luZ0Vycm9yKG51bGwpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBvcHRpb25zXG4gICAgdXBkYXRlT3B0aW9ucyhuZXdPcHRpb25zKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gUmVxdWVzdCBjYW1lcmEgYWNjZXNzXG4gICAgICBjb25zdCBtZWRpYVN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgdmlkZW86IHRydWUsXG4gICAgICAgIGF1ZGlvOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFN0b3JlIHN0cmVhbSBmb3IgbGF0ZXIgY2xlYW51cFxuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQgPSBtZWRpYVN0cmVhbTtcbiAgICAgIFxuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHZpZGVvIGVsZW1lbnQgcmVmZXJlbmNlLCBhdHRhY2ggdGhlIHN0cmVhbVxuICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBtZWRpYVN0cmVhbTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdmlkZW9SZWYuY3VycmVudC5wbGF5KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1ZpZGVvIHBsYXlpbmcgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKHBsYXlFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBsYXlpbmcgdmlkZW86JywgcGxheUVycm9yKTtcbiAgICAgICAgICBzZXRQcm9jZXNzaW5nRXJyb3IoYEZhaWxlZCB0byBwbGF5IHZpZGVvOiAke3BsYXlFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgIHN0b3BWaWRlb1Byb2Nlc3NpbmcoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBTdGFydCB0aGUgZnJhbWUgcHJvY2Vzc2luZyBpbnRlcnZhbFxuICAgICAgcHJvY2Vzc2luZ0ludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHByb2Nlc3NDdXJyZW50RnJhbWUoKTtcbiAgICAgIH0sIDIwMCk7IC8vIFByb2Nlc3MgYSBmcmFtZSBldmVyeSAyMDBtcyAoNWZwcykgdG8gcmVkdWNlIHNlcnZlciBsb2FkXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RhcnRpbmcgdmlkZW8gcHJvY2Vzc2luZzonLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzaW5nRXJyb3IoYEZhaWxlZCB0byBhY2Nlc3MgY2FtZXJhOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBzdG9wVmlkZW9Qcm9jZXNzaW5nKCk7XG4gICAgfVxuICB9LCBbaXNQcm9jZXNzaW5nXSk7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBwcm9jZXNzaW5nIG9wdGlvbnNcbiAgICovXG4gIGNvbnN0IHVwZGF0ZU9wdGlvbnMgPSB1c2VDYWxsYmFjaygobmV3T3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgc2V0T3B0aW9ucyhwcmV2T3B0aW9ucyA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVkT3B0aW9ucyA9IHtcbiAgICAgICAgLi4ucHJldk9wdGlvbnMsXG4gICAgICAgIC4uLm5ld09wdGlvbnNcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgcHJvY2Vzc2luZywgdXBkYXRlIHRoZSBiYWNrZW5kIHdpdGggbmV3IG9wdGlvbnMgb24gbmV4dCBmcmFtZVxuICAgICAgaWYgKGlzUHJvY2Vzc2luZykge1xuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGNhbGwgcHJvY2Vzc0N1cnJlbnRGcmFtZSBleHBsaWNpdGx5IGhlcmVcbiAgICAgICAgLy8gc2luY2UgaXQncyBoYW5kbGVkIGJ5IHRoZSBpbnRlcnZhbFxuICAgICAgICBjb25zb2xlLmxvZygnT3B0aW9ucyB1cGRhdGVkLCB3aWxsIGJlIGFwcGxpZWQgb24gbmV4dCBmcmFtZTonLCB1cGRhdGVkT3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1cGRhdGVkT3B0aW9ucztcbiAgICB9KTtcbiAgfSwgW2lzUHJvY2Vzc2luZ10pO1xuXG4gIC8qKlxuICAgKiBTdG9wIHZpZGVvIHByb2Nlc3NpbmdcbiAgICovXG4gIGNvbnN0IHN0b3BWaWRlb1Byb2Nlc3NpbmcgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gQ2xlYXIgdGhlIHByb2Nlc3NpbmcgaW50ZXJ2YWxcbiAgICBpZiAocHJvY2Vzc2luZ0ludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocHJvY2Vzc2luZ0ludGVydmFsUmVmLmN1cnJlbnQpO1xuICAgICAgcHJvY2Vzc2luZ0ludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdG9wIGFsbCB0cmFja3MgaW4gdGhlIG1lZGlhIHN0cmVhbVxuICAgIGlmIChzdHJlYW1SZWYuY3VycmVudCkge1xuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgIH0pO1xuICAgICAgc3RyZWFtUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciB2aWRlbyBzb3VyY2VcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpO1xuICAgIHNldFByb2Nlc3NpbmdSZXN1bHRzKG51bGwpO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSB2aWRlbyBwcm9jZXNzaW5nXG4gICAqL1xuICBjb25zdCB0b2dnbGVWaWRlb1Byb2Nlc3NpbmcgPSB1c2VDYWxsYmFjaygobmV3T3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKGlzUHJvY2Vzc2luZykge1xuICAgICAgc3RvcFZpZGVvUHJvY2Vzc2luZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFZpZGVvUHJvY2Vzc2luZyhuZXdPcHRpb25zKTtcbiAgICB9XG4gIH0sIFtpc1Byb2Nlc3NpbmcsIHN0YXJ0VmlkZW9Qcm9jZXNzaW5nLCBzdG9wVmlkZW9Qcm9jZXNzaW5nXSk7XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgdGhlIGN1cnJlbnQgdmlkZW8gZnJhbWVcbiAgICovXG4gIGNvbnN0IHByb2Nlc3NDdXJyZW50RnJhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF2aWRlb1JlZi5jdXJyZW50IHx8ICFzdHJlYW1SZWYuY3VycmVudCB8fCAhaXNQcm9jZXNzaW5nKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyB0byBjYXB0dXJlIHRoZSBjdXJyZW50IGZyYW1lXG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGNhbnZhcyBzaXplIHRvIG1hdGNoIHZpZGVvIGRpbWVuc2lvbnNcbiAgICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvUmVmLmN1cnJlbnQudmlkZW9XaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlb1JlZi5jdXJyZW50LnZpZGVvSGVpZ2h0O1xuICAgICAgXG4gICAgICAvLyBEcmF3IHRoZSBjdXJyZW50IHZpZGVvIGZyYW1lIHRvIHRoZSBjYW52YXNcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvUmVmLmN1cnJlbnQsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIENvbnZlcnQgY2FudmFzIHRvIGJsb2IgKEpQRUcgZm9ybWF0IHdpdGggMC44IHF1YWxpdHkpXG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNhbnZhcy50b0Jsb2IocmVzb2x2ZSwgJ2ltYWdlL2pwZWcnLCAwLjgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghYmxvYikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2FwdHVyZSBmcmFtZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBmb3JtIGRhdGEgZm9yIHRoZSBBUEkgcmVxdWVzdFxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGJsb2IsICdmcmFtZS5qcGcnKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHByb2Nlc3Npbmcgb3B0aW9ucyAtIGV4cGxpY2l0bHkgY29udmVydCBib29sZWFucyB0byBzdHJpbmdzXG4gICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgcHJvcGVyIHRyYW5zbWlzc2lvbiB0byB0aGUgYmFja2VuZFxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdzaG93SGVhZFBvc2UnLCBvcHRpb25zLnNob3dIZWFkUG9zZS50b1N0cmluZygpKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc2hvd0JvdW5kaW5nQm94Jywgb3B0aW9ucy5zaG93Qm91bmRpbmdCb3gudG9TdHJpbmcoKSk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Nob3dNYXNrJywgb3B0aW9ucy5zaG93TWFzay50b1N0cmluZygpKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc2hvd1BhcmFtZXRlcnMnLCBvcHRpb25zLnNob3dQYXJhbWV0ZXJzLnRvU3RyaW5nKCkpO1xuICAgICAgXG4gICAgICAvLyBMb2cgd2hhdCdzIGJlaW5nIHNlbnQgdG8gdGhlIGJhY2tlbmQgZm9yIGRlYnVnZ2luZ1xuICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgb3B0aW9ucyB0byBiYWNrZW5kOicsIHtcbiAgICAgICAgc2hvd0hlYWRQb3NlOiBvcHRpb25zLnNob3dIZWFkUG9zZSxcbiAgICAgICAgc2hvd0JvdW5kaW5nQm94OiBvcHRpb25zLnNob3dCb3VuZGluZ0JveCxcbiAgICAgICAgc2hvd01hc2s6IG9wdGlvbnMuc2hvd01hc2ssXG4gICAgICAgIHNob3dQYXJhbWV0ZXJzOiBvcHRpb25zLnNob3dQYXJhbWV0ZXJzXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2VuZCB0byBiYWNrZW5kIEFQSVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9wcm9jZXNzLWZyYW1lJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGFcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0UHJvY2Vzc2luZ1Jlc3VsdHMocmVzdWx0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwcm9jZXNzZWQgaW1hZ2UsIGRpc3BsYXkgaXRcbiAgICAgICAgaWYgKHJlc3VsdC5pbWFnZSAmJiBvcHRpb25zLnNob3dQcm9jZXNzZWRJbWFnZSAmJiBjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgICAgIGRpc3BsYXlQcm9jZXNzZWRJbWFnZShyZXN1bHQuaW1hZ2UsIGNhbnZhc1JlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2Nlc3NpbmcgZmFpbGVkOicsIHJlc3VsdC5lcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGZyYW1lOicsIGVycm9yKTtcbiAgICAgIHNldFByb2Nlc3NpbmdFcnJvcihgUHJvY2Vzc2luZyBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5IHRoZSBwcm9jZXNzZWQgaW1hZ2UgaW4gYSBjYW52YXMgZWxlbWVudFxuICAgKi9cbiAgY29uc3QgZGlzcGxheVByb2Nlc3NlZEltYWdlID0gKGJhc2U2NEltYWdlLCBjYW52YXMpID0+IHtcbiAgICBpZiAoIWNhbnZhcyB8fCAhYmFzZTY0SW1hZ2UpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgfTtcbiAgICBcbiAgICBpbWcuc3JjID0gYGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsJHtiYXNlNjRJbWFnZX1gO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaXNQcm9jZXNzaW5nLFxuICAgIHByb2Nlc3NpbmdSZXN1bHRzLFxuICAgIHByb2Nlc3NpbmdFcnJvcixcbiAgICBiYWNrZW5kQXZhaWxhYmxlLFxuICAgIHZpZGVvUmVmLFxuICAgIGNhbnZhc1JlZixcbiAgICBvcHRpb25zLFxuICAgIHN0YXJ0VmlkZW9Qcm9jZXNzaW5nLFxuICAgIHN0b3BWaWRlb1Byb2Nlc3NpbmcsXG4gICAgdG9nZ2xlVmlkZW9Qcm9jZXNzaW5nLFxuICAgIHVwZGF0ZU9wdGlvbnMsXG4gICAgcHJvY2Vzc0N1cnJlbnRGcmFtZVxuICB9O1xufTtcblxuLy8gTWFrZSBzdXJlIHRvIGV4cG9ydCB0aGUgaG9vayBhcyBkZWZhdWx0XG5leHBvcnQgZGVmYXVsdCB1c2VWaWRlb1Byb2Nlc3NvcjsiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVZpZGVvUHJvY2Vzc29yIiwiaXNQcm9jZXNzaW5nIiwic2V0SXNQcm9jZXNzaW5nIiwicHJvY2Vzc2luZ1Jlc3VsdHMiLCJzZXRQcm9jZXNzaW5nUmVzdWx0cyIsInByb2Nlc3NpbmdFcnJvciIsInNldFByb2Nlc3NpbmdFcnJvciIsImJhY2tlbmRBdmFpbGFibGUiLCJzZXRCYWNrZW5kQXZhaWxhYmxlIiwidmlkZW9SZWYiLCJzdHJlYW1SZWYiLCJwcm9jZXNzaW5nSW50ZXJ2YWxSZWYiLCJjYW52YXNSZWYiLCJvcHRpb25zIiwic2V0T3B0aW9ucyIsInNob3dIZWFkUG9zZSIsInNob3dCb3VuZGluZ0JveCIsInNob3dNYXNrIiwic2hvd1BhcmFtZXRlcnMiLCJzaG93UHJvY2Vzc2VkSW1hZ2UiLCJjaGVja0JhY2tlbmRDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic3RhcnRWaWRlb1Byb2Nlc3NpbmciLCJuZXdPcHRpb25zIiwidXBkYXRlT3B0aW9ucyIsIm1lZGlhU3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJhdWRpbyIsImN1cnJlbnQiLCJzcmNPYmplY3QiLCJwbGF5IiwicGxheUVycm9yIiwibWVzc2FnZSIsInN0b3BWaWRlb1Byb2Nlc3NpbmciLCJzZXRJbnRlcnZhbCIsInByb2Nlc3NDdXJyZW50RnJhbWUiLCJwcmV2T3B0aW9ucyIsInVwZGF0ZWRPcHRpb25zIiwiY2xlYXJJbnRlcnZhbCIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsInN0b3AiLCJ0b2dnbGVWaWRlb1Byb2Nlc3NpbmciLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwidmlkZW9XaWR0aCIsImhlaWdodCIsInZpZGVvSGVpZ2h0IiwiZHJhd0ltYWdlIiwiYmxvYiIsIlByb21pc2UiLCJyZXNvbHZlIiwidG9CbG9iIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInRvU3RyaW5nIiwibWV0aG9kIiwiYm9keSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJyZXN1bHQiLCJzdWNjZXNzIiwiaW1hZ2UiLCJkaXNwbGF5UHJvY2Vzc2VkSW1hZ2UiLCJiYXNlNjRJbWFnZSIsImN0eCIsImltZyIsIkltYWdlIiwib25sb2FkIiwiY2xlYXJSZWN0Iiwic3JjIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset/components-gui/videoProcessor.js\n");

/***/ })

};
;
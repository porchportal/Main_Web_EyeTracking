/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/collected-dataset-customized";
exports.ids = ["pages/collected-dataset-customized"];
exports.modules = {

/***/ "(pages-dir-node)/./components/UserProfileSidebar.js":
/*!******************************************!*\
  !*** ./components/UserProfileSidebar.js ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UserProfileSidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/UserProfile.module.css */ \"(pages-dir-node)/./styles/UserProfile.module.css\");\n/* harmony import */ var _styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\n/* harmony import */ var _utils_stateManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/stateManager */ \"(pages-dir-node)/./utils/stateManager.js\");\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_6__]);\n([_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// import { getUserProfile, updateUserProfile } from '../utils/consentManager';\n\n\n\nfunction UserProfileSidebar() {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [profile, setProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        username: '',\n        sex: '',\n        age: '',\n        image_background: '',\n        preferences: {}\n    });\n    // const [statusMessage, setStatusMessageLocal] = useState('');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [localUserId, setLocalUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get consent and backend status\n    const { userId, consentStatus } = (0,_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_4__.useConsent)();\n    const { isConnected, authValid } = (0,_utils_stateManager__WEBPACK_IMPORTED_MODULE_5__.useBackendConnection)();\n    // Update local user ID when consent status changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            if (consentStatus) {\n                const newUserId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_6__.getOrCreateUserId)();\n                setLocalUserId(newUserId);\n            }\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        consentStatus\n    ]);\n    // Load profile data when component mounts or consent changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            const loadProfile = {\n                \"UserProfileSidebar.useEffect.loadProfile\": async ()=>{\n                    const currentUserId = localUserId || userId;\n                    if (!currentUserId) {\n                        setIsLoading(false);\n                        return;\n                    }\n                    try {\n                        setIsLoading(true);\n                        const response = await fetch(`/api/user-preferences/${currentUserId}`, {\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json',\n                                'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                            }\n                        });\n                        if (!response.ok) {\n                            throw new Error('Failed to load profile');\n                        }\n                        const data = await response.json();\n                        console.log('Loaded profile data:', data);\n                        if (data.data) {\n                            setProfile({\n                                \"UserProfileSidebar.useEffect.loadProfile\": (prev)=>({\n                                        ...prev,\n                                        username: data.data.username || '',\n                                        sex: data.data.sex || '',\n                                        age: data.data.age || '',\n                                        image_background: data.data.image_background || ''\n                                    })\n                            }[\"UserProfileSidebar.useEffect.loadProfile\"]);\n                        }\n                    } catch (error) {\n                        console.error('Error loading profile:', error);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"UserProfileSidebar.useEffect.loadProfile\"];\n            loadProfile();\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        userId,\n        localUserId,\n        consentStatus\n    ]);\n    // Reset sidebar state when route changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            setIsOpen(false);\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        router.pathname\n    ]);\n    const handleInputChange = (e)=>{\n        const { name, value } = e.target;\n        setProfile((prev)=>({\n                ...prev,\n                [name]: value\n            }));\n    };\n    const handleSave = async ()=>{\n        try {\n            if (!localUserId) {\n                console.error('No user ID available');\n                return;\n            }\n            // Check if username is \"admin\"\n            if (profile.username === \"admin\") {\n                // Redirect to admin login page\n                router.push('/admin-login');\n                return;\n            }\n            // Prepare profile data\n            const profileData = {\n                username: profile.username || null,\n                sex: profile.sex || null,\n                age: profile.age || null\n            };\n            // Save to backend\n            const response = await fetch(`/api/user-preferences/${localUserId}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                    // 'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                },\n                body: JSON.stringify(profileData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.detail || 'Failed to save profile');\n            }\n            const result = await response.json();\n            console.log('Profile saved successfully:', result);\n            // Update local state\n            setProfile((prev)=>({\n                    ...prev,\n                    ...profileData\n                }));\n            // Dispatch admin update event\n            if (false) {}\n            // Show success message\n            alert('Profile saved successfully!');\n        } catch (error) {\n            console.error('Error saving profile:', error);\n            alert(error.message || 'Failed to save profile. Please try again.');\n        }\n    };\n    // const updateStatusMessage = (message) => {\n    //   if (setStatusMessage) {\n    //     setStatusMessage(message);\n    //   }\n    //   setStatusMessageLocal(message);\n    // };\n    // Don't render anything if consent is not accepted\n    if (!consentStatus) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: 'fixed',\n            bottom: '20px',\n            right: '20px',\n            zIndex: 100\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().toggleButton),\n                onClick: ()=>setIsOpen(!isOpen),\n                style: {\n                    zIndex: 100,\n                    position: 'fixed',\n                    bottom: '20px',\n                    right: '20px',\n                    backgroundColor: '#0d6efd',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    fontSize: '20px',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyItems: 'center',\n                    boxShadow: '0 2px 5px rgba(0, 0, 0, 0.2)'\n                },\n                children: isOpen ? '×' : '☰'\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                lineNumber: 176,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().sidebar)} ${isOpen ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().open) : ''}`,\n                style: {\n                    zIndex: 49,\n                    position: 'fixed',\n                    top: 0,\n                    right: isOpen ? '0' : '-400px',\n                    width: '400px',\n                    height: '100vh',\n                    background: 'white',\n                    boxShadow: '-2px 0 5px rgba(0, 0, 0, 0.1)',\n                    transition: 'right 0.3s ease',\n                    overflowY: 'auto'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().profileHeader),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"User Profile\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 217,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().closeButton),\n                                onClick: ()=>setIsOpen(false),\n                                children: \"\\xd7\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 218,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                        lineNumber: 216,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusSection),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"User ID:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 229,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue),\n                                        children: localUserId || userId || 'Not set'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 230,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 228,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Consent Status:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 233,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${consentStatus ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: consentStatus === null ? 'Not set' : consentStatus ? 'Accepted' : 'Declined'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 234,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 232,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Backend Status:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 239,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${isConnected ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: isConnected ? 'Connected' : 'Disconnected'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 240,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 238,\n                                columnNumber: 11\n                            }, this),\n                            isConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Authentication:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 246,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${authValid ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: authValid ? 'Valid' : 'Invalid'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 247,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 245,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                        lineNumber: 227,\n                        columnNumber: 9\n                    }, this),\n                    isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().loadingContainer),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Loading profile data...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                            lineNumber: 256,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                        lineNumber: 255,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().profileForm),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"username\",\n                                        children: \"Username\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 261,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        id: \"username\",\n                                        name: \"username\",\n                                        value: profile.username,\n                                        onChange: handleInputChange,\n                                        placeholder: \"Enter username\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 262,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 260,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"sex\",\n                                        children: \"Sex\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 273,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        id: \"sex\",\n                                        name: \"sex\",\n                                        value: profile.sex,\n                                        onChange: handleInputChange,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"Select\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 280,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"male\",\n                                                children: \"Male\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 281,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"female\",\n                                                children: \"Female\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 282,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"other\",\n                                                children: \"Other\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 283,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 274,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 272,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"age\",\n                                        children: \"Age\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 288,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        id: \"age\",\n                                        name: \"age\",\n                                        value: profile.age,\n                                        onChange: handleInputChange,\n                                        min: \"1\",\n                                        max: \"120\",\n                                        placeholder: \"Enter age\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 289,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 287,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"image_background\",\n                                        children: \"Background Image URL\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 302,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        id: \"image_background\",\n                                        name: \"image_background\",\n                                        value: profile.image_background,\n                                        onChange: handleInputChange,\n                                        placeholder: \"Enter image URL\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 303,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 301,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().saveButton),\n                                onClick: handleSave,\n                                disabled: isLoading,\n                                children: isLoading ? 'Saving...' : 'Save Profile'\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 313,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                        lineNumber: 259,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                lineNumber: 201,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n        lineNumber: 175,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvVXNlclByb2ZpbGVTaWRlYmFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDSjtBQUNjO0FBQ3RELCtFQUErRTtBQUN6QjtBQUNPO0FBQ0Q7QUFFN0MsU0FBU087SUFDdEIsTUFBTUMsU0FBU04sc0RBQVNBO0lBQ3hCLE1BQU0sQ0FBQ08sUUFBUUMsVUFBVSxHQUFHViwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNXLFNBQVNDLFdBQVcsR0FBR1osK0NBQVFBLENBQUM7UUFDckNhLFVBQVU7UUFDVkMsS0FBSztRQUNMQyxLQUFLO1FBQ0xDLGtCQUFrQjtRQUNsQkMsYUFBYSxDQUFDO0lBQ2hCO0lBQ0EsK0RBQStEO0lBQy9ELE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDb0IsYUFBYUMsZUFBZSxHQUFHckIsK0NBQVFBLENBQUM7SUFFL0MsaUNBQWlDO0lBQ2pDLE1BQU0sRUFBRXNCLE1BQU0sRUFBRUMsYUFBYSxFQUFFLEdBQUduQixtRUFBVUE7SUFDNUMsTUFBTSxFQUFFb0IsV0FBVyxFQUFFQyxTQUFTLEVBQUUsR0FBR3BCLHlFQUFvQkE7SUFFdkQsbURBQW1EO0lBQ25ESixnREFBU0E7d0NBQUM7WUFDUixJQUFJc0IsZUFBZTtnQkFDakIsTUFBTUcsWUFBWXBCLHdFQUFpQkE7Z0JBQ25DZSxlQUFlSztZQUNqQjtRQUNGO3VDQUFHO1FBQUNIO0tBQWM7SUFFbEIsNkRBQTZEO0lBQzdEdEIsZ0RBQVNBO3dDQUFDO1lBQ1IsTUFBTTBCOzREQUFjO29CQUNsQixNQUFNQyxnQkFBZ0JSLGVBQWVFO29CQUNyQyxJQUFJLENBQUNNLGVBQWU7d0JBQ2xCVCxhQUFhO3dCQUNiO29CQUNGO29CQUVBLElBQUk7d0JBQ0ZBLGFBQWE7d0JBQ2IsTUFBTVUsV0FBVyxNQUFNQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVGLGVBQWUsRUFB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QkFBZ0I7d0NBQy9Ca0csVUFBVXRFO3dDQUNWdUUsYUFBWTs7Ozs7Ozs7Ozs7OzBDQUloQiw4REFBQ3pDO2dDQUNDQyxXQUFXeEUsa0ZBQWlCO2dDQUM1QjBFLFNBQVM1QjtnQ0FDVHdFLFVBQVV2RzswQ0FFVEEsWUFBWSxjQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPekMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9jb21wb25lbnRzL1VzZXJQcm9maWxlU2lkZWJhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi9zdHlsZXMvVXNlclByb2ZpbGUubW9kdWxlLmNzcyc7XG4vLyBpbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSwgdXBkYXRlVXNlclByb2ZpbGUgfSBmcm9tICcuLi91dGlscy9jb25zZW50TWFuYWdlcic7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi9jb25zZW50L0NvbnNlbnRDb250ZXh0JztcbmltcG9ydCB7IHVzZUJhY2tlbmRDb25uZWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvc3RhdGVNYW5hZ2VyJztcbmltcG9ydCB7IGdldE9yQ3JlYXRlVXNlcklkIH0gZnJvbSAnLi4vdXRpbHMvY29uc2VudE1hbmFnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVc2VyUHJvZmlsZVNpZGViYXIoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvZmlsZSwgc2V0UHJvZmlsZV0gPSB1c2VTdGF0ZSh7XG4gICAgdXNlcm5hbWU6ICcnLFxuICAgIHNleDogJycsXG4gICAgYWdlOiAnJyxcbiAgICBpbWFnZV9iYWNrZ3JvdW5kOiAnJyxcbiAgICBwcmVmZXJlbmNlczoge31cbiAgfSk7XG4gIC8vIGNvbnN0IFtzdGF0dXNNZXNzYWdlLCBzZXRTdGF0dXNNZXNzYWdlTG9jYWxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtsb2NhbFVzZXJJZCwgc2V0TG9jYWxVc2VySWRdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8gR2V0IGNvbnNlbnQgYW5kIGJhY2tlbmQgc3RhdHVzXG4gIGNvbnN0IHsgdXNlcklkLCBjb25zZW50U3RhdHVzIH0gPSB1c2VDb25zZW50KCk7XG4gIGNvbnN0IHsgaXNDb25uZWN0ZWQsIGF1dGhWYWxpZCB9ID0gdXNlQmFja2VuZENvbm5lY3Rpb24oKTtcblxuICAvLyBVcGRhdGUgbG9jYWwgdXNlciBJRCB3aGVuIGNvbnNlbnQgc3RhdHVzIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29uc2VudFN0YXR1cykge1xuICAgICAgY29uc3QgbmV3VXNlcklkID0gZ2V0T3JDcmVhdGVVc2VySWQoKTtcbiAgICAgIHNldExvY2FsVXNlcklkKG5ld1VzZXJJZCk7XG4gICAgfVxuICB9LCBbY29uc2VudFN0YXR1c10pO1xuXG4gIC8vIExvYWQgcHJvZmlsZSBkYXRhIHdoZW4gY29tcG9uZW50IG1vdW50cyBvciBjb25zZW50IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkUHJvZmlsZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBsb2NhbFVzZXJJZCB8fCB1c2VySWQ7XG4gICAgICBpZiAoIWN1cnJlbnRVc2VySWQpIHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlci1wcmVmZXJlbmNlcy8ke2N1cnJlbnRVc2VySWR9YCwge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVlcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHByb2ZpbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2FkZWQgcHJvZmlsZSBkYXRhOicsIGRhdGEpO1xuXG4gICAgICAgIGlmIChkYXRhLmRhdGEpIHtcbiAgICAgICAgICBzZXRQcm9maWxlKHByZXYgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICB1c2VybmFtZTogZGF0YS5kYXRhLnVzZXJuYW1lIHx8ICcnLFxuICAgICAgICAgICAgc2V4OiBkYXRhLmRhdGEuc2V4IHx8ICcnLFxuICAgICAgICAgICAgYWdlOiBkYXRhLmRhdGEuYWdlIHx8ICcnLFxuICAgICAgICAgICAgaW1hZ2VfYmFja2dyb3VuZDogZGF0YS5kYXRhLmltYWdlX2JhY2tncm91bmQgfHwgJydcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcHJvZmlsZTonLCBlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2FkUHJvZmlsZSgpO1xuICB9LCBbdXNlcklkLCBsb2NhbFVzZXJJZCwgY29uc2VudFN0YXR1c10pO1xuXG4gIC8vIFJlc2V0IHNpZGViYXIgc3RhdGUgd2hlbiByb3V0ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgfSwgW3JvdXRlci5wYXRobmFtZV0pO1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgICBzZXRQcm9maWxlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbbmFtZV06IHZhbHVlXG4gICAgfSkpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghbG9jYWxVc2VySWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gdXNlciBJRCBhdmFpbGFibGUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiB1c2VybmFtZSBpcyBcImFkbWluXCJcbiAgICAgIGlmIChwcm9maWxlLnVzZXJuYW1lID09PSBcImFkbWluXCIpIHtcbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gYWRtaW4gbG9naW4gcGFnZVxuICAgICAgICByb3V0ZXIucHVzaCgnL2FkbWluLWxvZ2luJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSBwcm9maWxlIGRhdGFcbiAgICAgIGNvbnN0IHByb2ZpbGVEYXRhID0ge1xuICAgICAgICB1c2VybmFtZTogcHJvZmlsZS51c2VybmFtZSB8fCBudWxsLFxuICAgICAgICBzZXg6IHByb2ZpbGUuc2V4IHx8IG51bGwsXG4gICAgICAgIGFnZTogcHJvZmlsZS5hZ2UgfHwgbnVsbFxuICAgICAgfTtcblxuICAgICAgLy8gU2F2ZSB0byBiYWNrZW5kXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXItcHJlZmVyZW5jZXMvJHtsb2NhbFVzZXJJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIC8vICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIHx8ICdBMUIyQzNENC1FNUY2LTc4OTAtR0hJSi1LTE1OT1BRUlNUVVYnLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHByb2ZpbGVEYXRhKVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCAnRmFpbGVkIHRvIHNhdmUgcHJvZmlsZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnUHJvZmlsZSBzYXZlZCBzdWNjZXNzZnVsbHk6JywgcmVzdWx0KTtcblxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRQcm9maWxlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgLi4ucHJvZmlsZURhdGFcbiAgICAgIH0pKTtcblxuICAgICAgLy8gRGlzcGF0Y2ggYWRtaW4gdXBkYXRlIGV2ZW50XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2FkbWluVXBkYXRlJywge1xuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgdHlwZTogJ3Byb2ZpbGUnLFxuICAgICAgICAgICAgdXNlcklkOiBsb2NhbFVzZXJJZCxcbiAgICAgICAgICAgIHByb2ZpbGU6IHtcbiAgICAgICAgICAgICAgLi4ucHJvZmlsZURhdGEsXG4gICAgICAgICAgICAgIGlzQ29tcGxldGU6IEJvb2xlYW4ocHJvZmlsZURhdGEudXNlcm5hbWUgJiYgcHJvZmlsZURhdGEuc2V4KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgIGFsZXJ0KCdQcm9maWxlIHNhdmVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgYWxlcnQoZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNhdmUgcHJvZmlsZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gY29uc3QgdXBkYXRlU3RhdHVzTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gIC8vICAgaWYgKHNldFN0YXR1c01lc3NhZ2UpIHtcbiAgLy8gICAgIHNldFN0YXR1c01lc3NhZ2UobWVzc2FnZSk7XG4gIC8vICAgfVxuICAvLyAgIHNldFN0YXR1c01lc3NhZ2VMb2NhbChtZXNzYWdlKTtcbiAgLy8gfTtcblxuICAvLyBEb24ndCByZW5kZXIgYW55dGhpbmcgaWYgY29uc2VudCBpcyBub3QgYWNjZXB0ZWRcbiAgaWYgKCFjb25zZW50U3RhdHVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdmaXhlZCcsIGJvdHRvbTogJzIwcHgnLCByaWdodDogJzIwcHgnLCB6SW5kZXg6IDEwMCB9fT5cbiAgICAgIDxidXR0b24gXG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnRvZ2dsZUJ1dHRvbn1cbiAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKCFpc09wZW4pfVxuICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICB6SW5kZXg6IDEwMCxcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICBib3R0b206ICcyMHB4JyxcbiAgICAgICAgICByaWdodDogJzIwcHgnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwZDZlZmQnLFxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICAgICAgd2lkdGg6ICc0MHB4JyxcbiAgICAgICAgICBoZWlnaHQ6ICc0MHB4JyxcbiAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBqdXN0aWZ5SXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMiknXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtpc09wZW4gPyAnw5cnIDogJ+KYsCd9XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgPGRpdiBcbiAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMuc2lkZWJhcn0gJHtpc09wZW4gPyBzdHlsZXMub3BlbiA6ICcnfWB9XG4gICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgIHpJbmRleDogNDksXG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIHJpZ2h0OiBpc09wZW4gPyAnMCcgOiAnLTQwMHB4JyxcbiAgICAgICAgICB3aWR0aDogJzQwMHB4JyxcbiAgICAgICAgICBoZWlnaHQ6ICcxMDB2aCcsXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3doaXRlJyxcbiAgICAgICAgICBib3hTaGFkb3c6ICctMnB4IDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4xKScsXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ3JpZ2h0IDAuM3MgZWFzZScsXG4gICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wcm9maWxlSGVhZGVyfT5cbiAgICAgICAgICA8aDI+VXNlciBQcm9maWxlPC9oMj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY2xvc2VCdXR0b259XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4oZmFsc2UpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIMOXXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTdGF0dXMgSW5mb3JtYXRpb24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzU2VjdGlvbn0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNJdGVtfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0xhYmVsfT5Vc2VyIElEOjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c1ZhbHVlfT57bG9jYWxVc2VySWQgfHwgdXNlcklkIHx8ICdOb3Qgc2V0J308L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNJdGVtfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0xhYmVsfT5Db25zZW50IFN0YXR1czo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake3N0eWxlcy5zdGF0dXNWYWx1ZX0gJHtjb25zZW50U3RhdHVzID8gc3R5bGVzLnN0YXR1c0FjdGl2ZSA6IHN0eWxlcy5zdGF0dXNJbmFjdGl2ZX1gfT5cbiAgICAgICAgICAgICAge2NvbnNlbnRTdGF0dXMgPT09IG51bGwgPyAnTm90IHNldCcgOiBjb25zZW50U3RhdHVzID8gJ0FjY2VwdGVkJyA6ICdEZWNsaW5lZCd9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNJdGVtfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0xhYmVsfT5CYWNrZW5kIFN0YXR1czo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake3N0eWxlcy5zdGF0dXNWYWx1ZX0gJHtpc0Nvbm5lY3RlZCA/IHN0eWxlcy5zdGF0dXNBY3RpdmUgOiBzdHlsZXMuc3RhdHVzSW5hY3RpdmV9YH0+XG4gICAgICAgICAgICAgIHtpc0Nvbm5lY3RlZCA/ICdDb25uZWN0ZWQnIDogJ0Rpc2Nvbm5lY3RlZCd9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2lzQ29ubmVjdGVkICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzSXRlbX0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0xhYmVsfT5BdXRoZW50aWNhdGlvbjo8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YCR7c3R5bGVzLnN0YXR1c1ZhbHVlfSAke2F1dGhWYWxpZCA/IHN0eWxlcy5zdGF0dXNBY3RpdmUgOiBzdHlsZXMuc3RhdHVzSW5hY3RpdmV9YH0+XG4gICAgICAgICAgICAgICAge2F1dGhWYWxpZCA/ICdWYWxpZCcgOiAnSW52YWxpZCd9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sb2FkaW5nQ29udGFpbmVyfT5cbiAgICAgICAgICAgIDxwPkxvYWRpbmcgcHJvZmlsZSBkYXRhLi4uPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucHJvZmlsZUZvcm19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5mb3JtR3JvdXB9PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInVzZXJuYW1lXCI+VXNlcm5hbWU8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJ1c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgbmFtZT1cInVzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvZmlsZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB1c2VybmFtZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5mb3JtR3JvdXB9PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInNleFwiPlNleDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICBpZD1cInNleFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cInNleFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3Byb2ZpbGUuc2V4fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3Q8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWFsZVwiPk1hbGU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZmVtYWxlXCI+RmVtYWxlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm90aGVyXCI+T3RoZXI8L29wdGlvbj5cbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5mb3JtR3JvdXB9PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImFnZVwiPkFnZTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIGlkPVwiYWdlXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiYWdlXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvZmlsZS5hZ2V9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgIG1heD1cIjEyMFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBhZ2VcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZm9ybUdyb3VwfT5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJpbWFnZV9iYWNrZ3JvdW5kXCI+QmFja2dyb3VuZCBJbWFnZSBVUkw8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpbWFnZV9iYWNrZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiaW1hZ2VfYmFja2dyb3VuZFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3Byb2ZpbGUuaW1hZ2VfYmFja2dyb3VuZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBpbWFnZSBVUkxcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNhdmVCdXR0b259XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmV9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlIFByb2ZpbGUnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwic3R5bGVzIiwidXNlQ29uc2VudCIsInVzZUJhY2tlbmRDb25uZWN0aW9uIiwiZ2V0T3JDcmVhdGVVc2VySWQiLCJVc2VyUHJvZmlsZVNpZGViYXIiLCJyb3V0ZXIiLCJpc09wZW4iLCJzZXRJc09wZW4iLCJwcm9maWxlIiwic2V0UHJvZmlsZSIsInVzZXJuYW1lIiwic2V4IiwiYWdlIiwiaW1hZ2VfYmFja2dyb3VuZCIsInByZWZlcmVuY2VzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwibG9jYWxVc2VySWQiLCJzZXRMb2NhbFVzZXJJZCIsInVzZXJJZCIsImNvbnNlbnRTdGF0dXMiLCJpc0Nvbm5lY3RlZCIsImF1dGhWYWxpZCIsIm5ld1VzZXJJZCIsImxvYWRQcm9maWxlIiwiY3VycmVudFVzZXJJZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9LRVkiLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJjb25zb2xlIiwibG9nIiwicHJldiIsImVycm9yIiwicGF0aG5hbWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImUiLCJuYW1lIiwidmFsdWUiLCJ0YXJnZXQiLCJoYW5kbGVTYXZlIiwicHVzaCIsInByb2ZpbGVEYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvckRhdGEiLCJkZXRhaWwiLCJyZXN1bHQiLCJldmVudCIsIkN1c3RvbUV2ZW50IiwidHlwZSIsImlzQ29tcGxldGUiLCJCb29sZWFuIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsImFsZXJ0IiwibWVzc2FnZSIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJib3R0b20iLCJyaWdodCIsInpJbmRleCIsImJ1dHRvbiIsImNsYXNzTmFtZSIsInRvZ2dsZUJ1dHRvbiIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsIndpZHRoIiwiaGVpZ2h0IiwiZm9udFNpemUiLCJjdXJzb3IiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlJdGVtcyIsImJveFNoYWRvdyIsInNpZGViYXIiLCJvcGVuIiwidG9wIiwiYmFja2dyb3VuZCIsInRyYW5zaXRpb24iLCJvdmVyZmxvd1kiLCJwcm9maWxlSGVhZGVyIiwiaDIiLCJjbG9zZUJ1dHRvbiIsInN0YXR1c1NlY3Rpb24iLCJzdGF0dXNJdGVtIiwic3BhbiIsInN0YXR1c0xhYmVsIiwic3RhdHVzVmFsdWUiLCJzdGF0dXNBY3RpdmUiLCJzdGF0dXNJbmFjdGl2ZSIsImxvYWRpbmdDb250YWluZXIiLCJwIiwicHJvZmlsZUZvcm0iLCJmb3JtR3JvdXAiLCJsYWJlbCIsImh0bWxGb3IiLCJpbnB1dCIsImlkIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInNlbGVjdCIsIm9wdGlvbiIsIm1pbiIsIm1heCIsInNhdmVCdXR0b24iLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/UserProfileSidebar.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js":
/*!***************************************************************************!*\
  !*** ./components/collected-dataset-customized/Action/CalibratePoints.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   drawCalibrationGrid: () => (/* binding */ drawCalibrationGrid),\n/* harmony export */   drawCalibrationPoint: () => (/* binding */ drawCalibrationPoint),\n/* harmony export */   generateCalibrationPoints: () => (/* binding */ generateCalibrationPoints)\n/* harmony export */ });\n// CalibratePoints.js\n// Utility for generating and managing calibration points on a canvas\n/**\n * Generate a grid of calibration points based on canvas dimensions\n * @param {number} width - Canvas width\n * @param {number} height - Canvas height\n * @returns {Array} Array of point objects with x,y coordinates\n */ const generateCalibrationPoints = (width, height)=>{\n    if (!width || !height || width <= 0 || height <= 0) {\n        console.error(\"generateCalibrationPoints: Invalid canvas dimensions\", {\n            width,\n            height\n        });\n        return [];\n    }\n    const conditionalRound = (dimension, percentage)=>Math.round(dimension * percentage);\n    // Outer frame (12% from edges)\n    const xLeftOuter = conditionalRound(width, 0.12);\n    const xRightOuter = width - xLeftOuter;\n    const yTopOuter = conditionalRound(height, 0.12);\n    const yBottomOuter = height - yTopOuter;\n    // Inner frame (26% from edges)\n    const xLeftInner = conditionalRound(width, 0.26);\n    const xRightInner = width - xLeftInner;\n    const yTopInner = conditionalRound(height, 0.26);\n    const yBottomInner = height - yTopInner;\n    const xCenter = Math.floor(width / 2);\n    const yCenter = Math.floor(height / 2);\n    return [\n        // Outer frame (8 points)\n        {\n            x: xLeftOuter,\n            y: yTopOuter,\n            label: \"Outer Top-Left\"\n        },\n        {\n            x: xCenter,\n            y: yTopOuter,\n            label: \"Outer Top-Center\"\n        },\n        {\n            x: xRightOuter,\n            y: yTopOuter,\n            label: \"Outer Top-Right\"\n        },\n        {\n            x: xLeftOuter,\n            y: yCenter,\n            label: \"Outer Middle-Left\"\n        },\n        {\n            x: xRightOuter,\n            y: yCenter,\n            label: \"Outer Middle-Right\"\n        },\n        {\n            x: xLeftOuter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Left\"\n        },\n        {\n            x: xCenter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Center\"\n        },\n        {\n            x: xRightOuter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Right\"\n        },\n        // Inner frame (8 points)\n        {\n            x: xLeftInner,\n            y: yTopInner,\n            label: \"Inner Top-Left\"\n        },\n        {\n            x: xCenter,\n            y: yTopInner,\n            label: \"Inner Top-Center\"\n        },\n        {\n            x: xRightInner,\n            y: yTopInner,\n            label: \"Inner Top-Right\"\n        },\n        {\n            x: xLeftInner,\n            y: yCenter,\n            label: \"Inner Middle-Left\"\n        },\n        {\n            x: xRightInner,\n            y: yCenter,\n            label: \"Inner Middle-Right\"\n        },\n        {\n            x: xLeftInner,\n            y: yBottomInner,\n            label: \"Inner Bottom-Left\"\n        },\n        {\n            x: xCenter,\n            y: yBottomInner,\n            label: \"Inner Bottom-Center\"\n        },\n        {\n            x: xRightInner,\n            y: yBottomInner,\n            label: \"Inner Bottom-Right\"\n        }\n    ];\n};\n/**\n * Draw a calibration point on a canvas\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {Object} options - Optional settings (color, radius)\n * @returns {Object} Point position object {x, y}\n */ const drawCalibrationPoint = (canvas, x, y, options = {})=>{\n    if (!canvas) return {\n        x,\n        y\n    };\n    const ctx = canvas.getContext('2d');\n    const color = options.color || 'red';\n    const radius = options.radius || 8;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.fillStyle = color;\n    ctx.fill();\n    // Glow effect\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 3, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    return {\n        x,\n        y\n    };\n};\n/**\n * Draw all calibration points on a canvas (for debugging/visualization)\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {Array} points - Array of point objects\n * @param {number} activeIndex - Index of the currently active point\n */ const drawCalibrationGrid = (canvas, points, activeIndex = -1)=>{\n    if (!canvas || !points || !points.length) return;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    points.forEach((point, index)=>{\n        const isActive = index === activeIndex;\n        ctx.beginPath();\n        ctx.arc(point.x, point.y, isActive ? 8 : 4, 0, Math.PI * 2);\n        ctx.fillStyle = isActive ? 'red' : 'rgba(0, 102, 204, 0.7)';\n        ctx.fill();\n        ctx.fillStyle = 'black';\n        ctx.font = '10px Arial';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.fillText(`${index + 1}`, point.x, point.y);\n        if (isActive && point.label) {\n            ctx.font = '12px Arial';\n            ctx.fillText(point.label, point.x, point.y - 20);\n        }\n    });\n    // Draw connecting lines (optional)\n    ctx.beginPath();\n    ctx.moveTo(points[0].x, points[0].y);\n    for(let i = 1; i < points.length; i++){\n        ctx.lineTo(points[i].x, points[i].y);\n    }\n    ctx.strokeStyle = 'rgba(0, 102, 204, 0.3)';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n};\n// Optional: Default export all for convenience\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    generateCalibrationPoints,\n    drawCalibrationPoint,\n    drawCalibrationGrid\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFDckIscUVBQXFFO0FBRXJFOzs7OztDQUtDLEdBQ00sTUFBTUEsNEJBQTRCLENBQUNDLE9BQU9DO0lBQy9DLElBQUksQ0FBQ0QsU0FBUyxDQUFDQyxVQUFVRCxTQUFTLEtBQUtDLFVBQVUsR0FBRztRQUNsREMsUUFBUUMsS0FBSyxDQUFDLHdEQUF3RDtZQUFFSDtZQUFPQztRQUFPO1FBQ3RGLE9BQU8sRUFBRTtJQUNYO0lBRUEsTUFBTUcsbUJBQW1CLENBQUNDLFdBQVdDLGFBQWVDLEtBQUtDLEtBQUssQ0FBQ0gsWUFBWUM7SUFFM0UsK0JBQStCO0lBQy9CLE1BQU1HLGFBQWFMLGlCQUFpQkosT0FBTztJQUMzQyxNQUFNVSxjQUFjVixRQUFRUztJQUM1QixNQUFNRSxZQUFZUCxpQkFBaUJILFFBQVE7SUFDM0MsTUFBTVcsZUFBZVgsU0FBU1U7SUFFOUIsK0JBQStCO0lBQy9CLE1BQU1FLGFBQWFULGlCQUFpQkosT0FBTztJQUMzQyxNQUFNYyxjQUFjZCxRQUFRYTtJQUM1QixNQUFNRSxZQUFZWCxpQkFBaUJILFFBQVE7SUFDM0MsTUFBTWUsZUFBZWYsU0FBU2M7SUFFOUIsTUFBTUUsVUFBVVYsS0FBS1csS0FBSyxDQUFDbEIsUUFBUTtJQUNuQyxNQUFNbUIsVUFBVVosS0FBS1csS0FBSyxDQUFDakIsU0FBUztJQUVwQyxPQUFPO1FBQ0wseUJBQXlCO1FBQ3pCO1lBQUVtQixHQUFHWDtZQUFZWSxHQUFHVjtZQUFXVyxPQUFPO1FBQWlCO1FBQ3ZEO1lBQUVGLEdBQUdIO1lBQVNJLEdBQUdWO1lBQVdXLE9BQU87UUFBbUI7UUFDdEQ7WUFBRUYsR0FBR1Y7WUFBYVcsR0FBR1Y7WUFBV1csT0FBTztRQUFrQjtRQUN6RDtZQUFFRixHQUFHWDtZQUFZWSxHQUFH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RztRQUN6RFQsSUFBSUssU0FBUyxHQUFHZ0IsV0FBVyxRQUFRO1FBQ25DckIsSUFBSVUsSUFBSTtRQUVSVixJQUFJSyxTQUFTLEdBQUc7UUFDaEJMLElBQUlzQixJQUFJLEdBQUc7UUFDWHRCLElBQUl1QixTQUFTLEdBQUc7UUFDaEJ2QixJQUFJd0IsWUFBWSxHQUFHO1FBQ25CeEIsSUFBSXlCLFFBQVEsQ0FBQyxHQUFHTCxRQUFRLEdBQUcsRUFBRUQsTUFBTXpCLENBQUMsRUFBRXlCLE1BQU14QixDQUFDO1FBRTdDLElBQUkwQixZQUFZRixNQUFNdkIsS0FBSyxFQUFFO1lBQzNCSSxJQUFJc0IsSUFBSSxHQUFHO1lBQ1h0QixJQUFJeUIsUUFBUSxDQUFDTixNQUFNdkIsS0FBSyxFQUFFdUIsTUFBTXpCLENBQUMsRUFBRXlCLE1BQU14QixDQUFDLEdBQUc7UUFDL0M7SUFDRjtJQUVBLG1DQUFtQztJQUNuQ0ssSUFBSU8sU0FBUztJQUNiUCxJQUFJMEIsTUFBTSxDQUFDWCxNQUFNLENBQUMsRUFBRSxDQUFDckIsQ0FBQyxFQUFFcUIsTUFBTSxDQUFDLEVBQUUsQ0FBQ3BCLENBQUM7SUFDbkMsSUFBSyxJQUFJZ0MsSUFBSSxHQUFHQSxJQUFJWixPQUFPRSxNQUFNLEVBQUVVLElBQUs7UUFDdEMzQixJQUFJNEIsTUFBTSxDQUFDYixNQUFNLENBQUNZLEVBQUUsQ0FBQ2pDLENBQUMsRUFBRXFCLE1BQU0sQ0FBQ1ksRUFBRSxDQUFDaEMsQ0FBQztJQUNyQztJQUNBSyxJQUFJVyxXQUFXLEdBQUc7SUFDbEJYLElBQUlZLFNBQVMsR0FBRztJQUNoQlosSUFBSWEsTUFBTTtBQUNaLEVBQUU7QUFFRiwrQ0FBK0M7QUFDL0MsaUVBQWU7SUFDYnhDO0lBQ0F3QjtJQUNBaUI7QUFDRixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZVBvaW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDYWxpYnJhdGVQb2ludHMuanNcbi8vIFV0aWxpdHkgZm9yIGdlbmVyYXRpbmcgYW5kIG1hbmFnaW5nIGNhbGlicmF0aW9uIHBvaW50cyBvbiBhIGNhbnZhc1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgZ3JpZCBvZiBjYWxpYnJhdGlvbiBwb2ludHMgYmFzZWQgb24gY2FudmFzIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIENhbnZhcyB3aWR0aFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIENhbnZhcyBoZWlnaHRcbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgcG9pbnQgb2JqZWN0cyB3aXRoIHgseSBjb29yZGluYXRlc1xuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gIGlmICghd2lkdGggfHwgIWhlaWdodCB8fCB3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKSB7XG4gICAgY29uc29sZS5lcnJvcihcImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHM6IEludmFsaWQgY2FudmFzIGRpbWVuc2lvbnNcIiwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IGNvbmRpdGlvbmFsUm91bmQgPSAoZGltZW5zaW9uLCBwZXJjZW50YWdlKSA9PiBNYXRoLnJvdW5kKGRpbWVuc2lvbiAqIHBlcmNlbnRhZ2UpO1xuXG4gIC8vIE91dGVyIGZyYW1lICgxMiUgZnJvbSBlZGdlcylcbiAgY29uc3QgeExlZnRPdXRlciA9IGNvbmRpdGlvbmFsUm91bmQod2lkdGgsIDAuMTIpO1xuICBjb25zdCB4UmlnaHRPdXRlciA9IHdpZHRoIC0geExlZnRPdXRlcjtcbiAgY29uc3QgeVRvcE91dGVyID0gY29uZGl0aW9uYWxSb3VuZChoZWlnaHQsIDAuMTIpO1xuICBjb25zdCB5Qm90dG9tT3V0ZXIgPSBoZWlnaHQgLSB5VG9wT3V0ZXI7XG5cbiAgLy8gSW5uZXIgZnJhbWUgKDI2JSBmcm9tIGVkZ2VzKVxuICBjb25zdCB4TGVmdElubmVyID0gY29uZGl0aW9uYWxSb3VuZCh3aWR0aCwgMC4yNik7XG4gIGNvbnN0IHhSaWdodElubmVyID0gd2lkdGggLSB4TGVmdElubmVyO1xuICBjb25zdCB5VG9wSW5uZXIgPSBjb25kaXRpb25hbFJvdW5kKGhlaWdodCwgMC4yNik7XG4gIGNvbnN0IHlCb3R0b21Jbm5lciA9IGhlaWdodCAtIHlUb3BJbm5lcjtcblxuICBjb25zdCB4Q2VudGVyID0gTWF0aC5mbG9vcih3aWR0aCAvIDIpO1xuICBjb25zdCB5Q2VudGVyID0gTWF0aC5mbG9vcihoZWlnaHQgLyAyKTtcblxuICByZXR1cm4gW1xuICAgIC8vIE91dGVyIGZyYW1lICg4IHBvaW50cylcbiAgICB7IHg6IHhMZWZ0T3V0ZXIsIHk6IHlUb3BPdXRlciwgbGFiZWw6IFwiT3V0ZXIgVG9wLUxlZnRcIiB9LFxuICAgIHsgeDogeENlbnRlciwgeTogeVRvcE91dGVyLCBsYWJlbDogXCJPdXRlciBUb3AtQ2VudGVyXCIgfSxcbiAgICB7IHg6IHhSaWdodE91dGVyLCB5OiB5VG9wT3V0ZXIsIGxhYmVsOiBcIk91dGVyIFRvcC1SaWdodFwiIH0sXG4gICAgeyB4OiB4TGVmdE91dGVyLCB5OiB5Q2VudGVyLCBsYWJlbDogXCJPdXRlciBNaWRkbGUtTGVmdFwiIH0sXG4gICAgeyB4OiB4UmlnaHRPdXRlciwgeTogeUNlbnRlciwgbGFiZWw6IFwiT3V0ZXIgTWlkZGxlLVJpZ2h0XCIgfSxcbiAgICB7IHg6IHhMZWZ0T3V0ZXIsIHk6IHlCb3R0b21PdXRlciwgbGFiZWw6IFwiT3V0ZXIgQm90dG9tLUxlZnRcIiB9LFxuICAgIHsgeDogeENlbnRlciwgeTogeUJvdHRvbU91dGVyLCBsYWJlbDogXCJPdXRlciBCb3R0b20tQ2VudGVyXCIgfSxcbiAgICB7IHg6IHhSaWdodE91dGVyLCB5OiB5Qm90dG9tT3V0ZXIsIGxhYmVsOiBcIk91dGVyIEJvdHRvbS1SaWdodFwiIH0sXG5cbiAgICAvLyBJbm5lciBmcmFtZSAoOCBwb2ludHMpXG4gICAgeyB4OiB4TGVmdElubmVyLCB5OiB5VG9wSW5uZXIsIGxhYmVsOiBcIklubmVyIFRvcC1MZWZ0XCIgfSxcbiAgICB7IHg6IHhDZW50ZXIsIHk6IHlUb3BJbm5lciwgbGFiZWw6IFwiSW5uZXIgVG9wLUNlbnRlclwiIH0sXG4gICAgeyB4OiB4UmlnaHRJbm5lciwgeTogeVRvcElubmVyLCBsYWJlbDogXCJJbm5lciBUb3AtUmlnaHRcIiB9LFxuICAgIHsgeDogeExlZnRJbm5lciwgeTogeUNlbnRlciwgbGFiZWw6IFwiSW5uZXIgTWlkZGxlLUxlZnRcIiB9LFxuICAgIHsgeDogeFJpZ2h0SW5uZXIsIHk6IHlDZW50ZXIsIGxhYmVsOiBcIklubmVyIE1pZGRsZS1SaWdodFwiIH0sXG4gICAgeyB4OiB4TGVmdElubmVyLCB5OiB5Qm90dG9tSW5uZXIsIGxhYmVsOiBcIklubmVyIEJvdHRvbS1MZWZ0XCIgfSxcbiAgICB7IHg6IHhDZW50ZXIsIHk6IHlCb3R0b21Jbm5lciwgbGFiZWw6IFwiSW5uZXIgQm90dG9tLUNlbnRlclwiIH0sXG4gICAgeyB4OiB4UmlnaHRJbm5lciwgeTogeUJvdHRvbUlubmVyLCBsYWJlbDogXCJJbm5lciBCb3R0b20tUmlnaHRcIiB9XG4gIF07XG59O1xuXG4vKipcbiAqIERyYXcgYSBjYWxpYnJhdGlvbiBwb2ludCBvbiBhIGNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gQ2FudmFzIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25hbCBzZXR0aW5ncyAoY29sb3IsIHJhZGl1cylcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBvaW50IHBvc2l0aW9uIG9iamVjdCB7eCwgeX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRyYXdDYWxpYnJhdGlvblBvaW50ID0gKGNhbnZhcywgeCwgeSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGlmICghY2FudmFzKSByZXR1cm4geyB4LCB5IH07XG5cbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGNvbnN0IGNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCAncmVkJztcbiAgY29uc3QgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgODtcblxuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgY3R4LmZpbGwoKTtcblxuICAvLyBHbG93IGVmZmVjdFxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzICsgMywgMCwgTWF0aC5QSSAqIDIpO1xuICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuNSknO1xuICBjdHgubGluZVdpZHRoID0gMjtcbiAgY3R4LnN0cm9rZSgpO1xuXG4gIHJldHVybiB7IHgsIHkgfTtcbn07XG5cbi8qKlxuICogRHJhdyBhbGwgY2FsaWJyYXRpb24gcG9pbnRzIG9uIGEgY2FudmFzIChmb3IgZGVidWdnaW5nL3Zpc3VhbGl6YXRpb24pXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBDYW52YXMgZWxlbWVudFxuICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIC0gQXJyYXkgb2YgcG9pbnQgb2JqZWN0c1xuICogQHBhcmFtIHtudW1iZXJ9IGFjdGl2ZUluZGV4IC0gSW5kZXggb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgcG9pbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGRyYXdDYWxpYnJhdGlvbkdyaWQgPSAoY2FudmFzLCBwb2ludHMsIGFjdGl2ZUluZGV4ID0gLTEpID0+IHtcbiAgaWYgKCFjYW52YXMgfHwgIXBvaW50cyB8fCAhcG9pbnRzLmxlbmd0aCkgcmV0dXJuO1xuXG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICBwb2ludHMuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaXNBY3RpdmUgPSBpbmRleCA9PT0gYWN0aXZlSW5kZXg7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhwb2ludC54LCBwb2ludC55LCBpc0FjdGl2ZSA/IDggOiA0LCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGlzQWN0aXZlID8gJ3JlZCcgOiAncmdiYSgwLCAxMDIsIDIwNCwgMC43KSc7XG4gICAgY3R4LmZpbGwoKTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgIGN0eC5mb250ID0gJzEwcHggQXJpYWwnO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY3R4LmZpbGxUZXh0KGAke2luZGV4ICsgMX1gLCBwb2ludC54LCBwb2ludC55KTtcblxuICAgIGlmIChpc0FjdGl2ZSAmJiBwb2ludC5sYWJlbCkge1xuICAgICAgY3R4LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgICBjdHguZmlsbFRleHQocG9pbnQubGFiZWwsIHBvaW50LngsIHBvaW50LnkgLSAyMCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBEcmF3IGNvbm5lY3RpbmcgbGluZXMgKG9wdGlvbmFsKVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8ocG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjdHgubGluZVRvKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gIH1cbiAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwgMTAyLCAyMDQsIDAuMyknO1xuICBjdHgubGluZVdpZHRoID0gMTtcbiAgY3R4LnN0cm9rZSgpO1xufTtcblxuLy8gT3B0aW9uYWw6IERlZmF1bHQgZXhwb3J0IGFsbCBmb3IgY29udmVuaWVuY2VcbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyxcbiAgZHJhd0NhbGlicmF0aW9uUG9pbnQsXG4gIGRyYXdDYWxpYnJhdGlvbkdyaWRcbn07Il0sIm5hbWVzIjpbImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMiLCJ3aWR0aCIsImhlaWdodCIsImNvbnNvbGUiLCJlcnJvciIsImNvbmRpdGlvbmFsUm91bmQiLCJkaW1lbnNpb24iLCJwZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwieExlZnRPdXRlciIsInhSaWdodE91dGVyIiwieVRvcE91dGVyIiwieUJvdHRvbU91dGVyIiwieExlZnRJbm5lciIsInhSaWdodElubmVyIiwieVRvcElubmVyIiwieUJvdHRvbUlubmVyIiwieENlbnRlciIsImZsb29yIiwieUNlbnRlciIsIngiLCJ5IiwibGFiZWwiLCJkcmF3Q2FsaWJyYXRpb25Qb2ludCIsImNhbnZhcyIsIm9wdGlvbnMiLCJjdHgiLCJnZXRDb250ZXh0IiwiY29sb3IiLCJyYWRpdXMiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwiZmlsbCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiZHJhd0NhbGlicmF0aW9uR3JpZCIsInBvaW50cyIsImFjdGl2ZUluZGV4IiwibGVuZ3RoIiwiZm9yRWFjaCIsInBvaW50IiwiaW5kZXgiLCJpc0FjdGl2ZSIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsIm1vdmVUbyIsImkiLCJsaW5lVG8iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js":
/*!*********************************************************************!*\
  !*** ./components/collected-dataset-customized/Action/countSave.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calibrationCapture: () => (/* binding */ calibrationCapture),\n/* harmony export */   captureAndPreviewProcess: () => (/* binding */ captureAndPreviewProcess),\n/* harmony export */   captureImages: () => (/* binding */ captureImages),\n/* harmony export */   createCountdownElement: () => (/* binding */ createCountdownElement),\n/* harmony export */   drawRedDot: () => (/* binding */ drawRedDot),\n/* harmony export */   getRandomPosition: () => (/* binding */ getRandomPosition),\n/* harmony export */   runCountdown: () => (/* binding */ runCountdown),\n/* harmony export */   showCapturePreview: () => (/* binding */ showCapturePreview)\n/* harmony export */ });\n/* harmony import */ var _Helper_savefile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\");\n// Fixed countSave.js - Resolving redrawInterval reference error\n// Shared functionality for countdown and image capture processes\n\n/**\n * Creates and displays a countdown element above a dot position\n * @param {Object} position - {x, y} position of the dot\n * @param {DOMRect} canvasRect - getBoundingClientRect() of the canvas\n * @returns {HTMLElement} - The created countdown element\n */ const createCountdownElement = (position, canvasRect)=>{\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[createCountdownElement] Invalid position:', position);\n        return null;\n    }\n    const existingCountdowns = document.querySelectorAll('.calibrate-countdown, .forced-countdown, .center-countdown-backup');\n    existingCountdowns.forEach((el)=>el.remove());\n    const absoluteX = canvasRect.left + position.x;\n    const absoluteY = canvasRect.top + position.y;\n    const countdownElement = document.createElement('div');\n    countdownElement.className = 'dot-countdown';\n    countdownElement.style.cssText = `\n    position: fixed;\n    left: ${absoluteX}px;\n    top: ${absoluteY - 60}px;\n    transform: translateX(-50%);\n    color: red;\n    font-size: 36px;\n    font-weight: bold;\n    text-shadow: 0 0 10px white, 0 0 20px white;\n    z-index: 9999;\n    background-color: rgba(255, 255, 255, 0.8);\n    border: 2px solid red;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n  `;\n    document.body.appendChild(countdownElement);\n    return countdownElement;\n};\n/**\n * Display a preview of the captured images\n * @param {string} screenImage - Data URL of the screen image\n * @param {string} webcamImage - Data URL of the webcam image\n * @param {Object} point - {x, y} position of the dot\n */ const showCapturePreview = (screenImage, webcamImage, point)=>{\n    if (!screenImage && !webcamImage) return;\n    // Remove any existing previews\n    const existingPreviews = document.querySelectorAll('.capture-preview-container');\n    existingPreviews.forEach((preview)=>{\n        if (preview.parentNode) {\n            preview.parentNode.removeChild(preview);\n        }\n    });\n    // Create preview container\n    const previewContainer = document.createElement('div');\n    previewContainer.className = 'capture-preview-container';\n    previewContainer.style.cssText = `\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    gap: 20px;\n    background-color: rgba(0, 0, 0, 0.85);\n    padding: 20px;\n    border-radius: 12px;\n    z-index: 999999;\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);\n  `;\n    // Add screen image if available\n    if (screenImage) {\n        const screenPreview = document.createElement('div');\n        screenPreview.style.cssText = `\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    `;\n        const screenImg = document.createElement('img');\n        screenImg.src = screenImage;\n        screenImg.alt = 'Screen Capture';\n        screenImg.style.cssText = `\n      max-width: 320px;\n      max-height: 240px;\n      border: 3px solid white;\n      border-radius: 8px;\n      background-color: #333;\n    `;\n        const screenLabel = document.createElement('div');\n        screenLabel.textContent = 'Screen Capture';\n        screenLabel.style.cssText = `\n      color: white;\n      font-size: 14px;\n      margin-top: 10px;\n      font-weight: bold;\n    `;\n        screenPreview.appendChild(screenImg);\n        screenPreview.appendChild(screenLabel);\n        previewContainer.appendChild(screenPreview);\n    }\n    // Add webcam image if available\n    if (webcamImage) {\n        const webcamPreview = document.createElement('div');\n        webcamPreview.style.cssText = `\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    `;\n        const webcamImg = document.createElement('img');\n        webcamImg.src = webcamImage;\n        webcamImg.alt = 'Webcam Capture';\n        webcamImg.style.cssText = `\n      max-width: 320px;\n      max-height: 240px;\n      border: 3px solid white;\n      border-radius: 8px;\n      background-color: #333;\n    `;\n        const webcamLabel = document.createElement('div');\n        webcamLabel.textContent = 'Webcam Capture';\n        webcamLabel.style.cssText = `\n      color: white;\n      font-size: 14px;\n      margin-top: 10px;\n      font-weight: bold;\n    `;\n        webcamPreview.appendChild(webcamImg);\n        webcamPreview.appendChild(webcamLabel);\n        previewContainer.appendChild(webcamPreview);\n    }\n    // Add point info\n    if (point) {\n        const pointInfo = document.createElement('div');\n        pointInfo.textContent = point.label ? `${point.label}: x=${Math.round(point.x)}, y=${Math.round(point.y)}` : `Point: x=${Math.round(point.x)}, y=${Math.round(point.y)}`;\n        pointInfo.style.cssText = `\n      color: #ffcc00;\n      font-size: 14px;\n      position: absolute;\n      top: -40px;\n      left: 0;\n      width: 100%;\n      text-align: center;\n    `;\n        previewContainer.appendChild(pointInfo);\n    }\n    // Add timer\n    const timerElement = document.createElement('div');\n    timerElement.textContent = '2.0s';\n    timerElement.style.cssText = `\n    position: absolute;\n    bottom: -25px;\n    right: 20px;\n    color: white;\n    font-size: 12px;\n    background-color: rgba(0, 0, 0, 0.7);\n    padding: 3px 8px;\n    border-radius: 4px;\n  `;\n    previewContainer.appendChild(timerElement);\n    // Add to document\n    document.body.appendChild(previewContainer);\n    // Countdown\n    let timeLeft = 2.0;\n    const interval = setInterval(()=>{\n        timeLeft -= 0.1;\n        if (timeLeft <= 0) {\n            clearInterval(interval);\n            previewContainer.style.opacity = '0';\n            previewContainer.style.transition = 'opacity 0.3s ease';\n            setTimeout(()=>{\n                if (previewContainer.parentNode) {\n                    previewContainer.parentNode.removeChild(previewContainer);\n                }\n            }, 300);\n        } else {\n            timerElement.textContent = `${timeLeft.toFixed(1)}s`;\n        }\n    }, 100);\n    // Safety cleanup\n    setTimeout(()=>{\n        if (previewContainer.parentNode) {\n            previewContainer.parentNode.removeChild(previewContainer);\n        }\n    }, 5000);\n};\n/**\n * Runs a countdown process that displays 3-2-1 above a dot\n * @param {Object} position - {x, y} position of the dot\n * @param {HTMLCanvasElement} canvas - Canvas element with the dot\n * @param {Function} onStatusUpdate - Function to update status messages\n * @param {Function} onComplete - Callback to execute when countdown completes\n */ const runCountdown = async (position, canvas, onStatusUpdate, onComplete)=>{\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[runCountdown] Invalid position:', position);\n        onStatusUpdate?.({\n            processStatus: \"Invalid dot position\",\n            countdownValue: null,\n            isCapturing: false\n        });\n        return;\n    }\n    const canvasRect = canvas.getBoundingClientRect();\n    const countdownElement = createCountdownElement(position, canvasRect);\n    if (!countdownElement) {\n        console.warn('[runCountdown] Countdown element could not be created.');\n        return;\n    }\n    const ctx = canvas.getContext('2d');\n    drawRedDot(ctx, position.x, position.y);\n    let count = 3;\n    countdownElement.textContent = count;\n    onStatusUpdate?.({\n        processStatus: \"Countdown\",\n        countdownValue: count,\n        isCapturing: true\n    });\n    // Create redrawInterval for keeping dot visible during countdown\n    let redrawInterval = setInterval(()=>{\n        drawRedDot(ctx, position.x, position.y, 12, false);\n    }, 200);\n    return new Promise((resolve)=>{\n        const countdownInterval = setInterval(()=>{\n            count--;\n            if (count <= 0) {\n                clearInterval(countdownInterval);\n                countdownElement.textContent = \"✓\";\n                onStatusUpdate?.({\n                    countdownValue: \"Capturing...\",\n                    processStatus: \"Capturing image...\",\n                    isCapturing: true\n                });\n                setTimeout(()=>{\n                    if (countdownElement.parentNode) {\n                        countdownElement.parentNode.removeChild(countdownElement);\n                    }\n                    drawRedDot(ctx, position.x, position.y, 12, false);\n                    // Clear the redrawInterval we defined above\n                    if (redrawInterval) {\n                        clearInterval(redrawInterval);\n                    }\n                    if (onComplete) {\n                        drawRedDot(ctx, position.x, position.y, 12, false);\n                        onComplete();\n                    }\n                    resolve();\n                }, 300);\n            } else {\n                countdownElement.textContent = count;\n                onStatusUpdate?.({\n                    processStatus: \"Countdown\",\n                    countdownValue: count,\n                    isCapturing: true\n                });\n            }\n        }, 800);\n    });\n};\n/**\n * Draw a red dot on the canvas\n * @param {CanvasRenderingContext2D} ctx - Canvas 2D context\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} radius - Dot radius\n * @param {boolean} clearCanvas - Whether to clear the canvas before drawing (default: true)\n * @returns {Object} - {x, y} position\n */ const drawRedDot = (ctx, x, y, radius = 12, clearCanvas = true)=>{\n    const canvas = ctx.canvas;\n    // Clear the canvas if requested (default behavior)\n    if (clearCanvas) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    // Draw the dot with a bright red color\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.fillStyle = 'red';\n    ctx.fill();\n    // Add glow effect for better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 3, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.lineWidth = 3;\n    ctx.stroke();\n    // Add a second larger glow for even better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 6, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.3)';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    return {\n        x,\n        y\n    };\n};\n/**\n * Capture images at a specific point\n * @param {Object} options - Capture options\n * @returns {Promise} - Promise that resolves with the capture result\n */ const captureImages = async (options)=>{\n    const { canvasRef, position, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, captureFolder = 'eye_tracking_captures' } = options;\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[captureImages] Invalid position object:', position);\n        setProcessStatus?.('Error: Invalid capture position');\n        return null;\n    }\n    try {\n        // Get highest resolution constraints\n        const constraints = await getHighestResolutionConstraints();\n        console.log('Using camera constraints:', constraints);\n        // Get a new stream with the highest resolution\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        const videoTrack = stream.getVideoTracks()[0];\n        const settings = videoTrack.getSettings();\n        console.log('Actual camera settings:', settings);\n        // Update video element with new stream\n        const videoElement = window.videoElement || document.querySelector('video');\n        if (videoElement) {\n            videoElement.srcObject = stream;\n            await videoElement.play();\n        }\n        // Call the captureImagesAtPoint with all necessary parameters\n        const result = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_0__.captureImagesAtPoint)({\n            point: position,\n            captureCount: captureCounter,\n            canvasRef,\n            setCaptureCount: setCaptureCounter,\n            showCapturePreview\n        });\n        console.log('Capture successful with ID:', result.captureId);\n        // Clean up the stream\n        stream.getTracks().forEach((track)=>track.stop());\n        return {\n            screenImage: result?.screenImage || '',\n            webcamImage: result?.webcamImage || '',\n            success: true,\n            captureId: result?.captureId,\n            resolution: {\n                width: settings.width,\n                height: settings.height\n            }\n        };\n    } catch (err) {\n        console.error('[captureImages] Unexpected error:', err);\n        setProcessStatus?.(`Error: ${err.message}`);\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: err.message\n        };\n    }\n};\n/**\n * Generate a random dot position within the canvas\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {number} padding - Padding from the edges\n * @returns {Object} - {x, y} position\n */ const getRandomPosition = (canvas, padding = 40)=>{\n    if (!canvas) return {\n        x: 100,\n        y: 100\n    }; // Fallback position\n    const width = canvas.width || 400; // Fallback if width is 0\n    const height = canvas.height || 300; // Fallback if height is 0\n    return {\n        x: Math.floor(Math.random() * (width - 2 * padding)) + padding,\n        y: Math.floor(Math.random() * (height - 2 * padding)) + padding\n    };\n};\n/**\n * Special calibration capture function that avoids problematic code paths\n * @param {Object} options - All the calibration options\n * @returns {Promise<Object>} Result object with captured data\n */ /**\n * Special calibration capture function that behaves like random dot capture\n * @param {Object} options - All the calibration options\n * @returns {Promise<Object>} Result object with captured data\n */ const calibrationCapture = async (options)=>{\n    const { canvasRef, point, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, captureFolder = 'eye_tracking_captures', pointIndex, totalPoints } = options;\n    try {\n        console.log(`Starting calibration capture for point ${pointIndex + 1}/${totalPoints}`);\n        // Get canvas\n        const canvas = canvasRef.current;\n        if (!canvas) {\n            console.error(\"Canvas reference is null in calibrationCapture\");\n            setProcessStatus?.(`Error: Canvas not available`);\n            return {\n                success: false\n            };\n        }\n        // Use the exact same drawing method as random dots\n        const ctx = canvas.getContext('2d');\n        drawRedDot(ctx, point.x, point.y);\n        setProcessStatus?.(`Calibration point ${pointIndex + 1}/${totalPoints}`);\n        // Use the same countdown element creation method\n        const canvasRect = canvas.getBoundingClientRect();\n        const countdownElement = createCountdownElement(point, canvasRect);\n        if (!countdownElement) {\n            console.error(\"Failed to create countdown element\");\n            return {\n                success: false\n            };\n        }\n        // Create a redrawInterval for keeping the dot visible\n        let redrawInterval = setInterval(()=>{\n            drawRedDot(ctx, point.x, point.y, 12, false);\n        }, 200);\n        // Run the same countdown as random dot\n        for(let count = 3; count > 0; count--){\n            countdownElement.textContent = count;\n            setProcessStatus?.(`Point ${pointIndex + 1}/${totalPoints} - countdown ${count}`);\n            // Redraw the dot at each step to ensure it remains visible\n            drawRedDot(ctx, point.x, point.y, 12, false);\n            await new Promise((resolve)=>setTimeout(resolve, 800));\n        }\n        // Show checkmark\n        countdownElement.textContent = \"✓\";\n        // Remove countdown element\n        setTimeout(()=>{\n            if (countdownElement.parentNode) {\n                countdownElement.parentNode.removeChild(countdownElement);\n            }\n            // Clear redrawInterval\n            if (redrawInterval) {\n                clearInterval(redrawInterval);\n            }\n        }, 300);\n        // Use captureAndPreviewProcess instead of directly calling captureImagesAtPoint\n        const captureResult = await captureAndPreviewProcess({\n            canvasRef,\n            position: point,\n            captureCounter,\n            setCaptureCounter,\n            setProcessStatus: (status)=>{\n                if (typeof status === 'string') {\n                    setProcessStatus?.(status);\n                } else if (status && typeof status === 'object') {\n                    setProcessStatus?.(status.processStatus || '');\n                }\n            },\n            toggleTopBar,\n            onStatusUpdate: (status)=>{\n                if (typeof status === 'string') {\n                    setProcessStatus?.(status);\n                } else if (status && typeof status === 'object') {\n                    setProcessStatus?.(status.processStatus || '');\n                }\n            },\n            captureFolder\n        });\n        // Ensure proper return even if captureResult is null\n        const safeResult = captureResult && typeof captureResult === 'object' ? captureResult : {\n            screenImage: '',\n            webcamImage: '',\n            success: false\n        };\n        return {\n            screenImage: safeResult.screenImage || '',\n            webcamImage: safeResult.webcamImage || '',\n            success: true,\n            point\n        };\n    } catch (error) {\n        console.error(\"Error in calibrationCapture:\", error);\n        setProcessStatus?.(`Error: ${error.message}`);\n        // Always return a valid object with default values\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\n * Complete capture and preview process\n * @param {Object} options - Process options\n */ const captureAndPreviewProcess = async (options)=>{\n    const { canvasRef, position, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, onStatusUpdate, captureFolder } = options;\n    try {\n        const canvas = canvasRef?.current;\n        if (!canvas) {\n            console.error(\"[captureAndPreviewProcess] Canvas reference is null\");\n            if (setProcessStatus) setProcessStatus('Error: Canvas is not available');\n            return null;\n        }\n        // Draw the dot\n        const ctx = canvas.getContext('2d');\n        drawRedDot(ctx, position.x, position.y);\n        // Countdown before capture\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Starting countdown...',\n                isCapturing: true\n            });\n        }\n        // Create a custom countdown element\n        const canvasRect = canvas.getBoundingClientRect();\n        const countdownElement = document.createElement('div');\n        countdownElement.className = 'calibrate-countdown';\n        countdownElement.style.cssText = `\n      position: fixed;\n      left: ${canvasRect.left + position.x}px;\n      top: ${canvasRect.top + position.y - 60}px;\n      transform: translateX(-50%);\n      color: red;\n      font-size: 36px;\n      font-weight: bold;\n      text-shadow: 0 0 10px white, 0 0 20px white;\n      z-index: 9999;\n      background-color: rgba(255, 255, 255, 0.8);\n      border: 2px solid red;\n      border-radius: 50%;\n      width: 50px;\n      height: 50px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n    `;\n        document.body.appendChild(countdownElement);\n        // Create a redrawInterval for keeping the dot visible\n        let redrawInterval = setInterval(()=>{\n            drawRedDot(ctx, position.x, position.y, 12, false);\n        }, 200);\n        // Manual countdown\n        for(let count = 3; count > 0; count--){\n            countdownElement.textContent = count;\n            if (onStatusUpdate) {\n                onStatusUpdate({\n                    processStatus: `Countdown: ${count}`,\n                    countdownValue: count,\n                    isCapturing: true\n                });\n            }\n            // Redraw dot to ensure it's visible\n            drawRedDot(ctx, position.x, position.y);\n            await new Promise((resolve)=>setTimeout(resolve, 800));\n        }\n        // Change to checkmark\n        countdownElement.textContent = \"✓\";\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Capturing images...',\n                countdownValue: \"Capturing...\",\n                isCapturing: true\n            });\n        }\n        // Remove countdown element and clear redrawInterval\n        setTimeout(()=>{\n            if (countdownElement.parentNode) {\n                countdownElement.parentNode.removeChild(countdownElement);\n            }\n            if (redrawInterval) {\n                clearInterval(redrawInterval);\n            }\n        }, 300);\n        // Use captureImagesAtPoint from savefile.js\n        const captureResult = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_0__.captureImagesAtPoint)({\n            point: position,\n            captureCount: captureCounter,\n            canvasRef,\n            setCaptureCount: setCaptureCounter,\n            showCapturePreview\n        });\n        if (setProcessStatus) {\n            setProcessStatus(`Captured dot at x=${Math.round(position.x)}, y=${Math.round(position.y)}`);\n        }\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Capture complete',\n                isCapturing: false\n            });\n        }\n        // Show TopBar again with delay\n        setTimeout(()=>{\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(true);\n            } else if (false) {}\n        }, 2500);\n        return captureResult;\n    } catch (error) {\n        console.error(\"[captureAndPreviewProcess] Fatal error:\", error);\n        if (setProcessStatus) {\n            setProcessStatus(`Fatal error: ${error.message}`);\n        }\n        // Ensure TopBar is shown even on error\n        setTimeout(()=>{\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(true);\n            } else if (false) {}\n        }, 1500);\n        // Return a minimal valid object to prevent null reference errors\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: error.message\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSxpRUFBaUU7QUFDUDtBQUUxRDs7Ozs7Q0FLQyxHQUNNLE1BQU1DLHlCQUF5QixDQUFDQyxVQUFVQztJQUMvQyxJQUFJLENBQUNELFlBQVksT0FBT0EsU0FBU0UsQ0FBQyxLQUFLLFlBQVksT0FBT0YsU0FBU0csQ0FBQyxLQUFLLFVBQVU7UUFDakZDLFFBQVFDLElBQUksQ0FBQyw4Q0FBOENMO1FBQzNELE9BQU87SUFDVDtJQUVBLE1BQU1NLHFCQUFxQkMsU0FBU0MsZ0JBQWdCLENBQUM7SUFDckRGLG1CQUFtQkcsT0FBTyxDQUFDQyxDQUFBQSxLQUFNQSxHQUFHQyxNQUFNO0lBRTFDLE1BQU1DLFlBQVlYLFdBQVdZLElBQUksR0FBR2IsU0FBU0UsQ0FBQztJQUM5QyxNQUFNWSxZQUFZYixXQUFXYyxHQUFHLEdBQUdmLFNBQVNHLENBQUM7SUFFN0MsTUFBTWEsbUJBQW1CVCxTQUFTVSxhQUFhLENBQUM7SUFDaERELGlCQUFpQkUsU0FBUyxHQUFHO0lBQzdCRixpQkFBaUJHLEtBQUssQ0FBQ0MsT0FBTyxHQUFHLENBQUM7O1VBRTFCLEVBQUVSLFVBQVU7U0FDYixFQUFFRSxZQUFZLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7RUFnQnhCLENBQUM7SUFFRFAsU0FBU2MsSUFBSSxDQUFDQyxXQUFXLENBQUNOO0lBQzFCLE9BQU9BO0FBQ1QsRUFBRTtBQUVGOzs7OztDQUtDLEdBQ00sTUFBTU8scUJBQXFCLENBQUNDLGFBQWFDLGFBQWFDO0lBQzNELElBQUksQ0FBQ0YsZUFBZSxDQUFDQyxhQUFhO0lBRWxDLCtCQUErQjtJQUMvQixNQUFNRSxtQkFBbUJwQixTQUFTQyxnQkFBZ0IsQ0FBQztJQUNuRG1CLGlCQUFpQmxCLE9BQU8sQ0FBQ21CLENBQUFBO1FBQ3ZCLElBQUlBLFFBQVFDLFVBQVUsRUFBRTtZQUN0QkQsUUFBUUMsVUFBVSxDQUFDQyxXQUFXLENBQUNGO1FBQ2pDO0lBQ0Y7SUFFQSwyQkFBMkI7SUFDM0IsTUFBTUcsbUJBQW1CeEIsU0FBU1UsYUFBYSxDQUFDO0lBQ2hEYyxpQkFBaUJiLFNBQVMsR0FBRztJQUM3QmEsaUJBQWlCWixLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDOzs7Ozs7Ozs7Ozs7RUFZbEMsQ0FBQztJQUVELGdDQUFnQztJQUNoQyxJQUFJSSxhQUFhO1FBQ2YsTUFBTVEsZ0JBQWdCekIsU0FBU1UsYUFBYSxDQUFDO1FBQzdDZSxjQUFjYixLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDOzs7O0lBSS9CLENBQUM7UUFFRCxNQUFNYSxZQUFZMUIsU0FBU1UsYUFBYSxDQUFDO1FBQ3pDZ0IsVUFBVUMsR0FBRyxHQUFHVjtRQUNoQlMsVUFBVUUsR0FBRyxHQUFHO1FBQ2hCRixVQUFVZCxLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDOzs7Ozs7SUFNM0IsQ0FBQztRQUVELE1BQU1nQixjQUFjN0IsU0FBU1UsYUFBYSxDQUFDO1FBQzNDbUIsWUFBWUMsV0FBVyxHQUFHO1FBQzFCRCxZQUFZakIsS0FBSyxDQUFDQyxPQUFPLEdBQUcsQ0FBQzs7Ozs7SUFLN0IsQ0FBQztRQUVEWSxjQUFjVixXQUFXLENBQUNXO1FBQzFCRCxjQUFjVixXQUFXLENBQUNjO1FBQzFCTCxpQkFBaUJULFdBQVcsQ0FBQ1U7SUFDL0I7SUFFQSxnQ0FBZ0M7SUFDaEMsSUFBSVAsYUFBYTtRQUNmLE1BQU1hLGdCQUFnQi9CLFNBQVNVLGFBQWEsQ0FBQztRQUM3Q3FCLGNBQWNuQixLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDOzs7O0lBSS9CLENBQUM7UUFFRCxNQUFNbUIsWUFBWWhDLFNBQVNVLGFBQWEsQ0FBQztRQUN6Q3NCLFVBQVVMLEdBQUcsR0FBR1Q7UUFDaEJjLFVBQVVKLEdBQUcsR0FBRztRQUNoQkksVUFBVXBCLEtBQUssQ0FBQ0MsT0FBTyxHQUFHLENBQUM7Ozs7OztJQU0zQixDQUFDO1FBRUQsTUFBTW9CLGNBQWNqQyxTQUFTVSxhQUFhLENBQUM7UUFDM0N1QixZQUFZSCxXQUFXLEdBQUc7UUFDMUJHLFlBQVlyQixLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDOzs7OztJQUs3QixDQUFDO1FBRURrQixjQUFjaEIsV0FBVyxDQUFDaUI7UUFDMUJELGNBQWNoQixXQUFXLENBQUNrQjtRQUMxQlQsaUJBQWlCVCxXQUFXLENBQUNnQjtJQUMvQjtJQUVBLGlCQUFpQjtJQUNqQixJQUFJWixPQUFPO1FBQ1QsTUFBTWUsWUFBWWxDLFNBQVNVLGFBQWEsQ0FBQztRQUN6Q3dCLFVBQVVKLFdBQVcsR0FBR1gsTUFBTWdCLEtBQUssR0FDakMsR0FBR2hCLE1BQU1nQixLQUFLLENBQUMsSUFBSSxFQUFFQyxLQUFLQyxLQUFLLENBQUNsQixNQUFNeEIsQ0FBQyxFQUFFLElBQUksRUFBRXlDLEtBQUtDLEtBQUssQ0FBQ2xCLE1BQU12QixDQUFDLEdBQUcsR0FDcEUsQ0FBQyxTQUFTLEVBQUV3QyxLQUFLQyxLQUFLLENBQUNsQixNQUFNeEIsQ0FBQyxFQUFFLElBQUksRUFBRXlDLEtBQUtDLEtBQUssQ0FBQ2xCLE1BQU12QixDQUFDLEdBQUc7UUFFN0RzQyxVQUFVdEIsS0FBSyxDQUFDQyxPQUFPLEdBQUcsQ0FBQzs7Ozs7Ozs7SUFRM0IsQ0FBQztRQUNEVyxpQkFBaUJULFdBQVcsQ0FBQ21CO0lBQy9CO0lBRUEsWUFBWTtJQUNaLE1BQU1JLGVBQWV0QyxTQUFTVSxhQUFhLENBQUM7SUFDNUM0QixhQUFhUixXQUFXLEdBQUc7SUFDM0JRLGFBQWExQixLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDOzs7Ozs7Ozs7RUFTOUIsQ0FBQztJQUNEVyxpQkFBaUJULFdBQVcsQ0FBQ3VCO0lBRTdCLGtCQUFrQjtJQUNsQnRDLFNBQVNjLElBQUksQ0FBQ0MsV0FBVyxDQUFDUztJQUUxQixZQUFZO0lBQ1osSUFBSWUsV0FBVztJQUNmLE1BQU1DLFdBQVdDLFlBQVk7UUFDM0JGLFlBQVk7UUFDWixJQUFJQSxZQUFZLEdBQUc7WUFDakJHLGNBQWNGO1lBQ2RoQixpQkFBaUJaLEtBQUssQ0FBQytCLE9BQU8sR0FBRztZQUNqQ25CLGlCQUFpQlosS0FBSyxDQUFDZ0MsVUFBVSxHQUFHO1lBQ3BDQyxXQUFXO2dCQUNULElBQUlyQixpQkFBaUJGLFVBQVUsRUFBRTtvQkFDL0JFLGlCQUFpQkYsVUFBVSxDQUFDQyxXQUFXLENBQUNDO2dCQUMxQztZQUNGLEdBQUc7UUFDTCxPQUFPO1lBQ0xjLGFBQWFSLFdBQVcsR0FBRyxHQUFHUyxTQUFTTyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEQ7SUFDRixHQUFHO0lBRUgsaUJBQWlCO0lBQ2pCRCxXQUFXO1FBQ1QsSUFBSXJCLGlCQUFpQkYsVUFBVSxFQUFFO1lBQy9CRSxpQkFBaUJGLFVBQVUsQ0FBQ0MsV0FBVyxDQUFDQztRQUMxQztJQUNGLEdBQUc7QUFDTCxFQUFFO0FBRUY7Ozs7OztDQU1DLEdBQ00sTUFBTXVCLGVBQWUsT0FBT3RELFVBQVV1RCxRQUFRQyxnQkFBZ0JDO0lBQ25FLElBQUksQ0FBQ3pELFlBQVksT0FBT0EsU0FBU0UsQ0FBQyxLQUFLLFlBQVksT0FBT0YsU0FBU0csQ0FBQyxLQUFLLFVBQVU7UUFDakZDLFFBQVFDLElBQUksQ0FBQyxvQ0FBb0NMO1FBQ2pEd0QsaUJBQWlCO1lBQ2ZFLGVBQWU7WUFDZkMsZ0JBQWdCO1lBQ2hCQyxhQUFhO1FBQ2Y7UUFDQTtJQUNGO0lBRUEsTUFBTTNELGFBQWFzRCxPQUFPTSxxQkFBcUI7SUFDL0MsTUFBTTdDLG1CQUFtQmpCLHVCQUF1QkMsVUFBVUM7SUFFMUQsSUFBSSxDQUFDZSxrQkFBa0I7UUFDckJaLFFBQVFDLElBQUksQ0FBQztRQUNiO0lBQ0Y7SUFFQSxNQUFNeUQsTUFBTVAsT0FBT1EsVUFBVSxDQUFDO0lBQzlCQyxXQUFXRixLQUFLOUQsU0FBU0UsQ0FBQyxFQUFFRixTQUFTRyxDQUFDO0lBRXRDLElBQUk4RCxRQUFRO0lBQ1pqRCxpQkFBaUJxQixXQUFXLEdBQUc0QjtJQUUvQlQsaUJBQWlCO1FBQ2ZFLGVBQWU7UUFDZkMsZ0JBQWdCTTtRQUNoQkwsYUFBYTtJQUNmO0lBRUEsaUVBQWlFO0lBQ2pFLElBQUlNLGlCQUFpQmxCLFlBQVk7UUFDL0JnQixXQUFXRixLQUFLOUQsU0FBU0UsQ0FBQyxFQUFFRixTQUFTRyxDQUFDLEVBQUUsSUFBSTtJQUM5QyxHQUFHO0lBRUgsT0FBTyxJQUFJZ0UsUUFBUSxDQUFDQztRQUNsQixNQUFNQyxvQkFBb0JyQixZQUFZO1lBQ3BDaUI7WUFFQSxJQUFJQSxTQUFTLEdBQUc7Z0JBQ2RoQixjQUFjb0I7Z0JBQ2RyRCxpQkFBaUJxQixXQUFXLEdBQUc7Z0JBRS9CbUIsaUJBQWlCO29CQUNmRyxnQkFBZ0I7b0JBQ2hCRCxlQUFlO29CQUNmRSxhQUFhO2dCQUNmO2dCQUVBUixXQUFXO29CQUNULElBQUlwQyxpQkFBaUJhLFVBQVUsRUFBRTt3QkFDL0JiLGlCQUFpQmEsVUFBVSxDQUFDQyxXQUFXLENBQUNkO29CQUMxQztvQkFDQWdELFdBQVdGLEtBQUs5RCxTQUFTRSxDQUFDLEVBQUVGLFNBQVNHLENBQUMsRUFBRSxJQUFJO29CQUU1Qyw0Q0FBNEM7b0JBQzVDLElBQUkrRCxnQkFBZ0I7d0JBQ2xCakIsY0FBY2lCO29CQUNoQjtvQkFFQSxJQUFJVCxZQUFZO3dCQUNkTyxXQUFXRixLQUFLOUQsU0FBU0UsQ0FBQyxFQUFFRixTQUFTRyxDQUFDLEVBQUUsSUFBSTt3QkFDNUNzRDtvQkFDRjtvQkFDQVc7Z0JBQ0YsR0FBRztZQUNMLE9BQU87Z0JBQ0xwRCxpQkFBaUJxQixXQUFXLEdBQUc0QjtnQkFFL0JULGlCQUFpQjtvQkFDZkUsZUFBZTtvQkFDZkMsZ0JBQWdCTTtvQkFDaEJMLGFBQWE7Z0JBQ2Y7WUFDRjtRQUNGLEdBQUc7SUFDTDtBQUNGLEVBQUU7QUFFRjs7Ozs7Ozs7Q0FRQyxHQUNNLE1BQU1JLGFBQWEsQ0FBQ0YsS0FBSzVELEdBQUdDLEdBQUdtRSxTQUFTLEVBQUUsRUFBRUMsY0FBYyxJQUFJO0lBQ25FLE1BQU1oQixTQUFTTyxJQUFJUCxNQUFNO0lBRXpCLG1EQUFtRDtJQUNuRCxJQUFJZ0IsYUFBYTtRQUNmVCxJQUFJVSxTQUFTLENBQUMsR0FBRyxHQUFHakIsT0FBT2tCLEtBQUssRUFBRWxCLE9BQU9tQixNQUFNO1FBQy9DWixJQUFJYSxTQUFTLEdBQUc7UUFDaEJiLElBQUljLFFBQVEsQ0FBQyxHQUFHLEdBQUdyQixPQUFPa0IsS0FBSyxFQUFFbEIsT0FBT21CLE1BQU07SUFDaEQ7SUFFQSx1Q0FBdUM7SUFDdkNaLElBQUllLFNBQVM7SUFDYmYsSUFBSWdCLEdBQUcsQ0FBQzVFLEdBQUdDLEdBQUdtRSxRQUFRLEdBQUczQixLQUFLb0MsRUFBRSxHQUFHO0lBQ25DakIsSUFBSWEsU0FBUyxHQUFHO0lBQ2hCYixJQUFJa0IsSUFBSTtJQUVSLHdDQUF3QztJQUN4Q2xCLElBQUllLFNBQVM7SUFDYmYsSUFBSWdCLEdBQUcsQ0FBQzVFLEdBQUdDLEdBQUdtRSxTQUFTLEdBQUcsR0FBRzNCLEtBQUtvQyxFQUFFLEdBQUc7SUFDdkNqQixJQUFJbUIsV0FBVyxHQUFHO0lBQ2xCbkIsSUFBSW9CLFNBQVMsR0FBRztJQUNoQnBCLElBQUlxQixNQUFNO0lBRVYsc0RBQXNEO0lBQ3REckIsSUFBSWUsU0FBUztJQUNiZixJQUFJZ0IsR0FBRyxDQUFDNUUsR0FBR0MsR0FBR21FLFNBQVMsR0FBRyxHQUFHM0IsS0FBS29DLEVBQUUsR0FBRztJQUN2Q2pCLElBQUltQixXQUFXLEdBQUc7SUFDbEJuQixJQUFJb0IsU0FBUyxHQUFHO0lBQ2hCcEIsSUFBSXFCLE1BQU07SUFFVixPQUFPO1FBQUVqRjtRQUFHQztJQUFFO0FBQ2hCLEVBQUU7QUFFRjs7OztDQUlDLEdBQ00sTUFBTWlGLGdCQUFnQixPQUFPQztJQUNoQyxNQUFNLEVBQ0pDLFNBQVMsRUFDVHRGLFFBQVEsRUFDUnVGLGNBQWMsRUFDZEMsaUJBQWlCLEVBQ2pCQyxnQkFBZ0IsRUFDaEJDLFlBQVksRUFDWkMsZ0JBQWdCLHVCQUF1QixFQUN4QyxHQUFHTjtJQUVKLElBQUksQ0FBQ3JGLFlBQVksT0FBT0EsU0FBU0UsQ0FBQyxLQUFLLFlBQVksT0FBT0YsU0FBU0csQ0FBQyxLQUFLLFVBQVU7UUFDakZDLFFBQVFDLElBQUksQ0FBQyw0Q0FBNENMO1FBQ3pEeUYsbUJBQW1CO1FBQ25CLE9BQU87SUFDVDtJQUVBLElBQUk7UUFDRixxQ0FBcUM7UUFDckMsTUFBTUcsY0FBYyxNQUFNQztRQUMxQnpGLFFBQVEwRixHQUFHLENBQUMsNkJBQTZCRjtRQUV6QywrQ0FBK0M7UUFDL0MsTUFBTUcsU0FBUyxNQUFNQyxVQUFVQyxZQUFZLENBQUNDLFlBQVksQ0FBQ047UUFDekQsTUFBTU8sYUFBYUosT0FBT0ssY0FBYyxFQUFFLENBQUMsRUFBRTtRQUM3QyxNQUFNQyxXQUFXRixXQUFXRyxXQUFXO1FBQ3ZDbEcsUUFBUTBGLEdBQUcsQ0FBQywyQkFBMkJPO1FBRXZDLHVDQUF1QztRQUN2QyxNQUFNRSxlQUFlQyxPQUFPRCxZQUFZLElBQUloRyxTQUFTa0csYUFBYSxDQUFDO1FBQ25FLElBQUlGLGNBQWM7WUFDaEJBLGFBQWFHLFNBQVMsR0FBR1g7WUFDekIsTUFBTVEsYUFBYUksSUFBSTtRQUN6QjtRQUVBLDhEQUE4RDtRQUM5RCxNQUFNQyxTQUFTLE1BQU05RyxzRUFBb0JBLENBQUM7WUFDeEM0QixPQUFPMUI7WUFDUDZHLGNBQWN0QjtZQUNkRDtZQUNBd0IsaUJBQWlCdEI7WUFDakJqRTtRQUNGO1FBRUFuQixRQUFRMEYsR0FBRyxDQUFDLCtCQUErQmMsT0FBT0csU0FBUztRQUUzRCxzQkFBc0I7UUFDdEJoQixPQUFPaUIsU0FBUyxHQUFHdkcsT0FBTyxDQUFDd0csQ0FBQUEsUUFBU0EsTUFBTUMsSUFBSTtRQUU5QyxPQUFPO1lBQ0wxRixhQUFhb0YsUUFBUXBGLGVBQWU7WUFDcENDLGFBQWFtRixRQUFRbkYsZUFBZTtZQUNwQzBGLFNBQVM7WUFDVEosV0FBV0gsUUFBUUc7WUFDbkJLLFlBQVk7Z0JBQ1YzQyxPQUFPNEIsU0FBUzVCLEtBQUs7Z0JBQ3JCQyxRQUFRMkIsU0FBUzNCLE1BQU07WUFDekI7UUFDRjtJQUNGLEVBQUUsT0FBTzJDLEtBQUs7UUFDWmpILFFBQVFrSCxLQUFLLENBQUMscUNBQXFDRDtRQUNuRDVCLG1CQUFtQixDQUFDLE9BQU8sRUFBRTRCLElBQUlFLE9BQU8sRUFBRTtRQUMxQyxPQUFPO1lBQ0wvRixhQUFhO1lBQ2JDLGFBQWE7WUFDYjBGLFNBQVM7WUFDVEcsT0FBT0QsSUFBSUUsT0FBTztRQUNwQjtJQUNGO0FBQ0YsRUFBRTtBQUVKOzs7OztDQUtDLEdBQ00sTUFBTUMsb0JBQW9CLENBQUNqRSxRQUFRa0UsVUFBVSxFQUFFO0lBQ3BELElBQUksQ0FBQ2xFLFFBQVEsT0FBTztRQUFFckQsR0FBRztRQUFLQyxHQUFHO0lBQUksR0FBRyxvQkFBb0I7SUFFNUQsTUFBTXNFLFFBQVFsQixPQUFPa0IsS0FBSyxJQUFJLEtBQU0seUJBQXlCO0lBQzdELE1BQU1DLFNBQVNuQixPQUFPbUIsTUFBTSxJQUFJLEtBQUssMEJBQTBCO0lBRS9ELE9BQU87UUFDTHhFLEdBQUd5QyxLQUFLK0UsS0FBSyxDQUFDL0UsS0FBS2dGLE1BQU0sS0FBTWxELENBQUFBLFFBQVEsSUFBSWdELE9BQU0sS0FBTUE7UUFDdkR0SCxHQUFHd0MsS0FBSytFLEtBQUssQ0FBQy9FLEtBQUtnRixNQUFNLEtBQU1qRCxDQUFBQSxTQUFTLElBQUkrQyxPQUFNLEtBQU1BO0lBQzFEO0FBQ0YsRUFBRTtBQUVGOzs7O0NBSUMsR0FDRDs7OztDQUlDLEdBQ00sTUFBTUcscUJBQXFCLE9BQU92QztJQUNyQyxNQUFNLEVBQ0pDLFNBQVMsRUFDVDVELEtBQUssRUFDTDZELGNBQWMsRUFDZEMsaUJBQWlCLEVBQ2pCQyxnQkFBZ0IsRUFDaEJDLFlBQVksRUFDWkMsZ0JBQWdCLHVCQUF1QixFQUN2Q2tDLFVBQVUsRUFDVkMsV0FBVyxFQUNaLEdBQUd6QztJQUVKLElBQUk7UUFDRmpGLFFBQVEwRixHQUFHLENBQUMsQ0FBQyx1Q0FBdUMsRUFBRStCLGFBQWEsRUFBRSxDQUFDLEVBQUVDLGFBQWE7UUFFckYsYUFBYTtRQUNiLE1BQU12RSxTQUFTK0IsVUFBVXlDLE9BQU87UUFDaEMsSUFBSSxDQUFDeEUsUUFBUTtZQUNYbkQsUUFBUWtILEtBQUssQ0FBQztZQUNkN0IsbUJBQW1CLENBQUMsMkJBQTJCLENBQUM7WUFDaEQsT0FBTztnQkFBRTBCLFNBQVM7WUFBTTtRQUMxQjtRQUVBLG1EQUFtRDtRQUNuRCxNQUFNckQsTUFBTVAsT0FBT1EsVUFBVSxDQUFDO1FBQzlCQyxXQUFXRixLQUFLcEMsTUFBTXhCLENBQUMsRUFBRXdCLE1BQU12QixDQUFDO1FBRWhDc0YsbUJBQW1CLENBQUMsa0JBQWtCLEVBQUVvQyxhQUFhLEVBQUUsQ0FBQyxFQUFFQyxhQUFhO1FBRXZFLGlEQUFpRDtRQUNqRCxNQUFNN0gsYUFBYXNELE9BQU9NLHFCQUFxQjtRQUMvQyxNQUFNN0MsbUJBQW1CakIsdUJBQXVCMkIsT0FBT3pCO1FBRXZELElBQUksQ0FBQ2Usa0JBQWtCO1lBQ3JCWixRQUFRa0gsS0FBSyxDQUFDO1lBQ2QsT0FBTztnQkFBRUgsU0FBUztZQUFNO1FBQzFCO1FBRUEsc0RBQXNEO1FBQ3RELElBQUlqRCxpQkFBaUJsQixZQUFZO1lBQy9CZ0IsV0FBV0YsS0FBS3BDLE1BQU14QixDQUFDLEVBQUV3QixNQUFNdkIsQ0FBQyxFQUFFLElBQUk7UUFDeEMsR0FBRztRQUVILHVDQUF1QztRQUN2QyxJQUFLLElBQUk4RCxRQUFRLEdBQUdBLFFBQVEsR0FBR0EsUUFBUztZQUN0Q2pELGlCQUFpQnFCLFdBQVcsR0FBRzRCO1lBQy9Cd0IsbUJBQW1CLENBQUMsTUFBTSxFQUFFb0MsYUFBYSxFQUFFLENBQUMsRUFBRUMsWUFBWSxhQUFhLEVBQUU3RCxPQUFPO1lBRWhGLDJEQUEyRDtZQUMzREQsV0FBV0YsS0FBS3BDLE1BQU14QixDQUFDLEVBQUV3QixNQUFNdkIsQ0FBQyxFQUFFLElBQUk7WUFFdEMsTUFBTSxJQUFJZ0UsUUFBUUMsQ0FBQUEsVUFBV2hCLFdBQVdnQixTQUFTO1FBQ25EO1FBRUEsaUJBQWlCO1FBQ2pCcEQsaUJBQWlCcUIsV0FBVyxHQUFHO1FBRS9CLDJCQUEyQjtRQUMzQmUsV0FBVztZQUNULElBQUlwQyxpQkFBaUJhLFVBQVUsRUFBRTtnQkFDL0JiLGlCQUFpQmEsVUFBVSxDQUFDQyxXQUFXLENBQUNkO1lBQzFDO1lBRUEsdUJBQXVCO1lBQ3ZCLElBQUlrRCxnQkFBZ0I7Z0JBQ2xCakIsY0FBY2lCO1lBQ2hCO1FBQ0YsR0FBRztRQUVILGdGQUFnRjtRQUNoRixNQUFNOEQsZ0JBQWdCLE1BQU1DLHlCQUF5QjtZQUNuRDNDO1lBQ0F0RixVQUFVMEI7WUFDVjZEO1lBQ0FDO1lBQ0FDLGtCQUFrQixDQUFDeUM7Z0JBQ2pCLElBQUksT0FBT0EsV0FBVyxVQUFVO29CQUM5QnpDLG1CQUFtQnlDO2dCQUNyQixPQUFPLElBQUlBLFVBQVUsT0FBT0EsV0FBVyxVQUFVO29CQUMvQ3pDLG1CQUFtQnlDLE9BQU94RSxhQUFhLElBQUk7Z0JBQzdDO1lBQ0Y7WUFDQWdDO1lBQ0FsQyxnQkFBZ0IsQ0FBQzBFO2dCQUNmLElBQUksT0FBT0EsV0FBVyxVQUFVO29CQUM5QnpDLG1CQUFtQnlDO2dCQUNyQixPQUFPLElBQUlBLFVBQVUsT0FBT0EsV0FBVyxVQUFVO29CQUMvQ3pDLG1CQUFtQnlDLE9BQU94RSxhQUFhLElBQUk7Z0JBQzdDO1lBQ0Y7WUFDQWlDO1FBQ0Y7UUFFQSxxREFBcUQ7UUFDckQsTUFBTXdDLGFBQWFILGlCQUFpQixPQUFPQSxrQkFBa0IsV0FDekRBLGdCQUNBO1lBQUV4RyxhQUFhO1lBQUlDLGFBQWE7WUFBSTBGLFNBQVM7UUFBTTtRQUV2RCxPQUFPO1lBQ0wzRixhQUFhMkcsV0FBVzNHLFdBQVcsSUFBSTtZQUN2Q0MsYUFBYTBHLFdBQVcxRyxXQUFXLElBQUk7WUFDdkMwRixTQUFTO1lBQ1R6RjtRQUNGO0lBRUYsRUFBRSxPQUFPNEYsT0FBTztRQUNkbEgsUUFBUWtILEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDN0IsbUJBQW1CLENBQUMsT0FBTyxFQUFFNkIsTUFBTUMsT0FBTyxFQUFFO1FBRTVDLG1EQUFtRDtRQUNuRCxPQUFPO1lBQ0wvRixhQUFhO1lBQ2JDLGFBQWE7WUFDYjBGLFNBQVM7WUFDVEcsT0FBT0EsTUFBTUMsT0FBTztRQUN0QjtJQUNGO0FBQ0YsRUFBRTtBQUVKOzs7Q0FHQyxHQUNNLE1BQU1VLDJCQUEyQixPQUFPNUM7SUFDN0MsTUFBTSxFQUNKQyxTQUFTLEVBQ1R0RixRQUFRLEVBQ1J1RixjQUFjLEVBQ2RDLGlCQUFpQixFQUNqQkMsZ0JBQWdCLEVBQ2hCQyxZQUFZLEVBQ1psQyxjQUFjLEVBQ2RtQyxhQUFhLEVBQ2QsR0FBR047SUFFSixJQUFJO1FBQ0YsTUFBTTlCLFNBQVMrQixXQUFXeUM7UUFDMUIsSUFBSSxDQUFDeEUsUUFBUTtZQUNYbkQsUUFBUWtILEtBQUssQ0FBQztZQUNkLElBQUk3QixrQkFBa0JBLGlCQUFpQjtZQUN2QyxPQUFPO1FBQ1Q7UUFFQSxlQUFlO1FBQ2YsTUFBTTNCLE1BQU1QLE9BQU9RLFVBQVUsQ0FBQztRQUM5QkMsV0FBV0YsS0FBSzlELFNBQVNFLENBQUMsRUFBRUYsU0FBU0csQ0FBQztRQUV0QywyQkFBMkI7UUFDM0IsSUFBSXFELGdCQUFnQjtZQUNsQkEsZUFBZTtnQkFDYkUsZUFBZTtnQkFDZkUsYUFBYTtZQUNmO1FBQ0Y7UUFFQSxvQ0FBb0M7UUFDcEMsTUFBTTNELGFBQWFzRCxPQUFPTSxxQkFBcUI7UUFDL0MsTUFBTTdDLG1CQUFtQlQsU0FBU1UsYUFBYSxDQUFDO1FBQ2hERCxpQkFBaUJFLFNBQVMsR0FBRztRQUM3QkYsaUJBQWlCRyxLQUFLLENBQUNDLE9BQU8sR0FBRyxDQUFDOztZQUUxQixFQUFFbkIsV0FBV1ksSUFBSSxHQUFHYixTQUFTRSxDQUFDLENBQUM7V0FDaEMsRUFBRUQsV0FBV2MsR0FBRyxHQUFHZixTQUFTRyxDQUFDLEdBQUcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7OztJQWdCMUMsQ0FBQztRQUNESSxTQUFTYyxJQUFJLENBQUNDLFdBQVcsQ0FBQ047UUFFMUIsc0RBQXNEO1FBQ3RELElBQUlrRCxpQkFBaUJsQixZQUFZO1lBQy9CZ0IsV0FBV0YsS0FBSzlELFNBQVNFLENBQUMsRUFBRUYsU0FBU0csQ0FBQyxFQUFFLElBQUk7UUFDOUMsR0FBRztRQUVILG1CQUFtQjtRQUNuQixJQUFLLElBQUk4RCxRQUFRLEdBQUdBLFFBQVEsR0FBR0EsUUFBUztZQUN0Q2pELGlCQUFpQnFCLFdBQVcsR0FBRzRCO1lBQy9CLElBQUlULGdCQUFnQjtnQkFDbEJBLGVBQWU7b0JBQ2JFLGVBQWUsQ0FBQyxXQUFXLEVBQUVPLE9BQU87b0JBQ3BDTixnQkFBZ0JNO29CQUNoQkwsYUFBYTtnQkFDZjtZQUNGO1lBQ0Esb0NBQW9DO1lBQ3BDSSxXQUFXRixLQUFLOUQsU0FBU0UsQ0FBQyxFQUFFRixTQUFTRyxDQUFDO1lBQ3RDLE1BQU0sSUFBSWdFLFFBQVFDLENBQUFBLFVBQVdoQixXQUFXZ0IsU0FBUztRQUNuRDtRQUVBLHNCQUFzQjtRQUN0QnBELGlCQUFpQnFCLFdBQVcsR0FBRztRQUMvQixJQUFJbUIsZ0JBQWdCO1lBQ2xCQSxlQUFlO2dCQUNiRSxlQUFlO2dCQUNmQyxnQkFBZ0I7Z0JBQ2hCQyxhQUFhO1lBQ2Y7UUFDRjtRQUVBLG9EQUFvRDtRQUNwRFIsV0FBVztZQUNULElBQUlwQyxpQkFBaUJhLFVBQVUsRUFBRTtnQkFDL0JiLGlCQUFpQmEsVUFBVSxDQUFDQyxXQUFXLENBQUNkO1lBQzFDO1lBRUEsSUFBSWtELGdCQUFnQjtnQkFDbEJqQixjQUFjaUI7WUFDaEI7UUFDRixHQUFHO1FBRUgsNENBQTRDO1FBQzVDLE1BQU04RCxnQkFBZ0IsTUFBTWxJLHNFQUFvQkEsQ0FBQztZQUMvQzRCLE9BQU8xQjtZQUNQNkcsY0FBY3RCO1lBQ2REO1lBQ0F3QixpQkFBaUJ0QjtZQUNqQmpFO1FBQ0Y7UUFFQSxJQUFJa0Usa0JBQWtCO1lBQ3BCQSxpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRTlDLEtBQUtDLEtBQUssQ0FBQzVDLFNBQVNFLENBQUMsRUFBRSxJQUFJLEVBQUV5QyxLQUFLQyxLQUFLLENBQUM1QyxTQUFTRyxDQUFDLEdBQUc7UUFDN0Y7UUFFQSxJQUFJcUQsZ0JBQWdCO1lBQ2xCQSxlQUFlO2dCQUNiRSxlQUFlO2dCQUNmRSxhQUFhO1lBQ2Y7UUFDRjtRQUVBLCtCQUErQjtRQUMvQlIsV0FBVztZQUNULElBQUksT0FBT3NDLGlCQUFpQixZQUFZO2dCQUN0Q0EsYUFBYTtZQUNmLE9BQU8sSUFBSSxLQUFvRCxFQUFFLEVBRWhFO1FBQ0gsR0FBRztRQUVILE9BQU9zQztJQUVULEVBQUUsT0FBT1YsT0FBTztRQUNkbEgsUUFBUWtILEtBQUssQ0FBQywyQ0FBMkNBO1FBRXpELElBQUk3QixrQkFBa0I7WUFDcEJBLGlCQUFpQixDQUFDLGFBQWEsRUFBRTZCLE1BQU1DLE9BQU8sRUFBRTtRQUNsRDtRQUVBLHVDQUF1QztRQUN2Q25FLFdBQVc7WUFDVCxJQUFJLE9BQU9zQyxpQkFBaUIsWUFBWTtnQkFDdENBLGFBQWE7WUFDZixPQUFPLElBQUksS0FBb0QsRUFBRSxFQUVoRTtRQUNILEdBQUc7UUFFSCxpRUFBaUU7UUFDakUsT0FBTztZQUNMbEUsYUFBYTtZQUNiQyxhQUFhO1lBQ2IwRixTQUFTO1lBQ1RHLE9BQU9BLE1BQU1DLE9BQU87UUFDdEI7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL2NvdW50U2F2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaXhlZCBjb3VudFNhdmUuanMgLSBSZXNvbHZpbmcgcmVkcmF3SW50ZXJ2YWwgcmVmZXJlbmNlIGVycm9yXG4vLyBTaGFyZWQgZnVuY3Rpb25hbGl0eSBmb3IgY291bnRkb3duIGFuZCBpbWFnZSBjYXB0dXJlIHByb2Nlc3Nlc1xuaW1wb3J0IHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSBmcm9tICcuLi9IZWxwZXIvc2F2ZWZpbGUnO1xuXG4vKipcbiAqIENyZWF0ZXMgYW5kIGRpc3BsYXlzIGEgY291bnRkb3duIGVsZW1lbnQgYWJvdmUgYSBkb3QgcG9zaXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIHt4LCB5fSBwb3NpdGlvbiBvZiB0aGUgZG90XG4gKiBAcGFyYW0ge0RPTVJlY3R9IGNhbnZhc1JlY3QgLSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBvZiB0aGUgY2FudmFzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IC0gVGhlIGNyZWF0ZWQgY291bnRkb3duIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvdW50ZG93bkVsZW1lbnQgPSAocG9zaXRpb24sIGNhbnZhc1JlY3QpID0+IHtcbiAgaWYgKCFwb3NpdGlvbiB8fCB0eXBlb2YgcG9zaXRpb24ueCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHBvc2l0aW9uLnkgIT09ICdudW1iZXInKSB7XG4gICAgY29uc29sZS53YXJuKCdbY3JlYXRlQ291bnRkb3duRWxlbWVudF0gSW52YWxpZCBwb3NpdGlvbjonLCBwb3NpdGlvbik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBleGlzdGluZ0NvdW50ZG93bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FsaWJyYXRlLWNvdW50ZG93biwgLmZvcmNlZC1jb3VudGRvd24sIC5jZW50ZXItY291bnRkb3duLWJhY2t1cCcpO1xuICBleGlzdGluZ0NvdW50ZG93bnMuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgY29uc3QgYWJzb2x1dGVYID0gY2FudmFzUmVjdC5sZWZ0ICsgcG9zaXRpb24ueDtcbiAgY29uc3QgYWJzb2x1dGVZID0gY2FudmFzUmVjdC50b3AgKyBwb3NpdGlvbi55O1xuXG4gIGNvbnN0IGNvdW50ZG93bkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY291bnRkb3duRWxlbWVudC5jbGFzc05hbWUgPSAnZG90LWNvdW50ZG93bic7XG4gIGNvdW50ZG93bkVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgbGVmdDogJHthYnNvbHV0ZVh9cHg7XG4gICAgdG9wOiAke2Fic29sdXRlWSAtIDYwfXB4O1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICBjb2xvcjogcmVkO1xuICAgIGZvbnQtc2l6ZTogMzZweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggd2hpdGUsIDAgMCAyMHB4IHdoaXRlO1xuICAgIHotaW5kZXg6IDk5OTk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgd2lkdGg6IDUwcHg7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gIGA7XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb3VudGRvd25FbGVtZW50KTtcbiAgcmV0dXJuIGNvdW50ZG93bkVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIERpc3BsYXkgYSBwcmV2aWV3IG9mIHRoZSBjYXB0dXJlZCBpbWFnZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzY3JlZW5JbWFnZSAtIERhdGEgVVJMIG9mIHRoZSBzY3JlZW4gaW1hZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSB3ZWJjYW1JbWFnZSAtIERhdGEgVVJMIG9mIHRoZSB3ZWJjYW0gaW1hZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCAtIHt4LCB5fSBwb3NpdGlvbiBvZiB0aGUgZG90XG4gKi9cbmV4cG9ydCBjb25zdCBzaG93Q2FwdHVyZVByZXZpZXcgPSAoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlLCBwb2ludCkgPT4ge1xuICBpZiAoIXNjcmVlbkltYWdlICYmICF3ZWJjYW1JbWFnZSkgcmV0dXJuO1xuICBcbiAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBwcmV2aWV3c1xuICBjb25zdCBleGlzdGluZ1ByZXZpZXdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcHR1cmUtcHJldmlldy1jb250YWluZXInKTtcbiAgZXhpc3RpbmdQcmV2aWV3cy5mb3JFYWNoKHByZXZpZXcgPT4ge1xuICAgIGlmIChwcmV2aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgIHByZXZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwcmV2aWV3KTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gQ3JlYXRlIHByZXZpZXcgY29udGFpbmVyXG4gIGNvbnN0IHByZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJldmlld0NvbnRhaW5lci5jbGFzc05hbWUgPSAnY2FwdHVyZS1wcmV2aWV3LWNvbnRhaW5lcic7XG4gIHByZXZpZXdDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44NSk7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIHotaW5kZXg6IDk5OTk5OTtcbiAgICBib3gtc2hhZG93OiAwIDhweCAyNXB4IHJnYmEoMCwgMCwgMCwgMC42KTtcbiAgYDtcbiAgXG4gIC8vIEFkZCBzY3JlZW4gaW1hZ2UgaWYgYXZhaWxhYmxlXG4gIGlmIChzY3JlZW5JbWFnZSkge1xuICAgIGNvbnN0IHNjcmVlblByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzY3JlZW5QcmV2aWV3LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYDtcbiAgICBcbiAgICBjb25zdCBzY3JlZW5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBzY3JlZW5JbWcuc3JjID0gc2NyZWVuSW1hZ2U7XG4gICAgc2NyZWVuSW1nLmFsdCA9ICdTY3JlZW4gQ2FwdHVyZSc7XG4gICAgc2NyZWVuSW1nLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBtYXgtd2lkdGg6IDMyMHB4O1xuICAgICAgbWF4LWhlaWdodDogMjQwcHg7XG4gICAgICBib3JkZXI6IDNweCBzb2xpZCB3aGl0ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG4gICAgYDtcbiAgICBcbiAgICBjb25zdCBzY3JlZW5MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNjcmVlbkxhYmVsLnRleHRDb250ZW50ID0gJ1NjcmVlbiBDYXB0dXJlJztcbiAgICBzY3JlZW5MYWJlbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGA7XG4gICAgXG4gICAgc2NyZWVuUHJldmlldy5hcHBlbmRDaGlsZChzY3JlZW5JbWcpO1xuICAgIHNjcmVlblByZXZpZXcuYXBwZW5kQ2hpbGQoc2NyZWVuTGFiZWwpO1xuICAgIHByZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoc2NyZWVuUHJldmlldyk7XG4gIH1cbiAgXG4gIC8vIEFkZCB3ZWJjYW0gaW1hZ2UgaWYgYXZhaWxhYmxlXG4gIGlmICh3ZWJjYW1JbWFnZSkge1xuICAgIGNvbnN0IHdlYmNhbVByZXZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3ZWJjYW1QcmV2aWV3LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYDtcbiAgICBcbiAgICBjb25zdCB3ZWJjYW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICB3ZWJjYW1JbWcuc3JjID0gd2ViY2FtSW1hZ2U7XG4gICAgd2ViY2FtSW1nLmFsdCA9ICdXZWJjYW0gQ2FwdHVyZSc7XG4gICAgd2ViY2FtSW1nLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBtYXgtd2lkdGg6IDMyMHB4O1xuICAgICAgbWF4LWhlaWdodDogMjQwcHg7XG4gICAgICBib3JkZXI6IDNweCBzb2xpZCB3aGl0ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG4gICAgYDtcbiAgICBcbiAgICBjb25zdCB3ZWJjYW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdlYmNhbUxhYmVsLnRleHRDb250ZW50ID0gJ1dlYmNhbSBDYXB0dXJlJztcbiAgICB3ZWJjYW1MYWJlbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGA7XG4gICAgXG4gICAgd2ViY2FtUHJldmlldy5hcHBlbmRDaGlsZCh3ZWJjYW1JbWcpO1xuICAgIHdlYmNhbVByZXZpZXcuYXBwZW5kQ2hpbGQod2ViY2FtTGFiZWwpO1xuICAgIHByZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQod2ViY2FtUHJldmlldyk7XG4gIH1cbiAgXG4gIC8vIEFkZCBwb2ludCBpbmZvXG4gIGlmIChwb2ludCkge1xuICAgIGNvbnN0IHBvaW50SW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBvaW50SW5mby50ZXh0Q29udGVudCA9IHBvaW50LmxhYmVsID8gXG4gICAgICBgJHtwb2ludC5sYWJlbH06IHg9JHtNYXRoLnJvdW5kKHBvaW50LngpfSwgeT0ke01hdGgucm91bmQocG9pbnQueSl9YCA6XG4gICAgICBgUG9pbnQ6IHg9JHtNYXRoLnJvdW5kKHBvaW50LngpfSwgeT0ke01hdGgucm91bmQocG9pbnQueSl9YDtcbiAgICAgIFxuICAgIHBvaW50SW5mby5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgY29sb3I6ICNmZmNjMDA7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IC00MHB4O1xuICAgICAgbGVmdDogMDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGA7XG4gICAgcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChwb2ludEluZm8pO1xuICB9XG4gIFxuICAvLyBBZGQgdGltZXJcbiAgY29uc3QgdGltZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRpbWVyRWxlbWVudC50ZXh0Q29udGVudCA9ICcyLjBzJztcbiAgdGltZXJFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogLTI1cHg7XG4gICAgcmlnaHQ6IDIwcHg7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7XG4gICAgcGFkZGluZzogM3B4IDhweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGA7XG4gIHByZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQodGltZXJFbGVtZW50KTtcbiAgXG4gIC8vIEFkZCB0byBkb2N1bWVudFxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHByZXZpZXdDb250YWluZXIpO1xuICBcbiAgLy8gQ291bnRkb3duXG4gIGxldCB0aW1lTGVmdCA9IDIuMDtcbiAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgdGltZUxlZnQgLT0gMC4xO1xuICAgIGlmICh0aW1lTGVmdCA8PSAwKSB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIHByZXZpZXdDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICAgIHByZXZpZXdDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IDAuM3MgZWFzZSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHByZXZpZXdDb250YWluZXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHByZXZpZXdDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwcmV2aWV3Q29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dGltZUxlZnQudG9GaXhlZCgxKX1zYDtcbiAgICB9XG4gIH0sIDEwMCk7XG4gIFxuICAvLyBTYWZldHkgY2xlYW51cFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAocHJldmlld0NvbnRhaW5lci5wYXJlbnROb2RlKSB7XG4gICAgICBwcmV2aWV3Q29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocHJldmlld0NvbnRhaW5lcik7XG4gICAgfVxuICB9LCA1MDAwKTtcbn07XG5cbi8qKlxuICogUnVucyBhIGNvdW50ZG93biBwcm9jZXNzIHRoYXQgZGlzcGxheXMgMy0yLTEgYWJvdmUgYSBkb3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIHt4LCB5fSBwb3NpdGlvbiBvZiB0aGUgZG90XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSBkb3RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3RhdHVzVXBkYXRlIC0gRnVuY3Rpb24gdG8gdXBkYXRlIHN0YXR1cyBtZXNzYWdlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gb25Db21wbGV0ZSAtIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBjb3VudGRvd24gY29tcGxldGVzXG4gKi9cbmV4cG9ydCBjb25zdCBydW5Db3VudGRvd24gPSBhc3luYyAocG9zaXRpb24sIGNhbnZhcywgb25TdGF0dXNVcGRhdGUsIG9uQ29tcGxldGUpID0+IHtcbiAgaWYgKCFwb3NpdGlvbiB8fCB0eXBlb2YgcG9zaXRpb24ueCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHBvc2l0aW9uLnkgIT09ICdudW1iZXInKSB7XG4gICAgY29uc29sZS53YXJuKCdbcnVuQ291bnRkb3duXSBJbnZhbGlkIHBvc2l0aW9uOicsIHBvc2l0aW9uKTtcbiAgICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICAgIHByb2Nlc3NTdGF0dXM6IFwiSW52YWxpZCBkb3QgcG9zaXRpb25cIixcbiAgICAgIGNvdW50ZG93blZhbHVlOiBudWxsLFxuICAgICAgaXNDYXB0dXJpbmc6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY2FudmFzUmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgY291bnRkb3duRWxlbWVudCA9IGNyZWF0ZUNvdW50ZG93bkVsZW1lbnQocG9zaXRpb24sIGNhbnZhc1JlY3QpO1xuICBcbiAgaWYgKCFjb3VudGRvd25FbGVtZW50KSB7XG4gICAgY29uc29sZS53YXJuKCdbcnVuQ291bnRkb3duXSBDb3VudGRvd24gZWxlbWVudCBjb3VsZCBub3QgYmUgY3JlYXRlZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuXG4gIGxldCBjb3VudCA9IDM7XG4gIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBjb3VudDtcblxuICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICBwcm9jZXNzU3RhdHVzOiBcIkNvdW50ZG93blwiLFxuICAgIGNvdW50ZG93blZhbHVlOiBjb3VudCxcbiAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICB9KTtcblxuICAvLyBDcmVhdGUgcmVkcmF3SW50ZXJ2YWwgZm9yIGtlZXBpbmcgZG90IHZpc2libGUgZHVyaW5nIGNvdW50ZG93blxuICBsZXQgcmVkcmF3SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIDEyLCBmYWxzZSk7XG4gIH0sIDIwMCk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgY291bnRkb3duSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjb3VudC0tO1xuXG4gICAgICBpZiAoY291bnQgPD0gMCkge1xuICAgICAgICBjbGVhckludGVydmFsKGNvdW50ZG93bkludGVydmFsKTtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IFwi4pyTXCI7XG5cbiAgICAgICAgb25TdGF0dXNVcGRhdGU/Lih7XG4gICAgICAgICAgY291bnRkb3duVmFsdWU6IFwiQ2FwdHVyaW5nLi4uXCIsXG4gICAgICAgICAgcHJvY2Vzc1N0YXR1czogXCJDYXB0dXJpbmcgaW1hZ2UuLi5cIixcbiAgICAgICAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY291bnRkb3duRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMiwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIHJlZHJhd0ludGVydmFsIHdlIGRlZmluZWQgYWJvdmVcbiAgICAgICAgICBpZiAocmVkcmF3SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSwgMTIsIGZhbHNlKTtcbiAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCAzMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICAgIHByb2Nlc3NTdGF0dXM6IFwiQ291bnRkb3duXCIsXG4gICAgICAgICAgY291bnRkb3duVmFsdWU6IGNvdW50LFxuICAgICAgICAgIGlzQ2FwdHVyaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIDgwMCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBEcmF3IGEgcmVkIGRvdCBvbiB0aGUgY2FudmFzXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IC0gQ2FudmFzIDJEIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIERvdCByYWRpdXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXJDYW52YXMgLSBXaGV0aGVyIHRvIGNsZWFyIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgKGRlZmF1bHQ6IHRydWUpXG4gKiBAcmV0dXJucyB7T2JqZWN0fSAtIHt4LCB5fSBwb3NpdGlvblxuICovXG5leHBvcnQgY29uc3QgZHJhd1JlZERvdCA9IChjdHgsIHgsIHksIHJhZGl1cyA9IDEyLCBjbGVhckNhbnZhcyA9IHRydWUpID0+IHtcbiAgY29uc3QgY2FudmFzID0gY3R4LmNhbnZhcztcbiAgXG4gIC8vIENsZWFyIHRoZSBjYW52YXMgaWYgcmVxdWVzdGVkIChkZWZhdWx0IGJlaGF2aW9yKVxuICBpZiAoY2xlYXJDYW52YXMpIHtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIH1cbiAgXG4gIC8vIERyYXcgdGhlIGRvdCB3aXRoIGEgYnJpZ2h0IHJlZCBjb2xvclxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gIGN0eC5maWxsU3R5bGUgPSAncmVkJztcbiAgY3R4LmZpbGwoKTtcbiAgXG4gIC8vIEFkZCBnbG93IGVmZmVjdCBmb3IgYmV0dGVyIHZpc2liaWxpdHlcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKHgsIHksIHJhZGl1cyArIDMsIDAsIE1hdGguUEkgKiAyKTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJztcbiAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gIGN0eC5zdHJva2UoKTtcbiAgXG4gIC8vIEFkZCBhIHNlY29uZCBsYXJnZXIgZ2xvdyBmb3IgZXZlbiBiZXR0ZXIgdmlzaWJpbGl0eVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzICsgNiwgMCwgTWF0aC5QSSAqIDIpO1xuICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuMyknO1xuICBjdHgubGluZVdpZHRoID0gMjtcbiAgY3R4LnN0cm9rZSgpO1xuICBcbiAgcmV0dXJuIHsgeCwgeSB9O1xufTtcblxuLyoqXG4gKiBDYXB0dXJlIGltYWdlcyBhdCBhIHNwZWNpZmljIHBvaW50XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIENhcHR1cmUgb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNhcHR1cmUgcmVzdWx0XG4gKi9cbmV4cG9ydCBjb25zdCBjYXB0dXJlSW1hZ2VzID0gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjYW52YXNSZWYsXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGNhcHR1cmVDb3VudGVyLCBcbiAgICAgIHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyxcbiAgICAgIHRvZ2dsZVRvcEJhcixcbiAgICAgIGNhcHR1cmVGb2xkZXIgPSAnZXllX3RyYWNraW5nX2NhcHR1cmVzJ1xuICAgIH0gPSBvcHRpb25zO1xuICBcbiAgICBpZiAoIXBvc2l0aW9uIHx8IHR5cGVvZiBwb3NpdGlvbi54ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcG9zaXRpb24ueSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybignW2NhcHR1cmVJbWFnZXNdIEludmFsaWQgcG9zaXRpb24gb2JqZWN0OicsIHBvc2l0aW9uKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXM/LignRXJyb3I6IEludmFsaWQgY2FwdHVyZSBwb3NpdGlvbicpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGhpZ2hlc3QgcmVzb2x1dGlvbiBjb25zdHJhaW50c1xuICAgICAgY29uc3QgY29uc3RyYWludHMgPSBhd2FpdCBnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzKCk7XG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgY2FtZXJhIGNvbnN0cmFpbnRzOicsIGNvbnN0cmFpbnRzKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGEgbmV3IHN0cmVhbSB3aXRoIHRoZSBoaWdoZXN0IHJlc29sdXRpb25cbiAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgY29uc29sZS5sb2coJ0FjdHVhbCBjYW1lcmEgc2V0dGluZ3M6Jywgc2V0dGluZ3MpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdmlkZW8gZWxlbWVudCB3aXRoIG5ldyBzdHJlYW1cbiAgICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IHdpbmRvdy52aWRlb0VsZW1lbnQgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcbiAgICAgIGlmICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgYXdhaXQgdmlkZW9FbGVtZW50LnBsYXkoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FsbCB0aGUgY2FwdHVyZUltYWdlc0F0UG9pbnQgd2l0aCBhbGwgbmVjZXNzYXJ5IHBhcmFtZXRlcnNcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgcG9pbnQ6IHBvc2l0aW9uLFxuICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudGVyLFxuICAgICAgICBjYW52YXNSZWYsIFxuICAgICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgICBzaG93Q2FwdHVyZVByZXZpZXdcbiAgICAgIH0pO1xuICBcbiAgICAgIGNvbnNvbGUubG9nKCdDYXB0dXJlIHN1Y2Nlc3NmdWwgd2l0aCBJRDonLCByZXN1bHQuY2FwdHVyZUlkKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgdGhlIHN0cmVhbVxuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NyZWVuSW1hZ2U6IHJlc3VsdD8uc2NyZWVuSW1hZ2UgfHwgJycsXG4gICAgICAgIHdlYmNhbUltYWdlOiByZXN1bHQ/LndlYmNhbUltYWdlIHx8ICcnLFxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBjYXB0dXJlSWQ6IHJlc3VsdD8uY2FwdHVyZUlkLFxuICAgICAgICByZXNvbHV0aW9uOiB7XG4gICAgICAgICAgd2lkdGg6IHNldHRpbmdzLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogc2V0dGluZ3MuaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbY2FwdHVyZUltYWdlc10gVW5leHBlY3RlZCBlcnJvcjonLCBlcnIpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKGBFcnJvcjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlbkltYWdlOiAnJyxcbiAgICAgICAgd2ViY2FtSW1hZ2U6ICcnLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSBkb3QgcG9zaXRpb24gd2l0aGluIHRoZSBjYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIENhbnZhcyBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZyAtIFBhZGRpbmcgZnJvbSB0aGUgZWRnZXNcbiAqIEByZXR1cm5zIHtPYmplY3R9IC0ge3gsIHl9IHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRSYW5kb21Qb3NpdGlvbiA9IChjYW52YXMsIHBhZGRpbmcgPSA0MCkgPT4ge1xuICBpZiAoIWNhbnZhcykgcmV0dXJuIHsgeDogMTAwLCB5OiAxMDAgfTsgLy8gRmFsbGJhY2sgcG9zaXRpb25cbiAgXG4gIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoIHx8IDQwMDsgIC8vIEZhbGxiYWNrIGlmIHdpZHRoIGlzIDBcbiAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCB8fCAzMDA7IC8vIEZhbGxiYWNrIGlmIGhlaWdodCBpcyAwXG4gIFxuICByZXR1cm4ge1xuICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh3aWR0aCAtIDIgKiBwYWRkaW5nKSkgKyBwYWRkaW5nLFxuICAgIHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChoZWlnaHQgLSAyICogcGFkZGluZykpICsgcGFkZGluZ1xuICB9O1xufTtcblxuLyoqXG4gKiBTcGVjaWFsIGNhbGlicmF0aW9uIGNhcHR1cmUgZnVuY3Rpb24gdGhhdCBhdm9pZHMgcHJvYmxlbWF0aWMgY29kZSBwYXRoc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbGwgdGhlIGNhbGlicmF0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJlc3VsdCBvYmplY3Qgd2l0aCBjYXB0dXJlZCBkYXRhXG4gKi9cbi8qKlxuICogU3BlY2lhbCBjYWxpYnJhdGlvbiBjYXB0dXJlIGZ1bmN0aW9uIHRoYXQgYmVoYXZlcyBsaWtlIHJhbmRvbSBkb3QgY2FwdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbGwgdGhlIGNhbGlicmF0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJlc3VsdCBvYmplY3Qgd2l0aCBjYXB0dXJlZCBkYXRhXG4gKi9cbmV4cG9ydCBjb25zdCBjYWxpYnJhdGlvbkNhcHR1cmUgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhbnZhc1JlZixcbiAgICAgIHBvaW50LFxuICAgICAgY2FwdHVyZUNvdW50ZXIsXG4gICAgICBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMsXG4gICAgICB0b2dnbGVUb3BCYXIsXG4gICAgICBjYXB0dXJlRm9sZGVyID0gJ2V5ZV90cmFja2luZ19jYXB0dXJlcycsXG4gICAgICBwb2ludEluZGV4LFxuICAgICAgdG90YWxQb2ludHNcbiAgICB9ID0gb3B0aW9ucztcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBTdGFydGluZyBjYWxpYnJhdGlvbiBjYXB0dXJlIGZvciBwb2ludCAke3BvaW50SW5kZXggKyAxfS8ke3RvdGFsUG9pbnRzfWApO1xuICAgICAgXG4gICAgICAvLyBHZXQgY2FudmFzXG4gICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgcmVmZXJlbmNlIGlzIG51bGwgaW4gY2FsaWJyYXRpb25DYXB0dXJlXCIpO1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYEVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZWApO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xuICAgICAgfVxuICBcbiAgICAgIC8vIFVzZSB0aGUgZXhhY3Qgc2FtZSBkcmF3aW5nIG1ldGhvZCBhcyByYW5kb20gZG90c1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSk7XG4gIFxuICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKGBDYWxpYnJhdGlvbiBwb2ludCAke3BvaW50SW5kZXggKyAxfS8ke3RvdGFsUG9pbnRzfWApO1xuICBcbiAgICAgIC8vIFVzZSB0aGUgc2FtZSBjb3VudGRvd24gZWxlbWVudCBjcmVhdGlvbiBtZXRob2RcbiAgICAgIGNvbnN0IGNhbnZhc1JlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBjb3VudGRvd25FbGVtZW50ID0gY3JlYXRlQ291bnRkb3duRWxlbWVudChwb2ludCwgY2FudmFzUmVjdCk7XG4gICAgICBcbiAgICAgIGlmICghY291bnRkb3duRWxlbWVudCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBjb3VudGRvd24gZWxlbWVudFwiKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBDcmVhdGUgYSByZWRyYXdJbnRlcnZhbCBmb3Iga2VlcGluZyB0aGUgZG90IHZpc2libGVcbiAgICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvaW50LngsIHBvaW50LnksIDEyLCBmYWxzZSk7XG4gICAgICB9LCAyMDApO1xuICBcbiAgICAgIC8vIFJ1biB0aGUgc2FtZSBjb3VudGRvd24gYXMgcmFuZG9tIGRvdFxuICAgICAgZm9yIChsZXQgY291bnQgPSAzOyBjb3VudCA+IDA7IGNvdW50LS0pIHtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYFBvaW50ICR7cG9pbnRJbmRleCArIDF9LyR7dG90YWxQb2ludHN9IC0gY291bnRkb3duICR7Y291bnR9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWRyYXcgdGhlIGRvdCBhdCBlYWNoIHN0ZXAgdG8gZW5zdXJlIGl0IHJlbWFpbnMgdmlzaWJsZVxuICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgMTIsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBTaG93IGNoZWNrbWFya1xuICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IFwi4pyTXCI7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBjb3VudGRvd24gZWxlbWVudFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY291bnRkb3duRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIHJlZHJhd0ludGVydmFsXG4gICAgICAgIGlmIChyZWRyYXdJbnRlcnZhbCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICBcbiAgICAgIC8vIFVzZSBjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3MgaW5zdGVhZCBvZiBkaXJlY3RseSBjYWxsaW5nIGNhcHR1cmVJbWFnZXNBdFBvaW50XG4gICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUFuZFByZXZpZXdQcm9jZXNzKHtcbiAgICAgICAgY2FudmFzUmVmLFxuICAgICAgICBwb3NpdGlvbjogcG9pbnQsXG4gICAgICAgIGNhcHR1cmVDb3VudGVyLFxuICAgICAgICBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1czogKHN0YXR1cykgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdHVzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKHN0YXR1cyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgJiYgdHlwZW9mIHN0YXR1cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXM/LihzdGF0dXMucHJvY2Vzc1N0YXR1cyB8fCAnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVUb3BCYXIsXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzdGF0dXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oc3RhdHVzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyAmJiB0eXBlb2Ygc3RhdHVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKHN0YXR1cy5wcm9jZXNzU3RhdHVzIHx8ICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhcHR1cmVGb2xkZXJcbiAgICAgIH0pO1xuICBcbiAgICAgIC8vIEVuc3VyZSBwcm9wZXIgcmV0dXJuIGV2ZW4gaWYgY2FwdHVyZVJlc3VsdCBpcyBudWxsXG4gICAgICBjb25zdCBzYWZlUmVzdWx0ID0gY2FwdHVyZVJlc3VsdCAmJiB0eXBlb2YgY2FwdHVyZVJlc3VsdCA9PT0gJ29iamVjdCcgXG4gICAgICAgID8gY2FwdHVyZVJlc3VsdCBcbiAgICAgICAgOiB7IHNjcmVlbkltYWdlOiAnJywgd2ViY2FtSW1hZ2U6ICcnLCBzdWNjZXNzOiBmYWxzZSB9O1xuICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlbkltYWdlOiBzYWZlUmVzdWx0LnNjcmVlbkltYWdlIHx8ICcnLFxuICAgICAgICB3ZWJjYW1JbWFnZTogc2FmZVJlc3VsdC53ZWJjYW1JbWFnZSB8fCAnJyxcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcG9pbnRcbiAgICAgIH07XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGNhbGlicmF0aW9uQ2FwdHVyZTpcIiwgZXJyb3IpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgXG4gICAgICAvLyBBbHdheXMgcmV0dXJuIGEgdmFsaWQgb2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlbkltYWdlOiAnJyxcbiAgICAgICAgd2ViY2FtSW1hZ2U6ICcnLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIENvbXBsZXRlIGNhcHR1cmUgYW5kIHByZXZpZXcgcHJvY2Vzc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBQcm9jZXNzIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNhcHR1cmVBbmRQcmV2aWV3UHJvY2VzcyA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjYW52YXNSZWYsXG4gICAgcG9zaXRpb24sXG4gICAgY2FwdHVyZUNvdW50ZXIsXG4gICAgc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgc2V0UHJvY2Vzc1N0YXR1cyxcbiAgICB0b2dnbGVUb3BCYXIsXG4gICAgb25TdGF0dXNVcGRhdGUsXG4gICAgY2FwdHVyZUZvbGRlclxuICB9ID0gb3B0aW9ucztcblxuICB0cnkge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZj8uY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgY29uc29sZS5lcnJvcihcIltjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3NdIENhbnZhcyByZWZlcmVuY2UgaXMgbnVsbFwiKTtcbiAgICAgIGlmIChzZXRQcm9jZXNzU3RhdHVzKSBzZXRQcm9jZXNzU3RhdHVzKCdFcnJvcjogQ2FudmFzIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIGRvdFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcblxuICAgIC8vIENvdW50ZG93biBiZWZvcmUgY2FwdHVyZVxuICAgIGlmIChvblN0YXR1c1VwZGF0ZSkge1xuICAgICAgb25TdGF0dXNVcGRhdGUoe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiAnU3RhcnRpbmcgY291bnRkb3duLi4uJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIGN1c3RvbSBjb3VudGRvd24gZWxlbWVudFxuICAgIGNvbnN0IGNhbnZhc1JlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY291bnRkb3duRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvdW50ZG93bkVsZW1lbnQuY2xhc3NOYW1lID0gJ2NhbGlicmF0ZS1jb3VudGRvd24nO1xuICAgIGNvdW50ZG93bkVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIGxlZnQ6ICR7Y2FudmFzUmVjdC5sZWZ0ICsgcG9zaXRpb24ueH1weDtcbiAgICAgIHRvcDogJHtjYW52YXNSZWN0LnRvcCArIHBvc2l0aW9uLnkgLSA2MH1weDtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICAgIGNvbG9yOiByZWQ7XG4gICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCB3aGl0ZSwgMCAwIDIwcHggd2hpdGU7XG4gICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgYm9yZGVyOiAycHggc29saWQgcmVkO1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgIGA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb3VudGRvd25FbGVtZW50KTtcblxuICAgIC8vIENyZWF0ZSBhIHJlZHJhd0ludGVydmFsIGZvciBrZWVwaW5nIHRoZSBkb3QgdmlzaWJsZVxuICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMiwgZmFsc2UpO1xuICAgIH0sIDIwMCk7XG5cbiAgICAvLyBNYW51YWwgY291bnRkb3duXG4gICAgZm9yIChsZXQgY291bnQgPSAzOyBjb3VudCA+IDA7IGNvdW50LS0pIHtcbiAgICAgIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBjb3VudDtcbiAgICAgIGlmIChvblN0YXR1c1VwZGF0ZSkge1xuICAgICAgICBvblN0YXR1c1VwZGF0ZSh7XG4gICAgICAgICAgcHJvY2Vzc1N0YXR1czogYENvdW50ZG93bjogJHtjb3VudH1gLFxuICAgICAgICAgIGNvdW50ZG93blZhbHVlOiBjb3VudCxcbiAgICAgICAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFJlZHJhdyBkb3QgdG8gZW5zdXJlIGl0J3MgdmlzaWJsZVxuICAgICAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpO1xuICAgIH1cblxuICAgIC8vIENoYW5nZSB0byBjaGVja21hcmtcbiAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gXCLinJNcIjtcbiAgICBpZiAob25TdGF0dXNVcGRhdGUpIHtcbiAgICAgIG9uU3RhdHVzVXBkYXRlKHtcbiAgICAgICAgcHJvY2Vzc1N0YXR1czogJ0NhcHR1cmluZyBpbWFnZXMuLi4nLFxuICAgICAgICBjb3VudGRvd25WYWx1ZTogXCJDYXB0dXJpbmcuLi5cIixcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBjb3VudGRvd24gZWxlbWVudCBhbmQgY2xlYXIgcmVkcmF3SW50ZXJ2YWxcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAocmVkcmF3SW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChyZWRyYXdJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSwgMzAwKTtcblxuICAgIC8vIFVzZSBjYXB0dXJlSW1hZ2VzQXRQb2ludCBmcm9tIHNhdmVmaWxlLmpzXG4gICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgIHBvaW50OiBwb3NpdGlvbixcbiAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICBjYW52YXNSZWYsXG4gICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgfSk7XG5cbiAgICBpZiAoc2V0UHJvY2Vzc1N0YXR1cykge1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FwdHVyZWQgZG90IGF0IHg9JHtNYXRoLnJvdW5kKHBvc2l0aW9uLngpfSwgeT0ke01hdGgucm91bmQocG9zaXRpb24ueSl9YCk7XG4gICAgfVxuXG4gICAgaWYgKG9uU3RhdHVzVXBkYXRlKSB7XG4gICAgICBvblN0YXR1c1VwZGF0ZSh7XG4gICAgICAgIHByb2Nlc3NTdGF0dXM6ICdDYXB0dXJlIGNvbXBsZXRlJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiB3aXRoIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRvZ2dsZVRvcEJhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgIH1cbiAgICB9LCAyNTAwKTtcblxuICAgIHJldHVybiBjYXB0dXJlUmVzdWx0O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIltjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3NdIEZhdGFsIGVycm9yOlwiLCBlcnJvcik7XG4gICAgXG4gICAgaWYgKHNldFByb2Nlc3NTdGF0dXMpIHtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYEZhdGFsIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEVuc3VyZSBUb3BCYXIgaXMgc2hvd24gZXZlbiBvbiBlcnJvclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0b2dnbGVUb3BCYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICB9XG4gICAgfSwgMTUwMCk7XG4gICAgXG4gICAgLy8gUmV0dXJuIGEgbWluaW1hbCB2YWxpZCBvYmplY3QgdG8gcHJldmVudCBudWxsIHJlZmVyZW5jZSBlcnJvcnNcbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuSW1hZ2U6ICcnLFxuICAgICAgd2ViY2FtSW1hZ2U6ICcnLFxuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgIH07XG4gIH1cbn07Il0sIm5hbWVzIjpbImNhcHR1cmVJbWFnZXNBdFBvaW50IiwiY3JlYXRlQ291bnRkb3duRWxlbWVudCIsInBvc2l0aW9uIiwiY2FudmFzUmVjdCIsIngiLCJ5IiwiY29uc29sZSIsIndhcm4iLCJleGlzdGluZ0NvdW50ZG93bnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJyZW1vdmUiLCJhYnNvbHV0ZVgiLCJsZWZ0IiwiYWJzb2x1dGVZIiwidG9wIiwiY291bnRkb3duRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzdHlsZSIsImNzc1RleHQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzaG93Q2FwdHVyZVByZXZpZXciLCJzY3JlZW5JbWFnZSIsIndlYmNhbUltYWdlIiwicG9pbnQiLCJleGlzdGluZ1ByZXZpZXdzIiwicHJldmlldyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInByZXZpZXdDb250YWluZXIiLCJzY3JlZW5QcmV2aWV3Iiwic2NyZWVuSW1nIiwic3JjIiwiYWx0Iiwic2NyZWVuTGFiZWwiLCJ0ZXh0Q29udGVudCIsIndlYmNhbVByZXZpZXciLCJ3ZWJjYW1JbWciLCJ3ZWJjYW1MYWJlbCIsInBvaW50SW5mbyIsImxhYmVsIiwiTWF0aCIsInJvdW5kIiwidGltZXJFbGVtZW50IiwidGltZUxlZnQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwic2V0VGltZW91dCIsInRvRml4ZWQiLCJydW5Db3VudGRvd24iLCJjYW52YXMiLCJvblN0YXR1c1VwZGF0ZSIsIm9uQ29tcGxldGUiLCJwcm9jZXNzU3RhdHVzIiwiY291bnRkb3duVmFsdWUiLCJpc0NhcHR1cmluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImN0eCIsImdldENvbnRleHQiLCJkcmF3UmVkRG90IiwiY291bnQiLCJyZWRyYXdJbnRlcnZhbCIsIlByb21pc2UiLCJyZXNvbHZlIiwiY291bnRkb3duSW50ZXJ2YWwiLCJyYWRpdXMiLCJjbGVhckNhbnZhcyIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImZpbGwiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsImNhcHR1cmVJbWFnZXMiLCJvcHRpb25zIiwiY2FudmFzUmVmIiwiY2FwdHVyZUNvdW50ZXIiLCJzZXRDYXB0dXJlQ291bnRlciIsInNldFByb2Nlc3NTdGF0dXMiLCJ0b2dnbGVUb3BCYXIiLCJjYXB0dXJlRm9sZGVyIiwiY29uc3RyYWludHMiLCJnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzIiwibG9nIiwic3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW9UcmFjayIsImdldFZpZGVvVHJhY2tzIiwic2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInZpZGVvRWxlbWVudCIsIndpbmRvdyIsInF1ZXJ5U2VsZWN0b3IiLCJzcmNPYmplY3QiLCJwbGF5IiwicmVzdWx0IiwiY2FwdHVyZUNvdW50Iiwic2V0Q2FwdHVyZUNvdW50IiwiY2FwdHVyZUlkIiwiZ2V0VHJhY2tzIiwidHJhY2siLCJzdG9wIiwic3VjY2VzcyIsInJlc29sdXRpb24iLCJlcnIiLCJlcnJvciIsIm1lc3NhZ2UiLCJnZXRSYW5kb21Qb3NpdGlvbiIsInBhZGRpbmciLCJmbG9vciIsInJhbmRvbSIsImNhbGlicmF0aW9uQ2FwdHVyZSIsInBvaW50SW5kZXgiLCJ0b3RhbFBvaW50cyIsImN1cnJlbnQiLCJjYXB0dXJlUmVzdWx0IiwiY2FwdHVyZUFuZFByZXZpZXdQcm9jZXNzIiwic3RhdHVzIiwic2FmZVJlc3VsdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js":
/*!********************************************************************!*\
  !*** ./components/collected-dataset-customized/Helper/savefile.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   captureImagesAtPoint: () => (/* binding */ captureImagesAtPoint),\n/* harmony export */   getHighestResolutionConstraints: () => (/* binding */ getHighestResolutionConstraints),\n/* harmony export */   saveCSVToServer: () => (/* binding */ saveCSVToServer),\n/* harmony export */   saveImageToServer: () => (/* binding */ saveImageToServer)\n/* harmony export */ });\n// Helper/savefile.js - Added highest resolution webcam capture\n/**\n * Resize an image to fit within a certain size limit\n * @param {string} imageDataUrl - Base64 encoded image data\n * @param {number} maxWidth - Maximum width of the resized image\n * @param {number} maxHeight - Maximum height of the resized image\n * @param {number} quality - JPEG quality (0-1)\n * @returns {Promise<string>} - Resized image data URL\n */ const resizeImage = async (imageDataUrl, maxWidth = 800, maxHeight = 600, quality = 0.85)=>{\n    return new Promise((resolve, reject)=>{\n        try {\n            const img = new Image();\n            img.onload = ()=>{\n                // Calculate new dimensions while maintaining aspect ratio\n                let width = img.width;\n                let height = img.height;\n                if (width > maxWidth) {\n                    height = Math.round(height * (maxWidth / width));\n                    width = maxWidth;\n                }\n                if (height > maxHeight) {\n                    width = Math.round(width * (maxHeight / height));\n                    height = maxHeight;\n                }\n                // Create canvas for resizing\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                // Draw and resize image on canvas\n                const ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0, width, height);\n                // Convert to JPEG with specified quality\n                const resizedDataUrl = canvas.toDataURL('image/jpeg', quality);\n                resolve(resizedDataUrl);\n            };\n            img.onerror = (err)=>reject(err);\n            img.src = imageDataUrl;\n        } catch (err) {\n            reject(err);\n        }\n    });\n};\n/**\n * Save an image or data to the server with group ID to ensure consistent numbering\n * @param {string} imageData - Base64 encoded image data\n * @param {string} filename - Filename pattern to save as\n * @param {string} type - Type of file (screen, webcam, parameters)\n * @param {string} folder - Folder to save in\n * @param {string} captureGroup - Unique ID for grouping files from the same capture\n * @returns {Promise<Object>} - Server response\n */ const saveImageToServer = async (imageData, filename, type, folder = 'eye_tracking_captures', captureGroup = null)=>{\n    try {\n        const response = await fetch('/api/save-capture', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                imageData,\n                filename,\n                type,\n                folder,\n                captureGroup\n            })\n        });\n        if (!response.ok) {\n            console.error(`Server returned ${response.status} for ${type}`);\n            // If the error is 413 (payload too large) and it's an image, try resizing\n            if (response.status === 413 && type !== 'parameters') {\n                console.warn(`Image too large for server (413 error), will resize and retry`);\n                // Start with higher quality and progressively reduce quality/size until it fits\n                const sizes = [\n                    {\n                        width: 1920,\n                        height: 1080,\n                        quality: 0.9\n                    },\n                    {\n                        width: 1280,\n                        height: 720,\n                        quality: 0.85\n                    },\n                    {\n                        width: 800,\n                        height: 600,\n                        quality: 0.8\n                    },\n                    {\n                        width: 640,\n                        height: 480,\n                        quality: 0.75\n                    }\n                ];\n                for (const { width, height, quality } of sizes){\n                    const resizedImage = await resizeImage(imageData, width, height, quality);\n                    try {\n                        const retryResponse = await fetch('/api/save-capture', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify({\n                                imageData: resizedImage,\n                                filename,\n                                type,\n                                folder,\n                                captureGroup\n                            })\n                        });\n                        if (retryResponse.ok) {\n                            console.log(`Successfully saved resized ${type} at ${width}x${height}, quality ${quality}`);\n                            return await retryResponse.json();\n                        }\n                    } catch (retryError) {\n                        console.error(`Error during retry for ${type}:`, retryError);\n                    }\n                }\n                return {\n                    success: false,\n                    error: \"Failed to save image even after resizing\"\n                };\n            }\n            return {\n                success: false,\n                error: `Server returned ${response.status}`\n            };\n        }\n        const result = await response.json();\n        return result;\n    } catch (error) {\n        console.error(`Error saving ${type}:`, error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\n * Save CSV data to the server\n * @param {string} csvData - CSV data\n * @param {string} filename - Filename pattern to save as\n * @param {string} folder - Folder to save in\n * @param {string} captureGroup - Unique ID for grouping files from the same capture\n * @returns {Promise<Object>} - Server response\n */ const saveCSVToServer = async (csvData, filename, folder = 'eye_tracking_captures', captureGroup = null)=>{\n    try {\n        const csvBlob = new Blob([\n            csvData\n        ], {\n            type: 'text/csv'\n        });\n        const reader = new FileReader();\n        const csvDataUrl = await new Promise((resolve)=>{\n            reader.onloadend = ()=>resolve(reader.result);\n            reader.readAsDataURL(csvBlob);\n        });\n        const result = await saveImageToServer(csvDataUrl, filename, 'parameters', folder, captureGroup);\n        return result;\n    } catch (error) {\n        console.error('Error saving CSV:', error);\n        return null;\n    }\n};\n/**\n * Get the highest resolution camera constraints supported by the device\n * @returns {Promise<MediaStreamConstraints>} - Camera constraints with highest resolution\n */ const getHighestResolutionConstraints = async ()=>{\n    // Try to get all available camera capabilities first\n    try {\n        // Get a temporary access to the camera\n        const tempStream = await navigator.mediaDevices.getUserMedia({\n            video: true\n        });\n        const videoTrack = tempStream.getVideoTracks()[0];\n        // Get capabilities\n        const capabilities = videoTrack.getCapabilities?.();\n        console.log(\"Camera capabilities:\", capabilities);\n        // Get current settings to check aspect ratio\n        const settings = videoTrack.getSettings();\n        console.log(\"Current camera settings:\", settings);\n        // Stop the temporary stream\n        videoTrack.stop();\n        if (capabilities && capabilities.width && capabilities.height) {\n            // Use the maximum width and height from device capabilities\n            const maxWidth = capabilities.width.max;\n            const maxHeight = capabilities.height.max;\n            // Force exact resolution instead of ideal\n            return {\n                video: {\n                    width: {\n                        exact: maxWidth\n                    },\n                    height: {\n                        exact: maxHeight\n                    },\n                    frameRate: {\n                        ideal: 30\n                    } // Try to maintain good frame rate\n                }\n            };\n        }\n    } catch (err) {\n        console.log(\"Could not get camera capabilities:\", err);\n    }\n    // Fallback: try standard resolutions in order\n    const resolutions = [\n        {\n            width: {\n                exact: 4096\n            },\n            height: {\n                exact: 2160\n            }\n        },\n        {\n            width: {\n                exact: 3840\n            },\n            height: {\n                exact: 2160\n            }\n        },\n        {\n            width: {\n                exact: 2560\n            },\n            height: {\n                exact: 1440\n            }\n        },\n        {\n            width: {\n                exact: 1920\n            },\n            height: {\n                exact: 1080\n            }\n        },\n        {\n            width: {\n                exact: 1280\n            },\n            height: {\n                exact: 720\n            }\n        },\n        {\n            width: {\n                exact: 640\n            },\n            height: {\n                exact: 480\n            }\n        },\n        {} // Default - let browser decide\n    ];\n    // Try the resolutions in order until one works\n    for (const resolution of resolutions){\n        try {\n            const constraints = {\n                video: {\n                    ...resolution,\n                    facingMode: \"user\",\n                    frameRate: {\n                        ideal: 30\n                    }\n                }\n            };\n            // Test if this resolution is supported\n            const stream = await navigator.mediaDevices.getUserMedia(constraints);\n            // Get the actual dimensions\n            const videoTrack = stream.getVideoTracks()[0];\n            const settings = videoTrack.getSettings();\n            console.log(\"Supported resolution:\", settings.width, \"x\", settings.height);\n            // Stop the test stream immediately\n            stream.getTracks().forEach((track)=>track.stop());\n            return constraints;\n        } catch (err) {\n            console.log(`Resolution not supported: ${JSON.stringify(resolution)}`);\n        // Continue to next resolution\n        }\n    }\n    // If nothing worked, return basic constraints\n    return {\n        video: {\n            width: {\n                exact: 1280\n            },\n            height: {\n                exact: 720\n            },\n            frameRate: {\n                ideal: 30\n            }\n        }\n    };\n};\n/**\n * Capture and save images at a specific point with consistent numbering\n * @param {Object} options - Capture options\n * @returns {Promise<Object>} - Capture results\n */ const captureImagesAtPoint = async ({ point, captureCount = 1, canvasRef, setCaptureCount, showCapturePreview })=>{\n    try {\n        const folder = 'eye_tracking_captures';\n        // Create a unique ID for this capture group\n        const captureGroupId = `capture-${Date.now()}`;\n        console.log(`Generated capture group ID: ${captureGroupId}`);\n        // File patterns for saving\n        const screenFilename = 'screen_001.jpg'; // Pattern only - server will assign number\n        const webcamFilename = 'webcam_001.jpg'; // Pattern only - server will assign number\n        const parameterFilename = 'parameter_001.csv'; // Pattern only - server will assign number\n        // For logging\n        console.log(\"Starting capture with group ID:\", captureGroupId);\n        const canvas = canvasRef.current;\n        let screenImage = null;\n        let webcamImage = null;\n        let captureNumber = null;\n        // Variables to store webcam resolution\n        let webcamWidth = 0;\n        let webcamHeight = 0;\n        // 1. Prepare all data first\n        // 1.1 Canvas/screen image\n        if (canvas) {\n            screenImage = canvas.toDataURL('image/png');\n        }\n        // 1.2 Webcam image - Try to get the highest resolution available \n        // with device's native capabilities instead of fixed values\n        let webcamImagePreview = null; // Separate lower-resolution version for preview\n        const videoElement = window.videoElement || document.querySelector('video');\n        if (videoElement) {\n            try {\n                // Use existing video element if available\n                // First check if videoTrack has settings info\n                let trackSettings = null;\n                if (videoElement.srcObject) {\n                    const videoTrack = videoElement.srcObject.getVideoTracks()[0];\n                    if (videoTrack) {\n                        trackSettings = videoTrack.getSettings();\n                        console.log(\"Video track settings:\", trackSettings);\n                    }\n                }\n                // Get dimensions from track if available, otherwise from element\n                if (trackSettings && trackSettings.width && trackSettings.height) {\n                    webcamWidth = trackSettings.width;\n                    webcamHeight = trackSettings.height;\n                    console.log(`Using track settings dimensions: ${webcamWidth}x${webcamHeight}`);\n                } else {\n                    webcamWidth = videoElement.videoWidth || 0;\n                    webcamHeight = videoElement.videoHeight || 0;\n                    console.log(`Using video element dimensions: ${webcamWidth}x${webcamHeight}`);\n                }\n                // Sanity check - if both dimensions are the same, double-check\n                if (webcamWidth === webcamHeight && webcamWidth > 100) {\n                    console.warn(\"Suspicious square aspect ratio detected, double-checking dimensions\");\n                    // Try to get more reliable info\n                    if (videoElement.srcObject) {\n                        const videoTrack = videoElement.srcObject.getVideoTracks()[0];\n                        if (videoTrack) {\n                            const constraints = videoTrack.getConstraints();\n                            console.log(\"Video constraints:\", constraints);\n                            // If constraints have width/height, use those\n                            if (constraints.width && constraints.height) {\n                                if (typeof constraints.width.exact === 'number') {\n                                    webcamWidth = constraints.width.exact;\n                                } else if (typeof constraints.width.ideal === 'number') {\n                                    webcamWidth = constraints.width.ideal;\n                                }\n                                if (typeof constraints.height.exact === 'number') {\n                                    webcamHeight = constraints.height.exact;\n                                } else if (typeof constraints.height.ideal === 'number') {\n                                    webcamHeight = constraints.height.ideal;\n                                }\n                                console.log(`Updated dimensions from constraints: ${webcamWidth}x${webcamHeight}`);\n                            }\n                        }\n                    }\n                }\n                // Final reality check - make sure dimensions are reasonable\n                if (webcamWidth <= 0 || webcamHeight <= 0) {\n                    console.warn(\"Invalid webcam dimensions, using defaults\");\n                    webcamWidth = 640;\n                    webcamHeight = 480;\n                }\n                const tempCanvas = document.createElement('canvas');\n                tempCanvas.width = webcamWidth;\n                tempCanvas.height = webcamHeight;\n                tempCanvas.getContext('2d').drawImage(videoElement, 0, 0, webcamWidth, webcamHeight);\n                // Create high-resolution version for saving\n                webcamImage = tempCanvas.toDataURL('image/jpeg', 0.95);\n                // Create lower-resolution version for preview\n                webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.85);\n                console.log(`Webcam capture complete at resolution: ${webcamWidth}x${webcamHeight}`);\n            } catch (err) {\n                console.error(\"Error capturing from existing video element:\", err);\n                webcamWidth = videoElement.videoWidth || 640;\n                webcamHeight = videoElement.videoHeight || 480;\n            }\n        } else {\n            try {\n                // Get highest resolution constraints for this device\n                const constraints = await getHighestResolutionConstraints();\n                console.log(\"Using camera constraints:\", constraints);\n                // Try to get stream with highest resolution\n                const stream = await navigator.mediaDevices.getUserMedia(constraints);\n                // Get the actual dimensions from the track first\n                const videoTrack = stream.getVideoTracks()[0];\n                const trackSettings = videoTrack.getSettings();\n                console.log(\"Actual camera settings:\", trackSettings);\n                // Create temporary video element to get the stream\n                const tempVideo = document.createElement('video');\n                tempVideo.srcObject = stream;\n                tempVideo.muted = true;\n                tempVideo.playsInline = true;\n                tempVideo.autoplay = true;\n                document.body.appendChild(tempVideo);\n                // Need to wait for video to be initialized\n                await new Promise((resolve)=>{\n                    tempVideo.onloadedmetadata = ()=>{\n                        tempVideo.play();\n                        resolve();\n                    };\n                    // Fallback if onloadedmetadata doesn't fire\n                    setTimeout(resolve, 1000);\n                });\n                // Wait a bit longer for the video to actually start playing\n                await new Promise((res)=>setTimeout(res, 500));\n                // Store webcam resolution - prioritize track settings over video element\n                if (trackSettings && trackSettings.width && trackSettings.height) {\n                    webcamWidth = trackSettings.width;\n                    webcamHeight = trackSettings.height;\n                    console.log(`Using track settings for resolution: ${webcamWidth}x${webcamHeight}`);\n                } else {\n                    webcamWidth = tempVideo.videoWidth || 0;\n                    webcamHeight = tempVideo.videoHeight || 0;\n                    console.log(`Using video element for resolution: ${webcamWidth}x${webcamHeight}`);\n                }\n                // Reality check on dimensions\n                if (webcamWidth <= 0 || webcamHeight <= 0) {\n                    console.warn(\"Invalid webcam dimensions, trying to get from constraints\");\n                    if (constraints.video && typeof constraints.video === 'object') {\n                        if (constraints.video.width && constraints.video.width.exact) {\n                            webcamWidth = constraints.video.width.exact;\n                        }\n                        if (constraints.video.height && constraints.video.height.exact) {\n                            webcamHeight = constraints.video.height.exact;\n                        }\n                    }\n                    if (webcamWidth <= 0 || webcamHeight <= 0) {\n                        console.warn(\"Still invalid dimensions, using defaults\");\n                        webcamWidth = 640;\n                        webcamHeight = 480;\n                    }\n                }\n                // Final check for square aspect ratio which is usually incorrect\n                if (webcamWidth === webcamHeight && webcamWidth > 100) {\n                    console.warn(\"Square aspect ratio detected, may be incorrect\");\n                    // Try to get more reliable dimensions\n                    const capabilities = videoTrack.getCapabilities?.();\n                    if (capabilities && capabilities.width && capabilities.height) {\n                        if (capabilities.width.max && capabilities.height.max) {\n                            // Assume the maximum capabilities have the correct aspect ratio\n                            const aspectRatio = capabilities.width.max / capabilities.height.max;\n                            if (Math.abs(aspectRatio - 1.33) < 0.1) {\n                                webcamHeight = Math.round(webcamWidth / 1.33);\n                                console.log(`Corrected to 4:3 aspect ratio: ${webcamWidth}x${webcamHeight}`);\n                            } else if (Math.abs(aspectRatio - 1.78) < 0.1) {\n                                webcamHeight = Math.round(webcamWidth / 1.78);\n                                console.log(`Corrected to 16:9 aspect ratio: ${webcamWidth}x${webcamHeight}`);\n                            }\n                        }\n                    }\n                }\n                const tempCanvas = document.createElement('canvas');\n                tempCanvas.width = webcamWidth;\n                tempCanvas.height = webcamHeight;\n                tempCanvas.getContext('2d').drawImage(tempVideo, 0, 0, webcamWidth, webcamHeight);\n                // Create high-resolution version for saving\n                webcamImage = tempCanvas.toDataURL('image/jpeg', 0.95);\n                // Create lower-resolution version for preview\n                webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.85);\n                console.log(`High-resolution webcam capture complete: ${webcamWidth}x${webcamHeight}`);\n                // Clean up\n                stream.getTracks().forEach((t)=>t.stop());\n                tempVideo.remove();\n            } catch (err) {\n                console.warn(\"High-resolution webcam capture failed:\", err);\n                // Try one more time with basic constraints\n                try {\n                    const stream = await navigator.mediaDevices.getUserMedia({\n                        video: true\n                    });\n                    const videoTrack = stream.getVideoTracks()[0];\n                    const trackSettings = videoTrack.getSettings();\n                    const tempVideo = document.createElement('video');\n                    tempVideo.srcObject = stream;\n                    tempVideo.muted = true;\n                    tempVideo.playsInline = true;\n                    document.body.appendChild(tempVideo);\n                    await tempVideo.play();\n                    await new Promise((res)=>setTimeout(res, 300));\n                    // Get dimensions from track settings if available\n                    if (trackSettings && trackSettings.width && trackSettings.height) {\n                        webcamWidth = trackSettings.width;\n                        webcamHeight = trackSettings.height;\n                    } else {\n                        webcamWidth = tempVideo.videoWidth || 0;\n                        webcamHeight = tempVideo.videoHeight || 0;\n                    }\n                    // Final check for invalid dimensions\n                    if (webcamWidth <= 0 || webcamHeight <= 0) {\n                        webcamWidth = 640;\n                        webcamHeight = 480;\n                    }\n                    const tempCanvas = document.createElement('canvas');\n                    tempCanvas.width = webcamWidth;\n                    tempCanvas.height = webcamHeight;\n                    tempCanvas.getContext('2d').drawImage(tempVideo, 0, 0, webcamWidth, webcamHeight);\n                    // Create high-resolution version for saving\n                    webcamImage = tempCanvas.toDataURL('image/jpeg', 0.9);\n                    // Create lower-resolution version for preview\n                    webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.8);\n                    console.log(`Basic webcam resolution captured: ${webcamWidth}x${webcamHeight}`);\n                    stream.getTracks().forEach((t)=>t.stop());\n                    tempVideo.remove();\n                } catch (fallbackErr) {\n                    console.error(\"All webcam capture methods failed:\", fallbackErr);\n                    webcamWidth = 640;\n                    webcamHeight = 480;\n                }\n            }\n        }\n        // 1.3 Parameter data - Now including webcam resolution\n        const csvData = [\n            \"name,value\",\n            `dot_x,${point.x}`,\n            `dot_y,${point.y}`,\n            `canvas_width,${canvas?.width || 0}`,\n            `canvas_height,${canvas?.height || 0}`,\n            `window_width,${window.innerWidth}`,\n            `window_height,${window.innerHeight}`,\n            `webcam_resolution_width,${webcamWidth}`,\n            `webcam_resolution_height,${webcamHeight}`,\n            `timestamp,${new Date().toISOString()}`,\n            `group_id,${captureGroupId}`\n        ].join('\\n');\n        // 2. Save all files with the same group ID so they get the same number\n        // 2.1 Save parameter file\n        const paramResult = await saveCSVToServer(csvData, parameterFilename, folder, captureGroupId);\n        if (paramResult && paramResult.success) {\n            captureNumber = paramResult.number;\n            console.log(`Server assigned capture number: ${captureNumber} for group: ${captureGroupId}`);\n        }\n        // 2.2 Save screen image if available\n        let screenResult = null;\n        if (screenImage) {\n            screenResult = await saveImageToServer(screenImage, screenFilename, 'screen', folder, captureGroupId);\n        }\n        // 2.3 Save webcam image if available\n        let webcamResult = null;\n        if (webcamImage) {\n            webcamResult = await saveImageToServer(webcamImage, webcamFilename, 'webcam', folder, captureGroupId);\n        }\n        // 3. Show preview if needed - use the lower resolution version for preview\n        if (showCapturePreview && typeof showCapturePreview === 'function') {\n            showCapturePreview(screenImage, webcamImagePreview || webcamImage, point);\n        }\n        // 4. Increment counter for next capture\n        if (setCaptureCount && typeof setCaptureCount === 'function') {\n            setCaptureCount((prevCount)=>prevCount + 1);\n        }\n        // 5. Return results - now including webcam resolution\n        return {\n            screenImage,\n            webcamImage,\n            success: true,\n            point,\n            captureNumber,\n            groupId: captureGroupId,\n            webcamWidth,\n            webcamHeight\n        };\n    } catch (err) {\n        console.error(\"captureImagesAtPoint failed:\", err);\n        return {\n            success: false,\n            error: err.message,\n            screenImage: null,\n            webcamImage: null,\n            webcamWidth: 0,\n            webcamHeight: 0\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLCtEQUErRDtBQUUvRDs7Ozs7OztDQU9DLEdBQ0QsTUFBTUEsY0FBYyxPQUFPQyxjQUFjQyxXQUFXLEdBQUcsRUFBRUMsWUFBWSxHQUFHLEVBQUVDLFVBQVUsSUFBSTtJQUN0RixPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7UUFDM0IsSUFBSTtZQUNGLE1BQU1DLE1BQU0sSUFBSUM7WUFDaEJELElBQUlFLE1BQU0sR0FBRztnQkFDWCwwREFBMEQ7Z0JBQzFELElBQUlDLFFBQVFILElBQUlHLEtBQUs7Z0JBQ3JCLElBQUlDLFNBQVNKLElBQUlJLE1BQU07Z0JBRXZCLElBQUlELFFBQVFULFVBQVU7b0JBQ3BCVSxTQUFTQyxLQUFLQyxLQUFLLENBQUNGLFNBQVVWLENBQUFBLFdBQVdTLEtBQUk7b0JBQzdDQSxRQUFRVDtnQkFDVjtnQkFFQSxJQUFJVSxTQUFTVCxXQUFXO29CQUN0QlEsUUFBUUUsS0FBS0MsS0FBSyxDQUFDSCxRQUFTUixDQUFBQSxZQUFZUyxNQUFLO29CQUM3Q0EsU0FBU1Q7Z0JBQ1g7Z0JBRUEsNkJBQTZCO2dCQUM3QixNQUFNWSxTQUFTQyxTQUFTQyxhQUFhLENBQUM7Z0JBQ3RDRixPQUFPSixLQUFLLEdBQUdBO2dCQUNmSSxPQUFPSCxNQUFNLEdBQUdBO2dCQUVoQixrQ0FBa0M7Z0JBQ2xDLE1BQU1NLE1BQU1ILE9BQU9JLFVBQVUsQ0FBQztnQkFDOUJELElBQUlFLFNBQVMsQ0FBQ1osS0FBSyxHQUFHLEdBQUdHLE9BQU9DO2dCQUVoQyx5Q0FBeUM7Z0JBQ3pDLE1BQU1TLGlCQUFpQk4sT0FBT08sU0FBUyxDQUFDLGNBQWNsQjtnQkFDdERFLFFBQVFlO1lBQ1Y7WUFFQWIsSUFBSWUsT0FBTyxHQUFHLENBQUNDLE1BQVFqQixPQUFPaUI7WUFDOUJoQixJQUFJ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RixLQUFLO1FBQ1pnQixRQUFRQyxLQUFLLENBQUMsZ0NBQWdDakI7UUFDOUMsT0FBTztZQUNMMEIsU0FBUztZQUNUVCxPQUFPakIsSUFBSTRCLE9BQU87WUFDbEJnRCxhQUFhO1lBQ2JDLGFBQWE7WUFDYkUsYUFBYTtZQUNiQyxjQUFjO1FBQ2hCO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0hlbHBlci9zYXZlZmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBIZWxwZXIvc2F2ZWZpbGUuanMgLSBBZGRlZCBoaWdoZXN0IHJlc29sdXRpb24gd2ViY2FtIGNhcHR1cmVcblxuLyoqXG4gKiBSZXNpemUgYW4gaW1hZ2UgdG8gZml0IHdpdGhpbiBhIGNlcnRhaW4gc2l6ZSBsaW1pdFxuICogQHBhcmFtIHtzdHJpbmd9IGltYWdlRGF0YVVybCAtIEJhc2U2NCBlbmNvZGVkIGltYWdlIGRhdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhXaWR0aCAtIE1heGltdW0gd2lkdGggb2YgdGhlIHJlc2l6ZWQgaW1hZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhIZWlnaHQgLSBNYXhpbXVtIGhlaWdodCBvZiB0aGUgcmVzaXplZCBpbWFnZVxuICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBKUEVHIHF1YWxpdHkgKDAtMSlcbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gUmVzaXplZCBpbWFnZSBkYXRhIFVSTFxuICovXG5jb25zdCByZXNpemVJbWFnZSA9IGFzeW5jIChpbWFnZURhdGFVcmwsIG1heFdpZHRoID0gODAwLCBtYXhIZWlnaHQgPSA2MDAsIHF1YWxpdHkgPSAwLjg1KSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG5ldyBkaW1lbnNpb25zIHdoaWxlIG1haW50YWluaW5nIGFzcGVjdCByYXRpb1xuICAgICAgICBsZXQgd2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgaWYgKHdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAqIChtYXhXaWR0aCAvIHdpZHRoKSk7XG4gICAgICAgICAgd2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGhlaWdodCA+IG1heEhlaWdodCkge1xuICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqIChtYXhIZWlnaHQgLyBoZWlnaHQpKTtcbiAgICAgICAgICBoZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBjYW52YXMgZm9yIHJlc2l6aW5nXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIC8vIERyYXcgYW5kIHJlc2l6ZSBpbWFnZSBvbiBjYW52YXNcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvbnZlcnQgdG8gSlBFRyB3aXRoIHNwZWNpZmllZCBxdWFsaXR5XG4gICAgICAgIGNvbnN0IHJlc2l6ZWREYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIHF1YWxpdHkpO1xuICAgICAgICByZXNvbHZlKHJlc2l6ZWREYXRhVXJsKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGltZy5vbmVycm9yID0gKGVycikgPT4gcmVqZWN0KGVycik7XG4gICAgICBpbWcuc3JjID0gaW1hZ2VEYXRhVXJsO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogU2F2ZSBhbiBpbWFnZSBvciBkYXRhIHRvIHRoZSBzZXJ2ZXIgd2l0aCBncm91cCBJRCB0byBlbnN1cmUgY29uc2lzdGVudCBudW1iZXJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZURhdGEgLSBCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWUgLSBGaWxlbmFtZSBwYXR0ZXJuIHRvIHNhdmUgYXNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVHlwZSBvZiBmaWxlIChzY3JlZW4sIHdlYmNhbSwgcGFyYW1ldGVycylcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb2xkZXIgLSBGb2xkZXIgdG8gc2F2ZSBpblxuICogQHBhcmFtIHtzdHJpbmd9IGNhcHR1cmVHcm91cCAtIFVuaXF1ZSBJRCBmb3IgZ3JvdXBpbmcgZmlsZXMgZnJvbSB0aGUgc2FtZSBjYXB0dXJlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSAtIFNlcnZlciByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3Qgc2F2ZUltYWdlVG9TZXJ2ZXIgPSBhc3luYyAoaW1hZ2VEYXRhLCBmaWxlbmFtZSwgdHlwZSwgZm9sZGVyID0gJ2V5ZV90cmFja2luZ19jYXB0dXJlcycsIGNhcHR1cmVHcm91cCA9IG51bGwpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NhdmUtY2FwdHVyZScsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgICAgaW1hZ2VEYXRhLCBcbiAgICAgICAgZmlsZW5hbWUsIFxuICAgICAgICB0eXBlLCBcbiAgICAgICAgZm9sZGVyLFxuICAgICAgICBjYXB0dXJlR3JvdXAgLy8gSW5jbHVkZSB0aGUgY2FwdHVyZSBncm91cCBJRFxuICAgICAgfSlcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBTZXJ2ZXIgcmV0dXJuZWQgJHtyZXNwb25zZS5zdGF0dXN9IGZvciAke3R5cGV9YCk7XG4gICAgICBcbiAgICAgIC8vIElmIHRoZSBlcnJvciBpcyA0MTMgKHBheWxvYWQgdG9vIGxhcmdlKSBhbmQgaXQncyBhbiBpbWFnZSwgdHJ5IHJlc2l6aW5nXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MTMgJiYgdHlwZSAhPT0gJ3BhcmFtZXRlcnMnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgSW1hZ2UgdG9vIGxhcmdlIGZvciBzZXJ2ZXIgKDQxMyBlcnJvciksIHdpbGwgcmVzaXplIGFuZCByZXRyeWApO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RhcnQgd2l0aCBoaWdoZXIgcXVhbGl0eSBhbmQgcHJvZ3Jlc3NpdmVseSByZWR1Y2UgcXVhbGl0eS9zaXplIHVudGlsIGl0IGZpdHNcbiAgICAgICAgY29uc3Qgc2l6ZXMgPSBbXG4gICAgICAgICAgeyB3aWR0aDogMTkyMCwgaGVpZ2h0OiAxMDgwLCBxdWFsaXR5OiAwLjkgfSxcbiAgICAgICAgICB7IHdpZHRoOiAxMjgwLCBoZWlnaHQ6IDcyMCwgcXVhbGl0eTogMC44NSB9LFxuICAgICAgICAgIHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAsIHF1YWxpdHk6IDAuOCB9LFxuICAgICAgICAgIHsgd2lkdGg6IDY0MCwgaGVpZ2h0OiA0ODAsIHF1YWxpdHk6IDAuNzUgfVxuICAgICAgICBdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHF1YWxpdHkgfSBvZiBzaXplcykge1xuICAgICAgICAgIGNvbnN0IHJlc2l6ZWRJbWFnZSA9IGF3YWl0IHJlc2l6ZUltYWdlKGltYWdlRGF0YSwgd2lkdGgsIGhlaWdodCwgcXVhbGl0eSk7XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5UmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zYXZlLWNhcHR1cmUnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICAgICAgICAgIGltYWdlRGF0YTogcmVzaXplZEltYWdlLCBcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSwgXG4gICAgICAgICAgICAgICAgdHlwZSwgXG4gICAgICAgICAgICAgICAgZm9sZGVyLFxuICAgICAgICAgICAgICAgIGNhcHR1cmVHcm91cFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZXRyeVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTdWNjZXNzZnVsbHkgc2F2ZWQgcmVzaXplZCAke3R5cGV9IGF0ICR7d2lkdGh9eCR7aGVpZ2h0fSwgcXVhbGl0eSAke3F1YWxpdHl9YCk7XG4gICAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXRyeVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChyZXRyeUVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBkdXJpbmcgcmV0cnkgZm9yICR7dHlwZX06YCwgcmV0cnlFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIHNhdmUgaW1hZ2UgZXZlbiBhZnRlciByZXNpemluZ1wiIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFNlcnZlciByZXR1cm5lZCAke3Jlc3BvbnNlLnN0YXR1c31gIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHNhdmluZyAke3R5cGV9OmAsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBTYXZlIENTViBkYXRhIHRvIHRoZSBzZXJ2ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3ZEYXRhIC0gQ1NWIGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZSAtIEZpbGVuYW1lIHBhdHRlcm4gdG8gc2F2ZSBhc1xuICogQHBhcmFtIHtzdHJpbmd9IGZvbGRlciAtIEZvbGRlciB0byBzYXZlIGluXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FwdHVyZUdyb3VwIC0gVW5pcXVlIElEIGZvciBncm91cGluZyBmaWxlcyBmcm9tIHRoZSBzYW1lIGNhcHR1cmVcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gU2VydmVyIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBzYXZlQ1NWVG9TZXJ2ZXIgPSBhc3luYyAoY3N2RGF0YSwgZmlsZW5hbWUsIGZvbGRlciA9ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnLCBjYXB0dXJlR3JvdXAgPSBudWxsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY3N2QmxvYiA9IG5ldyBCbG9iKFtjc3ZEYXRhXSwgeyB0eXBlOiAndGV4dC9jc3YnIH0pO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgY29uc3QgY3N2RGF0YVVybCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGNzdkJsb2IpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2F2ZUltYWdlVG9TZXJ2ZXIoY3N2RGF0YVVybCwgZmlsZW5hbWUsICdwYXJhbWV0ZXJzJywgZm9sZGVyLCBjYXB0dXJlR3JvdXApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIENTVjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IHRoZSBoaWdoZXN0IHJlc29sdXRpb24gY2FtZXJhIGNvbnN0cmFpbnRzIHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxNZWRpYVN0cmVhbUNvbnN0cmFpbnRzPn0gLSBDYW1lcmEgY29uc3RyYWludHMgd2l0aCBoaWdoZXN0IHJlc29sdXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMgPSBhc3luYyAoKSA9PiB7XG4gIC8vIFRyeSB0byBnZXQgYWxsIGF2YWlsYWJsZSBjYW1lcmEgY2FwYWJpbGl0aWVzIGZpcnN0XG4gIHRyeSB7XG4gICAgLy8gR2V0IGEgdGVtcG9yYXJ5IGFjY2VzcyB0byB0aGUgY2FtZXJhXG4gICAgY29uc3QgdGVtcFN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgdmlkZW86IHRydWUgfSk7XG4gICAgY29uc3QgdmlkZW9UcmFjayA9IHRlbXBTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICBcbiAgICAvLyBHZXQgY2FwYWJpbGl0aWVzXG4gICAgY29uc3QgY2FwYWJpbGl0aWVzID0gdmlkZW9UcmFjay5nZXRDYXBhYmlsaXRpZXM/LigpO1xuICAgIGNvbnNvbGUubG9nKFwiQ2FtZXJhIGNhcGFiaWxpdGllczpcIiwgY2FwYWJpbGl0aWVzKTtcbiAgICBcbiAgICAvLyBHZXQgY3VycmVudCBzZXR0aW5ncyB0byBjaGVjayBhc3BlY3QgcmF0aW9cbiAgICBjb25zdCBzZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgY2FtZXJhIHNldHRpbmdzOlwiLCBzZXR0aW5ncyk7XG4gICAgXG4gICAgLy8gU3RvcCB0aGUgdGVtcG9yYXJ5IHN0cmVhbVxuICAgIHZpZGVvVHJhY2suc3RvcCgpO1xuICAgIFxuICAgIGlmIChjYXBhYmlsaXRpZXMgJiYgY2FwYWJpbGl0aWVzLndpZHRoICYmIGNhcGFiaWxpdGllcy5oZWlnaHQpIHtcbiAgICAgIC8vIFVzZSB0aGUgbWF4aW11bSB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gZGV2aWNlIGNhcGFiaWxpdGllc1xuICAgICAgY29uc3QgbWF4V2lkdGggPSBjYXBhYmlsaXRpZXMud2lkdGgubWF4O1xuICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gY2FwYWJpbGl0aWVzLmhlaWdodC5tYXg7XG4gICAgICBcbiAgICAgIC8vIEZvcmNlIGV4YWN0IHJlc29sdXRpb24gaW5zdGVhZCBvZiBpZGVhbFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICB3aWR0aDogeyBleGFjdDogbWF4V2lkdGggfSxcbiAgICAgICAgICBoZWlnaHQ6IHsgZXhhY3Q6IG1heEhlaWdodCB9LFxuICAgICAgICAgIGZyYW1lUmF0ZTogeyBpZGVhbDogMzAgfSAvLyBUcnkgdG8gbWFpbnRhaW4gZ29vZCBmcmFtZSByYXRlXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBnZXQgY2FtZXJhIGNhcGFiaWxpdGllczpcIiwgZXJyKTtcbiAgfVxuICBcbiAgLy8gRmFsbGJhY2s6IHRyeSBzdGFuZGFyZCByZXNvbHV0aW9ucyBpbiBvcmRlclxuICBjb25zdCByZXNvbHV0aW9ucyA9IFtcbiAgICB7IHdpZHRoOiB7IGV4YWN0OiA0MDk2IH0sIGhlaWdodDogeyBleGFjdDogMjE2MCB9IH0sIC8vIDRLXG4gICAgeyB3aWR0aDogeyBleGFjdDogMzg0MCB9LCBoZWlnaHQ6IHsgZXhhY3Q6IDIxNjAgfSB9LCAvLyA0SyBVSERcbiAgICB7IHdpZHRoOiB7IGV4YWN0OiAyNTYwIH0sIGhlaWdodDogeyBleGFjdDogMTQ0MCB9IH0sIC8vIDJLIFFIRFxuICAgIHsgd2lkdGg6IHsgZXhhY3Q6IDE5MjAgfSwgaGVpZ2h0OiB7IGV4YWN0OiAxMDgwIH0gfSwgLy8gRnVsbCBIRFxuICAgIHsgd2lkdGg6IHsgZXhhY3Q6IDEyODAgfSwgaGVpZ2h0OiB7IGV4YWN0OiA3MjAgfSB9LCAgLy8gSERcbiAgICB7IHdpZHRoOiB7IGV4YWN0OiA2NDAgfSwgaGVpZ2h0OiB7IGV4YWN0OiA0ODAgfSB9LCAgIC8vIFZHQVxuICAgIHt9ICAvLyBEZWZhdWx0IC0gbGV0IGJyb3dzZXIgZGVjaWRlXG4gIF07XG5cbiAgLy8gVHJ5IHRoZSByZXNvbHV0aW9ucyBpbiBvcmRlciB1bnRpbCBvbmUgd29ya3NcbiAgZm9yIChjb25zdCByZXNvbHV0aW9uIG9mIHJlc29sdXRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgIC4uLnJlc29sdXRpb24sXG4gICAgICAgICAgZmFjaW5nTW9kZTogXCJ1c2VyXCIsXG4gICAgICAgICAgZnJhbWVSYXRlOiB7IGlkZWFsOiAzMCB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFRlc3QgaWYgdGhpcyByZXNvbHV0aW9uIGlzIHN1cHBvcnRlZFxuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgICAgXG4gICAgICAvLyBHZXQgdGhlIGFjdHVhbCBkaW1lbnNpb25zXG4gICAgICBjb25zdCB2aWRlb1RyYWNrID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiU3VwcG9ydGVkIHJlc29sdXRpb246XCIsIHNldHRpbmdzLndpZHRoLCBcInhcIiwgc2V0dGluZ3MuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gU3RvcCB0aGUgdGVzdCBzdHJlYW0gaW1tZWRpYXRlbHlcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICBcbiAgICAgIHJldHVybiBjb25zdHJhaW50cztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBSZXNvbHV0aW9uIG5vdCBzdXBwb3J0ZWQ6ICR7SlNPTi5zdHJpbmdpZnkocmVzb2x1dGlvbil9YCk7XG4gICAgICAvLyBDb250aW51ZSB0byBuZXh0IHJlc29sdXRpb25cbiAgICB9XG4gIH1cbiAgXG4gIC8vIElmIG5vdGhpbmcgd29ya2VkLCByZXR1cm4gYmFzaWMgY29uc3RyYWludHNcbiAgcmV0dXJuIHsgXG4gICAgdmlkZW86IHtcbiAgICAgIHdpZHRoOiB7IGV4YWN0OiAxMjgwIH0sXG4gICAgICBoZWlnaHQ6IHsgZXhhY3Q6IDcyMCB9LFxuICAgICAgZnJhbWVSYXRlOiB7IGlkZWFsOiAzMCB9XG4gICAgfSBcbiAgfTtcbn07XG5cbi8qKlxuICogQ2FwdHVyZSBhbmQgc2F2ZSBpbWFnZXMgYXQgYSBzcGVjaWZpYyBwb2ludCB3aXRoIGNvbnNpc3RlbnQgbnVtYmVyaW5nXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIENhcHR1cmUgb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBDYXB0dXJlIHJlc3VsdHNcbiAqL1xuZXhwb3J0IGNvbnN0IGNhcHR1cmVJbWFnZXNBdFBvaW50ID0gYXN5bmMgKHsgcG9pbnQsIGNhcHR1cmVDb3VudCA9IDEsIGNhbnZhc1JlZiwgc2V0Q2FwdHVyZUNvdW50LCBzaG93Q2FwdHVyZVByZXZpZXcgfSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGZvbGRlciA9ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBjYXB0dXJlIGdyb3VwXG4gICAgY29uc3QgY2FwdHVyZUdyb3VwSWQgPSBgY2FwdHVyZS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zb2xlLmxvZyhgR2VuZXJhdGVkIGNhcHR1cmUgZ3JvdXAgSUQ6ICR7Y2FwdHVyZUdyb3VwSWR9YCk7XG4gICAgXG4gICAgLy8gRmlsZSBwYXR0ZXJucyBmb3Igc2F2aW5nXG4gICAgY29uc3Qgc2NyZWVuRmlsZW5hbWUgPSAnc2NyZWVuXzAwMS5qcGcnOyAgLy8gUGF0dGVybiBvbmx5IC0gc2VydmVyIHdpbGwgYXNzaWduIG51bWJlclxuICAgIGNvbnN0IHdlYmNhbUZpbGVuYW1lID0gJ3dlYmNhbV8wMDEuanBnJzsgIC8vIFBhdHRlcm4gb25seSAtIHNlcnZlciB3aWxsIGFzc2lnbiBudW1iZXJcbiAgICBjb25zdCBwYXJhbWV0ZXJGaWxlbmFtZSA9ICdwYXJhbWV0ZXJfMDAxLmNzdic7ICAvLyBQYXR0ZXJuIG9ubHkgLSBzZXJ2ZXIgd2lsbCBhc3NpZ24gbnVtYmVyXG4gICAgXG4gICAgLy8gRm9yIGxvZ2dpbmdcbiAgICBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIGNhcHR1cmUgd2l0aCBncm91cCBJRDpcIiwgY2FwdHVyZUdyb3VwSWQpO1xuICAgIFxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGxldCBzY3JlZW5JbWFnZSA9IG51bGw7XG4gICAgbGV0IHdlYmNhbUltYWdlID0gbnVsbDtcbiAgICBsZXQgY2FwdHVyZU51bWJlciA9IG51bGw7XG4gICAgXG4gICAgLy8gVmFyaWFibGVzIHRvIHN0b3JlIHdlYmNhbSByZXNvbHV0aW9uXG4gICAgbGV0IHdlYmNhbVdpZHRoID0gMDtcbiAgICBsZXQgd2ViY2FtSGVpZ2h0ID0gMDtcbiAgICBcbiAgICAvLyAxLiBQcmVwYXJlIGFsbCBkYXRhIGZpcnN0XG4gICAgXG4gICAgLy8gMS4xIENhbnZhcy9zY3JlZW4gaW1hZ2VcbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICBzY3JlZW5JbWFnZSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuICAgIH1cblxuICAgIC8vIDEuMiBXZWJjYW0gaW1hZ2UgLSBUcnkgdG8gZ2V0IHRoZSBoaWdoZXN0IHJlc29sdXRpb24gYXZhaWxhYmxlIFxuICAgIC8vIHdpdGggZGV2aWNlJ3MgbmF0aXZlIGNhcGFiaWxpdGllcyBpbnN0ZWFkIG9mIGZpeGVkIHZhbHVlc1xuICAgIGxldCB3ZWJjYW1JbWFnZVByZXZpZXcgPSBudWxsOyAvLyBTZXBhcmF0ZSBsb3dlci1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHByZXZpZXdcbiAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSB3aW5kb3cudmlkZW9FbGVtZW50IHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7XG4gICAgXG4gICAgaWYgKHZpZGVvRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVXNlIGV4aXN0aW5nIHZpZGVvIGVsZW1lbnQgaWYgYXZhaWxhYmxlXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHZpZGVvVHJhY2sgaGFzIHNldHRpbmdzIGluZm9cbiAgICAgICAgbGV0IHRyYWNrU2V0dGluZ3MgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgICBjb25zdCB2aWRlb1RyYWNrID0gdmlkZW9FbGVtZW50LnNyY09iamVjdC5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgICAgIGlmICh2aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICB0cmFja1NldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJWaWRlbyB0cmFjayBzZXR0aW5nczpcIiwgdHJhY2tTZXR0aW5ncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgZGltZW5zaW9ucyBmcm9tIHRyYWNrIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZyb20gZWxlbWVudFxuICAgICAgICBpZiAodHJhY2tTZXR0aW5ncyAmJiB0cmFja1NldHRpbmdzLndpZHRoICYmIHRyYWNrU2V0dGluZ3MuaGVpZ2h0KSB7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSB0cmFja1NldHRpbmdzLndpZHRoO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHRyYWNrU2V0dGluZ3MuaGVpZ2h0O1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB0cmFjayBzZXR0aW5ncyBkaW1lbnNpb25zOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3ZWJjYW1XaWR0aCA9IHZpZGVvRWxlbWVudC52aWRlb1dpZHRoIHx8IDA7XG4gICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gdmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0IHx8IDA7XG4gICAgICAgICAgY29uc29sZS5sb2coYFVzaW5nIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uczogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNhbml0eSBjaGVjayAtIGlmIGJvdGggZGltZW5zaW9ucyBhcmUgdGhlIHNhbWUsIGRvdWJsZS1jaGVja1xuICAgICAgICBpZiAod2ViY2FtV2lkdGggPT09IHdlYmNhbUhlaWdodCAmJiB3ZWJjYW1XaWR0aCA+IDEwMCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlN1c3BpY2lvdXMgc3F1YXJlIGFzcGVjdCByYXRpbyBkZXRlY3RlZCwgZG91YmxlLWNoZWNraW5nIGRpbWVuc2lvbnNcIik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVHJ5IHRvIGdldCBtb3JlIHJlbGlhYmxlIGluZm9cbiAgICAgICAgICBpZiAodmlkZW9FbGVtZW50LnNyY09iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHZpZGVvRWxlbWVudC5zcmNPYmplY3QuZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgIGlmICh2aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdmlkZW9UcmFjay5nZXRDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZpZGVvIGNvbnN0cmFpbnRzOlwiLCBjb25zdHJhaW50cyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBJZiBjb25zdHJhaW50cyBoYXZlIHdpZHRoL2hlaWdodCwgdXNlIHRob3NlXG4gICAgICAgICAgICAgIGlmIChjb25zdHJhaW50cy53aWR0aCAmJiBjb25zdHJhaW50cy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnN0cmFpbnRzLndpZHRoLmV4YWN0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgd2ViY2FtV2lkdGggPSBjb25zdHJhaW50cy53aWR0aC5leGFjdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zdHJhaW50cy53aWR0aC5pZGVhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gY29uc3RyYWludHMud2lkdGguaWRlYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RyYWludHMuaGVpZ2h0LmV4YWN0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gY29uc3RyYWludHMuaGVpZ2h0LmV4YWN0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnN0cmFpbnRzLmhlaWdodC5pZGVhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IGNvbnN0cmFpbnRzLmhlaWdodC5pZGVhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgZGltZW5zaW9ucyBmcm9tIGNvbnN0cmFpbnRzOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmluYWwgcmVhbGl0eSBjaGVjayAtIG1ha2Ugc3VyZSBkaW1lbnNpb25zIGFyZSByZWFzb25hYmxlXG4gICAgICAgIGlmICh3ZWJjYW1XaWR0aCA8PSAwIHx8IHdlYmNhbUhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCB3ZWJjYW0gZGltZW5zaW9ucywgdXNpbmcgZGVmYXVsdHNcIik7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSA2NDA7XG4gICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gNDgwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRlbXBDYW52YXMud2lkdGggPSB3ZWJjYW1XaWR0aDtcbiAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSB3ZWJjYW1IZWlnaHQ7XG4gICAgICAgIHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodmlkZW9FbGVtZW50LCAwLCAwLCB3ZWJjYW1XaWR0aCwgd2ViY2FtSGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBoaWdoLXJlc29sdXRpb24gdmVyc2lvbiBmb3Igc2F2aW5nXG4gICAgICAgIHdlYmNhbUltYWdlID0gdGVtcENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjk1KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBsb3dlci1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHByZXZpZXdcbiAgICAgICAgd2ViY2FtSW1hZ2VQcmV2aWV3ID0gYXdhaXQgcmVzaXplSW1hZ2Uod2ViY2FtSW1hZ2UsIDY0MCwgNDgwLCAwLjg1KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBXZWJjYW0gY2FwdHVyZSBjb21wbGV0ZSBhdCByZXNvbHV0aW9uOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FwdHVyaW5nIGZyb20gZXhpc3RpbmcgdmlkZW8gZWxlbWVudDpcIiwgZXJyKTtcbiAgICAgICAgd2ViY2FtV2lkdGggPSB2aWRlb0VsZW1lbnQudmlkZW9XaWR0aCB8fCA2NDA7XG4gICAgICAgIHdlYmNhbUhlaWdodCA9IHZpZGVvRWxlbWVudC52aWRlb0hlaWdodCB8fCA0ODA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEdldCBoaWdoZXN0IHJlc29sdXRpb24gY29uc3RyYWludHMgZm9yIHRoaXMgZGV2aWNlXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gYXdhaXQgZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cygpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIGNhbWVyYSBjb25zdHJhaW50czpcIiwgY29uc3RyYWludHMpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IHRvIGdldCBzdHJlYW0gd2l0aCBoaWdoZXN0IHJlc29sdXRpb25cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHRoZSBhY3R1YWwgZGltZW5zaW9ucyBmcm9tIHRoZSB0cmFjayBmaXJzdFxuICAgICAgICBjb25zdCB2aWRlb1RyYWNrID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICAgIGNvbnN0IHRyYWNrU2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWN0dWFsIGNhbWVyYSBzZXR0aW5nczpcIiwgdHJhY2tTZXR0aW5ncyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgdGVtcG9yYXJ5IHZpZGVvIGVsZW1lbnQgdG8gZ2V0IHRoZSBzdHJlYW1cbiAgICAgICAgY29uc3QgdGVtcFZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgdGVtcFZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgdGVtcFZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgdGVtcFZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgdGVtcFZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wVmlkZW8pO1xuICAgICAgICBcbiAgICAgICAgLy8gTmVlZCB0byB3YWl0IGZvciB2aWRlbyB0byBiZSBpbml0aWFsaXplZFxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICB0ZW1wVmlkZW8ub25sb2FkZWRtZXRhZGF0YSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRlbXBWaWRlby5wbGF5KCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBGYWxsYmFjayBpZiBvbmxvYWRlZG1ldGFkYXRhIGRvZXNuJ3QgZmlyZVxuICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBhIGJpdCBsb25nZXIgZm9yIHRoZSB2aWRlbyB0byBhY3R1YWxseSBzdGFydCBwbGF5aW5nXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTAwKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSB3ZWJjYW0gcmVzb2x1dGlvbiAtIHByaW9yaXRpemUgdHJhY2sgc2V0dGluZ3Mgb3ZlciB2aWRlbyBlbGVtZW50XG4gICAgICAgIGlmICh0cmFja1NldHRpbmdzICYmIHRyYWNrU2V0dGluZ3Mud2lkdGggJiYgdHJhY2tTZXR0aW5ncy5oZWlnaHQpIHtcbiAgICAgICAgICB3ZWJjYW1XaWR0aCA9IHRyYWNrU2V0dGluZ3Mud2lkdGg7XG4gICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gdHJhY2tTZXR0aW5ncy5oZWlnaHQ7XG4gICAgICAgICAgY29uc29sZS5sb2coYFVzaW5nIHRyYWNrIHNldHRpbmdzIGZvciByZXNvbHV0aW9uOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3ZWJjYW1XaWR0aCA9IHRlbXBWaWRlby52aWRlb1dpZHRoIHx8IDA7XG4gICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gdGVtcFZpZGVvLnZpZGVvSGVpZ2h0IHx8IDA7XG4gICAgICAgICAgY29uc29sZS5sb2coYFVzaW5nIHZpZGVvIGVsZW1lbnQgZm9yIHJlc29sdXRpb246ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZWFsaXR5IGNoZWNrIG9uIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHdlYmNhbVdpZHRoIDw9IDAgfHwgd2ViY2FtSGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJJbnZhbGlkIHdlYmNhbSBkaW1lbnNpb25zLCB0cnlpbmcgdG8gZ2V0IGZyb20gY29uc3RyYWludHNcIik7XG4gICAgICAgICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvICYmIHR5cGVvZiBjb25zdHJhaW50cy52aWRlbyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50cy52aWRlby53aWR0aCAmJiBjb25zdHJhaW50cy52aWRlby53aWR0aC5leGFjdCkge1xuICAgICAgICAgICAgICB3ZWJjYW1XaWR0aCA9IGNvbnN0cmFpbnRzLnZpZGVvLndpZHRoLmV4YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvLmhlaWdodCAmJiBjb25zdHJhaW50cy52aWRlby5oZWlnaHQuZXhhY3QpIHtcbiAgICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gY29uc3RyYWludHMudmlkZW8uaGVpZ2h0LmV4YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAod2ViY2FtV2lkdGggPD0gMCB8fCB3ZWJjYW1IZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiU3RpbGwgaW52YWxpZCBkaW1lbnNpb25zLCB1c2luZyBkZWZhdWx0c1wiKTtcbiAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gNjQwO1xuICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gNDgwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmluYWwgY2hlY2sgZm9yIHNxdWFyZSBhc3BlY3QgcmF0aW8gd2hpY2ggaXMgdXN1YWxseSBpbmNvcnJlY3RcbiAgICAgICAgaWYgKHdlYmNhbVdpZHRoID09PSB3ZWJjYW1IZWlnaHQgJiYgd2ViY2FtV2lkdGggPiAxMDApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJTcXVhcmUgYXNwZWN0IHJhdGlvIGRldGVjdGVkLCBtYXkgYmUgaW5jb3JyZWN0XCIpO1xuICAgICAgICAgIC8vIFRyeSB0byBnZXQgbW9yZSByZWxpYWJsZSBkaW1lbnNpb25zXG4gICAgICAgICAgY29uc3QgY2FwYWJpbGl0aWVzID0gdmlkZW9UcmFjay5nZXRDYXBhYmlsaXRpZXM/LigpO1xuICAgICAgICAgIGlmIChjYXBhYmlsaXRpZXMgJiYgY2FwYWJpbGl0aWVzLndpZHRoICYmIGNhcGFiaWxpdGllcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChjYXBhYmlsaXRpZXMud2lkdGgubWF4ICYmIGNhcGFiaWxpdGllcy5oZWlnaHQubWF4KSB7XG4gICAgICAgICAgICAgIC8vIEFzc3VtZSB0aGUgbWF4aW11bSBjYXBhYmlsaXRpZXMgaGF2ZSB0aGUgY29ycmVjdCBhc3BlY3QgcmF0aW9cbiAgICAgICAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBjYXBhYmlsaXRpZXMud2lkdGgubWF4IC8gY2FwYWJpbGl0aWVzLmhlaWdodC5tYXg7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYXNwZWN0UmF0aW8gLSAxLjMzKSA8IDAuMSkgeyAvLyBDbG9zZSB0byA0OjNcbiAgICAgICAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSBNYXRoLnJvdW5kKHdlYmNhbVdpZHRoIC8gMS4zMyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENvcnJlY3RlZCB0byA0OjMgYXNwZWN0IHJhdGlvOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhhc3BlY3RSYXRpbyAtIDEuNzgpIDwgMC4xKSB7IC8vIENsb3NlIHRvIDE2OjlcbiAgICAgICAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSBNYXRoLnJvdW5kKHdlYmNhbVdpZHRoIC8gMS43OCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENvcnJlY3RlZCB0byAxNjo5IGFzcGVjdCByYXRpbzogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IHdlYmNhbVdpZHRoO1xuICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IHdlYmNhbUhlaWdodDtcbiAgICAgICAgdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh0ZW1wVmlkZW8sIDAsIDAsIHdlYmNhbVdpZHRoLCB3ZWJjYW1IZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGhpZ2gtcmVzb2x1dGlvbiB2ZXJzaW9uIGZvciBzYXZpbmdcbiAgICAgICAgd2ViY2FtSW1hZ2UgPSB0ZW1wQ2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDAuOTUpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGxvd2VyLXJlc29sdXRpb24gdmVyc2lvbiBmb3IgcHJldmlld1xuICAgICAgICB3ZWJjYW1JbWFnZVByZXZpZXcgPSBhd2FpdCByZXNpemVJbWFnZSh3ZWJjYW1JbWFnZSwgNjQwLCA0ODAsIDAuODUpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYEhpZ2gtcmVzb2x1dGlvbiB3ZWJjYW0gY2FwdHVyZSBjb21wbGV0ZTogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhbiB1cFxuICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0ID0+IHQuc3RvcCgpKTtcbiAgICAgICAgdGVtcFZpZGVvLnJlbW92ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkhpZ2gtcmVzb2x1dGlvbiB3ZWJjYW0gY2FwdHVyZSBmYWlsZWQ6XCIsIGVycik7XG4gICAgICAgIFxuICAgICAgICAvLyBUcnkgb25lIG1vcmUgdGltZSB3aXRoIGJhc2ljIGNvbnN0cmFpbnRzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyB2aWRlbzogdHJ1ZSB9KTtcbiAgICAgICAgICBjb25zdCB2aWRlb1RyYWNrID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICAgICAgY29uc3QgdHJhY2tTZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB0ZW1wVmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgIHRlbXBWaWRlby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgICAgdGVtcFZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgICB0ZW1wVmlkZW8ucGxheXNJbmxpbmUgPSB0cnVlO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcFZpZGVvKTtcbiAgICAgICAgICBhd2FpdCB0ZW1wVmlkZW8ucGxheSgpO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgMzAwKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR2V0IGRpbWVuc2lvbnMgZnJvbSB0cmFjayBzZXR0aW5ncyBpZiBhdmFpbGFibGVcbiAgICAgICAgICBpZiAodHJhY2tTZXR0aW5ncyAmJiB0cmFja1NldHRpbmdzLndpZHRoICYmIHRyYWNrU2V0dGluZ3MuaGVpZ2h0KSB7XG4gICAgICAgICAgICB3ZWJjYW1XaWR0aCA9IHRyYWNrU2V0dGluZ3Mud2lkdGg7XG4gICAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSB0cmFja1NldHRpbmdzLmhlaWdodDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2ViY2FtV2lkdGggPSB0ZW1wVmlkZW8udmlkZW9XaWR0aCB8fCAwO1xuICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gdGVtcFZpZGVvLnZpZGVvSGVpZ2h0IHx8IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbmFsIGNoZWNrIGZvciBpbnZhbGlkIGRpbWVuc2lvbnNcbiAgICAgICAgICBpZiAod2ViY2FtV2lkdGggPD0gMCB8fCB3ZWJjYW1IZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgd2ViY2FtV2lkdGggPSA2NDA7XG4gICAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSA0ODA7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gd2ViY2FtV2lkdGg7XG4gICAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSB3ZWJjYW1IZWlnaHQ7XG4gICAgICAgICAgdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh0ZW1wVmlkZW8sIDAsIDAsIHdlYmNhbVdpZHRoLCB3ZWJjYW1IZWlnaHQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBoaWdoLXJlc29sdXRpb24gdmVyc2lvbiBmb3Igc2F2aW5nXG4gICAgICAgICAgd2ViY2FtSW1hZ2UgPSB0ZW1wQ2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDAuOSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ3JlYXRlIGxvd2VyLXJlc29sdXRpb24gdmVyc2lvbiBmb3IgcHJldmlld1xuICAgICAgICAgIHdlYmNhbUltYWdlUHJldmlldyA9IGF3YWl0IHJlc2l6ZUltYWdlKHdlYmNhbUltYWdlLCA2NDAsIDQ4MCwgMC44KTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhgQmFzaWMgd2ViY2FtIHJlc29sdXRpb24gY2FwdHVyZWQ6ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICAgIFxuICAgICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHQgPT4gdC5zdG9wKCkpO1xuICAgICAgICAgIHRlbXBWaWRlby5yZW1vdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZmFsbGJhY2tFcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQWxsIHdlYmNhbSBjYXB0dXJlIG1ldGhvZHMgZmFpbGVkOlwiLCBmYWxsYmFja0Vycik7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSA2NDA7XG4gICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gNDgwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMS4zIFBhcmFtZXRlciBkYXRhIC0gTm93IGluY2x1ZGluZyB3ZWJjYW0gcmVzb2x1dGlvblxuICAgIGNvbnN0IGNzdkRhdGEgPSBbXG4gICAgICBcIm5hbWUsdmFsdWVcIixcbiAgICAgIGBkb3RfeCwke3BvaW50Lnh9YCxcbiAgICAgIGBkb3RfeSwke3BvaW50Lnl9YCxcbiAgICAgIGBjYW52YXNfd2lkdGgsJHtjYW52YXM/LndpZHRoIHx8IDB9YCxcbiAgICAgIGBjYW52YXNfaGVpZ2h0LCR7Y2FudmFzPy5oZWlnaHQgfHwgMH1gLFxuICAgICAgYHdpbmRvd193aWR0aCwke3dpbmRvdy5pbm5lcldpZHRofWAsXG4gICAgICBgd2luZG93X2hlaWdodCwke3dpbmRvdy5pbm5lckhlaWdodH1gLFxuICAgICAgYHdlYmNhbV9yZXNvbHV0aW9uX3dpZHRoLCR7d2ViY2FtV2lkdGh9YCxcbiAgICAgIGB3ZWJjYW1fcmVzb2x1dGlvbl9oZWlnaHQsJHt3ZWJjYW1IZWlnaHR9YCxcbiAgICAgIGB0aW1lc3RhbXAsJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9YCxcbiAgICAgIGBncm91cF9pZCwke2NhcHR1cmVHcm91cElkfWBcbiAgICBdLmpvaW4oJ1xcbicpO1xuICAgIFxuICAgIC8vIDIuIFNhdmUgYWxsIGZpbGVzIHdpdGggdGhlIHNhbWUgZ3JvdXAgSUQgc28gdGhleSBnZXQgdGhlIHNhbWUgbnVtYmVyXG4gICAgXG4gICAgLy8gMi4xIFNhdmUgcGFyYW1ldGVyIGZpbGVcbiAgICBjb25zdCBwYXJhbVJlc3VsdCA9IGF3YWl0IHNhdmVDU1ZUb1NlcnZlcihjc3ZEYXRhLCBwYXJhbWV0ZXJGaWxlbmFtZSwgZm9sZGVyLCBjYXB0dXJlR3JvdXBJZCk7XG4gICAgXG4gICAgaWYgKHBhcmFtUmVzdWx0ICYmIHBhcmFtUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIGNhcHR1cmVOdW1iZXIgPSBwYXJhbVJlc3VsdC5udW1iZXI7XG4gICAgICBjb25zb2xlLmxvZyhgU2VydmVyIGFzc2lnbmVkIGNhcHR1cmUgbnVtYmVyOiAke2NhcHR1cmVOdW1iZXJ9IGZvciBncm91cDogJHtjYXB0dXJlR3JvdXBJZH1gKTtcbiAgICB9XG4gICAgXG4gICAgLy8gMi4yIFNhdmUgc2NyZWVuIGltYWdlIGlmIGF2YWlsYWJsZVxuICAgIGxldCBzY3JlZW5SZXN1bHQgPSBudWxsO1xuICAgIGlmIChzY3JlZW5JbWFnZSkge1xuICAgICAgc2NyZWVuUmVzdWx0ID0gYXdhaXQgc2F2ZUltYWdlVG9TZXJ2ZXIoc2NyZWVuSW1hZ2UsIHNjcmVlbkZpbGVuYW1lLCAnc2NyZWVuJywgZm9sZGVyLCBjYXB0dXJlR3JvdXBJZCk7XG4gICAgfVxuICAgIFxuICAgIC8vIDIuMyBTYXZlIHdlYmNhbSBpbWFnZSBpZiBhdmFpbGFibGVcbiAgICBsZXQgd2ViY2FtUmVzdWx0ID0gbnVsbDtcbiAgICBpZiAod2ViY2FtSW1hZ2UpIHtcbiAgICAgIHdlYmNhbVJlc3VsdCA9IGF3YWl0IHNhdmVJbWFnZVRvU2VydmVyKHdlYmNhbUltYWdlLCB3ZWJjYW1GaWxlbmFtZSwgJ3dlYmNhbScsIGZvbGRlciwgY2FwdHVyZUdyb3VwSWQpO1xuICAgIH1cbiAgICBcbiAgICAvLyAzLiBTaG93IHByZXZpZXcgaWYgbmVlZGVkIC0gdXNlIHRoZSBsb3dlciByZXNvbHV0aW9uIHZlcnNpb24gZm9yIHByZXZpZXdcbiAgICBpZiAoc2hvd0NhcHR1cmVQcmV2aWV3ICYmIHR5cGVvZiBzaG93Q2FwdHVyZVByZXZpZXcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNob3dDYXB0dXJlUHJldmlldyhzY3JlZW5JbWFnZSwgd2ViY2FtSW1hZ2VQcmV2aWV3IHx8IHdlYmNhbUltYWdlLCBwb2ludCk7XG4gICAgfVxuICAgIFxuICAgIC8vIDQuIEluY3JlbWVudCBjb3VudGVyIGZvciBuZXh0IGNhcHR1cmVcbiAgICBpZiAoc2V0Q2FwdHVyZUNvdW50ICYmIHR5cGVvZiBzZXRDYXB0dXJlQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNldENhcHR1cmVDb3VudChwcmV2Q291bnQgPT4gcHJldkNvdW50ICsgMSk7XG4gICAgfVxuICAgIFxuICAgIC8vIDUuIFJldHVybiByZXN1bHRzIC0gbm93IGluY2x1ZGluZyB3ZWJjYW0gcmVzb2x1dGlvblxuICAgIHJldHVybiB7XG4gICAgICBzY3JlZW5JbWFnZSxcbiAgICAgIHdlYmNhbUltYWdlLFxuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHBvaW50LFxuICAgICAgY2FwdHVyZU51bWJlcixcbiAgICAgIGdyb3VwSWQ6IGNhcHR1cmVHcm91cElkLFxuICAgICAgd2ViY2FtV2lkdGgsXG4gICAgICB3ZWJjYW1IZWlnaHRcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiY2FwdHVyZUltYWdlc0F0UG9pbnQgZmFpbGVkOlwiLCBlcnIpO1xuICAgIHJldHVybiB7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxuICAgICAgc2NyZWVuSW1hZ2U6IG51bGwsXG4gICAgICB3ZWJjYW1JbWFnZTogbnVsbCxcbiAgICAgIHdlYmNhbVdpZHRoOiAwLFxuICAgICAgd2ViY2FtSGVpZ2h0OiAwXG4gICAgfTtcbiAgfVxufTsiXSwibmFtZXMiOlsicmVzaXplSW1hZ2UiLCJpbWFnZURhdGFVcmwiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsInF1YWxpdHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImltZyIsIkltYWdlIiwib25sb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwicmVzaXplZERhdGFVcmwiLCJ0b0RhdGFVUkwiLCJvbmVycm9yIiwiZXJyIiwic3JjIiwic2F2ZUltYWdlVG9TZXJ2ZXIiLCJpbWFnZURhdGEiLCJmaWxlbmFtZSIsInR5cGUiLCJmb2xkZXIiLCJjYXB0dXJlR3JvdXAiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJjb25zb2xlIiwiZXJyb3IiLCJzdGF0dXMiLCJ3YXJuIiwic2l6ZXMiLCJyZXNpemVkSW1hZ2UiLCJyZXRyeVJlc3BvbnNlIiwibG9nIiwianNvbiIsInJldHJ5RXJyb3IiLCJzdWNjZXNzIiwicmVzdWx0IiwibWVzc2FnZSIsInNhdmVDU1ZUb1NlcnZlciIsImNzdkRhdGEiLCJjc3ZCbG9iIiwiQmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJjc3ZEYXRhVXJsIiwib25sb2FkZW5kIiwicmVhZEFzRGF0YVVSTCIsImdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMiLCJ0ZW1wU3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJ2aWRlb1RyYWNrIiwiZ2V0VmlkZW9UcmFja3MiLCJjYXBhYmlsaXRpZXMiLCJnZXRDYXBhYmlsaXRpZXMiLCJzZXR0aW5ncyIsImdldFNldHRpbmdzIiwic3RvcCIsIm1heCIsImV4YWN0IiwiZnJhbWVSYXRlIiwiaWRlYWwiLCJyZXNvbHV0aW9ucyIsInJlc29sdXRpb24iLCJjb25zdHJhaW50cyIsImZhY2luZ01vZGUiLCJzdHJlYW0iLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJjYXB0dXJlSW1hZ2VzQXRQb2ludCIsInBvaW50IiwiY2FwdHVyZUNvdW50IiwiY2FudmFzUmVmIiwic2V0Q2FwdHVyZUNvdW50Iiwic2hvd0NhcHR1cmVQcmV2aWV3IiwiY2FwdHVyZUdyb3VwSWQiLCJEYXRlIiwibm93Iiwic2NyZWVuRmlsZW5hbWUiLCJ3ZWJjYW1GaWxlbmFtZSIsInBhcmFtZXRlckZpbGVuYW1lIiwiY3VycmVudCIsInNjcmVlbkltYWdlIiwid2ViY2FtSW1hZ2UiLCJjYXB0dXJlTnVtYmVyIiwid2ViY2FtV2lkdGgiLCJ3ZWJjYW1IZWlnaHQiLCJ3ZWJjYW1JbWFnZVByZXZpZXciLCJ2aWRlb0VsZW1lbnQiLCJ3aW5kb3ciLCJxdWVyeVNlbGVjdG9yIiwidHJhY2tTZXR0aW5ncyIsInNyY09iamVjdCIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsImdldENvbnN0cmFpbnRzIiwidGVtcENhbnZhcyIsInRlbXBWaWRlbyIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJhdXRvcGxheSIsImFwcGVuZENoaWxkIiwib25sb2FkZWRtZXRhZGF0YSIsInBsYXkiLCJzZXRUaW1lb3V0IiwicmVzIiwiYXNwZWN0UmF0aW8iLCJhYnMiLCJ0IiwicmVtb3ZlIiwiZmFsbGJhY2tFcnIiLCJ4IiwieSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInRvSVNPU3RyaW5nIiwiam9pbiIsInBhcmFtUmVzdWx0IiwibnVtYmVyIiwic2NyZWVuUmVzdWx0Iiwid2ViY2FtUmVzdWx0IiwicHJldkNvdW50IiwiZ3JvdXBJZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/consent/ConsentBanner.js":
/*!*********************************************!*\
  !*** ./components/consent/ConsentBanner.js ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConsentBanner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/Consent.module.css */ \"(pages-dir-node)/./styles/Consent.module.css\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ConsentContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__]);\n([_ConsentContext__WEBPACK_IMPORTED_MODULE_4__, _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/components/consent/ConsentBanner.js\n\n\n\n\n\n\nfunction ConsentBanner() {\n    const { showBanner, updateConsent } = (0,_ConsentContext__WEBPACK_IMPORTED_MODULE_4__.useConsent)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [cookieStatus, setCookieStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentBanner.useEffect\": ()=>{\n            const checkCookieStatus = {\n                \"ConsentBanner.useEffect.checkCookieStatus\": async ()=>{\n                    try {\n                        const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__.getOrCreateUserId)();\n                        const response = await fetch(`/api/user-preferences/${userId}`, {\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json',\n                                // 'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV',\n                                'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                            }\n                        });\n                        if (response.ok) {\n                            const data = await response.json();\n                            setCookieStatus(data.data?.cookie ?? false);\n                        } else {\n                            setCookieStatus(false);\n                        }\n                    } catch (error) {\n                        console.error('Error checking cookie status:', error);\n                        setCookieStatus(false);\n                    }\n                }\n            }[\"ConsentBanner.useEffect.checkCookieStatus\"];\n            checkCookieStatus();\n        }\n    }[\"ConsentBanner.useEffect\"], []);\n    // If banner shouldn't be shown or cookie is already accepted, return null\n    if (!showBanner || cookieStatus === true) return null;\n    const handleAccept = async ()=>{\n        setLoading(true);\n        try {\n            // Update consent status\n            await updateConsent(true);\n            // Get user ID\n            const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__.getOrCreateUserId)();\n            // Update user preferences with cookie acceptance\n            const response = await fetch(`/api/user-preferences/${userId}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                },\n                body: JSON.stringify({\n                    cookie: true\n                })\n            });\n            if (!response.ok) {\n                throw new Error('Failed to save cookie preferences');\n            }\n            setCookieStatus(true);\n            // Redirect to consent setup page\n            router.push('/preferences/consent-setup');\n        } catch (error) {\n            console.error('Error handling cookie acceptance:', error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleDecline = async ()=>{\n        setLoading(true);\n        try {\n            await updateConsent(false);\n            setCookieStatus(false);\n        } catch (error) {\n            console.error('Error handling cookie decline:', error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleLearnMore = ()=>{\n        router.push('/privacy-policy');\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerContainer),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerContent),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerText),\n                    children: '\\uD83C\\uDF6A We use cookies to collect information about how you interact with our site—like your preferences and usage data—to improve your experience. By clicking \"Accept\", you agree to our use of cookies.'\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                    lineNumber: 99,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButtons),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().acceptButton)}`,\n                            onClick: handleAccept,\n                            disabled: loading,\n                            children: loading ? 'Processing...' : 'Accept'\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                            lineNumber: 103,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().declineButton)}`,\n                            onClick: handleDecline,\n                            disabled: loading,\n                            children: \"Decline\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                            lineNumber: 110,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().learnMoreButton)}`,\n                            onClick: handleLearnMore,\n                            children: \"Learn more\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                            lineNumber: 117,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                    lineNumber: 102,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n            lineNumber: 98,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n        lineNumber: 97,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50QmFubmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0NBQStDOztBQUNIO0FBQ0o7QUFDYTtBQUNQO0FBQ2lCO0FBRWhELFNBQVNNO0lBQ3RCLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxhQUFhLEVBQUUsR0FBR0osMkRBQVVBO0lBQ2hELE1BQU0sQ0FBQ0ssU0FBU0MsV0FBVyxHQUFHViwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNVyxTQUFTVCxzREFBU0E7SUFDeEIsTUFBTSxDQUFDVSxjQUFjQyxnQkFBZ0IsR0FBR2IsK0NBQVFBLENBQUM7SUFFakRDLGdEQUFTQTttQ0FBQztZQUNSLE1BQU1hOzZEQUFvQjtvQkFDeEIsSUFBSTt3QkFDRixNQUFNQyxTQUFTVix3RUFBaUJBO3dCQUNoQyxNQUFNVyxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRUYsUUFBUSxFQUFFOzRCQUM5REcsU0FBUztnQ0FDUCxVQUFVO2dDQUNWLGdCQUFnQjtnQ0FDaEIsMEZBQTBGO2dDQUMxRixhQUFhQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQjs0QkFDOUM7d0JBQ0Y7d0JBRUEsSUFBSUwsU0FBU00sRUFBRSxFQUFFOzRCQUNmLE1BQU1DLE9BQU8sTUFBTVAsU0FBU1EsSUFBSTs0QkFDaENYLGdCQUFnQlUsS0FBS0EsSUFBSSxFQUFFRSxVQUFVO3dCQUN2QyxPQUFPOzRCQUNMWixnQkFBZ0I7d0JBQ2xCO29CQUNGLEVBQUUsT0FBT2EsT0FBTzt3QkFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7d0JBQy9DYixnQkFBZ0I7b0JBQ2xCO2dCQUNGOztZQUVBQztRQUNGO2tDQUFHLEVBQUU7SUFFTCwwRUFBMEU7SUFDMUUsSUFBSSxDQUFDUCxjQUFjSyxpQkFBaUIsTUFBTSxPQUFPO0lBRWpELE1BQU1nQixlQUFlO1FBQ25CbEIsV0FBVztRQUNYLElBQUk7WUFDRix3QkFBd0I7WUFDeEIsTUFBTUYsY0FBYztZQUVwQixjQUFjO1lBQ2QsTUFBTU8sU0FBU1Ysd0VBQWlCQTtZQUVoQyxpREFBaUQ7WUFDakQsTUFBTVcsV0FBVyxNQUFNQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVGLFFBQVEsRUFBRTtnQkFDOURjLFFBQVE7Z0JBQ1JYLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixhQUFhQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQjtnQkFDOUM7Z0JBQ0FTLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJQLFFBQVE7Z0JBQ1Y7WUFDRjtZQUVBLElBQUksQ0FBQ1QsU0FBU00sRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlXLE1BQU07WUFDbEI7WUFFQXBCLGdCQUFnQjtZQUNoQixpQ0FBaUM7WUFDakNGLE9BQU91QixJQUFJLENBQUM7UUFDZCxFQUFFLE9BQU9SLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDckQsU0FBVTtZQUNSaEIsV0FBVztRQUNiO0lBQ0Y7SUFFQSxNQUFNeUIsZ0JBQWdCO1FBQ3BCekIsV0FBVztRQUNYLElBQUk7WUFDRixNQUFNRixjQUFjO1lBQ3BCSyxnQkFBZ0I7UUFDbEIsRUFBRSxPQUFPYSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2xELFNBQVU7WUFDUmhCLFdBQVc7UUFDYjtJQUNGO0lBRUEsTUFBTTBCLGtCQUFrQjtRQUN0QnpCLE9BQU91QixJQUFJLENBQUM7SUFDZDtJQUVBLHFCQUNFLDhEQUFDRztRQUFJQyxXQUFXbkMsbUZBQXNCO2tCQUNwQyw0RUFBQ2tDO1lBQUlDLFdBQVduQyxpRkFBb0I7OzhCQUNsQyw4REFBQ3NDO29CQUFLSCxXQUFXbkMsOEVBQWlCOzhCQUFFOzs7Ozs7OEJBR3BDLDhEQUFDa0M7b0JBQUlDLFdBQVduQyxpRkFBb0I7O3NDQUNsQyw4REFBQ3lDOzRCQUNDTixXQUFXLEdBQUduQyxnRkFBbUIsQ0FBQyxDQUFDLEVBQUVBLGdGQUFtQixFQUFFOzRCQUMxRDRDLFNBQVNuQjs0QkFDVG9CLFVBQVV2QztzQ0FFVEEsVUFBVSxrQkFBa0I7Ozs7OztzQ0FFL0IsOERBQUNtQzs0QkFDQ04sV0FBVyxHQUFHbkMsZ0ZBQW1CLENBQUMsQ0FBQyxFQUFFQSxpRkFBb0IsRUFBRTs0QkFDM0Q0QyxTQUFTWjs0QkFDVGEsVUFBVXZDO3NDQUNYOzs7Ozs7c0NBR0QsOERBQUNtQzs0QkFDQ04sV0FBVyxHQUFHbkMsZ0ZBQW1CLENBQUMsQ0FBQyxFQUFFQSxtRkFBc0IsRUFBRTs0QkFDN0Q0QyxTQUFTWDtzQ0FDVjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPWCIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50QmFubmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZyb250ZW5kL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50QmFubmVyLmpzXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi8uLi9zdHlsZXMvQ29uc2VudC5tb2R1bGUuY3NzJztcbmltcG9ydCB7IHVzZUNvbnNlbnQgfSBmcm9tICcuL0NvbnNlbnRDb250ZXh0JztcbmltcG9ydCB7IGdldE9yQ3JlYXRlVXNlcklkIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29uc2VudE1hbmFnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25zZW50QmFubmVyKCkge1xuICBjb25zdCB7IHNob3dCYW5uZXIsIHVwZGF0ZUNvbnNlbnQgfSA9IHVzZUNvbnNlbnQoKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2Nvb2tpZVN0YXR1cywgc2V0Q29va2llU3RhdHVzXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tDb29raWVTdGF0dXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VySWQgPSBnZXRPckNyZWF0ZVVzZXJJZCgpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXItcHJlZmVyZW5jZXMvJHt1c2VySWR9YCwge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgLy8gJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVicsXG4gICAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSBcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgc2V0Q29va2llU3RhdHVzKGRhdGEuZGF0YT8uY29va2llID8/IGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRDb29raWVTdGF0dXMoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBjb29raWUgc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgc2V0Q29va2llU3RhdHVzKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY2hlY2tDb29raWVTdGF0dXMoKTtcbiAgfSwgW10pO1xuXG4gIC8vIElmIGJhbm5lciBzaG91bGRuJ3QgYmUgc2hvd24gb3IgY29va2llIGlzIGFscmVhZHkgYWNjZXB0ZWQsIHJldHVybiBudWxsXG4gIGlmICghc2hvd0Jhbm5lciB8fCBjb29raWVTdGF0dXMgPT09IHRydWUpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGhhbmRsZUFjY2VwdCA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBVcGRhdGUgY29uc2VudCBzdGF0dXNcbiAgICAgIGF3YWl0IHVwZGF0ZUNvbnNlbnQodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIEdldCB1c2VyIElEXG4gICAgICBjb25zdCB1c2VySWQgPSBnZXRPckNyZWF0ZVVzZXJJZCgpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdXNlciBwcmVmZXJlbmNlcyB3aXRoIGNvb2tpZSBhY2NlcHRhbmNlXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXItcHJlZmVyZW5jZXMvJHt1c2VySWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGNvb2tpZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBjb29raWUgcHJlZmVyZW5jZXMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0Q29va2llU3RhdHVzKHRydWUpO1xuICAgICAgLy8gUmVkaXJlY3QgdG8gY29uc2VudCBzZXR1cCBwYWdlXG4gICAgICByb3V0ZXIucHVzaCgnL3ByZWZlcmVuY2VzL2NvbnNlbnQtc2V0dXAnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgY29va2llIGFjY2VwdGFuY2U6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVjbGluZSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1cGRhdGVDb25zZW50KGZhbHNlKTtcbiAgICAgIHNldENvb2tpZVN0YXR1cyhmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIGNvb2tpZSBkZWNsaW5lOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUxlYXJuTW9yZSA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnL3ByaXZhY3ktcG9saWN5Jyk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJhbm5lckNvbnRhaW5lcn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJhbm5lckNvbnRlbnR9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5iYW5uZXJUZXh0fT5cbiAgICAgICAgICDwn42qIFdlIHVzZSBjb29raWVzIHRvIGNvbGxlY3QgaW5mb3JtYXRpb24gYWJvdXQgaG93IHlvdSBpbnRlcmFjdCB3aXRoIG91ciBzaXRl4oCUbGlrZSB5b3VyIHByZWZlcmVuY2VzIGFuZCB1c2FnZSBkYXRh4oCUdG8gaW1wcm92ZSB5b3VyIGV4cGVyaWVuY2UuIEJ5IGNsaWNraW5nIFwiQWNjZXB0XCIsIHlvdSBhZ3JlZSB0byBvdXIgdXNlIG9mIGNvb2tpZXMuXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5iYW5uZXJCdXR0b25zfT5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZXMuYmFubmVyQnV0dG9ufSAke3N0eWxlcy5hY2NlcHRCdXR0b259YH0gXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBY2NlcHR9XG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bG9hZGluZyA/ICdQcm9jZXNzaW5nLi4uJyA6ICdBY2NlcHQnfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5iYW5uZXJCdXR0b259ICR7c3R5bGVzLmRlY2xpbmVCdXR0b259YH0gXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWNsaW5lfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGVjbGluZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5iYW5uZXJCdXR0b259ICR7c3R5bGVzLmxlYXJuTW9yZUJ1dHRvbn1gfVxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTGVhcm5Nb3JlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIExlYXJuIG1vcmVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJzdHlsZXMiLCJ1c2VDb25zZW50IiwiZ2V0T3JDcmVhdGVVc2VySWQiLCJDb25zZW50QmFubmVyIiwic2hvd0Jhbm5lciIsInVwZGF0ZUNvbnNlbnQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJvdXRlciIsImNvb2tpZVN0YXR1cyIsInNldENvb2tpZVN0YXR1cyIsImNoZWNrQ29va2llU3RhdHVzIiwidXNlcklkIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb29raWUiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVBY2NlcHQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIkVycm9yIiwicHVzaCIsImhhbmRsZURlY2xpbmUiLCJoYW5kbGVMZWFybk1vcmUiLCJkaXYiLCJjbGFzc05hbWUiLCJiYW5uZXJDb250YWluZXIiLCJiYW5uZXJDb250ZW50Iiwic3BhbiIsImJhbm5lclRleHQiLCJiYW5uZXJCdXR0b25zIiwiYnV0dG9uIiwiYmFubmVyQnV0dG9uIiwiYWNjZXB0QnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiZGVjbGluZUJ1dHRvbiIsImxlYXJuTW9yZUJ1dHRvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/consent/ConsentBanner.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/consent/ConsentContext.js":
/*!**********************************************!*\
  !*** ./components/consent/ConsentContext.js ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsentProvider: () => (/* binding */ ConsentProvider),\n/* harmony export */   useConsent: () => (/* binding */ useConsent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__]);\n_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// frontend/components/consent/ConsentContext.js\n\n\n\nconst ConsentContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Check if running on localhost\nconst isLocalhost = ()=>{\n    if (true) return false;\n    return window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n};\nfunction ConsentProvider({ children }) {\n    const [consentState, setConsentState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        loading: true,\n        userId: null,\n        consentStatus: null,\n        consentUpdatedAt: null,\n        consentDetails: null,\n        showBanner: true\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentProvider.useEffect\": ()=>{\n            // Get consent data from cookies\n            const initializeConsent = {\n                \"ConsentProvider.useEffect.initializeConsent\": async ()=>{\n                    try {\n                        // If running on localhost, automatically set consent\n                        if (isLocalhost()) {\n                            const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getOrCreateUserId)();\n                            const autoConsentData = {\n                                userId,\n                                consentStatus: true,\n                                consentUpdatedAt: new Date().toISOString(),\n                                consentDetails: {\n                                    userId,\n                                    status: true,\n                                    timestamp: new Date().toISOString(),\n                                    autoEnabled: true\n                                }\n                            };\n                            // Update cookies with auto-consent\n                            await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.updateUserConsent)(true, {\n                                userId\n                            });\n                            setConsentState({\n                                loading: false,\n                                userId: autoConsentData.userId,\n                                consentStatus: true,\n                                consentUpdatedAt: autoConsentData.consentUpdatedAt,\n                                consentDetails: autoConsentData.consentDetails,\n                                showBanner: false\n                            });\n                            console.log('Auto-enabled consent for localhost:', autoConsentData);\n                            return;\n                        }\n                        // Normal flow for non-localhost\n                        const consentData = await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getUserConsent)();\n                        console.log('Initial consent data:', consentData);\n                        if (!consentData || consentData.consentStatus === null) {\n                            setConsentState({\n                                loading: false,\n                                userId: null,\n                                consentStatus: null,\n                                consentUpdatedAt: null,\n                                consentDetails: null,\n                                showBanner: true\n                            });\n                            return;\n                        }\n                        setConsentState({\n                            loading: false,\n                            userId: consentData.userId,\n                            consentStatus: consentData.consentStatus,\n                            consentUpdatedAt: consentData.consentUpdatedAt,\n                            consentDetails: consentData.consentDetails,\n                            showBanner: false\n                        });\n                    } catch (error) {\n                        console.error('Error initializing consent:', error);\n                        setConsentState({\n                            loading: false,\n                            userId: null,\n                            consentStatus: null,\n                            consentUpdatedAt: null,\n                            consentDetails: null,\n                            showBanner: true\n                        });\n                    }\n                }\n            }[\"ConsentProvider.useEffect.initializeConsent\"];\n            initializeConsent();\n        }\n    }[\"ConsentProvider.useEffect\"], []);\n    const updateConsent = async (status)=>{\n        try {\n            const userId = consentState.userId || (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getOrCreateUserId)();\n            console.log('Updating consent with userId:', userId);\n            const updatedConsent = await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.updateUserConsent)(status, {\n                userId\n            });\n            console.log('Updated consent data:', updatedConsent);\n            setConsentState((prev)=>({\n                    ...prev,\n                    userId: updatedConsent.userId,\n                    consentStatus: updatedConsent.consentStatus,\n                    consentUpdatedAt: updatedConsent.consentUpdatedAt,\n                    consentDetails: updatedConsent.consentDetails,\n                    showBanner: false\n                }));\n            return true;\n        } catch (error) {\n            console.error('Error updating consent:', error);\n            return false;\n        }\n    };\n    const toggleBanner = (show)=>{\n        setConsentState((prev)=>({\n                ...prev,\n                showBanner: show\n            }));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConsentContext.Provider, {\n        value: {\n            ...consentState,\n            updateConsent,\n            toggleBanner\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentContext.js\",\n        lineNumber: 130,\n        columnNumber: 5\n    }, this);\n}\nfunction useConsent() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConsentContext);\n    if (context === undefined) {\n        throw new Error('useConsent must be used within a ConsentProvider');\n    }\n    return context;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50Q29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsZ0RBQWdEOztBQUN1QjtBQUMyQjtBQUVsRyxNQUFNTywrQkFBaUJQLG9EQUFhQTtBQUVwQyxnQ0FBZ0M7QUFDaEMsTUFBTVEsY0FBYztJQUNsQixJQUFJLElBQTZCLEVBQUUsT0FBTztJQUMxQyxPQUFPQyxPQUFPQyxRQUFRLENBQUNDLFFBQVEsS0FBSyxlQUFlRixPQUFPQyxRQUFRLENBQUNDLFFBQVEsS0FBSztBQUNsRjtBQUVPLFNBQVNDLGdCQUFnQixFQUFFQyxRQUFRLEVBQUU7SUFDMUMsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR2IsK0NBQVFBLENBQUM7UUFDL0NjLFNBQVM7UUFDVEMsUUFBUTtRQUNSQyxlQUFlO1FBQ2ZDLGtCQUFrQjtRQUNsQkMsZ0JBQWdCO1FBQ2hCQyxZQUFZO0lBQ2Q7SUFFQWxCLGdEQUFTQTtxQ0FBQztZQUNSLGdDQUFnQztZQUNoQyxNQUFNbUI7K0RBQW9CO29CQUN4QixJQUFJO3dCQUNGLHFEQUFxRDt3QkFDckQsSUFBSWQsZUFBZTs0QkFDakIsTUFBTVMsU0FBU1gsd0VBQWlCQTs0QkFDaEMsTUFBTWlCLGtCQUFrQjtnQ0FDdEJOO2dDQUNBQyxlQUFlO2dDQUNmQyxrQkFBa0IsSUFBSUssT0FBT0MsV0FBVztnQ0FDeENMLGdCQUFnQjtvQ0FDZEg7b0NBQ0FTLFFBQVE7b0NBQ1JDLFdBQVcsSUFBSUgsT0FBT0MsV0FBVztvQ0FDakNHLGFBQWE7Z0NBQ2Y7NEJBQ0Y7NEJBRUEsbUNBQW1DOzRCQUNuQyxNQUFNdkIsd0VBQWlCQSxDQUFDLE1BQU07Z0NBQUVZOzRCQUFPOzRCQUV2Q0YsZ0JBQWdCO2dDQUNkQyxTQUFTO2dDQUNUQyxRQUFRTSxnQkFBZ0JOLE1BQU07Z0NBQzlCQyxlQUFlO2dDQUNmQyxrQkFBa0JJLGdCQUFnQkosZ0JBQWdCO2dDQUNsREMsZ0JBQWdCRyxnQkFBZ0JILGNBQWM7Z0NBQzlDQyxZQUFZOzRCQUNkOzRCQUVBUSxRQUFRQyxHQUFHLENBQUMsdUNBQXVDUDs0QkFDbkQ7d0JBQ0Y7d0JBRUEsZ0NBQWdDO3dCQUNoQyxNQUFNUSxjQUFjLE1BQU0zQixxRUFBY0E7d0JBQ3hDeUIsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QkM7d0JBRXJDLElBQUksQ0FBQ0EsZUFBZUEsWUFBWWIsYUFBYSxLQUFLLE1BQU07NEJBQ3RESCxnQkFBZ0I7Z0NBQ2RDLFNBQVM7Z0NBQ1RDLFFBQVE7Z0NBQ1JDLGVBQWU7Z0NBQ2ZDLGtCQUFrQjtnQ0FDbEJDLGdCQUFnQjtnQ0FDaEJDLFlBQVk7NEJBQ2Q7NEJBQ0E7d0JBQ0Y7d0JBRUFOLGdCQUFnQjs0QkFDZEMsU0FBUzs0QkFDVEMsUUFBUWMsWUFBWWQsTUFBTTs0QkFDMUJDLGVBQWVhLFlBQVliLGFBQWE7NEJBQ3hDQyxrQkFBa0JZLFlBQVlaLGdCQUFnQjs0QkFDOUNDLGdCQUFnQlcsWUFBWVgsY0FBYzs0QkFDMUNDLFlBQVk7d0JBQ2Q7b0JBQ0YsRUFBRSxPQUFPVyxPQUFPO3dCQUNkSCxRQUFRRyxLQUFLLENBQUMsK0JBQStCQTt3QkFDN0NqQixnQkFBZ0I7NEJBQ2RDLFNBQVM7NEJBQ1RDLFFBQVE7NEJBQ1JDLGVBQWU7NEJBQ2ZDLGtCQUFrQjs0QkFDbEJDLGdCQUFnQjs0QkFDaEJDLFlBQVk7d0JBQ2Q7b0JBQ0Y7Z0JBQ0Y7O1lBRUFDO1FBQ0Y7b0NBQUcsRUFBRTtJQUVMLE1BQU1XLGdCQUFnQixPQUFPUDtRQUMzQixJQUFJO1lBQ0YsTUFBTVQsU0FBU0gsYUFBYUcsTUFBTSxJQUFJWCx3RUFBaUJBO1lBQ3ZEdUIsUUFBUUMsR0FBRyxDQUFDLGlDQUFpQ2I7WUFFN0MsTUFBTWlCLGlCQUFpQixNQUFNN0Isd0VBQWlCQSxDQUFDcUIsUUFBUTtnQkFBRVQ7WUFBTztZQUNoRVksUUFBUUMsR0FBRyxDQUFDLHlCQUF5Qkk7WUFFckNuQixnQkFBZ0JvQixDQUFBQSxPQUFTO29CQUN2QixHQUFHQSxJQUFJO29CQUNQbEIsUUFBUWlCLGVBQWVqQixNQUFNO29CQUM3QkMsZUFBZWdCLGVBQWVoQixhQUFhO29CQUMzQ0Msa0JBQWtCZSxlQUFlZixnQkFBZ0I7b0JBQ2pEQyxnQkFBZ0JjLGVBQWVkLGNBQWM7b0JBQzdDQyxZQUFZO2dCQUNkO1lBRUEsT0FBTztRQUNULEVBQUUsT0FBT1csT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMsMkJBQTJCQTtZQUN6QyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE1BQU1JLGVBQWUsQ0FBQ0M7UUFDcEJ0QixnQkFBZ0JvQixDQUFBQSxPQUFTO2dCQUN2QixHQUFHQSxJQUFJO2dCQUNQZCxZQUFZZ0I7WUFDZDtJQUNGO0lBRUEscUJBQ0UsOERBQUM5QixlQUFlK0IsUUFBUTtRQUN0QkMsT0FBTztZQUNMLEdBQUd6QixZQUFZO1lBQ2ZtQjtZQUNBRztRQUNGO2tCQUVDdkI7Ozs7OztBQUdQO0FBRU8sU0FBUzJCO0lBQ2QsTUFBTUMsVUFBVXhDLGlEQUFVQSxDQUFDTTtJQUMzQixJQUFJa0MsWUFBWUMsV0FBVztRQUN6QixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFDQSxPQUFPRjtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvY29tcG9uZW50cy9jb25zZW50L0NvbnNlbnRDb250ZXh0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZyb250ZW5kL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50Q29udGV4dC5qc1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldFVzZXJDb25zZW50LCB1cGRhdGVVc2VyQ29uc2VudCwgZ2V0T3JDcmVhdGVVc2VySWQgfSBmcm9tICcuLi8uLi91dGlscy9jb25zZW50TWFuYWdlcic7XG5cbmNvbnN0IENvbnNlbnRDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG4vLyBDaGVjayBpZiBydW5uaW5nIG9uIGxvY2FsaG9zdFxuY29uc3QgaXNMb2NhbGhvc3QgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICcxMjcuMC4wLjEnO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIENvbnNlbnRQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgW2NvbnNlbnRTdGF0ZSwgc2V0Q29uc2VudFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBsb2FkaW5nOiB0cnVlLFxuICAgIHVzZXJJZDogbnVsbCxcbiAgICBjb25zZW50U3RhdHVzOiBudWxsLFxuICAgIGNvbnNlbnRVcGRhdGVkQXQ6IG51bGwsXG4gICAgY29uc2VudERldGFpbHM6IG51bGwsXG4gICAgc2hvd0Jhbm5lcjogdHJ1ZSxcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBHZXQgY29uc2VudCBkYXRhIGZyb20gY29va2llc1xuICAgIGNvbnN0IGluaXRpYWxpemVDb25zZW50ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gSWYgcnVubmluZyBvbiBsb2NhbGhvc3QsIGF1dG9tYXRpY2FsbHkgc2V0IGNvbnNlbnRcbiAgICAgICAgaWYgKGlzTG9jYWxob3N0KCkpIHtcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSBnZXRPckNyZWF0ZVVzZXJJZCgpO1xuICAgICAgICAgIGNvbnN0IGF1dG9Db25zZW50RGF0YSA9IHtcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgIGNvbnNlbnRTdGF0dXM6IHRydWUsXG4gICAgICAgICAgICBjb25zZW50VXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBjb25zZW50RGV0YWlsczoge1xuICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIGF1dG9FbmFibGVkOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSBjb29raWVzIHdpdGggYXV0by1jb25zZW50XG4gICAgICAgICAgYXdhaXQgdXBkYXRlVXNlckNvbnNlbnQodHJ1ZSwgeyB1c2VySWQgfSk7XG5cbiAgICAgICAgICBzZXRDb25zZW50U3RhdGUoe1xuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICB1c2VySWQ6IGF1dG9Db25zZW50RGF0YS51c2VySWQsXG4gICAgICAgICAgICBjb25zZW50U3RhdHVzOiB0cnVlLFxuICAgICAgICAgICAgY29uc2VudFVwZGF0ZWRBdDogYXV0b0NvbnNlbnREYXRhLmNvbnNlbnRVcGRhdGVkQXQsXG4gICAgICAgICAgICBjb25zZW50RGV0YWlsczogYXV0b0NvbnNlbnREYXRhLmNvbnNlbnREZXRhaWxzLFxuICAgICAgICAgICAgc2hvd0Jhbm5lcjogZmFsc2VcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRvLWVuYWJsZWQgY29uc2VudCBmb3IgbG9jYWxob3N0OicsIGF1dG9Db25zZW50RGF0YSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm9ybWFsIGZsb3cgZm9yIG5vbi1sb2NhbGhvc3RcbiAgICAgICAgY29uc3QgY29uc2VudERhdGEgPSBhd2FpdCBnZXRVc2VyQ29uc2VudCgpO1xuICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbCBjb25zZW50IGRhdGE6JywgY29uc2VudERhdGEpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFjb25zZW50RGF0YSB8fCBjb25zZW50RGF0YS5jb25zZW50U3RhdHVzID09PSBudWxsKSB7XG4gICAgICAgICAgc2V0Q29uc2VudFN0YXRlKHtcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgdXNlcklkOiBudWxsLFxuICAgICAgICAgICAgY29uc2VudFN0YXR1czogbnVsbCxcbiAgICAgICAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IG51bGwsXG4gICAgICAgICAgICBjb25zZW50RGV0YWlsczogbnVsbCxcbiAgICAgICAgICAgIHNob3dCYW5uZXI6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldENvbnNlbnRTdGF0ZSh7XG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgdXNlcklkOiBjb25zZW50RGF0YS51c2VySWQsXG4gICAgICAgICAgY29uc2VudFN0YXR1czogY29uc2VudERhdGEuY29uc2VudFN0YXR1cyxcbiAgICAgICAgICBjb25zZW50VXBkYXRlZEF0OiBjb25zZW50RGF0YS5jb25zZW50VXBkYXRlZEF0LFxuICAgICAgICAgIGNvbnNlbnREZXRhaWxzOiBjb25zZW50RGF0YS5jb25zZW50RGV0YWlscyxcbiAgICAgICAgICBzaG93QmFubmVyOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBjb25zZW50OicsIGVycm9yKTtcbiAgICAgICAgc2V0Q29uc2VudFN0YXRlKHtcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICB1c2VySWQ6IG51bGwsXG4gICAgICAgICAgY29uc2VudFN0YXR1czogbnVsbCxcbiAgICAgICAgICBjb25zZW50VXBkYXRlZEF0OiBudWxsLFxuICAgICAgICAgIGNvbnNlbnREZXRhaWxzOiBudWxsLFxuICAgICAgICAgIHNob3dCYW5uZXI6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGluaXRpYWxpemVDb25zZW50KCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCB1cGRhdGVDb25zZW50ID0gYXN5bmMgKHN0YXR1cykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VySWQgPSBjb25zZW50U3RhdGUudXNlcklkIHx8IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgY29uc2VudCB3aXRoIHVzZXJJZDonLCB1c2VySWQpO1xuICAgICAgXG4gICAgICBjb25zdCB1cGRhdGVkQ29uc2VudCA9IGF3YWl0IHVwZGF0ZVVzZXJDb25zZW50KHN0YXR1cywgeyB1c2VySWQgfSk7XG4gICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBjb25zZW50IGRhdGE6JywgdXBkYXRlZENvbnNlbnQpO1xuICAgICAgXG4gICAgICBzZXRDb25zZW50U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICB1c2VySWQ6IHVwZGF0ZWRDb25zZW50LnVzZXJJZCxcbiAgICAgICAgY29uc2VudFN0YXR1czogdXBkYXRlZENvbnNlbnQuY29uc2VudFN0YXR1cyxcbiAgICAgICAgY29uc2VudFVwZGF0ZWRBdDogdXBkYXRlZENvbnNlbnQuY29uc2VudFVwZGF0ZWRBdCxcbiAgICAgICAgY29uc2VudERldGFpbHM6IHVwZGF0ZWRDb25zZW50LmNvbnNlbnREZXRhaWxzLFxuICAgICAgICBzaG93QmFubmVyOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgY29uc2VudDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUJhbm5lciA9IChzaG93KSA9PiB7XG4gICAgc2V0Q29uc2VudFN0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBzaG93QmFubmVyOiBzaG93XG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENvbnNlbnRDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICAuLi5jb25zZW50U3RhdGUsXG4gICAgICAgIHVwZGF0ZUNvbnNlbnQsXG4gICAgICAgIHRvZ2dsZUJhbm5lclxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Db25zZW50Q29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnNlbnQoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KENvbnNlbnRDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQ29uc2VudCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQ29uc2VudFByb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJnZXRVc2VyQ29uc2VudCIsInVwZGF0ZVVzZXJDb25zZW50IiwiZ2V0T3JDcmVhdGVVc2VySWQiLCJDb25zZW50Q29udGV4dCIsImlzTG9jYWxob3N0Iiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsIkNvbnNlbnRQcm92aWRlciIsImNoaWxkcmVuIiwiY29uc2VudFN0YXRlIiwic2V0Q29uc2VudFN0YXRlIiwibG9hZGluZyIsInVzZXJJZCIsImNvbnNlbnRTdGF0dXMiLCJjb25zZW50VXBkYXRlZEF0IiwiY29uc2VudERldGFpbHMiLCJzaG93QmFubmVyIiwiaW5pdGlhbGl6ZUNvbnNlbnQiLCJhdXRvQ29uc2VudERhdGEiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzdGF0dXMiLCJ0aW1lc3RhbXAiLCJhdXRvRW5hYmxlZCIsImNvbnNvbGUiLCJsb2ciLCJjb25zZW50RGF0YSIsImVycm9yIiwidXBkYXRlQ29uc2VudCIsInVwZGF0ZWRDb25zZW50IiwicHJldiIsInRvZ2dsZUJhbm5lciIsInNob3ciLCJQcm92aWRlciIsInZhbHVlIiwidXNlQ29uc2VudCIsImNvbnRleHQiLCJ1bmRlZmluZWQiLCJFcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/consent/ConsentContext.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/layout/Layout.js":
/*!*************************************!*\
  !*** ./components/layout/Layout.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"(pages-dir-node)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../consent/ConsentBanner */ \"(pages-dir-node)/./components/consent/ConsentBanner.js\");\n/* harmony import */ var _UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../UserProfileSidebar */ \"(pages-dir-node)/./components/UserProfileSidebar.js\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../styles/Consent.module.css */ \"(pages-dir-node)/./styles/Consent.module.css\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__, _UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__, _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__]);\n([_consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__, _UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__, _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/components/layout/Layout.js\n\n\n\n\n\n\nfunction Layout({ children, title = 'Eye Tracking App' }) {\n    const { showBanner } = (0,_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__.useConsent)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: title\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                        lineNumber: 14,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Eye tracking application with multiple models\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                        lineNumber: 15,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                        lineNumber: 16,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default().mainContent)} ${showBanner ? (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default().withBanner) : ''}`,\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 22,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 27,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvbGF5b3V0L0xheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsdUNBQXVDOztBQUNWO0FBQ3dCO0FBQ0U7QUFDRjtBQUNFO0FBRXhDLFNBQVNLLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLGtCQUFrQixFQUFFO0lBQ3JFLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdKLG1FQUFVQTtJQUVqQyxxQkFDRTs7MEJBQ0UsOERBQUNKLGtEQUFJQTs7a0NBQ0gsOERBQUNPO2tDQUFPQTs7Ozs7O2tDQUNSLDhEQUFDRTt3QkFBS0MsTUFBSzt3QkFBY0MsU0FBUTs7Ozs7O2tDQUNqQyw4REFBQ0M7d0JBQUtDLEtBQUk7d0JBQU9DLE1BQUs7Ozs7Ozs7Ozs7OzswQkFJeEIsOERBQUNiLDhEQUFhQTs7Ozs7MEJBRWQsOERBQUNjO2dCQUFLQyxXQUFXLEdBQUdiLCtFQUFrQixDQUFDLENBQUMsRUFBRUssYUFBYUwsOEVBQWlCLEdBQUcsSUFBSTswQkFDNUVHOzs7Ozs7MEJBSUgsOERBQUNKLDJEQUFrQkE7Ozs7Ozs7QUFHekIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9jb21wb25lbnRzL2xheW91dC9MYXlvdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZnJvbnRlbmQvY29tcG9uZW50cy9sYXlvdXQvTGF5b3V0LmpzXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IENvbnNlbnRCYW5uZXIgZnJvbSAnLi4vY29uc2VudC9Db25zZW50QmFubmVyJztcbmltcG9ydCBVc2VyUHJvZmlsZVNpZGViYXIgZnJvbSAnLi4vVXNlclByb2ZpbGVTaWRlYmFyJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vLi4vc3R5bGVzL0NvbnNlbnQubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi4vY29uc2VudC9Db25zZW50Q29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExheW91dCh7IGNoaWxkcmVuLCB0aXRsZSA9ICdFeWUgVHJhY2tpbmcgQXBwJyB9KSB7XG4gIGNvbnN0IHsgc2hvd0Jhbm5lciB9ID0gdXNlQ29uc2VudCgpO1xuICBcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT57dGl0bGV9PC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIkV5ZSB0cmFja2luZyBhcHBsaWNhdGlvbiB3aXRoIG11bHRpcGxlIG1vZGVsc1wiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cImljb25cIiBocmVmPVwiL2Zhdmljb24uaWNvXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIFxuICAgICAgey8qIENvb2tpZSBjb25zZW50IGJhbm5lciBhdCB0aGUgdG9wICovfVxuICAgICAgPENvbnNlbnRCYW5uZXIgLz5cbiAgICAgIFxuICAgICAgPG1haW4gY2xhc3NOYW1lPXtgJHtzdHlsZXMubWFpbkNvbnRlbnR9ICR7c2hvd0Jhbm5lciA/IHN0eWxlcy53aXRoQmFubmVyIDogJyd9YH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvbWFpbj5cblxuICAgICAgey8qIFVzZXIgUHJvZmlsZSBTaWRlYmFyICovfVxuICAgICAgPFVzZXJQcm9maWxlU2lkZWJhciAvPlxuICAgIDwvPlxuICApO1xufSJdLCJuYW1lcyI6WyJIZWFkIiwiQ29uc2VudEJhbm5lciIsIlVzZXJQcm9maWxlU2lkZWJhciIsInN0eWxlcyIsInVzZUNvbnNlbnQiLCJMYXlvdXQiLCJjaGlsZHJlbiIsInRpdGxlIiwic2hvd0Jhbm5lciIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImxpbmsiLCJyZWwiLCJocmVmIiwibWFpbiIsImNsYXNzTmFtZSIsIm1haW5Db250ZW50Iiwid2l0aEJhbm5lciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/layout/Layout.js\n");

/***/ }),

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./pages/_app.js\");\n/* harmony import */ var _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/collected-dataset-customized/index.js */ \"(pages-dir-node)/./pages/collected-dataset-customized/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/collected-dataset-customized\",\n        pathname: \"/collected-dataset-customized\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkJTJGaW5kZXguanMmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RjtBQUNoQztBQUNFO0FBQzFEO0FBQ3lEO0FBQ1Y7QUFDL0M7QUFDMEU7QUFDMUU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHlFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLHlFQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLHlFQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLHlFQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyx5RUFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyx5RUFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLHlFQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLHlFQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLHlFQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLHlFQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLHlFQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLGtHQUFnQjtBQUMvQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYSw4REFBVztBQUN4QixrQkFBa0Isb0VBQWdCO0FBQ2xDLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxpQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCAqIGFzIGRvY3VtZW50IGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2RvY3VtZW50XCI7XG5pbXBvcnQgKiBhcyBhcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2luZGV4LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGNvbXBvbmVudCAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U2VydmVyU2lkZVByb3BzJyk7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgJ3JlcG9ydFdlYlZpdGFscycpO1xuLy8gUmUtZXhwb3J0IGxlZ2FjeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFNlcnZlclByb3BzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICAvLyBkZWZhdWx0IGV4cG9ydCBtaWdodCBub3QgZXhpc3Qgd2hlbiBvcHRpbWl6ZWQgZm9yIGRhdGEgb25seVxuICAgICAgICBBcHA6IGFwcC5kZWZhdWx0LFxuICAgICAgICBEb2N1bWVudDogZG9jdW1lbnQuZGVmYXVsdFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collected-dataset/styles/main.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/main.css\");\n/* harmony import */ var _collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collected-dataset/styles/camera.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/camera.css\");\n/* harmony import */ var _collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collected-dataset/styles/topbar.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/topbar.css\");\n/* harmony import */ var _collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/Home.module.css */ \"(pages-dir-node)/./styles/Home.module.css\");\n/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./collected-dataset/styles/control-buttons.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/control-buttons.css\");\n/* harmony import */ var _collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_stateManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/stateManager */ \"(pages-dir-node)/./utils/stateManager.js\");\n/* harmony import */ var _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\n/* harmony import */ var _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/layout/Layout */ \"(pages-dir-node)/./components/layout/Layout.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__, _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__]);\n([_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__, _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// pages/_app.js\n\n\n\n\n\n\n\n\n// import ConnectionStatusIndicator from '../components/ConnectionStatusIndicator';\n\n// import { generateCalibrationPoints } from '../components/collected-dataset-customized/Action/CalibratePoints';\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_utils_stateManager__WEBPACK_IMPORTED_MODULE_6__.ProcessStatusProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_utils_stateManager__WEBPACK_IMPORTED_MODULE_6__.BackendConnectionProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__.ConsentProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                        ...pageProps\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n                        lineNumber: 20,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n                    lineNumber: 18,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n                lineNumber: 17,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL19hcHAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdCQUFnQjs7QUFDNkI7QUFDRTtBQUNBO0FBQ1o7QUFDcUI7QUFDaUM7QUFDbEI7QUFDdkUsbUZBQW1GO0FBQ2xDO0FBQ2pELGlIQUFpSDtBQUVqSCxTQUFTSSxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFO0lBQ3JDLHFCQUNFLDhEQUFDTixzRUFBcUJBO2tCQUNwQiw0RUFBQ0MsMEVBQXlCQTtzQkFDeEIsNEVBQUNDLCtFQUFlQTswQkFDZCw0RUFBQ0MsaUVBQU1BOzhCQUVMLDRFQUFDRTt3QkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1wQztBQUVBLGlFQUFlRixLQUFLQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvcGFnZXMvX2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9fYXBwLmpzXG5pbXBvcnQgJy4vY29sbGVjdGVkLWRhdGFzZXQvc3R5bGVzL21haW4uY3NzJztcbmltcG9ydCAnLi9jb2xsZWN0ZWQtZGF0YXNldC9zdHlsZXMvY2FtZXJhLmNzcyc7XG5pbXBvcnQgJy4vY29sbGVjdGVkLWRhdGFzZXQvc3R5bGVzL3RvcGJhci5jc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMvSG9tZS5tb2R1bGUuY3NzJztcbmltcG9ydCAnLi9jb2xsZWN0ZWQtZGF0YXNldC9zdHlsZXMvY29udHJvbC1idXR0b25zLmNzcyc7XG5pbXBvcnQgeyBQcm9jZXNzU3RhdHVzUHJvdmlkZXIsIEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXIgfSBmcm9tICcuLi91dGlscy9zdGF0ZU1hbmFnZXInO1xuaW1wb3J0IHsgQ29uc2VudFByb3ZpZGVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb25zZW50L0NvbnNlbnRDb250ZXh0Jztcbi8vIGltcG9ydCBDb25uZWN0aW9uU3RhdHVzSW5kaWNhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvQ29ubmVjdGlvblN0YXR1c0luZGljYXRvcic7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0L0xheW91dCc7XG4vLyBpbXBvcnQgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMnO1xuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8UHJvY2Vzc1N0YXR1c1Byb3ZpZGVyPlxuICAgICAgPEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgICAgIDxDb25zZW50UHJvdmlkZXI+XG4gICAgICAgICAgPExheW91dD5cbiAgICAgICAgICAgIHsvKiA8Q29ubmVjdGlvblN0YXR1c0luZGljYXRvciAvPiAqL31cbiAgICAgICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgICAgICA8L0xheW91dD5cbiAgICAgICAgPC9Db25zZW50UHJvdmlkZXI+XG4gICAgICA8L0JhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgPC9Qcm9jZXNzU3RhdHVzUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwOyJdLCJuYW1lcyI6WyJQcm9jZXNzU3RhdHVzUHJvdmlkZXIiLCJCYWNrZW5kQ29ubmVjdGlvblByb3ZpZGVyIiwiQ29uc2VudFByb3ZpZGVyIiwiTGF5b3V0IiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/_app.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/actionButton.js":
/*!***************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/actionButton.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionButton: () => (/* binding */ ActionButton),\n/* harmony export */   ActionButtonGroup: () => (/* binding */ ActionButtonGroup),\n/* harmony export */   \"default\": () => (/* binding */ ActionButtonPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-node)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_collected_dataset_customized_Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Action/CalibratePoints */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\");\n/* harmony import */ var _components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _adminSettings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./adminSettings */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\");\n\n\n\n\n\n\n\n\n// Add deep comparison utility\nconst isEqual = (obj1, obj2)=>{\n    if (obj1 === obj2) return true;\n    if (typeof obj1 !== 'object' || typeof obj2 !== 'object') return false;\n    if (obj1 === null || obj2 === null) return false;\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    return keys1.every((key)=>keys2.includes(key) && isEqual(obj1[key], obj2[key]));\n};\n// Create a basic ActionButton component with optimization\nconst ActionButton = ({ text, abbreviatedText, onClick, customClass = '', disabled = false, active = false })=>{\n    const [isAbbreviated, setIsAbbreviated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { settings } = (0,_adminSettings__WEBPACK_IMPORTED_MODULE_7__.useAdminSettings)();\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // Memoize button props to prevent unnecessary re-renders\n    const buttonProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ActionButton.useMemo[buttonProps]\": ()=>({\n                className: `action-button ${customClass} ${isAbbreviated ? 'abbreviated' : ''} ${active ? 'active' : ''}`,\n                onClick,\n                disabled,\n                title: text\n            })\n    }[\"ActionButton.useMemo[buttonProps]\"], [\n        customClass,\n        isAbbreviated,\n        active,\n        onClick,\n        disabled,\n        text\n    ]);\n    // Check window size and set abbreviated mode with debounce\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            if (true) return;\n            let timeoutId;\n            const handleResize = {\n                \"ActionButton.useEffect.handleResize\": ()=>{\n                    clearTimeout(timeoutId);\n                    timeoutId = setTimeout({\n                        \"ActionButton.useEffect.handleResize\": ()=>{\n                            const width = window.innerWidth;\n                            setIsAbbreviated(width < 768);\n                        }\n                    }[\"ActionButton.useEffect.handleResize\"], 100);\n                }\n            }[\"ActionButton.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            handleResize(); // Initial call\n            return ({\n                \"ActionButton.useEffect\": ()=>{\n                    window.removeEventListener('resize', handleResize);\n                    clearTimeout(timeoutId);\n                }\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], []);\n    // Add effect to listen for user ID changes with optimization\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"ActionButton.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        const newUserId = event.detail.userId;\n                        if (newUserId !== currentUserId) {\n                            setCurrentUserId(newUserId);\n                        }\n                    }\n                }\n            }[\"ActionButton.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"ActionButton.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], [\n        currentUserId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        ...buttonProps,\n        children: [\n            isAbbreviated ? abbreviatedText : text,\n            processStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"process-status\",\n                children: processStatus\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 91,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, undefined);\n};\n// Create the ActionButtonGroup component with client-side only rendering and optimization\nconst ActionButtonGroupInner = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ triggerCameraAccess, isCompactMode, onActionClick }, ref)=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_6__.useRouter)();\n    const { settings, updateSettings } = (0,_adminSettings__WEBPACK_IMPORTED_MODULE_7__.useAdminSettings)(ref);\n    // State for button actions\n    const [randomTimes, setRandomTimes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [delaySeconds, setDelaySeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(3);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [countdownValue, setCountdownValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentDot, setCurrentDot] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [calibrationPoints, setCalibrationPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentCalibrationIndex, setCurrentCalibrationIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [remainingCaptures, setRemainingCaptures] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showCanvas, setShowCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Track the capture count\n    const [calibrationHandler, setCalibrationHandler] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [captureCount, setCaptureCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Toggle states\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isCameraActive, setIsCameraActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    // Add cache for settings\n    const settingsCache = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    const lastSettingsUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    // Memoize button configurations\n    const buttons = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ActionButtonGroupInner.useMemo[buttons]\": ()=>[\n                {\n                    text: \"Set Random\",\n                    abbreviatedText: \"SRandom\",\n                    onClick: handleSetRandom,\n                    disabled: isCapturing\n                },\n                {\n                    text: \"Random Dot\",\n                    abbreviatedText: \"Random\",\n                    onClick: handleRandomDot,\n                    disabled: isCapturing\n                },\n                {\n                    text: \"Set Calibrate\",\n                    abbreviatedText: \"Calibrate\",\n                    onClick: handleSetCalibrate,\n                    disabled: isCapturing\n                },\n                {\n                    text: \"Clear All\",\n                    abbreviatedText: \"Clear\",\n                    onClick: handleClearAll\n                },\n                {\n                    divider: true\n                },\n                {\n                    text: \"Draw Head pose\",\n                    abbreviatedText: \"Head pose\",\n                    onClick: handleToggleHeadPose,\n                    active: showHeadPose\n                },\n                {\n                    text: \"Show Bounding Box\",\n                    abbreviatedText: \"☐ Box\",\n                    onClick: handleToggleBoundingBox,\n                    active: showBoundingBox\n                },\n                {\n                    text: isCameraActive ? \"Stop Camera\" : \"Show Preview\",\n                    abbreviatedText: isCameraActive ? \"Stop\" : \"Preview\",\n                    onClick: {\n                        \"ActionButtonGroupInner.useMemo[buttons]\": ()=>{\n                            if (!isCameraActive && !triggerCameraAccess(true)) {\n                                setShowPermissionPopup(true);\n                            } else {\n                                handleToggleCamera();\n                            }\n                        }\n                    }[\"ActionButtonGroupInner.useMemo[buttons]\"],\n                    active: isCameraActive,\n                    disabled: isCapturing\n                },\n                {\n                    text: \"😷 Show Mask\",\n                    abbreviatedText: \"😷 Mask\",\n                    onClick: handleToggleMask,\n                    active: showMask\n                },\n                {\n                    text: \"Parameters\",\n                    abbreviatedText: \"Values\",\n                    onClick: handleToggleParameters,\n                    active: showParameters\n                }\n            ]\n    }[\"ActionButtonGroupInner.useMemo[buttons]\"], [\n        isCapturing,\n        showHeadPose,\n        showBoundingBox,\n        isCameraActive,\n        showMask,\n        showParameters\n    ]);\n    // Optimize settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (settings && currentUserId && settings[currentUserId]) {\n                const userSettings = settings[currentUserId];\n                const cachedSettings = settingsCache.current.get(currentUserId);\n                if (!isEqual(cachedSettings, userSettings)) {\n                    setRandomTimes(Number(userSettings.times) || 1);\n                    setDelaySeconds(Number(userSettings.delay) || 3);\n                    settingsCache.current.set(currentUserId, userSettings);\n                    lastSettingsUpdate.current.set(currentUserId, Date.now());\n                }\n            }\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        settings,\n        currentUserId\n    ]);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"ActionButtonGroupInner.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        // Update settings for new user\n                        if (settings && settings[newUserId]) {\n                            const userSettings = settings[newUserId];\n                            setRandomTimes(Number(userSettings.times) || 1);\n                            setDelaySeconds(Number(userSettings.delay) || 3);\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        settings\n    ]);\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"ActionButtonGroupInner.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        if (userId === currentUserId) {\n                            if (times !== undefined) {\n                                const newTimes = Number(times) || 1;\n                                setRandomTimes(newTimes);\n                            }\n                            if (delay !== undefined) {\n                                const newDelay = Number(delay) || 3;\n                                setDelaySeconds(newDelay);\n                            }\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        currentUserId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            // Make functions globally accessible as a fallback\n            if (false) {}\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (false) {}\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (true) return;\n            // Function to get control values from TopBar\n            const updateControlValues = {\n                \"ActionButtonGroupInner.useEffect.updateControlValues\": ()=>{\n                    // Get the time input element\n                    const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n                    if (timeInput) {\n                        const timeValue = parseInt(timeInput.value, 10);\n                        if (!isNaN(timeValue) && timeValue > 0) {\n                            console.log('Updating randomTimes to:', timeValue);\n                            setRandomTimes(timeValue);\n                        }\n                    }\n                    // Get the delay input element\n                    const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n                    if (delayInput) {\n                        const delayValue = parseInt(delayInput.value, 10);\n                        if (!isNaN(delayValue) && delayValue > 0) {\n                            console.log('Updating delaySeconds to:', delayValue);\n                            setDelaySeconds(delayValue);\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.updateControlValues\"];\n            // Add event listeners to the control inputs\n            const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n            const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n            if (timeInput) {\n                timeInput.addEventListener('change', updateControlValues);\n                timeInput.addEventListener('input', updateControlValues); // Also listen for input events\n            }\n            if (delayInput) {\n                delayInput.addEventListener('change', updateControlValues);\n                delayInput.addEventListener('input', updateControlValues); // Also listen for input events\n            }\n            // Initial update\n            updateControlValues();\n            // Cleanup event listeners\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (timeInput) {\n                        timeInput.removeEventListener('change', updateControlValues);\n                        timeInput.removeEventListener('input', updateControlValues);\n                    }\n                    if (delayInput) {\n                        delayInput.removeEventListener('change', updateControlValues);\n                        delayInput.removeEventListener('input', updateControlValues);\n                    }\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    const initializeCanvas = (canvas, parent)=>{\n        if (!canvas || !parent) {\n            // console.warn('[initializeCanvas] Canvas or parent is null', { canvas, parent });\n            return false;\n        }\n        try {\n            // Set canvas dimensions to match parent\n            canvas.width = parent.clientWidth || 800;\n            canvas.height = parent.clientHeight || 600;\n            // Clear canvas and set white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // console.log(`Canvas initialized with dimensions: ${canvas.width}x${canvas.height}`);\n            return true;\n        } catch (error) {\n            console.error('[initializeCanvas] Error initializing canvas:', error);\n            return false;\n        }\n    };\n    // Helper function to get the main canvas - improved to be more reliable\n    const getMainCanvas = ()=>{\n        // Try multiple methods to find the canvas\n        if (canvasRef.current) {\n            console.log(\"Using direct canvasRef.current reference\");\n            return canvasRef.current;\n        }\n        if (false) {}\n        if (typeof document !== 'undefined') {\n            // Try multiple selectors to find the canvas\n            const selectors = [\n                '.tracking-canvas',\n                'canvas',\n                '#tracking-canvas'\n            ];\n            for (const selector of selectors){\n                const canvasElement = document.querySelector(selector);\n                if (canvasElement) {\n                    console.log(`Found canvas via selector: ${selector}`);\n                    canvasRef.current = canvasElement;\n                    if (false) {}\n                    return canvasElement;\n                }\n            }\n        }\n        console.error(\"No canvas found through any method\");\n        return null;\n    };\n    const makeCanvasFullscreen = (canvas)=>{\n        // First initialize with parent dimensions\n        const parent = canvas.parentElement || document.body;\n        initializeCanvas(canvas, parent);\n        // Then force fullscreen styling\n        canvas.style.position = 'fixed';\n        canvas.style.top = '0';\n        canvas.style.left = '0';\n        canvas.style.width = '100vw';\n        canvas.style.height = '100vh';\n        canvas.style.zIndex = '5';\n        // Force dimensions to match window\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n        // Clear and prepare canvas again\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        console.log(`Canvas set to fullscreen: ${canvas.width}x${canvas.height}`);\n    };\n    const restoreCanvasSize = (canvas)=>{\n        // Restore original canvas styling\n        canvas.style.position = '';\n        canvas.style.top = '';\n        canvas.style.left = '';\n        canvas.style.width = '100%';\n        canvas.style.height = '100%';\n        canvas.style.zIndex = '';\n        // Restore original dimensions\n        if (canvas.parentElement) {\n            initializeCanvas(canvas, canvas.parentElement);\n        }\n    };\n    const handlePermissionAccepted = ()=>{\n        setShowPermissionPopup(false);\n        if (triggerCameraAccess) {\n            triggerCameraAccess(true);\n        }\n    };\n    // Handler to cancel permission popup\n    const handlePermissionDenied = ()=>{\n        setShowPermissionPopup(false);\n    };\n    // Helper function to restore the canvas to its original parent and styling\n    const restoreCanvas = (canvas, originalParent, originalStyle)=>{\n        if (!canvas || !originalParent) return;\n        // Append the canvas back to its original parent if needed\n        if (canvas.parentElement !== originalParent) {\n            originalParent.appendChild(canvas);\n        }\n        // Restore the inline styles saved earlier\n        canvas.style.position = originalStyle.position;\n        canvas.style.top = originalStyle.top;\n        canvas.style.left = originalStyle.left;\n        canvas.style.width = originalStyle.width;\n        canvas.style.height = originalStyle.height;\n        canvas.style.zIndex = originalStyle.zIndex;\n        // Reset the dimensions based on the parent element's size or fallback defaults\n        canvas.width = originalParent.clientWidth || 800;\n        canvas.height = originalParent.clientHeight || 600;\n        // Clear the canvas and fill with a white background\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    };\n    // Clear the canvas\n    const clearCanvas = ()=>{\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found for clearing\");\n            return;\n        }\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        setCurrentDot(null);\n    };\n    // Add this function to actionButton.js\n    /**\n   * Consolidated function that handles the entire dot process: drawing, countdown, capture, and preview\n   * @param {Object} options - Configuration options\n   * @param {Object} options.position - {x, y} coordinates where to draw the dot\n   * @param {Function} options.onStatusUpdate - Callback for status updates\n   * @param {Function} options.toggleTopBar - Function to toggle top bar visibility\n   * @param {Function} options.triggerCameraAccess - Function to ensure camera is available\n   * @param {Function} options.setIsCapturing - Function to update capturing state\n   * @param {Number} options.captureCount - Current capture counter\n   * @param {Function} options.setCaptureCount - Function to update the capture counter\n   * @param {Boolean} options.useRandomPosition - Whether to generate a random position\n   * @returns {Promise<Object>} - Result object with capture data\n   */ // Modified handleDotProcess function with improved dot and countdown alignment\n    const handleDotProcess = async (options)=>{\n        const { position, onStatusUpdate, toggleTopBar, triggerCameraAccess, setIsCapturing, captureCount, setCaptureCount, useRandomPosition = false, postCountdownDelay = 500 } = options;\n        try {\n            // Hide the TopBar before showing the dot\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(false);\n            } else if (false) {}\n            // Set capturing state\n            setIsCapturing(true);\n            // Update status\n            onStatusUpdate?.({\n                processStatus: useRandomPosition ? 'Generating random dot...' : 'Starting dot process...',\n                isCapturing: true\n            });\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 200));\n            // Get canvas reference with retries\n            let canvas = null;\n            let retryCount = 0;\n            const maxRetries = 3;\n            while(!canvas && retryCount < maxRetries){\n                canvas = getMainCanvas();\n                if (!canvas) {\n                    console.warn(`Canvas not found, retry ${retryCount + 1}/${maxRetries}`);\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                    retryCount++;\n                }\n            }\n            if (!canvas) {\n                throw new Error(\"Canvas not available after multiple retries\");\n            }\n            // Save original state for restoration\n            const originalParent = canvas.parentElement;\n            const originalStyle = {\n                position: canvas.style.position,\n                top: canvas.style.top,\n                left: canvas.style.left,\n                width: canvas.style.width,\n                height: canvas.style.height,\n                zIndex: canvas.style.zIndex\n            };\n            // Prepare canvas for fullscreen display\n            document.body.appendChild(canvas);\n            canvas.style.position = 'fixed';\n            canvas.style.top = '0';\n            canvas.style.left = '0';\n            canvas.style.width = '100vw';\n            canvas.style.height = '100vh';\n            canvas.style.zIndex = '10';\n            // Set dimensions to match window exactly\n            const canvasWidth = window.innerWidth;\n            const canvasHeight = window.innerHeight;\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            // Clear canvas with white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n            // Get position for the dot - either use provided position or generate random one\n            const dotPosition = useRandomPosition ? (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.getRandomPosition)(canvas, 20) : position;\n            if (!dotPosition || typeof dotPosition.x !== 'number' || typeof dotPosition.y !== 'number') {\n                throw new Error(\"Invalid dot position\");\n            }\n            // Draw the dot\n            const dotRadius = 12;\n            (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Create a redraw interval to ensure dot stays visible\n            let keepDotVisibleInterval = setInterval(()=>{\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            }, 50); // More frequent updates for reliability\n            // Remove any existing countdown elements\n            const existingCountdowns = document.querySelectorAll('.dot-countdown, .calibrate-countdown');\n            existingCountdowns.forEach((el)=>{\n                if (el.parentNode) el.parentNode.removeChild(el);\n            });\n            // Create a countdown element directly on top of the dot\n            // Important: Position the countdown centered directly over the dot\n            const countdownElement = document.createElement('div');\n            countdownElement.className = 'dot-countdown';\n            countdownElement.style.cssText = `\n        position: fixed;\n        left: ${dotPosition.x}px;\n        top: ${dotPosition.y}px;\n        transform: translate(-50%, -50%);\n        color: red;\n        font-size: 36px;\n        font-weight: bold;\n        text-shadow: 0 0 10px white, 0 0 20px white;\n        z-index: 10000;\n        background-color: rgba(255, 255, 255, 0.8);\n        border: 2px solid red;\n        border-radius: 50%;\n        width: 50px;\n        height: 50px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n      `;\n            document.body.appendChild(countdownElement);\n            // Manual countdown\n            for(let count = 3; count > 0; count--){\n                countdownElement.textContent = count;\n                onStatusUpdate?.({\n                    processStatus: `Countdown: ${count}`,\n                    countdownValue: count,\n                    isCapturing: true\n                });\n                // Redraw the dot for reliability\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n                await new Promise((resolve)=>setTimeout(resolve, 800));\n                // Additional redraw during countdown to ensure visibility\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            }\n            // Show checkmark\n            countdownElement.textContent = \"✓\";\n            // Make sure dot is still visible\n            (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Remove countdown element after delay\n            setTimeout(()=>{\n                if (countdownElement.parentNode) {\n                    countdownElement.parentNode.removeChild(countdownElement);\n                }\n            }, 300);\n            // Wait after countdown completes\n            await new Promise((resolve)=>setTimeout(resolve, postCountdownDelay));\n            // Ensure the dot is still visible\n            (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Capture images at this point\n            const captureResult = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__.captureImagesAtPoint)({\n                point: dotPosition,\n                captureCount: captureCount,\n                canvasRef: {\n                    current: canvas\n                },\n                setCaptureCount: setCaptureCount,\n                showCapturePreview: _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview\n            });\n            // Clear redraw interval\n            clearInterval(keepDotVisibleInterval);\n            // Restore canvas to original state\n            if (originalParent && canvas.parentElement !== originalParent) {\n                originalParent.appendChild(canvas);\n            }\n            canvas.style.position = originalStyle.position || '';\n            canvas.style.top = originalStyle.top || '';\n            canvas.style.left = originalStyle.left || '';\n            canvas.style.width = originalStyle.width || '100%';\n            canvas.style.height = originalStyle.height || '100%';\n            canvas.style.zIndex = originalStyle.zIndex || '';\n            // Reset dimensions\n            if (originalParent) {\n                canvas.width = originalParent.clientWidth || 800;\n                canvas.height = originalParent.clientHeight || 600;\n            }\n            // Clear canvas\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // Update status\n            onStatusUpdate?.({\n                processStatus: 'Capture completed',\n                isCapturing: false\n            });\n            // Show TopBar again after a delay\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if (false) {}\n            }, 2000);\n            return {\n                success: true,\n                position: dotPosition,\n                captureResult\n            };\n        } catch (error) {\n            console.error(\"Error in handleDotProcess:\", error);\n            onStatusUpdate?.({\n                processStatus: `Error: ${error.message}`,\n                isCapturing: false\n            });\n            // Show TopBar again if there's an error\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if (false) {}\n            }, 1000);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    };\n    const handleSetCalibrate = async ()=>{\n        if (isCapturing) return;\n        // Declare these variables OUTSIDE the try block\n        let canvas = null;\n        let originalCanvasParent = null;\n        let originalCanvasStyle = {};\n        let statusIndicator = null;\n        let currentRedrawInterval = null;\n        try {\n            // Hide TopBar\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if (false) {}\n            setIsCapturing(true);\n            setShowCanvas(true);\n            setProcessStatus(\"Starting calibration sequence...\");\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 300));\n            // Get canvas reference\n            canvas = getMainCanvas();\n            if (!canvas) {\n                setProcessStatus(\"Error: Canvas not found\");\n                setIsCapturing(false);\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                }\n                return;\n            }\n            // Save original parent and style\n            originalCanvasParent = canvas.parentElement;\n            originalCanvasStyle = {\n                position: canvas.style.position,\n                top: canvas.style.top,\n                left: canvas.style.left,\n                width: canvas.style.width,\n                height: canvas.style.height,\n                zIndex: canvas.style.zIndex\n            };\n            // Move canvas to body for maximum reliability\n            document.body.appendChild(canvas);\n            // Make canvas fullscreen with fixed positioning\n            canvas.style.position = 'fixed';\n            canvas.style.top = '0';\n            canvas.style.left = '0';\n            canvas.style.width = '100vw';\n            canvas.style.height = '100vh';\n            canvas.style.zIndex = '10';\n            // Set dimensions to match window exactly\n            const canvasWidth = window.innerWidth;\n            const canvasHeight = window.innerHeight;\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            console.log(`Canvas set to fullscreen: ${canvasWidth}x${canvasHeight}`);\n            // Get context\n            const ctx = canvas.getContext('2d');\n            // Clear canvas with white background\n            ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n            // Generate calibration points based on the canvas size\n            const { generateCalibrationPoints } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../components/collected-dataset-customized/Action/CalibratePoints */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\"));\n            const points = generateCalibrationPoints(canvasWidth, canvasHeight);\n            if (!points || points.length === 0) {\n                throw new Error(\"Failed to generate calibration points\");\n            }\n            // Create a status indicator\n            statusIndicator = document.createElement('div');\n            statusIndicator.className = 'calibrate-status-indicator';\n            statusIndicator.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background-color: rgba(0, 102, 204, 0.9);\n        color: white;\n        font-size: 16px;\n        font-weight: bold;\n        padding: 10px 15px;\n        border-radius: 8px;\n        z-index: 10000;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n      `;\n            statusIndicator.textContent = 'Calibration: Initializing...';\n            document.body.appendChild(statusIndicator);\n            // Process each calibration point\n            let successCount = 0;\n            for(let i = 0; i < points.length; i++){\n                const point = points[i];\n                // Clear any existing redraw interval\n                if (currentRedrawInterval) {\n                    clearInterval(currentRedrawInterval);\n                    currentRedrawInterval = null;\n                }\n                // Update status displays\n                statusIndicator.textContent = `Calibration: Point ${i + 1}/${points.length}`;\n                setProcessStatus(`Processing calibration point ${i + 1}/${points.length}`);\n                // Reset canvas if dimensions changed\n                if (canvas.width !== canvasWidth || canvas.height !== canvasHeight) {\n                    console.warn(`Canvas dimensions changed. Resetting to ${canvasWidth}x${canvasHeight}`);\n                    canvas.width = canvasWidth;\n                    canvas.height = canvasHeight;\n                }\n                // Make sure canvas is still attached to body and in fullscreen mode\n                if (canvas.parentElement !== document.body) {\n                    document.body.appendChild(canvas);\n                    canvas.style.position = 'fixed';\n                    canvas.style.top = '0';\n                    canvas.style.left = '0';\n                    canvas.style.width = '100vw';\n                    canvas.style.height = '100vh';\n                    canvas.style.zIndex = '10';\n                }\n                // Clear canvas with white background\n                ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n                // Draw the calibration point\n                const radius = 14; // Slightly larger for better visibility\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, point.x, point.y, radius, false);\n                // Create redraw function for this point\n                const redrawCurrentDot = ()=>{\n                    // Verify canvas dimensions and parent\n                    if (canvas.width !== canvasWidth || canvas.height !== canvasHeight) {\n                        canvas.width = canvasWidth;\n                        canvas.height = canvasHeight;\n                        ctx.fillStyle = 'white';\n                        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n                    }\n                    // Make sure canvas is still attached to body\n                    if (canvas.parentElement !== document.body) {\n                        document.body.appendChild(canvas);\n                    }\n                    // Redraw dot without clearing\n                    (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, point.x, point.y, radius, false);\n                };\n                // Start redraw interval - more frequent updates for reliable dot visibility\n                currentRedrawInterval = setInterval(redrawCurrentDot, 50);\n                // Remove any existing countdown elements\n                const existingCountdowns = document.querySelectorAll('.dot-countdown, .calibrate-countdown');\n                existingCountdowns.forEach((el)=>{\n                    if (el.parentNode) el.parentNode.removeChild(el);\n                });\n                // Create custom countdown element\n                const countdownElement = document.createElement('div');\n                countdownElement.className = 'dot-countdown'; // Consistent class name\n                countdownElement.style.cssText = `\n          position: fixed;\n          left: ${point.x}px;\n          top: ${point.y - 60}px;\n          transform: translateX(-50%);\n          color: red;\n          font-size: 36px;\n          font-weight: bold;\n          text-shadow: 0 0 10px white, 0 0 20px white;\n          z-index: 10000;\n          background-color: rgba(255, 255, 255, 0.8);\n          border: 2px solid red;\n          border-radius: 50%;\n          width: 50px;\n          height: 50px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n        `;\n                document.body.appendChild(countdownElement);\n                try {\n                    // Manual countdown\n                    for(let count = 3; count > 0; count--){\n                        countdownElement.textContent = count;\n                        setProcessStatus(`Point ${i + 1}/${points.length}: Countdown ${count}`);\n                        // Force redraw multiple times during countdown to ensure visibility\n                        redrawCurrentDot();\n                        await new Promise((resolve)=>setTimeout(resolve, 800));\n                        // Redraw again halfway through the wait to ensure dot stays visible\n                        redrawCurrentDot();\n                    }\n                    // Show checkmark\n                    countdownElement.textContent = \"✓\";\n                    redrawCurrentDot();\n                    // Remove countdown element after delay\n                    setTimeout(()=>{\n                        if (countdownElement.parentNode) {\n                            countdownElement.parentNode.removeChild(countdownElement);\n                        }\n                    }, 300);\n                    // Make sure dot is still visible\n                    redrawCurrentDot();\n                    // Capture images at this point\n                    console.log(`Capturing calibration point ${i + 1}/${points.length} at (${point.x}, ${point.y})`);\n                    // Manual force redraw one more time just before capture\n                    (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, point.x, point.y, radius, false);\n                    const captureResult = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__.captureImagesAtPoint)({\n                        point: point,\n                        captureCount: captureCount,\n                        canvasRef: {\n                            current: canvas\n                        },\n                        setCaptureCount: setCaptureCount,\n                        showCapturePreview: _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview\n                    });\n                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                        successCount++;\n                    }\n                    // Wait between points\n                    await new Promise((resolve)=>setTimeout(resolve, 1200));\n                } catch (error) {\n                    console.error(`Error processing calibration point ${i + 1}:`, error);\n                } finally{\n                    // Clean up countdown if it still exists\n                    if (countdownElement.parentNode) {\n                        countdownElement.parentNode.removeChild(countdownElement);\n                    }\n                    // Clear redraw interval\n                    if (currentRedrawInterval) {\n                        clearInterval(currentRedrawInterval);\n                        currentRedrawInterval = null;\n                    }\n                }\n            }\n            // Calibration complete\n            if (statusIndicator) {\n                statusIndicator.textContent = `Calibration complete: ${successCount}/${points.length} points`;\n            }\n            setProcessStatus(`Calibration completed: ${successCount}/${points.length} points captured`);\n        } catch (error) {\n            console.error(\"Calibration error:\", error);\n            setProcessStatus(`Calibration error: ${error.message}`);\n            // Clean up redraw interval\n            if (currentRedrawInterval) {\n                clearInterval(currentRedrawInterval);\n            }\n        } finally{\n            // Remove status indicator if it exists\n            if (statusIndicator && statusIndicator.parentNode) {\n                setTimeout(()=>{\n                    statusIndicator.parentNode.removeChild(statusIndicator);\n                }, 3000);\n            }\n            // Restore canvas to original parent and styling - Only if canvas was successfully initialized\n            if (canvas) {\n                try {\n                    // Try to find original parent\n                    if (originalCanvasParent && canvas.parentElement !== originalCanvasParent) {\n                        originalCanvasParent.appendChild(canvas);\n                    } else if (!originalCanvasParent) {\n                        // Fallback to looking for a container element\n                        const possibleParent = document.querySelector('.canvas-container');\n                        if (possibleParent && canvas.parentElement !== possibleParent) {\n                            possibleParent.appendChild(canvas);\n                        }\n                    }\n                    // Restore styling\n                    canvas.style.position = originalCanvasStyle.position || '';\n                    canvas.style.top = originalCanvasStyle.top || '';\n                    canvas.style.left = originalCanvasStyle.left || '';\n                    canvas.style.width = originalCanvasStyle.width || '100%';\n                    canvas.style.height = originalCanvasStyle.height || '100%';\n                    canvas.style.zIndex = originalCanvasStyle.zIndex || '';\n                    // Reset dimensions based on parent\n                    const parent = canvas.parentElement;\n                    if (parent) {\n                        canvas.width = parent.clientWidth || 800;\n                        canvas.height = parent.clientHeight || 600;\n                    } else {\n                        canvas.width = 800;\n                        canvas.height = 600;\n                    }\n                    // Clear canvas with white background\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    console.log(\"Canvas restored to original state\");\n                } catch (e) {\n                    console.error(\"Error restoring canvas:\", e);\n                }\n            }\n            setIsCapturing(false);\n            // Show TopBar again\n            setTimeout(()=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                } else if (false) {}\n            }, 1000);\n        }\n    };\n    const handleSetRandom = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Always get the latest settings from context for the current user\n            const userSettings = settings && settings[currentUserId] ? settings[currentUserId] : {};\n            const times = Number(userSettings.times) || Number(randomTimes) || 1;\n            const delay = Number(userSettings.delay) || Number(delaySeconds) || 3;\n            // Log current settings before starting\n            console.log('Starting Set Random with settings:', {\n                randomTimes,\n                delaySeconds,\n                currentUserId,\n                settings,\n                userSettings,\n                times,\n                delay\n            });\n            // Hide TopBar\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if (false) {}\n            setIsCapturing(true);\n            setRemainingCaptures(times);\n            setProcessStatus(`Starting ${times} random captures with ${delay}s delay...`);\n            // Process all captures in sequence\n            let successCount = 0;\n            for(let currentIndex = 1; currentIndex <= times; currentIndex++){\n                // Update status for current capture\n                setProcessStatus(`Capture ${currentIndex} of ${times}`);\n                setRemainingCaptures(times - currentIndex + 1);\n                console.log(`Starting capture ${currentIndex} of ${times}`);\n                // Use handleDotProcess for each capture\n                const result = await handleDotProcess({\n                    useRandomPosition: true,\n                    onStatusUpdate: (status)=>{\n                        if (status.processStatus) {\n                            setProcessStatus(`Capture ${currentIndex}/${times}: ${status.processStatus}`);\n                        }\n                    },\n                    toggleTopBar: (show)=>{\n                        // Only show TopBar after the last capture\n                        if (show && currentIndex < times) {\n                            return; // Don't show yet for intermediate captures\n                        }\n                        if (typeof onActionClick === 'function') {\n                            onActionClick('toggleTopBar', show);\n                        } else if (false) {}\n                    },\n                    triggerCameraAccess,\n                    setIsCapturing: (capturing)=>{\n                        // Only set capturing to false after all captures\n                        if (!capturing && currentIndex < times) {\n                            return; // Stay in capturing state between dots\n                        }\n                        setIsCapturing(capturing);\n                    },\n                    captureCount,\n                    setCaptureCount,\n                    postCountdownDelay: 800\n                });\n                if (result && result.success) {\n                    successCount++;\n                    console.log(`Successfully completed capture ${currentIndex}`);\n                } else {\n                    console.warn(`Capture ${currentIndex} may have failed:`, result);\n                }\n                // Wait between captures - but only if there are more captures to go\n                if (currentIndex < times) {\n                    setProcessStatus(`Waiting ${delay}s before next capture...`);\n                    console.log(`Waiting ${delay}s before next capture...`);\n                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                }\n            }\n            // Completion notification\n            setProcessStatus(`Random capture sequence completed: ${successCount}/${times} captures successful`);\n            setRemainingCaptures(0);\n            console.log(`Completed all captures: ${successCount}/${times} successful`);\n        } catch (error) {\n            console.error(\"Random sequence error:\", error);\n            setProcessStatus(`Random sequence failed: ${error.message}`);\n        } finally{\n            setIsCapturing(false);\n            // Show TopBar again\n            setTimeout(()=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                } else if (false) {}\n            }, 1000);\n        }\n    };\n    const handleRandomDot = async ()=>{\n        if (isCapturing) return;\n        // Use the consolidated function with random position\n        await handleDotProcess({\n            useRandomPosition: true,\n            onStatusUpdate: (status)=>{\n                if (status.processStatus) setProcessStatus(status.processStatus);\n                if (status.isCapturing !== undefined) setIsCapturing(status.isCapturing);\n            },\n            toggleTopBar: (show)=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', show);\n                }\n            },\n            triggerCameraAccess,\n            setIsCapturing,\n            captureCount,\n            setCaptureCount: setCaptureCount,\n            postCountdownDelay: 1000\n        });\n    };\n    // Load calibration setup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (true) return;\n            const setupCalibration = {\n                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                    try {\n                        const { default: CalibrateHandler } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_components_collected-dataset-customized_Action_CalibrateHandler_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../components/collected-dataset-customized/Action/CalibrateHandler */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibrateHandler.js\"));\n                        const canvas = getMainCanvas();\n                        if (!canvas) {\n                            console.warn(\"Canvas not available during setupCalibration\");\n                            return;\n                        }\n                        if (canvas) {\n                            makeCanvasFullscreen(canvas);\n                        }\n                        // console.log('Canvas size:', canvas.width, canvas.height);\n                        const points = (0,_components_collected_dataset_customized_Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__.generateCalibrationPoints)(canvas.width, canvas.height);\n                        // console.log('Generated calibration points:', points);\n                        setCalibrationPoints(points);\n                        const calibrateHandler = new CalibrateHandler({\n                            canvasRef: {\n                                current: canvas\n                            },\n                            calibrationPoints: points,\n                            toggleTopBar: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (show)=>onActionClick?.('toggleTopBar', show)\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            setOutputText: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (status)=>{\n                                    setProcessStatus(status);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureCounter: captureCount,\n                            setCaptureCounter: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (newCounter)=>{\n                                    if (typeof newCounter === 'function') {\n                                        setCaptureCount({\n                                            \"ActionButtonGroupInner.useEffect.setupCalibration\": (prev)=>newCounter(prev)\n                                        }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]);\n                                    } else {\n                                        setCaptureCount(newCounter);\n                                    }\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureFolder: 'eye_tracking_captures',\n                            onComplete: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": ()=>{\n                                    setIsCapturing(false);\n                                    setProcessStatus('Calibration completed');\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                        setCalibrationHandler({\n                            handleAction: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                                    setIsCapturing(true);\n                                    setProcessStatus('Starting calibration...');\n                                    await calibrateHandler.startCalibration();\n                                    setIsCapturing(false);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                        if (canvas) {\n                            restoreCanvasSize(canvas);\n                        }\n                    } catch (err) {\n                        console.error('Error initializing calibration:', err);\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"];\n            setupCalibration();\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        captureCount,\n        onActionClick\n    ]);\n    // Clear All Button - Reset everything\n    const handleClearAll = ()=>{\n        clearCanvas();\n        setProcessStatus('');\n        setRemainingCaptures(0);\n        setIsCapturing(false);\n        setCountdownValue(null);\n        setShowCanvas(true);\n    };\n    // Toggle Head Pose visualization\n    const handleToggleHeadPose = ()=>{\n        const newHeadPoseState = !showHeadPose;\n        setShowHeadPose(newHeadPoseState);\n        setProcessStatus(`Head pose visualization ${newHeadPoseState ? 'enabled' : 'disabled'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('headPose');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle Bounding Box visualization\n    const handleToggleBoundingBox = ()=>{\n        const newBoundingBoxState = !showBoundingBox;\n        setShowBoundingBox(newBoundingBoxState);\n        setProcessStatus(`Bounding box ${newBoundingBoxState ? 'shown' : 'hidden'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('boundingBox');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle Mask visualization\n    const handleToggleMask = ()=>{\n        const newMaskState = !showMask;\n        setShowMask(newMaskState);\n        setProcessStatus(`Mask ${newMaskState ? 'shown' : 'hidden'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('mask');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle Parameters display\n    const handleToggleParameters = ()=>{\n        const newParametersState = !showParameters;\n        setShowParameters(newParametersState);\n        setProcessStatus(`Parameters ${newParametersState ? 'shown' : 'hidden'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('parameters');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle camera preview\n    const handleToggleCamera = ()=>{\n        const newCameraState = !isCameraActive;\n        setIsCameraActive(newCameraState);\n        // Call the parent handler with 'preview' action\n        if (onActionClick) {\n            onActionClick('preview', newCameraState); // Pass the new state\n        } else {\n            // Fallback to direct trigger if no action handler\n            setShowPermissionPopup(true);\n        }\n        // If turning on camera, ensure we apply current visualization settings\n        if (newCameraState && \"undefined\" !== 'undefined' && 0) {}\n    };\n    // Add back button handler\n    const handleGoBack = ()=>{\n        router.push('/');\n    };\n    // Mobile layout - 2x5 grid\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            isCompactMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-2 mb-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                    lineNumber: 1421,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1420,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                    lineNumber: 1425,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1424,\n                columnNumber: 9\n            }, undefined),\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n                \"ActionButtonGroupInner.useMemo\": ()=>(processStatus || remainingCaptures > 0 || countdownValue) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"status-display mt-4 p-2 bg-blue-50 rounded-md\",\n                        children: [\n                            processStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm font-medium text-blue-800\",\n                                children: processStatus\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1434,\n                                columnNumber: 15\n                            }, undefined),\n                            remainingCaptures > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm font-medium text-yellow-600\",\n                                children: [\n                                    \"Remaining: \",\n                                    remainingCaptures\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1437,\n                                columnNumber: 15\n                            }, undefined),\n                            countdownValue && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-2xl font-bold text-red-600\",\n                                children: countdownValue\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1440,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1432,\n                        columnNumber: 11\n                    }, undefined)\n            }[\"ActionButtonGroupInner.useMemo\"], [\n                processStatus,\n                remainingCaptures,\n                countdownValue\n            ]),\n            showCanvas && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"canvas-container mt-4\",\n                style: {\n                    position: 'relative',\n                    width: '100%',\n                    height: '40vh',\n                    minHeight: '300px',\n                    border: '1px solid #e0e0e0',\n                    backgroundColor: 'white',\n                    borderRadius: '4px',\n                    overflow: 'hidden'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        className: \"tracking-canvas\",\n                        id: \"tracking-canvas\",\n                        style: {\n                            width: '100%',\n                            height: '100%',\n                            display: 'block' // Ensure canvas is displayed as block\n                        },\n                        onLoad: (e)=>{\n                            // Initialize canvas when it loads\n                            const canvas = e.target;\n                            if (canvas) {\n                                canvasRef.current = canvas;\n                                if (false) {}\n                                // Initialize canvas with white background\n                                const ctx = canvas.getContext('2d');\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1461,\n                        columnNumber: 11\n                    }, undefined),\n                    countdownValue && currentDot && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"dot-countdown\",\n                        style: {\n                            position: 'absolute',\n                            left: `${currentDot.x - 15}px`,\n                            top: `${currentDot.y - 40}px`,\n                            color: 'red',\n                            fontSize: '28px',\n                            fontWeight: 'bold'\n                        },\n                        children: countdownValue\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1488,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1448,\n                columnNumber: 9\n            }, undefined),\n            showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"camera-permission-popup\",\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    zIndex: 15\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"camera-permission-dialog\",\n                    style: {\n                        width: '400px',\n                        backgroundColor: 'white',\n                        borderRadius: '8px',\n                        padding: '20px',\n                        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"camera-permission-title\",\n                            style: {\n                                margin: '0 0 15px',\n                                fontSize: '18px',\n                                fontWeight: 'bold'\n                            },\n                            children: \"Camera Access Required\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                            lineNumber: 1532,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"camera-permission-message\",\n                            style: {\n                                margin: '0 0 20px',\n                                fontSize: '14px',\n                                lineHeight: '1.4'\n                            },\n                            children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                            lineNumber: 1542,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"camera-permission-buttons\",\n                            style: {\n                                display: 'flex',\n                                justifyContent: 'flex-end',\n                                gap: '10px'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionDenied,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#f0f0f0',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                    lineNumber: 1560,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionAccepted,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#0066cc',\n                                        color: 'white',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Continue\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                    lineNumber: 1573,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                            lineNumber: 1552,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                    lineNumber: 1522,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1507,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n        lineNumber: 1418,\n        columnNumber: 5\n    }, undefined);\n});\nconst ActionButtonGroup = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>Promise.resolve(/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButtonGroupInner, {\n            ...props,\n            ref: ref\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n            lineNumber: 1595,\n            columnNumber: 30\n        }, undefined))), {\n    ssr: false\n});\n// Create a client-only version of ActionButtonGroup\n// const ActionButtonGroup = dynamic(() => Promise.resolve(ActionButtonGroupInner), { ssr: false });\n// Add default export component\nfunction ActionButtonPage() {\n    return null; // This is a utility file, so we don't need to render anything\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvYWN0aW9uQnV0dG9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUc7QUFDbEU7QUFDaUY7QUFPekM7QUFDNkI7QUFDaEU7QUFDVztBQUVuRCw4QkFBOEI7QUFDOUIsTUFBTWlCLFVBQVUsQ0FBQ0MsTUFBTUM7SUFDckIsSUFBSUQsU0FBU0MsTUFBTSxPQUFPO0lBQzFCLElBQUksT0FBT0QsU0FBUyxZQUFZLE9BQU9DLFNBQVMsVUFBVSxPQUFPO0lBQ2pFLElBQUlELFNBQVMsUUFBUUMsU0FBUyxNQUFNLE9BQU87SUFFM0MsTUFBTUMsUUFBUUMsT0FBT0MsSUFBSSxDQUFDSjtJQUMxQixNQUFNSyxRQUFRRixPQUFPQyxJQUFJLENBQUNIO0lBRTFCLElBQUlDLE1BQU1JLE1BQU0sS0FBS0QsTUFBTUMsTUFBTSxFQUFFLE9BQU87SUFFMUMsT0FBT0osTUFBTUssS0FBSyxDQUFDQyxDQUFBQSxNQUNqQkgsTUFBTUksUUFBUSxDQUFDRCxRQUFRVCxRQUFRQyxJQUFJLENBQUNRLElBQUksRUFBRVAsSUFBSSxDQUFDTyxJQUFJO0FBRXZEO0FBRUEsMERBQTBEO0FBQzFELE1BQU1FLGVBQWUsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLGVBQWUsRUFBRUMsT0FBTyxFQUFFQyxjQUFjLEVBQUUsRUFBRUMsV0FBVyxLQUFLLEVBQUVDLFNBQVMsS0FBSyxFQUFFO0lBQzFHLE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUduQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLEVBQUVvQyxRQUFRLEVBQUUsR0FBR3JCLGdFQUFnQkE7SUFDckMsTUFBTSxDQUFDc0IsZUFBZUMsaUJBQWlCLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUN1QyxhQUFhQyxlQUFlLEdBQUd4QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN5Qyxn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QUNWd0gsT0FBTztnQ0FDTHlHLFFBQVE7Z0NBQ1JQLFVBQVU7Z0NBQ1ZDLFlBQVk7NEJBQ2Q7c0NBQ0Q7Ozs7OztzQ0FHRCw4REFBQ087NEJBQ0NsTyxXQUFVOzRCQUNWd0gsT0FBTztnQ0FDTHlHLFFBQVE7Z0NBQ1JQLFVBQVU7Z0NBQ1ZTLFlBQVk7NEJBQ2Q7c0NBQ0Q7Ozs7OztzQ0FHRCw4REFBQ2pOOzRCQUNDbEIsV0FBVTs0QkFDVndILE9BQU87Z0NBQ0w4RixTQUFTO2dDQUNUTSxnQkFBZ0I7Z0NBQ2hCUSxLQUFLOzRCQUNQOzs4Q0FFQSw4REFBQ25OO29DQUNDakMsU0FBU2dKO29DQUNUaEksV0FBVTtvQ0FDVndILE9BQU87d0NBQ0xzRyxTQUFTO3dDQUNUWixpQkFBaUI7d0NBQ2pCRCxRQUFRO3dDQUNSRSxjQUFjO3dDQUNka0IsUUFBUTtvQ0FDVjs4Q0FDRDs7Ozs7OzhDQUdELDhEQUFDcE47b0NBQ0NqQyxTQUFTK0k7b0NBQ1QvSCxXQUFVO29DQUNWd0gsT0FBTzt3Q0FDTHNHLFNBQVM7d0NBQ1RaLGlCQUFpQjt3Q0FDakJPLE9BQU87d0NBQ1BSLFFBQVE7d0NBQ1JFLGNBQWM7d0NBQ2RrQixRQUFRO29DQUNWOzhDQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNmO0FBQ0EsTUFBTUMsb0JBQW9COVEsbURBQU9BLENBQUMsSUFBTXFMLFFBQVFDLE9BQU8sZUFDckR6TCxpREFBVUEsQ0FBQyxDQUFDa1IsT0FBT2hOLG9CQUFRLDhEQUFDSjtZQUF3QixHQUFHb04sS0FBSztZQUFFaE4sS0FBS0E7Ozs7O3lCQUNsRTtJQUFFaU4sS0FBSztBQUFNO0FBQ2hCLG9EQUFvRDtBQUNwRCxvR0FBb0c7QUFFcEcsK0JBQStCO0FBQ2hCLFNBQVNDO0lBQ3RCLE9BQU8sTUFBTSw4REFBOEQ7QUFDN0U7QUFFMkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2NvbXBvbmVudHMtZ3VpL2FjdGlvbkJ1dHRvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCB7IGdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZVBvaW50cyc7XG5pbXBvcnQgeyBcbiAgc2hvd0NhcHR1cmVQcmV2aWV3LCBcbiAgZHJhd1JlZERvdCwgXG4gIGdldFJhbmRvbVBvc2l0aW9uLFxuICBjcmVhdGVDb3VudGRvd25FbGVtZW50LFxuICBydW5Db3VudGRvd25cbn0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9jb3VudFNhdmUnO1xuaW1wb3J0IHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvSGVscGVyL3NhdmVmaWxlJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHVzZUFkbWluU2V0dGluZ3MgfSBmcm9tICcuL2FkbWluU2V0dGluZ3MnO1xuXG4vLyBBZGQgZGVlcCBjb21wYXJpc29uIHV0aWxpdHlcbmNvbnN0IGlzRXF1YWwgPSAob2JqMSwgb2JqMikgPT4ge1xuICBpZiAob2JqMSA9PT0gb2JqMikgcmV0dXJuIHRydWU7XG4gIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iajIgIT09ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvYmoxID09PSBudWxsIHx8IG9iajIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgXG4gIGNvbnN0IGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gIFxuICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgXG4gIHJldHVybiBrZXlzMS5ldmVyeShrZXkgPT4gXG4gICAga2V5czIuaW5jbHVkZXMoa2V5KSAmJiBpc0VxdWFsKG9iajFba2V5XSwgb2JqMltrZXldKVxuICApO1xufTtcblxuLy8gQ3JlYXRlIGEgYmFzaWMgQWN0aW9uQnV0dG9uIGNvbXBvbmVudCB3aXRoIG9wdGltaXphdGlvblxuY29uc3QgQWN0aW9uQnV0dG9uID0gKHsgdGV4dCwgYWJicmV2aWF0ZWRUZXh0LCBvbkNsaWNrLCBjdXN0b21DbGFzcyA9ICcnLCBkaXNhYmxlZCA9IGZhbHNlLCBhY3RpdmUgPSBmYWxzZSB9KSA9PiB7XG4gIGNvbnN0IFtpc0FiYnJldmlhdGVkLCBzZXRJc0FiYnJldmlhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgeyBzZXR0aW5ncyB9ID0gdXNlQWRtaW5TZXR0aW5ncygpO1xuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZSgnZGVmYXVsdCcpO1xuICBjb25zdCBbaXNDYXB0dXJpbmcsIHNldElzQ2FwdHVyaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NhcHR1cmVDb3VudGVyLCBzZXRDYXB0dXJlQ291bnRlcl0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3Byb2Nlc3NTdGF0dXMsIHNldFByb2Nlc3NTdGF0dXNdID0gdXNlU3RhdGUoJycpO1xuXG4gIC8vIE1lbW9pemUgYnV0dG9uIHByb3BzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcmUtcmVuZGVyc1xuICBjb25zdCBidXR0b25Qcm9wcyA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBjbGFzc05hbWU6IGBhY3Rpb24tYnV0dG9uICR7Y3VzdG9tQ2xhc3N9ICR7aXNBYmJyZXZpYXRlZCA/ICdhYmJyZXZpYXRlZCcgOiAnJ30gJHthY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWAsXG4gICAgb25DbGljayxcbiAgICBkaXNhYmxlZCxcbiAgICB0aXRsZTogdGV4dFxuICB9KSwgW2N1c3RvbUNsYXNzLCBpc0FiYnJldmlhdGVkLCBhY3RpdmUsIG9uQ2xpY2ssIGRpc2FibGVkLCB0ZXh0XSk7XG5cbiAgLy8gQ2hlY2sgd2luZG93IHNpemUgYW5kIHNldCBhYmJyZXZpYXRlZCBtb2RlIHdpdGggZGVib3VuY2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBcbiAgICBsZXQgdGltZW91dElkO1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHNldElzQWJicmV2aWF0ZWQod2lkdGggPCA3NjgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9O1xuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIGhhbmRsZVJlc2l6ZSgpOyAvLyBJbml0aWFsIGNhbGxcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gQWRkIGVmZmVjdCB0byBsaXN0ZW4gZm9yIHVzZXIgSUQgY2hhbmdlcyB3aXRoIG9wdGltaXphdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ3VzZXJJZENoYW5nZScpIHtcbiAgICAgICAgY29uc3QgbmV3VXNlcklkID0gZXZlbnQuZGV0YWlsLnVzZXJJZDtcbiAgICAgICAgaWYgKG5ld1VzZXJJZCAhPT0gY3VycmVudFVzZXJJZCkge1xuICAgICAgICAgIHNldEN1cnJlbnRVc2VySWQobmV3VXNlcklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgfTtcbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b24gey4uLmJ1dHRvblByb3BzfT5cbiAgICAgIHtpc0FiYnJldmlhdGVkID8gYWJicmV2aWF0ZWRUZXh0IDogdGV4dH1cbiAgICAgIHtwcm9jZXNzU3RhdHVzICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9jZXNzLXN0YXR1c1wiPlxuICAgICAgICAgIHtwcm9jZXNzU3RhdHVzfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuXG4vLyBDcmVhdGUgdGhlIEFjdGlvbkJ1dHRvbkdyb3VwIGNvbXBvbmVudCB3aXRoIGNsaWVudC1zaWRlIG9ubHkgcmVuZGVyaW5nIGFuZCBvcHRpbWl6YXRpb25cbmNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwSW5uZXIgPSBmb3J3YXJkUmVmKCh7IHRyaWdnZXJDYW1lcmFBY2Nlc3MsIGlzQ29tcGFjdE1vZGUsIG9uQWN0aW9uQ2xpY2sgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHNldHRpbmdzLCB1cGRhdGVTZXR0aW5ncyB9ID0gdXNlQWRtaW5TZXR0aW5ncyhyZWYpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGJ1dHRvbiBhY3Rpb25zXG4gIGNvbnN0IFtyYW5kb21UaW1lcywgc2V0UmFuZG9tVGltZXNdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtkZWxheVNlY29uZHMsIHNldERlbGF5U2Vjb25kc10gPSB1c2VTdGF0ZSgzKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbcHJvY2Vzc1N0YXR1cywgc2V0UHJvY2Vzc1N0YXR1c10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtjb3VudGRvd25WYWx1ZSwgc2V0Q291bnRkb3duVmFsdWVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50RG90LCBzZXRDdXJyZW50RG90XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY2FsaWJyYXRpb25Qb2ludHMsIHNldENhbGlicmF0aW9uUG9pbnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2N1cnJlbnRDYWxpYnJhdGlvbkluZGV4LCBzZXRDdXJyZW50Q2FsaWJyYXRpb25JbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3JlbWFpbmluZ0NhcHR1cmVzLCBzZXRSZW1haW5pbmdDYXB0dXJlc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3Nob3dDYW52YXMsIHNldFNob3dDYW52YXNdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIFxuICAvLyBUcmFjayB0aGUgY2FwdHVyZSBjb3VudFxuICBjb25zdCBbY2FsaWJyYXRpb25IYW5kbGVyLCBzZXRDYWxpYnJhdGlvbkhhbmRsZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjYXB0dXJlQ291bnQsIHNldENhcHR1cmVDb3VudF0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2lzQ2FwdHVyaW5nLCBzZXRJc0NhcHR1cmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBUb2dnbGUgc3RhdGVzXG4gIGNvbnN0IFtzaG93SGVhZFBvc2UsIHNldFNob3dIZWFkUG9zZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Qm91bmRpbmdCb3gsIHNldFNob3dCb3VuZGluZ0JveF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93TWFzaywgc2V0U2hvd01hc2tdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1BhcmFtZXRlcnMsIHNldFNob3dQYXJhbWV0ZXJzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQ2FtZXJhQWN0aXZlLCBzZXRJc0NhbWVyYUFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UGVybWlzc2lvblBvcHVwLCBzZXRTaG93UGVybWlzc2lvblBvcHVwXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGUoJ2RlZmF1bHQnKTtcblxuICAvLyBBZGQgY2FjaGUgZm9yIHNldHRpbmdzXG4gIGNvbnN0IHNldHRpbmdzQ2FjaGUgPSB1c2VSZWYobmV3IE1hcCgpKTtcbiAgY29uc3QgbGFzdFNldHRpbmdzVXBkYXRlID0gdXNlUmVmKG5ldyBNYXAoKSk7XG5cbiAgLy8gTWVtb2l6ZSBidXR0b24gY29uZmlndXJhdGlvbnNcbiAgY29uc3QgYnV0dG9ucyA9IHVzZU1lbW8oKCkgPT4gW1xuICAgIHsgXG4gICAgICB0ZXh0OiBcIlNldCBSYW5kb21cIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IFwiU1JhbmRvbVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVNldFJhbmRvbSxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZ1xuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IFwiUmFuZG9tIERvdFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJSYW5kb21cIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVSYW5kb21Eb3QsXG4gICAgICBkaXNhYmxlZDogaXNDYXB0dXJpbmcgXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJTZXQgQ2FsaWJyYXRlXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIkNhbGlicmF0ZVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVNldENhbGlicmF0ZSxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZyBcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIkNsZWFyIEFsbFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJDbGVhclwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsZWFyQWxsXG4gICAgfSxcbiAgICB7IGRpdmlkZXI6IHRydWUgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJEcmF3IEhlYWQgcG9zZVwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJIZWFkIHBvc2VcIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVIZWFkUG9zZSxcbiAgICAgIGFjdGl2ZTogc2hvd0hlYWRQb3NlXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJTaG93IEJvdW5kaW5nIEJveFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCLimJAgQm94XCIsIFxuICAgICAgb25DbGljazogaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3gsXG4gICAgICBhY3RpdmU6IHNob3dCb3VuZGluZ0JveFxuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IGlzQ2FtZXJhQWN0aXZlID8gXCJTdG9wIENhbWVyYVwiIDogXCJTaG93IFByZXZpZXdcIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IGlzQ2FtZXJhQWN0aXZlID8gXCJTdG9wXCIgOiBcIlByZXZpZXdcIiwgXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGlmICghaXNDYW1lcmFBY3RpdmUgJiYgIXRyaWdnZXJDYW1lcmFBY2Nlc3ModHJ1ZSkpIHtcbiAgICAgICAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZVRvZ2dsZUNhbWVyYSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWN0aXZlOiBpc0NhbWVyYUFjdGl2ZSxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZ1xuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IFwi8J+YtyBTaG93IE1hc2tcIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IFwi8J+YtyBNYXNrXCIsIFxuICAgICAgb25DbGljazogaGFuZGxlVG9nZ2xlTWFzayxcbiAgICAgIGFjdGl2ZTogc2hvd01hc2tcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIlBhcmFtZXRlcnNcIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IFwiVmFsdWVzXCIsIFxuICAgICAgb25DbGljazogaGFuZGxlVG9nZ2xlUGFyYW1ldGVycyxcbiAgICAgIGFjdGl2ZTogc2hvd1BhcmFtZXRlcnNcbiAgICB9XG4gIF0sIFtpc0NhcHR1cmluZywgc2hvd0hlYWRQb3NlLCBzaG93Qm91bmRpbmdCb3gsIGlzQ2FtZXJhQWN0aXZlLCBzaG93TWFzaywgc2hvd1BhcmFtZXRlcnNdKTtcblxuICAvLyBPcHRpbWl6ZSBzZXR0aW5ncyB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNldHRpbmdzICYmIGN1cnJlbnRVc2VySWQgJiYgc2V0dGluZ3NbY3VycmVudFVzZXJJZF0pIHtcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzW2N1cnJlbnRVc2VySWRdO1xuICAgICAgY29uc3QgY2FjaGVkU2V0dGluZ3MgPSBzZXR0aW5nc0NhY2hlLmN1cnJlbnQuZ2V0KGN1cnJlbnRVc2VySWQpO1xuICAgICAgXG4gICAgICBpZiAoIWlzRXF1YWwoY2FjaGVkU2V0dGluZ3MsIHVzZXJTZXR0aW5ncykpIHtcbiAgICAgICAgc2V0UmFuZG9tVGltZXMoTnVtYmVyKHVzZXJTZXR0aW5ncy50aW1lcykgfHwgMSk7XG4gICAgICAgIHNldERlbGF5U2Vjb25kcyhOdW1iZXIodXNlclNldHRpbmdzLmRlbGF5KSB8fCAzKTtcbiAgICAgICAgc2V0dGluZ3NDYWNoZS5jdXJyZW50LnNldChjdXJyZW50VXNlcklkLCB1c2VyU2V0dGluZ3MpO1xuICAgICAgICBsYXN0U2V0dGluZ3NVcGRhdGUuY3VycmVudC5zZXQoY3VycmVudFVzZXJJZCwgRGF0ZS5ub3coKSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbc2V0dGluZ3MsIGN1cnJlbnRVc2VySWRdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHVzZXIgSUQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ3VzZXJJZENoYW5nZScpIHtcbiAgICAgICAgY29uc3QgbmV3VXNlcklkID0gZXZlbnQuZGV0YWlsLnVzZXJJZDtcbiAgICAgICAgc2V0Q3VycmVudFVzZXJJZChuZXdVc2VySWQpO1xuICAgICAgICAvLyBVcGRhdGUgc2V0dGluZ3MgZm9yIG5ldyB1c2VyXG4gICAgICAgIGlmIChzZXR0aW5ncyAmJiBzZXR0aW5nc1tuZXdVc2VySWRdKSB7XG4gICAgICAgICAgY29uc3QgdXNlclNldHRpbmdzID0gc2V0dGluZ3NbbmV3VXNlcklkXTtcbiAgICAgICAgICBzZXRSYW5kb21UaW1lcyhOdW1iZXIodXNlclNldHRpbmdzLnRpbWVzKSB8fCAxKTtcbiAgICAgICAgICBzZXREZWxheVNlY29uZHMoTnVtYmVyKHVzZXJTZXR0aW5ncy5kZWxheSkgfHwgMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICB9O1xuICB9LCBbc2V0dGluZ3NdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycpIHtcbiAgICAgICAgY29uc3QgeyB1c2VySWQsIHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgaWYgKHRpbWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RpbWVzID0gTnVtYmVyKHRpbWVzKSB8fCAxO1xuICAgICAgICAgICAgc2V0UmFuZG9tVGltZXMobmV3VGltZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGVsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RGVsYXkgPSBOdW1iZXIoZGVsYXkpIHx8IDM7XG4gICAgICAgICAgICBzZXREZWxheVNlY29uZHMobmV3RGVsYXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICB9O1xuICB9LCBbY3VycmVudFVzZXJJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTWFrZSBmdW5jdGlvbnMgZ2xvYmFsbHkgYWNjZXNzaWJsZSBhcyBhIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zID0ge1xuICAgICAgICBoYW5kbGVSYW5kb21Eb3QsXG4gICAgICAgIGhhbmRsZVNldFJhbmRvbSxcbiAgICAgICAgaGFuZGxlU2V0Q2FsaWJyYXRlLFxuICAgICAgICBoYW5kbGVDbGVhckFsbFxuICAgICAgfTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdBY3Rpb24gYnV0dG9uIGZ1bmN0aW9ucyBleHBvc2VkIHRvIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWxldGUgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucztcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIFxuICAgIC8vIEZ1bmN0aW9uIHRvIGdldCBjb250cm9sIHZhbHVlcyBmcm9tIFRvcEJhclxuICAgIGNvbnN0IHVwZGF0ZUNvbnRyb2xWYWx1ZXMgPSAoKSA9PiB7XG4gICAgICAvLyBHZXQgdGhlIHRpbWUgaW5wdXQgZWxlbWVudFxuICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwidGltZVwiXScpO1xuICAgICAgaWYgKHRpbWVJbnB1dCkge1xuICAgICAgICBjb25zdCB0aW1lVmFsdWUgPSBwYXJzZUludCh0aW1lSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgaWYgKCFpc05hTih0aW1lVmFsdWUpICYmIHRpbWVWYWx1ZSA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgcmFuZG9tVGltZXMgdG86JywgdGltZVZhbHVlKTtcbiAgICAgICAgICBzZXRSYW5kb21UaW1lcyh0aW1lVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgZGVsYXkgaW5wdXQgZWxlbWVudFxuICAgICAgY29uc3QgZGVsYXlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sLWlucHV0LWZpZWxkW2RhdGEtY29udHJvbD1cImRlbGF5XCJdJyk7XG4gICAgICBpZiAoZGVsYXlJbnB1dCkge1xuICAgICAgICBjb25zdCBkZWxheVZhbHVlID0gcGFyc2VJbnQoZGVsYXlJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKGRlbGF5VmFsdWUpICYmIGRlbGF5VmFsdWUgPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIGRlbGF5U2Vjb25kcyB0bzonLCBkZWxheVZhbHVlKTtcbiAgICAgICAgICBzZXREZWxheVNlY29uZHMoZGVsYXlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGNvbnRyb2wgaW5wdXRzXG4gICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwidGltZVwiXScpO1xuICAgIGNvbnN0IGRlbGF5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbC1pbnB1dC1maWVsZFtkYXRhLWNvbnRyb2w9XCJkZWxheVwiXScpO1xuICAgIFxuICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgIHRpbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICAgIHRpbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpOyAvLyBBbHNvIGxpc3RlbiBmb3IgaW5wdXQgZXZlbnRzXG4gICAgfVxuICAgIFxuICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICBkZWxheUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpO1xuICAgICAgZGVsYXlJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpOyAvLyBBbHNvIGxpc3RlbiBmb3IgaW5wdXQgZXZlbnRzXG4gICAgfVxuICAgIFxuICAgIC8vIEluaXRpYWwgdXBkYXRlXG4gICAgdXBkYXRlQ29udHJvbFZhbHVlcygpO1xuICAgIFxuICAgIC8vIENsZWFudXAgZXZlbnQgbGlzdGVuZXJzXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgICAgdGltZUlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpO1xuICAgICAgICB0aW1lSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGRlbGF5SW5wdXQpIHtcbiAgICAgICAgZGVsYXlJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICAgICAgZGVsYXlJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCBpbml0aWFsaXplQ2FudmFzID0gKGNhbnZhcywgcGFyZW50KSA9PiB7XG4gICAgaWYgKCFjYW52YXMgfHwgIXBhcmVudCkge1xuICAgICAgLy8gY29uc29sZS53YXJuKCdbaW5pdGlhbGl6ZUNhbnZhc10gQ2FudmFzIG9yIHBhcmVudCBpcyBudWxsJywgeyBjYW52YXMsIHBhcmVudCB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNldCBjYW52YXMgZGltZW5zaW9ucyB0byBtYXRjaCBwYXJlbnRcbiAgICAgIGNhbnZhcy53aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aCB8fCA4MDA7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhcyBhbmQgc2V0IHdoaXRlIGJhY2tncm91bmRcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gY29uc29sZS5sb2coYENhbnZhcyBpbml0aWFsaXplZCB3aXRoIGRpbWVuc2lvbnM6ICR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW2luaXRpYWxpemVDYW52YXNdIEVycm9yIGluaXRpYWxpemluZyBjYW52YXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBtYWluIGNhbnZhcyAtIGltcHJvdmVkIHRvIGJlIG1vcmUgcmVsaWFibGVcbiAgY29uc3QgZ2V0TWFpbkNhbnZhcyA9ICgpID0+IHtcbiAgICAvLyBUcnkgbXVsdGlwbGUgbWV0aG9kcyB0byBmaW5kIHRoZSBjYW52YXNcbiAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgZGlyZWN0IGNhbnZhc1JlZi5jdXJyZW50IHJlZmVyZW5jZVwiKTtcbiAgICAgIHJldHVybiBjYW52YXNSZWYuY3VycmVudDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcykge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBnbG9iYWwgd2hpdGVTY3JlZW5DYW52YXMgcmVmZXJlbmNlXCIpO1xuICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXM7XG4gICAgICByZXR1cm4gd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUcnkgbXVsdGlwbGUgc2VsZWN0b3JzIHRvIGZpbmQgdGhlIGNhbnZhc1xuICAgICAgY29uc3Qgc2VsZWN0b3JzID0gWycudHJhY2tpbmctY2FudmFzJywgJ2NhbnZhcycsICcjdHJhY2tpbmctY2FudmFzJ107XG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xuICAgICAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgIGlmIChjYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIGNhbnZhcyB2aWEgc2VsZWN0b3I6ICR7c2VsZWN0b3J9YCk7XG4gICAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXNFbGVtZW50O1xuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzRWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNhbnZhc0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5lcnJvcihcIk5vIGNhbnZhcyBmb3VuZCB0aHJvdWdoIGFueSBtZXRob2RcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGNvbnN0IG1ha2VDYW52YXNGdWxsc2NyZWVuID0gKGNhbnZhcykgPT4ge1xuICAgIC8vIEZpcnN0IGluaXRpYWxpemUgd2l0aCBwYXJlbnQgZGltZW5zaW9uc1xuICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7XG4gICAgaW5pdGlhbGl6ZUNhbnZhcyhjYW52YXMsIHBhcmVudCk7XG4gICAgXG4gICAgLy8gVGhlbiBmb3JjZSBmdWxsc2NyZWVuIHN0eWxpbmdcbiAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgY2FudmFzLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJzUnO1xuICAgIFxuICAgIC8vIEZvcmNlIGRpbWVuc2lvbnMgdG8gbWF0Y2ggd2luZG93XG4gICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBcbiAgICAvLyBDbGVhciBhbmQgcHJlcGFyZSBjYW52YXMgYWdhaW5cbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYENhbnZhcyBzZXQgdG8gZnVsbHNjcmVlbjogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgfTtcbiAgY29uc3QgcmVzdG9yZUNhbnZhc1NpemUgPSAoY2FudmFzKSA9PiB7XG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBjYW52YXMgc3R5bGluZ1xuICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnJztcbiAgICBjYW52YXMuc3R5bGUubGVmdCA9ICcnO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSAnJztcbiAgICBcbiAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIGRpbWVuc2lvbnNcbiAgICBpZiAoY2FudmFzLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIGluaXRpYWxpemVDYW52YXMoY2FudmFzLCBjYW52YXMucGFyZW50RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBlcm1pc3Npb25BY2NlcHRlZCA9ICgpID0+IHtcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBpZiAodHJpZ2dlckNhbWVyYUFjY2Vzcykge1xuICAgICAgdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlciB0byBjYW5jZWwgcGVybWlzc2lvbiBwb3B1cFxuICBjb25zdCBoYW5kbGVQZXJtaXNzaW9uRGVuaWVkID0gKCkgPT4ge1xuICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAoZmFsc2UpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byByZXN0b3JlIHRoZSBjYW52YXMgdG8gaXRzIG9yaWdpbmFsIHBhcmVudCBhbmQgc3R5bGluZ1xuICBjb25zdCByZXN0b3JlQ2FudmFzID0gKGNhbnZhcywgb3JpZ2luYWxQYXJlbnQsIG9yaWdpbmFsU3R5bGUpID0+IHtcbiAgICBpZiAoIWNhbnZhcyB8fCAhb3JpZ2luYWxQYXJlbnQpIHJldHVybjtcblxuICAgIC8vIEFwcGVuZCB0aGUgY2FudmFzIGJhY2sgdG8gaXRzIG9yaWdpbmFsIHBhcmVudCBpZiBuZWVkZWRcbiAgICBpZiAoY2FudmFzLnBhcmVudEVsZW1lbnQgIT09IG9yaWdpbmFsUGFyZW50KSB7XG4gICAgICBvcmlnaW5hbFBhcmVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZXN0b3JlIHRoZSBpbmxpbmUgc3R5bGVzIHNhdmVkIGVhcmxpZXJcbiAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBvcmlnaW5hbFN0eWxlLnBvc2l0aW9uO1xuICAgIGNhbnZhcy5zdHlsZS50b3AgPSBvcmlnaW5hbFN0eWxlLnRvcDtcbiAgICBjYW52YXMuc3R5bGUubGVmdCA9IG9yaWdpbmFsU3R5bGUubGVmdDtcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSBvcmlnaW5hbFN0eWxlLndpZHRoO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBvcmlnaW5hbFN0eWxlLmhlaWdodDtcbiAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gb3JpZ2luYWxTdHlsZS56SW5kZXg7XG4gICAgXG4gICAgLy8gUmVzZXQgdGhlIGRpbWVuc2lvbnMgYmFzZWQgb24gdGhlIHBhcmVudCBlbGVtZW50J3Mgc2l6ZSBvciBmYWxsYmFjayBkZWZhdWx0c1xuICAgIGNhbnZhcy53aWR0aCA9IG9yaWdpbmFsUGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gb3JpZ2luYWxQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICBcbiAgICAvLyBDbGVhciB0aGUgY2FudmFzIGFuZCBmaWxsIHdpdGggYSB3aGl0ZSBiYWNrZ3JvdW5kXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICB9O1xuXG5cbiAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICBjb25zdCBjbGVhckNhbnZhcyA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgaWYgKCFjYW52YXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk5vIGNhbnZhcyBmb3VuZCBmb3IgY2xlYXJpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBzZXRDdXJyZW50RG90KG51bGwpO1xuICB9O1xuICAvLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBhY3Rpb25CdXR0b24uanNcblxuICAvKipcbiAgICogQ29uc29saWRhdGVkIGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyB0aGUgZW50aXJlIGRvdCBwcm9jZXNzOiBkcmF3aW5nLCBjb3VudGRvd24sIGNhcHR1cmUsIGFuZCBwcmV2aWV3XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnBvc2l0aW9uIC0ge3gsIHl9IGNvb3JkaW5hdGVzIHdoZXJlIHRvIGRyYXcgdGhlIGRvdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3RhdHVzVXBkYXRlIC0gQ2FsbGJhY2sgZm9yIHN0YXR1cyB1cGRhdGVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMudG9nZ2xlVG9wQmFyIC0gRnVuY3Rpb24gdG8gdG9nZ2xlIHRvcCBiYXIgdmlzaWJpbGl0eVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnRyaWdnZXJDYW1lcmFBY2Nlc3MgLSBGdW5jdGlvbiB0byBlbnN1cmUgY2FtZXJhIGlzIGF2YWlsYWJsZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnNldElzQ2FwdHVyaW5nIC0gRnVuY3Rpb24gdG8gdXBkYXRlIGNhcHR1cmluZyBzdGF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5jYXB0dXJlQ291bnQgLSBDdXJyZW50IGNhcHR1cmUgY291bnRlclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnNldENhcHR1cmVDb3VudCAtIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgY2FwdHVyZSBjb3VudGVyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy51c2VSYW5kb21Qb3NpdGlvbiAtIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYSByYW5kb20gcG9zaXRpb25cbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBSZXN1bHQgb2JqZWN0IHdpdGggY2FwdHVyZSBkYXRhXG4gICAqL1xuICAvLyBNb2RpZmllZCBoYW5kbGVEb3RQcm9jZXNzIGZ1bmN0aW9uIHdpdGggaW1wcm92ZWQgZG90IGFuZCBjb3VudGRvd24gYWxpZ25tZW50XG4gIGNvbnN0IGhhbmRsZURvdFByb2Nlc3MgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgb25TdGF0dXNVcGRhdGUsXG4gICAgICB0b2dnbGVUb3BCYXIsXG4gICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzLFxuICAgICAgc2V0SXNDYXB0dXJpbmcsXG4gICAgICBjYXB0dXJlQ291bnQsXG4gICAgICBzZXRDYXB0dXJlQ291bnQsXG4gICAgICB1c2VSYW5kb21Qb3NpdGlvbiA9IGZhbHNlLFxuICAgICAgcG9zdENvdW50ZG93bkRlbGF5ID0gNTAwIFxuICAgIH0gPSBvcHRpb25zO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBIaWRlIHRoZSBUb3BCYXIgYmVmb3JlIHNob3dpbmcgdGhlIGRvdFxuICAgICAgaWYgKHR5cGVvZiB0b2dnbGVUb3BCYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2V0IGNhcHR1cmluZyBzdGF0ZVxuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXNcbiAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiB1c2VSYW5kb21Qb3NpdGlvbiA/ICdHZW5lcmF0aW5nIHJhbmRvbSBkb3QuLi4nIDogJ1N0YXJ0aW5nIGRvdCBwcm9jZXNzLi4uJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBVSSB1cGRhdGVzIHRvIHRha2UgZWZmZWN0XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKSk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjYW52YXMgcmVmZXJlbmNlIHdpdGggcmV0cmllc1xuICAgICAgbGV0IGNhbnZhcyA9IG51bGw7XG4gICAgICBsZXQgcmV0cnlDb3VudCA9IDA7XG4gICAgICBjb25zdCBtYXhSZXRyaWVzID0gMztcbiAgICAgIFxuICAgICAgd2hpbGUgKCFjYW52YXMgJiYgcmV0cnlDb3VudCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgQ2FudmFzIG5vdCBmb3VuZCwgcmV0cnkgJHtyZXRyeUNvdW50ICsgMX0vJHttYXhSZXRyaWVzfWApO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIG5vdCBhdmFpbGFibGUgYWZ0ZXIgbXVsdGlwbGUgcmV0cmllc1wiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2F2ZSBvcmlnaW5hbCBzdGF0ZSBmb3IgcmVzdG9yYXRpb25cbiAgICAgIGNvbnN0IG9yaWdpbmFsUGFyZW50ID0gY2FudmFzLnBhcmVudEVsZW1lbnQ7XG4gICAgICBjb25zdCBvcmlnaW5hbFN0eWxlID0ge1xuICAgICAgICBwb3NpdGlvbjogY2FudmFzLnN0eWxlLnBvc2l0aW9uLFxuICAgICAgICB0b3A6IGNhbnZhcy5zdHlsZS50b3AsXG4gICAgICAgIGxlZnQ6IGNhbnZhcy5zdHlsZS5sZWZ0LFxuICAgICAgICB3aWR0aDogY2FudmFzLnN0eWxlLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNhbnZhcy5zdHlsZS5oZWlnaHQsXG4gICAgICAgIHpJbmRleDogY2FudmFzLnN0eWxlLnpJbmRleFxuICAgICAgfTtcblxuICAgICAgLy8gUHJlcGFyZSBjYW52YXMgZm9yIGZ1bGxzY3JlZW4gZGlzcGxheVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgICBjYW52YXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDB2dyc7XG4gICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSAnMTAnO1xuICAgICAgXG4gICAgICAvLyBTZXQgZGltZW5zaW9ucyB0byBtYXRjaCB3aW5kb3cgZXhhY3RseVxuICAgICAgY29uc3QgY2FudmFzV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgY2FudmFzIHdpdGggd2hpdGUgYmFja2dyb3VuZFxuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBwb3NpdGlvbiBmb3IgdGhlIGRvdCAtIGVpdGhlciB1c2UgcHJvdmlkZWQgcG9zaXRpb24gb3IgZ2VuZXJhdGUgcmFuZG9tIG9uZVxuICAgICAgY29uc3QgZG90UG9zaXRpb24gPSB1c2VSYW5kb21Qb3NpdGlvbiBcbiAgICAgICAgPyBnZXRSYW5kb21Qb3NpdGlvbihjYW52YXMsIDIwKSBcbiAgICAgICAgOiBwb3NpdGlvbjtcbiAgICAgIFxuICAgICAgaWYgKCFkb3RQb3NpdGlvbiB8fCB0eXBlb2YgZG90UG9zaXRpb24ueCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGRvdFBvc2l0aW9uLnkgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZG90IHBvc2l0aW9uXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBEcmF3IHRoZSBkb3RcbiAgICAgIGNvbnN0IGRvdFJhZGl1cyA9IDEyO1xuICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSByZWRyYXcgaW50ZXJ2YWwgdG8gZW5zdXJlIGRvdCBzdGF5cyB2aXNpYmxlXG4gICAgICBsZXQga2VlcERvdFZpc2libGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgfSwgNTApOyAgLy8gTW9yZSBmcmVxdWVudCB1cGRhdGVzIGZvciByZWxpYWJpbGl0eVxuICAgICAgXG4gICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGNvdW50ZG93biBlbGVtZW50c1xuICAgICAgY29uc3QgZXhpc3RpbmdDb3VudGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvdC1jb3VudGRvd24sIC5jYWxpYnJhdGUtY291bnRkb3duJyk7XG4gICAgICBleGlzdGluZ0NvdW50ZG93bnMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGlmIChlbC5wYXJlbnROb2RlKSBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBjb3VudGRvd24gZWxlbWVudCBkaXJlY3RseSBvbiB0b3Agb2YgdGhlIGRvdFxuICAgICAgLy8gSW1wb3J0YW50OiBQb3NpdGlvbiB0aGUgY291bnRkb3duIGNlbnRlcmVkIGRpcmVjdGx5IG92ZXIgdGhlIGRvdFxuICAgICAgY29uc3QgY291bnRkb3duRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY291bnRkb3duRWxlbWVudC5jbGFzc05hbWUgPSAnZG90LWNvdW50ZG93bic7XG4gICAgICBjb3VudGRvd25FbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgbGVmdDogJHtkb3RQb3NpdGlvbi54fXB4O1xuICAgICAgICB0b3A6ICR7ZG90UG9zaXRpb24ueX1weDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMzZweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCB3aGl0ZSwgMCAwIDIwcHggd2hpdGU7XG4gICAgICAgIHotaW5kZXg6IDEwMDAwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgICAgYDtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY291bnRkb3duRWxlbWVudCk7XG4gICAgICBcbiAgICAgIC8vIE1hbnVhbCBjb3VudGRvd25cbiAgICAgIGZvciAobGV0IGNvdW50ID0gMzsgY291bnQgPiAwOyBjb3VudC0tKSB7XG4gICAgICAgIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBjb3VudDtcbiAgICAgICAgXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICAgIHByb2Nlc3NTdGF0dXM6IGBDb3VudGRvd246ICR7Y291bnR9YCxcbiAgICAgICAgICBjb3VudGRvd25WYWx1ZTogY291bnQsXG4gICAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWRyYXcgdGhlIGRvdCBmb3IgcmVsaWFiaWxpdHlcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkaXRpb25hbCByZWRyYXcgZHVyaW5nIGNvdW50ZG93biB0byBlbnN1cmUgdmlzaWJpbGl0eVxuICAgICAgICBkcmF3UmVkRG90KGN0eCwgZG90UG9zaXRpb24ueCwgZG90UG9zaXRpb24ueSwgZG90UmFkaXVzLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNob3cgY2hlY2ttYXJrXG4gICAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gXCLinJNcIjtcbiAgICAgIFxuICAgICAgLy8gTWFrZSBzdXJlIGRvdCBpcyBzdGlsbCB2aXNpYmxlXG4gICAgICBkcmF3UmVkRG90KGN0eCwgZG90UG9zaXRpb24ueCwgZG90UG9zaXRpb24ueSwgZG90UmFkaXVzLCBmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBjb3VudGRvd24gZWxlbWVudCBhZnRlciBkZWxheVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY291bnRkb3duRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMCk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgYWZ0ZXIgY291bnRkb3duIGNvbXBsZXRlc1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHBvc3RDb3VudGRvd25EZWxheSkpO1xuICAgICAgXG4gICAgICAvLyBFbnN1cmUgdGhlIGRvdCBpcyBzdGlsbCB2aXNpYmxlXG4gICAgICBkcmF3UmVkRG90KGN0eCwgZG90UG9zaXRpb24ueCwgZG90UG9zaXRpb24ueSwgZG90UmFkaXVzLCBmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIENhcHR1cmUgaW1hZ2VzIGF0IHRoaXMgcG9pbnRcbiAgICAgIGNvbnN0IGNhcHR1cmVSZXN1bHQgPSBhd2FpdCBjYXB0dXJlSW1hZ2VzQXRQb2ludCh7XG4gICAgICAgIHBvaW50OiBkb3RQb3NpdGlvbixcbiAgICAgICAgY2FwdHVyZUNvdW50OiBjYXB0dXJlQ291bnQsXG4gICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnQsXG4gICAgICAgIHNob3dDYXB0dXJlUHJldmlld1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHJlZHJhdyBpbnRlcnZhbFxuICAgICAgY2xlYXJJbnRlcnZhbChrZWVwRG90VmlzaWJsZUludGVydmFsKTtcbiAgICAgIFxuICAgICAgLy8gUmVzdG9yZSBjYW52YXMgdG8gb3JpZ2luYWwgc3RhdGVcbiAgICAgIGlmIChvcmlnaW5hbFBhcmVudCAmJiBjYW52YXMucGFyZW50RWxlbWVudCAhPT0gb3JpZ2luYWxQYXJlbnQpIHtcbiAgICAgICAgb3JpZ2luYWxQYXJlbnQuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gb3JpZ2luYWxTdHlsZS5wb3NpdGlvbiB8fCAnJztcbiAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSBvcmlnaW5hbFN0eWxlLnRvcCB8fCAnJztcbiAgICAgIGNhbnZhcy5zdHlsZS5sZWZ0ID0gb3JpZ2luYWxTdHlsZS5sZWZ0IHx8ICcnO1xuICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gb3JpZ2luYWxTdHlsZS53aWR0aCB8fCAnMTAwJSc7XG4gICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxTdHlsZS5oZWlnaHQgfHwgJzEwMCUnO1xuICAgICAgY2FudmFzLnN0eWxlLnpJbmRleCA9IG9yaWdpbmFsU3R5bGUuekluZGV4IHx8ICcnO1xuICAgICAgXG4gICAgICAvLyBSZXNldCBkaW1lbnNpb25zXG4gICAgICBpZiAob3JpZ2luYWxQYXJlbnQpIHtcbiAgICAgICAgY2FudmFzLndpZHRoID0gb3JpZ2luYWxQYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gb3JpZ2luYWxQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdHVzXG4gICAgICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICAgICAgcHJvY2Vzc1N0YXR1czogJ0NhcHR1cmUgY29tcGxldGVkJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyBUb3BCYXIgYWdhaW4gYWZ0ZXIgYSBkZWxheVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9nZ2xlVG9wQmFyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9LCAyMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcG9zaXRpb246IGRvdFBvc2l0aW9uLFxuICAgICAgICBjYXB0dXJlUmVzdWx0XG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBoYW5kbGVEb3RQcm9jZXNzOlwiLCBlcnJvcik7XG4gICAgICBcbiAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiBgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICBpc0NhcHR1cmluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0b2dnbGVUb3BCYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlU2V0Q2FsaWJyYXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIC8vIERlY2xhcmUgdGhlc2UgdmFyaWFibGVzIE9VVFNJREUgdGhlIHRyeSBibG9ja1xuICAgIGxldCBjYW52YXMgPSBudWxsO1xuICAgIGxldCBvcmlnaW5hbENhbnZhc1BhcmVudCA9IG51bGw7XG4gICAgbGV0IG9yaWdpbmFsQ2FudmFzU3R5bGUgPSB7fTtcbiAgICBsZXQgc3RhdHVzSW5kaWNhdG9yID0gbnVsbDtcbiAgICBsZXQgY3VycmVudFJlZHJhd0ludGVydmFsID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICAvLyBIaWRlIFRvcEJhclxuICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gICAgICBzZXRTaG93Q2FudmFzKHRydWUpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhcIlN0YXJ0aW5nIGNhbGlicmF0aW9uIHNlcXVlbmNlLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBVSSB1cGRhdGVzIHRvIHRha2UgZWZmZWN0XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwKSk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjYW52YXMgcmVmZXJlbmNlXG4gICAgICBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKFwiRXJyb3I6IENhbnZhcyBub3QgZm91bmRcIik7XG4gICAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25BY3Rpb25DbGljaygndG9nZ2xlVG9wQmFyJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTYXZlIG9yaWdpbmFsIHBhcmVudCBhbmQgc3R5bGVcbiAgICAgIG9yaWdpbmFsQ2FudmFzUGFyZW50ID0gY2FudmFzLnBhcmVudEVsZW1lbnQ7XG4gICAgICBvcmlnaW5hbENhbnZhc1N0eWxlID0ge1xuICAgICAgICBwb3NpdGlvbjogY2FudmFzLnN0eWxlLnBvc2l0aW9uLFxuICAgICAgICB0b3A6IGNhbnZhcy5zdHlsZS50b3AsXG4gICAgICAgIGxlZnQ6IGNhbnZhcy5zdHlsZS5sZWZ0LFxuICAgICAgICB3aWR0aDogY2FudmFzLnN0eWxlLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNhbnZhcy5zdHlsZS5oZWlnaHQsXG4gICAgICAgIHpJbmRleDogY2FudmFzLnN0eWxlLnpJbmRleFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gTW92ZSBjYW52YXMgdG8gYm9keSBmb3IgbWF4aW11bSByZWxpYWJpbGl0eVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgXG4gICAgICAvLyBNYWtlIGNhbnZhcyBmdWxsc2NyZWVuIHdpdGggZml4ZWQgcG9zaXRpb25pbmdcbiAgICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICBjYW52YXMuc3R5bGUudG9wID0gJzAnO1xuICAgICAgY2FudmFzLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICBjYW52YXMuc3R5bGUud2lkdGggPSAnMTAwdncnO1xuICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7XG4gICAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJzEwJztcbiAgICAgIFxuICAgICAgLy8gU2V0IGRpbWVuc2lvbnMgdG8gbWF0Y2ggd2luZG93IGV4YWN0bHlcbiAgICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBjb25zdCBjYW52YXNIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBDYW52YXMgc2V0IHRvIGZ1bGxzY3JlZW46ICR7Y2FudmFzV2lkdGh9eCR7Y2FudmFzSGVpZ2h0fWApO1xuICAgICAgXG4gICAgICAvLyBHZXQgY29udGV4dFxuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhcyB3aXRoIHdoaXRlIGJhY2tncm91bmRcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcblxuICAgICAgLy8gR2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzIGJhc2VkIG9uIHRoZSBjYW52YXMgc2l6ZVxuICAgICAgY29uc3QgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzJyk7XG4gICAgICBjb25zdCBwb2ludHMgPSBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgXG4gICAgICBpZiAoIXBvaW50cyB8fCBwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBjYWxpYnJhdGlvbiBwb2ludHNcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgIHN0YXR1c0luZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc3RhdHVzSW5kaWNhdG9yLmNsYXNzTmFtZSA9ICdjYWxpYnJhdGUtc3RhdHVzLWluZGljYXRvcic7XG4gICAgICBzdGF0dXNJbmRpY2F0b3Iuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDIwcHg7XG4gICAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDEwMiwgMjA0LCAwLjkpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICBgO1xuICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ0NhbGlicmF0aW9uOiBJbml0aWFsaXppbmcuLi4nO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdGF0dXNJbmRpY2F0b3IpO1xuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIGVhY2ggY2FsaWJyYXRpb24gcG9pbnRcbiAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgcmVkcmF3IGludGVydmFsXG4gICAgICAgIGlmIChjdXJyZW50UmVkcmF3SW50ZXJ2YWwpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGN1cnJlbnRSZWRyYXdJbnRlcnZhbCk7XG4gICAgICAgICAgY3VycmVudFJlZHJhd0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHN0YXR1cyBkaXNwbGF5c1xuICAgICAgICBzdGF0dXNJbmRpY2F0b3IudGV4dENvbnRlbnQgPSBgQ2FsaWJyYXRpb246IFBvaW50ICR7aSArIDF9LyR7cG9pbnRzLmxlbmd0aH1gO1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBQcm9jZXNzaW5nIGNhbGlicmF0aW9uIHBvaW50ICR7aSArIDF9LyR7cG9pbnRzLmxlbmd0aH1gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc2V0IGNhbnZhcyBpZiBkaW1lbnNpb25zIGNoYW5nZWRcbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gY2FudmFzV2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gY2FudmFzSGVpZ2h0KSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBDYW52YXMgZGltZW5zaW9ucyBjaGFuZ2VkLiBSZXNldHRpbmcgdG8gJHtjYW52YXNXaWR0aH14JHtjYW52YXNIZWlnaHR9YCk7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTWFrZSBzdXJlIGNhbnZhcyBpcyBzdGlsbCBhdHRhY2hlZCB0byBib2R5IGFuZCBpbiBmdWxsc2NyZWVuIG1vZGVcbiAgICAgICAgaWYgKGNhbnZhcy5wYXJlbnRFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgICBjYW52YXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSAnMTAwdncnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSAnMTAnO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciBjYW52YXMgd2l0aCB3aGl0ZSBiYWNrZ3JvdW5kXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IHRoZSBjYWxpYnJhdGlvbiBwb2ludFxuICAgICAgICBjb25zdCByYWRpdXMgPSAxNDsgLy8gU2xpZ2h0bHkgbGFyZ2VyIGZvciBiZXR0ZXIgdmlzaWJpbGl0eVxuICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgcmFkaXVzLCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgcmVkcmF3IGZ1bmN0aW9uIGZvciB0aGlzIHBvaW50XG4gICAgICAgIGNvbnN0IHJlZHJhd0N1cnJlbnREb3QgPSAoKSA9PiB7XG4gICAgICAgICAgLy8gVmVyaWZ5IGNhbnZhcyBkaW1lbnNpb25zIGFuZCBwYXJlbnRcbiAgICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9PSBjYW52YXNXaWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9PSBjYW52YXNIZWlnaHQpIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgY2FudmFzIGlzIHN0aWxsIGF0dGFjaGVkIHRvIGJvZHlcbiAgICAgICAgICBpZiAoY2FudmFzLnBhcmVudEVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVkcmF3IGRvdCB3aXRob3V0IGNsZWFyaW5nXG4gICAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvaW50LngsIHBvaW50LnksIHJhZGl1cywgZmFsc2UpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gU3RhcnQgcmVkcmF3IGludGVydmFsIC0gbW9yZSBmcmVxdWVudCB1cGRhdGVzIGZvciByZWxpYWJsZSBkb3QgdmlzaWJpbGl0eVxuICAgICAgICBjdXJyZW50UmVkcmF3SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChyZWRyYXdDdXJyZW50RG90LCA1MCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGNvdW50ZG93biBlbGVtZW50c1xuICAgICAgICBjb25zdCBleGlzdGluZ0NvdW50ZG93bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZG90LWNvdW50ZG93biwgLmNhbGlicmF0ZS1jb3VudGRvd24nKTtcbiAgICAgICAgZXhpc3RpbmdDb3VudGRvd25zLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgIGlmIChlbC5wYXJlbnROb2RlKSBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgY3VzdG9tIGNvdW50ZG93biBlbGVtZW50XG4gICAgICAgIGNvbnN0IGNvdW50ZG93bkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC5jbGFzc05hbWUgPSAnZG90LWNvdW50ZG93bic7IC8vIENvbnNpc3RlbnQgY2xhc3MgbmFtZVxuICAgICAgICBjb3VudGRvd25FbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgIGxlZnQ6ICR7cG9pbnQueH1weDtcbiAgICAgICAgICB0b3A6ICR7cG9pbnQueSAtIDYwfXB4O1xuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMzZweDtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggd2hpdGUsIDAgMCAyMHB4IHdoaXRlO1xuICAgICAgICAgIHotaW5kZXg6IDEwMDAwO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTtcbiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCByZWQ7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgICAgICBgO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBNYW51YWwgY291bnRkb3duXG4gICAgICAgICAgZm9yIChsZXQgY291bnQgPSAzOyBjb3VudCA+IDA7IGNvdW50LS0pIHtcbiAgICAgICAgICAgIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBjb3VudDtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFBvaW50ICR7aSsxfS8ke3BvaW50cy5sZW5ndGh9OiBDb3VudGRvd24gJHtjb3VudH1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9yY2UgcmVkcmF3IG11bHRpcGxlIHRpbWVzIGR1cmluZyBjb3VudGRvd24gdG8gZW5zdXJlIHZpc2liaWxpdHlcbiAgICAgICAgICAgIHJlZHJhd0N1cnJlbnREb3QoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZWRyYXcgYWdhaW4gaGFsZndheSB0aHJvdWdoIHRoZSB3YWl0IHRvIGVuc3VyZSBkb3Qgc3RheXMgdmlzaWJsZVxuICAgICAgICAgICAgcmVkcmF3Q3VycmVudERvdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaG93IGNoZWNrbWFya1xuICAgICAgICAgIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBcIuKck1wiO1xuICAgICAgICAgIHJlZHJhd0N1cnJlbnREb3QoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZW1vdmUgY291bnRkb3duIGVsZW1lbnQgYWZ0ZXIgZGVsYXlcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIGRvdCBpcyBzdGlsbCB2aXNpYmxlXG4gICAgICAgICAgcmVkcmF3Q3VycmVudERvdCgpO1xuXG4gICAgICAvLyBDYXB0dXJlIGltYWdlcyBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgY29uc29sZS5sb2coYENhcHR1cmluZyBjYWxpYnJhdGlvbiBwb2ludCAke2krMX0vJHtwb2ludHMubGVuZ3RofSBhdCAoJHtwb2ludC54fSwgJHtwb2ludC55fSlgKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNYW51YWwgZm9yY2UgcmVkcmF3IG9uZSBtb3JlIHRpbWUganVzdCBiZWZvcmUgY2FwdHVyZVxuICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb2ludC54LCBwb2ludC55LCByYWRpdXMsIGZhbHNlKTtcbiAgICAgICAgICBcbiAgICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudCxcbiAgICAgICAgICBjYW52YXNSZWY6IHsgY3VycmVudDogY2FudmFzIH0sXG4gICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnQsXG4gICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjYXB0dXJlUmVzdWx0ICYmIChjYXB0dXJlUmVzdWx0LnNjcmVlbkltYWdlIHx8IGNhcHR1cmVSZXN1bHQuc3VjY2VzcykpIHtcbiAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2FpdCBiZXR3ZWVuIHBvaW50c1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMjAwKSk7XG4gICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBjYWxpYnJhdGlvbiBwb2ludCAke2krMX06YCwgZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIC8vIENsZWFuIHVwIGNvdW50ZG93biBpZiBpdCBzdGlsbCBleGlzdHNcbiAgICAgICAgICBpZiAoY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY291bnRkb3duRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIHJlZHJhdyBpbnRlcnZhbFxuICAgICAgICAgIGlmIChjdXJyZW50UmVkcmF3SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY3VycmVudFJlZHJhd0ludGVydmFsKTtcbiAgICAgICAgICAgIGN1cnJlbnRSZWRyYXdJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENhbGlicmF0aW9uIGNvbXBsZXRlXG4gICAgICBpZiAoc3RhdHVzSW5kaWNhdG9yKSB7XG4gICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbiBjb21wbGV0ZTogJHtzdWNjZXNzQ291bnR9LyR7cG9pbnRzLmxlbmd0aH0gcG9pbnRzYDtcbiAgICAgIH1cbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYENhbGlicmF0aW9uIGNvbXBsZXRlZDogJHtzdWNjZXNzQ291bnR9LyR7cG9pbnRzLmxlbmd0aH0gcG9pbnRzIGNhcHR1cmVkYCk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNhbGlicmF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYWxpYnJhdGlvbiBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCByZWRyYXcgaW50ZXJ2YWxcbiAgICAgIGlmIChjdXJyZW50UmVkcmF3SW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjdXJyZW50UmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBSZW1vdmUgc3RhdHVzIGluZGljYXRvciBpZiBpdCBleGlzdHNcbiAgICAgIGlmIChzdGF0dXNJbmRpY2F0b3IgJiYgc3RhdHVzSW5kaWNhdG9yLnBhcmVudE5vZGUpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgICAgfSwgMzAwMCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgY2FudmFzIHRvIG9yaWdpbmFsIHBhcmVudCBhbmQgc3R5bGluZyAtIE9ubHkgaWYgY2FudmFzIHdhcyBzdWNjZXNzZnVsbHkgaW5pdGlhbGl6ZWRcbiAgICAgIGlmIChjYW52YXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUcnkgdG8gZmluZCBvcmlnaW5hbCBwYXJlbnRcbiAgICAgICAgICBpZiAob3JpZ2luYWxDYW52YXNQYXJlbnQgJiYgY2FudmFzLnBhcmVudEVsZW1lbnQgIT09IG9yaWdpbmFsQ2FudmFzUGFyZW50KSB7XG4gICAgICAgICAgICBvcmlnaW5hbENhbnZhc1BhcmVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIW9yaWdpbmFsQ2FudmFzUGFyZW50KSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBsb29raW5nIGZvciBhIGNvbnRhaW5lciBlbGVtZW50XG4gICAgICAgICAgICBjb25zdCBwb3NzaWJsZVBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgICAgICAgICBpZiAocG9zc2libGVQYXJlbnQgJiYgY2FudmFzLnBhcmVudEVsZW1lbnQgIT09IHBvc3NpYmxlUGFyZW50KSB7XG4gICAgICAgICAgICAgIHBvc3NpYmxlUGFyZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc3RvcmUgc3R5bGluZ1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9IG9yaWdpbmFsQ2FudmFzU3R5bGUucG9zaXRpb24gfHwgJyc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLnRvcCA9IG9yaWdpbmFsQ2FudmFzU3R5bGUudG9wIHx8ICcnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5sZWZ0ID0gb3JpZ2luYWxDYW52YXNTdHlsZS5sZWZ0IHx8ICcnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IG9yaWdpbmFsQ2FudmFzU3R5bGUud2lkdGggfHwgJzEwMCUnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBvcmlnaW5hbENhbnZhc1N0eWxlLmhlaWdodCB8fCAnMTAwJSc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLnpJbmRleCA9IG9yaWdpbmFsQ2FudmFzU3R5bGUuekluZGV4IHx8ICcnO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc2V0IGRpbWVuc2lvbnMgYmFzZWQgb24gcGFyZW50XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gY2FudmFzLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gODAwO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IDYwMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgY2FudmFzIHdpdGggd2hpdGUgYmFja2dyb3VuZFxuICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbnZhcyByZXN0b3JlZCB0byBvcmlnaW5hbCBzdGF0ZVwiKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXN0b3JpbmcgY2FudmFzOlwiLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFNob3cgVG9wQmFyIGFnYWluXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25BY3Rpb25DbGljaygndG9nZ2xlVG9wQmFyJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZXRSYW5kb20gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzQ2FwdHVyaW5nKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFsd2F5cyBnZXQgdGhlIGxhdGVzdCBzZXR0aW5ncyBmcm9tIGNvbnRleHQgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzICYmIHNldHRpbmdzW2N1cnJlbnRVc2VySWRdID8gc2V0dGluZ3NbY3VycmVudFVzZXJJZF0gOiB7fTtcbiAgICAgIGNvbnN0IHRpbWVzID0gTnVtYmVyKHVzZXJTZXR0aW5ncy50aW1lcykgfHwgTnVtYmVyKHJhbmRvbVRpbWVzKSB8fCAxO1xuICAgICAgY29uc3QgZGVsYXkgPSBOdW1iZXIodXNlclNldHRpbmdzLmRlbGF5KSB8fCBOdW1iZXIoZGVsYXlTZWNvbmRzKSB8fCAzO1xuXG4gICAgICAvLyBMb2cgY3VycmVudCBzZXR0aW5ncyBiZWZvcmUgc3RhcnRpbmdcbiAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBTZXQgUmFuZG9tIHdpdGggc2V0dGluZ3M6Jywge1xuICAgICAgICByYW5kb21UaW1lcyxcbiAgICAgICAgZGVsYXlTZWNvbmRzLFxuICAgICAgICBjdXJyZW50VXNlcklkLFxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgdXNlclNldHRpbmdzLFxuICAgICAgICB0aW1lcyxcbiAgICAgICAgZGVsYXlcbiAgICAgIH0pO1xuXG4gICAgICAvLyBIaWRlIFRvcEJhclxuICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gICAgICBzZXRSZW1haW5pbmdDYXB0dXJlcyh0aW1lcyk7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBTdGFydGluZyAke3RpbWVzfSByYW5kb20gY2FwdHVyZXMgd2l0aCAke2RlbGF5fXMgZGVsYXkuLi5gKTtcblxuICAgICAgLy8gUHJvY2VzcyBhbGwgY2FwdHVyZXMgaW4gc2VxdWVuY2VcbiAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBjdXJyZW50SW5kZXggPSAxOyBjdXJyZW50SW5kZXggPD0gdGltZXM7IGN1cnJlbnRJbmRleCsrKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgZm9yIGN1cnJlbnQgY2FwdHVyZVxuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYXB0dXJlICR7Y3VycmVudEluZGV4fSBvZiAke3RpbWVzfWApO1xuICAgICAgICBzZXRSZW1haW5pbmdDYXB0dXJlcyh0aW1lcyAtIGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIGNhcHR1cmUgJHtjdXJyZW50SW5kZXh9IG9mICR7dGltZXN9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgaGFuZGxlRG90UHJvY2VzcyBmb3IgZWFjaCBjYXB0dXJlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZURvdFByb2Nlc3Moe1xuICAgICAgICAgIHVzZVJhbmRvbVBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FwdHVyZSAke2N1cnJlbnRJbmRleH0vJHt0aW1lc306ICR7c3RhdHVzLnByb2Nlc3NTdGF0dXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b2dnbGVUb3BCYXI6IChzaG93KSA9PiB7XG4gICAgICAgICAgICAvLyBPbmx5IHNob3cgVG9wQmFyIGFmdGVyIHRoZSBsYXN0IGNhcHR1cmVcbiAgICAgICAgICAgIGlmIChzaG93ICYmIGN1cnJlbnRJbmRleCA8IHRpbWVzKSB7XG4gICAgICAgICAgICAgIHJldHVybjsgLy8gRG9uJ3Qgc2hvdyB5ZXQgZm9yIGludGVybWVkaWF0ZSBjYXB0dXJlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uQWN0aW9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgb25BY3Rpb25DbGljaygndG9nZ2xlVG9wQmFyJywgc2hvdyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcihzaG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRyaWdnZXJDYW1lcmFBY2Nlc3MsXG4gICAgICAgICAgc2V0SXNDYXB0dXJpbmc6IChjYXB0dXJpbmcpID0+IHtcbiAgICAgICAgICAgIC8vIE9ubHkgc2V0IGNhcHR1cmluZyB0byBmYWxzZSBhZnRlciBhbGwgY2FwdHVyZXNcbiAgICAgICAgICAgIGlmICghY2FwdHVyaW5nICYmIGN1cnJlbnRJbmRleCA8IHRpbWVzKSB7XG4gICAgICAgICAgICAgIHJldHVybjsgLy8gU3RheSBpbiBjYXB0dXJpbmcgc3RhdGUgYmV0d2VlbiBkb3RzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRJc0NhcHR1cmluZyhjYXB0dXJpbmcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FwdHVyZUNvdW50LFxuICAgICAgICAgIHNldENhcHR1cmVDb3VudCxcbiAgICAgICAgICBwb3N0Q291bnRkb3duRGVsYXk6IDgwMFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZCBjYXB0dXJlICR7Y3VycmVudEluZGV4fWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgQ2FwdHVyZSAke2N1cnJlbnRJbmRleH0gbWF5IGhhdmUgZmFpbGVkOmAsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFdhaXQgYmV0d2VlbiBjYXB0dXJlcyAtIGJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBtb3JlIGNhcHR1cmVzIHRvIGdvXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPCB0aW1lcykge1xuICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFdhaXRpbmcgJHtkZWxheX1zIGJlZm9yZSBuZXh0IGNhcHR1cmUuLi5gKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgV2FpdGluZyAke2RlbGF5fXMgYmVmb3JlIG5leHQgY2FwdHVyZS4uLmApO1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSAqIDEwMDApKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb21wbGV0aW9uIG5vdGlmaWNhdGlvblxuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgUmFuZG9tIGNhcHR1cmUgc2VxdWVuY2UgY29tcGxldGVkOiAke3N1Y2Nlc3NDb3VudH0vJHt0aW1lc30gY2FwdHVyZXMgc3VjY2Vzc2Z1bGApO1xuICAgICAgc2V0UmVtYWluaW5nQ2FwdHVyZXMoMCk7XG4gICAgICBjb25zb2xlLmxvZyhgQ29tcGxldGVkIGFsbCBjYXB0dXJlczogJHtzdWNjZXNzQ291bnR9LyR7dGltZXN9IHN1Y2Nlc3NmdWxgKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmFuZG9tIHNlcXVlbmNlIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBSYW5kb20gc2VxdWVuY2UgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyBUb3BCYXIgYWdhaW5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9uQWN0aW9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlUmFuZG9tRG90ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIC8vIFVzZSB0aGUgY29uc29saWRhdGVkIGZ1bmN0aW9uIHdpdGggcmFuZG9tIHBvc2l0aW9uXG4gICAgYXdhaXQgaGFuZGxlRG90UHJvY2Vzcyh7XG4gICAgICB1c2VSYW5kb21Qb3NpdGlvbjogdHJ1ZSxcbiAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgIGlmIChzdGF0dXMuaXNDYXB0dXJpbmcgIT09IHVuZGVmaW5lZCkgc2V0SXNDYXB0dXJpbmcoc3RhdHVzLmlzQ2FwdHVyaW5nKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGVUb3BCYXI6IChzaG93KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHNob3cpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdHJpZ2dlckNhbWVyYUFjY2VzcyxcbiAgICAgIHNldElzQ2FwdHVyaW5nLFxuICAgICAgY2FwdHVyZUNvdW50LFxuICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnQsXG4gICAgICBwb3N0Q291bnRkb3duRGVsYXk6IDEwMDBcbiAgICB9KTtcbiAgfTtcbiAgXG5cbiAgLy8gTG9hZCBjYWxpYnJhdGlvbiBzZXR1cFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgY29uc3Qgc2V0dXBDYWxpYnJhdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdDogQ2FsaWJyYXRlSGFuZGxlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZUhhbmRsZXInKTtcbiAgICBcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbnZhcyBub3QgYXZhaWxhYmxlIGR1cmluZyBzZXR1cENhbGlicmF0aW9uXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgbWFrZUNhbnZhc0Z1bGxzY3JlZW4oY2FudmFzKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2FudmFzIHNpemU6JywgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnR2VuZXJhdGVkIGNhbGlicmF0aW9uIHBvaW50czonLCBwb2ludHMpO1xuICAgICAgICBzZXRDYWxpYnJhdGlvblBvaW50cyhwb2ludHMpO1xuICAgIFxuICAgICAgICBjb25zdCBjYWxpYnJhdGVIYW5kbGVyID0gbmV3IENhbGlicmF0ZUhhbmRsZXIoe1xuICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICBjYWxpYnJhdGlvblBvaW50czogcG9pbnRzLFxuICAgICAgICAgIHRvZ2dsZVRvcEJhcjogKHNob3cpID0+IG9uQWN0aW9uQ2xpY2s/LigndG9nZ2xlVG9wQmFyJywgc2hvdyksXG4gICAgICAgICAgc2V0T3V0cHV0VGV4dDogKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FwdHVyZUNvdW50ZXI6IGNhcHR1cmVDb3VudCxcbiAgICAgICAgICBzZXRDYXB0dXJlQ291bnRlcjogKG5ld0NvdW50ZXIpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q291bnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBzZXRDYXB0dXJlQ291bnQocHJldiA9PiBuZXdDb3VudGVyKHByZXYpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudChuZXdDb3VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhcHR1cmVGb2xkZXI6ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnLFxuICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ0NhbGlicmF0aW9uIGNvbXBsZXRlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHNldENhbGlicmF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgaGFuZGxlQWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0NhcHR1cmluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ1N0YXJ0aW5nIGNhbGlicmF0aW9uLi4uJyk7XG4gICAgICAgICAgICBhd2FpdCBjYWxpYnJhdGVIYW5kbGVyLnN0YXJ0Q2FsaWJyYXRpb24oKTtcbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgcmVzdG9yZUNhbnZhc1NpemUoY2FudmFzKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBjYWxpYnJhdGlvbjonLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXR1cENhbGlicmF0aW9uKCk7XG4gIH0sIFtjYXB0dXJlQ291bnQsIG9uQWN0aW9uQ2xpY2tdKTtcbiAgXG4gIC8vIENsZWFyIEFsbCBCdXR0b24gLSBSZXNldCBldmVyeXRoaW5nXG4gIGNvbnN0IGhhbmRsZUNsZWFyQWxsID0gKCkgPT4ge1xuICAgIGNsZWFyQ2FudmFzKCk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cygnJyk7XG4gICAgc2V0UmVtYWluaW5nQ2FwdHVyZXMoMCk7XG4gICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgIHNldENvdW50ZG93blZhbHVlKG51bGwpO1xuICAgIHNldFNob3dDYW52YXModHJ1ZSk7XG4gIH07XG5cbiAgLy8gVG9nZ2xlIEhlYWQgUG9zZSB2aXN1YWxpemF0aW9uXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUhlYWRQb3NlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0hlYWRQb3NlU3RhdGUgPSAhc2hvd0hlYWRQb3NlO1xuICAgIHNldFNob3dIZWFkUG9zZShuZXdIZWFkUG9zZVN0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBIZWFkIHBvc2UgdmlzdWFsaXphdGlvbiAke25ld0hlYWRQb3NlU3RhdGUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHRvIHVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9uc1xuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdoZWFkUG9zZScpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dIZWFkUG9zZTogbmV3SGVhZFBvc2VTdGF0ZVxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVXBkYXRlZCBiYWNrZW5kIGhlYWQgcG9zZTogJHtuZXdIZWFkUG9zZVN0YXRlfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUb2dnbGUgQm91bmRpbmcgQm94IHZpc3VhbGl6YXRpb25cbiAgY29uc3QgaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3ggPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3Qm91bmRpbmdCb3hTdGF0ZSA9ICFzaG93Qm91bmRpbmdCb3g7XG4gICAgc2V0U2hvd0JvdW5kaW5nQm94KG5ld0JvdW5kaW5nQm94U3RhdGUpO1xuICAgIHNldFByb2Nlc3NTdGF0dXMoYEJvdW5kaW5nIGJveCAke25ld0JvdW5kaW5nQm94U3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGhhbmRsZXIgdG8gdXBkYXRlIHByb2Nlc3NvciBvcHRpb25zXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ2JvdW5kaW5nQm94Jyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB2aWRlb1Byb2Nlc3NvciBvcHRpb25zIGRpcmVjdGx5IGlmIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd0JvdW5kaW5nQm94OiBuZXdCb3VuZGluZ0JveFN0YXRlXG4gICAgICB9KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBVcGRhdGVkIGJhY2tlbmQgYm91bmRpbmcgYm94OiAke25ld0JvdW5kaW5nQm94U3RhdGV9YCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRvZ2dsZSBNYXNrIHZpc3VhbGl6YXRpb25cbiAgY29uc3QgaGFuZGxlVG9nZ2xlTWFzayA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdNYXNrU3RhdGUgPSAhc2hvd01hc2s7XG4gICAgc2V0U2hvd01hc2sobmV3TWFza1N0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBNYXNrICR7bmV3TWFza1N0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHRvIHVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9uc1xuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdtYXNrJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB2aWRlb1Byb2Nlc3NvciBvcHRpb25zIGRpcmVjdGx5IGlmIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd01hc2s6IG5ld01hc2tTdGF0ZVxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVXBkYXRlZCBiYWNrZW5kIG1hc2s6ICR7bmV3TWFza1N0YXRlfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUb2dnbGUgUGFyYW1ldGVycyBkaXNwbGF5XG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3UGFyYW1ldGVyc1N0YXRlID0gIXNob3dQYXJhbWV0ZXJzO1xuICAgIHNldFNob3dQYXJhbWV0ZXJzKG5ld1BhcmFtZXRlcnNTdGF0ZSk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cyhgUGFyYW1ldGVycyAke25ld1BhcmFtZXRlcnNTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICBcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgaGFuZGxlciB0byB1cGRhdGUgcHJvY2Vzc29yIG9wdGlvbnNcbiAgICBpZiAob25BY3Rpb25DbGljaykge1xuICAgICAgb25BY3Rpb25DbGljaygncGFyYW1ldGVycycpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dQYXJhbWV0ZXJzOiBuZXdQYXJhbWV0ZXJzU3RhdGVcbiAgICAgIH0pO1xuICAgICAgLy8gY29uc29sZS5sb2coYFVwZGF0ZWQgYmFja2VuZCBwYXJhbWV0ZXJzOiAke25ld1BhcmFtZXRlcnNTdGF0ZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVG9nZ2xlIGNhbWVyYSBwcmV2aWV3XG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUNhbWVyYSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdDYW1lcmFTdGF0ZSA9ICFpc0NhbWVyYUFjdGl2ZTtcbiAgICBzZXRJc0NhbWVyYUFjdGl2ZShuZXdDYW1lcmFTdGF0ZSk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGhhbmRsZXIgd2l0aCAncHJldmlldycgYWN0aW9uXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ3ByZXZpZXcnLCBuZXdDYW1lcmFTdGF0ZSk7IC8vIFBhc3MgdGhlIG5ldyBzdGF0ZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjayB0byBkaXJlY3QgdHJpZ2dlciBpZiBubyBhY3Rpb24gaGFuZGxlclxuICAgICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdHVybmluZyBvbiBjYW1lcmEsIGVuc3VyZSB3ZSBhcHBseSBjdXJyZW50IHZpc3VhbGl6YXRpb24gc2V0dGluZ3NcbiAgICBpZiAobmV3Q2FtZXJhU3RhdGUgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAvLyBXYWl0IGEgc2hvcnQgbW9tZW50IHRvIGVuc3VyZSB0aGUgdmlkZW8gZWxlbWVudCBpcyByZWFkeVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICBzaG93SGVhZFBvc2UsXG4gICAgICAgICAgICBzaG93Qm91bmRpbmdCb3gsXG4gICAgICAgICAgICBzaG93TWFzayxcbiAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFkZCBiYWNrIGJ1dHRvbiBoYW5kbGVyXG4gIGNvbnN0IGhhbmRsZUdvQmFjayA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnLycpO1xuICB9O1xuXG4gIC8vIE1vYmlsZSBsYXlvdXQgLSAyeDUgZ3JpZFxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICB7aXNDb21wYWN0TW9kZSA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIFN0YXR1cyBkaXNwbGF5IHdpdGggbWVtb2l6YXRpb24gKi99XG4gICAgICB7dXNlTWVtbygoKSA9PiAoXG4gICAgICAgIChwcm9jZXNzU3RhdHVzIHx8IHJlbWFpbmluZ0NhcHR1cmVzID4gMCB8fCBjb3VudGRvd25WYWx1ZSkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzLWRpc3BsYXkgbXQtNCBwLTIgYmctYmx1ZS01MCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICB7cHJvY2Vzc1N0YXR1cyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtODAwXCI+e3Byb2Nlc3NTdGF0dXN9PC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3JlbWFpbmluZ0NhcHR1cmVzID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXllbGxvdy02MDBcIj5SZW1haW5pbmc6IHtyZW1haW5pbmdDYXB0dXJlc308L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7Y291bnRkb3duVmFsdWUgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDBcIj57Y291bnRkb3duVmFsdWV9PC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICApLCBbcHJvY2Vzc1N0YXR1cywgcmVtYWluaW5nQ2FwdHVyZXMsIGNvdW50ZG93blZhbHVlXSl9XG4gICAgICBcbiAgICAgIHsvKiBDYW52YXMgZm9yIGRyYXdpbmcgZG90cyAqL31cbiAgICAgIHtzaG93Q2FudmFzICYmIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtY29udGFpbmVyIG10LTRcIiBcbiAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIGhlaWdodDogJzQwdmgnLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiAnMzAwcHgnLFxuICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMGUwZTAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Y2FudmFzIFxuICAgICAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0cmFja2luZy1jYW52YXNcIlxuICAgICAgICAgICAgaWQ9XCJ0cmFja2luZy1jYW52YXNcIlxuICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyAvLyBFbnN1cmUgY2FudmFzIGlzIGRpc3BsYXllZCBhcyBibG9ja1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uTG9hZD17KGUpID0+IHtcbiAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBjYW52YXMgd2hlbiBpdCBsb2Fkc1xuICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhc1JlZi5jdXJyZW50ID0gY2FudmFzO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIGNhbnZhcyB3aXRoIHdoaXRlIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBPdmVybGF5IGZvciBjb3VudGRvd24gb24gZG90ICovfVxuICAgICAgICAgIHtjb3VudGRvd25WYWx1ZSAmJiBjdXJyZW50RG90ICYmIChcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvdC1jb3VudGRvd25cIlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGAke2N1cnJlbnREb3QueCAtIDE1fXB4YCxcbiAgICAgICAgICAgICAgICB0b3A6IGAke2N1cnJlbnREb3QueSAtIDQwfXB4YCxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NvdW50ZG93blZhbHVlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogQ2FtZXJhIFBlcm1pc3Npb24gUG9wdXAgKi99XG4gICAgICB7c2hvd1Blcm1pc3Npb25Qb3B1cCAmJiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tcG9wdXBcIiBcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgekluZGV4OiAxNVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tZGlhbG9nXCIgXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICB3aWR0aDogJzQwMHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxoMyBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tdGl0bGVcIiBcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAgMTVweCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FtZXJhIEFjY2VzcyBSZXF1aXJlZFxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1tZXNzYWdlXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDIwcHgnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEuNCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgVGhpcyBhcHBsaWNhdGlvbiBuZWVkcyBhY2Nlc3MgdG8geW91ciBjYW1lcmEgdG8gZnVuY3Rpb24gcHJvcGVybHkuIFdoZW4gcHJvbXB0ZWQgYnkgeW91ciBicm93c2VyLCBwbGVhc2UgY2xpY2sgXCJBbGxvd1wiIHRvIGdyYW50IGNhbWVyYSBhY2Nlc3MuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1idXR0b25zXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgICAgICAgICAgIGdhcDogJzEwcHgnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkRlbmllZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmMGYwZjAnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBlcm1pc3Npb25BY2NlcHRlZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDY2Y2MnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDb250aW51ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59KTtcbmNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwID0gZHluYW1pYygoKSA9PiBQcm9taXNlLnJlc29sdmUoXG4gIGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IDxBY3Rpb25CdXR0b25Hcm91cElubmVyIHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+KVxuKSwgeyBzc3I6IGZhbHNlIH0pO1xuLy8gQ3JlYXRlIGEgY2xpZW50LW9ubHkgdmVyc2lvbiBvZiBBY3Rpb25CdXR0b25Hcm91cFxuLy8gY29uc3QgQWN0aW9uQnV0dG9uR3JvdXAgPSBkeW5hbWljKCgpID0+IFByb21pc2UucmVzb2x2ZShBY3Rpb25CdXR0b25Hcm91cElubmVyKSwgeyBzc3I6IGZhbHNlIH0pO1xuXG4vLyBBZGQgZGVmYXVsdCBleHBvcnQgY29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBY3Rpb25CdXR0b25QYWdlKCkge1xuICByZXR1cm4gbnVsbDsgLy8gVGhpcyBpcyBhIHV0aWxpdHkgZmlsZSwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW5kZXIgYW55dGhpbmdcbn1cblxuZXhwb3J0IHsgQWN0aW9uQnV0dG9uLCBBY3Rpb25CdXR0b25Hcm91cCB9OyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiZm9yd2FyZFJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJ1c2VNZW1vIiwiZHluYW1pYyIsImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMiLCJzaG93Q2FwdHVyZVByZXZpZXciLCJkcmF3UmVkRG90IiwiZ2V0UmFuZG9tUG9zaXRpb24iLCJjcmVhdGVDb3VudGRvd25FbGVtZW50IiwicnVuQ291bnRkb3duIiwiY2FwdHVyZUltYWdlc0F0UG9pbnQiLCJ1c2VSb3V0ZXIiLCJ1c2VBZG1pblNldHRpbmdzIiwiaXNFcXVhbCIsIm9iajEiLCJvYmoyIiwia2V5czEiLCJPYmplY3QiLCJrZXlzIiwia2V5czIiLCJsZW5ndGgiLCJldmVyeSIsImtleSIsImluY2x1ZGVzIiwiQWN0aW9uQnV0dG9uIiwidGV4dCIsImFiYnJldmlhdGVkVGV4dCIsIm9uQ2xpY2siLCJjdXN0b21DbGFzcyIsImRpc2FibGVkIiwiYWN0aXZlIiwiaXNBYmJyZXZpYXRlZCIsInNldElzQWJicmV2aWF0ZWQiLCJzZXR0aW5ncyIsImN1cnJlbnRVc2VySWQiLCJzZXRDdXJyZW50VXNlcklkIiwiaXNDYXB0dXJpbmciLCJzZXRJc0NhcHR1cmluZyIsImNhcHR1cmVDb3VudGVyIiwic2V0Q2FwdHVyZUNvdW50ZXIiLCJwcm9jZXNzU3RhdHVzIiwic2V0UHJvY2Vzc1N0YXR1cyIsImJ1dHRvblByb3BzIiwiY2xhc3NOYW1lIiwidGl0bGUiLCJ0aW1lb3V0SWQiLCJoYW5kbGVSZXNpemUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVVc2VySWRDaGFuZ2UiLCJldmVudCIsImRldGFpbCIsInR5cGUiLCJuZXdVc2VySWQiLCJ1c2VySWQiLCJidXR0b24iLCJkaXYiLCJBY3Rpb25CdXR0b25Hcm91cElubmVyIiwidHJpZ2dlckNhbWVyYUFjY2VzcyIsImlzQ29tcGFjdE1vZGUiLCJvbkFjdGlvbkNsaWNrIiwicmVmIiwicm91dGVyIiwidXBkYXRlU2V0dGluZ3MiLCJyYW5kb21UaW1lcyIsInNldFJhbmRvbVRpbWVzIiwiZGVsYXlTZWNvbmRzIiwic2V0RGVsYXlTZWNvbmRzIiwiY2FudmFzUmVmIiwiY291bnRkb3duVmFsdWUiLCJzZXRDb3VudGRvd25WYWx1ZSIsImN1cnJlbnREb3QiLCJzZXRDdXJyZW50RG90IiwiY2FsaWJyYXRpb25Qb2ludHMiLCJzZXRDYWxpYnJhdGlvblBvaW50cyIsImN1cnJlbnRDYWxpYnJhdGlvbkluZGV4Iiwic2V0Q3VycmVudENhbGlicmF0aW9uSW5kZXgiLCJyZW1haW5pbmdDYXB0dXJlcyIsInNldFJlbWFpbmluZ0NhcHR1cmVzIiwic2hvd0NhbnZhcyIsInNldFNob3dDYW52YXMiLCJjYWxpYnJhdGlvbkhhbmRsZXIiLCJzZXRDYWxpYnJhdGlvbkhhbmRsZXIiLCJjYXB0dXJlQ291bnQiLCJzZXRDYXB0dXJlQ291bnQiLCJzaG93SGVhZFBvc2UiLCJzZXRTaG93SGVhZFBvc2UiLCJzaG93Qm91bmRpbmdCb3giLCJzZXRTaG93Qm91bmRpbmdCb3giLCJzaG93TWFzayIsInNldFNob3dNYXNrIiwic2hvd1BhcmFtZXRlcnMiLCJzZXRTaG93UGFyYW1ldGVycyIsImlzQ2FtZXJhQWN0aXZlIiwic2V0SXNDYW1lcmFBY3RpdmUiLCJzaG93UGVybWlzc2lvblBvcHVwIiwic2V0U2hvd1Blcm1pc3Npb25Qb3B1cCIsInNldHRpbmdzQ2FjaGUiLCJNYXAiLCJsYXN0U2V0dGluZ3NVcGRhdGUiLCJidXR0b25zIiwiaGFuZGxlU2V0UmFuZG9tIiwiaGFuZGxlUmFuZG9tRG90IiwiaGFuZGxlU2V0Q2FsaWJyYXRlIiwiaGFuZGxlQ2xlYXJBbGwiLCJkaXZpZGVyIiwiaGFuZGxlVG9nZ2xlSGVhZFBvc2UiLCJoYW5kbGVUb2dnbGVCb3VuZGluZ0JveCIsImhhbmRsZVRvZ2dsZUNhbWVyYSIsImhhbmRsZVRvZ2dsZU1hc2siLCJoYW5kbGVUb2dnbGVQYXJhbWV0ZXJzIiwidXNlclNldHRpbmdzIiwiY2FjaGVkU2V0dGluZ3MiLCJjdXJyZW50IiwiZ2V0IiwiTnVtYmVyIiwidGltZXMiLCJkZWxheSIsInNldCIsIkRhdGUiLCJub3ciLCJoYW5kbGVTZXR0aW5nc1VwZGF0ZSIsInVuZGVmaW5lZCIsIm5ld1RpbWVzIiwibmV3RGVsYXkiLCJhY3Rpb25CdXR0b25GdW5jdGlvbnMiLCJ1cGRhdGVDb250cm9sVmFsdWVzIiwidGltZUlucHV0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGltZVZhbHVlIiwicGFyc2VJbnQiLCJ2YWx1ZSIsImlzTmFOIiwiY29uc29sZSIsImxvZyIsImRlbGF5SW5wdXQiLCJkZWxheVZhbHVlIiwiaW5pdGlhbGl6ZUNhbnZhcyIsImNhbnZhcyIsInBhcmVudCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZXJyb3IiLCJnZXRNYWluQ2FudmFzIiwid2hpdGVTY3JlZW5DYW52YXMiLCJzZWxlY3RvcnMiLCJzZWxlY3RvciIsImNhbnZhc0VsZW1lbnQiLCJtYWtlQ2FudmFzRnVsbHNjcmVlbiIsInBhcmVudEVsZW1lbnQiLCJib2R5Iiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ6SW5kZXgiLCJpbm5lckhlaWdodCIsInJlc3RvcmVDYW52YXNTaXplIiwiaGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkIiwiaGFuZGxlUGVybWlzc2lvbkRlbmllZCIsInJlc3RvcmVDYW52YXMiLCJvcmlnaW5hbFBhcmVudCIsIm9yaWdpbmFsU3R5bGUiLCJhcHBlbmRDaGlsZCIsImNsZWFyQ2FudmFzIiwid2FybiIsImhhbmRsZURvdFByb2Nlc3MiLCJvcHRpb25zIiwib25TdGF0dXNVcGRhdGUiLCJ0b2dnbGVUb3BCYXIiLCJ1c2VSYW5kb21Qb3NpdGlvbiIsInBvc3RDb3VudGRvd25EZWxheSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmV0cnlDb3VudCIsIm1heFJldHJpZXMiLCJFcnJvciIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiZG90UG9zaXRpb24iLCJ4IiwieSIsImRvdFJhZGl1cyIsImtlZXBEb3RWaXNpYmxlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImV4aXN0aW5nQ291bnRkb3ducyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjb3VudGRvd25FbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJjb3VudCIsInRleHRDb250ZW50IiwiY2FwdHVyZVJlc3VsdCIsInBvaW50IiwiY2xlYXJJbnRlcnZhbCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwib3JpZ2luYWxDYW52YXNQYXJlbnQiLCJvcmlnaW5hbENhbnZhc1N0eWxlIiwic3RhdHVzSW5kaWNhdG9yIiwiY3VycmVudFJlZHJhd0ludGVydmFsIiwicG9pbnRzIiwic3VjY2Vzc0NvdW50IiwiaSIsInJhZGl1cyIsInJlZHJhd0N1cnJlbnREb3QiLCJzY3JlZW5JbWFnZSIsInBvc3NpYmxlUGFyZW50IiwiZSIsImN1cnJlbnRJbmRleCIsInJlc3VsdCIsInN0YXR1cyIsInNob3ciLCJjYXB0dXJpbmciLCJzZXR1cENhbGlicmF0aW9uIiwiZGVmYXVsdCIsIkNhbGlicmF0ZUhhbmRsZXIiLCJjYWxpYnJhdGVIYW5kbGVyIiwic2V0T3V0cHV0VGV4dCIsIm5ld0NvdW50ZXIiLCJwcmV2IiwiY2FwdHVyZUZvbGRlciIsIm9uQ29tcGxldGUiLCJoYW5kbGVBY3Rpb24iLCJzdGFydENhbGlicmF0aW9uIiwiZXJyIiwibmV3SGVhZFBvc2VTdGF0ZSIsInZpZGVvUHJvY2Vzc29yIiwidXBkYXRlT3B0aW9ucyIsIm5ld0JvdW5kaW5nQm94U3RhdGUiLCJuZXdNYXNrU3RhdGUiLCJuZXdQYXJhbWV0ZXJzU3RhdGUiLCJuZXdDYW1lcmFTdGF0ZSIsImhhbmRsZUdvQmFjayIsInB1c2giLCJtaW5IZWlnaHQiLCJib3JkZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJSYWRpdXMiLCJvdmVyZmxvdyIsImlkIiwiZGlzcGxheSIsIm9uTG9hZCIsInRhcmdldCIsImNvbG9yIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwicGFkZGluZyIsImJveFNoYWRvdyIsImgzIiwibWFyZ2luIiwicCIsImxpbmVIZWlnaHQiLCJnYXAiLCJjdXJzb3IiLCJBY3Rpb25CdXR0b25Hcm91cCIsInByb3BzIiwic3NyIiwiQWN0aW9uQnV0dG9uUGFnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/actionButton.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js":
/*!****************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/adminSettings.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AdminSettings),\n/* harmony export */   useAdminSettings: () => (/* binding */ useAdminSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// Add deep comparison utility\nconst isEqual = (obj1, obj2)=>{\n    if (obj1 === obj2) return true;\n    if (typeof obj1 !== 'object' || typeof obj2 !== 'object') return false;\n    if (obj1 === null || obj2 === null) return false;\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    return keys1.every((key)=>keys2.includes(key) && isEqual(obj1[key], obj2[key]));\n};\n// Add debounce utility\nconst debounce = (func, wait)=>{\n    let timeout;\n    return function executedFunction(...args) {\n        const later = ()=>{\n            clearTimeout(timeout);\n            func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n};\nconst useAdminSettings = (ref)=>{\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useAdminSettings.useState\": ()=>{\n            // Initialize from localStorage on mount\n            return localStorage.getItem('currentUserId');\n        }\n    }[\"useAdminSettings.useState\"]);\n    const [isTopBarUpdated, setIsTopBarUpdated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const initialized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const pollingInterval = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [currentSettings, setCurrentSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [lastUpdateTime, setLastUpdateTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    // Increase intervals to reduce API calls\n    const POLLING_INTERVAL = 30000; // 30 seconds\n    const MIN_UPDATE_INTERVAL = 5000; // 5 seconds\n    const CACHE_DURATION = 60000; // 1 minute\n    // Add cache for settings with timestamp\n    const settingsCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const lastSettingsUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const pendingUpdates = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const isUpdating = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Debug logging for settings changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            console.log('AdminSettings - Current Settings:', settings);\n            console.log('AdminSettings - Current User ID:', currentUserId);\n            console.log('AdminSettings - Is TopBar Updated:', isTopBarUpdated);\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings,\n        currentUserId,\n        isTopBarUpdated\n    ]);\n    // Helper: Fetch settings for a user from backend with enhanced caching\n    const fetchSettingsForUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAdminSettings.useCallback[fetchSettingsForUser]\": async (userId)=>{\n            if (!userId) return;\n            // Check cache first\n            const cachedSettings = settingsCache.current.get(userId);\n            const lastUpdate = lastSettingsUpdate.current.get(userId);\n            const now = Date.now();\n            // If we have cached settings and they're recent enough, use them\n            if (cachedSettings && lastUpdate && now - lastUpdate < CACHE_DURATION) {\n                console.log('[AdminSettings] Using cached settings for user:', userId);\n                return cachedSettings;\n            }\n            // If there's already a pending update, return the cached value\n            if (pendingUpdates.current.has(userId)) {\n                console.log('[AdminSettings] Pending update exists, using cached value');\n                return cachedSettings;\n            }\n            // If an update is in progress, return the cached value\n            if (isUpdating.current) {\n                console.log('[AdminSettings] Update in progress, using cached value');\n                return cachedSettings;\n            }\n            try {\n                isUpdating.current = true;\n                pendingUpdates.current.set(userId, true);\n                const response = await fetch(`/api/data-center/settings/${userId}`, {\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    }\n                });\n                if (!response.ok) {\n                    const errorData = await response.json().catch({\n                        \"useAdminSettings.useCallback[fetchSettingsForUser]\": ()=>({})\n                    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"]);\n                    throw new Error(errorData.detail || 'Failed to fetch settings');\n                }\n                const result = await response.json();\n                const newSettings = result.data || {};\n                // Only update if settings have actually changed\n                if (!isEqual(settings[userId], newSettings)) {\n                    setSettings({\n                        \"useAdminSettings.useCallback[fetchSettingsForUser]\": (prev)=>({\n                                ...prev,\n                                [userId]: newSettings\n                            })\n                    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"]);\n                    setCurrentSettings(newSettings);\n                    // Update cache\n                    settingsCache.current.set(userId, newSettings);\n                    lastSettingsUpdate.current.set(userId, now);\n                    // Update TopBar if ref provided\n                    if (ref && ref.current && ref.current.setCaptureSettings) {\n                        ref.current.setCaptureSettings(newSettings);\n                        setIsTopBarUpdated(true);\n                    }\n                }\n                setError(null);\n                return newSettings;\n            } catch (error) {\n                console.error('[AdminSettings] Error fetching settings:', error);\n                setError(error.message);\n                return cachedSettings; // Return cached settings on error\n            } finally{\n                isUpdating.current = false;\n                pendingUpdates.current.delete(userId);\n            }\n        }\n    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"], [\n        ref,\n        settings\n    ]);\n    // Debounced version of fetchSettingsForUser\n    const debouncedFetchSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(debounce({\n        \"useAdminSettings.useCallback[debouncedFetchSettings]\": (userId)=>{\n            fetchSettingsForUser(userId);\n        }\n    }[\"useAdminSettings.useCallback[debouncedFetchSettings]\"], 1000), [\n        fetchSettingsForUser\n    ]);\n    // Polling for settings updates with enhanced optimization\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (!currentUserId) return;\n            const fetchSettings = {\n                \"useAdminSettings.useEffect.fetchSettings\": async ()=>{\n                    const now = Date.now();\n                    if (now - lastUpdateTime < MIN_UPDATE_INTERVAL) {\n                        return;\n                    }\n                    try {\n                        await debouncedFetchSettings(currentUserId);\n                        setLastUpdateTime(now);\n                    } catch (error) {\n                        console.error('[AdminSettings] Polling error:', error);\n                    }\n                }\n            }[\"useAdminSettings.useEffect.fetchSettings\"];\n            // Initial fetch\n            fetchSettings();\n            // Set up polling with increased interval\n            pollingInterval.current = setInterval(fetchSettings, POLLING_INTERVAL);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>{\n                    if (pollingInterval.current) {\n                        clearInterval(pollingInterval.current);\n                    }\n                }\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId,\n        lastUpdateTime,\n        debouncedFetchSettings\n    ]);\n    // Listen for userId changes (from index.js navigation)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"useAdminSettings.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.userId) {\n                        console.log('[handleUserIdChange] userId:', event.detail.userId);\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        localStorage.setItem('currentUserId', newUserId);\n                        fetchSettingsForUser(newUserId);\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>window.removeEventListener('userIdChange', handleUserIdChange)\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        ref\n    ]);\n    // Initial settings fetch on mount if we have a user ID\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (currentUserId && !initialized.current) {\n                fetchSettingsForUser(currentUserId);\n                initialized.current = true;\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId\n    ]);\n    // Effect to handle index.js update after TopBar is updated\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (isTopBarUpdated) {\n                const event = new CustomEvent('settingsUpdated', {\n                    detail: {\n                        type: 'settings',\n                        userId: currentUserId,\n                        settings: settings[currentUserId]\n                    }\n                });\n                window.dispatchEvent(event);\n                setIsTopBarUpdated(false);\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        isTopBarUpdated,\n        currentUserId,\n        settings\n    ]);\n    // Load settings from localStorage on mount (optional, fallback)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            try {\n                const savedSettings = localStorage.getItem('adminSettings');\n                if (savedSettings) {\n                    const parsedSettings = JSON.parse(savedSettings);\n                    setSettings(parsedSettings);\n                }\n            } catch (error) {\n            // Ignore\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], []);\n    // Save settings to localStorage when they change (optional)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (initialized.current) {\n                try {\n                    localStorage.setItem('adminSettings', JSON.stringify(settings));\n                } catch (error) {}\n            } else {\n                initialized.current = true;\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings\n    ]);\n    // Update settings when they change in the context\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (settings && currentUserId) {\n                console.log('[settings useEffect] currentUserId:', currentUserId); // Debug log\n                const userSettings = settings[currentUserId];\n                if (userSettings) {\n                    setCurrentSettings(userSettings);\n                // Optionally update UI elements if needed\n                }\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings,\n        currentUserId\n    ]);\n    // Listen for settings updates from admin page (captureSettingsUpdate event)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"useAdminSettings.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        console.log('[handleSettingsUpdate] userId:', userId, 'currentUserId:', currentUserId); // Debug log\n                        if (userId === currentUserId) {\n                            const newSettings = {\n                                ...currentSettings,\n                                times: times !== undefined ? Number(times) : currentSettings.times,\n                                delay: delay !== undefined ? Number(delay) : currentSettings.delay\n                            };\n                            setCurrentSettings(newSettings);\n                            setSettings({\n                                \"useAdminSettings.useEffect.handleSettingsUpdate\": (prev)=>({\n                                        ...prev,\n                                        [userId]: newSettings\n                                    })\n                            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"]);\n                            updateSettings(newSettings, userId);\n                        }\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate)\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId,\n        currentSettings\n    ]);\n    // Update settings for a user with enhanced optimization\n    const updateSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAdminSettings.useCallback[updateSettings]\": async (newSettings, userId)=>{\n            if (!userId) return;\n            const now = Date.now();\n            if (now - lastUpdateTime < MIN_UPDATE_INTERVAL) {\n                console.log('[updateSettings] Skipping update - too soon after last update');\n                return;\n            }\n            const updatedSettings = {\n                ...settings[userId],\n                ...newSettings\n            };\n            // Check if settings have actually changed\n            if (isEqual(settings[userId], updatedSettings)) {\n                console.log('[updateSettings] Settings unchanged, skipping update');\n                return;\n            }\n            try {\n                isUpdating.current = true;\n                pendingUpdates.current.set(userId, true);\n                const response = await fetch(`/api/data-center/settings/${userId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    },\n                    body: JSON.stringify(updatedSettings)\n                });\n                if (!response.ok) {\n                    const errorData = await response.json().catch({\n                        \"useAdminSettings.useCallback[updateSettings]\": ()=>({})\n                    }[\"useAdminSettings.useCallback[updateSettings]\"]);\n                    throw new Error(errorData.detail || 'Failed to save settings');\n                }\n                const result = await response.json();\n                const finalSettings = result.data || updatedSettings;\n                // Update state and cache\n                setSettings({\n                    \"useAdminSettings.useCallback[updateSettings]\": (prev)=>({\n                            ...prev,\n                            [userId]: finalSettings\n                        })\n                }[\"useAdminSettings.useCallback[updateSettings]\"]);\n                setCurrentSettings(finalSettings);\n                settingsCache.current.set(userId, finalSettings);\n                lastSettingsUpdate.current.set(userId, now);\n                setLastUpdateTime(now);\n                setError(null);\n            } catch (error) {\n                setError(error.message);\n            } finally{\n                isUpdating.current = false;\n                pendingUpdates.current.delete(userId);\n            }\n        }\n    }[\"useAdminSettings.useCallback[updateSettings]\"], [\n        settings,\n        lastUpdateTime\n    ]);\n    // Upload and update image for a user\n    const updateImage = async (userId, base64Image)=>{\n        console.log('[updateImage] userId:', userId); // Debug log\n        if (!userId || !base64Image) return;\n        try {\n            const response = await fetch(`/api/data-center/image?user_id=${userId}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                },\n                body: JSON.stringify({\n                    image: base64Image\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.detail || 'Failed to upload image');\n            }\n            // Optionally, fetch settings again to get updated image info\n            await fetchSettingsForUser(userId);\n            setError(null);\n            return true;\n        } catch (error) {\n            setError(error.message);\n            return false;\n        }\n    };\n    return {\n        settings,\n        updateSettings,\n        updateImage,\n        error\n    };\n};\n// Add default export component\nfunction AdminSettings() {\n    return null; // This is a utility file, so we don't need to render anything\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvYWRtaW5TZXR0aW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlFO0FBRWpFLDhCQUE4QjtBQUM5QixNQUFNSSxVQUFVLENBQUNDLE1BQU1DO0lBQ3JCLElBQUlELFNBQVNDLE1BQU0sT0FBTztJQUMxQixJQUFJLE9BQU9ELFNBQVMsWUFBWSxPQUFPQyxTQUFTLFVBQVUsT0FBTztJQUNqRSxJQUFJRCxTQUFTLFFBQVFDLFNBQVMsTUFBTSxPQUFPO0lBRTNDLE1BQU1DLFFBQVFDLE9BQU9DLElBQUksQ0FBQ0o7SUFDMUIsTUFBTUssUUFBUUYsT0FBT0MsSUFBSSxDQUFDSDtJQUUxQixJQUFJQyxNQUFNSSxNQUFNLEtBQUtELE1BQU1DLE1BQU0sRUFBRSxPQUFPO0lBRTFDLE9BQU9KLE1BQU1LLEtBQUssQ0FBQ0MsQ0FBQUEsTUFDakJILE1BQU1JLFFBQVEsQ0FBQ0QsUUFBUVQsUUFBUUMsSUFBSSxDQUFDUSxJQUFJLEVBQUVQLElBQUksQ0FBQ08sSUFBSTtBQUV2RDtBQUVBLHVCQUF1QjtBQUN2QixNQUFNRSxXQUFXLENBQUNDLE1BQU1DO0lBQ3RCLElBQUlDO0lBQ0osT0FBTyxTQUFTQyxpQkFBaUIsR0FBR0MsSUFBSTtRQUN0QyxNQUFNQyxRQUFRO1lBQ1pDLGFBQWFKO1lBQ2JGLFFBQVFJO1FBQ1Y7UUFDQUUsYUFBYUo7UUFDYkEsVUFBVUssV0FBV0YsT0FBT0o7SUFDOUI7QUFDRjtBQUVPLE1BQU1PLG1CQUFtQixDQUFDQztJQUMvQixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR3pCLCtDQUFRQSxDQUFDLENBQUM7SUFDMUMsTUFBTSxDQUFDMEIsZUFBZUMsaUJBQWlCLEdBQUczQiwrQ0FBUUE7cUNBQUM7WUFDakQsd0NBQXdDO1lBQ3hDLE9BQU80QixhQUFhQyxPQUFPLENBQUM7UUFDOUI7O0lBQ0EsTUFBTSxDQUFDQyxpQkFB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U0FBUyxZQUFZO1FBQzFELElBQUksQ0FBQ0EsVUFBVSxDQUFDMkQsYUFBYTtRQUM3QixJQUFJO1lBQ0YsTUFBTWxELFdBQVcsTUFBTUMsTUFBTSxDQUFDLCtCQUErQixFQUFFVixRQUFRLEVBQUU7Z0JBQ3ZFdUQsUUFBUTtnQkFDUjVDLFNBQVM7b0JBQ1AsZ0JBQWdCO29CQUNoQixhQUFhQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO2dCQUNsRDtnQkFDQTBDLE1BQU1aLEtBQUtFLFNBQVMsQ0FBQztvQkFBRWMsT0FBT0Q7Z0JBQVk7WUFDNUM7WUFDQSxJQUFJLENBQUNsRCxTQUFTTSxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU1DLFlBQVksTUFBTVAsU0FBU1EsSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTyxFQUFDO2dCQUN0RCxNQUFNLElBQUlDLE1BQU1ILFVBQVVJLE1BQU0sSUFBSTtZQUN0QztZQUNBLDZEQUE2RDtZQUM3RCxNQUFNckIscUJBQXFCQztZQUMzQmxCLFNBQVM7WUFDVCxPQUFPO1FBQ1QsRUFBRSxPQUFPRCxPQUFPO1lBQ2RDLFNBQVNELE1BQU02QyxPQUFPO1lBQ3RCLE9BQU87UUFDVDtJQUNGO0lBRUEsT0FBTztRQUFFckQ7UUFBVWdGO1FBQWdCSztRQUFhN0U7SUFBTTtBQUN4RCxFQUFFO0FBRUYsK0JBQStCO0FBQ2hCLFNBQVNnRjtJQUN0QixPQUFPLE1BQU0sOERBQThEO0FBQzdFIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9jb21wb25lbnRzLWd1aS9hZG1pblNldHRpbmdzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbi8vIEFkZCBkZWVwIGNvbXBhcmlzb24gdXRpbGl0eVxuY29uc3QgaXNFcXVhbCA9IChvYmoxLCBvYmoyKSA9PiB7XG4gIGlmIChvYmoxID09PSBvYmoyKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHR5cGVvZiBvYmoxICE9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcbiAgaWYgKG9iajEgPT09IG51bGwgfHwgb2JqMiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBcbiAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcbiAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhvYmoyKTtcbiAgXG4gIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBcbiAgcmV0dXJuIGtleXMxLmV2ZXJ5KGtleSA9PiBcbiAgICBrZXlzMi5pbmNsdWRlcyhrZXkpICYmIGlzRXF1YWwob2JqMVtrZXldLCBvYmoyW2tleV0pXG4gICk7XG59O1xuXG4vLyBBZGQgZGVib3VuY2UgdXRpbGl0eVxuY29uc3QgZGVib3VuY2UgPSAoZnVuYywgd2FpdCkgPT4ge1xuICBsZXQgdGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uIGV4ZWN1dGVkRnVuY3Rpb24oLi4uYXJncykge1xuICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICB9O1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQWRtaW5TZXR0aW5ncyA9IChyZWYpID0+IHtcbiAgY29uc3QgW3NldHRpbmdzLCBzZXRTZXR0aW5nc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIGZyb20gbG9jYWxTdG9yYWdlIG9uIG1vdW50XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcklkJyk7XG4gIH0pO1xuICBjb25zdCBbaXNUb3BCYXJVcGRhdGVkLCBzZXRJc1RvcEJhclVwZGF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBpbml0aWFsaXplZCA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHBvbGxpbmdJbnRlcnZhbCA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRTZXR0aW5ncywgc2V0Q3VycmVudFNldHRpbmdzXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2xhc3RVcGRhdGVUaW1lLCBzZXRMYXN0VXBkYXRlVGltZV0gPSB1c2VTdGF0ZSgwKTtcbiAgXG4gIC8vIEluY3JlYXNlIGludGVydmFscyB0byByZWR1Y2UgQVBJIGNhbGxzXG4gIGNvbnN0IFBPTExJTkdfSU5URVJWQUwgPSAzMDAwMDsgLy8gMzAgc2Vjb25kc1xuICBjb25zdCBNSU5fVVBEQVRFX0lOVEVSVkFMID0gNTAwMDsgLy8gNSBzZWNvbmRzXG4gIGNvbnN0IENBQ0hFX0RVUkFUSU9OID0gNjAwMDA7IC8vIDEgbWludXRlXG4gIFxuICAvLyBBZGQgY2FjaGUgZm9yIHNldHRpbmdzIHdpdGggdGltZXN0YW1wXG4gIGNvbnN0IHNldHRpbmdzQ2FjaGUgPSB1c2VSZWYobmV3IE1hcCgpKTtcbiAgY29uc3QgbGFzdFNldHRpbmdzVXBkYXRlID0gdXNlUmVmKG5ldyBNYXAoKSk7XG4gIGNvbnN0IHBlbmRpbmdVcGRhdGVzID0gdXNlUmVmKG5ldyBNYXAoKSk7XG4gIGNvbnN0IGlzVXBkYXRpbmcgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIC8vIERlYnVnIGxvZ2dpbmcgZm9yIHNldHRpbmdzIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnQWRtaW5TZXR0aW5ncyAtIEN1cnJlbnQgU2V0dGluZ3M6Jywgc2V0dGluZ3MpO1xuICAgIGNvbnNvbGUubG9nKCdBZG1pblNldHRpbmdzIC0gQ3VycmVudCBVc2VyIElEOicsIGN1cnJlbnRVc2VySWQpO1xuICAgIGNvbnNvbGUubG9nKCdBZG1pblNldHRpbmdzIC0gSXMgVG9wQmFyIFVwZGF0ZWQ6JywgaXNUb3BCYXJVcGRhdGVkKTtcbiAgfSwgW3NldHRpbmdzLCBjdXJyZW50VXNlcklkLCBpc1RvcEJhclVwZGF0ZWRdKTtcblxuICAvLyBIZWxwZXI6IEZldGNoIHNldHRpbmdzIGZvciBhIHVzZXIgZnJvbSBiYWNrZW5kIHdpdGggZW5oYW5jZWQgY2FjaGluZ1xuICBjb25zdCBmZXRjaFNldHRpbmdzRm9yVXNlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcbiAgICBjb25zdCBjYWNoZWRTZXR0aW5ncyA9IHNldHRpbmdzQ2FjaGUuY3VycmVudC5nZXQodXNlcklkKTtcbiAgICBjb25zdCBsYXN0VXBkYXRlID0gbGFzdFNldHRpbmdzVXBkYXRlLmN1cnJlbnQuZ2V0KHVzZXJJZCk7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIC8vIElmIHdlIGhhdmUgY2FjaGVkIHNldHRpbmdzIGFuZCB0aGV5J3JlIHJlY2VudCBlbm91Z2gsIHVzZSB0aGVtXG4gICAgaWYgKGNhY2hlZFNldHRpbmdzICYmIGxhc3RVcGRhdGUgJiYgKG5vdyAtIGxhc3RVcGRhdGUgPCBDQUNIRV9EVVJBVElPTikpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQWRtaW5TZXR0aW5nc10gVXNpbmcgY2FjaGVkIHNldHRpbmdzIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgICByZXR1cm4gY2FjaGVkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IGEgcGVuZGluZyB1cGRhdGUsIHJldHVybiB0aGUgY2FjaGVkIHZhbHVlXG4gICAgaWYgKHBlbmRpbmdVcGRhdGVzLmN1cnJlbnQuaGFzKHVzZXJJZCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQWRtaW5TZXR0aW5nc10gUGVuZGluZyB1cGRhdGUgZXhpc3RzLCB1c2luZyBjYWNoZWQgdmFsdWUnKTtcbiAgICAgIHJldHVybiBjYWNoZWRTZXR0aW5ncztcbiAgICB9XG5cbiAgICAvLyBJZiBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3MsIHJldHVybiB0aGUgY2FjaGVkIHZhbHVlXG4gICAgaWYgKGlzVXBkYXRpbmcuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coJ1tBZG1pblNldHRpbmdzXSBVcGRhdGUgaW4gcHJvZ3Jlc3MsIHVzaW5nIGNhY2hlZCB2YWx1ZScpO1xuICAgICAgcmV0dXJuIGNhY2hlZFNldHRpbmdzO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc1VwZGF0aW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcGVuZGluZ1VwZGF0ZXMuY3VycmVudC5zZXQodXNlcklkLCB0cnVlKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVidcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCAnRmFpbGVkIHRvIGZldGNoIHNldHRpbmdzJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0gcmVzdWx0LmRhdGEgfHwge307XG4gICAgICBcbiAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIHNldHRpbmdzIGhhdmUgYWN0dWFsbHkgY2hhbmdlZFxuICAgICAgaWYgKCFpc0VxdWFsKHNldHRpbmdzW3VzZXJJZF0sIG5ld1NldHRpbmdzKSkge1xuICAgICAgICBzZXRTZXR0aW5ncyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbdXNlcklkXTogbmV3U2V0dGluZ3NcbiAgICAgICAgfSkpO1xuICAgICAgICBzZXRDdXJyZW50U2V0dGluZ3MobmV3U2V0dGluZ3MpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgICAgIHNldHRpbmdzQ2FjaGUuY3VycmVudC5zZXQodXNlcklkLCBuZXdTZXR0aW5ncyk7XG4gICAgICAgIGxhc3RTZXR0aW5nc1VwZGF0ZS5jdXJyZW50LnNldCh1c2VySWQsIG5vdyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgVG9wQmFyIGlmIHJlZiBwcm92aWRlZFxuICAgICAgICBpZiAocmVmICYmIHJlZi5jdXJyZW50ICYmIHJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncykge1xuICAgICAgICAgIHJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgc2V0SXNUb3BCYXJVcGRhdGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgcmV0dXJuIG5ld1NldHRpbmdzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQWRtaW5TZXR0aW5nc10gRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4gY2FjaGVkU2V0dGluZ3M7IC8vIFJldHVybiBjYWNoZWQgc2V0dGluZ3Mgb24gZXJyb3JcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNVcGRhdGluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBwZW5kaW5nVXBkYXRlcy5jdXJyZW50LmRlbGV0ZSh1c2VySWQpO1xuICAgIH1cbiAgfSwgW3JlZiwgc2V0dGluZ3NdKTtcblxuICAvLyBEZWJvdW5jZWQgdmVyc2lvbiBvZiBmZXRjaFNldHRpbmdzRm9yVXNlclxuICBjb25zdCBkZWJvdW5jZWRGZXRjaFNldHRpbmdzID0gdXNlQ2FsbGJhY2soXG4gICAgZGVib3VuY2UoKHVzZXJJZCkgPT4ge1xuICAgICAgZmV0Y2hTZXR0aW5nc0ZvclVzZXIodXNlcklkKTtcbiAgICB9LCAxMDAwKSxcbiAgICBbZmV0Y2hTZXR0aW5nc0ZvclVzZXJdXG4gICk7XG5cbiAgLy8gUG9sbGluZyBmb3Igc2V0dGluZ3MgdXBkYXRlcyB3aXRoIGVuaGFuY2VkIG9wdGltaXphdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGZldGNoU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgaWYgKG5vdyAtIGxhc3RVcGRhdGVUaW1lIDwgTUlOX1VQREFURV9JTlRFUlZBTCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlYm91bmNlZEZldGNoU2V0dGluZ3MoY3VycmVudFVzZXJJZCk7XG4gICAgICAgIHNldExhc3RVcGRhdGVUaW1lKG5vdyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbQWRtaW5TZXR0aW5nc10gUG9sbGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEluaXRpYWwgZmV0Y2hcbiAgICBmZXRjaFNldHRpbmdzKCk7XG4gICAgXG4gICAgLy8gU2V0IHVwIHBvbGxpbmcgd2l0aCBpbmNyZWFzZWQgaW50ZXJ2YWxcbiAgICBwb2xsaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKGZldGNoU2V0dGluZ3MsIFBPTExJTkdfSU5URVJWQUwpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocG9sbGluZ0ludGVydmFsLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwb2xsaW5nSW50ZXJ2YWwuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2N1cnJlbnRVc2VySWQsIGxhc3RVcGRhdGVUaW1lLCBkZWJvdW5jZWRGZXRjaFNldHRpbmdzXSk7XG5cbiAgLy8gTGlzdGVuIGZvciB1c2VySWQgY2hhbmdlcyAoZnJvbSBpbmRleC5qcyBuYXZpZ2F0aW9uKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudXNlcklkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaGFuZGxlVXNlcklkQ2hhbmdlXSB1c2VySWQ6JywgZXZlbnQuZGV0YWlsLnVzZXJJZCk7XG4gICAgICAgIGNvbnN0IG5ld1VzZXJJZCA9IGV2ZW50LmRldGFpbC51c2VySWQ7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQobmV3VXNlcklkKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRVc2VySWQnLCBuZXdVc2VySWQpO1xuICAgICAgICBmZXRjaFNldHRpbmdzRm9yVXNlcihuZXdVc2VySWQpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICB9LCBbcmVmXSk7XG5cbiAgLy8gSW5pdGlhbCBzZXR0aW5ncyBmZXRjaCBvbiBtb3VudCBpZiB3ZSBoYXZlIGEgdXNlciBJRFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXJyZW50VXNlcklkICYmICFpbml0aWFsaXplZC5jdXJyZW50KSB7XG4gICAgICBmZXRjaFNldHRpbmdzRm9yVXNlcihjdXJyZW50VXNlcklkKTtcbiAgICAgIGluaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICAvLyBFZmZlY3QgdG8gaGFuZGxlIGluZGV4LmpzIHVwZGF0ZSBhZnRlciBUb3BCYXIgaXMgdXBkYXRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc1RvcEJhclVwZGF0ZWQpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzZXR0aW5nc1VwZGF0ZWQnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdzZXR0aW5ncycsXG4gICAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlcklkLFxuICAgICAgICAgIHNldHRpbmdzOiBzZXR0aW5nc1tjdXJyZW50VXNlcklkXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHNldElzVG9wQmFyVXBkYXRlZChmYWxzZSk7XG4gICAgfVxuICB9LCBbaXNUb3BCYXJVcGRhdGVkLCBjdXJyZW50VXNlcklkLCBzZXR0aW5nc10pO1xuXG4gIC8vIExvYWQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gbW91bnQgKG9wdGlvbmFsLCBmYWxsYmFjaylcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2F2ZWRTZXR0aW5ncyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhZG1pblNldHRpbmdzJyk7XG4gICAgICBpZiAoc2F2ZWRTZXR0aW5ncykge1xuICAgICAgICBjb25zdCBwYXJzZWRTZXR0aW5ncyA9IEpTT04ucGFyc2Uoc2F2ZWRTZXR0aW5ncyk7XG4gICAgICAgIHNldFNldHRpbmdzKHBhcnNlZFNldHRpbmdzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWdub3JlXG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gU2F2ZSBzZXR0aW5ncyB0byBsb2NhbFN0b3JhZ2Ugd2hlbiB0aGV5IGNoYW5nZSAob3B0aW9uYWwpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluaXRpYWxpemVkLmN1cnJlbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pblNldHRpbmdzJywgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIH0gZWxzZSB7XG4gICAgICBpbml0aWFsaXplZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtzZXR0aW5nc10pO1xuXG4gIC8vIFVwZGF0ZSBzZXR0aW5ncyB3aGVuIHRoZXkgY2hhbmdlIGluIHRoZSBjb250ZXh0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNldHRpbmdzICYmIGN1cnJlbnRVc2VySWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbc2V0dGluZ3MgdXNlRWZmZWN0XSBjdXJyZW50VXNlcklkOicsIGN1cnJlbnRVc2VySWQpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzW2N1cnJlbnRVc2VySWRdO1xuICAgICAgaWYgKHVzZXJTZXR0aW5ncykge1xuICAgICAgICBzZXRDdXJyZW50U2V0dGluZ3ModXNlclNldHRpbmdzKTtcbiAgICAgICAgLy8gT3B0aW9uYWxseSB1cGRhdGUgVUkgZWxlbWVudHMgaWYgbmVlZGVkXG4gICAgICB9XG4gICAgfVxuICB9LCBbc2V0dGluZ3MsIGN1cnJlbnRVc2VySWRdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXMgZnJvbSBhZG1pbiBwYWdlIChjYXB0dXJlU2V0dGluZ3NVcGRhdGUgZXZlbnQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU2V0dGluZ3NVcGRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICdjYXB0dXJlU2V0dGluZ3MnKSB7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkLCB0aW1lcywgZGVsYXkgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgY29uc29sZS5sb2coJ1toYW5kbGVTZXR0aW5nc1VwZGF0ZV0gdXNlcklkOicsIHVzZXJJZCwgJ2N1cnJlbnRVc2VySWQ6JywgY3VycmVudFVzZXJJZCk7IC8vIERlYnVnIGxvZ1xuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50U2V0dGluZ3MsXG4gICAgICAgICAgICB0aW1lczogdGltZXMgIT09IHVuZGVmaW5lZCA/IE51bWJlcih0aW1lcykgOiBjdXJyZW50U2V0dGluZ3MudGltZXMsXG4gICAgICAgICAgICBkZWxheTogZGVsYXkgIT09IHVuZGVmaW5lZCA/IE51bWJlcihkZWxheSkgOiBjdXJyZW50U2V0dGluZ3MuZGVsYXlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgc2V0U2V0dGluZ3MocHJldiA9PiAoeyAuLi5wcmV2LCBbdXNlcklkXTogbmV3U2V0dGluZ3MgfSkpO1xuICAgICAgICAgIHVwZGF0ZVNldHRpbmdzKG5ld1NldHRpbmdzLCB1c2VySWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICB9LCBbY3VycmVudFVzZXJJZCwgY3VycmVudFNldHRpbmdzXSk7XG5cbiAgLy8gVXBkYXRlIHNldHRpbmdzIGZvciBhIHVzZXIgd2l0aCBlbmhhbmNlZCBvcHRpbWl6YXRpb25cbiAgY29uc3QgdXBkYXRlU2V0dGluZ3MgPSB1c2VDYWxsYmFjayhhc3luYyAobmV3U2V0dGluZ3MsIHVzZXJJZCkgPT4ge1xuICAgIGlmICghdXNlcklkKSByZXR1cm47XG4gICAgXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IC0gbGFzdFVwZGF0ZVRpbWUgPCBNSU5fVVBEQVRFX0lOVEVSVkFMKSB7XG4gICAgICBjb25zb2xlLmxvZygnW3VwZGF0ZVNldHRpbmdzXSBTa2lwcGluZyB1cGRhdGUgLSB0b28gc29vbiBhZnRlciBsYXN0IHVwZGF0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHtcbiAgICAgIC4uLnNldHRpbmdzW3VzZXJJZF0sXG4gICAgICAuLi5uZXdTZXR0aW5nc1xuICAgIH07XG5cbiAgICAvLyBDaGVjayBpZiBzZXR0aW5ncyBoYXZlIGFjdHVhbGx5IGNoYW5nZWRcbiAgICBpZiAoaXNFcXVhbChzZXR0aW5nc1t1c2VySWRdLCB1cGRhdGVkU2V0dGluZ3MpKSB7XG4gICAgICBjb25zb2xlLmxvZygnW3VwZGF0ZVNldHRpbmdzXSBTZXR0aW5ncyB1bmNoYW5nZWQsIHNraXBwaW5nIHVwZGF0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc1VwZGF0aW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcGVuZGluZ1VwZGF0ZXMuY3VycmVudC5zZXQodXNlcklkLCB0cnVlKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVkU2V0dGluZ3MpXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZGV0YWlsIHx8ICdGYWlsZWQgdG8gc2F2ZSBzZXR0aW5ncycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zdCBmaW5hbFNldHRpbmdzID0gcmVzdWx0LmRhdGEgfHwgdXBkYXRlZFNldHRpbmdzO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdGUgYW5kIGNhY2hlXG4gICAgICBzZXRTZXR0aW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt1c2VySWRdOiBmaW5hbFNldHRpbmdzIH0pKTtcbiAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhmaW5hbFNldHRpbmdzKTtcbiAgICAgIHNldHRpbmdzQ2FjaGUuY3VycmVudC5zZXQodXNlcklkLCBmaW5hbFNldHRpbmdzKTtcbiAgICAgIGxhc3RTZXR0aW5nc1VwZGF0ZS5jdXJyZW50LnNldCh1c2VySWQsIG5vdyk7XG4gICAgICBzZXRMYXN0VXBkYXRlVGltZShub3cpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc1VwZGF0aW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHBlbmRpbmdVcGRhdGVzLmN1cnJlbnQuZGVsZXRlKHVzZXJJZCk7XG4gICAgfVxuICB9LCBbc2V0dGluZ3MsIGxhc3RVcGRhdGVUaW1lXSk7XG5cbiAgLy8gVXBsb2FkIGFuZCB1cGRhdGUgaW1hZ2UgZm9yIGEgdXNlclxuICBjb25zdCB1cGRhdGVJbWFnZSA9IGFzeW5jICh1c2VySWQsIGJhc2U2NEltYWdlKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1t1cGRhdGVJbWFnZV0gdXNlcklkOicsIHVzZXJJZCk7IC8vIERlYnVnIGxvZ1xuICAgIGlmICghdXNlcklkIHx8ICFiYXNlNjRJbWFnZSkgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL2ltYWdlP3VzZXJfaWQ9JHt1c2VySWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpbWFnZTogYmFzZTY0SW1hZ2UgfSlcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZGV0YWlsIHx8ICdGYWlsZWQgdG8gdXBsb2FkIGltYWdlJyk7XG4gICAgICB9XG4gICAgICAvLyBPcHRpb25hbGx5LCBmZXRjaCBzZXR0aW5ncyBhZ2FpbiB0byBnZXQgdXBkYXRlZCBpbWFnZSBpbmZvXG4gICAgICBhd2FpdCBmZXRjaFNldHRpbmdzRm9yVXNlcih1c2VySWQpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7IHNldHRpbmdzLCB1cGRhdGVTZXR0aW5ncywgdXBkYXRlSW1hZ2UsIGVycm9yIH07XG59O1xuXG4vLyBBZGQgZGVmYXVsdCBleHBvcnQgY29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZG1pblNldHRpbmdzKCkge1xuICByZXR1cm4gbnVsbDsgLy8gVGhpcyBpcyBhIHV0aWxpdHkgZmlsZSwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW5kZXIgYW55dGhpbmdcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsImlzRXF1YWwiLCJvYmoxIiwib2JqMiIsImtleXMxIiwiT2JqZWN0Iiwia2V5cyIsImtleXMyIiwibGVuZ3RoIiwiZXZlcnkiLCJrZXkiLCJpbmNsdWRlcyIsImRlYm91bmNlIiwiZnVuYyIsIndhaXQiLCJ0aW1lb3V0IiwiZXhlY3V0ZWRGdW5jdGlvbiIsImFyZ3MiLCJsYXRlciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ1c2VBZG1pblNldHRpbmdzIiwicmVmIiwic2V0dGluZ3MiLCJzZXRTZXR0aW5ncyIsImN1cnJlbnRVc2VySWQiLCJzZXRDdXJyZW50VXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImlzVG9wQmFyVXBkYXRlZCIsInNldElzVG9wQmFyVXBkYXRlZCIsImVycm9yIiwic2V0RXJyb3IiLCJpbml0aWFsaXplZCIsInBvbGxpbmdJbnRlcnZhbCIsImN1cnJlbnRTZXR0aW5ncyIsInNldEN1cnJlbnRTZXR0aW5ncyIsImxhc3RVcGRhdGVUaW1lIiwic2V0TGFzdFVwZGF0ZVRpbWUiLCJQT0xMSU5HX0lOVEVSVkFMIiwiTUlOX1VQREFURV9JTlRFUlZBTCIsIkNBQ0hFX0RVUkFUSU9OIiwic2V0dGluZ3NDYWNoZSIsIk1hcCIsImxhc3RTZXR0aW5nc1VwZGF0ZSIsInBlbmRpbmdVcGRhdGVzIiwiaXNVcGRhdGluZyIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaFNldHRpbmdzRm9yVXNlciIsInVzZXJJZCIsImNhY2hlZFNldHRpbmdzIiwiY3VycmVudCIsImdldCIsImxhc3RVcGRhdGUiLCJub3ciLCJEYXRlIiwiaGFzIiwic2V0IiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNhdGNoIiwiRXJyb3IiLCJkZXRhaWwiLCJyZXN1bHQiLCJuZXdTZXR0aW5ncyIsImRhdGEiLCJwcmV2Iiwic2V0Q2FwdHVyZVNldHRpbmdzIiwibWVzc2FnZSIsImRlbGV0ZSIsImRlYm91bmNlZEZldGNoU2V0dGluZ3MiLCJmZXRjaFNldHRpbmdzIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiaGFuZGxlVXNlcklkQ2hhbmdlIiwiZXZlbnQiLCJuZXdVc2VySWQiLCJzZXRJdGVtIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJDdXN0b21FdmVudCIsInR5cGUiLCJkaXNwYXRjaEV2ZW50Iiwic2F2ZWRTZXR0aW5ncyIsInBhcnNlZFNldHRpbmdzIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidXNlclNldHRpbmdzIiwiaGFuZGxlU2V0dGluZ3NVcGRhdGUiLCJ0aW1lcyIsImRlbGF5IiwidW5kZWZpbmVkIiwiTnVtYmVyIiwidXBkYXRlU2V0dGluZ3MiLCJ1cGRhdGVkU2V0dGluZ3MiLCJtZXRob2QiLCJib2R5IiwiZmluYWxTZXR0aW5ncyIsInVwZGF0ZUltYWdlIiwiYmFzZTY0SW1hZ2UiLCJpbWFnZSIsIkFkbWluU2V0dGluZ3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js":
/*!******************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/displayResponse.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst DisplayResponse = ({ width, height, distance, isVisible = true })=>{\n    // Animation state for visibility transitions\n    const [animationState, setAnimationState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isVisible ? 'visible' : 'hidden');\n    // Update animation state when visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DisplayResponse.useEffect\": ()=>{\n            setAnimationState(isVisible ? 'visible' : 'hidden');\n        }\n    }[\"DisplayResponse.useEffect\"], [\n        isVisible\n    ]);\n    // Format values with units and handle missing values\n    const formattedWidth = width || '---';\n    const formattedHeight = height || '---';\n    const formattedDistance = distance || '---';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `metrics-display ${animationState}`,\n        style: {\n            position: 'absolute',\n            right: '20px',\n            top: '80px',\n            backgroundColor: 'rgba(0, 102, 204, 0.8)',\n            color: 'white',\n            padding: '10px 15px',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontFamily: 'monospace',\n            boxShadow: '0 2px 10px rgba(0, 0, 0, 0.3)',\n            transition: 'all 0.3s ease',\n            opacity: animationState === 'visible' ? 1 : 0,\n            transform: animationState === 'visible' ? 'translateX(0)' : 'translateX(50px)',\n            pointerEvents: animationState === 'visible' ? 'auto' : 'none',\n            zIndex: 100\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"metrics-header\",\n                style: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    marginBottom: '8px',\n                    borderBottom: '1px solid rgba(255, 255, 255, 0.3)',\n                    paddingBottom: '5px'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontWeight: 'bold'\n                        },\n                        children: \"Display Metrics\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"metrics-indicator\",\n                        style: {\n                            width: '10px',\n                            height: '10px',\n                            borderRadius: '50%',\n                            backgroundColor: '#00ff00',\n                            boxShadow: '0 0 5px rgba(0, 255, 0, 0.8)'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 52,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"metrics-content\",\n                style: {\n                    lineHeight: '1.5'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Width:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 69,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedWidth\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 70,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" pixels\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 71,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 68,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Height:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 74,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedHeight\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 75,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" pixels\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 76,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 73,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Distance:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 79,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedDistance\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 80,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" cm\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 81,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 78,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                lineNumber: 64,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisplayResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUVuRCxNQUFNRyxrQkFBa0IsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxZQUFZLElBQUksRUFBRTtJQUNwRSw2Q0FBNkM7SUFDN0MsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHUiwrQ0FBUUEsQ0FBQ00sWUFBWSxZQUFZO0lBRTdFLGlEQUFpRDtJQUNqREwsZ0RBQVNBO3FDQUFDO1lBQ1JPLGtCQUFrQkYsWUFBWSxZQUFZO1FBQzVDO29DQUFHO1FBQUNBO0tBQVU7SUFFZCxxREFBcUQ7SUFDckQsTUFBTUcsaUJBQWlCTixTQUFTO0lBQ2hDLE1BQU1PLGtCQUFrQk4sVUFBVTtJQUNsQyxNQUFNTyxvQkFBb0JOLFlBQVk7SUFFdEMscUJBQ0UsOERBQUNPO1FBQ0NDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRU4sZ0JBQWdCO1FBQzlDTyxPQUFPO1lBQ0xDLFVBQVU7WUFDVkMsT0FBTztZQUNQQyxLQUFLO1lBQ0xDLGlCQUFpQjtZQUNqQkMsT0FBTztZQUNQQyxTQUFTO1lBQ1RDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxZQUFZO1lBQ1pDLFdBQVc7WUFDWEMsWUFBWTtZQUNaQyxTQUFTbkIsbUJBQW1CLFlBQVksSUFBSTtZQUM1Q29CLFdBQVdwQixtQkFBbUIsWUFDMUIsa0JBQ0E7WUFDSnFCLGVBQWVyQixtQkFBbUIsWUFBWSxTQUFTO1lBQ3ZEc0IsUUFBUTtRQUNWOzswQkFFQSw4REFBQ2pCO2dCQUNDQyxXQUFVO2dCQUNWQyxPQUFPO29CQUNMZ0IsU0FBUztvQkFDVEMsZ0JBQWdCO29CQUNoQkMsWUFBWTtvQkFDWkMsY0FBYztvQkFDZEMsY0FBYztvQkFDZEMsZUFBZTtnQkFDakI7O2tDQUVBLDhEQUFDQzt3QkFBS3RCLE9BQU87NEJBQUV1QixZQUFZO3dCQUFPO2tDQUFHOzs7Ozs7a0NBQ3JDLDhEQUFDekI7d0JBQ0NDLFdBQVU7d0JBQ1ZDLE9BQU87NEJBQ0xYLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JpQixjQUFjOzRCQUNkSCxpQkFBaUI7NEJBQ2pCTSxXQUFXO3dCQUNiOzs7Ozs7Ozs7Ozs7MEJBSUosOERBQUNaO2dCQUNDQyxXQUFVO2dCQUNWQyxPQUFPO29CQUFFd0IsWUFBWTtnQkFBTTs7a0NBRTNCLDhEQUFDQzs7MENBQ0MsOERBQUNIO2dDQUFLdEIsT0FBTztvQ0FBRWdCLFNBQVM7b0NBQWdCM0IsT0FBTztnQ0FBTzswQ0FBRzs7Ozs7OzBDQUN6RCw4REFBQ2lDO2dDQUFLdEIsT0FBTztvQ0FBRXVCLFlBQVk7Z0NBQU87MENBQUk1Qjs7Ozs7OzBDQUN0Qyw4REFBQzJCO2dDQUFLdEIsT0FBTztvQ0FBRVksU0FBUztvQ0FBS0osVUFBVTtnQ0FBTzswQ0FBRzs7Ozs7Ozs7Ozs7O2tDQUVuRCw4REFBQ2lCOzswQ0FDQyw4REFBQ0g7Z0NBQUt0QixPQUFPO29DQUFFZ0IsU0FBUztvQ0FBZ0IzQixPQUFPO2dDQUFPOzBDQUFHOzs7Ozs7MENBQ3pELDhEQUFDaUM7Z0NBQUt0QixPQUFPO29DQUFFdUIsWUFBWTtnQ0FBTzswQ0FBSTNCOzs7Ozs7MENBQ3RDLDhEQUFDMEI7Z0NBQUt0QixPQUFPO29DQUFFWSxTQUFTO29DQUFLSixVQUFVO2dDQUFPOzBDQUFHOzs7Ozs7Ozs7Ozs7a0NBRW5ELDhEQUFDaUI7OzBDQUNDLDhEQUFDSDtnQ0FBS3RCLE9BQU87b0NBQUVnQixTQUFTO29DQUFnQjNCLE9BQU87Z0NBQU87MENBQUc7Ozs7OzswQ0FDekQsOERBQUNpQztnQ0FBS3RCLE9BQU87b0NBQUV1QixZQUFZO2dDQUFPOzBDQUFJMUI7Ozs7OzswQ0FDdEMsOERBQUN5QjtnQ0FBS3RCLE9BQU87b0NBQUVZLFNBQVM7b0NBQUtKLFVBQVU7Z0NBQU87MENBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUszRDtBQUVBLGlFQUFlcEIsZUFBZUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBEaXNwbGF5UmVzcG9uc2UgPSAoeyB3aWR0aCwgaGVpZ2h0LCBkaXN0YW5jZSwgaXNWaXNpYmxlID0gdHJ1ZSB9KSA9PiB7XG4gIC8vIEFuaW1hdGlvbiBzdGF0ZSBmb3IgdmlzaWJpbGl0eSB0cmFuc2l0aW9uc1xuICBjb25zdCBbYW5pbWF0aW9uU3RhdGUsIHNldEFuaW1hdGlvblN0YXRlXSA9IHVzZVN0YXRlKGlzVmlzaWJsZSA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nKTtcbiAgXG4gIC8vIFVwZGF0ZSBhbmltYXRpb24gc3RhdGUgd2hlbiB2aXNpYmlsaXR5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRBbmltYXRpb25TdGF0ZShpc1Zpc2libGUgPyAndmlzaWJsZScgOiAnaGlkZGVuJyk7XG4gIH0sIFtpc1Zpc2libGVdKTtcbiAgXG4gIC8vIEZvcm1hdCB2YWx1ZXMgd2l0aCB1bml0cyBhbmQgaGFuZGxlIG1pc3NpbmcgdmFsdWVzXG4gIGNvbnN0IGZvcm1hdHRlZFdpZHRoID0gd2lkdGggfHwgJy0tLSc7XG4gIGNvbnN0IGZvcm1hdHRlZEhlaWdodCA9IGhlaWdodCB8fCAnLS0tJztcbiAgY29uc3QgZm9ybWF0dGVkRGlzdGFuY2UgPSBkaXN0YW5jZSB8fCAnLS0tJztcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIGNsYXNzTmFtZT17YG1ldHJpY3MtZGlzcGxheSAke2FuaW1hdGlvblN0YXRlfWB9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgcmlnaHQ6ICcyMHB4JyxcbiAgICAgICAgdG9wOiAnODBweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMTAyLCAyMDQsIDAuOCknLFxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgcGFkZGluZzogJzEwcHggMTVweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLFxuICAgICAgICBib3hTaGFkb3c6ICcwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXG4gICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4zcyBlYXNlJyxcbiAgICAgICAgb3BhY2l0eTogYW5pbWF0aW9uU3RhdGUgPT09ICd2aXNpYmxlJyA/IDEgOiAwLFxuICAgICAgICB0cmFuc2Zvcm06IGFuaW1hdGlvblN0YXRlID09PSAndmlzaWJsZScgXG4gICAgICAgICAgPyAndHJhbnNsYXRlWCgwKScgXG4gICAgICAgICAgOiAndHJhbnNsYXRlWCg1MHB4KScsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IGFuaW1hdGlvblN0YXRlID09PSAndmlzaWJsZScgPyAnYXV0bycgOiAnbm9uZScsXG4gICAgICAgIHpJbmRleDogMTAwXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cIm1ldHJpY3MtaGVhZGVyXCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206ICc1cHgnXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5EaXNwbGF5IE1ldHJpY3M8L3NwYW4+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwibWV0cmljcy1pbmRpY2F0b3JcIlxuICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgd2lkdGg6ICcxMHB4JywgXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMHB4JywgXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLCBcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMGZmMDAnLFxuICAgICAgICAgICAgYm94U2hhZG93OiAnMCAwIDVweCByZ2JhKDAsIDI1NSwgMCwgMC44KSdcbiAgICAgICAgICB9fSBcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJtZXRyaWNzLWNvbnRlbnRcIlxuICAgICAgICBzdHlsZT17eyBsaW5lSGVpZ2h0OiAnMS41JyB9fVxuICAgICAgPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgd2lkdGg6ICc4MHB4JyB9fT5XaWR0aDo8L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT57Zm9ybWF0dGVkV2lkdGh9PC9zcGFuPiBcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBvcGFjaXR5OiAwLjgsIGZvbnRTaXplOiAnMTJweCcgfX0+IHBpeGVsczwvc3Bhbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgd2lkdGg6ICc4MHB4JyB9fT5IZWlnaHQ6PC9zcGFuPiBcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+e2Zvcm1hdHRlZEhlaWdodH08L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG9wYWNpdHk6IDAuOCwgZm9udFNpemU6ICcxMnB4JyB9fT4gcGl4ZWxzPC9zcGFuPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCB3aWR0aDogJzgwcHgnIH19PkRpc3RhbmNlOjwvc3Bhbj4gXG4gICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19Pntmb3JtYXR0ZWREaXN0YW5jZX08L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG9wYWNpdHk6IDAuOCwgZm9udFNpemU6ICcxMnB4JyB9fT4gY208L3NwYW4+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGlzcGxheVJlc3BvbnNlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRGlzcGxheVJlc3BvbnNlIiwid2lkdGgiLCJoZWlnaHQiLCJkaXN0YW5jZSIsImlzVmlzaWJsZSIsImFuaW1hdGlvblN0YXRlIiwic2V0QW5pbWF0aW9uU3RhdGUiLCJmb3JtYXR0ZWRXaWR0aCIsImZvcm1hdHRlZEhlaWdodCIsImZvcm1hdHRlZERpc3RhbmNlIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJwb3NpdGlvbiIsInJpZ2h0IiwidG9wIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiYm94U2hhZG93IiwidHJhbnNpdGlvbiIsIm9wYWNpdHkiLCJ0cmFuc2Zvcm0iLCJwb2ludGVyRXZlbnRzIiwiekluZGV4IiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIm1hcmdpbkJvdHRvbSIsImJvcmRlckJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJzcGFuIiwiZm9udFdlaWdodCIsImxpbmVIZWlnaHQiLCJwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js":
/*!*********************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/topBar.js ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _adminSettings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./adminSettings */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\");\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__]);\n_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n// Improved debounce function\nconst debounce = (func, wait)=>{\n    let timeout;\n    let lastArgs;\n    let lastThis;\n    return function executedFunction(...args) {\n        lastArgs = args;\n        lastThis = this;\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n        timeout = setTimeout(()=>{\n            timeout = null;\n            func.apply(lastThis, lastArgs);\n        }, wait);\n    };\n};\nconst TopBar = ({ onButtonClick, onCameraAccess, outputText, onOutputChange, onToggleTopBar, onToggleMetrics, canvasRef, isTopBarShown = true, isCanvasVisible = true })=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [canvasStatus, setCanvasStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(isCanvasVisible);\n    const { settings, updateSettings } = (0,_adminSettings__WEBPACK_IMPORTED_MODULE_4__.useAdminSettings)();\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [currentSettings, setCurrentSettings] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        times: 1,\n        delay: 3\n    });\n    const isUpdatingRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n    // Memoized function to fetch settings\n    const fetchSettings = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"TopBar.useCallback[fetchSettings]\": async (userId)=>{\n            if (!userId || isUpdatingRef.current) return;\n            try {\n                isUpdatingRef.current = true;\n                const response = await fetch(`/api/data-center/settings/${userId}`, {\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                    }\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to fetch settings');\n                }\n                const userSettings = await response.json();\n                if (userSettings && (userSettings.times || userSettings.delay)) {\n                    setCurrentSettings(userSettings);\n                    if (updateSettings) {\n                        await updateSettings(userSettings, userId);\n                    }\n                }\n            } catch (error) {\n                console.error('TopBar - Error fetching settings:', error);\n            } finally{\n                isUpdatingRef.current = false;\n            }\n        }\n    }[\"TopBar.useCallback[fetchSettings]\"], [\n        updateSettings\n    ]);\n    // Debounced save settings function\n    const debouncedSaveSettings = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(debounce({\n        \"TopBar.useCallback[debouncedSaveSettings]\": async (userId, newSettings)=>{\n            if (!userId || isUpdatingRef.current) return;\n            try {\n                isUpdatingRef.current = true;\n                const response = await fetch(`/api/data-center/settings/${userId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                    },\n                    body: JSON.stringify(newSettings)\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to save settings to backend');\n                }\n                const latestSettings = await response.json();\n                setCurrentSettings(latestSettings);\n                if (updateSettings) {\n                    await updateSettings(latestSettings, userId);\n                }\n            } catch (error) {\n                console.error('TopBar - Error saving settings:', error);\n            } finally{\n                isUpdatingRef.current = false;\n            }\n        }\n    }[\"TopBar.useCallback[debouncedSaveSettings]\"], 500), [\n        updateSettings\n    ]);\n    // Initialize user ID and fetch initial settings\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const initializeUserId = {\n                \"TopBar.useEffect.initializeUserId\": async ()=>{\n                    const userId = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_5__.getOrCreateUserId)();\n                    if (userId) {\n                        setCurrentUserId(userId);\n                        await fetchSettings(userId);\n                        setIsLoading(false);\n                    }\n                }\n            }[\"TopBar.useEffect.initializeUserId\"];\n            initializeUserId();\n        }\n    }[\"TopBar.useEffect\"], [\n        fetchSettings\n    ]);\n    // Update canvas status when prop changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            setCanvasStatus(isCanvasVisible);\n        }\n    }[\"TopBar.useEffect\"], [\n        isCanvasVisible\n    ]);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"TopBar.useEffect.handleUserIdChange\": async (event)=>{\n                    if (event.detail?.userId) {\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        await fetchSettings(newUserId);\n                    }\n                }\n            }[\"TopBar.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"TopBar.useEffect\": ()=>window.removeEventListener('userIdChange', handleUserIdChange)\n            })[\"TopBar.useEffect\"];\n        }\n    }[\"TopBar.useEffect\"], [\n        fetchSettings\n    ]);\n    // Listen for settings updates from admin page\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"TopBar.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail?.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        // Only update if values have actually changed\n                        if (times !== currentSettings.times || delay !== currentSettings.delay) {\n                            const newSettings = {\n                                times: Number(times) || currentSettings.times,\n                                delay: Number(delay) || currentSettings.delay\n                            };\n                            debouncedSaveSettings(userId, newSettings);\n                        }\n                    }\n                }\n            }[\"TopBar.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"TopBar.useEffect\": ()=>window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate)\n            })[\"TopBar.useEffect\"];\n        }\n    }[\"TopBar.useEffect\"], [\n        currentSettings,\n        debouncedSaveSettings\n    ]);\n    // Handle settings change\n    const handleSettingsChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"TopBar.useCallback[handleSettingsChange]\": async (newSettings)=>{\n            if (!currentUserId) return;\n            debouncedSaveSettings(currentUserId, newSettings);\n        }\n    }[\"TopBar.useCallback[handleSettingsChange]\"], [\n        currentUserId,\n        debouncedSaveSettings\n    ]);\n    const handleButtonClick = (actionType)=>{\n        if (onButtonClick) {\n            onButtonClick(actionType);\n        }\n    };\n    const handleToggleTopBar = ()=>{\n        onToggleTopBar(!isTopBarShown);\n    };\n    const handleToggleMetrics = ()=>{\n        onToggleMetrics();\n    };\n    const handleGoBack = ()=>{\n        router.push('/');\n    };\n    const statusMessage = `TopBar ${isTopBarShown ? 'shown' : 'hidden'}, Canvas: ${canvasStatus ? 'Visible' : 'Hidden'}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-8fd840df60237147\" + \" \" + \"topbar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-left\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"logo\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"logo-text\",\n                            children: \"Logo\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 195,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 194,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"controls-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"control-group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-label\",\n                                        children: \"Time(s):\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 200,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-input\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"control-input-field\",\n                                            children: currentSettings.times\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 202,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 201,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, `times-${currentSettings.times}-${Date.now()}`, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 199,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"control-group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-label\",\n                                        children: \"Delay(s):\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 207,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-input\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"control-input-field\",\n                                            children: currentSettings.delay\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 209,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 208,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, `delay-${currentSettings.delay}-${Date.now()}`, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 206,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 198,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 193,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-middle\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-groups\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"button-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleGoBack,\n                                            title: \"Go back to home page\",\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn back-button\",\n                                            children: \"← Back\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 219,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('setRandom'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Set Random\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 227,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('calibrate'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Set Calibrate\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 233,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 218,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginRight: '80px'\n                                    },\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('randomDot'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Random Dot\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 242,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('clearAll'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Clear All\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 248,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 241,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 217,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-divider\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 257,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"button-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('headPose'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Draw Head pose\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 261,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('boundingBox'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Show Bounding Box\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 267,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 260,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('preview'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Show Preview\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 276,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('mask'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"\\uD83D\\uDE0A Show Mask\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 282,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('parameters'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Parameters\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 288,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 275,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 259,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                    lineNumber: 216,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-right\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"notes-container\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            title: \"Processing Output\",\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"output-display\",\n                            children: [\n                                statusMessage,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {\n                                    className: \"jsx-8fd840df60237147\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 306,\n                                    columnNumber: 13\n                                }, undefined),\n                                outputText || \"Processing output will appear here...\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 301,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 300,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-buttons\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleToggleTopBar,\n                                title: \"Toggle TopBar\",\n                                style: {\n                                    padding: '5px 10px',\n                                    backgroundColor: '#0066cc',\n                                    color: 'white',\n                                    border: 'none',\n                                    borderRadius: '4px',\n                                    fontSize: '16px',\n                                    cursor: 'pointer',\n                                    marginRight: '5px'\n                                },\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"icon-btn menu-btn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"icon-text\",\n                                    children: \"≡\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 327,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 312,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleToggleMetrics,\n                                title: \"Toggle Metrics\",\n                                style: {\n                                    padding: '5px 10px',\n                                    backgroundColor: '#ff9900',\n                                    color: 'white',\n                                    border: 'none',\n                                    borderRadius: '4px',\n                                    fontSize: '16px',\n                                    cursor: 'pointer'\n                                },\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"icon-btn alert-btn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"icon-text\",\n                                    children: \"!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 344,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 330,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 311,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 299,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"8fd840df60237147\",\n                children: \".active-toggle.jsx-8fd840df60237147{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2);-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.icon-btn.jsx-8fd840df60237147{-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.icon-btn.jsx-8fd840df60237147:hover{opacity:.8}\"\n            }, void 0, false, void 0, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n        lineNumber: 192,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TopBar);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvdG9wQmFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0U7QUFDaEM7QUFDVztBQUNlO0FBRWxFLDZCQUE2QjtBQUM3QixNQUFNUSxXQUFXLENBQUNDLE1BQU1DO0lBQ3RCLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJQztJQUVKLE9BQU8sU0FBU0MsaUJBQWlCLEdBQUdDLElBQUk7UUFDdENILFdBQVdHO1FBQ1hGLFdBQVcsSUFBSTtRQUVmLElBQUlGLFNBQVM7WUFDWEssYUFBYUw7UUFDZjtRQUVBQSxVQUFVTSxXQUFXO1lBQ25CTixVQUFVO1lBQ1ZGLEtBQUtTLEtBQUssQ0FBQ0wsVUFBVUQ7UUFDdkIsR0FBR0Y7SUFDTDtBQUNGO0FBRUEsTUFBTVMsU0FBUyxDQUFDLEVBQ2RDLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxVQUFVLEVBQ1ZDLGNBQWMsRUFDZEMsY0FBYyxFQUNkQyxlQUFlLEVBQ2ZDLFNBQVMsRUFDVEMsZ0JBQWdCLElBQUksRUFDcEJDLGtCQUFrQixJQUFJLEVBQ3ZCO0lBQ0MsTUFBTUMsU0FBU3hCLHNEQUFTQTtJQUN4QixNQUFNLENBQUN5QixjQUFjQyxnQkFBZ0IsR0FBRzlCLCtDQUFRQSxDQUFDMkI7SUFDakQsTUFBTSxFQUFFSSxRQUFRLEVBQUVDLGNBQWMsRUFBRSxHQUFHM0IsZ0VBQWdCQTtJQUNyRCxNQUFNLENBQUM0QixlQUFlQyxpQkFBaUIsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQ21DLFdBQVdDLGFBQWEsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3FDLGlCQUFpQkMsbUJBQW1CLEdBQUd0QywrQ0FBUUEsQ0FBQztRQUFFdUMsT0FBTztRQUFHQyxPQUFPO0lBQUU7SUFDNUUsTUFBTUMsZ0JBQWdCdEMsNkNBQU1BLENBQUM7SUFFN0Isc0NBQXND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Q0FDVkMsUUFBUTtnQ0FDVjswRUFYVTswQ0FhViw0RUFBQ2Y7OEVBQWU7OENBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCeEM7QUFFQSxpRUFBZW5FLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2NvbXBvbmVudHMtZ3VpL3RvcEJhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHVzZUFkbWluU2V0dGluZ3MgfSBmcm9tICcuL2FkbWluU2V0dGluZ3MnO1xuaW1wb3J0IHsgZ2V0T3JDcmVhdGVVc2VySWQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9jb25zZW50TWFuYWdlcic7XG5cbi8vIEltcHJvdmVkIGRlYm91bmNlIGZ1bmN0aW9uXG5jb25zdCBkZWJvdW5jZSA9IChmdW5jLCB3YWl0KSA9PiB7XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgbGFzdEFyZ3M7XG4gIGxldCBsYXN0VGhpcztcbiAgXG4gIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIFxuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfVxuICAgIFxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgZnVuYy5hcHBseShsYXN0VGhpcywgbGFzdEFyZ3MpO1xuICAgIH0sIHdhaXQpO1xuICB9O1xufTtcblxuY29uc3QgVG9wQmFyID0gKHsgXG4gIG9uQnV0dG9uQ2xpY2ssXG4gIG9uQ2FtZXJhQWNjZXNzLFxuICBvdXRwdXRUZXh0LFxuICBvbk91dHB1dENoYW5nZSxcbiAgb25Ub2dnbGVUb3BCYXIsXG4gIG9uVG9nZ2xlTWV0cmljcyxcbiAgY2FudmFzUmVmLFxuICBpc1RvcEJhclNob3duID0gdHJ1ZSxcbiAgaXNDYW52YXNWaXNpYmxlID0gdHJ1ZVxufSkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2NhbnZhc1N0YXR1cywgc2V0Q2FudmFzU3RhdHVzXSA9IHVzZVN0YXRlKGlzQ2FudmFzVmlzaWJsZSk7XG4gIGNvbnN0IHsgc2V0dGluZ3MsIHVwZGF0ZVNldHRpbmdzIH0gPSB1c2VBZG1pblNldHRpbmdzKCk7XG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjdXJyZW50U2V0dGluZ3MsIHNldEN1cnJlbnRTZXR0aW5nc10gPSB1c2VTdGF0ZSh7IHRpbWVzOiAxLCBkZWxheTogMyB9KTtcbiAgY29uc3QgaXNVcGRhdGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG5cbiAgLy8gTWVtb2l6ZWQgZnVuY3Rpb24gdG8gZmV0Y2ggc2V0dGluZ3NcbiAgY29uc3QgZmV0Y2hTZXR0aW5ncyA9IHVzZUNhbGxiYWNrKGFzeW5jICh1c2VySWQpID0+IHtcbiAgICBpZiAoIXVzZXJJZCB8fCBpc1VwZGF0aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgaXNVcGRhdGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHt1c2VySWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHNldHRpbmdzJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmICh1c2VyU2V0dGluZ3MgJiYgKHVzZXJTZXR0aW5ncy50aW1lcyB8fCB1c2VyU2V0dGluZ3MuZGVsYXkpKSB7XG4gICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyh1c2VyU2V0dGluZ3MpO1xuICAgICAgICBpZiAodXBkYXRlU2V0dGluZ3MpIHtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVTZXR0aW5ncyh1c2VyU2V0dGluZ3MsIHVzZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVG9wQmFyIC0gRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc1VwZGF0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIFt1cGRhdGVTZXR0aW5nc10pO1xuXG4gIC8vIERlYm91bmNlZCBzYXZlIHNldHRpbmdzIGZ1bmN0aW9uXG4gIGNvbnN0IGRlYm91bmNlZFNhdmVTZXR0aW5ncyA9IHVzZUNhbGxiYWNrKFxuICAgIGRlYm91bmNlKGFzeW5jICh1c2VySWQsIG5ld1NldHRpbmdzKSA9PiB7XG4gICAgICBpZiAoIXVzZXJJZCB8fCBpc1VwZGF0aW5nUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgaXNVcGRhdGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdTZXR0aW5ncylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNhdmUgc2V0dGluZ3MgdG8gYmFja2VuZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGF0ZXN0U2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhsYXRlc3RTZXR0aW5ncyk7XG4gICAgICAgIGlmICh1cGRhdGVTZXR0aW5ncykge1xuICAgICAgICAgIGF3YWl0IHVwZGF0ZVNldHRpbmdzKGxhdGVzdFNldHRpbmdzLCB1c2VySWQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUb3BCYXIgLSBFcnJvciBzYXZpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNVcGRhdGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSwgNTAwKSxcbiAgICBbdXBkYXRlU2V0dGluZ3NdXG4gICk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB1c2VyIElEIGFuZCBmZXRjaCBpbml0aWFsIHNldHRpbmdzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbGl6ZVVzZXJJZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQodXNlcklkKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTZXR0aW5ncyh1c2VySWQpO1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgaW5pdGlhbGl6ZVVzZXJJZCgpO1xuICB9LCBbZmV0Y2hTZXR0aW5nc10pO1xuXG4gIC8vIFVwZGF0ZSBjYW52YXMgc3RhdHVzIHdoZW4gcHJvcCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0Q2FudmFzU3RhdHVzKGlzQ2FudmFzVmlzaWJsZSk7XG4gIH0sIFtpc0NhbnZhc1Zpc2libGVdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHVzZXIgSUQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbD8udXNlcklkKSB7XG4gICAgICAgIGNvbnN0IG5ld1VzZXJJZCA9IGV2ZW50LmRldGFpbC51c2VySWQ7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQobmV3VXNlcklkKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTZXR0aW5ncyhuZXdVc2VySWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gIH0sIFtmZXRjaFNldHRpbmdzXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBzZXR0aW5ncyB1cGRhdGVzIGZyb20gYWRtaW4gcGFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsPy50eXBlID09PSAnY2FwdHVyZVNldHRpbmdzJykge1xuICAgICAgICBjb25zdCB7IHVzZXJJZCwgdGltZXMsIGRlbGF5IH0gPSBldmVudC5kZXRhaWw7XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IHVwZGF0ZSBpZiB2YWx1ZXMgaGF2ZSBhY3R1YWxseSBjaGFuZ2VkXG4gICAgICAgIGlmICh0aW1lcyAhPT0gY3VycmVudFNldHRpbmdzLnRpbWVzIHx8IGRlbGF5ICE9PSBjdXJyZW50U2V0dGluZ3MuZGVsYXkpIHtcbiAgICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHRpbWVzOiBOdW1iZXIodGltZXMpIHx8IGN1cnJlbnRTZXR0aW5ncy50aW1lcyxcbiAgICAgICAgICAgIGRlbGF5OiBOdW1iZXIoZGVsYXkpIHx8IGN1cnJlbnRTZXR0aW5ncy5kZWxheVxuICAgICAgICAgIH07XG4gICAgICAgICAgZGVib3VuY2VkU2F2ZVNldHRpbmdzKHVzZXJJZCwgbmV3U2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gIH0sIFtjdXJyZW50U2V0dGluZ3MsIGRlYm91bmNlZFNhdmVTZXR0aW5nc10pO1xuXG4gIC8vIEhhbmRsZSBzZXR0aW5ncyBjaGFuZ2VcbiAgY29uc3QgaGFuZGxlU2V0dGluZ3NDaGFuZ2UgPSB1c2VDYWxsYmFjayhhc3luYyAobmV3U2V0dGluZ3MpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRVc2VySWQpIHJldHVybjtcbiAgICBkZWJvdW5jZWRTYXZlU2V0dGluZ3MoY3VycmVudFVzZXJJZCwgbmV3U2V0dGluZ3MpO1xuICB9LCBbY3VycmVudFVzZXJJZCwgZGVib3VuY2VkU2F2ZVNldHRpbmdzXSk7XG5cbiAgY29uc3QgaGFuZGxlQnV0dG9uQ2xpY2sgPSAoYWN0aW9uVHlwZSkgPT4ge1xuICAgIGlmIChvbkJ1dHRvbkNsaWNrKSB7XG4gICAgICBvbkJ1dHRvbkNsaWNrKGFjdGlvblR5cGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVUb3BCYXIgPSAoKSA9PiB7XG4gICAgb25Ub2dnbGVUb3BCYXIoIWlzVG9wQmFyU2hvd24pO1xuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlVG9nZ2xlTWV0cmljcyA9ICgpID0+IHtcbiAgICBvblRvZ2dsZU1ldHJpY3MoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVHb0JhY2sgPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy8nKTtcbiAgfTtcblxuICBjb25zdCBzdGF0dXNNZXNzYWdlID0gYFRvcEJhciAke2lzVG9wQmFyU2hvd24gPyAnc2hvd24nIDogJ2hpZGRlbid9LCBDYW52YXM6ICR7Y2FudmFzU3RhdHVzID8gJ1Zpc2libGUnIDogJ0hpZGRlbid9YDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wYmFyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcGJhci1sZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9nb1wiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJsb2dvLXRleHRcIj5Mb2dvPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9scy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtZ3JvdXBcIiBrZXk9e2B0aW1lcy0ke2N1cnJlbnRTZXR0aW5ncy50aW1lc30tJHtEYXRlLm5vdygpfWB9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29udHJvbC1sYWJlbFwiPlRpbWUocyk6PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXQtZmllbGRcIj57Y3VycmVudFNldHRpbmdzLnRpbWVzfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1ncm91cFwiIGtleT17YGRlbGF5LSR7Y3VycmVudFNldHRpbmdzLmRlbGF5fS0ke0RhdGUubm93KCl9YH0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb250cm9sLWxhYmVsXCI+RGVsYXkocyk6PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXQtZmllbGRcIj57Y3VycmVudFNldHRpbmdzLmRlbGF5fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcGJhci1taWRkbGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tZ3JvdXBzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBiYWNrLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR29CYWNrfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiR28gYmFjayB0byBob21lIHBhZ2VcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg4oaQIEJhY2tcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ3NldFJhbmRvbScpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2V0IFJhbmRvbVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdjYWxpYnJhdGUnKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNldCBDYWxpYnJhdGVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCIgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICc4MHB4JyB9fT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdyYW5kb21Eb3QnKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJhbmRvbSBEb3RcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygnY2xlYXJBbGwnKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENsZWFyIEFsbFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wYmFyLWRpdmlkZXJcIj48L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygnaGVhZFBvc2UnKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERyYXcgSGVhZCBwb3NlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ2JvdW5kaW5nQm94Jyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaG93IEJvdW5kaW5nIEJveFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1yb3dcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdwcmV2aWV3Jyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTaG93IFByZXZpZXdcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygnbWFzaycpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg8J+YiiBTaG93IE1hc2tcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygncGFyYW1ldGVycycpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgUGFyYW1ldGVyc1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcGJhci1yaWdodFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vdGVzLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJvdXRwdXQtZGlzcGxheVwiXG4gICAgICAgICAgICB0aXRsZT1cIlByb2Nlc3NpbmcgT3V0cHV0XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c3RhdHVzTWVzc2FnZX1cbiAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAge291dHB1dFRleHQgfHwgXCJQcm9jZXNzaW5nIG91dHB1dCB3aWxsIGFwcGVhciBoZXJlLi4uXCJ9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWJ1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbi1idG4gbWVudS1idG5cIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlVG9wQmFyfVxuICAgICAgICAgICAgdGl0bGU9XCJUb2dnbGUgVG9wQmFyXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHBhZGRpbmc6ICc1cHggMTBweCcsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDY2Y2MnLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICBtYXJnaW5SaWdodDogJzVweCdcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi10ZXh0XCI+4omhPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uLWJ0biBhbGVydC1idG5cIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlTWV0cmljc31cbiAgICAgICAgICAgIHRpdGxlPVwiVG9nZ2xlIE1ldHJpY3NcIlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmOTkwMCcsXG4gICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi10ZXh0XCI+ITwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuYWN0aXZlLXRvZ2dsZSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5pY29uLWJ0biB7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmljb24tYnRuOmhvdmVyIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjg7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRvcEJhcjsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlUm91dGVyIiwidXNlQWRtaW5TZXR0aW5ncyIsImdldE9yQ3JlYXRlVXNlcklkIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiZXhlY3V0ZWRGdW5jdGlvbiIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJUb3BCYXIiLCJvbkJ1dHRvbkNsaWNrIiwib25DYW1lcmFBY2Nlc3MiLCJvdXRwdXRUZXh0Iiwib25PdXRwdXRDaGFuZ2UiLCJvblRvZ2dsZVRvcEJhciIsIm9uVG9nZ2xlTWV0cmljcyIsImNhbnZhc1JlZiIsImlzVG9wQmFyU2hvd24iLCJpc0NhbnZhc1Zpc2libGUiLCJyb3V0ZXIiLCJjYW52YXNTdGF0dXMiLCJzZXRDYW52YXNTdGF0dXMiLCJzZXR0aW5ncyIsInVwZGF0ZVNldHRpbmdzIiwiY3VycmVudFVzZXJJZCIsInNldEN1cnJlbnRVc2VySWQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJjdXJyZW50U2V0dGluZ3MiLCJzZXRDdXJyZW50U2V0dGluZ3MiLCJ0aW1lcyIsImRlbGF5IiwiaXNVcGRhdGluZ1JlZiIsImZldGNoU2V0dGluZ3MiLCJ1c2VySWQiLCJjdXJyZW50IiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiRXJyb3IiLCJ1c2VyU2V0dGluZ3MiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwiZGVib3VuY2VkU2F2ZVNldHRpbmdzIiwibmV3U2V0dGluZ3MiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImxhdGVzdFNldHRpbmdzIiwiaW5pdGlhbGl6ZVVzZXJJZCIsImhhbmRsZVVzZXJJZENoYW5nZSIsImV2ZW50IiwiZGV0YWlsIiwibmV3VXNlcklkIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTZXR0aW5nc1VwZGF0ZSIsInR5cGUiLCJOdW1iZXIiLCJoYW5kbGVTZXR0aW5nc0NoYW5nZSIsImhhbmRsZUJ1dHRvbkNsaWNrIiwiYWN0aW9uVHlwZSIsImhhbmRsZVRvZ2dsZVRvcEJhciIsImhhbmRsZVRvZ2dsZU1ldHJpY3MiLCJoYW5kbGVHb0JhY2siLCJwdXNoIiwic3RhdHVzTWVzc2FnZSIsImRpdiIsImgxIiwic3BhbiIsIkRhdGUiLCJub3ciLCJidXR0b24iLCJvbkNsaWNrIiwidGl0bGUiLCJzdHlsZSIsIm1hcmdpblJpZ2h0IiwiYnIiLCJwYWRkaW5nIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJmb250U2l6ZSIsImN1cnNvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/index.js":
/*!*****************************************************!*\
  !*** ./pages/collected-dataset-customized/index.js ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CollectedDatasetPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"(pages-dir-node)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-node)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components-gui/topBar */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js\");\n/* harmony import */ var _components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components-gui/displayResponse */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js\");\n/* harmony import */ var _components_gui_actionButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components-gui/actionButton */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/actionButton.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\");\n/* harmony import */ var _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_9__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__, _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_8__]);\n([_components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__, _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// Modified index.js - Fixing canvas reference issues\n\n\n\n\n\n\n\n\n// import { generateCalibrationPoints } from '../../components/collected-dataset-customized/Action/CalibratePoints';\n\n\n// Dynamically load the video processor component (not the hook directly)\nconst VideoProcessorComponent = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-node_pages_collected-dataset-customized_components-gui_VideoProcessorComponent_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/VideoProcessorComponent */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/VideoProcessorComponent.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/VideoProcessorComponent\"\n        ]\n    },\n    ssr: false\n});\n// Dynamically import the camera component with SSR disabled\nconst DynamicCameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-node_pages_collected-dataset-customized_components-gui_cameraAccess_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/cameraAccess */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/cameraAccess\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                backgroundColor: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 42,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 43,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n            lineNumber: 25,\n            columnNumber: 7\n        }, undefined)\n});\nfunction CollectedDatasetPage() {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_9__.useRouter)();\n    const { userId: consentUserId } = (0,_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_8__.useConsent)();\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isHydrated, setIsHydrated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [backendStatus, setBackendStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('checking');\n    const [showTopBar, setShowTopBar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showWarning, setShowWarning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [warningMessage, setWarningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [outputText, setOutputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [showMetrics, setShowMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cameraPermissionGranted, setCameraPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCamera, setShowCamera] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCameraPlaceholder, setShowCameraPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [windowSize, setWindowSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0,\n        percentage: 100\n    });\n    const [metrics, setMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: '---',\n        height: '---',\n        distance: '---'\n    });\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [captureFolder, setCaptureFolder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Refs\n    const previewAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const actionButtonGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Set hydrated state after mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            setIsHydrated(true);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Load user data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const loadUserData = {\n                \"CollectedDatasetPage.useEffect.loadUserData\": async ()=>{\n                    if (!router.isReady) return;\n                    try {\n                        if (router.query.userData) {\n                            const parsedData = JSON.parse(router.query.userData);\n                            setUserData(parsedData);\n                            return;\n                        }\n                        if (router.query.userId) {\n                            const response = await fetch(`/user-preferences/${router.query.userId}`, {\n                                headers: {\n                                    'Accept': 'application/json',\n                                    'Content-Type': 'application/json',\n                                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                                }\n                            });\n                            if (!response.ok) {\n                                throw new Error('Failed to fetch user data');\n                            }\n                            const data = await response.json();\n                            setUserData(data);\n                        }\n                    } catch (err) {\n                        console.error('Error loading user data:', err);\n                        setError(err.message);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.loadUserData\"];\n            loadUserData();\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        router.isReady,\n        router.query\n    ]);\n    // Check backend connection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const checkBackendConnection = {\n                \"CollectedDatasetPage.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendStatus(data.connected ? 'connected' : 'disconnected');\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendStatus('disconnected');\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.checkBackendConnection\"];\n            if (isHydrated) {\n                checkBackendConnection();\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Update window size\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const updateDimensions = {\n                \"CollectedDatasetPage.useEffect.updateDimensions\": ()=>{\n                    if (previewAreaRef.current) {\n                        const width = previewAreaRef.current.offsetWidth;\n                        const height = previewAreaRef.current.offsetHeight;\n                        const screenPercentage = window.innerWidth / window.screen.width * 100;\n                        setMetrics({\n                            \"CollectedDatasetPage.useEffect.updateDimensions\": (prev)=>({\n                                    ...prev,\n                                    width,\n                                    height\n                                })\n                        }[\"CollectedDatasetPage.useEffect.updateDimensions\"]);\n                        setWindowSize({\n                            width: window.innerWidth,\n                            height: window.innerHeight,\n                            percentage: Math.round(screenPercentage)\n                        });\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.updateDimensions\"];\n            if (isHydrated) {\n                updateDimensions();\n                window.addEventListener('resize', updateDimensions);\n                return ({\n                    \"CollectedDatasetPage.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n                })[\"CollectedDatasetPage.useEffect\"];\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Initialize settings based on user data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (userData && consentUserId) {\n                console.log('Initializing settings for user:', consentUserId, userData);\n                // Initialize user-specific settings\n                if (userData.preferences) {\n                    const { preferences } = userData;\n                    // Update camera settings if available\n                    if (preferences.cameraSettings) {\n                        const { showHeadPose, showBoundingBox, showMask, showParameters } = preferences.cameraSettings;\n                        setShowHeadPose(showHeadPose || false);\n                        setShowBoundingBox(showBoundingBox || false);\n                        setShowMask(showMask || false);\n                        setShowParameters(showParameters || false);\n                    }\n                    // Update other settings as needed\n                    if (preferences.metrics) {\n                        setShowMetrics(preferences.metrics.show || true);\n                    }\n                    if (preferences.topBar) {\n                        setShowTopBar(preferences.topBar.show || true);\n                    }\n                }\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userData,\n        consentUserId\n    ]);\n    // Improved get canvas function that tries multiple methods\n    const getMainCanvas = ()=>{\n        // Method 1: Check if we have a direct reference\n        if (canvasRef.current) {\n            console.log(\"Using direct canvasRef.current reference\");\n            return canvasRef.current;\n        }\n        // Method 2: Try to get global reference\n        if (false) {}\n        // Method 3: Try to find via DOM\n        if (typeof document !== 'undefined') {\n            const canvasElement = document.querySelector('.tracking-canvas');\n            if (canvasElement) {\n                console.log(\"Found canvas via DOM selector\");\n                canvasRef.current = canvasElement; // Update our ref\n                if (false) {}\n                return canvasElement;\n            }\n        }\n        console.warn(\"No canvas found via any method\");\n        return null;\n    };\n    // Check if we're on the client or server\n    const isClient = \"undefined\" !== 'undefined';\n    // Add effect to initialize canvas and make it globally available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Debug info to verify canvas size and availability\n            const canvas = canvasRef.current;\n            if (canvas) {\n                console.log(\"Index.js: Canvas initialized\", {\n                    width: canvas.width,\n                    height: canvas.height\n                });\n                // Make canvas EXPLICITLY available globally\n                window.whiteScreenCanvas = canvas;\n                // Also store canvas dimensions\n                window.canvasDimensions = {\n                    width: canvas.width,\n                    height: canvas.height\n                };\n            } else {\n                console.warn(\"Canvas reference is not available during initialization\");\n            }\n            // Expose canvas initialization function globally\n            window.initializeCanvas = ({\n                \"CollectedDatasetPage.useEffect\": (canvas, parent)=>{\n                    if (!canvas || !parent) {\n                        console.warn('[initializeCanvas] Canvas or parent is null', {\n                            canvas,\n                            parent\n                        });\n                        return false;\n                    }\n                    try {\n                        // Set canvas dimensions to match parent\n                        canvas.width = parent.clientWidth || 800;\n                        canvas.height = parent.clientHeight || 600;\n                        // Clear canvas and set white background\n                        const ctx = canvas.getContext('2d');\n                        ctx.clearRect(0, 0, canvas.width, canvas.height);\n                        ctx.fillStyle = 'white';\n                        ctx.fillRect(0, 0, canvas.width, canvas.height);\n                        console.log(`Canvas initialized with dimensions: ${canvas.width}x${canvas.height}`);\n                        // Update global reference\n                        window.whiteScreenCanvas = canvas;\n                        window.canvasDimensions = {\n                            width: canvas.width,\n                            height: canvas.height\n                        };\n                        return true;\n                    } catch (error) {\n                        console.error('[initializeCanvas] Error initializing canvas:', error);\n                        return false;\n                    }\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            // Check canvas visibility and force initialization after a brief delay\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    const canvas = getMainCanvas();\n                    if (canvas) {\n                        const rect = canvas.getBoundingClientRect();\n                        console.log(\"Canvas initial visibility check:\", {\n                            dimensions: `${canvas.width}x${canvas.height}`,\n                            rectSize: `${rect.width}x${rect.height}`,\n                            isVisible: rect.width > 0 && rect.height > 0\n                        });\n                        // Force initialization if needed\n                        adjustCanvasDimensions();\n                    } else {\n                        console.warn(\"Canvas not found during visibility check\");\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 500);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    delete window.whiteScreenCanvas;\n                    delete window.canvasDimensions;\n                    delete window.initializeCanvas;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Improved canvas dimensions adjustment\n    const adjustCanvasDimensions = ()=>{\n        if (!isClient || !isHydrated || !previewAreaRef.current) return;\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found to adjust dimensions\");\n            return;\n        }\n        const container = previewAreaRef.current;\n        // Get the size of the preview area\n        const rect = container.getBoundingClientRect();\n        // Calculate proper height based on top bar visibility\n        const topBarHeight = showTopBar ? 120 : 0; // Adjust this value based on your top bar's actual height\n        console.log(\"Adjusting canvas dimensions\", {\n            containerWidth: rect.width,\n            containerHeight: rect.height,\n            topBarVisible: showTopBar,\n            calculatedHeight: rect.height\n        });\n        // Set canvas dimensions to match container size with top bar adjustment\n        canvas.width = rect.width;\n        canvas.height = rect.height;\n        // Clear the canvas\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        // Fill with white background\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        console.log(`Canvas dimensions adjusted: ${canvas.width}x${canvas.height}`);\n        // Update global reference with current dimensions\n        window.whiteScreenCanvas = canvas;\n        window.canvasDimensions = {\n            width: canvas.width,\n            height: canvas.height\n        };\n    };\n    // Create a capture folder on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!captureFolder && isClient && isHydrated) {\n                const timestamp = new Date().toISOString().replace(/[:\\.]/g, '-');\n                setCaptureFolder(`session_${timestamp}`);\n                console.log(`Created capture folder: session_${timestamp}`);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        captureFolder,\n        isClient,\n        isHydrated\n    ]);\n    // Check backend connection on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return; // Skip on server or before hydration\n            const checkBackendConnection = {\n                \"CollectedDatasetPage.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendStatus(data.connected ? 'connected' : 'disconnected');\n                        console.log(`Backend connection: ${data.connected ? 'OK' : 'Failed'}`);\n                        // Show status in output text\n                        setOutputText(`Backend ${data.connected ? 'connected' : 'disconnected - using mock mode'}`);\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendStatus('disconnected');\n                        setOutputText('Backend disconnected - using mock mode');\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.checkBackendConnection\"];\n            checkBackendConnection();\n            // Welcome message after backend check\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    setOutputText('Camera system ready. Click \"Show Preview\" to start camera.');\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 2000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Add styles to document head for button highlighting\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Create a style element\n            const style = document.createElement('style');\n            style.textContent = `\n      @keyframes pulse {\n        0% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0.7); }\n        70% { box-shadow: 0 0 0 10px rgba(0, 102, 204, 0); }\n        100% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0); }\n      }\n      \n      @keyframes fadeIn {\n        from { opacity: 0; transform: translateY(-10px); }\n        to { opacity: 1; transform: translateY(0); }\n      }\n      \n      .btn-highlight {\n        animation: pulse 1.5s infinite;\n        background-color: #0099ff !important;\n        color: white !important;\n        transform: scale(1.05);\n        transition: all 0.3s ease;\n      }\n      \n      .warning-banner {\n        animation: fadeIn 0.3s ease-in-out;\n      }\n    `;\n            document.head.appendChild(style);\n            // Clean up\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    document.head.removeChild(style);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Make toggleTopBar function available globally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Make toggleTopBar available to other components\n            window.toggleTopBar = ({\n                \"CollectedDatasetPage.useEffect\": (show)=>{\n                    setShowTopBar(show);\n                    // Also hide metrics when hiding the top bar\n                    if (!show) {\n                        setShowMetrics(false);\n                    }\n                    // Adjust canvas dimensions after toggling\n                    setTimeout(adjustCanvasDimensions, 100);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    // Clean up\n                    delete window.toggleTopBar;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Toggle camera function\n    const toggleCamera = (shouldEnable)=>{\n        if (!isClient || !isHydrated) return;\n        if (shouldEnable) {\n            setShowCamera(true);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview started');\n        } else {\n            setShowCamera(false);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview stopped');\n        }\n    };\n    // Handler for action button clicks\n    const handleActionButtonClick = (actionType, params)=>{\n        if (!isClient || !isHydrated) return;\n        // Special case for toggling the top bar\n        if (actionType === 'toggleTopBar') {\n            // const newTopBarState = value !== undefined ? !!value : !showTopBar;\n            let newTopBarState;\n            if (typeof params === 'boolean') {\n                newTopBarState = params;\n            } else if (params && typeof params.value !== 'undefined') {\n                newTopBarState = !!params.value;\n            } else {\n                newTopBarState = !showTopBar;\n            }\n            setShowTopBar(newTopBarState);\n            // Also hide metrics when hiding the top bar\n            if (!newTopBarState) {\n                setShowMetrics(false);\n            }\n            setOutputText(`TopBar ${newTopBarState ? 'shown' : 'hidden'}${!newTopBarState ? ', Metrics hidden' : ''}`);\n            // Adjust canvas dimensions after toggling\n            setTimeout(adjustCanvasDimensions, 100);\n            return;\n        }\n        const canvas = getMainCanvas();\n        setShowWarning(false);\n        // Clear any existing warnings\n        const safeParams = params || {};\n        // Use safeParams instead of controlValues\n        const randomTimes = safeParams.randomTimes || 1;\n        const delaySeconds = safeParams.delaySeconds || 3;\n        switch(actionType){\n            case 'preview':\n                // Toggle camera state\n                if (showCamera) {\n                    toggleCamera(false);\n                } else if (cameraPermissionGranted) {\n                    toggleCamera(true);\n                } else {\n                    // Otherwise show permission popup\n                    setShowPermissionPopup(true);\n                    setOutputText('Opening camera preview');\n                    setShowCameraPlaceholder(true);\n                }\n                break;\n            case 'setRandom':\n                setOutputText('Starting random sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                // Use the imported module approach - similar to calibrate\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetRandom) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for Set Random');\n                    actionButtonGroupRef.current.handleSetRandom();\n                } else if (false) {} else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random sequence\");\n                        setOutputText(\"Error: Canvas not available for random sequence\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Get control values from the TopBar\n                    const timeInput = document.querySelector('.control-input-field');\n                    const delayInput = document.querySelectorAll('.control-input-field')[1];\n                    // Default values if inputs can't be found\n                    let times = 1;\n                    let delay = 3;\n                    // Parse input values if available\n                    if (timeInput) {\n                        const parsedTime = parseInt(timeInput.value, 10);\n                        if (!isNaN(parsedTime) && parsedTime > 0) {\n                            times = parsedTime;\n                        }\n                    }\n                    if (delayInput) {\n                        const parsedDelay = parseInt(delayInput.value, 10);\n                        if (!isNaN(parsedDelay) && parsedDelay > 0) {\n                            delay = parsedDelay;\n                        }\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\"))\n                    ]).then(async ([countSaveModule, savefileModule])=>{\n                        // Destructure the imported modules\n                        const { getRandomPosition, drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Process all captures sequentially\n                            let successCount = 0;\n                            let currentCapture = 1;\n                            while(currentCapture <= times){\n                                // Update status for current capture\n                                setOutputText(`Capture ${currentCapture} of ${times}`);\n                                // Clear canvas before each capture\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Generate random position for this capture\n                                const position = getRandomPosition(canvas, 20);\n                                // Draw the dot\n                                drawRedDot(ctx, position.x, position.y);\n                                // Create a redrawInterval to ensure dot stays visible\n                                let redrawInterval = setInterval(()=>{\n                                    drawRedDot(ctx, position.x, position.y, 12, false);\n                                }, 200);\n                                // Run countdown and wait for it to complete\n                                await new Promise((resolve)=>{\n                                    runCountdown(position, canvas, (status)=>{\n                                        // Update UI based on status\n                                        if (status.processStatus) {\n                                            setOutputText(`Capture ${currentCapture}/${times}: ${status.processStatus}`);\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Clear redrawInterval after countdown\n                                clearInterval(redrawInterval);\n                                // Wait briefly after countdown\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: position,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(`Error capturing point ${currentCapture}:`, error);\n                                }\n                                // Wait between captures for the specified delay time\n                                if (currentCapture < times) {\n                                    setOutputText(`Waiting ${delay}s before next capture...`);\n                                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                                }\n                                // Move to next capture\n                                currentCapture++;\n                            }\n                            // Sequence complete\n                            setOutputText(`Random capture sequence completed: ${successCount}/${times} captures successful`);\n                        } catch (error) {\n                            console.error(\"Random sequence error:\", error);\n                            setOutputText(`Random sequence error: ${error.message}`);\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(`Error: ${error.message}`);\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'randomDot':\n                setOutputText('Random dot action triggered');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                console.log('Attempting to access Random Dot functionality');\n                // Use the random dot functionality from actionButton.js by delegating to ActionButtonGroup\n                // This assumes you have a ref to the ActionButtonGroup component\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleRandomDot) {\n                    console.log('Using ref method');\n                    actionButtonGroupRef.current.handleRandomDot();\n                } else if (false) {} else {\n                    // Fallback implementation\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random dot action\");\n                        setOutputText(\"Error: Canvas not available for random dot\");\n                        setShowTopBar(true); // Show TopBar again if there's an error\n                        break;\n                    }\n                    const parent = previewAreaRef.current;\n                    if (!parent) {\n                        console.error(\"Parent not found for canvas\");\n                        setOutputText(\"Error: Canvas parent not available\");\n                        setShowTopBar(true);\n                        break;\n                    }\n                    // Initialize canvas explicitly\n                    canvas.width = parent.clientWidth || 800;\n                    canvas.height = parent.clientHeight || 600;\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    console.log(`Canvas ready for random dot: ${canvas.width}x${canvas.height}`);\n                    // Update global reference\n                    window.whiteScreenCanvas = canvas;\n                    // Generate random position\n                    const position = (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.getRandomPosition)(canvas, 20);\n                    // Draw the dot using the imported function\n                    const dot = (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.drawRedDot)(ctx, position.x, position.y, 8, false);\n                    console.log(`Random dot drawn at: ${position.x}, ${position.y}`);\n                    // Start a countdown for capture\n                    (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.runCountdown)(position, canvas, (status)=>{\n                        // Update UI based on status\n                        if (status.processStatus) {\n                            setOutputText(status.processStatus);\n                        }\n                    }, ()=>{\n                        // Enable camera before capture\n                        // triggerCameraAccess(true);\n                        // Wait briefly for camera to initialize\n                        setTimeout(()=>{\n                            // Use the directly imported captureImagesAtPoint from the Helper/savefile.js\n                            Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\")).then(({ captureImagesAtPoint })=>{\n                                captureImagesAtPoint({\n                                    point: position,\n                                    captureCount: captureCounter,\n                                    canvasRef: {\n                                        current: canvas\n                                    },\n                                    setCaptureCount: setCaptureCounter,\n                                    showCapturePreview: _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.showCapturePreview\n                                }).then(()=>{\n                                    setCaptureCounter((prev)=>prev + 1);\n                                    // Show TopBar again after capture\n                                    setTimeout(()=>{\n                                        setShowTopBar(true);\n                                    }, 2200);\n                                }).catch((err)=>{\n                                    console.error(\"Error capturing images:\", err);\n                                    setOutputText(`Error: ${err.message}`);\n                                    setShowTopBar(true);\n                                });\n                            }).catch((err)=>{\n                                console.error(\"Error importing savefile module:\", err);\n                                setOutputText(`Error: ${err.message}`);\n                                setShowTopBar(true);\n                            });\n                        }, 500);\n                    });\n                }\n                break;\n            case 'headPose':\n                const newHeadPoseState = !showHeadPose;\n                setShowHeadPose(newHeadPoseState);\n                setOutputText(`Head pose visualization ${newHeadPoseState ? 'enabled' : 'disabled'}`);\n                if (newHeadPoseState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newHeadPoseState && !showBoundingBox && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showHeadPose: newHeadPoseState\n                    });\n                }\n                break;\n            case 'boundingBox':\n                const newBoundingBoxState = !showBoundingBox;\n                setShowBoundingBox(newBoundingBoxState);\n                setOutputText(`Bounding box ${newBoundingBoxState ? 'shown' : 'hidden'}`);\n                if (newBoundingBoxState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newBoundingBoxState && !showHeadPose && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showBoundingBox: newBoundingBoxState\n                    });\n                }\n                break;\n            case 'mask':\n                const newMaskState = !showMask;\n                setShowMask(newMaskState);\n                setOutputText(`Mask ${newMaskState ? 'shown' : 'hidden'}`);\n                if (newMaskState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newMaskState && !showHeadPose && !showBoundingBox && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showMask: newMaskState\n                    });\n                }\n                break;\n            case 'parameters':\n                const newParametersState = !showParameters;\n                setShowParameters(newParametersState);\n                setOutputText(`Parameters ${newParametersState ? 'shown' : 'hidden'}`);\n                if (newParametersState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newParametersState && !showHeadPose && !showBoundingBox && !showMask) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showParameters: newParametersState\n                    });\n                }\n                break;\n            // Fixed calibrate case handler in index.js\n            case 'calibrate':\n                setOutputText('Starting calibration sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetCalibrate) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for calibration');\n                    actionButtonGroupRef.current.handleSetCalibrate();\n                } else if (false) {} else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for calibration\");\n                        setOutputText(\"Error: Canvas not available for calibration\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/CalibratePoints */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\"))\n                    ]).then(async ([calibratePointsModule, countSaveModule, savefileModule])=>{\n                        // Destructure the imported modules\n                        const { generateCalibrationPoints } = calibratePointsModule;\n                        const { drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Generate calibration points\n                            const points = generateCalibrationPoints(canvas.width, canvas.height);\n                            if (!points || points.length === 0) {\n                                throw new Error(\"Failed to generate calibration points\");\n                            }\n                            // Create status indicator\n                            const statusIndicator = document.createElement('div');\n                            statusIndicator.className = 'calibrate-status-indicator';\n                            statusIndicator.style.cssText = `\n                position: fixed;\n                top: 10px;\n                right: 10px;\n                background-color: rgba(0, 102, 204, 0.9);\n                color: white;\n                font-size: 14px;\n                font-weight: bold;\n                padding: '8px 12px';\n                border-radius: 6px;\n                z-index: 9999;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n              `;\n                            statusIndicator.textContent = 'Calibration: Initializing...';\n                            document.body.appendChild(statusIndicator);\n                            // Access webcam before starting calibration if available\n                            if (typeof triggerCameraAccess === 'function') {\n                                triggerCameraAccess(true);\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                            }\n                            // Process points sequentially\n                            let successCount = 0;\n                            for(let i = 0; i < points.length; i++){\n                                const point = points[i];\n                                statusIndicator.textContent = `Calibration: Point ${i + 1}/${points.length}`;\n                                setOutputText(`Processing calibration point ${i + 1}/${points.length}`);\n                                // Clear the canvas before drawing new point\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Draw the dot\n                                drawRedDot(ctx, point.x, point.y);\n                                // Run countdown\n                                await new Promise((resolve)=>{\n                                    runCountdown(point, canvas, (status)=>{\n                                        if (status.processStatus) {\n                                            setOutputText(status.processStatus);\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: point,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview: showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(`Error capturing point ${i + 1}:`, error);\n                                }\n                                // Wait between points\n                                await new Promise((resolve)=>setTimeout(resolve, 1200));\n                            }\n                            // Calibration complete\n                            statusIndicator.textContent = `Calibration complete: ${successCount}/${points.length} points`;\n                            setOutputText(`Calibration completed: ${successCount}/${points.length} points captured`);\n                            // Remove the status indicator after a delay\n                            setTimeout(()=>{\n                                if (statusIndicator.parentNode) {\n                                    statusIndicator.parentNode.removeChild(statusIndicator);\n                                }\n                            }, 3000);\n                        } catch (error) {\n                            console.error(\"Calibration error:\", error);\n                            setOutputText(`Calibration error: ${error.message}`);\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(`Calibration error: ${error.message}`);\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'clearAll':\n                // Clear canvas\n                // const canvas = getMainCanvas();\n                if (canvas) {\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    setOutputText('Canvas cleared');\n                }\n                break;\n            default:\n                setOutputText(`Action triggered: ${actionType}`);\n        }\n    };\n    const handlePermissionAccepted = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setCameraPermissionGranted(true);\n        toggleCamera(true);\n    };\n    const handlePermissionDenied = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setShowCameraPlaceholder(false);\n        setOutputText('Camera permission denied');\n    };\n    const handleCameraClose = ()=>{\n        if (!isClient || !isHydrated) return;\n        toggleCamera(false);\n    };\n    const handleCameraReady = (dimensions)=>{\n        if (!isClient || !isHydrated) return;\n        setMetrics({\n            width: dimensions.width,\n            height: dimensions.height,\n            distance: dimensions.distance || '---'\n        });\n        setOutputText(`Camera ready: ${dimensions.width}x${dimensions.height}`);\n    };\n    // Toggle top bar function\n    const toggleTopBar = (show)=>{\n        const newTopBarState = show !== undefined ? show : !showTopBar;\n        setShowTopBar(newTopBarState);\n        // Also hide metrics when hiding the top bar\n        if (!newTopBarState) {\n            setShowMetrics(false);\n        }\n        setOutputText(`TopBar ${newTopBarState ? 'shown' : 'hidden'}${!newTopBarState ? ', Metrics hidden' : ''}`);\n        // Wait for state update and DOM changes, then adjust canvas\n        setTimeout(adjustCanvasDimensions, 100);\n    };\n    // Toggle metrics function\n    const toggleMetrics = ()=>{\n        if (showTopBar) {\n            setShowMetrics((prev)=>!prev);\n            setOutputText(`Metrics ${!showMetrics ? 'shown' : 'hidden'}`);\n        } else {\n            // If topBar is hidden, we can't show metrics\n            setOutputText('Cannot show metrics when TopBar is hidden');\n        }\n    };\n    // Function to trigger camera access\n    const triggerCameraAccess = (forceEnable)=>{\n        if (forceEnable) {\n            // Try to enable camera directly\n            if (window.videoProcessor) {\n                setShowCamera(true);\n                setShowCameraPlaceholder(false);\n                setCameraPermissionGranted(true);\n                // Start video processing with current options\n                window.videoProcessor.startVideoProcessing({\n                    showHeadPose,\n                    showBoundingBox,\n                    showMask,\n                    showParameters,\n                    showProcessedImage: true\n                });\n                return true;\n            }\n            return false;\n        }\n        // Just toggle current state if not forcing\n        if (cameraPermissionGranted) {\n            toggleCamera(!showCamera);\n            return true;\n        } else {\n            setShowPermissionPopup(true);\n            return false;\n        }\n    };\n    // Dynamic class to reflect current window size\n    const getSizeClass = ()=>{\n        const { percentage } = windowSize;\n        if (percentage < 35) return 'window-size-tiny';\n        if (percentage < 50) return 'window-size-small';\n        if (percentage < 70) return 'window-size-medium';\n        return 'window-size-large';\n    };\n    // Add this function to handle settings visibility\n    const handleSettingsVisibility = (isVisible)=>{\n        setShowSettings(isVisible);\n    };\n    // Add this effect to listen for settings visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsMessage = {\n                \"CollectedDatasetPage.useEffect.handleSettingsMessage\": (event)=>{\n                    if (event.data.type === 'SHOW_SETTINGS') {\n                        setShowSettings(event.data.show);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsMessage\"];\n            window.addEventListener('message', handleSettingsMessage);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('message', handleSettingsMessage);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"CollectedDatasetPage.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        setCurrentUserId(event.detail.userId);\n                        // Dispatch event to update settings for the new user\n                        const event = new CustomEvent('captureSettingsUpdate', {\n                            detail: {\n                                type: 'captureSettings',\n                                userId: event.detail.userId\n                            }\n                        });\n                        window.dispatchEvent(event);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Initialize settings when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (consentUserId) {\n                // Set the current user ID\n                setCurrentUserId(consentUserId);\n                // Dispatch event to update settings for this user\n                const event = new CustomEvent('captureSettingsUpdate', {\n                    detail: {\n                        type: 'captureSettings',\n                        userId: consentUserId\n                    }\n                });\n                window.dispatchEvent(event);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Load settings from backend when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const loadSettings = {\n                \"CollectedDatasetPage.useEffect.loadSettings\": async ()=>{\n                    if (!consentUserId) return;\n                    try {\n                        const response = await fetch(`/api/data-center/settings/${consentUserId}`);\n                        if (!response.ok) {\n                            throw new Error('Failed to load settings');\n                        }\n                        const loadedSettings = await response.json();\n                        // Wait for the component to be mounted and ref to be initialized\n                        const waitForRef = {\n                            \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": (retries = 5)=>{\n                                if (actionButtonGroupRef.current && typeof actionButtonGroupRef.current.updateSettings === 'function') {\n                                    // Update the settings for this user\n                                    actionButtonGroupRef.current.updateSettings(loadedSettings);\n                                    // Dispatch event to update UI\n                                    const event = new CustomEvent('captureSettingsUpdate', {\n                                        detail: {\n                                            type: 'captureSettings',\n                                            userId: consentUserId,\n                                            times: loadedSettings.times,\n                                            delay: loadedSettings.delay\n                                        }\n                                    });\n                                    window.dispatchEvent(event);\n                                } else if (retries > 0) {\n                                    setTimeout({\n                                        \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": ()=>waitForRef(retries - 1)\n                                    }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"], 500);\n                                } else {\n                                    console.warn('ActionButtonGroup ref not initialized after retries');\n                                }\n                            }\n                        }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"];\n                        waitForRef();\n                    } catch (error) {\n                        console.error('Error loading settings:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.loadSettings\"];\n            // Add a small delay to ensure components are mounted\n            setTimeout(loadSettings, 1000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Add polling for real-time updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const fetchUpdates = {\n                \"CollectedDatasetPage.useEffect.fetchUpdates\": async ()=>{\n                    if (!consentUserId) return;\n                    try {\n                        const response = await fetch(`/api/data-center/settings/${consentUserId}`);\n                        if (!response.ok) throw new Error('Failed to fetch settings');\n                        const settings = await response.json();\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings(settings);\n                        }\n                    // You can add image fetching logic here if needed\n                    } catch (error) {\n                        console.error('Error fetching updates:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.fetchUpdates\"];\n            // Initial fetch\n            fetchUpdates();\n            // Set up polling interval\n            const interval = setInterval(fetchUpdates, 3000);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    clearInterval(interval);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Add event listeners for settings and image updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail?.type === 'captureSettings' && event.detail?.userId === consentUserId) {\n                        const { times, delay } = event.detail;\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings({\n                                times,\n                                delay\n                            });\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            const handleImageUpdate = {\n                \"CollectedDatasetPage.useEffect.handleImageUpdate\": (event)=>{\n                    if (event.detail?.type === 'image' && event.detail?.userId === consentUserId) {\n                        const { image } = event.detail;\n                    // Update image in the UI if needed\n                    // You can add your image update logic here\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleImageUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            window.addEventListener('imageUpdate', handleImageUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                    window.removeEventListener('imageUpdate', handleImageUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId\n    ]);\n    // Load settings for a specific user\n    const loadSettings = async (userId)=>{\n        try {\n            console.log('Loading settings for user:', userId);\n            const response = await fetch(`/api/data-center/settings/${userId}`);\n            if (!response.ok) throw new Error('Failed to fetch settings');\n            const userSettings = await response.json();\n            console.log('Fetched settings:', userSettings);\n            // Dispatch settings update event\n            const event = new CustomEvent('captureSettingsUpdate', {\n                detail: {\n                    type: 'captureSettings',\n                    userId,\n                    ...userSettings\n                }\n            });\n            window.dispatchEvent(event);\n        } catch (error) {\n            console.error('Error loading settings:', error);\n        }\n    };\n    // Handle user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (consentUserId && consentUserId !== currentUserId) {\n                console.log('User ID changed in index.js:', consentUserId);\n                setCurrentUserId(consentUserId);\n                // Dispatch event to notify other components\n                const event = new CustomEvent('userIdChange', {\n                    detail: {\n                        userId: consentUserId\n                    }\n                });\n                window.dispatchEvent(event);\n                // Load settings for the new user\n                loadSettings(consentUserId);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        consentUserId,\n        currentUserId\n    ]);\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        if (userId === currentUserId) {\n                            // Update the settings for this user\n                            if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                                actionButtonGroupRef.current.updateSettings({\n                                    times: times || 1,\n                                    delay: delay || 3\n                                });\n                            }\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        currentUserId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `main-container ${getSizeClass()}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Camera Dataset Collection\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1371,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1372,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1370,\n                columnNumber: 7\n            }, this),\n            isHydrated && backendStatus === 'disconnected' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    padding: '6px 0',\n                    backgroundColor: '#ffe0b2',\n                    color: '#e65100',\n                    textAlign: 'center',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    zIndex: 1100\n                },\n                children: \"⚠️ Backend disconnected. Hurry up, Make ONLINE please and Using mock mode\"\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1377,\n                columnNumber: 9\n            }, this),\n            isHydrated && showWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"warning-banner\",\n                style: {\n                    position: 'fixed',\n                    top: showTopBar ? backendStatus === 'disconnected' ? '32px' : '60px' : '0',\n                    left: '0',\n                    width: '100%',\n                    backgroundColor: '#ffeb3b',\n                    color: '#333',\n                    padding: '10px',\n                    textAlign: 'center',\n                    boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                    zIndex: 1010,\n                    animation: 'fadeIn 0.3s ease-in-out'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                    children: [\n                        \"⚠️ \",\n                        warningMessage\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1409,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1396,\n                columnNumber: 9\n            }, this),\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"loading-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Loading user settings...\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1415,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1414,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    isHydrated && isClient && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(VideoProcessorComponent, {}, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1420,\n                        columnNumber: 38\n                    }, this),\n                    showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        onButtonClick: handleActionButtonClick,\n                        onCameraAccess: ()=>setShowPermissionPopup(true),\n                        outputText: statusMessage || outputText,\n                        onOutputChange: (text)=>setOutputText(text),\n                        onToggleTopBar: toggleTopBar,\n                        onToggleMetrics: toggleMetrics,\n                        canvasRef: canvasRef\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1424,\n                        columnNumber: 13\n                    }, this),\n                    !showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"restore-button-container\",\n                        style: {\n                            position: 'fixed',\n                            top: '10px',\n                            right: '10px',\n                            zIndex: 1000\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"restore-btn\",\n                            onClick: ()=>toggleTopBar(true),\n                            title: \"Show TopBar and Metrics\",\n                            style: {\n                                padding: '5px 10px',\n                                background: '#0066cc',\n                                color: 'white',\n                                border: 'none',\n                                borderRadius: '4px',\n                                fontSize: '16px',\n                                cursor: 'pointer'\n                            },\n                            children: \"≡\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                            lineNumber: 1443,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1437,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: previewAreaRef,\n                        className: \"camera-preview-area\",\n                        style: {\n                            height: showTopBar ? 'calc(100vh - 120px)' : '100vh',\n                            marginTop: backendStatus === 'disconnected' ? '32px' : '0',\n                            position: 'relative',\n                            backgroundColor: '#f5f5f5',\n                            overflow: 'hidden'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"camera-action-buttons-container\",\n                                style: {\n                                    position: 'absolute',\n                                    bottom: '20px',\n                                    left: '50%',\n                                    transform: 'translateX(-50%)',\n                                    zIndex: 10,\n                                    maxWidth: '600px',\n                                    width: '100%',\n                                    padding: '0 20px'\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_actionButton__WEBPACK_IMPORTED_MODULE_6__.ActionButtonGroup, {\n                                    ref: actionButtonGroupRef,\n                                    triggerCameraAccess: triggerCameraAccess,\n                                    isCompactMode: windowSize.width < 768,\n                                    onActionClick: handleActionButtonClick\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1485,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1475,\n                                columnNumber: 13\n                            }, this),\n                            !showCamera ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"camera-preview-message\",\n                                        style: {\n                                            padding: '20px',\n                                            textAlign: 'center',\n                                            position: showTopBar ? 'relative' : 'absolute',\n                                            width: '100%',\n                                            zIndex: 5\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Camera preview will appear here\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1502,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"camera-size-indicator\",\n                                                children: [\n                                                    \"Current window: \",\n                                                    windowSize.percentage,\n                                                    \"% of screen width\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1503,\n                                                columnNumber: 19\n                                            }, this),\n                                            isHydrated && showCameraPlaceholder && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"camera-placeholder-square\",\n                                                style: {\n                                                    width: '180px',\n                                                    height: '135px',\n                                                    margin: '20px auto',\n                                                    border: '2px dashed #666',\n                                                    borderRadius: '4px',\n                                                    backgroundColor: '#f5f5f5',\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    justifyContent: 'center'\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        fontSize: '1.5rem'\n                                                    },\n                                                    children: \"\\uD83D\\uDCF7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                                    lineNumber: 1521,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                                lineNumber: 1507,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1495,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"canvas-container\",\n                                        style: {\n                                            position: 'absolute',\n                                            top: 0,\n                                            left: 0,\n                                            width: '100%',\n                                            height: '100%',\n                                            backgroundColor: 'white',\n                                            overflow: 'hidden',\n                                            border: 'none',\n                                            zIndex: 10\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1527,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true) : null,\n                            isHydrated && showMetrics && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                width: metrics.width,\n                                height: metrics.height,\n                                distance: metrics.distance,\n                                isVisible: showMetrics\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1556,\n                                columnNumber: 15\n                            }, this),\n                            isHydrated && isClient && showCamera && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DynamicCameraAccess, {\n                                isShowing: showCamera,\n                                onClose: handleCameraClose,\n                                onCameraReady: handleCameraReady,\n                                showHeadPose: showHeadPose,\n                                showBoundingBox: showBoundingBox,\n                                showMask: showMask,\n                                showParameters: showParameters,\n                                videoRef: videoRef\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1566,\n                                columnNumber: 15\n                            }, this),\n                            isHydrated && isClient && showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"camera-permission-popup\",\n                                style: {\n                                    position: 'fixed',\n                                    top: 0,\n                                    left: 0,\n                                    width: '100%',\n                                    height: '100%',\n                                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                                    display: 'flex',\n                                    justifyContent: 'center',\n                                    alignItems: 'center',\n                                    zIndex: 2000\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"camera-permission-dialog\",\n                                    style: {\n                                        width: '400px',\n                                        backgroundColor: 'white',\n                                        borderRadius: '8px',\n                                        padding: '20px',\n                                        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"camera-permission-title\",\n                                            style: {\n                                                margin: '0 0 15px',\n                                                fontSize: '18px',\n                                                fontWeight: 'bold'\n                                            },\n                                            children: \"Camera Access Required\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1599,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"camera-permission-message\",\n                                            style: {\n                                                margin: '0 0 20px',\n                                                fontSize: '14px',\n                                                lineHeight: '1.4'\n                                            },\n                                            children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1604,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"camera-permission-buttons\",\n                                            style: {\n                                                display: 'flex',\n                                                justifyContent: 'flex-end',\n                                                gap: '10px'\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handlePermissionDenied,\n                                                    className: \"camera-btn\",\n                                                    style: {\n                                                        padding: '8px 16px',\n                                                        backgroundColor: '#f0f0f0',\n                                                        border: 'none',\n                                                        borderRadius: '4px',\n                                                        cursor: 'pointer'\n                                                    },\n                                                    children: \"Cancel\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                                    lineNumber: 1617,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handlePermissionAccepted,\n                                                    className: \"camera-btn\",\n                                                    style: {\n                                                        padding: '8px 16px',\n                                                        backgroundColor: '#0066cc',\n                                                        color: 'white',\n                                                        border: 'none',\n                                                        borderRadius: '4px',\n                                                        cursor: 'pointer'\n                                                    },\n                                                    children: \"Continue\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                                    lineNumber: 1630,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1612,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1592,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1580,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1463,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n        lineNumber: 1369,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUFxRDs7QUFDTTtBQUM5QjtBQUNNO0FBQ1U7QUFDa0I7QUFDRztBQUNxRztBQUN2SyxvSEFBb0g7QUFDL0M7QUFDN0I7QUFFeEMseUVBQXlFO0FBQ3pFLE1BQU1nQiwwQkFBMEJYLG1EQUFPQSxDQUNyQyxJQUFNLDRVQUFrRDs7Ozs7O0lBQ3REWSxLQUFLOztBQUdULDREQUE0RDtBQUM1RCxNQUFNQyxzQkFBc0JiLG1EQUFPQSxDQUNqQyxJQUFNLDJTQUF1Qzs7Ozs7O0lBRTNDWSxLQUFLO0lBQ0xFLFNBQVMsa0JBQ1AsOERBQUNDO1lBQUlDLE9BQU87Z0JBQ1ZDLFVBQVU7Z0JBQ1ZDLEtBQUs7Z0JBQ0xDLE1BQU07Z0JBQ05DLFdBQVc7Z0JBQ1hDLE9BQU87Z0JBQ1BDLFFBQVE7Z0JBQ1JDLGlCQUFpQjtnQkFDakJDLFFBQVE7Z0JBQ1JDLGNBQWM7Z0JBQ2RDLFNBQVM7Z0JBQ1RDLGVBQWU7Z0JBQ2ZDLGdCQUFnQjtnQkFDaEJDLFlBQVk7Z0JBQ1pDLFdBQVc7Z0JBQ1hDLFFBQVE7WUFDVjs7OEJBQ0UsOERBQUNoQjtvQkFBSUMsT0FBTzt3QkFBRWdCLFVBQVU7d0JBQVFDLGNBQWM7b0JBQU87OEJBQUc7Ozs7Ozs4QkFDeEQsOERBQUNDO29CQUFFbEIsT0FBTzt3QkFBRWdCLFVBQVU7d0JBQVFHLFlBQVk7d0JBQVFDLE9BQU87b0JBQVU7OEJBQUc7Ozs7Ozs7Ozs7Ozs7QUFRL0QsU0FBU0M7SUFDdEIsTUFBTUMsU0FBUzVCLHNEQUFTQTtJQUN4QixNQUFNLEVBQUU2QixRQUFRQyxhQUFhLEVBQUUsR0FBRy9CLDhFQUFVQTtJQUM1QyxNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUc5QywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUMrQyxXQUFXQyxhQUFhLEdBQUdoRCwr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Q0FDZDtzREFBRzs7Ozs7O3NEQUlILDhEQUFDaFM7NENBQUk2TixXQUFVOzRDQUE0QjVOLE9BQU87Z0RBQ2hEVSxTQUFTO2dEQUNURSxnQkFBZ0I7Z0RBQ2hCb1IsS0FBSzs0Q0FDUDs7OERBQ0UsOERBQUNqQjtvREFDQ0MsU0FBUzdDO29EQUNUUCxXQUFVO29EQUNWNU4sT0FBTzt3REFDTG9RLFNBQVM7d0RBQ1Q3UCxpQkFBaUI7d0RBQ2pCQyxRQUFRO3dEQUNSQyxjQUFjO3dEQUNkeVEsUUFBUTtvREFDVjs4REFDRDs7Ozs7OzhEQUdELDhEQUFDSDtvREFDQ0MsU0FBUzlDO29EQUNUTixXQUFVO29EQUNWNU4sT0FBTzt3REFDTG9RLFNBQVM7d0RBQ1Q3UCxpQkFBaUI7d0RBQ2pCYSxPQUFPO3dEQUNQWixRQUFRO3dEQUNSQyxjQUFjO3dEQUNkeVEsUUFBUTtvREFDVjs4REFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVlyQiIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kaWZpZWQgaW5kZXguanMgLSBGaXhpbmcgY2FudmFzIHJlZmVyZW5jZSBpc3N1ZXNcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCBUb3BCYXIgZnJvbSAnLi9jb21wb25lbnRzLWd1aS90b3BCYXInO1xuaW1wb3J0IERpc3BsYXlSZXNwb25zZSBmcm9tICcuL2NvbXBvbmVudHMtZ3VpL2Rpc3BsYXlSZXNwb25zZSc7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Hcm91cCB9IGZyb20gJy4vY29tcG9uZW50cy1ndWkvYWN0aW9uQnV0dG9uJztcbmltcG9ydCB7IHNob3dDYXB0dXJlUHJldmlldywgY2FwdHVyZUltYWdlc0F0UG9pbnQsIGRyYXdSZWREb3QsIGdldFJhbmRvbVBvc2l0aW9uLCBydW5Db3VudGRvd24gfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL2NvdW50U2F2ZSc7XG4vLyBpbXBvcnQgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMnO1xuaW1wb3J0IHsgdXNlQ29uc2VudCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50Q29udGV4dCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5cbi8vIER5bmFtaWNhbGx5IGxvYWQgdGhlIHZpZGVvIHByb2Nlc3NvciBjb21wb25lbnQgKG5vdCB0aGUgaG9vayBkaXJlY3RseSlcbmNvbnN0IFZpZGVvUHJvY2Vzc29yQ29tcG9uZW50ID0gZHluYW1pYyhcbiAgKCkgPT4gaW1wb3J0KCcuL2NvbXBvbmVudHMtZ3VpL1ZpZGVvUHJvY2Vzc29yQ29tcG9uZW50JyksXG4gIHsgc3NyOiBmYWxzZSB9XG4pO1xuXG4vLyBEeW5hbWljYWxseSBpbXBvcnQgdGhlIGNhbWVyYSBjb21wb25lbnQgd2l0aCBTU1IgZGlzYWJsZWRcbmNvbnN0IER5bmFtaWNDYW1lcmFBY2Nlc3MgPSBkeW5hbWljKFxuICAoKSA9PiBpbXBvcnQoJy4vY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzJyksXG4gIHsgXG4gICAgc3NyOiBmYWxzZSxcbiAgICBsb2FkaW5nOiAoKSA9PiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgICAgd2lkdGg6ICc0ODBweCcsXG4gICAgICAgIGhlaWdodDogJzM2MHB4JyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2YwZjhmZicsXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjMDA2NmNjJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgekluZGV4OiA5OTlcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnNDhweCcsIG1hcmdpbkJvdHRvbTogJzE1cHgnIH19PvCfk7c8L2Rpdj5cbiAgICAgICAgPHAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JywgZm9udFdlaWdodDogJ2JvbGQnLCBjb2xvcjogJyMwMDY2Y2MnIH19PlxuICAgICAgICAgIExvYWRpbmcgY2FtZXJhLi4uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29sbGVjdGVkRGF0YXNldFBhZ2UoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHVzZXJJZDogY29uc2VudFVzZXJJZCB9ID0gdXNlQ29uc2VudCgpO1xuICBjb25zdCBbdXNlckRhdGEsIHNldFVzZXJEYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc0h5ZHJhdGVkLCBzZXRJc0h5ZHJhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2JhY2tlbmRTdGF0dXMsIHNldEJhY2tlbmRTdGF0dXNdID0gdXNlU3RhdGUoJ2NoZWNraW5nJyk7XG4gIGNvbnN0IFtzaG93VG9wQmFyLCBzZXRTaG93VG9wQmFyXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd1dhcm5pbmcsIHNldFNob3dXYXJuaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3dhcm5pbmdNZXNzYWdlLCBzZXRXYXJuaW5nTWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzdGF0dXNNZXNzYWdlLCBzZXRTdGF0dXNNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW291dHB1dFRleHQsIHNldE91dHB1dFRleHRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2hvd01ldHJpY3MsIHNldFNob3dNZXRyaWNzXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd1Blcm1pc3Npb25Qb3B1cCwgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCwgc2V0Q2FtZXJhUGVybWlzc2lvbkdyYW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0NhbWVyYSwgc2V0U2hvd0NhbWVyYV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Q2FtZXJhUGxhY2Vob2xkZXIsIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93SGVhZFBvc2UsIHNldFNob3dIZWFkUG9zZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Qm91bmRpbmdCb3gsIHNldFNob3dCb3VuZGluZ0JveF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93TWFzaywgc2V0U2hvd01hc2tdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1BhcmFtZXRlcnMsIHNldFNob3dQYXJhbWV0ZXJzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3dpbmRvd1NpemUsIHNldFdpbmRvd1NpemVdID0gdXNlU3RhdGUoeyB3aWR0aDogMCwgaGVpZ2h0OiAwLCBwZXJjZW50YWdlOiAxMDAgfSk7XG4gIGNvbnN0IFttZXRyaWNzLCBzZXRNZXRyaWNzXSA9IHVzZVN0YXRlKHsgd2lkdGg6ICctLS0nLCBoZWlnaHQ6ICctLS0nLCBkaXN0YW5jZTogJy0tLScgfSk7XG4gIGNvbnN0IFtjYXB0dXJlQ291bnRlciwgc2V0Q2FwdHVyZUNvdW50ZXJdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtjYXB0dXJlRm9sZGVyLCBzZXRDYXB0dXJlRm9sZGVyXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGUoJ2RlZmF1bHQnKTtcbiAgY29uc3QgW3Nob3dTZXR0aW5ncywgc2V0U2hvd1NldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBSZWZzXG4gIGNvbnN0IHByZXZpZXdBcmVhUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBhY3Rpb25CdXR0b25Hcm91cFJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBTZXQgaHlkcmF0ZWQgc3RhdGUgYWZ0ZXIgbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc0h5ZHJhdGVkKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLy8gTG9hZCB1c2VyIGRhdGFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkVXNlckRhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXJvdXRlci5pc1JlYWR5KSByZXR1cm47XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChyb3V0ZXIucXVlcnkudXNlckRhdGEpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShyb3V0ZXIucXVlcnkudXNlckRhdGEpO1xuICAgICAgICAgIHNldFVzZXJEYXRhKHBhcnNlZERhdGEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3V0ZXIucXVlcnkudXNlcklkKSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL3VzZXItcHJlZmVyZW5jZXMvJHtyb3V0ZXIucXVlcnkudXNlcklkfWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGRhdGEnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBzZXRVc2VyRGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgdXNlciBkYXRhOicsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRVc2VyRGF0YSgpO1xuICB9LCBbcm91dGVyLmlzUmVhZHksIHJvdXRlci5xdWVyeV0pO1xuXG4gIC8vIENoZWNrIGJhY2tlbmQgY29ubmVjdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrQmFja2VuZENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvbicpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRCYWNrZW5kU3RhdHVzKGRhdGEuY29ubmVjdGVkID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBiYWNrZW5kIGNvbm5lY3Rpb246JywgZXJyb3IpO1xuICAgICAgICBzZXRCYWNrZW5kU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzSHlkcmF0ZWQpIHtcbiAgICAgIGNoZWNrQmFja2VuZENvbm5lY3Rpb24oKTtcbiAgICB9XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG5cbiAgLy8gVXBkYXRlIHdpbmRvdyBzaXplXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICAgIGlmIChwcmV2aWV3QXJlYVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcHJldmlld0FyZWFSZWYuY3VycmVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gcHJldmlld0FyZWFSZWYuY3VycmVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHNjcmVlblBlcmNlbnRhZ2UgPSAod2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuc2NyZWVuLndpZHRoKSAqIDEwMDtcbiAgICAgICAgXG4gICAgICAgIHNldE1ldHJpY3MocHJldiA9PiAoeyAuLi5wcmV2LCB3aWR0aCwgaGVpZ2h0IH0pKTtcbiAgICAgICAgc2V0V2luZG93U2l6ZSh7XG4gICAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgucm91bmQoc2NyZWVuUGVyY2VudGFnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChpc0h5ZHJhdGVkKSB7XG4gICAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICAgIH1cbiAgfSwgW2lzSHlkcmF0ZWRdKTtcblxuICAvLyBJbml0aWFsaXplIHNldHRpbmdzIGJhc2VkIG9uIHVzZXIgZGF0YVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh1c2VyRGF0YSAmJiBjb25zZW50VXNlcklkKSB7XG4gICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIHNldHRpbmdzIGZvciB1c2VyOicsIGNvbnNlbnRVc2VySWQsIHVzZXJEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSB1c2VyLXNwZWNpZmljIHNldHRpbmdzXG4gICAgICBpZiAodXNlckRhdGEucHJlZmVyZW5jZXMpIHtcbiAgICAgICAgY29uc3QgeyBwcmVmZXJlbmNlcyB9ID0gdXNlckRhdGE7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgY2FtZXJhIHNldHRpbmdzIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAocHJlZmVyZW5jZXMuY2FtZXJhU2V0dGluZ3MpIHtcbiAgICAgICAgICBjb25zdCB7IHNob3dIZWFkUG9zZSwgc2hvd0JvdW5kaW5nQm94LCBzaG93TWFzaywgc2hvd1BhcmFtZXRlcnMgfSA9IHByZWZlcmVuY2VzLmNhbWVyYVNldHRpbmdzO1xuICAgICAgICAgIHNldFNob3dIZWFkUG9zZShzaG93SGVhZFBvc2UgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldFNob3dCb3VuZGluZ0JveChzaG93Qm91bmRpbmdCb3ggfHwgZmFsc2UpO1xuICAgICAgICAgIHNldFNob3dNYXNrKHNob3dNYXNrIHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRTaG93UGFyYW1ldGVycyhzaG93UGFyYW1ldGVycyB8fCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBvdGhlciBzZXR0aW5ncyBhcyBuZWVkZWRcbiAgICAgICAgaWYgKHByZWZlcmVuY2VzLm1ldHJpY3MpIHtcbiAgICAgICAgICBzZXRTaG93TWV0cmljcyhwcmVmZXJlbmNlcy5tZXRyaWNzLnNob3cgfHwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChwcmVmZXJlbmNlcy50b3BCYXIpIHtcbiAgICAgICAgICBzZXRTaG93VG9wQmFyKHByZWZlcmVuY2VzLnRvcEJhci5zaG93IHx8IHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbdXNlckRhdGEsIGNvbnNlbnRVc2VySWRdKTtcblxuICAvLyBJbXByb3ZlZCBnZXQgY2FudmFzIGZ1bmN0aW9uIHRoYXQgdHJpZXMgbXVsdGlwbGUgbWV0aG9kc1xuICBjb25zdCBnZXRNYWluQ2FudmFzID0gKCkgPT4ge1xuICAgIC8vIE1ldGhvZCAxOiBDaGVjayBpZiB3ZSBoYXZlIGEgZGlyZWN0IHJlZmVyZW5jZVxuICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBkaXJlY3QgY2FudmFzUmVmLmN1cnJlbnQgcmVmZXJlbmNlXCIpO1xuICAgICAgcmV0dXJuIGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIH1cbiAgICBcbiAgICAvLyBNZXRob2QgMjogVHJ5IHRvIGdldCBnbG9iYWwgcmVmZXJlbmNlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcykge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBnbG9iYWwgd2hpdGVTY3JlZW5DYW52YXMgcmVmZXJlbmNlXCIpO1xuICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXM7IC8vIFVwZGF0ZSBvdXIgcmVmXG4gICAgICByZXR1cm4gd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgIH1cbiAgICBcbiAgICAvLyBNZXRob2QgMzogVHJ5IHRvIGZpbmQgdmlhIERPTVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYWNraW5nLWNhbnZhcycpO1xuICAgICAgaWYgKGNhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBjYW52YXMgdmlhIERPTSBzZWxlY3RvclwiKTtcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgb3VyIHJlZlxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgZ2xvYmFsIHJlZiB0b29cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FudmFzRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS53YXJuKFwiTm8gY2FudmFzIGZvdW5kIHZpYSBhbnkgbWV0aG9kXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBcbiAgLy8gQ2hlY2sgaWYgd2UncmUgb24gdGhlIGNsaWVudCBvciBzZXJ2ZXJcbiAgY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgXG4gIC8vIEFkZCBlZmZlY3QgdG8gaW5pdGlhbGl6ZSBjYW52YXMgYW5kIG1ha2UgaXQgZ2xvYmFsbHkgYXZhaWxhYmxlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIERlYnVnIGluZm8gdG8gdmVyaWZ5IGNhbnZhcyBzaXplIGFuZCBhdmFpbGFiaWxpdHlcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkluZGV4LmpzOiBDYW52YXMgaW5pdGlhbGl6ZWRcIiwge1xuICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBNYWtlIGNhbnZhcyBFWFBMSUNJVExZIGF2YWlsYWJsZSBnbG9iYWxseVxuICAgICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzO1xuICAgICAgXG4gICAgICAvLyBBbHNvIHN0b3JlIGNhbnZhcyBkaW1lbnNpb25zXG4gICAgICB3aW5kb3cuY2FudmFzRGltZW5zaW9ucyA9IHtcbiAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW52YXMgcmVmZXJlbmNlIGlzIG5vdCBhdmFpbGFibGUgZHVyaW5nIGluaXRpYWxpemF0aW9uXCIpO1xuICAgIH1cbiAgICBcbiAgICAvLyBFeHBvc2UgY2FudmFzIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIGdsb2JhbGx5XG4gICAgd2luZG93LmluaXRpYWxpemVDYW52YXMgPSAoY2FudmFzLCBwYXJlbnQpID0+IHtcbiAgICAgIGlmICghY2FudmFzIHx8ICFwYXJlbnQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbaW5pdGlhbGl6ZUNhbnZhc10gQ2FudmFzIG9yIHBhcmVudCBpcyBudWxsJywgeyBjYW52YXMsIHBhcmVudCB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBTZXQgY2FudmFzIGRpbWVuc2lvbnMgdG8gbWF0Y2ggcGFyZW50XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aCB8fCA4MDA7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIGNhbnZhcyBhbmQgc2V0IHdoaXRlIGJhY2tncm91bmRcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYENhbnZhcyBpbml0aWFsaXplZCB3aXRoIGRpbWVuc2lvbnM6ICR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZVxuICAgICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHdpbmRvdy5jYW52YXNEaW1lbnNpb25zID0ge1xuICAgICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbml0aWFsaXplQ2FudmFzXSBFcnJvciBpbml0aWFsaXppbmcgY2FudmFzOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gQ2hlY2sgY2FudmFzIHZpc2liaWxpdHkgYW5kIGZvcmNlIGluaXRpYWxpemF0aW9uIGFmdGVyIGEgYnJpZWYgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgIGlmIChjYW52YXMpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJDYW52YXMgaW5pdGlhbCB2aXNpYmlsaXR5IGNoZWNrOlwiLCB7XG4gICAgICAgICAgZGltZW5zaW9uczogYCR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCxcbiAgICAgICAgICByZWN0U2l6ZTogYCR7cmVjdC53aWR0aH14JHtyZWN0LmhlaWdodH1gLFxuICAgICAgICAgIGlzVmlzaWJsZTogKHJlY3Qud2lkdGggPiAwICYmIHJlY3QuaGVpZ2h0ID4gMClcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JjZSBpbml0aWFsaXphdGlvbiBpZiBuZWVkZWRcbiAgICAgICAgYWRqdXN0Q2FudmFzRGltZW5zaW9ucygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ2FudmFzIG5vdCBmb3VuZCBkdXJpbmcgdmlzaWJpbGl0eSBjaGVja1wiKTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWxldGUgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgICAgZGVsZXRlIHdpbmRvdy5jYW52YXNEaW1lbnNpb25zO1xuICAgICAgZGVsZXRlIHdpbmRvdy5pbml0aWFsaXplQ2FudmFzO1xuICAgIH07XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG4gIC8vIEltcHJvdmVkIGNhbnZhcyBkaW1lbnNpb25zIGFkanVzdG1lbnRcbiAgY29uc3QgYWRqdXN0Q2FudmFzRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkIHx8ICFwcmV2aWV3QXJlYVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyBjYW52YXMgZm91bmQgdG8gYWRqdXN0IGRpbWVuc2lvbnNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHByZXZpZXdBcmVhUmVmLmN1cnJlbnQ7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBzaXplIG9mIHRoZSBwcmV2aWV3IGFyZWFcbiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBwcm9wZXIgaGVpZ2h0IGJhc2VkIG9uIHRvcCBiYXIgdmlzaWJpbGl0eVxuICAgIGNvbnN0IHRvcEJhckhlaWdodCA9IHNob3dUb3BCYXIgPyAxMjAgOiAwOyAvLyBBZGp1c3QgdGhpcyB2YWx1ZSBiYXNlZCBvbiB5b3VyIHRvcCBiYXIncyBhY3R1YWwgaGVpZ2h0XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJBZGp1c3RpbmcgY2FudmFzIGRpbWVuc2lvbnNcIiwge1xuICAgICAgY29udGFpbmVyV2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICBjb250YWluZXJIZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgICAgdG9wQmFyVmlzaWJsZTogc2hvd1RvcEJhcixcbiAgICAgIGNhbGN1bGF0ZWRIZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gICAgfSk7XG4gICAgXG4gICAgLy8gU2V0IGNhbnZhcyBkaW1lbnNpb25zIHRvIG1hdGNoIGNvbnRhaW5lciBzaXplIHdpdGggdG9wIGJhciBhZGp1c3RtZW50XG4gICAgY2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgXG4gICAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBcbiAgICAvLyBGaWxsIHdpdGggd2hpdGUgYmFja2dyb3VuZFxuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBDYW52YXMgZGltZW5zaW9ucyBhZGp1c3RlZDogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZSB3aXRoIGN1cnJlbnQgZGltZW5zaW9uc1xuICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICB3aW5kb3cuY2FudmFzRGltZW5zaW9ucyA9IHtcbiAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICB9O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGNhcHR1cmUgZm9sZGVyIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FwdHVyZUZvbGRlciAmJiBpc0NsaWVudCAmJiBpc0h5ZHJhdGVkKSB7XG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzpcXC5dL2csICctJyk7XG4gICAgICBzZXRDYXB0dXJlRm9sZGVyKGBzZXNzaW9uXyR7dGltZXN0YW1wfWApO1xuICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgY2FwdHVyZSBmb2xkZXI6IHNlc3Npb25fJHt0aW1lc3RhbXB9YCk7XG4gICAgfVxuICB9LCBbY2FwdHVyZUZvbGRlciwgaXNDbGllbnQsIGlzSHlkcmF0ZWRdKTtcbiAgXG4gIC8vIENoZWNrIGJhY2tlbmQgY29ubmVjdGlvbiBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjsgLy8gU2tpcCBvbiBzZXJ2ZXIgb3IgYmVmb3JlIGh5ZHJhdGlvblxuICAgIFxuICAgIGNvbnN0IGNoZWNrQmFja2VuZENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvbicpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRCYWNrZW5kU3RhdHVzKGRhdGEuY29ubmVjdGVkID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBCYWNrZW5kIGNvbm5lY3Rpb246ICR7ZGF0YS5jb25uZWN0ZWQgPyAnT0snIDogJ0ZhaWxlZCd9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IHN0YXR1cyBpbiBvdXRwdXQgdGV4dFxuICAgICAgICBzZXRPdXRwdXRUZXh0KGBCYWNrZW5kICR7ZGF0YS5jb25uZWN0ZWQgPyAnY29ubmVjdGVkJyA6ICdkaXNjb25uZWN0ZWQgLSB1c2luZyBtb2NrIG1vZGUnfWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgYmFja2VuZCBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgc2V0QmFja2VuZFN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHNldE91dHB1dFRleHQoJ0JhY2tlbmQgZGlzY29ubmVjdGVkIC0gdXNpbmcgbW9jayBtb2RlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrQmFja2VuZENvbm5lY3Rpb24oKTtcbiAgICBcbiAgICAvLyBXZWxjb21lIG1lc3NhZ2UgYWZ0ZXIgYmFja2VuZCBjaGVja1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2FtZXJhIHN5c3RlbSByZWFkeS4gQ2xpY2sgXCJTaG93IFByZXZpZXdcIiB0byBzdGFydCBjYW1lcmEuJyk7XG4gICAgfSwgMjAwMCk7XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG5cbiAgLy8gQWRkIHN0eWxlcyB0byBkb2N1bWVudCBoZWFkIGZvciBidXR0b24gaGlnaGxpZ2h0aW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIHN0eWxlIGVsZW1lbnRcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICBAa2V5ZnJhbWVzIHB1bHNlIHtcbiAgICAgICAgMCUgeyBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMCwgMTAyLCAyMDQsIDAuNyk7IH1cbiAgICAgICAgNzAlIHsgYm94LXNoYWRvdzogMCAwIDAgMTBweCByZ2JhKDAsIDEwMiwgMjA0LCAwKTsgfVxuICAgICAgICAxMDAlIHsgYm94LXNoYWRvdzogMCAwIDAgMCByZ2JhKDAsIDEwMiwgMjA0LCAwKTsgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwcHgpOyB9XG4gICAgICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC5idG4taGlnaGxpZ2h0IHtcbiAgICAgICAgYW5pbWF0aW9uOiBwdWxzZSAxLjVzIGluZmluaXRlO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5OWZmICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAud2FybmluZy1iYW5uZXIge1xuICAgICAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuICAgIGA7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgXG4gICAgLy8gQ2xlYW4gdXBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgfTtcbiAgfSwgW2lzSHlkcmF0ZWRdKTtcbiAgXG4gIC8vIE1ha2UgdG9nZ2xlVG9wQmFyIGZ1bmN0aW9uIGF2YWlsYWJsZSBnbG9iYWxseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBNYWtlIHRvZ2dsZVRvcEJhciBhdmFpbGFibGUgdG8gb3RoZXIgY29tcG9uZW50c1xuICAgIHdpbmRvdy50b2dnbGVUb3BCYXIgPSAoc2hvdykgPT4ge1xuICAgICAgc2V0U2hvd1RvcEJhcihzaG93KTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICAgIGlmICghc2hvdykge1xuICAgICAgICBzZXRTaG93TWV0cmljcyhmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkanVzdCBjYW52YXMgZGltZW5zaW9ucyBhZnRlciB0b2dnbGluZ1xuICAgICAgc2V0VGltZW91dChhZGp1c3RDYW52YXNEaW1lbnNpb25zLCAxMDApO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICBkZWxldGUgd2luZG93LnRvZ2dsZVRvcEJhcjtcbiAgICB9O1xuICB9LCBbaXNIeWRyYXRlZF0pO1xuXG4gIC8vIFRvZ2dsZSBjYW1lcmEgZnVuY3Rpb25cbiAgY29uc3QgdG9nZ2xlQ2FtZXJhID0gKHNob3VsZEVuYWJsZSkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICBpZiAoc2hvdWxkRW5hYmxlKSB7XG4gICAgICBzZXRTaG93Q2FtZXJhKHRydWUpO1xuICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgIHNldE91dHB1dFRleHQoJ0NhbWVyYSBwcmV2aWV3IHN0YXJ0ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd0NhbWVyYShmYWxzZSk7XG4gICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2FtZXJhIHByZXZpZXcgc3RvcHBlZCcpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZXIgZm9yIGFjdGlvbiBidXR0b24gY2xpY2tzXG4gIGNvbnN0IGhhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrID0gKGFjdGlvblR5cGUsIHBhcmFtcykgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHRvZ2dsaW5nIHRoZSB0b3AgYmFyXG4gICAgaWYgKGFjdGlvblR5cGUgPT09ICd0b2dnbGVUb3BCYXInKSB7XG4gICAgICAvLyBjb25zdCBuZXdUb3BCYXJTdGF0ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyAhIXZhbHVlIDogIXNob3dUb3BCYXI7XG4gICAgICBsZXQgbmV3VG9wQmFyU3RhdGU7XG4gICAgXG4gICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIG5ld1RvcEJhclN0YXRlID0gcGFyYW1zO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmV3VG9wQmFyU3RhdGUgPSAhIXBhcmFtcy52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RvcEJhclN0YXRlID0gIXNob3dUb3BCYXI7XG4gICAgICB9XG4gICAgICBzZXRTaG93VG9wQmFyKG5ld1RvcEJhclN0YXRlKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICAgIGlmICghbmV3VG9wQmFyU3RhdGUpIHtcbiAgICAgICAgc2V0U2hvd01ldHJpY3MoZmFsc2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRPdXRwdXRUZXh0KGBUb3BCYXIgJHtuZXdUb3BCYXJTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ30keyFuZXdUb3BCYXJTdGF0ZSA/ICcsIE1ldHJpY3MgaGlkZGVuJyA6ICcnfWApO1xuICAgICAgXG4gICAgICAvLyBBZGp1c3QgY2FudmFzIGRpbWVuc2lvbnMgYWZ0ZXIgdG9nZ2xpbmdcbiAgICAgIHNldFRpbWVvdXQoYWRqdXN0Q2FudmFzRGltZW5zaW9ucywgMTAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgIHNldFNob3dXYXJuaW5nKGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3Rpbmcgd2FybmluZ3NcbiAgICBjb25zdCBzYWZlUGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICBcbiAgICAvLyBVc2Ugc2FmZVBhcmFtcyBpbnN0ZWFkIG9mIGNvbnRyb2xWYWx1ZXNcbiAgICBjb25zdCByYW5kb21UaW1lcyA9IHNhZmVQYXJhbXMucmFuZG9tVGltZXMgfHwgMTtcbiAgICBjb25zdCBkZWxheVNlY29uZHMgPSBzYWZlUGFyYW1zLmRlbGF5U2Vjb25kcyB8fCAzO1xuXG4gICAgc3dpdGNoIChhY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdwcmV2aWV3JzpcbiAgICAgICAgLy8gVG9nZ2xlIGNhbWVyYSBzdGF0ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHRvZ2dsZUNhbWVyYShmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQpIHtcbiAgICAgICAgICB0b2dnbGVDYW1lcmEodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIHNob3cgcGVybWlzc2lvbiBwb3B1cFxuICAgICAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgICAgICAgc2V0T3V0cHV0VGV4dCgnT3BlbmluZyBjYW1lcmEgcHJldmlldycpO1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICdzZXRSYW5kb20nOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdTdGFydGluZyByYW5kb20gc2VxdWVuY2UuLi4nKTtcbiAgICAgICAgc2V0U2hvd1RvcEJhcihmYWxzZSk7XG4gICAgICAgIGlmIChzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2UgdGhlIGltcG9ydGVkIG1vZHVsZSBhcHByb2FjaCAtIHNpbWlsYXIgdG8gY2FsaWJyYXRlXG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0UmFuZG9tKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSByZWZlcmVuY2UgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBBY3Rpb25CdXR0b25Hcm91cCByZWYgbWV0aG9kIGZvciBTZXQgUmFuZG9tJyk7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC5oYW5kbGVTZXRSYW5kb20oKTtcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyAmJiBcbiAgICAgICAgICB0eXBlb2Ygd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVTZXRSYW5kb20gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBnbG9iYWwgbWV0aG9kXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdsb2JhbCBicmlkZ2UgbWV0aG9kIGZvciBTZXQgUmFuZG9tJyk7XG4gICAgICAgICAgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVTZXRSYW5kb20oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIGNhbnZhcyB0byB3b3JrIHdpdGhcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgbm90IGZvdW5kIGZvciByYW5kb20gc2VxdWVuY2VcIik7XG4gICAgICAgICAgICBzZXRPdXRwdXRUZXh0KFwiRXJyb3I6IENhbnZhcyBub3QgYXZhaWxhYmxlIGZvciByYW5kb20gc2VxdWVuY2VcIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgY29udHJvbCB2YWx1ZXMgZnJvbSB0aGUgVG9wQmFyXG4gICAgICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGQnKTtcbiAgICAgICAgICBjb25zdCBkZWxheUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2wtaW5wdXQtZmllbGQnKVsxXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEZWZhdWx0IHZhbHVlcyBpZiBpbnB1dHMgY2FuJ3QgYmUgZm91bmRcbiAgICAgICAgICBsZXQgdGltZXMgPSAxO1xuICAgICAgICAgIGxldCBkZWxheSA9IDM7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUGFyc2UgaW5wdXQgdmFsdWVzIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFRpbWUgPSBwYXJzZUludCh0aW1lSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkVGltZSkgJiYgcGFyc2VkVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgdGltZXMgPSBwYXJzZWRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGVsYXlJbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGVsYXkgPSBwYXJzZUludChkZWxheUlucHV0LnZhbHVlLCAxMCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZERlbGF5KSAmJiBwYXJzZWREZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgZGVsYXkgPSBwYXJzZWREZWxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTG9hZCBhbGwgcmVxdWlyZWQgbW9kdWxlcyBmaXJzdCwgdGhlbiBwcm9jZWVkIHdpdGggZXhlY3V0aW9uXG4gICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL2NvdW50U2F2ZScpLFxuICAgICAgICAgICAgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvSGVscGVyL3NhdmVmaWxlJylcbiAgICAgICAgICBdKS50aGVuKGFzeW5jIChbXG4gICAgICAgICAgICBjb3VudFNhdmVNb2R1bGUsXG4gICAgICAgICAgICBzYXZlZmlsZU1vZHVsZVxuICAgICAgICAgIF0pID0+IHtcbiAgICAgICAgICAgIC8vIERlc3RydWN0dXJlIHRoZSBpbXBvcnRlZCBtb2R1bGVzXG4gICAgICAgICAgICBjb25zdCB7IGdldFJhbmRvbVBvc2l0aW9uLCBkcmF3UmVkRG90LCBydW5Db3VudGRvd24sIHNob3dDYXB0dXJlUHJldmlldyB9ID0gY291bnRTYXZlTW9kdWxlO1xuICAgICAgICAgICAgY29uc3QgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9ID0gc2F2ZWZpbGVNb2R1bGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFByb2Nlc3MgYWxsIGNhcHR1cmVzIHNlcXVlbnRpYWxseVxuICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDYXB0dXJlID0gMTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50Q2FwdHVyZSA8PSB0aW1lcykge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgZm9yIGN1cnJlbnQgY2FwdHVyZVxuICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhcHR1cmUgJHtjdXJyZW50Q2FwdHVyZX0gb2YgJHt0aW1lc31gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBjYW52YXMgYmVmb3JlIGVhY2ggY2FwdHVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gcG9zaXRpb24gZm9yIHRoaXMgY2FwdHVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmFuZG9tUG9zaXRpb24oY2FudmFzLCAyMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRHJhdyB0aGUgZG90XG4gICAgICAgICAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHJlZHJhd0ludGVydmFsIHRvIGVuc3VyZSBkb3Qgc3RheXMgdmlzaWJsZVxuICAgICAgICAgICAgICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUnVuIGNvdW50ZG93biBhbmQgd2FpdCBmb3IgaXQgdG8gY29tcGxldGVcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgIHJ1bkNvdW50ZG93bihcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSBiYXNlZCBvbiBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhcHR1cmUgJHtjdXJyZW50Q2FwdHVyZX0vJHt0aW1lc306ICR7c3RhdHVzLnByb2Nlc3NTdGF0dXN9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2hlbiBjb3VudGRvd24gY29tcGxldGVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHJlZHJhd0ludGVydmFsIGFmdGVyIGNvdW50ZG93blxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFdhaXQgYnJpZWZseSBhZnRlciBjb3VudGRvd25cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKGNhcHR1cmVSZXN1bHQgJiYgKGNhcHR1cmVSZXN1bHQuc2NyZWVuSW1hZ2UgfHwgY2FwdHVyZVJlc3VsdC5zdWNjZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudGVyKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjYXB0dXJpbmcgcG9pbnQgJHtjdXJyZW50Q2FwdHVyZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGJldHdlZW4gY2FwdHVyZXMgZm9yIHRoZSBzcGVjaWZpZWQgZGVsYXkgdGltZVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2FwdHVyZSA8IHRpbWVzKSB7XG4gICAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBXYWl0aW5nICR7ZGVsYXl9cyBiZWZvcmUgbmV4dCBjYXB0dXJlLi4uYCk7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBjYXB0dXJlXG4gICAgICAgICAgICAgICAgY3VycmVudENhcHR1cmUrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2VxdWVuY2UgY29tcGxldGVcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUmFuZG9tIGNhcHR1cmUgc2VxdWVuY2UgY29tcGxldGVkOiAke3N1Y2Nlc3NDb3VudH0vJHt0aW1lc30gY2FwdHVyZXMgc3VjY2Vzc2Z1bGApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSYW5kb20gc2VxdWVuY2UgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUmFuZG9tIHNlcXVlbmNlIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpblxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dUb3BCYXIodHJ1ZSksIDIwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW1wb3J0IHJlcXVpcmVkIG1vZHVsZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyYW5kb21Eb3QnOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdSYW5kb20gZG90IGFjdGlvbiB0cmlnZ2VyZWQnKTtcbiAgICAgICAgc2V0U2hvd1RvcEJhcihmYWxzZSk7XG4gICAgICAgIGlmIChzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBhY2Nlc3MgUmFuZG9tIERvdCBmdW5jdGlvbmFsaXR5Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgdGhlIHJhbmRvbSBkb3QgZnVuY3Rpb25hbGl0eSBmcm9tIGFjdGlvbkJ1dHRvbi5qcyBieSBkZWxlZ2F0aW5nIHRvIEFjdGlvbkJ1dHRvbkdyb3VwXG4gICAgICAgIC8vIFRoaXMgYXNzdW1lcyB5b3UgaGF2ZSBhIHJlZiB0byB0aGUgQWN0aW9uQnV0dG9uR3JvdXAgY29tcG9uZW50XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlUmFuZG9tRG90KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHJlZiBtZXRob2QnKTtcbiAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LmhhbmRsZVJhbmRvbURvdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMgJiYgXG4gICAgICAgICAgdHlwZW9mIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlUmFuZG9tRG90ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdsb2JhbCBicmlkZ2UgbWV0aG9kJyk7XG4gICAgICAgICAgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVSYW5kb21Eb3QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBub3QgZm91bmQgZm9yIHJhbmRvbSBkb3QgYWN0aW9uXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgcmFuZG9tIGRvdFwiKTtcbiAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7IC8vIFNob3cgVG9wQmFyIGFnYWluIGlmIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBwcmV2aWV3QXJlYVJlZi5jdXJyZW50O1xuICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGFyZW50IG5vdCBmb3VuZCBmb3IgY2FudmFzXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgcGFyZW50IG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEluaXRpYWxpemUgY2FudmFzIGV4cGxpY2l0bHlcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYENhbnZhcyByZWFkeSBmb3IgcmFuZG9tIGRvdDogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZVxuICAgICAgICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gcG9zaXRpb25cbiAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJhbmRvbVBvc2l0aW9uKGNhbnZhcywgMjApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERyYXcgdGhlIGRvdCB1c2luZyB0aGUgaW1wb3J0ZWQgZnVuY3Rpb25cbiAgICAgICAgICBjb25zdCBkb3QgPSBkcmF3UmVkRG90KGN0eCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSwgOCwgZmFsc2UpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBSYW5kb20gZG90IGRyYXduIGF0OiAke3Bvc2l0aW9uLnh9LCAke3Bvc2l0aW9uLnl9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhcnQgYSBjb3VudGRvd24gZm9yIGNhcHR1cmVcbiAgICAgICAgICBydW5Db3VudGRvd24oXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgIChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIFVJIGJhc2VkIG9uIHN0YXR1c1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KHN0YXR1cy5wcm9jZXNzU3RhdHVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gRW5hYmxlIGNhbWVyYSBiZWZvcmUgY2FwdHVyZVxuICAgICAgICAgICAgICAvLyB0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gV2FpdCBicmllZmx5IGZvciBjYW1lcmEgdG8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGRpcmVjdGx5IGltcG9ydGVkIGNhcHR1cmVJbWFnZXNBdFBvaW50IGZyb20gdGhlIEhlbHBlci9zYXZlZmlsZS5qc1xuICAgICAgICAgICAgICAgIGltcG9ydCgnLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0hlbHBlci9zYXZlZmlsZScpLnRoZW4oKHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiBhZnRlciBjYXB0dXJlXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIyMDApO1xuICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhcHR1cmluZyBpbWFnZXM6XCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYEVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbXBvcnRpbmcgc2F2ZWZpbGUgbW9kdWxlOlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgRXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoZWFkUG9zZSc6XG4gICAgICAgIGNvbnN0IG5ld0hlYWRQb3NlU3RhdGUgPSAhc2hvd0hlYWRQb3NlO1xuICAgICAgICBzZXRTaG93SGVhZFBvc2UobmV3SGVhZFBvc2VTdGF0ZSk7XG4gICAgICAgIHNldE91dHB1dFRleHQoYEhlYWQgcG9zZSB2aXN1YWxpemF0aW9uICR7bmV3SGVhZFBvc2VTdGF0ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YCk7XG4gICAgICAgIGlmIChuZXdIZWFkUG9zZVN0YXRlICYmICFzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXdIZWFkUG9zZVN0YXRlICYmICFzaG93Qm91bmRpbmdCb3ggJiYgIXNob3dNYXNrICYmICFzaG93UGFyYW1ldGVycykge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9ucyBpZiBjYW1lcmEgaXMgYWN0aXZlXG4gICAgICAgIGlmIChzaG93Q2FtZXJhICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgICAgIC4uLndpbmRvdy52aWRlb1Byb2Nlc3Nvci5vcHRpb25zLFxuICAgICAgICAgICAgc2hvd0hlYWRQb3NlOiBuZXdIZWFkUG9zZVN0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAnYm91bmRpbmdCb3gnOlxuICAgICAgICBjb25zdCBuZXdCb3VuZGluZ0JveFN0YXRlID0gIXNob3dCb3VuZGluZ0JveDtcbiAgICAgICAgc2V0U2hvd0JvdW5kaW5nQm94KG5ld0JvdW5kaW5nQm94U3RhdGUpO1xuICAgICAgICBzZXRPdXRwdXRUZXh0KGBCb3VuZGluZyBib3ggJHtuZXdCb3VuZGluZ0JveFN0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgICAgICBpZiAobmV3Qm91bmRpbmdCb3hTdGF0ZSAmJiAhc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbmV3Qm91bmRpbmdCb3hTdGF0ZSAmJiAhc2hvd0hlYWRQb3NlICYmICFzaG93TWFzayAmJiAhc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc29yIG9wdGlvbnMgaWYgY2FtZXJhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICAuLi53aW5kb3cudmlkZW9Qcm9jZXNzb3Iub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dCb3VuZGluZ0JveDogbmV3Qm91bmRpbmdCb3hTdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ21hc2snOlxuICAgICAgICBjb25zdCBuZXdNYXNrU3RhdGUgPSAhc2hvd01hc2s7XG4gICAgICAgIHNldFNob3dNYXNrKG5ld01hc2tTdGF0ZSk7XG4gICAgICAgIHNldE91dHB1dFRleHQoYE1hc2sgJHtuZXdNYXNrU3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgICAgIGlmIChuZXdNYXNrU3RhdGUgJiYgIXNob3dDYW1lcmEpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5ld01hc2tTdGF0ZSAmJiAhc2hvd0hlYWRQb3NlICYmICFzaG93Qm91bmRpbmdCb3ggJiYgIXNob3dQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHByb2Nlc3NvciBvcHRpb25zIGlmIGNhbWVyYSBpcyBhY3RpdmVcbiAgICAgICAgaWYgKHNob3dDYW1lcmEgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICAgICAgLi4ud2luZG93LnZpZGVvUHJvY2Vzc29yLm9wdGlvbnMsXG4gICAgICAgICAgICBzaG93TWFzazogbmV3TWFza1N0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAncGFyYW1ldGVycyc6XG4gICAgICAgIGNvbnN0IG5ld1BhcmFtZXRlcnNTdGF0ZSA9ICFzaG93UGFyYW1ldGVycztcbiAgICAgICAgc2V0U2hvd1BhcmFtZXRlcnMobmV3UGFyYW1ldGVyc1N0YXRlKTtcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgUGFyYW1ldGVycyAke25ld1BhcmFtZXRlcnNTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICAgICAgaWYgKG5ld1BhcmFtZXRlcnNTdGF0ZSAmJiAhc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbmV3UGFyYW1ldGVyc1N0YXRlICYmICFzaG93SGVhZFBvc2UgJiYgIXNob3dCb3VuZGluZ0JveCAmJiAhc2hvd01hc2spIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc29yIG9wdGlvbnMgaWYgY2FtZXJhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICAuLi53aW5kb3cudmlkZW9Qcm9jZXNzb3Iub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzOiBuZXdQYXJhbWV0ZXJzU3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICAvLyBGaXhlZCBjYWxpYnJhdGUgY2FzZSBoYW5kbGVyIGluIGluZGV4LmpzXG4gICAgICBjYXNlICdjYWxpYnJhdGUnOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdTdGFydGluZyBjYWxpYnJhdGlvbiBzZXF1ZW5jZS4uLicpO1xuICAgICAgICBzZXRTaG93VG9wQmFyKGZhbHNlKTtcbiAgICAgICAgaWYgKHNob3dDYW1lcmEpIHtcbiAgICAgICAgICB0b2dnbGVDYW1lcmEoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0Q2FsaWJyYXRlKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSByZWZlcmVuY2UgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBBY3Rpb25CdXR0b25Hcm91cCByZWYgbWV0aG9kIGZvciBjYWxpYnJhdGlvbicpO1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0Q2FsaWJyYXRlKCk7XG4gICAgICAgIH0gXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMgJiYgXG4gICAgICAgICAgdHlwZW9mIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlU2V0Q2FsaWJyYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZ2xvYmFsIG1ldGhvZFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBnbG9iYWwgYnJpZGdlIG1ldGhvZCBmb3IgY2FsaWJyYXRpb24nKTtcbiAgICAgICAgICB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zLmhhbmRsZVNldENhbGlicmF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgY2FudmFzIHRvIHdvcmsgd2l0aFxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBub3QgZm91bmQgZm9yIGNhbGlicmF0aW9uXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgY2FsaWJyYXRpb25cIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBMb2FkIGFsbCByZXF1aXJlZCBtb2R1bGVzIGZpcnN0LCB0aGVuIHByb2NlZWQgd2l0aCBleGVjdXRpb25cbiAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzJyksXG4gICAgICAgICAgICBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlJyksXG4gICAgICAgICAgICBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUnKVxuICAgICAgICAgIF0pLnRoZW4oYXN5bmMgKFtcbiAgICAgICAgICAgIGNhbGlicmF0ZVBvaW50c01vZHVsZSxcbiAgICAgICAgICAgIGNvdW50U2F2ZU1vZHVsZSxcbiAgICAgICAgICAgIHNhdmVmaWxlTW9kdWxlXG4gICAgICAgICAgXSkgPT4ge1xuICAgICAgICAgICAgLy8gRGVzdHJ1Y3R1cmUgdGhlIGltcG9ydGVkIG1vZHVsZXNcbiAgICAgICAgICAgIGNvbnN0IHsgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyB9ID0gY2FsaWJyYXRlUG9pbnRzTW9kdWxlO1xuICAgICAgICAgICAgY29uc3QgeyBkcmF3UmVkRG90LCBydW5Db3VudGRvd24sIHNob3dDYXB0dXJlUHJldmlldyB9ID0gY291bnRTYXZlTW9kdWxlO1xuICAgICAgICAgICAgY29uc3QgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9ID0gc2F2ZWZpbGVNb2R1bGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGNhbGlicmF0aW9uIHBvaW50c1xuICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoIXBvaW50cyB8fCBwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNhbGlicmF0aW9uIHBvaW50c1wiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci5jbGFzc05hbWUgPSAnY2FsaWJyYXRlLXN0YXR1cy1pbmRpY2F0b3InO1xuICAgICAgICAgICAgICBzdGF0dXNJbmRpY2F0b3Iuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICAgICAgdG9wOiAxMHB4O1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMTAyLCAyMDQsIDAuOSk7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDEycHgnO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9ICdDYWxpYnJhdGlvbjogSW5pdGlhbGl6aW5nLi4uJztcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdGF0dXNJbmRpY2F0b3IpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQWNjZXNzIHdlYmNhbSBiZWZvcmUgc3RhcnRpbmcgY2FsaWJyYXRpb24gaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdHJpZ2dlckNhbWVyYUFjY2VzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJDYW1lcmFBY2Nlc3ModHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBQcm9jZXNzIHBvaW50cyBzZXF1ZW50aWFsbHlcbiAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbjogUG9pbnQgJHtpICsgMX0vJHtwb2ludHMubGVuZ3RofWA7XG4gICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUHJvY2Vzc2luZyBjYWxpYnJhdGlvbiBwb2ludCAke2kgKyAxfS8ke3BvaW50cy5sZW5ndGh9YCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBuZXcgcG9pbnRcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRHJhdyB0aGUgZG90XG4gICAgICAgICAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFJ1biBjb3VudGRvd25cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgIHJ1bkNvdW50ZG93bihcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2hlbiBjb3VudGRvd24gY29tcGxldGVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgaW1hZ2VzIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudGVyLFxuICAgICAgICAgICAgICAgICAgICBjYW52YXNSZWY6IHsgY3VycmVudDogY2FudmFzIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudDogc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHNob3dDYXB0dXJlUHJldmlldzogc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKGNhcHR1cmVSZXN1bHQgJiYgKGNhcHR1cmVSZXN1bHQuc2NyZWVuSW1hZ2UgfHwgY2FwdHVyZVJlc3VsdC5zdWNjZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudGVyKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjYXB0dXJpbmcgcG9pbnQgJHtpKzF9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBiZXR3ZWVuIHBvaW50c1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMjAwKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENhbGlicmF0aW9uIGNvbXBsZXRlXG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbiBjb21wbGV0ZTogJHtzdWNjZXNzQ291bnR9LyR7cG9pbnRzLmxlbmd0aH0gcG9pbnRzYDtcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgQ2FsaWJyYXRpb24gY29tcGxldGVkOiAke3N1Y2Nlc3NDb3VudH0vJHtwb2ludHMubGVuZ3RofSBwb2ludHMgY2FwdHVyZWRgKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc3RhdHVzIGluZGljYXRvciBhZnRlciBhIGRlbGF5XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNJbmRpY2F0b3IucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbGlicmF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhbGlicmF0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpblxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dUb3BCYXIodHJ1ZSksIDIwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW1wb3J0IHJlcXVpcmVkIG1vZHVsZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhbGlicmF0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ2NsZWFyQWxsJzpcbiAgICAgICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgICAgIC8vIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBzZXRPdXRwdXRUZXh0KCdDYW52YXMgY2xlYXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHNldE91dHB1dFRleHQoYEFjdGlvbiB0cmlnZ2VyZWQ6ICR7YWN0aW9uVHlwZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBzZXRDYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCh0cnVlKTtcbiAgICB0b2dnbGVDYW1lcmEodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGVybWlzc2lvbkRlbmllZCA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cChmYWxzZSk7XG4gICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICBzZXRPdXRwdXRUZXh0KCdDYW1lcmEgcGVybWlzc2lvbiBkZW5pZWQnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDYW1lcmFDbG9zZSA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDYW1lcmFSZWFkeSA9IChkaW1lbnNpb25zKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIHNldE1ldHJpY3Moe1xuICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgZGlzdGFuY2U6IGRpbWVuc2lvbnMuZGlzdGFuY2UgfHwgJy0tLSdcbiAgICB9KTtcbiAgICBzZXRPdXRwdXRUZXh0KGBDYW1lcmEgcmVhZHk6ICR7ZGltZW5zaW9ucy53aWR0aH14JHtkaW1lbnNpb25zLmhlaWdodH1gKTtcbiAgfTtcblxuICAvLyBUb2dnbGUgdG9wIGJhciBmdW5jdGlvblxuICBjb25zdCB0b2dnbGVUb3BCYXIgPSAoc2hvdykgPT4ge1xuICAgIGNvbnN0IG5ld1RvcEJhclN0YXRlID0gc2hvdyAhPT0gdW5kZWZpbmVkID8gc2hvdyA6ICFzaG93VG9wQmFyO1xuICAgIHNldFNob3dUb3BCYXIobmV3VG9wQmFyU3RhdGUpO1xuICAgIFxuICAgIC8vIEFsc28gaGlkZSBtZXRyaWNzIHdoZW4gaGlkaW5nIHRoZSB0b3AgYmFyXG4gICAgaWYgKCFuZXdUb3BCYXJTdGF0ZSkge1xuICAgICAgc2V0U2hvd01ldHJpY3MoZmFsc2UpO1xuICAgIH1cbiAgICBcbiAgICBzZXRPdXRwdXRUZXh0KGBUb3BCYXIgJHtuZXdUb3BCYXJTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ30keyFuZXdUb3BCYXJTdGF0ZSA/ICcsIE1ldHJpY3MgaGlkZGVuJyA6ICcnfWApO1xuICAgIFxuICAgIC8vIFdhaXQgZm9yIHN0YXRlIHVwZGF0ZSBhbmQgRE9NIGNoYW5nZXMsIHRoZW4gYWRqdXN0IGNhbnZhc1xuICAgIHNldFRpbWVvdXQoYWRqdXN0Q2FudmFzRGltZW5zaW9ucywgMTAwKTtcbiAgfTtcblxuICAvLyBUb2dnbGUgbWV0cmljcyBmdW5jdGlvblxuICBjb25zdCB0b2dnbGVNZXRyaWNzID0gKCkgPT4ge1xuICAgIGlmIChzaG93VG9wQmFyKSB7XG4gICAgICBzZXRTaG93TWV0cmljcyhwcmV2ID0+ICFwcmV2KTtcbiAgICAgIHNldE91dHB1dFRleHQoYE1ldHJpY3MgJHshc2hvd01ldHJpY3MgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRvcEJhciBpcyBoaWRkZW4sIHdlIGNhbid0IHNob3cgbWV0cmljc1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2Fubm90IHNob3cgbWV0cmljcyB3aGVuIFRvcEJhciBpcyBoaWRkZW4nKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gdHJpZ2dlciBjYW1lcmEgYWNjZXNzXG4gIGNvbnN0IHRyaWdnZXJDYW1lcmFBY2Nlc3MgPSAoZm9yY2VFbmFibGUpID0+IHtcbiAgICBpZiAoZm9yY2VFbmFibGUpIHtcbiAgICAgIC8vIFRyeSB0byBlbmFibGUgY2FtZXJhIGRpcmVjdGx5XG4gICAgICBpZiAod2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAgIHNldFNob3dDYW1lcmEodHJ1ZSk7XG4gICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RhcnQgdmlkZW8gcHJvY2Vzc2luZyB3aXRoIGN1cnJlbnQgb3B0aW9uc1xuICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3Iuc3RhcnRWaWRlb1Byb2Nlc3Npbmcoe1xuICAgICAgICAgIHNob3dIZWFkUG9zZSxcbiAgICAgICAgICBzaG93Qm91bmRpbmdCb3gsXG4gICAgICAgICAgc2hvd01hc2ssXG4gICAgICAgICAgc2hvd1BhcmFtZXRlcnMsXG4gICAgICAgICAgc2hvd1Byb2Nlc3NlZEltYWdlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIEp1c3QgdG9nZ2xlIGN1cnJlbnQgc3RhdGUgaWYgbm90IGZvcmNpbmdcbiAgICBpZiAoY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQpIHtcbiAgICAgIHRvZ2dsZUNhbWVyYSghc2hvd0NhbWVyYSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRHluYW1pYyBjbGFzcyB0byByZWZsZWN0IGN1cnJlbnQgd2luZG93IHNpemVcbiAgY29uc3QgZ2V0U2l6ZUNsYXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGVyY2VudGFnZSB9ID0gd2luZG93U2l6ZTtcbiAgICBpZiAocGVyY2VudGFnZSA8IDM1KSByZXR1cm4gJ3dpbmRvdy1zaXplLXRpbnknO1xuICAgIGlmIChwZXJjZW50YWdlIDwgNTApIHJldHVybiAnd2luZG93LXNpemUtc21hbGwnO1xuICAgIGlmIChwZXJjZW50YWdlIDwgNzApIHJldHVybiAnd2luZG93LXNpemUtbWVkaXVtJztcbiAgICByZXR1cm4gJ3dpbmRvdy1zaXplLWxhcmdlJztcbiAgfTtcblxuICAvLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBoYW5kbGUgc2V0dGluZ3MgdmlzaWJpbGl0eVxuICBjb25zdCBoYW5kbGVTZXR0aW5nc1Zpc2liaWxpdHkgPSAoaXNWaXNpYmxlKSA9PiB7XG4gICAgc2V0U2hvd1NldHRpbmdzKGlzVmlzaWJsZSk7XG4gIH07XG5cbiAgLy8gQWRkIHRoaXMgZWZmZWN0IHRvIGxpc3RlbiBmb3Igc2V0dGluZ3MgdmlzaWJpbGl0eSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU2V0dGluZ3NNZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGF0YS50eXBlID09PSAnU0hPV19TRVRUSU5HUycpIHtcbiAgICAgICAgc2V0U2hvd1NldHRpbmdzKGV2ZW50LmRhdGEuc2hvdyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlU2V0dGluZ3NNZXNzYWdlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVTZXR0aW5nc01lc3NhZ2UpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHVzZXIgSUQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ3VzZXJJZENoYW5nZScpIHtcbiAgICAgICAgc2V0Q3VycmVudFVzZXJJZChldmVudC5kZXRhaWwudXNlcklkKTtcbiAgICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gdXBkYXRlIHNldHRpbmdzIGZvciB0aGUgbmV3IHVzZXJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIHR5cGU6ICdjYXB0dXJlU2V0dGluZ3MnLFxuICAgICAgICAgICAgdXNlcklkOiBldmVudC5kZXRhaWwudXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEluaXRpYWxpemUgc2V0dGluZ3Mgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnNlbnRVc2VySWQpIHtcbiAgICAgIC8vIFNldCB0aGUgY3VycmVudCB1c2VyIElEXG4gICAgICBzZXRDdXJyZW50VXNlcklkKGNvbnNlbnRVc2VySWQpO1xuICAgICAgXG4gICAgICAvLyBEaXNwYXRjaCBldmVudCB0byB1cGRhdGUgc2V0dGluZ3MgZm9yIHRoaXMgdXNlclxuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gICAgICAgICAgdXNlcklkOiBjb25zZW50VXNlcklkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfSwgW2NvbnNlbnRVc2VySWRdKTtcblxuICAvLyBMb2FkIHNldHRpbmdzIGZyb20gYmFja2VuZCB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNvbnNlbnRVc2VySWQpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke2NvbnNlbnRVc2VySWR9YCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNldHRpbmdzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9hZGVkU2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgY29tcG9uZW50IHRvIGJlIG1vdW50ZWQgYW5kIHJlZiB0byBiZSBpbml0aWFsaXplZFxuICAgICAgICBjb25zdCB3YWl0Rm9yUmVmID0gKHJldHJpZXMgPSA1KSA9PiB7XG4gICAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgdHlwZW9mIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQudXBkYXRlU2V0dGluZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2V0dGluZ3MgZm9yIHRoaXMgdXNlclxuICAgICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyhsb2FkZWRTZXR0aW5ncyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERpc3BhdGNoIGV2ZW50IHRvIHVwZGF0ZSBVSVxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgdXNlcklkOiBjb25zZW50VXNlcklkLFxuICAgICAgICAgICAgICAgIHRpbWVzOiBsb2FkZWRTZXR0aW5ncy50aW1lcyxcbiAgICAgICAgICAgICAgICBkZWxheTogbG9hZGVkU2V0dGluZ3MuZGVsYXlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXRyaWVzID4gMCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB3YWl0Rm9yUmVmKHJldHJpZXMgLSAxKSwgNTAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBY3Rpb25CdXR0b25Hcm91cCByZWYgbm90IGluaXRpYWxpemVkIGFmdGVyIHJldHJpZXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB3YWl0Rm9yUmVmKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQWRkIGEgc21hbGwgZGVsYXkgdG8gZW5zdXJlIGNvbXBvbmVudHMgYXJlIG1vdW50ZWRcbiAgICBzZXRUaW1lb3V0KGxvYWRTZXR0aW5ncywgMTAwMCk7XG4gIH0sIFtjb25zZW50VXNlcklkXSk7XG5cbiAgLy8gQWRkIHBvbGxpbmcgZm9yIHJlYWwtdGltZSB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hVcGRhdGVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjb25zZW50VXNlcklkKSByZXR1cm47XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHtjb25zZW50VXNlcklkfWApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzZXR0aW5ncycpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQudXBkYXRlU2V0dGluZ3MpIHtcbiAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKHNldHRpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFlvdSBjYW4gYWRkIGltYWdlIGZldGNoaW5nIGxvZ2ljIGhlcmUgaWYgbmVlZGVkXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1cGRhdGVzOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbCBmZXRjaFxuICAgIGZldGNoVXBkYXRlcygpO1xuXG4gICAgLy8gU2V0IHVwIHBvbGxpbmcgaW50ZXJ2YWxcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGZldGNoVXBkYXRlcywgMzAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfTtcbiAgfSwgW2NvbnNlbnRVc2VySWRdKTtcblxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBzZXR0aW5ncyBhbmQgaW1hZ2UgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsPy50eXBlID09PSAnY2FwdHVyZVNldHRpbmdzJyAmJiBldmVudC5kZXRhaWw/LnVzZXJJZCA9PT0gY29uc2VudFVzZXJJZCkge1xuICAgICAgICBjb25zdCB7IHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBpZiAoYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudCAmJiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKSB7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyh7IHRpbWVzLCBkZWxheSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVJbWFnZVVwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbD8udHlwZSA9PT0gJ2ltYWdlJyAmJiBldmVudC5kZXRhaWw/LnVzZXJJZCA9PT0gY29uc2VudFVzZXJJZCkge1xuICAgICAgICBjb25zdCB7IGltYWdlIH0gPSBldmVudC5kZXRhaWw7XG4gICAgICAgIC8vIFVwZGF0ZSBpbWFnZSBpbiB0aGUgVUkgaWYgbmVlZGVkXG4gICAgICAgIC8vIFlvdSBjYW4gYWRkIHlvdXIgaW1hZ2UgdXBkYXRlIGxvZ2ljIGhlcmVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaW1hZ2VVcGRhdGUnLCBoYW5kbGVJbWFnZVVwZGF0ZSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdpbWFnZVVwZGF0ZScsIGhhbmRsZUltYWdlVXBkYXRlKTtcbiAgICB9O1xuICB9LCBbY29uc2VudFVzZXJJZF0pO1xuXG4gIC8vIExvYWQgc2V0dGluZ3MgZm9yIGEgc3BlY2lmaWMgdXNlclxuICBjb25zdCBsb2FkU2V0dGluZ3MgPSBhc3luYyAodXNlcklkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIHNldHRpbmdzIGZvciB1c2VyOicsIHVzZXJJZCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7dXNlcklkfWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnKTtcbiAgICAgIFxuICAgICAgY29uc3QgdXNlclNldHRpbmdzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ0ZldGNoZWQgc2V0dGluZ3M6JywgdXNlclNldHRpbmdzKTtcbiAgICAgIFxuICAgICAgLy8gRGlzcGF0Y2ggc2V0dGluZ3MgdXBkYXRlIGV2ZW50XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnY2FwdHVyZVNldHRpbmdzVXBkYXRlJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICB0eXBlOiAnY2FwdHVyZVNldHRpbmdzJyxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgLi4udXNlclNldHRpbmdzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIHVzZXIgSUQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb25zZW50VXNlcklkICYmIGNvbnNlbnRVc2VySWQgIT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyIElEIGNoYW5nZWQgaW4gaW5kZXguanM6JywgY29uc2VudFVzZXJJZCk7XG4gICAgICBzZXRDdXJyZW50VXNlcklkKGNvbnNlbnRVc2VySWQpO1xuICAgICAgXG4gICAgICAvLyBEaXNwYXRjaCBldmVudCB0byBub3RpZnkgb3RoZXIgY29tcG9uZW50c1xuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3VzZXJJZENoYW5nZScsIHtcbiAgICAgICAgZGV0YWlsOiB7IHVzZXJJZDogY29uc2VudFVzZXJJZCB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIFxuICAgICAgLy8gTG9hZCBzZXR0aW5ncyBmb3IgdGhlIG5ldyB1c2VyXG4gICAgICBsb2FkU2V0dGluZ3MoY29uc2VudFVzZXJJZCk7XG4gICAgfVxuICB9LCBbY29uc2VudFVzZXJJZCwgY3VycmVudFVzZXJJZF0pO1xuXG4gIC8vIExpc3RlbiBmb3Igc2V0dGluZ3MgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC50eXBlID09PSAnY2FwdHVyZVNldHRpbmdzJykge1xuICAgICAgICBjb25zdCB7IHVzZXJJZCwgdGltZXMsIGRlbGF5IH0gPSBldmVudC5kZXRhaWw7XG4gICAgICAgIGlmICh1c2VySWQgPT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNldHRpbmdzIGZvciB0aGlzIHVzZXJcbiAgICAgICAgICBpZiAoYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudCAmJiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKSB7XG4gICAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKHtcbiAgICAgICAgICAgICAgdGltZXM6IHRpbWVzIHx8IDEsXG4gICAgICAgICAgICAgIGRlbGF5OiBkZWxheSB8fCAzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICB9O1xuICB9LCBbY3VycmVudFVzZXJJZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BtYWluLWNvbnRhaW5lciAke2dldFNpemVDbGFzcygpfWB9PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5DYW1lcmEgRGF0YXNldCBDb2xsZWN0aW9uPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIFxuICAgICAgey8qIEJhY2tlbmQgY29ubmVjdGlvbiBzdGF0dXMgYmFubmVyICovfVxuICAgICAge2lzSHlkcmF0ZWQgJiYgYmFja2VuZFN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcgJiYgKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBwYWRkaW5nOiAnNnB4IDAnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmUwYjInLFxuICAgICAgICAgIGNvbG9yOiAnI2U2NTEwMCcsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICB6SW5kZXg6IDExMDBcbiAgICAgICAgfX0+XG4gICAgICAgICAg4pqg77iPIEJhY2tlbmQgZGlzY29ubmVjdGVkLiBIdXJyeSB1cCwgTWFrZSBPTkxJTkUgcGxlYXNlIGFuZCBVc2luZyBtb2NrIG1vZGVcbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogV2FybmluZyBtZXNzYWdlIGJhbm5lciAqL31cbiAgICAgIHtpc0h5ZHJhdGVkICYmIHNob3dXYXJuaW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3YXJuaW5nLWJhbm5lclwiIHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgdG9wOiBzaG93VG9wQmFyID8gKGJhY2tlbmRTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnID8gJzMycHgnIDogJzYwcHgnKSA6ICcwJyxcbiAgICAgICAgICBsZWZ0OiAnMCcsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZlYjNiJyxcbiAgICAgICAgICBjb2xvcjogJyMzMzMnLFxuICAgICAgICAgIHBhZGRpbmc6ICcxMHB4JyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMiknLFxuICAgICAgICAgIHpJbmRleDogMTAxMCxcbiAgICAgICAgICBhbmltYXRpb246ICdmYWRlSW4gMC4zcyBlYXNlLWluLW91dCdcbiAgICAgICAgfX0+XG4gICAgICAgICAgPHN0cm9uZz7imqDvuI8ge3dhcm5pbmdNZXNzYWdlfTwvc3Ryb25nPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1jb250YWluZXJcIj5cbiAgICAgICAgICA8cD5Mb2FkaW5nIHVzZXIgc2V0dGluZ3MuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPD5cbiAgICAgICAgICB7LyogTG9hZCB0aGUgdmlkZW8gcHJvY2Vzc29yIGNvbXBvbmVudCAqL31cbiAgICAgICAgICB7aXNIeWRyYXRlZCAmJiBpc0NsaWVudCAmJiA8VmlkZW9Qcm9jZXNzb3JDb21wb25lbnQgLz59XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFRvcEJhciBjb21wb25lbnQgd2l0aCBvbkJ1dHRvbkNsaWNrIGhhbmRsZXIgLSBjb25kaXRpb25hbGx5IHJlbmRlcmVkICovfVxuICAgICAgICAgIHtzaG93VG9wQmFyICYmIChcbiAgICAgICAgICAgIDxUb3BCYXIgXG4gICAgICAgICAgICAgIG9uQnV0dG9uQ2xpY2s9e2hhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgICBvbkNhbWVyYUFjY2Vzcz17KCkgPT4gc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKX1cbiAgICAgICAgICAgICAgb3V0cHV0VGV4dD17c3RhdHVzTWVzc2FnZSB8fCBvdXRwdXRUZXh0fVxuICAgICAgICAgICAgICBvbk91dHB1dENoYW5nZT17KHRleHQpID0+IHNldE91dHB1dFRleHQodGV4dCl9XG4gICAgICAgICAgICAgIG9uVG9nZ2xlVG9wQmFyPXt0b2dnbGVUb3BCYXJ9XG4gICAgICAgICAgICAgIG9uVG9nZ2xlTWV0cmljcz17dG9nZ2xlTWV0cmljc31cbiAgICAgICAgICAgICAgY2FudmFzUmVmPXtjYW52YXNSZWZ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFNob3cgcmVzdG9yZSBidXR0b24gd2hlbiBUb3BCYXIgaXMgaGlkZGVuIC0gcG9zaXRpb25lZCBhdCB0b3AgcmlnaHQgKi99XG4gICAgICAgICAgeyFzaG93VG9wQmFyICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVzdG9yZS1idXR0b24tY29udGFpbmVyXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICAgIHRvcDogJzEwcHgnLFxuICAgICAgICAgICAgICByaWdodDogJzEwcHgnLFxuICAgICAgICAgICAgICB6SW5kZXg6IDEwMDBcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc3RvcmUtYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVUb3BCYXIodHJ1ZSl9XG4gICAgICAgICAgICAgICAgdGl0bGU9XCJTaG93IFRvcEJhciBhbmQgTWV0cmljc1wiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc1cHggMTBweCcsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzAwNjZjYycsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDiiaFcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIE1haW4gcHJldmlldyBhcmVhICovfVxuICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICByZWY9e3ByZXZpZXdBcmVhUmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXByZXZpZXctYXJlYVwiXG4gICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgaGVpZ2h0OiBzaG93VG9wQmFyID8gJ2NhbGMoMTAwdmggLSAxMjBweCknIDogJzEwMHZoJyxcbiAgICAgICAgICAgICAgbWFyZ2luVG9wOiBiYWNrZW5kU3RhdHVzID09PSAnZGlzY29ubmVjdGVkJyA/ICczMnB4JyA6ICcwJyxcbiAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmNWY1ZjUnLFxuICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgey8qIEFjdGlvbiBidXR0b25zIGZvciBjYW1lcmEgY29udHJvbCAtIG1vdmVkIG91dHNpZGUgY29uZGl0aW9uYWwgcmVuZGVyaW5nICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtYWN0aW9uLWJ1dHRvbnMtY29udGFpbmVyXCIgc3R5bGU9e3sgXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICBib3R0b206ICcyMHB4JyxcbiAgICAgICAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknLFxuICAgICAgICAgICAgICB6SW5kZXg6IDEwLFxuICAgICAgICAgICAgICBtYXhXaWR0aDogJzYwMHB4JyxcbiAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzAgMjBweCdcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uR3JvdXBcbiAgICAgICAgICAgICAgICByZWY9e2FjdGlvbkJ1dHRvbkdyb3VwUmVmfVxuICAgICAgICAgICAgICAgIHRyaWdnZXJDYW1lcmFBY2Nlc3M9e3RyaWdnZXJDYW1lcmFBY2Nlc3N9XG4gICAgICAgICAgICAgICAgaXNDb21wYWN0TW9kZT17d2luZG93U2l6ZS53aWR0aCA8IDc2OH1cbiAgICAgICAgICAgICAgICBvbkFjdGlvbkNsaWNrPXtoYW5kbGVBY3Rpb25CdXR0b25DbGlja31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7IXNob3dDYW1lcmEgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtcHJldmlldy1tZXNzYWdlXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogc2hvd1RvcEJhciA/ICdyZWxhdGl2ZScgOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgIHpJbmRleDogNVxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgPHA+Q2FtZXJhIHByZXZpZXcgd2lsbCBhcHBlYXIgaGVyZTwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImNhbWVyYS1zaXplLWluZGljYXRvclwiPkN1cnJlbnQgd2luZG93OiB7d2luZG93U2l6ZS5wZXJjZW50YWdlfSUgb2Ygc2NyZWVuIHdpZHRoPC9wPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogQ2FtZXJhIHBsYWNlaG9sZGVyIHNxdWFyZSAtIHNtYWxsIHZlcnNpb24gKi99XG4gICAgICAgICAgICAgICAgICB7aXNIeWRyYXRlZCAmJiBzaG93Q2FtZXJhUGxhY2Vob2xkZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1wbGFjZWhvbGRlci1zcXVhcmVcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzE4MHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEzNXB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzIwcHggYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggZGFzaGVkICM2NjYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmNWY1ZjUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzEuNXJlbScgfX0+8J+TtzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIENhbnZhcyBmb3IgZXllIHRyYWNraW5nIGRvdHMgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbnZhcy1jb250YWluZXJcIiBcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywgXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywgXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAgXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHsvKiA8Y2FudmFzIFxuICAgICAgICAgICAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJhY2tpbmctY2FudmFzXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywgXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyBcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+ICovfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogTWV0cmljcyBpbmZvIC0gY29uZGl0aW9uYWxseSByZW5kZXJlZCAqL31cbiAgICAgICAgICAgIHtpc0h5ZHJhdGVkICYmIHNob3dNZXRyaWNzICYmIChcbiAgICAgICAgICAgICAgPERpc3BsYXlSZXNwb25zZSBcbiAgICAgICAgICAgICAgICB3aWR0aD17bWV0cmljcy53aWR0aH0gXG4gICAgICAgICAgICAgICAgaGVpZ2h0PXttZXRyaWNzLmhlaWdodH0gXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U9e21ldHJpY3MuZGlzdGFuY2V9XG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlPXtzaG93TWV0cmljc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBDYW1lcmEgY29tcG9uZW50IC0gdXNpbmcgY2xpZW50LW9ubHkgdmVyc2lvbiAqL31cbiAgICAgICAgICAgIHtpc0h5ZHJhdGVkICYmIGlzQ2xpZW50ICYmIHNob3dDYW1lcmEgJiYgKFxuICAgICAgICAgICAgICA8RHluYW1pY0NhbWVyYUFjY2Vzc1xuICAgICAgICAgICAgICAgIGlzU2hvd2luZz17c2hvd0NhbWVyYX0gXG4gICAgICAgICAgICAgICAgb25DbG9zZT17aGFuZGxlQ2FtZXJhQ2xvc2V9XG4gICAgICAgICAgICAgICAgb25DYW1lcmFSZWFkeT17aGFuZGxlQ2FtZXJhUmVhZHl9XG4gICAgICAgICAgICAgICAgc2hvd0hlYWRQb3NlPXtzaG93SGVhZFBvc2V9XG4gICAgICAgICAgICAgICAgc2hvd0JvdW5kaW5nQm94PXtzaG93Qm91bmRpbmdCb3h9XG4gICAgICAgICAgICAgICAgc2hvd01hc2s9e3Nob3dNYXNrfVxuICAgICAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzPXtzaG93UGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgICB2aWRlb1JlZj17dmlkZW9SZWZ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ2FtZXJhIHBlcm1pc3Npb24gcG9wdXAgKi99XG4gICAgICAgICAgICB7aXNIeWRyYXRlZCAmJiBpc0NsaWVudCAmJiBzaG93UGVybWlzc2lvblBvcHVwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1wb3B1cFwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgekluZGV4OiAyMDAwXG4gICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tZGlhbG9nXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAnNDAwcHgnLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tdGl0bGVcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAgMTVweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xuICAgICAgICAgICAgICAgICAgfX0+Q2FtZXJhIEFjY2VzcyBSZXF1aXJlZDwvaDM+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1tZXNzYWdlXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDIwcHgnLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMS40J1xuICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIFRoaXMgYXBwbGljYXRpb24gbmVlZHMgYWNjZXNzIHRvIHlvdXIgY2FtZXJhIHRvIGZ1bmN0aW9uIHByb3Blcmx5LiBcbiAgICAgICAgICAgICAgICAgICAgV2hlbiBwcm9tcHRlZCBieSB5b3VyIGJyb3dzZXIsIHBsZWFzZSBjbGljayBcIkFsbG93XCIgdG8gZ3JhbnQgY2FtZXJhIGFjY2Vzcy5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tYnV0dG9uc1wiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICAgICAgICAgIGdhcDogJzEwcHgnXG4gICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQZXJtaXNzaW9uRGVuaWVkfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1idG5cIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2YwZjBmMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1idG5cIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwNjZjYycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIENvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSGVhZCIsImR5bmFtaWMiLCJUb3BCYXIiLCJEaXNwbGF5UmVzcG9uc2UiLCJBY3Rpb25CdXR0b25Hcm91cCIsInNob3dDYXB0dXJlUHJldmlldyIsImNhcHR1cmVJbWFnZXNBdFBvaW50IiwiZHJhd1JlZERvdCIsImdldFJhbmRvbVBvc2l0aW9uIiwicnVuQ291bnRkb3duIiwidXNlQ29uc2VudCIsInVzZVJvdXRlciIsIlZpZGVvUHJvY2Vzc29yQ29tcG9uZW50Iiwic3NyIiwiRHluYW1pY0NhbWVyYUFjY2VzcyIsImxvYWRpbmciLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInRyYW5zZm9ybSIsIndpZHRoIiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJ0ZXh0QWxpZ24iLCJ6SW5kZXgiLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsInAiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJDb2xsZWN0ZWREYXRhc2V0UGFnZSIsInJvdXRlciIsInVzZXJJZCIsImNvbnNlbnRVc2VySWQiLCJ1c2VyRGF0YSIsInNldFVzZXJEYXRhIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImlzSHlkcmF0ZWQiLCJzZXRJc0h5ZHJhdGVkIiwiYmFja2VuZFN0YXR1cyIsInNldEJhY2tlbmRTdGF0dXMiLCJzaG93VG9wQmFyIiwic2V0U2hvd1RvcEJhciIsInNob3dXYXJuaW5nIiwic2V0U2hvd1dhcm5pbmciLCJ3YXJuaW5nTWVzc2FnZSIsInNldFdhcm5pbmdNZXNzYWdlIiwic3RhdHVzTWVzc2FnZSIsInNldFN0YXR1c01lc3NhZ2UiLCJvdXRwdXRUZXh0Iiwic2V0T3V0cHV0VGV4dCIsInNob3dNZXRyaWNzIiwic2V0U2hvd01ldHJpY3MiLCJzaG93UGVybWlzc2lvblBvcHVwIiwic2V0U2hvd1Blcm1pc3Npb25Qb3B1cCIsImNhbWVyYVBlcm1pc3Npb25HcmFudGVkIiwic2V0Q2FtZXJhUGVybWlzc2lvbkdyYW50ZWQiLCJzaG93Q2FtZXJhIiwic2V0U2hvd0NhbWVyYSIsInNob3dDYW1lcmFQbGFjZWhvbGRlciIsInNldFNob3dDYW1lcmFQbGFjZWhvbGRlciIsInNob3dIZWFkUG9zZSIsInNldFNob3dIZWFkUG9zZSIsInNob3dCb3VuZGluZ0JveCIsInNldFNob3dCb3VuZGluZ0JveCIsInNob3dNYXNrIiwic2V0U2hvd01hc2siLCJzaG93UGFyYW1ldGVycyIsInNldFNob3dQYXJhbWV0ZXJzIiwid2luZG93U2l6ZSIsInNldFdpbmRvd1NpemUiLCJwZXJjZW50YWdlIiwibWV0cmljcyIsInNldE1ldHJpY3MiLCJkaXN0YW5jZSIsImNhcHR1cmVDb3VudGVyIiwic2V0Q2FwdHVyZUNvdW50ZXIiLCJjYXB0dXJlRm9sZGVyIiwic2V0Q2FwdHVyZUZvbGRlciIsImN1cnJlbnRVc2VySWQiLCJzZXRDdXJyZW50VXNlcklkIiwic2hvd1NldHRpbmdzIiwic2V0U2hvd1NldHRpbmdzIiwicHJldmlld0FyZWFSZWYiLCJjYW52YXNSZWYiLCJ2aWRlb1JlZiIsImFjdGlvbkJ1dHRvbkdyb3VwUmVmIiwibG9hZFVzZXJEYXRhIiwiaXNSZWFkeSIsInF1ZXJ5IiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9LRVkiLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwibWVzc2FnZSIsImNoZWNrQmFja2VuZENvbm5lY3Rpb24iLCJjb25uZWN0ZWQiLCJ1cGRhdGVEaW1lbnNpb25zIiwiY3VycmVudCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic2NyZWVuUGVyY2VudGFnZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJzY3JlZW4iLCJwcmV2IiwiaW5uZXJIZWlnaHQiLCJNYXRoIiwicm91bmQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxvZyIsInByZWZlcmVuY2VzIiwiY2FtZXJhU2V0dGluZ3MiLCJzaG93IiwidG9wQmFyIiwiZ2V0TWFpbkNhbnZhcyIsIndoaXRlU2NyZWVuQ2FudmFzIiwiZG9jdW1lbnQiLCJjYW52YXNFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIndhcm4iLCJpc0NsaWVudCIsImNhbnZhcyIsImNhbnZhc0RpbWVuc2lvbnMiLCJpbml0aWFsaXplQ2FudmFzIiwicGFyZW50IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzZXRUaW1lb3V0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRpbWVuc2lvbnMiLCJyZWN0U2l6ZSIsImlzVmlzaWJsZSIsImFkanVzdENhbnZhc0RpbWVuc2lvbnMiLCJjb250YWluZXIiLCJ0b3BCYXJIZWlnaHQiLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lckhlaWdodCIsInRvcEJhclZpc2libGUiLCJjYWxjdWxhdGVkSGVpZ2h0IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwidG9nZ2xlVG9wQmFyIiwidG9nZ2xlQ2FtZXJhIiwic2hvdWxkRW5hYmxlIiwiaGFuZGxlQWN0aW9uQnV0dG9uQ2xpY2siLCJhY3Rpb25UeXBlIiwicGFyYW1zIiwibmV3VG9wQmFyU3RhdGUiLCJ2YWx1ZSIsInNhZmVQYXJhbXMiLCJyYW5kb21UaW1lcyIsImRlbGF5U2Vjb25kcyIsImhhbmRsZVNldFJhbmRvbSIsImFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyIsInRpbWVJbnB1dCIsImRlbGF5SW5wdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGltZXMiLCJkZWxheSIsInBhcnNlZFRpbWUiLCJwYXJzZUludCIsImlzTmFOIiwicGFyc2VkRGVsYXkiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsImNvdW50U2F2ZU1vZHVsZSIsInNhdmVmaWxlTW9kdWxlIiwic3VjY2Vzc0NvdW50IiwiY3VycmVudENhcHR1cmUiLCJ4IiwieSIsInJlZHJhd0ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJyZXNvbHZlIiwic3RhdHVzIiwicHJvY2Vzc1N0YXR1cyIsImNsZWFySW50ZXJ2YWwiLCJjYXB0dXJlUmVzdWx0IiwicG9pbnQiLCJjYXB0dXJlQ291bnQiLCJzZXRDYXB0dXJlQ291bnQiLCJzY3JlZW5JbWFnZSIsInN1Y2Nlc3MiLCJjYXRjaCIsImhhbmRsZVJhbmRvbURvdCIsImRvdCIsIm5ld0hlYWRQb3NlU3RhdGUiLCJ2aWRlb1Byb2Nlc3NvciIsInVwZGF0ZU9wdGlvbnMiLCJvcHRpb25zIiwibmV3Qm91bmRpbmdCb3hTdGF0ZSIsIm5ld01hc2tTdGF0ZSIsIm5ld1BhcmFtZXRlcnNTdGF0ZSIsImhhbmRsZVNldENhbGlicmF0ZSIsImNhbGlicmF0ZVBvaW50c01vZHVsZSIsImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMiLCJwb2ludHMiLCJsZW5ndGgiLCJzdGF0dXNJbmRpY2F0b3IiLCJjbGFzc05hbWUiLCJjc3NUZXh0IiwiYm9keSIsInRyaWdnZXJDYW1lcmFBY2Nlc3MiLCJpIiwicGFyZW50Tm9kZSIsImhhbmRsZVBlcm1pc3Npb25BY2NlcHRlZCIsImhhbmRsZVBlcm1pc3Npb25EZW5pZWQiLCJoYW5kbGVDYW1lcmFDbG9zZSIsImhhbmRsZUNhbWVyYVJlYWR5IiwidW5kZWZpbmVkIiwidG9nZ2xlTWV0cmljcyIsImZvcmNlRW5hYmxlIiwic3RhcnRWaWRlb1Byb2Nlc3NpbmciLCJzaG93UHJvY2Vzc2VkSW1hZ2UiLCJnZXRTaXplQ2xhc3MiLCJoYW5kbGVTZXR0aW5nc1Zpc2liaWxpdHkiLCJoYW5kbGVTZXR0aW5nc01lc3NhZ2UiLCJldmVudCIsInR5cGUiLCJoYW5kbGVVc2VySWRDaGFuZ2UiLCJkZXRhaWwiLCJDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJsb2FkU2V0dGluZ3MiLCJsb2FkZWRTZXR0aW5ncyIsIndhaXRGb3JSZWYiLCJyZXRyaWVzIiwidXBkYXRlU2V0dGluZ3MiLCJmZXRjaFVwZGF0ZXMiLCJzZXR0aW5ncyIsImludGVydmFsIiwiaGFuZGxlU2V0dGluZ3NVcGRhdGUiLCJoYW5kbGVJbWFnZVVwZGF0ZSIsImltYWdlIiwidXNlclNldHRpbmdzIiwidGl0bGUiLCJtZXRhIiwibmFtZSIsImNvbnRlbnQiLCJwYWRkaW5nIiwiYm94U2hhZG93IiwiYW5pbWF0aW9uIiwic3Ryb25nIiwib25CdXR0b25DbGljayIsIm9uQ2FtZXJhQWNjZXNzIiwib25PdXRwdXRDaGFuZ2UiLCJ0ZXh0Iiwib25Ub2dnbGVUb3BCYXIiLCJvblRvZ2dsZU1ldHJpY3MiLCJyaWdodCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kIiwiY3Vyc29yIiwicmVmIiwibWFyZ2luVG9wIiwib3ZlcmZsb3ciLCJib3R0b20iLCJtYXhXaWR0aCIsImlzQ29tcGFjdE1vZGUiLCJvbkFjdGlvbkNsaWNrIiwibWFyZ2luIiwiaXNTaG93aW5nIiwib25DbG9zZSIsIm9uQ2FtZXJhUmVhZHkiLCJoMyIsImxpbmVIZWlnaHQiLCJnYXAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/index.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/camera.css":
/*!***************************************************!*\
  !*** ./pages/collected-dataset/styles/camera.css ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/control-buttons.css":
/*!************************************************************!*\
  !*** ./pages/collected-dataset/styles/control-buttons.css ***!
  \************************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/main.css":
/*!*************************************************!*\
  !*** ./pages/collected-dataset/styles/main.css ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/topbar.css":
/*!***************************************************!*\
  !*** ./pages/collected-dataset/styles/topbar.css ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./styles/Consent.module.css":
/*!***********************************!*\
  !*** ./styles/Consent.module.css ***!
  \***********************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"bannerContainer\": \"Consent_bannerContainer__ANUBL\",\n\t\"bannerContent\": \"Consent_bannerContent__ZkmhZ\",\n\t\"bannerText\": \"Consent_bannerText___ChrP\",\n\t\"bannerButtons\": \"Consent_bannerButtons___mgz1\",\n\t\"bannerButton\": \"Consent_bannerButton__4Fv1L\",\n\t\"acceptButton\": \"Consent_acceptButton__gRsOZ\",\n\t\"declineButton\": \"Consent_declineButton__hqZeL\",\n\t\"learnMoreButton\": \"Consent_learnMoreButton__67pMk\",\n\t\"preferencesContainer\": \"Consent_preferencesContainer__9BVAk\",\n\t\"preferencesTitle\": \"Consent_preferencesTitle__ooxt_\",\n\t\"formGroup\": \"Consent_formGroup__KFE4i\",\n\t\"formLabel\": \"Consent_formLabel__tTg3F\",\n\t\"formControl\": \"Consent_formControl__pNM3l\",\n\t\"formSwitch\": \"Consent_formSwitch__kVrWI\",\n\t\"formCheckbox\": \"Consent_formCheckbox__3369o\",\n\t\"submitButton\": \"Consent_submitButton__CZklY\",\n\t\"backButton\": \"Consent_backButton__eebzl\",\n\t\"mainContent\": \"Consent_mainContent__hwFgD\",\n\t\"withBanner\": \"Consent_withBanner__lotH_\",\n\t\"consentTable\": \"Consent_consentTable__a_fCs\",\n\t\"saveButton\": \"Consent_saveButton__p_FJM\",\n\t\"notification\": \"Consent_notification__4PYiV\",\n\t\"fadeInOut\": \"Consent_fadeInOut__ZEZGD\",\n\t\"notificationSuccess\": \"Consent_notificationSuccess__Mrtv4\",\n\t\"notificationError\": \"Consent_notificationError__xskoy\",\n\t\"section\": \"Consent_section__CJzTz\",\n\t\"actionButtons\": \"Consent_actionButtons__3N_zh\",\n\t\"deleteButton\": \"Consent_deleteButton__nrDLO\",\n\t\"confirmationDialog\": \"Consent_confirmationDialog__NtLa4\",\n\t\"confirmationContent\": \"Consent_confirmationContent__JG4X6\",\n\t\"confirmationButtons\": \"Consent_confirmationButtons__ixtJQ\",\n\t\"confirmButton\": \"Consent_confirmButton__vx9pM\",\n\t\"cancelButton\": \"Consent_cancelButton__dhe9_\",\n\t\"successMessage\": \"Consent_successMessage___PN6n\",\n\t\"errorMessage\": \"Consent_errorMessage__v6E0n\",\n\t\"numberInputContainer\": \"Consent_numberInputContainer__Irnir\",\n\t\"numberInput\": \"Consent_numberInput__RQMNt\",\n\t\"numberControls\": \"Consent_numberControls__MzUXF\",\n\t\"numberControl\": \"Consent_numberControl__4A3iz\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Db25zZW50Lm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvc3R5bGVzL0NvbnNlbnQubW9kdWxlLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJiYW5uZXJDb250YWluZXJcIjogXCJDb25zZW50X2Jhbm5lckNvbnRhaW5lcl9fQU5VQkxcIixcblx0XCJiYW5uZXJDb250ZW50XCI6IFwiQ29uc2VudF9iYW5uZXJDb250ZW50X19aa21oWlwiLFxuXHRcImJhbm5lclRleHRcIjogXCJDb25zZW50X2Jhbm5lclRleHRfX19DaHJQXCIsXG5cdFwiYmFubmVyQnV0dG9uc1wiOiBcIkNvbnNlbnRfYmFubmVyQnV0dG9uc19fX21nejFcIixcblx0XCJiYW5uZXJCdXR0b25cIjogXCJDb25zZW50X2Jhbm5lckJ1dHRvbl9fNEZ2MUxcIixcblx0XCJhY2NlcHRCdXR0b25cIjogXCJDb25zZW50X2FjY2VwdEJ1dHRvbl9fZ1JzT1pcIixcblx0XCJkZWNsaW5lQnV0dG9uXCI6IFwiQ29uc2VudF9kZWNsaW5lQnV0dG9uX19ocVplTFwiLFxuXHRcImxlYXJuTW9yZUJ1dHRvblwiOiBcIkNvbnNlbnRfbGVhcm5Nb3JlQnV0dG9uX182N3BNa1wiLFxuXHRcInByZWZlcmVuY2VzQ29udGFpbmVyXCI6IFwiQ29uc2VudF9wcmVmZXJlbmNlc0NvbnRhaW5lcl9fOUJWQWtcIixcblx0XCJwcmVmZXJlbmNlc1RpdGxlXCI6IFwiQ29uc2VudF9wcmVmZXJlbmNlc1RpdGxlX19vb3h0X1wiLFxuXHRcImZvcm1Hcm91cFwiOiBcIkNvbnNlbnRfZm9ybUdyb3VwX19LRkU0aVwiLFxuXHRcImZvcm1MYWJlbFwiOiBcIkNvbnNlbnRfZm9ybUxhYmVsX190VGczRlwiLFxuXHRcImZvcm1Db250cm9sXCI6IFwiQ29uc2VudF9mb3JtQ29udHJvbF9fcE5NM2xcIixcblx0XCJmb3JtU3dpdGNoXCI6IFwiQ29uc2VudF9mb3JtU3dpdGNoX19rVnJXSVwiLFxuXHRcImZvcm1DaGVja2JveFwiOiBcIkNvbnNlbnRfZm9ybUNoZWNrYm94X18zMzY5b1wiLFxuXHRcInN1Ym1pdEJ1dHRvblwiOiBcIkNvbnNlbnRfc3VibWl0QnV0dG9uX19DWmtsWVwiLFxuXHRcImJhY2tCdXR0b25cIjogXCJDb25zZW50X2JhY2tCdXR0b25fX2VlYnpsXCIsXG5cdFwibWFpbkNvbnRlbnRcIjogXCJDb25zZW50X21haW5Db250ZW50X19od0ZnRFwiLFxuXHRcIndpdGhCYW5uZXJcIjogXCJDb25zZW50X3dpdGhCYW5uZXJfX2xvdEhfXCIsXG5cdFwiY29uc2VudFRhYmxlXCI6IFwiQ29uc2VudF9jb25zZW50VGFibGVfX2FfZkNzXCIsXG5cdFwic2F2ZUJ1dHRvblwiOiBcIkNvbnNlbnRfc2F2ZUJ1dHRvbl9fcF9GSk1cIixcblx0XCJub3RpZmljYXRpb25cIjogXCJDb25zZW50X25vdGlmaWNhdGlvbl9fNFBZaVZcIixcblx0XCJmYWRlSW5PdXRcIjogXCJDb25zZW50X2ZhZGVJbk91dF9fWkVaR0RcIixcblx0XCJub3RpZmljYXRpb25TdWNjZXNzXCI6IFwiQ29uc2VudF9ub3RpZmljYXRpb25TdWNjZXNzX19NcnR2NFwiLFxuXHRcIm5vdGlmaWNhdGlvbkVycm9yXCI6IFwiQ29uc2VudF9ub3RpZmljYXRpb25FcnJvcl9feHNrb3lcIixcblx0XCJzZWN0aW9uXCI6IFwiQ29uc2VudF9zZWN0aW9uX19DSnpUelwiLFxuXHRcImFjdGlvbkJ1dHRvbnNcIjogXCJDb25zZW50X2FjdGlvbkJ1dHRvbnNfXzNOX3poXCIsXG5cdFwiZGVsZXRlQnV0dG9uXCI6IFwiQ29uc2VudF9kZWxldGVCdXR0b25fX25yRExPXCIsXG5cdFwiY29uZmlybWF0aW9uRGlhbG9nXCI6IFwiQ29uc2VudF9jb25maXJtYXRpb25EaWFsb2dfX050TGE0XCIsXG5cdFwiY29uZmlybWF0aW9uQ29udGVudFwiOiBcIkNvbnNlbnRfY29uZmlybWF0aW9uQ29udGVudF9fSkc0WDZcIixcblx0XCJjb25maXJtYXRpb25CdXR0b25zXCI6IFwiQ29uc2VudF9jb25maXJtYXRpb25CdXR0b25zX19peHRKUVwiLFxuXHRcImNvbmZpcm1CdXR0b25cIjogXCJDb25zZW50X2NvbmZpcm1CdXR0b25fX3Z4OXBNXCIsXG5cdFwiY2FuY2VsQnV0dG9uXCI6IFwiQ29uc2VudF9jYW5jZWxCdXR0b25fX2RoZTlfXCIsXG5cdFwic3VjY2Vzc01lc3NhZ2VcIjogXCJDb25zZW50X3N1Y2Nlc3NNZXNzYWdlX19fUE42blwiLFxuXHRcImVycm9yTWVzc2FnZVwiOiBcIkNvbnNlbnRfZXJyb3JNZXNzYWdlX192NkUwblwiLFxuXHRcIm51bWJlcklucHV0Q29udGFpbmVyXCI6IFwiQ29uc2VudF9udW1iZXJJbnB1dENvbnRhaW5lcl9fSXJuaXJcIixcblx0XCJudW1iZXJJbnB1dFwiOiBcIkNvbnNlbnRfbnVtYmVySW5wdXRfX1JRTU50XCIsXG5cdFwibnVtYmVyQ29udHJvbHNcIjogXCJDb25zZW50X251bWJlckNvbnRyb2xzX19NelVYRlwiLFxuXHRcIm51bWJlckNvbnRyb2xcIjogXCJDb25zZW50X251bWJlckNvbnRyb2xfXzRBM2l6XCJcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/Consent.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/Home.module.css":
/*!********************************!*\
  !*** ./styles/Home.module.css ***!
  \********************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"container\": \"Home_container__d256j\",\n\t\"main\": \"Home_main__VkIEL\",\n\t\"footer\": \"Home_footer__yFiaX\",\n\t\"footerLink\": \"Home_footerLink__201sb\",\n\t\"title\": \"Home_title__hYX6j\",\n\t\"description\": \"Home_description__uXNdx\",\n\t\"uploaderContainer\": \"Home_uploaderContainer__uJ_r1\",\n\t\"buttonGrid\": \"Home_buttonGrid__6YmSF\",\n\t\"menuButton\": \"Home_menuButton__x35GK\",\n\t\"buttonRow\": \"Home_buttonRow__Nrj5f\",\n\t\"backButton\": \"Home_backButton__kEp3f\",\n\t\"centerButtonContainer\": \"Home_centerButtonContainer__0xoFG\",\n\t\"largerButton\": \"Home_largerButton__oA5AX\",\n\t\"readyButton\": \"Home_readyButton__Anf7z\",\n\t\"notReadyButton\": \"Home_notReadyButton___QovH\",\n\t\"statusText\": \"Home_statusText__E0bns\",\n\t\"statusToggleButton\": \"Home_statusToggleButton__uKFNS\",\n\t\"statusDisplay\": \"Home_statusDisplay__3g6BC\",\n\t\"dummyControls\": \"Home_dummyControls__omnHy\",\n\t\"processingButton\": \"Home_processingButton__y_sZA\",\n\t\"buttonContainer\": \"Home_buttonContainer__nOVuY\",\n\t\"button\": \"Home_button__G93Ef\",\n\t\"buttonEnabled\": \"Home_buttonEnabled__9tuN2\",\n\t\"buttonDisabled\": \"Home_buttonDisabled__g7Nm8\",\n\t\"buttonOverlay\": \"Home_buttonOverlay__ZIOY0\",\n\t\"overlayIcon\": \"Home_overlayIcon__Nbtir\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Ib21lLm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3N0eWxlcy9Ib21lLm1vZHVsZS5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY29udGFpbmVyXCI6IFwiSG9tZV9jb250YWluZXJfX2QyNTZqXCIsXG5cdFwibWFpblwiOiBcIkhvbWVfbWFpbl9fVmtJRUxcIixcblx0XCJmb290ZXJcIjogXCJIb21lX2Zvb3Rlcl9feUZpYVhcIixcblx0XCJmb290ZXJMaW5rXCI6IFwiSG9tZV9mb290ZXJMaW5rX18yMDFzYlwiLFxuXHRcInRpdGxlXCI6IFwiSG9tZV90aXRsZV9faFlYNmpcIixcblx0XCJkZXNjcmlwdGlvblwiOiBcIkhvbWVfZGVzY3JpcHRpb25fX3VYTmR4XCIsXG5cdFwidXBsb2FkZXJDb250YWluZXJcIjogXCJIb21lX3VwbG9hZGVyQ29udGFpbmVyX191Sl9yMVwiLFxuXHRcImJ1dHRvbkdyaWRcIjogXCJIb21lX2J1dHRvbkdyaWRfXzZZbVNGXCIsXG5cdFwibWVudUJ1dHRvblwiOiBcIkhvbWVfbWVudUJ1dHRvbl9feDM1R0tcIixcblx0XCJidXR0b25Sb3dcIjogXCJIb21lX2J1dHRvblJvd19fTnJqNWZcIixcblx0XCJiYWNrQnV0dG9uXCI6IFwiSG9tZV9iYWNrQnV0dG9uX19rRXAzZlwiLFxuXHRcImNlbnRlckJ1dHRvbkNvbnRhaW5lclwiOiBcIkhvbWVfY2VudGVyQnV0dG9uQ29udGFpbmVyX18weG9GR1wiLFxuXHRcImxhcmdlckJ1dHRvblwiOiBcIkhvbWVfbGFyZ2VyQnV0dG9uX19vQTVBWFwiLFxuXHRcInJlYWR5QnV0dG9uXCI6IFwiSG9tZV9yZWFkeUJ1dHRvbl9fQW5mN3pcIixcblx0XCJub3RSZWFkeUJ1dHRvblwiOiBcIkhvbWVfbm90UmVhZHlCdXR0b25fX19Rb3ZIXCIsXG5cdFwic3RhdHVzVGV4dFwiOiBcIkhvbWVfc3RhdHVzVGV4dF9fRTBibnNcIixcblx0XCJzdGF0dXNUb2dnbGVCdXR0b25cIjogXCJIb21lX3N0YXR1c1RvZ2dsZUJ1dHRvbl9fdUtGTlNcIixcblx0XCJzdGF0dXNEaXNwbGF5XCI6IFwiSG9tZV9zdGF0dXNEaXNwbGF5X18zZzZCQ1wiLFxuXHRcImR1bW15Q29udHJvbHNcIjogXCJIb21lX2R1bW15Q29udHJvbHNfX29tbkh5XCIsXG5cdFwicHJvY2Vzc2luZ0J1dHRvblwiOiBcIkhvbWVfcHJvY2Vzc2luZ0J1dHRvbl9feV9zWkFcIixcblx0XCJidXR0b25Db250YWluZXJcIjogXCJIb21lX2J1dHRvbkNvbnRhaW5lcl9fbk9WdVlcIixcblx0XCJidXR0b25cIjogXCJIb21lX2J1dHRvbl9fRzkzRWZcIixcblx0XCJidXR0b25FbmFibGVkXCI6IFwiSG9tZV9idXR0b25FbmFibGVkX185dHVOMlwiLFxuXHRcImJ1dHRvbkRpc2FibGVkXCI6IFwiSG9tZV9idXR0b25EaXNhYmxlZF9fZzdObThcIixcblx0XCJidXR0b25PdmVybGF5XCI6IFwiSG9tZV9idXR0b25PdmVybGF5X19aSU9ZMFwiLFxuXHRcIm92ZXJsYXlJY29uXCI6IFwiSG9tZV9vdmVybGF5SWNvbl9fTmJ0aXJcIlxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/Home.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/UserProfile.module.css":
/*!***************************************!*\
  !*** ./styles/UserProfile.module.css ***!
  \***************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"toggleButton\": \"UserProfile_toggleButton__Tnos2\",\n\t\"sidebar\": \"UserProfile_sidebar__a8wTF\",\n\t\"open\": \"UserProfile_open__kVXoU\",\n\t\"profileHeader\": \"UserProfile_profileHeader__zrwIz\",\n\t\"closeButton\": \"UserProfile_closeButton__YCOaY\",\n\t\"statusSection\": \"UserProfile_statusSection__oVQ9C\",\n\t\"statusItem\": \"UserProfile_statusItem__NoI4f\",\n\t\"statusLabel\": \"UserProfile_statusLabel__GuWBi\",\n\t\"statusValue\": \"UserProfile_statusValue__n4plT\",\n\t\"statusActive\": \"UserProfile_statusActive__yLwQj\",\n\t\"statusInactive\": \"UserProfile_statusInactive__XuqTw\",\n\t\"profileForm\": \"UserProfile_profileForm__Px_Sv\",\n\t\"formGroup\": \"UserProfile_formGroup__yLTt1\",\n\t\"saveButton\": \"UserProfile_saveButton__1numi\",\n\t\"settingsPanel\": \"UserProfile_settingsPanel__UElU_\",\n\t\"settingsHeader\": \"UserProfile_settingsHeader__aTjSG\",\n\t\"backButton\": \"UserProfile_backButton__AsyBi\",\n\t\"settingsContent\": \"UserProfile_settingsContent__G9QI8\",\n\t\"settingsSection\": \"UserProfile_settingsSection__PbnVn\",\n\t\"settingItem\": \"UserProfile_settingItem__NOQaH\",\n\t\"numberInput\": \"UserProfile_numberInput__Qaa7n\",\n\t\"fileInput\": \"UserProfile_fileInput__RRPEK\",\n\t\"zoomControls\": \"UserProfile_zoomControls__qr35c\",\n\t\"zoomButton\": \"UserProfile_zoomButton__7NIJV\",\n\t\"zoomInput\": \"UserProfile_zoomInput__W3_rg\",\n\t\"zoomPercent\": \"UserProfile_zoomPercent__rLEYS\",\n\t\"settingsSubScroll\": \"UserProfile_settingsSubScroll__KNAm6\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Vc2VyUHJvZmlsZS5tb2R1bGUuY3NzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3N0eWxlcy9Vc2VyUHJvZmlsZS5tb2R1bGUuY3NzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInRvZ2dsZUJ1dHRvblwiOiBcIlVzZXJQcm9maWxlX3RvZ2dsZUJ1dHRvbl9fVG5vczJcIixcblx0XCJzaWRlYmFyXCI6IFwiVXNlclByb2ZpbGVfc2lkZWJhcl9fYTh3VEZcIixcblx0XCJvcGVuXCI6IFwiVXNlclByb2ZpbGVfb3Blbl9fa1ZYb1VcIixcblx0XCJwcm9maWxlSGVhZGVyXCI6IFwiVXNlclByb2ZpbGVfcHJvZmlsZUhlYWRlcl9fenJ3SXpcIixcblx0XCJjbG9zZUJ1dHRvblwiOiBcIlVzZXJQcm9maWxlX2Nsb3NlQnV0dG9uX19ZQ09hWVwiLFxuXHRcInN0YXR1c1NlY3Rpb25cIjogXCJVc2VyUHJvZmlsZV9zdGF0dXNTZWN0aW9uX19vVlE5Q1wiLFxuXHRcInN0YXR1c0l0ZW1cIjogXCJVc2VyUHJvZmlsZV9zdGF0dXNJdGVtX19Ob0k0ZlwiLFxuXHRcInN0YXR1c0xhYmVsXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzTGFiZWxfX0d1V0JpXCIsXG5cdFwic3RhdHVzVmFsdWVcIjogXCJVc2VyUHJvZmlsZV9zdGF0dXNWYWx1ZV9fbjRwbFRcIixcblx0XCJzdGF0dXNBY3RpdmVcIjogXCJVc2VyUHJvZmlsZV9zdGF0dXNBY3RpdmVfX3lMd1FqXCIsXG5cdFwic3RhdHVzSW5hY3RpdmVcIjogXCJVc2VyUHJvZmlsZV9zdGF0dXNJbmFjdGl2ZV9fWHVxVHdcIixcblx0XCJwcm9maWxlRm9ybVwiOiBcIlVzZXJQcm9maWxlX3Byb2ZpbGVGb3JtX19QeF9TdlwiLFxuXHRcImZvcm1Hcm91cFwiOiBcIlVzZXJQcm9maWxlX2Zvcm1Hcm91cF9feUxUdDFcIixcblx0XCJzYXZlQnV0dG9uXCI6IFwiVXNlclByb2ZpbGVfc2F2ZUJ1dHRvbl9fMW51bWlcIixcblx0XCJzZXR0aW5nc1BhbmVsXCI6IFwiVXNlclByb2ZpbGVfc2V0dGluZ3NQYW5lbF9fVUVsVV9cIixcblx0XCJzZXR0aW5nc0hlYWRlclwiOiBcIlVzZXJQcm9maWxlX3NldHRpbmdzSGVhZGVyX19hVGpTR1wiLFxuXHRcImJhY2tCdXR0b25cIjogXCJVc2VyUHJvZmlsZV9iYWNrQnV0dG9uX19Bc3lCaVwiLFxuXHRcInNldHRpbmdzQ29udGVudFwiOiBcIlVzZXJQcm9maWxlX3NldHRpbmdzQ29udGVudF9fRzlRSThcIixcblx0XCJzZXR0aW5nc1NlY3Rpb25cIjogXCJVc2VyUHJvZmlsZV9zZXR0aW5nc1NlY3Rpb25fX1BiblZuXCIsXG5cdFwic2V0dGluZ0l0ZW1cIjogXCJVc2VyUHJvZmlsZV9zZXR0aW5nSXRlbV9fTk9RYUhcIixcblx0XCJudW1iZXJJbnB1dFwiOiBcIlVzZXJQcm9maWxlX251bWJlcklucHV0X19RYWE3blwiLFxuXHRcImZpbGVJbnB1dFwiOiBcIlVzZXJQcm9maWxlX2ZpbGVJbnB1dF9fUlJQRUtcIixcblx0XCJ6b29tQ29udHJvbHNcIjogXCJVc2VyUHJvZmlsZV96b29tQ29udHJvbHNfX3FyMzVjXCIsXG5cdFwiem9vbUJ1dHRvblwiOiBcIlVzZXJQcm9maWxlX3pvb21CdXR0b25fXzdOSUpWXCIsXG5cdFwiem9vbUlucHV0XCI6IFwiVXNlclByb2ZpbGVfem9vbUlucHV0X19XM19yZ1wiLFxuXHRcInpvb21QZXJjZW50XCI6IFwiVXNlclByb2ZpbGVfem9vbVBlcmNlbnRfX3JMRVlTXCIsXG5cdFwic2V0dGluZ3NTdWJTY3JvbGxcIjogXCJVc2VyUHJvZmlsZV9zZXR0aW5nc1N1YlNjcm9sbF9fS05BbTZcIlxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/UserProfile.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/consentManager.js":
/*!*********************************!*\
  !*** ./utils/consentManager.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserConsent: () => (/* binding */ clearUserConsent),\n/* harmony export */   getOrCreateUserId: () => (/* binding */ getOrCreateUserId),\n/* harmony export */   getUserConsent: () => (/* binding */ getUserConsent),\n/* harmony export */   getUserPreferences: () => (/* binding */ getUserPreferences),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   isProfileComplete: () => (/* binding */ isProfileComplete),\n/* harmony export */   resetConsentBanner: () => (/* binding */ resetConsentBanner),\n/* harmony export */   updateUserConsent: () => (/* binding */ updateUserConsent),\n/* harmony export */   updateUserPreferences: () => (/* binding */ updateUserPreferences),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-cookie */ \"js-cookie\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_0__, js_cookie__WEBPACK_IMPORTED_MODULE_1__]);\n([uuid__WEBPACK_IMPORTED_MODULE_0__, js_cookie__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/utils/consentManager.js\n\n\nconst CONSENT_COOKIE = 'eye_tracking_consent';\nconst CONSENT_DETAILS_COOKIE = 'consent_details';\nconst USER_PROFILE_COOKIE = 'user_profile';\nconst USER_PREFERENCES_COOKIE = 'user_preferences';\n// Cookie options that work for both localhost and IP addresses\nconst COOKIE_OPTIONS = {\n    expires: 365,\n    path: '/',\n    sameSite: 'Lax'\n};\n// Get or create a user ID\nconst getOrCreateUserId = ()=>{\n    try {\n        const storedConsent = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_COOKIE);\n        const storedDetails = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_DETAILS_COOKIE);\n        if (storedConsent && storedDetails) {\n            const details = JSON.parse(storedDetails);\n            return details.userId;\n        }\n        // Generate new user ID if none exists\n        const newUserId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();\n        return newUserId;\n    } catch (error) {\n        console.error('Error getting/creating user ID:', error);\n        return (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();\n    }\n};\n// Get user profile\nconst getUserProfile = ()=>{\n    try {\n        const profileStr = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(USER_PROFILE_COOKIE);\n        if (profileStr) {\n            return JSON.parse(profileStr);\n        }\n        return null;\n    } catch (error) {\n        console.error('Error reading user profile:', error);\n        return null;\n    }\n};\n// Update user profile\nconst updateUserProfile = async (profileData)=>{\n    try {\n        // Save to cookies\n        const currentProfile = getUserProfile() || {};\n        const updatedProfile = {\n            ...currentProfile,\n            ...profileData,\n            updatedAt: new Date().toISOString()\n        };\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(USER_PROFILE_COOKIE, JSON.stringify(updatedProfile), COOKIE_OPTIONS);\n        // Save to backend (MongoDB)\n        try {\n            const userId = getOrCreateUserId();\n            const response = await fetch('/api/user-preferences', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    user_id: userId,\n                    preferences: updatedProfile\n                })\n            });\n            if (!response.ok) {\n                console.warn('Failed to save profile to backend');\n                return null;\n            }\n            // Check if profile is complete (has username and sex)\n            const isComplete = updatedProfile.username && updatedProfile.sex;\n            // Store profile completion status in session storage\n            if (isComplete) {\n                sessionStorage.setItem('profileComplete', 'true');\n                sessionStorage.setItem('userId', userId);\n            }\n            return {\n                ...updatedProfile,\n                isComplete\n            };\n        } catch (saveError) {\n            console.warn('Error saving profile to backend:', saveError);\n            return null;\n        }\n    } catch (error) {\n        console.error('Error updating user profile:', error);\n        throw error;\n    }\n};\n// Check if profile is complete\nconst isProfileComplete = ()=>{\n    try {\n        // First check session storage\n        const sessionComplete = sessionStorage.getItem('profileComplete');\n        if (sessionComplete === 'true') {\n            return true;\n        }\n        // Then check cookies\n        const profile = getUserProfile();\n        return profile && profile.username && profile.sex;\n    } catch (error) {\n        console.error('Error checking profile completion:', error);\n        return false;\n    }\n};\n// Get user preferences\nconst getUserPreferences = ()=>{\n    try {\n        const preferencesStr = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(USER_PREFERENCES_COOKIE);\n        if (preferencesStr) {\n            return JSON.parse(preferencesStr);\n        }\n        return null;\n    } catch (error) {\n        console.error('Error reading user preferences:', error);\n        return null;\n    }\n};\n// Update user preferences\nconst updateUserPreferences = (preferencesData)=>{\n    try {\n        const currentPreferences = getUserPreferences() || {};\n        const updatedPreferences = {\n            ...currentPreferences,\n            ...preferencesData,\n            updatedAt: new Date().toISOString()\n        };\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(USER_PREFERENCES_COOKIE, JSON.stringify(updatedPreferences), COOKIE_OPTIONS);\n        return updatedPreferences;\n    } catch (error) {\n        console.error('Error updating user preferences:', error);\n        return null;\n    }\n};\n// Get user consent from cookies\nconst getUserConsent = ()=>{\n    try {\n        const storedConsent = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_COOKIE);\n        const storedDetails = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_DETAILS_COOKIE);\n        if (storedConsent && storedDetails) {\n            const details = JSON.parse(storedDetails);\n            return {\n                userId: details.userId,\n                consentStatus: storedConsent === 'true',\n                consentUpdatedAt: details.timestamp,\n                consentDetails: details\n            };\n        }\n        return {\n            userId: null,\n            consentStatus: null,\n            consentUpdatedAt: null,\n            consentDetails: null\n        };\n    } catch (error) {\n        console.error('Error reading consent from cookies:', error);\n        return {\n            userId: null,\n            consentStatus: null,\n            consentUpdatedAt: null,\n            consentDetails: null\n        };\n    }\n};\n// Update user consent in cookies\nconst updateUserConsent = async (status, details = {})=>{\n    try {\n        // Get or create user ID\n        const userId = details.userId || getOrCreateUserId();\n        // Create consent data object\n        const consentData = {\n            userId,\n            status,\n            timestamp: new Date().toISOString(),\n            ...details\n        };\n        // Save to cookies\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(CONSENT_COOKIE, status.toString(), COOKIE_OPTIONS);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(CONSENT_DETAILS_COOKIE, JSON.stringify(consentData), COOKIE_OPTIONS);\n        // Send consent data to admin\n        try {\n            const response = await fetch('/api/admin/consent-data', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(consentData)\n            });\n            if (!response.ok) {\n                console.warn('Failed to send consent data to admin');\n            }\n        } catch (error) {\n            console.warn('Error sending consent data to admin:', error);\n        }\n        return {\n            userId,\n            consentStatus: status,\n            consentUpdatedAt: consentData.timestamp,\n            consentDetails: consentData\n        };\n    } catch (error) {\n        console.error('Error updating user consent:', error);\n        throw error;\n    }\n};\n// Clear user consent\nconst clearUserConsent = ()=>{\n    try {\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_COOKIE, COOKIE_OPTIONS);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_DETAILS_COOKIE, COOKIE_OPTIONS);\n        return true;\n    } catch (error) {\n        console.error('Error clearing user consent:', error);\n        return false;\n    }\n};\n// Reset consent banner\nconst resetConsentBanner = ()=>{\n    try {\n        clearUserConsent();\n        return true;\n    } catch (error) {\n        console.error('Error resetting consent banner:', error);\n        return false;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3V0aWxzL2NvbnNlbnRNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFtQztBQUNDO0FBQ0o7QUFFaEMsTUFBTUcsaUJBQWlCO0FBQ3ZCLE1BQU1DLHlCQUF5QjtBQUMvQixNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMsMEJBQTBCO0FBRWhDLCtEQUErRDtBQUMvRCxNQUFNQyxpQkFBaUI7SUFDckJDLFNBQVM7SUFDVEMsTUFBTTtJQUNOQyxVQUFVO0FBQ1o7QUFFQSwwQkFBMEI7QUFDbkIsTUFBTUMsb0JBQW9CO0lBQy9CLElBQUk7UUFDRixNQUFNQyxnQkFBZ0JWLHFEQUFXLENBQUNDO1FBQ2xDLE1BQU1XLGdCQUFnQloscURBQVcsQ0FBQ0U7UUFFbEMsSUFBSVEsaUJBQWlCRSxlQUFlO1lBQ2xDLE1BQU1DLFVBQVVDLEtBQUtDLEtBQUssQ0FBQ0g7WUFDM0IsT0FBT0MsUUFBUUcsTUFBTTtRQUN2QjtRQUVBLHNDQUFzQztRQUN0QyxNQUFNQyxZQUFZbEIsd0NBQU1BO1FBQ3hCLE9BQU9rQjtJQUNULEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPbkIsd0NBQU1BO0lBQ2Y7QUFDRixFQUFFO0FBRUYsbUJBQW1CO0FBQ1osTUFBTXFCLGlCQUFpQjtJQUM1QixJQUFJO1FBQ0YsTUFBTUMsYUFBYXJCLHFEQUFXLENBQUNHO1FBQy9CLElBQUlrQixZQUFZO1lBQ2QsT0FBT1AsS0FBS0MsS0FBSyxDQUFDTTtRQUNwQjtRQUNBLE9BQU87SUFDVCxFQUFFLE9BQU9ILE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLHNCQUFzQjtBQUNmLE1BQU1JLG9CQUFvQixPQUFPQztJQUN0QyxJQUFJO1FBQ0Ysa0JBQWtCO1FBQ2xCLE1BQU1DLGlCQUFpQkosb0JBQW9CLENBQUM7UUFD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U0FBUztZQUN2Q0MsZ0JBQWdCRztRQUNsQjtJQUNGLEVBQUUsT0FBTzdDLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRixxQkFBcUI7QUFDZCxNQUFNK0MsbUJBQW1CO0lBQzlCLElBQUk7UUFDRmpFLHdEQUFjLENBQUNDLGdCQUFnQkk7UUFDL0JMLHdEQUFjLENBQUNFLHdCQUF3Qkc7UUFDdkMsT0FBTztJQUNULEVBQUUsT0FBT2EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUYsdUJBQXVCO0FBQ2hCLE1BQU1pRCxxQkFBcUI7SUFDaEMsSUFBSTtRQUNGRjtRQUNBLE9BQU87SUFDVCxFQUFFLE9BQU8vQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU87SUFDVDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC91dGlscy9jb25zZW50TWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmcm9udGVuZC91dGlscy9jb25zZW50TWFuYWdlci5qc1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xuXG5jb25zdCBDT05TRU5UX0NPT0tJRSA9ICdleWVfdHJhY2tpbmdfY29uc2VudCc7XG5jb25zdCBDT05TRU5UX0RFVEFJTFNfQ09PS0lFID0gJ2NvbnNlbnRfZGV0YWlscyc7XG5jb25zdCBVU0VSX1BST0ZJTEVfQ09PS0lFID0gJ3VzZXJfcHJvZmlsZSc7XG5jb25zdCBVU0VSX1BSRUZFUkVOQ0VTX0NPT0tJRSA9ICd1c2VyX3ByZWZlcmVuY2VzJztcblxuLy8gQ29va2llIG9wdGlvbnMgdGhhdCB3b3JrIGZvciBib3RoIGxvY2FsaG9zdCBhbmQgSVAgYWRkcmVzc2VzXG5jb25zdCBDT09LSUVfT1BUSU9OUyA9IHtcbiAgZXhwaXJlczogMzY1LFxuICBwYXRoOiAnLycsXG4gIHNhbWVTaXRlOiAnTGF4J1xufTtcblxuLy8gR2V0IG9yIGNyZWF0ZSBhIHVzZXIgSURcbmV4cG9ydCBjb25zdCBnZXRPckNyZWF0ZVVzZXJJZCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdG9yZWRDb25zZW50ID0gQ29va2llcy5nZXQoQ09OU0VOVF9DT09LSUUpO1xuICAgIGNvbnN0IHN0b3JlZERldGFpbHMgPSBDb29raWVzLmdldChDT05TRU5UX0RFVEFJTFNfQ09PS0lFKTtcbiAgICBcbiAgICBpZiAoc3RvcmVkQ29uc2VudCAmJiBzdG9yZWREZXRhaWxzKSB7XG4gICAgICBjb25zdCBkZXRhaWxzID0gSlNPTi5wYXJzZShzdG9yZWREZXRhaWxzKTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnVzZXJJZDtcbiAgICB9XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgbmV3IHVzZXIgSUQgaWYgbm9uZSBleGlzdHNcbiAgICBjb25zdCBuZXdVc2VySWQgPSB1dWlkdjQoKTtcbiAgICByZXR1cm4gbmV3VXNlcklkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcvY3JlYXRpbmcgdXNlciBJRDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHV1aWR2NCgpO1xuICB9XG59O1xuXG4vLyBHZXQgdXNlciBwcm9maWxlXG5leHBvcnQgY29uc3QgZ2V0VXNlclByb2ZpbGUgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvZmlsZVN0ciA9IENvb2tpZXMuZ2V0KFVTRVJfUFJPRklMRV9DT09LSUUpO1xuICAgIGlmIChwcm9maWxlU3RyKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShwcm9maWxlU3RyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyB1c2VyIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vLyBVcGRhdGUgdXNlciBwcm9maWxlXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGUgPSBhc3luYyAocHJvZmlsZURhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBTYXZlIHRvIGNvb2tpZXNcbiAgICBjb25zdCBjdXJyZW50UHJvZmlsZSA9IGdldFVzZXJQcm9maWxlKCkgfHwge307XG4gICAgY29uc3QgdXBkYXRlZFByb2ZpbGUgPSB7XG4gICAgICAuLi5jdXJyZW50UHJvZmlsZSxcbiAgICAgIC4uLnByb2ZpbGVEYXRhLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIENvb2tpZXMuc2V0KFVTRVJfUFJPRklMRV9DT09LSUUsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9maWxlKSwgQ09PS0lFX09QVElPTlMpO1xuXG4gICAgLy8gU2F2ZSB0byBiYWNrZW5kIChNb25nb0RCKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VySWQgPSBnZXRPckNyZWF0ZVVzZXJJZCgpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS91c2VyLXByZWZlcmVuY2VzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgcHJlZmVyZW5jZXM6IHVwZGF0ZWRQcm9maWxlXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIHByb2ZpbGUgdG8gYmFja2VuZCcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgcHJvZmlsZSBpcyBjb21wbGV0ZSAoaGFzIHVzZXJuYW1lIGFuZCBzZXgpXG4gICAgICBjb25zdCBpc0NvbXBsZXRlID0gdXBkYXRlZFByb2ZpbGUudXNlcm5hbWUgJiYgdXBkYXRlZFByb2ZpbGUuc2V4O1xuICAgICAgXG4gICAgICAvLyBTdG9yZSBwcm9maWxlIGNvbXBsZXRpb24gc3RhdHVzIGluIHNlc3Npb24gc3RvcmFnZVxuICAgICAgaWYgKGlzQ29tcGxldGUpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncHJvZmlsZUNvbXBsZXRlJywgJ3RydWUnKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgdXNlcklkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udXBkYXRlZFByb2ZpbGUsXG4gICAgICAgIGlzQ29tcGxldGVcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoc2F2ZUVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHNhdmluZyBwcm9maWxlIHRvIGJhY2tlbmQ6Jywgc2F2ZUVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBDaGVjayBpZiBwcm9maWxlIGlzIGNvbXBsZXRlXG5leHBvcnQgY29uc3QgaXNQcm9maWxlQ29tcGxldGUgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gRmlyc3QgY2hlY2sgc2Vzc2lvbiBzdG9yYWdlXG4gICAgY29uc3Qgc2Vzc2lvbkNvbXBsZXRlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncHJvZmlsZUNvbXBsZXRlJyk7XG4gICAgaWYgKHNlc3Npb25Db21wbGV0ZSA9PT0gJ3RydWUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIGNoZWNrIGNvb2tpZXNcbiAgICBjb25zdCBwcm9maWxlID0gZ2V0VXNlclByb2ZpbGUoKTtcbiAgICByZXR1cm4gcHJvZmlsZSAmJiBwcm9maWxlLnVzZXJuYW1lICYmIHByb2ZpbGUuc2V4O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHByb2ZpbGUgY29tcGxldGlvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBHZXQgdXNlciBwcmVmZXJlbmNlc1xuZXhwb3J0IGNvbnN0IGdldFVzZXJQcmVmZXJlbmNlcyA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlc1N0ciA9IENvb2tpZXMuZ2V0KFVTRVJfUFJFRkVSRU5DRVNfQ09PS0lFKTtcbiAgICBpZiAocHJlZmVyZW5jZXNTdHIpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHByZWZlcmVuY2VzU3RyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyB1c2VyIHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuLy8gVXBkYXRlIHVzZXIgcHJlZmVyZW5jZXNcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyUHJlZmVyZW5jZXMgPSAocHJlZmVyZW5jZXNEYXRhKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY3VycmVudFByZWZlcmVuY2VzID0gZ2V0VXNlclByZWZlcmVuY2VzKCkgfHwge307XG4gICAgY29uc3QgdXBkYXRlZFByZWZlcmVuY2VzID0ge1xuICAgICAgLi4uY3VycmVudFByZWZlcmVuY2VzLFxuICAgICAgLi4ucHJlZmVyZW5jZXNEYXRhLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIENvb2tpZXMuc2V0KFVTRVJfUFJFRkVSRU5DRVNfQ09PS0lFLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkUHJlZmVyZW5jZXMpLCBDT09LSUVfT1BUSU9OUyk7XG4gICAgcmV0dXJuIHVwZGF0ZWRQcmVmZXJlbmNlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuLy8gR2V0IHVzZXIgY29uc2VudCBmcm9tIGNvb2tpZXNcbmV4cG9ydCBjb25zdCBnZXRVc2VyQ29uc2VudCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdG9yZWRDb25zZW50ID0gQ29va2llcy5nZXQoQ09OU0VOVF9DT09LSUUpO1xuICAgIGNvbnN0IHN0b3JlZERldGFpbHMgPSBDb29raWVzLmdldChDT05TRU5UX0RFVEFJTFNfQ09PS0lFKTtcbiAgICBcbiAgICBpZiAoc3RvcmVkQ29uc2VudCAmJiBzdG9yZWREZXRhaWxzKSB7XG4gICAgICBjb25zdCBkZXRhaWxzID0gSlNPTi5wYXJzZShzdG9yZWREZXRhaWxzKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJJZDogZGV0YWlscy51c2VySWQsXG4gICAgICAgIGNvbnNlbnRTdGF0dXM6IHN0b3JlZENvbnNlbnQgPT09ICd0cnVlJyxcbiAgICAgICAgY29uc2VudFVwZGF0ZWRBdDogZGV0YWlscy50aW1lc3RhbXAsXG4gICAgICAgIGNvbnNlbnREZXRhaWxzOiBkZXRhaWxzXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdXNlcklkOiBudWxsLFxuICAgICAgY29uc2VudFN0YXR1czogbnVsbCxcbiAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IG51bGwsXG4gICAgICBjb25zZW50RGV0YWlsczogbnVsbFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBjb25zZW50IGZyb20gY29va2llczonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJJZDogbnVsbCxcbiAgICAgIGNvbnNlbnRTdGF0dXM6IG51bGwsXG4gICAgICBjb25zZW50VXBkYXRlZEF0OiBudWxsLFxuICAgICAgY29uc2VudERldGFpbHM6IG51bGxcbiAgICB9O1xuICB9XG59O1xuXG4vLyBVcGRhdGUgdXNlciBjb25zZW50IGluIGNvb2tpZXNcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyQ29uc2VudCA9IGFzeW5jIChzdGF0dXMsIGRldGFpbHMgPSB7fSkgPT4ge1xuICB0cnkge1xuICAgIC8vIEdldCBvciBjcmVhdGUgdXNlciBJRFxuICAgIGNvbnN0IHVzZXJJZCA9IGRldGFpbHMudXNlcklkIHx8IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGNvbnNlbnQgZGF0YSBvYmplY3RcbiAgICBjb25zdCBjb25zZW50RGF0YSA9IHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIHN0YXR1cyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgLi4uZGV0YWlsc1xuICAgIH07XG4gICAgXG4gICAgLy8gU2F2ZSB0byBjb29raWVzXG4gICAgQ29va2llcy5zZXQoQ09OU0VOVF9DT09LSUUsIHN0YXR1cy50b1N0cmluZygpLCBDT09LSUVfT1BUSU9OUyk7XG4gICAgQ29va2llcy5zZXQoQ09OU0VOVF9ERVRBSUxTX0NPT0tJRSwgSlNPTi5zdHJpbmdpZnkoY29uc2VudERhdGEpLCBDT09LSUVfT1BUSU9OUyk7XG4gICAgXG4gICAgLy8gU2VuZCBjb25zZW50IGRhdGEgdG8gYWRtaW5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9jb25zZW50LWRhdGEnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY29uc2VudERhdGEpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzZW5kIGNvbnNlbnQgZGF0YSB0byBhZG1pbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHNlbmRpbmcgY29uc2VudCBkYXRhIHRvIGFkbWluOicsIGVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIGNvbnNlbnRTdGF0dXM6IHN0YXR1cyxcbiAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IGNvbnNlbnREYXRhLnRpbWVzdGFtcCxcbiAgICAgIGNvbnNlbnREZXRhaWxzOiBjb25zZW50RGF0YVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBjb25zZW50OicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gQ2xlYXIgdXNlciBjb25zZW50XG5leHBvcnQgY29uc3QgY2xlYXJVc2VyQ29uc2VudCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBDb29raWVzLnJlbW92ZShDT05TRU5UX0NPT0tJRSwgQ09PS0lFX09QVElPTlMpO1xuICAgIENvb2tpZXMucmVtb3ZlKENPTlNFTlRfREVUQUlMU19DT09LSUUsIENPT0tJRV9PUFRJT05TKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyB1c2VyIGNvbnNlbnQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gUmVzZXQgY29uc2VudCBiYW5uZXJcbmV4cG9ydCBjb25zdCByZXNldENvbnNlbnRCYW5uZXIgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY2xlYXJVc2VyQ29uc2VudCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc2V0dGluZyBjb25zZW50IGJhbm5lcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59OyJdLCJuYW1lcyI6WyJ2NCIsInV1aWR2NCIsIkNvb2tpZXMiLCJDT05TRU5UX0NPT0tJRSIsIkNPTlNFTlRfREVUQUlMU19DT09LSUUiLCJVU0VSX1BST0ZJTEVfQ09PS0lFIiwiVVNFUl9QUkVGRVJFTkNFU19DT09LSUUiLCJDT09LSUVfT1BUSU9OUyIsImV4cGlyZXMiLCJwYXRoIiwic2FtZVNpdGUiLCJnZXRPckNyZWF0ZVVzZXJJZCIsInN0b3JlZENvbnNlbnQiLCJnZXQiLCJzdG9yZWREZXRhaWxzIiwiZGV0YWlscyIsIkpTT04iLCJwYXJzZSIsInVzZXJJZCIsIm5ld1VzZXJJZCIsImVycm9yIiwiY29uc29sZSIsImdldFVzZXJQcm9maWxlIiwicHJvZmlsZVN0ciIsInVwZGF0ZVVzZXJQcm9maWxlIiwicHJvZmlsZURhdGEiLCJjdXJyZW50UHJvZmlsZSIsInVwZGF0ZWRQcm9maWxlIiwidXBkYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2V0Iiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwidXNlcl9pZCIsInByZWZlcmVuY2VzIiwib2siLCJ3YXJuIiwiaXNDb21wbGV0ZSIsInVzZXJuYW1lIiwic2V4Iiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwic2F2ZUVycm9yIiwiaXNQcm9maWxlQ29tcGxldGUiLCJzZXNzaW9uQ29tcGxldGUiLCJnZXRJdGVtIiwicHJvZmlsZSIsImdldFVzZXJQcmVmZXJlbmNlcyIsInByZWZlcmVuY2VzU3RyIiwidXBkYXRlVXNlclByZWZlcmVuY2VzIiwicHJlZmVyZW5jZXNEYXRhIiwiY3VycmVudFByZWZlcmVuY2VzIiwidXBkYXRlZFByZWZlcmVuY2VzIiwiZ2V0VXNlckNvbnNlbnQiLCJjb25zZW50U3RhdHVzIiwiY29uc2VudFVwZGF0ZWRBdCIsInRpbWVzdGFtcCIsImNvbnNlbnREZXRhaWxzIiwidXBkYXRlVXNlckNvbnNlbnQiLCJzdGF0dXMiLCJjb25zZW50RGF0YSIsInRvU3RyaW5nIiwiY2xlYXJVc2VyQ29uc2VudCIsInJlbW92ZSIsInJlc2V0Q29uc2VudEJhbm5lciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/consentManager.js\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/stateManager.js":
/*!*******************************!*\
  !*** ./utils/stateManager.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppStateProvider: () => (/* binding */ AppStateProvider),\n/* harmony export */   BackendConnectionProvider: () => (/* binding */ BackendConnectionProvider),\n/* harmony export */   ProcessStatusProvider: () => (/* binding */ ProcessStatusProvider),\n/* harmony export */   useBackendConnection: () => (/* binding */ useBackendConnection),\n/* harmony export */   useProcessStatus: () => (/* binding */ useProcessStatus)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Create a context for the process status\nconst ProcessStatusContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Create a context for the backend connection status\nconst BackendConnectionContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Time constants (in milliseconds)\nconst CONNECTION_CHECK_INTERVAL = 30000; // 30 seconds\nconst CONNECTION_CHECK_TIMEOUT = 5000; // 5 seconds\n// Create a provider component for process status\nfunction ProcessStatusProvider({ children }) {\n    // This state will determine if the process is ready (true) or not (false)\n    const [isProcessReady, setIsProcessReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Add a flag to prevent automatic updates\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Function to toggle the state\n    const toggleProcessStatus = ()=>{\n        const newStatus = !isProcessReady;\n        setIsProcessReady(newStatus);\n        // Save to localStorage when explicitly toggled\n        localStorage.setItem('processStatus', String(newStatus));\n    };\n    // Function to set the status directly\n    const setProcessStatus = (status)=>{\n        setIsProcessReady(status);\n        // Save to localStorage when explicitly set\n        localStorage.setItem('processStatus', String(status));\n    };\n    // Only load from localStorage on initial mount, don't auto-save on every render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ProcessStatusProvider.useEffect\": ()=>{\n            // Only run this once on component mount\n            if (!isInitialized) {\n                const storedValue = localStorage.getItem('processStatus');\n                if (storedValue !== null) {\n                    setIsProcessReady(storedValue === 'true');\n                }\n                setIsInitialized(true);\n            }\n        }\n    }[\"ProcessStatusProvider.useEffect\"], [\n        isInitialized\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProcessStatusContext.Provider, {\n        value: {\n            isProcessReady,\n            toggleProcessStatus,\n            setProcessStatus\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n        lineNumber: 48,\n        columnNumber: 5\n    }, this);\n}\n// Create a provider component for backend connection\nfunction BackendConnectionProvider({ children }) {\n    const [connectionState, setConnectionState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isConnected: false,\n        authValid: false,\n        isChecking: false,\n        lastChecked: null,\n        serverInfo: {},\n        error: null\n    });\n    const [checkTimer, setCheckTimer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Function to check backend connection\n    const checkConnection = async (force = false)=>{\n        // Prevent frequent checks unless forced\n        if (connectionState.isChecking || !force && connectionState.lastChecked && Date.now() - connectionState.lastChecked < 5000) {\n            return;\n        }\n        // Update checking state\n        setConnectionState((prev)=>({\n                ...prev,\n                isChecking: true,\n                error: null\n            }));\n        try {\n            console.log(\"Checking backend connection...\");\n            const response = await fetch('/api/check-backend-connection');\n            if (!response.ok) {\n                throw new Error(`HTTP error! Status: ${response.status}`);\n            }\n            const data = await response.json();\n            console.log(\"Backend connection response:\", data);\n            setConnectionState({\n                isConnected: data.connected,\n                authValid: data.authValid || false,\n                isChecking: false,\n                lastChecked: Date.now(),\n                serverInfo: data.serverInfo || {},\n                error: null\n            });\n        } catch (err) {\n            console.error(\"Backend connection check failed:\", err);\n            setConnectionState((prev)=>({\n                    ...prev,\n                    isConnected: false,\n                    authValid: false,\n                    isChecking: false,\n                    lastChecked: Date.now(),\n                    error: err.message || \"Failed to connect to backend\"\n                }));\n        }\n    };\n    // Initial connection check on mount and set up periodic checks\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            // Check immediately on first load\n            checkConnection(true);\n            // Set up periodic checks\n            const intervalId = setInterval({\n                \"BackendConnectionProvider.useEffect.intervalId\": ()=>{\n                    checkConnection();\n                }\n            }[\"BackendConnectionProvider.useEffect.intervalId\"], CONNECTION_CHECK_INTERVAL);\n            // Clean up on unmount\n            return ({\n                \"BackendConnectionProvider.useEffect\": ()=>{\n                    clearInterval(intervalId);\n                    if (checkTimer) clearTimeout(checkTimer);\n                }\n            })[\"BackendConnectionProvider.useEffect\"];\n        }\n    }[\"BackendConnectionProvider.useEffect\"], []);\n    // Auto-reconnect when disconnected\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            if (!connectionState.isConnected && !connectionState.isChecking && !checkTimer) {\n                // Wait 5 seconds before retrying\n                const timer = setTimeout({\n                    \"BackendConnectionProvider.useEffect.timer\": ()=>{\n                        checkConnection(true);\n                        setCheckTimer(null);\n                    }\n                }[\"BackendConnectionProvider.useEffect.timer\"], 5000);\n                setCheckTimer(timer);\n                return ({\n                    \"BackendConnectionProvider.useEffect\": ()=>clearTimeout(timer)\n                })[\"BackendConnectionProvider.useEffect\"];\n            }\n        }\n    }[\"BackendConnectionProvider.useEffect\"], [\n        connectionState.isConnected,\n        connectionState.isChecking\n    ]);\n    // Check connection when tab becomes visible again\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            const handleVisibilityChange = {\n                \"BackendConnectionProvider.useEffect.handleVisibilityChange\": ()=>{\n                    if (document.visibilityState === 'visible' && (!connectionState.lastChecked || Date.now() - connectionState.lastChecked > CONNECTION_CHECK_INTERVAL)) {\n                        checkConnection();\n                    }\n                }\n            }[\"BackendConnectionProvider.useEffect.handleVisibilityChange\"];\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            return ({\n                \"BackendConnectionProvider.useEffect\": ()=>{\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                }\n            })[\"BackendConnectionProvider.useEffect\"];\n        }\n    }[\"BackendConnectionProvider.useEffect\"], [\n        connectionState.lastChecked\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BackendConnectionContext.Provider, {\n        value: {\n            ...connectionState,\n            checkConnection\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n        lineNumber: 165,\n        columnNumber: 5\n    }, this);\n}\n// Combined provider for convenience\nfunction AppStateProvider({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProcessStatusProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BackendConnectionProvider, {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n        lineNumber: 179,\n        columnNumber: 5\n    }, this);\n}\n// Create custom hooks to use the contexts\nfunction useProcessStatus() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ProcessStatusContext);\n    if (context === undefined) {\n        throw new Error('useProcessStatus must be used within a ProcessStatusProvider');\n    }\n    return context;\n}\nfunction useBackendConnection() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(BackendConnectionContext);\n    if (context === undefined) {\n        throw new Error('useBackendConnection must be used within a BackendConnectionProvider');\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUIsU0FBU0UsZ0JBQWdCLENBQUMsb0JBQW9CSDtZQUU5Qzt1REFBTztvQkFDTEMsU0FBU0csbUJBQW1CLENBQUMsb0JBQW9CSjtnQkFDbkQ7O1FBQ0Y7OENBQUc7UUFBQ2hDLGdCQUFnQkssV0FBVztLQUFDO0lBRWhDLHFCQUNFLDhEQUFDMUIseUJBQXlCa0IsUUFBUTtRQUNoQ0MsT0FBTztZQUNMLEdBQUdFLGVBQWU7WUFDbEJVO1FBQ0Y7a0JBRUMzQjs7Ozs7O0FBR1A7QUFFQSxvQ0FBb0M7QUFDN0IsU0FBU3NELGlCQUFpQixFQUFFdEQsUUFBUSxFQUFFO0lBQzNDLHFCQUNFLDhEQUFDRDtrQkFDQyw0RUFBQ2lCO3NCQUNFaEI7Ozs7Ozs7Ozs7O0FBSVQ7QUFFQSwwQ0FBMEM7QUFDbkMsU0FBU3VEO0lBQ2QsTUFBTUMsVUFBVS9ELGlEQUFVQSxDQUFDRTtJQUMzQixJQUFJNkQsWUFBWUMsV0FBVztRQUN6QixNQUFNLElBQUlwQixNQUFNO0lBQ2xCO0lBQ0EsT0FBT21CO0FBQ1Q7QUFFTyxTQUFTRTtJQUNkLE1BQU1GLFVBQVUvRCxpREFBVUEsQ0FBQ0c7SUFDM0IsSUFBSTRELFlBQVlDLFdBQVc7UUFDekIsTUFBTSxJQUFJcEIsTUFBTTtJQUNsQjtJQUNBLE9BQU9tQjtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvdXRpbHMvc3RhdGVNYW5hZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbi8vIENyZWF0ZSBhIGNvbnRleHQgZm9yIHRoZSBwcm9jZXNzIHN0YXR1c1xuY29uc3QgUHJvY2Vzc1N0YXR1c0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbi8vIENyZWF0ZSBhIGNvbnRleHQgZm9yIHRoZSBiYWNrZW5kIGNvbm5lY3Rpb24gc3RhdHVzXG5jb25zdCBCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbi8vIFRpbWUgY29uc3RhbnRzIChpbiBtaWxsaXNlY29uZHMpXG5jb25zdCBDT05ORUNUSU9OX0NIRUNLX0lOVEVSVkFMID0gMzAwMDA7IC8vIDMwIHNlY29uZHNcbmNvbnN0IENPTk5FQ1RJT05fQ0hFQ0tfVElNRU9VVCA9IDUwMDA7ICAgLy8gNSBzZWNvbmRzXG5cbi8vIENyZWF0ZSBhIHByb3ZpZGVyIGNvbXBvbmVudCBmb3IgcHJvY2VzcyBzdGF0dXNcbmV4cG9ydCBmdW5jdGlvbiBQcm9jZXNzU3RhdHVzUHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gIC8vIFRoaXMgc3RhdGUgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIHByb2Nlc3MgaXMgcmVhZHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXG4gIGNvbnN0IFtpc1Byb2Nlc3NSZWFkeSwgc2V0SXNQcm9jZXNzUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBBZGQgYSBmbGFnIHRvIHByZXZlbnQgYXV0b21hdGljIHVwZGF0ZXNcbiAgY29uc3QgW2lzSW5pdGlhbGl6ZWQsIHNldElzSW5pdGlhbGl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHRvZ2dsZSB0aGUgc3RhdGVcbiAgY29uc3QgdG9nZ2xlUHJvY2Vzc1N0YXR1cyA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdTdGF0dXMgPSAhaXNQcm9jZXNzUmVhZHk7XG4gICAgc2V0SXNQcm9jZXNzUmVhZHkobmV3U3RhdHVzKTtcbiAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZSB3aGVuIGV4cGxpY2l0bHkgdG9nZ2xlZFxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9jZXNzU3RhdHVzJywgU3RyaW5nKG5ld1N0YXR1cykpO1xuICB9O1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gc2V0IHRoZSBzdGF0dXMgZGlyZWN0bHlcbiAgY29uc3Qgc2V0UHJvY2Vzc1N0YXR1cyA9IChzdGF0dXMpID0+IHtcbiAgICBzZXRJc1Byb2Nlc3NSZWFkeShzdGF0dXMpO1xuICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIHdoZW4gZXhwbGljaXRseSBzZXRcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvY2Vzc1N0YXR1cycsIFN0cmluZyhzdGF0dXMpKTtcbiAgfTtcblxuICAvLyBPbmx5IGxvYWQgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gaW5pdGlhbCBtb3VudCwgZG9uJ3QgYXV0by1zYXZlIG9uIGV2ZXJ5IHJlbmRlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgcnVuIHRoaXMgb25jZSBvbiBjb21wb25lbnQgbW91bnRcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGNvbnN0IHN0b3JlZFZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2Nlc3NTdGF0dXMnKTtcbiAgICAgIGlmIChzdG9yZWRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBzZXRJc1Byb2Nlc3NSZWFkeShzdG9yZWRWYWx1ZSA9PT0gJ3RydWUnKTtcbiAgICAgIH1cbiAgICAgIHNldElzSW5pdGlhbGl6ZWQodHJ1ZSk7XG4gICAgfVxuICB9LCBbaXNJbml0aWFsaXplZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPFByb2Nlc3NTdGF0dXNDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGlzUHJvY2Vzc1JlYWR5LCB0b2dnbGVQcm9jZXNzU3RhdHVzLCBzZXRQcm9jZXNzU3RhdHVzIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvUHJvY2Vzc1N0YXR1c0NvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbi8vIENyZWF0ZSBhIHByb3ZpZGVyIGNvbXBvbmVudCBmb3IgYmFja2VuZCBjb25uZWN0aW9uXG5leHBvcnQgZnVuY3Rpb24gQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgW2Nvbm5lY3Rpb25TdGF0ZSwgc2V0Q29ubmVjdGlvblN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgYXV0aFZhbGlkOiBmYWxzZSxcbiAgICBpc0NoZWNraW5nOiBmYWxzZSxcbiAgICBsYXN0Q2hlY2tlZDogbnVsbCxcbiAgICBzZXJ2ZXJJbmZvOiB7fSxcbiAgICBlcnJvcjogbnVsbFxuICB9KTtcbiAgY29uc3QgW2NoZWNrVGltZXIsIHNldENoZWNrVGltZXJdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgYmFja2VuZCBjb25uZWN0aW9uXG4gIGNvbnN0IGNoZWNrQ29ubmVjdGlvbiA9IGFzeW5jIChmb3JjZSA9IGZhbHNlKSA9PiB7XG4gICAgLy8gUHJldmVudCBmcmVxdWVudCBjaGVja3MgdW5sZXNzIGZvcmNlZFxuICAgIGlmIChjb25uZWN0aW9uU3RhdGUuaXNDaGVja2luZyB8fCBcbiAgICAgICAgKCFmb3JjZSAmJiBcbiAgICAgICAgIGNvbm5lY3Rpb25TdGF0ZS5sYXN0Q2hlY2tlZCAmJiBcbiAgICAgICAgIERhdGUubm93KCkgLSBjb25uZWN0aW9uU3RhdGUubGFzdENoZWNrZWQgPCA1MDAwKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBjaGVja2luZyBzdGF0ZVxuICAgIHNldENvbm5lY3Rpb25TdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgaXNDaGVja2luZzogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfSkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2hlY2tpbmcgYmFja2VuZCBjb25uZWN0aW9uLi4uXCIpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jaGVjay1iYWNrZW5kLWNvbm5lY3Rpb24nKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkJhY2tlbmQgY29ubmVjdGlvbiByZXNwb25zZTpcIiwgZGF0YSk7XG4gICAgICBcbiAgICAgIHNldENvbm5lY3Rpb25TdGF0ZSh7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBkYXRhLmNvbm5lY3RlZCxcbiAgICAgICAgYXV0aFZhbGlkOiBkYXRhLmF1dGhWYWxpZCB8fCBmYWxzZSxcbiAgICAgICAgaXNDaGVja2luZzogZmFsc2UsXG4gICAgICAgIGxhc3RDaGVja2VkOiBEYXRlLm5vdygpLFxuICAgICAgICBzZXJ2ZXJJbmZvOiBkYXRhLnNlcnZlckluZm8gfHwge30sXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJCYWNrZW5kIGNvbm5lY3Rpb24gY2hlY2sgZmFpbGVkOlwiLCBlcnIpO1xuICAgICAgXG4gICAgICBzZXRDb25uZWN0aW9uU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGF1dGhWYWxpZDogZmFsc2UsXG4gICAgICAgIGlzQ2hlY2tpbmc6IGZhbHNlLFxuICAgICAgICBsYXN0Q2hlY2tlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gYmFja2VuZFwiXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEluaXRpYWwgY29ubmVjdGlvbiBjaGVjayBvbiBtb3VudCBhbmQgc2V0IHVwIHBlcmlvZGljIGNoZWNrc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoZWNrIGltbWVkaWF0ZWx5IG9uIGZpcnN0IGxvYWRcbiAgICBjaGVja0Nvbm5lY3Rpb24odHJ1ZSk7XG4gICAgXG4gICAgLy8gU2V0IHVwIHBlcmlvZGljIGNoZWNrc1xuICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjaGVja0Nvbm5lY3Rpb24oKTtcbiAgICB9LCBDT05ORUNUSU9OX0NIRUNLX0lOVEVSVkFMKTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cCBvbiB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICBpZiAoY2hlY2tUaW1lcikgY2xlYXJUaW1lb3V0KGNoZWNrVGltZXIpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBBdXRvLXJlY29ubmVjdCB3aGVuIGRpc2Nvbm5lY3RlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY29ubmVjdGlvblN0YXRlLmlzQ29ubmVjdGVkICYmICFjb25uZWN0aW9uU3RhdGUuaXNDaGVja2luZyAmJiAhY2hlY2tUaW1lcikge1xuICAgICAgLy8gV2FpdCA1IHNlY29uZHMgYmVmb3JlIHJldHJ5aW5nXG4gICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjaGVja0Nvbm5lY3Rpb24odHJ1ZSk7XG4gICAgICAgIHNldENoZWNrVGltZXIobnVsbCk7XG4gICAgICB9LCA1MDAwKTtcbiAgICAgIFxuICAgICAgc2V0Q2hlY2tUaW1lcih0aW1lcik7XG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gIH0sIFtjb25uZWN0aW9uU3RhdGUuaXNDb25uZWN0ZWQsIGNvbm5lY3Rpb25TdGF0ZS5pc0NoZWNraW5nXSk7XG5cbiAgLy8gQ2hlY2sgY29ubmVjdGlvbiB3aGVuIHRhYiBiZWNvbWVzIHZpc2libGUgYWdhaW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnICYmIFxuICAgICAgICAgICghY29ubmVjdGlvblN0YXRlLmxhc3RDaGVja2VkIHx8IFxuICAgICAgICAgICBEYXRlLm5vdygpIC0gY29ubmVjdGlvblN0YXRlLmxhc3RDaGVja2VkID4gQ09OTkVDVElPTl9DSEVDS19JTlRFUlZBTCkpIHtcbiAgICAgICAgY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtjb25uZWN0aW9uU3RhdGUubGFzdENoZWNrZWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIC4uLmNvbm5lY3Rpb25TdGF0ZSxcbiAgICAgICAgY2hlY2tDb25uZWN0aW9uXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0JhY2tlbmRDb25uZWN0aW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuLy8gQ29tYmluZWQgcHJvdmlkZXIgZm9yIGNvbnZlbmllbmNlXG5leHBvcnQgZnVuY3Rpb24gQXBwU3RhdGVQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8UHJvY2Vzc1N0YXR1c1Byb3ZpZGVyPlxuICAgICAgPEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlcj5cbiAgICA8L1Byb2Nlc3NTdGF0dXNQcm92aWRlcj5cbiAgKTtcbn1cblxuLy8gQ3JlYXRlIGN1c3RvbSBob29rcyB0byB1c2UgdGhlIGNvbnRleHRzXG5leHBvcnQgZnVuY3Rpb24gdXNlUHJvY2Vzc1N0YXR1cygpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoUHJvY2Vzc1N0YXR1c0NvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VQcm9jZXNzU3RhdHVzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBQcm9jZXNzU3RhdHVzUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUJhY2tlbmRDb25uZWN0aW9uKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VCYWNrZW5kQ29ubmVjdGlvbiBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufSJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwiUHJvY2Vzc1N0YXR1c0NvbnRleHQiLCJCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQiLCJDT05ORUNUSU9OX0NIRUNLX0lOVEVSVkFMIiwiQ09OTkVDVElPTl9DSEVDS19USU1FT1VUIiwiUHJvY2Vzc1N0YXR1c1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJpc1Byb2Nlc3NSZWFkeSIsInNldElzUHJvY2Vzc1JlYWR5IiwiaXNJbml0aWFsaXplZCIsInNldElzSW5pdGlhbGl6ZWQiLCJ0b2dnbGVQcm9jZXNzU3RhdHVzIiwibmV3U3RhdHVzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIlN0cmluZyIsInNldFByb2Nlc3NTdGF0dXMiLCJzdGF0dXMiLCJzdG9yZWRWYWx1ZSIsImdldEl0ZW0iLCJQcm92aWRlciIsInZhbHVlIiwiQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlciIsImNvbm5lY3Rpb25TdGF0ZSIsInNldENvbm5lY3Rpb25TdGF0ZSIsImlzQ29ubmVjdGVkIiwiYXV0aFZhbGlkIiwiaXNDaGVja2luZyIsImxhc3RDaGVja2VkIiwic2VydmVySW5mbyIsImVycm9yIiwiY2hlY2tUaW1lciIsInNldENoZWNrVGltZXIiLCJjaGVja0Nvbm5lY3Rpb24iLCJmb3JjZSIsIkRhdGUiLCJub3ciLCJwcmV2IiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJlcnIiLCJtZXNzYWdlIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsInRpbWVyIiwic2V0VGltZW91dCIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJkb2N1bWVudCIsInZpc2liaWxpdHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQXBwU3RhdGVQcm92aWRlciIsInVzZVByb2Nlc3NTdGF0dXMiLCJjb250ZXh0IiwidW5kZWZpbmVkIiwidXNlQmFja2VuZENvbm5lY3Rpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/stateManager.js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "js-cookie":
/*!****************************!*\
  !*** external "js-cookie" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = import("js-cookie");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "styled-jsx/style":
/*!***********************************!*\
  !*** external "styled-jsx/style" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("styled-jsx/style");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
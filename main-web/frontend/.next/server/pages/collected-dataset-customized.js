/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/collected-dataset-customized";
exports.ids = ["pages/collected-dataset-customized"];
exports.modules = {

/***/ "(pages-dir-node)/./components/UserProfileSidebar.js":
/*!******************************************!*\
  !*** ./components/UserProfileSidebar.js ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UserProfileSidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/UserProfile.module.css */ \"(pages-dir-node)/./styles/UserProfile.module.css\");\n/* harmony import */ var _styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\n/* harmony import */ var _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\n/* harmony import */ var _utils_stateManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/stateManager */ \"(pages-dir-node)/./utils/stateManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_consentManager__WEBPACK_IMPORTED_MODULE_4__, _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__]);\n([_utils_consentManager__WEBPACK_IMPORTED_MODULE_4__, _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nfunction UserProfileSidebar() {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [profile, setProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        username: '',\n        sex: '',\n        age: '',\n        image_background: '',\n        preferences: {}\n    });\n    const [statusMessage, setStatusMessageLocal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // Get consent and backend status\n    const { userId, consentStatus } = (0,_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__.useConsent)();\n    const { isConnected, authValid } = (0,_utils_stateManager__WEBPACK_IMPORTED_MODULE_6__.useBackendConnection)();\n    // Load profile data when component mounts or consent changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            const loadProfile = {\n                \"UserProfileSidebar.useEffect.loadProfile\": ()=>{\n                    const savedProfile = (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_4__.getUserProfile)();\n                    if (savedProfile) {\n                        setProfile(savedProfile);\n                    }\n                }\n            }[\"UserProfileSidebar.useEffect.loadProfile\"];\n            loadProfile();\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        consentStatus\n    ]);\n    // Reset sidebar state when route changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserProfileSidebar.useEffect\": ()=>{\n            setIsOpen(false);\n        }\n    }[\"UserProfileSidebar.useEffect\"], [\n        router.pathname\n    ]);\n    const handleInputChange = (e)=>{\n        const { name, value } = e.target;\n        setProfile((prev)=>({\n                ...prev,\n                [name]: value\n            }));\n    };\n    const handleSave = ()=>{\n        try {\n            (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_4__.updateUserProfile)(profile);\n            setIsOpen(false);\n        } catch (error) {\n            console.error('Error saving profile:', error);\n        }\n    };\n    const updateStatusMessage = (message)=>{\n        if (setStatusMessage) {\n            setStatusMessage(message);\n        }\n        setStatusMessageLocal(message);\n    };\n    // Don't render anything if consent is not accepted\n    if (!consentStatus) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: 'fixed',\n            bottom: '20px',\n            right: '20px',\n            zIndex: 100\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().toggleButton),\n                onClick: ()=>setIsOpen(!isOpen),\n                style: {\n                    zIndex: 100,\n                    position: 'fixed',\n                    bottom: '20px',\n                    right: '20px',\n                    backgroundColor: '#0d6efd',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    fontSize: '20px',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyItems: 'center',\n                    boxShadow: '0 2px 5px rgba(0, 0, 0, 0.2)'\n                },\n                children: isOpen ? '×' : '☰'\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                lineNumber: 71,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().sidebar)} ${isOpen ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().open) : ''}`,\n                style: {\n                    zIndex: 49,\n                    position: 'fixed',\n                    top: 0,\n                    right: isOpen ? '0' : '-400px',\n                    width: '400px',\n                    height: '100vh',\n                    background: 'white',\n                    boxShadow: '-2px 0 5px rgba(0, 0, 0, 0.1)',\n                    transition: 'right 0.3s ease',\n                    overflowY: 'auto'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().profileHeader),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"User Profile\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 112,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().closeButton),\n                                onClick: ()=>setIsOpen(false),\n                                children: \"\\xd7\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 113,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                        lineNumber: 111,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusSection),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"User ID:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 124,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue),\n                                        children: userId || 'Not set'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 125,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 123,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Consent Status:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 128,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${consentStatus ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: consentStatus === null ? 'Not set' : consentStatus ? 'Accepted' : 'Declined'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 129,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 127,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Backend Status:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 134,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${isConnected ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: isConnected ? 'Connected' : 'Disconnected'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 135,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 133,\n                                columnNumber: 11\n                            }, this),\n                            isConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusItem),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusLabel),\n                                        children: \"Authentication:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 141,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `${(_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusValue)} ${authValid ? (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusActive) : (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().statusInactive)}`,\n                                        children: authValid ? 'Valid' : 'Invalid'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 142,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 140,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                        lineNumber: 122,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().profileForm),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"username\",\n                                        children: \"Username\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 151,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        id: \"username\",\n                                        name: \"username\",\n                                        value: profile.username,\n                                        onChange: handleInputChange\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 152,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 150,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"sex\",\n                                        children: \"Sex\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 162,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        id: \"sex\",\n                                        name: \"sex\",\n                                        value: profile.sex,\n                                        onChange: handleInputChange,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"\",\n                                                children: \"Select\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 169,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"male\",\n                                                children: \"Male\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 170,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"female\",\n                                                children: \"Female\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 171,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"other\",\n                                                children: \"Other\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                                lineNumber: 172,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 163,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 161,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"age\",\n                                        children: \"Age\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 177,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        id: \"age\",\n                                        name: \"age\",\n                                        value: profile.age,\n                                        onChange: handleInputChange,\n                                        min: \"1\",\n                                        max: \"120\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 178,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 176,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().formGroup),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"image_background\",\n                                        children: \"Background Image URL\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 190,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        id: \"image_background\",\n                                        name: \"image_background\",\n                                        value: profile.image_background,\n                                        onChange: handleInputChange,\n                                        placeholder: \"Enter image URL\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                        lineNumber: 191,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 189,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: (_styles_UserProfile_module_css__WEBPACK_IMPORTED_MODULE_3___default().saveButton),\n                                onClick: handleSave,\n                                children: \"Save Profile\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                                lineNumber: 201,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                        lineNumber: 149,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n                lineNumber: 96,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/UserProfileSidebar.js\",\n        lineNumber: 70,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvVXNlclByb2ZpbGVTaWRlYmFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDSjtBQUNjO0FBQ3NCO0FBQ3RCO0FBQ087QUFFOUMsU0FBU1E7SUFDdEIsTUFBTUMsU0FBU1Asc0RBQVNBO0lBQ3hCLE1BQU0sQ0FBQ1EsUUFBUUMsVUFBVSxHQUFHWCwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNZLFNBQVNDLFdBQVcsR0FBR2IsK0NBQVFBLENBQUM7UUFDckNjLFVBQVU7UUFDVkMsS0FBSztRQUNMQyxLQUFLO1FBQ0xDLGtCQUFrQjtRQUNsQkMsYUFBYSxDQUFDO0lBQ2hCO0lBQ0EsTUFBTSxDQUFDQyxlQUFlQyxzQkFBc0IsR0FBR3BCLCtDQUFRQSxDQUFDO0lBRXhELGlDQUFpQztJQUNqQyxNQUFNLEVBQUVxQixNQUFNLEVBQUVDLGFBQWEsRUFBRSxHQUFHaEIsbUVBQVVBO0lBQzVDLE1BQU0sRUFBRWlCLFdBQVcsRUFBRUMsU0FBUyxFQUFFLEdBQUdqQix5RUFBb0JBO0lBRXZELDZEQUE2RDtJQUM3RE4sZ0RBQVNBO3dDQUFDO1lBQ1IsTUFBTXdCOzREQUFjO29CQUNsQixNQUFNQyxlQUFldEIscUVBQWNBO29CQUNuQyxJQUFJc0IsY0FBYzt3QkFDaEJiLFdBQVdhO29CQUNiO2dCQUNGOztZQUNBRDtRQUNGO3VDQUFHO1FBQUNIO0tBQWM7SUFFbEIseUNBQXlDO0lBQ3pDckIsZ0RBQVNBO3dDQUFDO1lBQ1JVLFVBQVU7UUFDWjt1Q0FBRztRQUFDRixPQUFPa0IsUUFBUTtLQUFDO0lBRXBCLE1BQU1DLG9CQUFvQixDQUFDQztRQUN6QixNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUdGLEVBQUVHLE1BQU07UUFDaENuQixXQUFXb0IsQ0FBQUEsT0FBUztnQkFDbEIsR0FBR0EsSUFBSTtnQkFDUCxDQUFDSCxLQUFLLEVBQUVDO1lBQ1Y7SUFDRjtJQUVBLE1B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d0NBQ0h0RCxNQUFLO3dDQUNMQyxPQUFPbkIsUUFBUUssZ0JBQWdCO3dDQUMvQm9FLFVBQVV6RDt3Q0FDVjhELGFBQVk7Ozs7Ozs7Ozs7OzswQ0FJaEIsOERBQUM1QztnQ0FDQ0MsV0FBVzVDLGtGQUFpQjtnQ0FDNUI4QyxTQUFTZjswQ0FDVjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT1giLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9jb21wb25lbnRzL1VzZXJQcm9maWxlU2lkZWJhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi9zdHlsZXMvVXNlclByb2ZpbGUubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyBnZXRVc2VyUHJvZmlsZSwgdXBkYXRlVXNlclByb2ZpbGUgfSBmcm9tICcuLi91dGlscy9jb25zZW50TWFuYWdlcic7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi9jb25zZW50L0NvbnNlbnRDb250ZXh0JztcbmltcG9ydCB7IHVzZUJhY2tlbmRDb25uZWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvc3RhdGVNYW5hZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXNlclByb2ZpbGVTaWRlYmFyKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb2ZpbGUsIHNldFByb2ZpbGVdID0gdXNlU3RhdGUoe1xuICAgIHVzZXJuYW1lOiAnJyxcbiAgICBzZXg6ICcnLFxuICAgIGFnZTogJycsXG4gICAgaW1hZ2VfYmFja2dyb3VuZDogJycsXG4gICAgcHJlZmVyZW5jZXM6IHt9XG4gIH0pO1xuICBjb25zdCBbc3RhdHVzTWVzc2FnZSwgc2V0U3RhdHVzTWVzc2FnZUxvY2FsXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvLyBHZXQgY29uc2VudCBhbmQgYmFja2VuZCBzdGF0dXNcbiAgY29uc3QgeyB1c2VySWQsIGNvbnNlbnRTdGF0dXMgfSA9IHVzZUNvbnNlbnQoKTtcbiAgY29uc3QgeyBpc0Nvbm5lY3RlZCwgYXV0aFZhbGlkIH0gPSB1c2VCYWNrZW5kQ29ubmVjdGlvbigpO1xuXG4gIC8vIExvYWQgcHJvZmlsZSBkYXRhIHdoZW4gY29tcG9uZW50IG1vdW50cyBvciBjb25zZW50IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkUHJvZmlsZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNhdmVkUHJvZmlsZSA9IGdldFVzZXJQcm9maWxlKCk7XG4gICAgICBpZiAoc2F2ZWRQcm9maWxlKSB7XG4gICAgICAgIHNldFByb2ZpbGUoc2F2ZWRQcm9maWxlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxvYWRQcm9maWxlKCk7XG4gIH0sIFtjb25zZW50U3RhdHVzXSk7XG5cbiAgLy8gUmVzZXQgc2lkZWJhciBzdGF0ZSB3aGVuIHJvdXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc09wZW4oZmFsc2UpO1xuICB9LCBbcm91dGVyLnBhdGhuYW1lXSk7XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUgfSA9IGUudGFyZ2V0O1xuICAgIHNldFByb2ZpbGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtuYW1lXTogdmFsdWVcbiAgICB9KSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZSA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgdXBkYXRlVXNlclByb2ZpbGUocHJvZmlsZSk7XG4gICAgICBzZXRJc09wZW4oZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcHJvZmlsZTonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZVN0YXR1c01lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmIChzZXRTdGF0dXNNZXNzYWdlKSB7XG4gICAgICBzZXRTdGF0dXNNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBzZXRTdGF0dXNNZXNzYWdlTG9jYWwobWVzc2FnZSk7XG4gIH07XG5cbiAgLy8gRG9uJ3QgcmVuZGVyIGFueXRoaW5nIGlmIGNvbnNlbnQgaXMgbm90IGFjY2VwdGVkXG4gIGlmICghY29uc2VudFN0YXR1cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnZml4ZWQnLCBib3R0b206ICcyMHB4JywgcmlnaHQ6ICcyMHB4JywgekluZGV4OiAxMDAgfX0+XG4gICAgICA8YnV0dG9uIFxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy50b2dnbGVCdXR0b259XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbighaXNPcGVuKX1cbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgekluZGV4OiAxMDAsXG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgYm90dG9tOiAnMjBweCcsXG4gICAgICAgICAgcmlnaHQ6ICcyMHB4JyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMGQ2ZWZkJyxcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgICAgIHdpZHRoOiAnNDBweCcsXG4gICAgICAgICAgaGVpZ2h0OiAnNDBweCcsXG4gICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAganVzdGlmeUl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpJ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7aXNPcGVuID8gJ8OXJyA6ICfimLAnfVxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLnNpZGViYXJ9ICR7aXNPcGVuID8gc3R5bGVzLm9wZW4gOiAnJ31gfVxuICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICB6SW5kZXg6IDQ5LFxuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICByaWdodDogaXNPcGVuID8gJzAnIDogJy00MDBweCcsXG4gICAgICAgICAgd2lkdGg6ICc0MDBweCcsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgICAgICAgYm94U2hhZG93OiAnLTJweCAwIDVweCByZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgICAgICAgIHRyYW5zaXRpb246ICdyaWdodCAwLjNzIGVhc2UnLFxuICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucHJvZmlsZUhlYWRlcn0+XG4gICAgICAgICAgPGgyPlVzZXIgUHJvZmlsZTwvaDI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNsb3NlQnV0dG9ufVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKGZhbHNlKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICDDl1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogU3RhdHVzIEluZm9ybWF0aW9uICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c1NlY3Rpb259PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzSXRlbX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNMYWJlbH0+VXNlciBJRDo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNWYWx1ZX0+e3VzZXJJZCB8fCAnTm90IHNldCd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzSXRlbX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNMYWJlbH0+Q29uc2VudCBTdGF0dXM6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtzdHlsZXMuc3RhdHVzVmFsdWV9ICR7Y29uc2VudFN0YXR1cyA/IHN0eWxlcy5zdGF0dXNBY3RpdmUgOiBzdHlsZXMuc3RhdHVzSW5hY3RpdmV9YH0+XG4gICAgICAgICAgICAgIHtjb25zZW50U3RhdHVzID09PSBudWxsID8gJ05vdCBzZXQnIDogY29uc2VudFN0YXR1cyA/ICdBY2NlcHRlZCcgOiAnRGVjbGluZWQnfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc3RhdHVzSXRlbX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNMYWJlbH0+QmFja2VuZCBTdGF0dXM6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtzdHlsZXMuc3RhdHVzVmFsdWV9ICR7aXNDb25uZWN0ZWQgPyBzdHlsZXMuc3RhdHVzQWN0aXZlIDogc3R5bGVzLnN0YXR1c0luYWN0aXZlfWB9PlxuICAgICAgICAgICAgICB7aXNDb25uZWN0ZWQgPyAnQ29ubmVjdGVkJyA6ICdEaXNjb25uZWN0ZWQnfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtpc0Nvbm5lY3RlZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnN0YXR1c0l0ZW19PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zdGF0dXNMYWJlbH0+QXV0aGVudGljYXRpb246PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Ake3N0eWxlcy5zdGF0dXNWYWx1ZX0gJHthdXRoVmFsaWQgPyBzdHlsZXMuc3RhdHVzQWN0aXZlIDogc3R5bGVzLnN0YXR1c0luYWN0aXZlfWB9PlxuICAgICAgICAgICAgICAgIHthdXRoVmFsaWQgPyAnVmFsaWQnIDogJ0ludmFsaWQnfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnByb2ZpbGVGb3JtfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmZvcm1Hcm91cH0+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInVzZXJuYW1lXCI+VXNlcm5hbWU8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgaWQ9XCJ1c2VybmFtZVwiXG4gICAgICAgICAgICAgIG5hbWU9XCJ1c2VybmFtZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtwcm9maWxlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5mb3JtR3JvdXB9PlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzZXhcIj5TZXg8L2xhYmVsPlxuICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICBpZD1cInNleFwiXG4gICAgICAgICAgICAgIG5hbWU9XCJzZXhcIlxuICAgICAgICAgICAgICB2YWx1ZT17cHJvZmlsZS5zZXh9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdDwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibWFsZVwiPk1hbGU8L29wdGlvbj5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImZlbWFsZVwiPkZlbWFsZTwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwib3RoZXJcIj5PdGhlcjwvb3B0aW9uPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmZvcm1Hcm91cH0+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImFnZVwiPkFnZTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgIGlkPVwiYWdlXCJcbiAgICAgICAgICAgICAgbmFtZT1cImFnZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtwcm9maWxlLmFnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgbWF4PVwiMTIwXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmZvcm1Hcm91cH0+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImltYWdlX2JhY2tncm91bmRcIj5CYWNrZ3JvdW5kIEltYWdlIFVSTDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBpZD1cImltYWdlX2JhY2tncm91bmRcIlxuICAgICAgICAgICAgICBuYW1lPVwiaW1hZ2VfYmFja2dyb3VuZFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtwcm9maWxlLmltYWdlX2JhY2tncm91bmR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBpbWFnZSBVUkxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5zYXZlQnV0dG9ufVxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBTYXZlIFByb2ZpbGVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwic3R5bGVzIiwiZ2V0VXNlclByb2ZpbGUiLCJ1cGRhdGVVc2VyUHJvZmlsZSIsInVzZUNvbnNlbnQiLCJ1c2VCYWNrZW5kQ29ubmVjdGlvbiIsIlVzZXJQcm9maWxlU2lkZWJhciIsInJvdXRlciIsImlzT3BlbiIsInNldElzT3BlbiIsInByb2ZpbGUiLCJzZXRQcm9maWxlIiwidXNlcm5hbWUiLCJzZXgiLCJhZ2UiLCJpbWFnZV9iYWNrZ3JvdW5kIiwicHJlZmVyZW5jZXMiLCJzdGF0dXNNZXNzYWdlIiwic2V0U3RhdHVzTWVzc2FnZUxvY2FsIiwidXNlcklkIiwiY29uc2VudFN0YXR1cyIsImlzQ29ubmVjdGVkIiwiYXV0aFZhbGlkIiwibG9hZFByb2ZpbGUiLCJzYXZlZFByb2ZpbGUiLCJwYXRobmFtZSIsImhhbmRsZUlucHV0Q2hhbmdlIiwiZSIsIm5hbWUiLCJ2YWx1ZSIsInRhcmdldCIsInByZXYiLCJoYW5kbGVTYXZlIiwiZXJyb3IiLCJjb25zb2xlIiwidXBkYXRlU3RhdHVzTWVzc2FnZSIsIm1lc3NhZ2UiLCJzZXRTdGF0dXNNZXNzYWdlIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsImJvdHRvbSIsInJpZ2h0IiwiekluZGV4IiwiYnV0dG9uIiwiY2xhc3NOYW1lIiwidG9nZ2xlQnV0dG9uIiwib25DbGljayIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwid2lkdGgiLCJoZWlnaHQiLCJmb250U2l6ZSIsImN1cnNvciIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUl0ZW1zIiwiYm94U2hhZG93Iiwic2lkZWJhciIsIm9wZW4iLCJ0b3AiLCJiYWNrZ3JvdW5kIiwidHJhbnNpdGlvbiIsIm92ZXJmbG93WSIsInByb2ZpbGVIZWFkZXIiLCJoMiIsImNsb3NlQnV0dG9uIiwic3RhdHVzU2VjdGlvbiIsInN0YXR1c0l0ZW0iLCJzcGFuIiwic3RhdHVzTGFiZWwiLCJzdGF0dXNWYWx1ZSIsInN0YXR1c0FjdGl2ZSIsInN0YXR1c0luYWN0aXZlIiwicHJvZmlsZUZvcm0iLCJmb3JtR3JvdXAiLCJsYWJlbCIsImh0bWxGb3IiLCJpbnB1dCIsInR5cGUiLCJpZCIsIm9uQ2hhbmdlIiwic2VsZWN0Iiwib3B0aW9uIiwibWluIiwibWF4IiwicGxhY2Vob2xkZXIiLCJzYXZlQnV0dG9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/UserProfileSidebar.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js":
/*!***************************************************************************!*\
  !*** ./components/collected-dataset-customized/Action/CalibratePoints.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   drawCalibrationGrid: () => (/* binding */ drawCalibrationGrid),\n/* harmony export */   drawCalibrationPoint: () => (/* binding */ drawCalibrationPoint),\n/* harmony export */   generateCalibrationPoints: () => (/* binding */ generateCalibrationPoints)\n/* harmony export */ });\n// CalibratePoints.js\n// Utility for generating and managing calibration points on a canvas\n/**\n * Generate a grid of calibration points based on canvas dimensions\n * @param {number} width - Canvas width\n * @param {number} height - Canvas height\n * @returns {Array} Array of point objects with x,y coordinates\n */ const generateCalibrationPoints = (width, height)=>{\n    if (!width || !height || width <= 0 || height <= 0) {\n        console.error(\"generateCalibrationPoints: Invalid canvas dimensions\", {\n            width,\n            height\n        });\n        return [];\n    }\n    const conditionalRound = (dimension, percentage)=>Math.round(dimension * percentage);\n    // Outer frame (12% from edges)\n    const xLeftOuter = conditionalRound(width, 0.12);\n    const xRightOuter = width - xLeftOuter;\n    const yTopOuter = conditionalRound(height, 0.12);\n    const yBottomOuter = height - yTopOuter;\n    // Inner frame (26% from edges)\n    const xLeftInner = conditionalRound(width, 0.26);\n    const xRightInner = width - xLeftInner;\n    const yTopInner = conditionalRound(height, 0.26);\n    const yBottomInner = height - yTopInner;\n    const xCenter = Math.floor(width / 2);\n    const yCenter = Math.floor(height / 2);\n    return [\n        // Outer frame (8 points)\n        {\n            x: xLeftOuter,\n            y: yTopOuter,\n            label: \"Outer Top-Left\"\n        },\n        {\n            x: xCenter,\n            y: yTopOuter,\n            label: \"Outer Top-Center\"\n        },\n        {\n            x: xRightOuter,\n            y: yTopOuter,\n            label: \"Outer Top-Right\"\n        },\n        {\n            x: xLeftOuter,\n            y: yCenter,\n            label: \"Outer Middle-Left\"\n        },\n        {\n            x: xRightOuter,\n            y: yCenter,\n            label: \"Outer Middle-Right\"\n        },\n        {\n            x: xLeftOuter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Left\"\n        },\n        {\n            x: xCenter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Center\"\n        },\n        {\n            x: xRightOuter,\n            y: yBottomOuter,\n            label: \"Outer Bottom-Right\"\n        },\n        // Inner frame (8 points)\n        {\n            x: xLeftInner,\n            y: yTopInner,\n            label: \"Inner Top-Left\"\n        },\n        {\n            x: xCenter,\n            y: yTopInner,\n            label: \"Inner Top-Center\"\n        },\n        {\n            x: xRightInner,\n            y: yTopInner,\n            label: \"Inner Top-Right\"\n        },\n        {\n            x: xLeftInner,\n            y: yCenter,\n            label: \"Inner Middle-Left\"\n        },\n        {\n            x: xRightInner,\n            y: yCenter,\n            label: \"Inner Middle-Right\"\n        },\n        {\n            x: xLeftInner,\n            y: yBottomInner,\n            label: \"Inner Bottom-Left\"\n        },\n        {\n            x: xCenter,\n            y: yBottomInner,\n            label: \"Inner Bottom-Center\"\n        },\n        {\n            x: xRightInner,\n            y: yBottomInner,\n            label: \"Inner Bottom-Right\"\n        }\n    ];\n};\n/**\n * Draw a calibration point on a canvas\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {Object} options - Optional settings (color, radius)\n * @returns {Object} Point position object {x, y}\n */ const drawCalibrationPoint = (canvas, x, y, options = {})=>{\n    if (!canvas) return {\n        x,\n        y\n    };\n    const ctx = canvas.getContext('2d');\n    const color = options.color || 'red';\n    const radius = options.radius || 8;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.fillStyle = color;\n    ctx.fill();\n    // Glow effect\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 3, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    return {\n        x,\n        y\n    };\n};\n/**\n * Draw all calibration points on a canvas (for debugging/visualization)\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {Array} points - Array of point objects\n * @param {number} activeIndex - Index of the currently active point\n */ const drawCalibrationGrid = (canvas, points, activeIndex = -1)=>{\n    if (!canvas || !points || !points.length) return;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    points.forEach((point, index)=>{\n        const isActive = index === activeIndex;\n        ctx.beginPath();\n        ctx.arc(point.x, point.y, isActive ? 8 : 4, 0, Math.PI * 2);\n        ctx.fillStyle = isActive ? 'red' : 'rgba(0, 102, 204, 0.7)';\n        ctx.fill();\n        ctx.fillStyle = 'black';\n        ctx.font = '10px Arial';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.fillText(`${index + 1}`, point.x, point.y);\n        if (isActive && point.label) {\n            ctx.font = '12px Arial';\n            ctx.fillText(point.label, point.x, point.y - 20);\n        }\n    });\n    // Draw connecting lines (optional)\n    ctx.beginPath();\n    ctx.moveTo(points[0].x, points[0].y);\n    for(let i = 1; i < points.length; i++){\n        ctx.lineTo(points[i].x, points[i].y);\n    }\n    ctx.strokeStyle = 'rgba(0, 102, 204, 0.3)';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n};\n// Optional: Default export all for convenience\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    generateCalibrationPoints,\n    drawCalibrationPoint,\n    drawCalibrationGrid\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFDckIscUVBQXFFO0FBRXJFOzs7OztDQUtDLEdBQ00sTUFBTUEsNEJBQTRCLENBQUNDLE9BQU9DO0lBQy9DLElBQUksQ0FBQ0QsU0FBUyxDQUFDQyxVQUFVRCxTQUFTLEtBQUtDLFVBQVUsR0FBRztRQUNsREMsUUFBUUMsS0FBSyxDQUFDLHdEQUF3RDtZQUFFSDtZQUFPQztRQUFPO1FBQ3RGLE9BQU8sRUFBRTtJQUNYO0lBRUEsTUFBTUcsbUJBQW1CLENBQUNDLFdBQVdDLGFBQWVDLEtBQUtDLEtBQUssQ0FBQ0gsWUFBWUM7SUFFM0UsK0JBQStCO0lBQy9CLE1BQU1HLGFBQWFMLGlCQUFpQkosT0FBTztJQUMzQyxNQUFNVSxjQUFjVixRQUFRUztJQUM1QixNQUFNRSxZQUFZUCxpQkFBaUJILFFBQVE7SUFDM0MsTUFBTVcsZUFBZVgsU0FBU1U7SUFFOUIsK0JBQStCO0lBQy9CLE1BQU1FLGFBQWFULGlCQUFpQkosT0FBTztJQUMzQyxNQUFNYyxjQUFjZCxRQUFRYTtJQUM1QixNQUFNRSxZQUFZWCxpQkFBaUJILFFBQVE7SUFDM0MsTUFBTWUsZUFBZWYsU0FBU2M7SUFFOUIsTUFBTUUsVUFBVVYsS0FBS1csS0FBSyxDQUFDbEIsUUFBUTtJQUNuQyxNQUFNbUIsVUFBVVosS0FBS1csS0FBSyxDQUFDakIsU0FBUztJQUVwQyxPQUFPO1FBQ0wseUJBQXlCO1FBQ3pCO1lBQUVtQixHQUFHWDtZQUFZWSxHQUFHVjtZQUFXVyxPQUFPO1FBQWlCO1FBQ3ZEO1lBQUVGLEdBQUdIO1lBQVNJLEdBQUdWO1lBQVdXLE9BQU87UUFBbUI7UUFDdEQ7WUFBRUYsR0FBR1Y7WUFBYVcsR0FBR1Y7WUFBV1csT0FBTztRQUFrQjtRQUN6RDtZQUFFRixHQUFHWDtZQUFZWSxHQUFHRjtZQUFTRyxPQUFPO1FBQW9CO1FBQ3hEO1lBQUVGLEdBQUdWO1lBQWFXLEdBQUdGO1lBQVNHLE9BQU87UUFBcUI7UUFDMUQ7WUFBRUYsR0FBR1g7WUFBWVksR0FBR1Q7WUFBY1UsT0FBTztRQUFvQjtRQUM3RDtZQUFFRixHQUFHSDtZQUFTSSxHQUFHVDtZQUFjVSxPQUFPO1FBQXNCO1FBQzVEO1lBQUVGLEdBQUdWO1lBQWFXLEdBQUdUO1lBQWNVLE9BQU87UUFBcUI7UUFFL0QseUJBQXlCO1FBQ3pCO1lBQUVGLEdBQUdQO1lBQVlRLEdBQUdOO1lBQVdPLE9BQU87UUFBaUI7UUFDdkQ7WUFBRUYsR0FBR0g7WUFBU0ksR0FBR047WUFBV08sT0FBTztRQUFtQjtRQUN0RDtZQUFFRixHQUFHTjtZQUFhTyxHQUFHTjtZQUFXTyxPQUFPO1FBQWtCO1FBQ3pEO1lBQUVGLEdBQUdQO1lBQVlRLEdBQUdGO1lBQVNHLE9BQU87UUFBb0I7UUFDeEQ7WUFBRUYsR0FBR047WUFBYU8sR0FBR0Y7WUFBU0csT0FBTztRQUFxQjtRQUMxRDtZQUFFRixHQUFHUDtZQUFZUSxHQUFHTDtZQUFjTSxPQUFPO1FBQW9CO1FBQzdEO1lBQUVGLEdBQUdIO1lBQVNJLEdBQUdMO1lBQWNNLE9BQU87UUFBc0I7UUFDNUQ7WUFBRUYsR0FBR047WUFBYU8sR0FBR0w7WUFBY00sT0FBTztRQUFxQjtLQUNoRTtBQUNILEVBQUU7QUFFRjs7Ozs7OztDQU9DLEdBQ00sTUFBTUMsdUJBQXVCLENBQUNDLFFBQVFKLEdBQUdDLEdBQUdJLFVBQVUsQ0FBQyxDQUFDO0lBQzdELElBQUksQ0FBQ0QsUUFBUSxPQUFPO1FBQUVKO1FBQUdDO0lBQUU7SUFFM0IsTUFBTUssTUFBTUYsT0FBT0csVUFBVSxDQUFDO0lBQzlCLE1BQU1DLFFBQVFILFFBQVFHLEtBQUssSUFBSTtJQUMvQixNQUFNQyxTQUFTSixRQUFRSSxNQUFNLElBQUk7SUFFakNILElBQUlJLFNBQVMsQ0FBQyxHQUFHLEdBQUdOLE9BQU94QixLQUFLLEVBQUV3QixPQUFPdkIsTUFBTTtJQUMvQ3lCLElBQUlLLFNBQVMsR0FBRztJQUNoQkwsSUFBSU0sUUFBUSxDQUFDLEdBQUcsR0FBR1IsT0FBT3hCLEtBQUssRUFBRXdCLE9BQU92QixNQUFNO0lBRTlDeUIsSUFBSU8sU0FBUztJQUNiUCxJQUFJUSxHQUFHLENBQUNkLEdBQUdDLEdBQUdRLFFBQVEsR0FBR3RCLEtBQUs0QixFQUFFLEdBQUc7SUFDbkNULElBQUlLLFNBQVMsR0FBR0g7SUFDaEJGLElBQUlVLElBQUk7SUFFUixjQUFjO0lBQ2RWLElBQUlPLFNBQVM7SUFDYlAsSUFBSVEsR0FBRyxDQUFDZCxHQUFHQyxHQUFHUSxTQUFTLEdBQUcsR0FBR3RCLEtBQUs0QixFQUFFLEdBQUc7SUFDdkNULElBQUlXLFdBQVcsR0FBRztJQUNsQlgsSUFBSVksU0FBUyxHQUFHO0lBQ2hCWixJQUFJYSxNQUFNO0lBRVYsT0FBTztRQUFFbkI7UUFBR0M7SUFBRTtBQUNoQixFQUFFO0FBRUY7Ozs7O0NBS0MsR0FDTSxNQUFNbUIsc0JBQXNCLENBQUNoQixRQUFRaUIsUUFBUUMsY0FBYyxDQUFDLENBQUM7SUFDbEUsSUFBSSxDQUFDbEIsVUFBVSxDQUFDaUIsVUFBVSxDQUFDQSxPQUFPRSxNQUFNLEVBQUU7SUFFMUMsTUFBTWpCLE1BQU1GLE9BQU9HLFVBQVUsQ0FBQztJQUM5QkQsSUFBSUksU0FBUyxDQUFDLEdBQUcsR0FBR04sT0FBT3hCLEtBQUssRUFBRXdCLE9BQU92QixNQUFNO0lBQy9DeUIsSUFBSUssU0FBUyxHQUFHO0lBQ2hCTCxJQUFJTSxRQUFRLENBQUMsR0FBRyxHQUFHUixPQUFPeEIsS0FBSyxFQUFFd0IsT0FBT3ZCLE1BQU07SUFFOUN3QyxPQUFPRyxPQUFPLENBQUMsQ0FBQ0MsT0FBT0M7UUFDckIsTUFBTUMsV0FBV0QsVUFBVUo7UUFFM0JoQixJQUFJTyxTQUFTO1FBQ2JQLElBQUlRLEdBQUcsQ0FBQ1csTUFBTXpCLENBQUMsRUFBRXlCLE1BQU14QixDQUFDLEVBQUUwQixXQUFXLElBQUksR0FBRyxHQUFHeEMsS0FBSzRCLEVBQUUsR0FBRztRQUN6RFQsSUFBSUssU0FBUyxHQUFHZ0IsV0FBVyxRQUFRO1FBQ25DckIsSUFBSVUsSUFBSTtRQUVSVixJQUFJSyxTQUFTLEdBQUc7UUFDaEJMLElBQUlzQixJQUFJLEdBQUc7UUFDWHRCLElBQUl1QixTQUFTLEdBQUc7UUFDaEJ2QixJQUFJd0IsWUFBWSxHQUFHO1FBQ25CeEIsSUFBSXlCLFFBQVEsQ0FBQyxHQUFHTCxRQUFRLEdBQUcsRUFBRUQsTUFBTXpCLENBQUMsRUFBRXlCLE1BQU14QixDQUFDO1FBRTdDLElBQUkwQixZQUFZRixNQUFNdkIsS0FBSyxFQUFFO1lBQzNCSSxJQUFJc0IsSUFBSSxHQUFHO1lBQ1h0QixJQUFJeUIsUUFBUSxDQUFDTixNQUFNdkIsS0FBSyxFQUFFdUIsTUFBTXpCLENBQUMsRUFBRXlCLE1BQU14QixDQUFDLEdBQUc7UUFDL0M7SUFDRjtJQUVBLG1DQUFtQztJQUNuQ0ssSUFBSU8sU0FBUztJQUNiUCxJQUFJMEIsTUFBTSxDQUFDWCxNQUFNLENBQUMsRUFBRSxDQUFDckIsQ0FBQyxFQUFFcUIsTUFBTSxDQUFDLEVBQUUsQ0FBQ3BCLENBQUM7SUFDbkMsSUFBSyxJQUFJZ0MsSUFBSSxHQUFHQSxJQUFJWixPQUFPRSxNQUFNLEVBQUVVLElBQUs7UUFDdEMzQixJQUFJNEIsTUFBTSxDQUFDYixNQUFNLENBQUNZLEVBQUUsQ0FBQ2pDLENBQUMsRUFBRXFCLE1BQU0sQ0FBQ1ksRUFBRSxDQUFDaEMsQ0FBQztJQUNyQztJQUNBSyxJQUFJVyxXQUFXLEdBQUc7SUFDbEJYLElBQUlZLFNBQVMsR0FBRztJQUNoQlosSUFBSWEsTUFBTTtBQUNaLEVBQUU7QUFFRiwrQ0FBK0M7QUFDL0MsaUVBQWU7SUFDYnhDO0lBQ0F3QjtJQUNBaUI7QUFDRixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZVBvaW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDYWxpYnJhdGVQb2ludHMuanNcbi8vIFV0aWxpdHkgZm9yIGdlbmVyYXRpbmcgYW5kIG1hbmFnaW5nIGNhbGlicmF0aW9uIHBvaW50cyBvbiBhIGNhbnZhc1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgZ3JpZCBvZiBjYWxpYnJhdGlvbiBwb2ludHMgYmFzZWQgb24gY2FudmFzIGRpbWVuc2lvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIENhbnZhcyB3aWR0aFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIENhbnZhcyBoZWlnaHRcbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgcG9pbnQgb2JqZWN0cyB3aXRoIHgseSBjb29yZGluYXRlc1xuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gIGlmICghd2lkdGggfHwgIWhlaWdodCB8fCB3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKSB7XG4gICAgY29uc29sZS5lcnJvcihcImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHM6IEludmFsaWQgY2FudmFzIGRpbWVuc2lvbnNcIiwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IGNvbmRpdGlvbmFsUm91bmQgPSAoZGltZW5zaW9uLCBwZXJjZW50YWdlKSA9PiBNYXRoLnJvdW5kKGRpbWVuc2lvbiAqIHBlcmNlbnRhZ2UpO1xuXG4gIC8vIE91dGVyIGZyYW1lICgxMiUgZnJvbSBlZGdlcylcbiAgY29uc3QgeExlZnRPdXRlciA9IGNvbmRpdGlvbmFsUm91bmQod2lkdGgsIDAuMTIpO1xuICBjb25zdCB4UmlnaHRPdXRlciA9IHdpZHRoIC0geExlZnRPdXRlcjtcbiAgY29uc3QgeVRvcE91dGVyID0gY29uZGl0aW9uYWxSb3VuZChoZWlnaHQsIDAuMTIpO1xuICBjb25zdCB5Qm90dG9tT3V0ZXIgPSBoZWlnaHQgLSB5VG9wT3V0ZXI7XG5cbiAgLy8gSW5uZXIgZnJhbWUgKDI2JSBmcm9tIGVkZ2VzKVxuICBjb25zdCB4TGVmdElubmVyID0gY29uZGl0aW9uYWxSb3VuZCh3aWR0aCwgMC4yNik7XG4gIGNvbnN0IHhSaWdodElubmVyID0gd2lkdGggLSB4TGVmdElubmVyO1xuICBjb25zdCB5VG9wSW5uZXIgPSBjb25kaXRpb25hbFJvdW5kKGhlaWdodCwgMC4yNik7XG4gIGNvbnN0IHlCb3R0b21Jbm5lciA9IGhlaWdodCAtIHlUb3BJbm5lcjtcblxuICBjb25zdCB4Q2VudGVyID0gTWF0aC5mbG9vcih3aWR0aCAvIDIpO1xuICBjb25zdCB5Q2VudGVyID0gTWF0aC5mbG9vcihoZWlnaHQgLyAyKTtcblxuICByZXR1cm4gW1xuICAgIC8vIE91dGVyIGZyYW1lICg4IHBvaW50cylcbiAgICB7IHg6IHhMZWZ0T3V0ZXIsIHk6IHlUb3BPdXRlciwgbGFiZWw6IFwiT3V0ZXIgVG9wLUxlZnRcIiB9LFxuICAgIHsgeDogeENlbnRlciwgeTogeVRvcE91dGVyLCBsYWJlbDogXCJPdXRlciBUb3AtQ2VudGVyXCIgfSxcbiAgICB7IHg6IHhSaWdodE91dGVyLCB5OiB5VG9wT3V0ZXIsIGxhYmVsOiBcIk91dGVyIFRvcC1SaWdodFwiIH0sXG4gICAgeyB4OiB4TGVmdE91dGVyLCB5OiB5Q2VudGVyLCBsYWJlbDogXCJPdXRlciBNaWRkbGUtTGVmdFwiIH0sXG4gICAgeyB4OiB4UmlnaHRPdXRlciwgeTogeUNlbnRlciwgbGFiZWw6IFwiT3V0ZXIgTWlkZGxlLVJpZ2h0XCIgfSxcbiAgICB7IHg6IHhMZWZ0T3V0ZXIsIHk6IHlCb3R0b21PdXRlciwgbGFiZWw6IFwiT3V0ZXIgQm90dG9tLUxlZnRcIiB9LFxuICAgIHsgeDogeENlbnRlciwgeTogeUJvdHRvbU91dGVyLCBsYWJlbDogXCJPdXRlciBCb3R0b20tQ2VudGVyXCIgfSxcbiAgICB7IHg6IHhSaWdodE91dGVyLCB5OiB5Qm90dG9tT3V0ZXIsIGxhYmVsOiBcIk91dGVyIEJvdHRvbS1SaWdodFwiIH0sXG5cbiAgICAvLyBJbm5lciBmcmFtZSAoOCBwb2ludHMpXG4gICAgeyB4OiB4TGVmdElubmVyLCB5OiB5VG9wSW5uZXIsIGxhYmVsOiBcIklubmVyIFRvcC1MZWZ0XCIgfSxcbiAgICB7IHg6IHhDZW50ZXIsIHk6IHlUb3BJbm5lciwgbGFiZWw6IFwiSW5uZXIgVG9wLUNlbnRlclwiIH0sXG4gICAgeyB4OiB4UmlnaHRJbm5lciwgeTogeVRvcElubmVyLCBsYWJlbDogXCJJbm5lciBUb3AtUmlnaHRcIiB9LFxuICAgIHsgeDogeExlZnRJbm5lciwgeTogeUNlbnRlciwgbGFiZWw6IFwiSW5uZXIgTWlkZGxlLUxlZnRcIiB9LFxuICAgIHsgeDogeFJpZ2h0SW5uZXIsIHk6IHlDZW50ZXIsIGxhYmVsOiBcIklubmVyIE1pZGRsZS1SaWdodFwiIH0sXG4gICAgeyB4OiB4TGVmdElubmVyLCB5OiB5Qm90dG9tSW5uZXIsIGxhYmVsOiBcIklubmVyIEJvdHRvbS1MZWZ0XCIgfSxcbiAgICB7IHg6IHhDZW50ZXIsIHk6IHlCb3R0b21Jbm5lciwgbGFiZWw6IFwiSW5uZXIgQm90dG9tLUNlbnRlclwiIH0sXG4gICAgeyB4OiB4UmlnaHRJbm5lciwgeTogeUJvdHRvbUlubmVyLCBsYWJlbDogXCJJbm5lciBCb3R0b20tUmlnaHRcIiB9XG4gIF07XG59O1xuXG4vKipcbiAqIERyYXcgYSBjYWxpYnJhdGlvbiBwb2ludCBvbiBhIGNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gQ2FudmFzIGVsZW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25hbCBzZXR0aW5ncyAoY29sb3IsIHJhZGl1cylcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBvaW50IHBvc2l0aW9uIG9iamVjdCB7eCwgeX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRyYXdDYWxpYnJhdGlvblBvaW50ID0gKGNhbnZhcywgeCwgeSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGlmICghY2FudmFzKSByZXR1cm4geyB4LCB5IH07XG5cbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGNvbnN0IGNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCAncmVkJztcbiAgY29uc3QgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgODtcblxuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgY3R4LmZpbGwoKTtcblxuICAvLyBHbG93IGVmZmVjdFxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzICsgMywgMCwgTWF0aC5QSSAqIDIpO1xuICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuNSknO1xuICBjdHgubGluZVdpZHRoID0gMjtcbiAgY3R4LnN0cm9rZSgpO1xuXG4gIHJldHVybiB7IHgsIHkgfTtcbn07XG5cbi8qKlxuICogRHJhdyBhbGwgY2FsaWJyYXRpb24gcG9pbnRzIG9uIGEgY2FudmFzIChmb3IgZGVidWdnaW5nL3Zpc3VhbGl6YXRpb24pXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBDYW52YXMgZWxlbWVudFxuICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIC0gQXJyYXkgb2YgcG9pbnQgb2JqZWN0c1xuICogQHBhcmFtIHtudW1iZXJ9IGFjdGl2ZUluZGV4IC0gSW5kZXggb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgcG9pbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGRyYXdDYWxpYnJhdGlvbkdyaWQgPSAoY2FudmFzLCBwb2ludHMsIGFjdGl2ZUluZGV4ID0gLTEpID0+IHtcbiAgaWYgKCFjYW52YXMgfHwgIXBvaW50cyB8fCAhcG9pbnRzLmxlbmd0aCkgcmV0dXJuO1xuXG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICBwb2ludHMuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaXNBY3RpdmUgPSBpbmRleCA9PT0gYWN0aXZlSW5kZXg7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhwb2ludC54LCBwb2ludC55LCBpc0FjdGl2ZSA/IDggOiA0LCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGlzQWN0aXZlID8gJ3JlZCcgOiAncmdiYSgwLCAxMDIsIDIwNCwgMC43KSc7XG4gICAgY3R4LmZpbGwoKTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgIGN0eC5mb250ID0gJzEwcHggQXJpYWwnO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY3R4LmZpbGxUZXh0KGAke2luZGV4ICsgMX1gLCBwb2ludC54LCBwb2ludC55KTtcblxuICAgIGlmIChpc0FjdGl2ZSAmJiBwb2ludC5sYWJlbCkge1xuICAgICAgY3R4LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgICBjdHguZmlsbFRleHQocG9pbnQubGFiZWwsIHBvaW50LngsIHBvaW50LnkgLSAyMCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBEcmF3IGNvbm5lY3RpbmcgbGluZXMgKG9wdGlvbmFsKVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8ocG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjdHgubGluZVRvKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gIH1cbiAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwgMTAyLCAyMDQsIDAuMyknO1xuICBjdHgubGluZVdpZHRoID0gMTtcbiAgY3R4LnN0cm9rZSgpO1xufTtcblxuLy8gT3B0aW9uYWw6IERlZmF1bHQgZXhwb3J0IGFsbCBmb3IgY29udmVuaWVuY2VcbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyxcbiAgZHJhd0NhbGlicmF0aW9uUG9pbnQsXG4gIGRyYXdDYWxpYnJhdGlvbkdyaWRcbn07Il0sIm5hbWVzIjpbImdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMiLCJ3aWR0aCIsImhlaWdodCIsImNvbnNvbGUiLCJlcnJvciIsImNvbmRpdGlvbmFsUm91bmQiLCJkaW1lbnNpb24iLCJwZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwieExlZnRPdXRlciIsInhSaWdodE91dGVyIiwieVRvcE91dGVyIiwieUJvdHRvbU91dGVyIiwieExlZnRJbm5lciIsInhSaWdodElubmVyIiwieVRvcElubmVyIiwieUJvdHRvbUlubmVyIiwieENlbnRlciIsImZsb29yIiwieUNlbnRlciIsIngiLCJ5IiwibGFiZWwiLCJkcmF3Q2FsaWJyYXRpb25Qb2ludCIsImNhbnZhcyIsIm9wdGlvbnMiLCJjdHgiLCJnZXRDb250ZXh0IiwiY29sb3IiLCJyYWRpdXMiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwiZmlsbCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiZHJhd0NhbGlicmF0aW9uR3JpZCIsInBvaW50cyIsImFjdGl2ZUluZGV4IiwibGVuZ3RoIiwiZm9yRWFjaCIsInBvaW50IiwiaW5kZXgiLCJpc0FjdGl2ZSIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsIm1vdmVUbyIsImkiLCJsaW5lVG8iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js":
/*!*********************************************************************!*\
  !*** ./components/collected-dataset-customized/Action/countSave.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calibrationCapture: () => (/* binding */ calibrationCapture),\n/* harmony export */   captureAndPreviewProcess: () => (/* binding */ captureAndPreviewProcess),\n/* harmony export */   captureImages: () => (/* binding */ captureImages),\n/* harmony export */   createCountdownElement: () => (/* binding */ createCountdownElement),\n/* harmony export */   drawRedDot: () => (/* binding */ drawRedDot),\n/* harmony export */   getRandomPosition: () => (/* binding */ getRandomPosition),\n/* harmony export */   runCountdown: () => (/* binding */ runCountdown),\n/* harmony export */   showCapturePreview: () => (/* binding */ showCapturePreview)\n/* harmony export */ });\n/* harmony import */ var _Helper_savefile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\");\n// Fixed countSave.js - Resolving redrawInterval reference error\n// Shared functionality for countdown and image capture processes\n\n/**\n * Creates and displays a countdown element above a dot position\n * @param {Object} position - {x, y} position of the dot\n * @param {DOMRect} canvasRect - getBoundingClientRect() of the canvas\n * @returns {HTMLElement} - The created countdown element\n */ const createCountdownElement = (position, canvasRect)=>{\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[createCountdownElement] Invalid position:', position);\n        return null;\n    }\n    const existingCountdowns = document.querySelectorAll('.calibrate-countdown, .forced-countdown, .center-countdown-backup');\n    existingCountdowns.forEach((el)=>el.remove());\n    const absoluteX = canvasRect.left + position.x;\n    const absoluteY = canvasRect.top + position.y;\n    const countdownElement = document.createElement('div');\n    countdownElement.className = 'dot-countdown';\n    countdownElement.style.cssText = `\n    position: fixed;\n    left: ${absoluteX}px;\n    top: ${absoluteY - 60}px;\n    transform: translateX(-50%);\n    color: red;\n    font-size: 36px;\n    font-weight: bold;\n    text-shadow: 0 0 10px white, 0 0 20px white;\n    z-index: 9999;\n    background-color: rgba(255, 255, 255, 0.8);\n    border: 2px solid red;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n  `;\n    document.body.appendChild(countdownElement);\n    return countdownElement;\n};\n/**\n * Display a preview of the captured images\n * @param {string} screenImage - Data URL of the screen image\n * @param {string} webcamImage - Data URL of the webcam image\n * @param {Object} point - {x, y} position of the dot\n */ const showCapturePreview = (screenImage, webcamImage, point)=>{\n    if (!screenImage && !webcamImage) return;\n    // Remove any existing previews\n    const existingPreviews = document.querySelectorAll('.capture-preview-container');\n    existingPreviews.forEach((preview)=>{\n        if (preview.parentNode) {\n            preview.parentNode.removeChild(preview);\n        }\n    });\n    // Create preview container\n    const previewContainer = document.createElement('div');\n    previewContainer.className = 'capture-preview-container';\n    previewContainer.style.cssText = `\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    gap: 20px;\n    background-color: rgba(0, 0, 0, 0.85);\n    padding: 20px;\n    border-radius: 12px;\n    z-index: 999999;\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);\n  `;\n    // Add screen image if available\n    if (screenImage) {\n        const screenPreview = document.createElement('div');\n        screenPreview.style.cssText = `\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    `;\n        const screenImg = document.createElement('img');\n        screenImg.src = screenImage;\n        screenImg.alt = 'Screen Capture';\n        screenImg.style.cssText = `\n      max-width: 320px;\n      max-height: 240px;\n      border: 3px solid white;\n      border-radius: 8px;\n      background-color: #333;\n    `;\n        const screenLabel = document.createElement('div');\n        screenLabel.textContent = 'Screen Capture';\n        screenLabel.style.cssText = `\n      color: white;\n      font-size: 14px;\n      margin-top: 10px;\n      font-weight: bold;\n    `;\n        screenPreview.appendChild(screenImg);\n        screenPreview.appendChild(screenLabel);\n        previewContainer.appendChild(screenPreview);\n    }\n    // Add webcam image if available\n    if (webcamImage) {\n        const webcamPreview = document.createElement('div');\n        webcamPreview.style.cssText = `\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    `;\n        const webcamImg = document.createElement('img');\n        webcamImg.src = webcamImage;\n        webcamImg.alt = 'Webcam Capture';\n        webcamImg.style.cssText = `\n      max-width: 320px;\n      max-height: 240px;\n      border: 3px solid white;\n      border-radius: 8px;\n      background-color: #333;\n    `;\n        const webcamLabel = document.createElement('div');\n        webcamLabel.textContent = 'Webcam Capture';\n        webcamLabel.style.cssText = `\n      color: white;\n      font-size: 14px;\n      margin-top: 10px;\n      font-weight: bold;\n    `;\n        webcamPreview.appendChild(webcamImg);\n        webcamPreview.appendChild(webcamLabel);\n        previewContainer.appendChild(webcamPreview);\n    }\n    // Add point info\n    if (point) {\n        const pointInfo = document.createElement('div');\n        pointInfo.textContent = point.label ? `${point.label}: x=${Math.round(point.x)}, y=${Math.round(point.y)}` : `Point: x=${Math.round(point.x)}, y=${Math.round(point.y)}`;\n        pointInfo.style.cssText = `\n      color: #ffcc00;\n      font-size: 14px;\n      position: absolute;\n      top: -40px;\n      left: 0;\n      width: 100%;\n      text-align: center;\n    `;\n        previewContainer.appendChild(pointInfo);\n    }\n    // Add timer\n    const timerElement = document.createElement('div');\n    timerElement.textContent = '2.0s';\n    timerElement.style.cssText = `\n    position: absolute;\n    bottom: -25px;\n    right: 20px;\n    color: white;\n    font-size: 12px;\n    background-color: rgba(0, 0, 0, 0.7);\n    padding: 3px 8px;\n    border-radius: 4px;\n  `;\n    previewContainer.appendChild(timerElement);\n    // Add to document\n    document.body.appendChild(previewContainer);\n    // Countdown\n    let timeLeft = 2.0;\n    const interval = setInterval(()=>{\n        timeLeft -= 0.1;\n        if (timeLeft <= 0) {\n            clearInterval(interval);\n            previewContainer.style.opacity = '0';\n            previewContainer.style.transition = 'opacity 0.3s ease';\n            setTimeout(()=>{\n                if (previewContainer.parentNode) {\n                    previewContainer.parentNode.removeChild(previewContainer);\n                }\n            }, 300);\n        } else {\n            timerElement.textContent = `${timeLeft.toFixed(1)}s`;\n        }\n    }, 100);\n    // Safety cleanup\n    setTimeout(()=>{\n        if (previewContainer.parentNode) {\n            previewContainer.parentNode.removeChild(previewContainer);\n        }\n    }, 5000);\n};\n/**\n * Runs a countdown process that displays 3-2-1 above a dot\n * @param {Object} position - {x, y} position of the dot\n * @param {HTMLCanvasElement} canvas - Canvas element with the dot\n * @param {Function} onStatusUpdate - Function to update status messages\n * @param {Function} onComplete - Callback to execute when countdown completes\n */ const runCountdown = async (position, canvas, onStatusUpdate, onComplete)=>{\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[runCountdown] Invalid position:', position);\n        onStatusUpdate?.({\n            processStatus: \"Invalid dot position\",\n            countdownValue: null,\n            isCapturing: false\n        });\n        return;\n    }\n    const canvasRect = canvas.getBoundingClientRect();\n    const countdownElement = createCountdownElement(position, canvasRect);\n    if (!countdownElement) {\n        console.warn('[runCountdown] Countdown element could not be created.');\n        return;\n    }\n    const ctx = canvas.getContext('2d');\n    drawRedDot(ctx, position.x, position.y);\n    let count = 3;\n    countdownElement.textContent = count;\n    onStatusUpdate?.({\n        processStatus: \"Countdown\",\n        countdownValue: count,\n        isCapturing: true\n    });\n    // Create redrawInterval for keeping dot visible during countdown\n    let redrawInterval = setInterval(()=>{\n        drawRedDot(ctx, position.x, position.y, 12, false);\n    }, 200);\n    return new Promise((resolve)=>{\n        const countdownInterval = setInterval(()=>{\n            count--;\n            if (count <= 0) {\n                clearInterval(countdownInterval);\n                countdownElement.textContent = \"✓\";\n                onStatusUpdate?.({\n                    countdownValue: \"Capturing...\",\n                    processStatus: \"Capturing image...\",\n                    isCapturing: true\n                });\n                setTimeout(()=>{\n                    if (countdownElement.parentNode) {\n                        countdownElement.parentNode.removeChild(countdownElement);\n                    }\n                    drawRedDot(ctx, position.x, position.y, 12, false);\n                    // Clear the redrawInterval we defined above\n                    if (redrawInterval) {\n                        clearInterval(redrawInterval);\n                    }\n                    if (onComplete) {\n                        drawRedDot(ctx, position.x, position.y, 12, false);\n                        onComplete();\n                    }\n                    resolve();\n                }, 300);\n            } else {\n                countdownElement.textContent = count;\n                onStatusUpdate?.({\n                    processStatus: \"Countdown\",\n                    countdownValue: count,\n                    isCapturing: true\n                });\n            }\n        }, 800);\n    });\n};\n/**\n * Draw a red dot on the canvas\n * @param {CanvasRenderingContext2D} ctx - Canvas 2D context\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} radius - Dot radius\n * @param {boolean} clearCanvas - Whether to clear the canvas before drawing (default: true)\n * @returns {Object} - {x, y} position\n */ const drawRedDot = (ctx, x, y, radius = 12, clearCanvas = true)=>{\n    const canvas = ctx.canvas;\n    // Clear the canvas if requested (default behavior)\n    if (clearCanvas) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    // Draw the dot with a bright red color\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.fillStyle = 'red';\n    ctx.fill();\n    // Add glow effect for better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 3, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.lineWidth = 3;\n    ctx.stroke();\n    // Add a second larger glow for even better visibility\n    ctx.beginPath();\n    ctx.arc(x, y, radius + 6, 0, Math.PI * 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.3)';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n    return {\n        x,\n        y\n    };\n};\n/**\n * Capture images at a specific point\n * @param {Object} options - Capture options\n * @returns {Promise} - Promise that resolves with the capture result\n */ const captureImages = async (options)=>{\n    const { canvasRef, position, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, captureFolder = 'eye_tracking_captures' } = options;\n    if (!position || typeof position.x !== 'number' || typeof position.y !== 'number') {\n        console.warn('[captureImages] Invalid position object:', position);\n        setProcessStatus?.('Error: Invalid capture position');\n        return null;\n    }\n    try {\n        // Call the captureImagesAtPoint from savefile.js with all necessary parameters\n        const result = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_0__.captureImagesAtPoint)({\n            point: position,\n            captureCount: captureCounter,\n            canvasRef,\n            setCaptureCount: setCaptureCounter,\n            showCapturePreview\n        });\n        console.log('Capture successful with ID:', result.captureId);\n        return {\n            screenImage: result?.screenImage || '',\n            webcamImage: result?.webcamImage || '',\n            success: true,\n            captureId: result?.captureId\n        };\n    } catch (err) {\n        console.error('[captureImages] Unexpected error:', err);\n        setProcessStatus?.(`Error: ${err.message}`);\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: err.message\n        };\n    }\n};\n/**\n * Generate a random dot position within the canvas\n * @param {HTMLCanvasElement} canvas - Canvas element\n * @param {number} padding - Padding from the edges\n * @returns {Object} - {x, y} position\n */ const getRandomPosition = (canvas, padding = 40)=>{\n    if (!canvas) return {\n        x: 100,\n        y: 100\n    }; // Fallback position\n    const width = canvas.width || 400; // Fallback if width is 0\n    const height = canvas.height || 300; // Fallback if height is 0\n    return {\n        x: Math.floor(Math.random() * (width - 2 * padding)) + padding,\n        y: Math.floor(Math.random() * (height - 2 * padding)) + padding\n    };\n};\n/**\n * Special calibration capture function that avoids problematic code paths\n * @param {Object} options - All the calibration options\n * @returns {Promise<Object>} Result object with captured data\n */ /**\n * Special calibration capture function that behaves like random dot capture\n * @param {Object} options - All the calibration options\n * @returns {Promise<Object>} Result object with captured data\n */ const calibrationCapture = async (options)=>{\n    const { canvasRef, point, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, captureFolder = 'eye_tracking_captures', pointIndex, totalPoints } = options;\n    try {\n        console.log(`Starting calibration capture for point ${pointIndex + 1}/${totalPoints}`);\n        // Get canvas\n        const canvas = canvasRef.current;\n        if (!canvas) {\n            console.error(\"Canvas reference is null in calibrationCapture\");\n            setProcessStatus?.(`Error: Canvas not available`);\n            return {\n                success: false\n            };\n        }\n        // Use the exact same drawing method as random dots\n        const ctx = canvas.getContext('2d');\n        drawRedDot(ctx, point.x, point.y);\n        setProcessStatus?.(`Calibration point ${pointIndex + 1}/${totalPoints}`);\n        // Use the same countdown element creation method\n        const canvasRect = canvas.getBoundingClientRect();\n        const countdownElement = createCountdownElement(point, canvasRect);\n        if (!countdownElement) {\n            console.error(\"Failed to create countdown element\");\n            return {\n                success: false\n            };\n        }\n        // Create a redrawInterval for keeping the dot visible\n        let redrawInterval = setInterval(()=>{\n            drawRedDot(ctx, point.x, point.y, 12, false);\n        }, 200);\n        // Run the same countdown as random dot\n        for(let count = 3; count > 0; count--){\n            countdownElement.textContent = count;\n            setProcessStatus?.(`Point ${pointIndex + 1}/${totalPoints} - countdown ${count}`);\n            // Redraw the dot at each step to ensure it remains visible\n            drawRedDot(ctx, point.x, point.y, 12, false);\n            await new Promise((resolve)=>setTimeout(resolve, 800));\n        }\n        // Show checkmark\n        countdownElement.textContent = \"✓\";\n        // Remove countdown element\n        setTimeout(()=>{\n            if (countdownElement.parentNode) {\n                countdownElement.parentNode.removeChild(countdownElement);\n            }\n            // Clear redrawInterval\n            if (redrawInterval) {\n                clearInterval(redrawInterval);\n            }\n        }, 300);\n        // Use captureAndPreviewProcess instead of directly calling captureImagesAtPoint\n        const captureResult = await captureAndPreviewProcess({\n            canvasRef,\n            position: point,\n            captureCounter,\n            setCaptureCounter,\n            setProcessStatus: (status)=>{\n                if (typeof status === 'string') {\n                    setProcessStatus?.(status);\n                } else if (status && typeof status === 'object') {\n                    setProcessStatus?.(status.processStatus || '');\n                }\n            },\n            toggleTopBar,\n            onStatusUpdate: (status)=>{\n                if (typeof status === 'string') {\n                    setProcessStatus?.(status);\n                } else if (status && typeof status === 'object') {\n                    setProcessStatus?.(status.processStatus || '');\n                }\n            },\n            captureFolder\n        });\n        // Ensure proper return even if captureResult is null\n        const safeResult = captureResult && typeof captureResult === 'object' ? captureResult : {\n            screenImage: '',\n            webcamImage: '',\n            success: false\n        };\n        return {\n            screenImage: safeResult.screenImage || '',\n            webcamImage: safeResult.webcamImage || '',\n            success: true,\n            point\n        };\n    } catch (error) {\n        console.error(\"Error in calibrationCapture:\", error);\n        setProcessStatus?.(`Error: ${error.message}`);\n        // Always return a valid object with default values\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\n * Complete capture and preview process\n * @param {Object} options - Process options\n */ const captureAndPreviewProcess = async (options)=>{\n    const { canvasRef, position, captureCounter, setCaptureCounter, setProcessStatus, toggleTopBar, onStatusUpdate, captureFolder } = options;\n    try {\n        const canvas = canvasRef?.current;\n        if (!canvas) {\n            console.error(\"[captureAndPreviewProcess] Canvas reference is null\");\n            if (setProcessStatus) setProcessStatus('Error: Canvas is not available');\n            return null;\n        }\n        // Draw the dot\n        const ctx = canvas.getContext('2d');\n        drawRedDot(ctx, position.x, position.y);\n        // Countdown before capture\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Starting countdown...',\n                isCapturing: true\n            });\n        }\n        // Create a custom countdown element\n        const canvasRect = canvas.getBoundingClientRect();\n        const countdownElement = document.createElement('div');\n        countdownElement.className = 'calibrate-countdown';\n        countdownElement.style.cssText = `\n      position: fixed;\n      left: ${canvasRect.left + position.x}px;\n      top: ${canvasRect.top + position.y - 60}px;\n      transform: translateX(-50%);\n      color: red;\n      font-size: 36px;\n      font-weight: bold;\n      text-shadow: 0 0 10px white, 0 0 20px white;\n      z-index: 9999;\n      background-color: rgba(255, 255, 255, 0.8);\n      border: 2px solid red;\n      border-radius: 50%;\n      width: 50px;\n      height: 50px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n    `;\n        document.body.appendChild(countdownElement);\n        // Create a redrawInterval for keeping the dot visible\n        let redrawInterval = setInterval(()=>{\n            drawRedDot(ctx, position.x, position.y, 12, false);\n        }, 200);\n        // Manual countdown\n        for(let count = 3; count > 0; count--){\n            countdownElement.textContent = count;\n            if (onStatusUpdate) {\n                onStatusUpdate({\n                    processStatus: `Countdown: ${count}`,\n                    countdownValue: count,\n                    isCapturing: true\n                });\n            }\n            // Redraw dot to ensure it's visible\n            drawRedDot(ctx, position.x, position.y);\n            await new Promise((resolve)=>setTimeout(resolve, 800));\n        }\n        // Change to checkmark\n        countdownElement.textContent = \"✓\";\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Capturing images...',\n                countdownValue: \"Capturing...\",\n                isCapturing: true\n            });\n        }\n        // Remove countdown element and clear redrawInterval\n        setTimeout(()=>{\n            if (countdownElement.parentNode) {\n                countdownElement.parentNode.removeChild(countdownElement);\n            }\n            if (redrawInterval) {\n                clearInterval(redrawInterval);\n            }\n        }, 300);\n        // Use captureImagesAtPoint from savefile.js\n        const captureResult = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_0__.captureImagesAtPoint)({\n            point: position,\n            captureCount: captureCounter,\n            canvasRef,\n            setCaptureCount: setCaptureCounter,\n            showCapturePreview\n        });\n        if (setProcessStatus) {\n            setProcessStatus(`Captured dot at x=${Math.round(position.x)}, y=${Math.round(position.y)}`);\n        }\n        if (onStatusUpdate) {\n            onStatusUpdate({\n                processStatus: 'Capture complete',\n                isCapturing: false\n            });\n        }\n        // Show TopBar again with delay\n        setTimeout(()=>{\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(true);\n            } else if (false) {}\n        }, 2500);\n        return captureResult;\n    } catch (error) {\n        console.error(\"[captureAndPreviewProcess] Fatal error:\", error);\n        if (setProcessStatus) {\n            setProcessStatus(`Fatal error: ${error.message}`);\n        }\n        // Ensure TopBar is shown even on error\n        setTimeout(()=>{\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(true);\n            } else if (false) {}\n        }, 1500);\n        // Return a minimal valid object to prevent null reference errors\n        return {\n            screenImage: '',\n            webcamImage: '',\n            success: false,\n            error: error.message\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLGdFQUFnRTtBQUNoRSxpRUFBaUU7QUFDUDtBQUUxRDs7Ozs7Q0FLQyxHQUNNLE1BQU1DLHlCQUF5QixDQUFDQyxVQUFVQztJQUMvQyxJQUFJLENBQUNELFlBQVksT0FBT0EsU0FBU0UsQ0FBQyxLQUFLLFlBQVksT0FBT0YsU0FBU0csQ0FBQyxLQUFLLFVBQVU7UUFDakZDLFFBQVFDLElBQUksQ0FBQyw4Q0FBOENMO1FBQzNELE9BQU87SUFDVDtJQUVBLE1BQU1NLHFCQUFxQkMsU0FBU0MsZ0JBQWdCLENBQUM7SUFDckRGLG1CQUFtQkcsT0FBTyxDQUFDQyxDQUFBQSxLQUFNQSxHQUFHQyxNQUFNO0lBRTFDLE1BQU1DLFlBQVlYLFdBQVdZLElBQUksR0FBR2IsU0FBU0UsQ0FBQztJQUM5QyxNQUFNWSxZQUFZYixXQUFXYyxHQUFHLEdBQUdmLFNBQVNHLENBQUM7SUFFN0MsTUFBTWEsbUJBQW1CVCxTQUFTVSxhQUFhLENBQUM7SUFDaERELGlCQUFpQkUsU0FBUyxHQUFHO0lBQzdCRixpQkFBaUJHLEtBQUssQ0FBQ0MsT0FBTyxHQUFHLENBQUM7O1VBRTFCLEVBQUVSLFVBQVU7U0FDYixFQUFFRSxZQUFZLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7RUFnQnhCLENBQUM7SUFFRFAsU0FBU2MsSUFBSSxDQUFDQyxXQUFXLENBQUNOO0lBQzFCLE9BQU9BO0FBQ1QsRUFBRTtBQUVGOzs7OztDQUtDLEdBQ00sTUFBTU8scUJBQXFCLENBQUNDLGFBQWFDLGFBQWFDO0lBQzNELElBQUksQ0FBQ0YsZUFBZSxDQUFDQyxhQUFhO0lBRWxDLCtCQUErQjtJQUMvQixNQUFNRSxtQkFBbUJwQixTQUFTQyxnQkFBZ0IsQ0FBQztJQUNuRG1CLGlCQUFpQmxCLE9BQU8sQ0FBQ21CLENBQUFBO1FBQ3ZC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aW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpeGVkIGNvdW50U2F2ZS5qcyAtIFJlc29sdmluZyByZWRyYXdJbnRlcnZhbCByZWZlcmVuY2UgZXJyb3Jcbi8vIFNoYXJlZCBmdW5jdGlvbmFsaXR5IGZvciBjb3VudGRvd24gYW5kIGltYWdlIGNhcHR1cmUgcHJvY2Vzc2VzXG5pbXBvcnQgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9IGZyb20gJy4uL0hlbHBlci9zYXZlZmlsZSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgZGlzcGxheXMgYSBjb3VudGRvd24gZWxlbWVudCBhYm92ZSBhIGRvdCBwb3NpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uIC0ge3gsIHl9IHBvc2l0aW9uIG9mIHRoZSBkb3RcbiAqIEBwYXJhbSB7RE9NUmVjdH0gY2FudmFzUmVjdCAtIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIG9mIHRoZSBjYW52YXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gLSBUaGUgY3JlYXRlZCBjb3VudGRvd24gZWxlbWVudFxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlQ291bnRkb3duRWxlbWVudCA9IChwb3NpdGlvbiwgY2FudmFzUmVjdCkgPT4ge1xuICBpZiAoIXBvc2l0aW9uIHx8IHR5cGVvZiBwb3NpdGlvbi54ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcG9zaXRpb24ueSAhPT0gJ251bWJlcicpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tjcmVhdGVDb3VudGRvd25FbGVtZW50XSBJbnZhbGlkIHBvc2l0aW9uOicsIHBvc2l0aW9uKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGV4aXN0aW5nQ291bnRkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYWxpYnJhdGUtY291bnRkb3duLCAuZm9yY2VkLWNvdW50ZG93biwgLmNlbnRlci1jb3VudGRvd24tYmFja3VwJyk7XG4gIGV4aXN0aW5nQ291bnRkb3ducy5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcblxuICBjb25zdCBhYnNvbHV0ZVggPSBjYW52YXNSZWN0LmxlZnQgKyBwb3NpdGlvbi54O1xuICBjb25zdCBhYnNvbHV0ZVkgPSBjYW52YXNSZWN0LnRvcCArIHBvc2l0aW9uLnk7XG5cbiAgY29uc3QgY291bnRkb3duRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb3VudGRvd25FbGVtZW50LmNsYXNzTmFtZSA9ICdkb3QtY291bnRkb3duJztcbiAgY291bnRkb3duRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBsZWZ0OiAke2Fic29sdXRlWH1weDtcbiAgICB0b3A6ICR7YWJzb2x1dGVZIC0gNjB9cHg7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgIGNvbG9yOiByZWQ7XG4gICAgZm9udC1zaXplOiAzNnB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCB3aGl0ZSwgMCAwIDIwcHggd2hpdGU7XG4gICAgei1pbmRleDogOTk5OTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XG4gICAgYm9yZGVyOiAycHggc29saWQgcmVkO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgYDtcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICByZXR1cm4gY291bnRkb3duRWxlbWVudDtcbn07XG5cbi8qKlxuICogRGlzcGxheSBhIHByZXZpZXcgb2YgdGhlIGNhcHR1cmVkIGltYWdlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNjcmVlbkltYWdlIC0gRGF0YSBVUkwgb2YgdGhlIHNjcmVlbiBpbWFnZVxuICogQHBhcmFtIHtzdHJpbmd9IHdlYmNhbUltYWdlIC0gRGF0YSBVUkwgb2YgdGhlIHdlYmNhbSBpbWFnZVxuICogQHBhcmFtIHtPYmplY3R9IHBvaW50IC0ge3gsIHl9IHBvc2l0aW9uIG9mIHRoZSBkb3RcbiAqL1xuZXhwb3J0IGNvbnN0IHNob3dDYXB0dXJlUHJldmlldyA9IChzY3JlZW5JbWFnZSwgd2ViY2FtSW1hZ2UsIHBvaW50KSA9PiB7XG4gIGlmICghc2NyZWVuSW1hZ2UgJiYgIXdlYmNhbUltYWdlKSByZXR1cm47XG4gIFxuICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIHByZXZpZXdzXG4gIGNvbnN0IGV4aXN0aW5nUHJldmlld3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FwdHVyZS1wcmV2aWV3LWNvbnRhaW5lcicpO1xuICBleGlzdGluZ1ByZXZpZXdzLmZvckVhY2gocHJldmlldyA9PiB7XG4gICAgaWYgKHByZXZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgcHJldmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHByZXZpZXcpO1xuICAgIH1cbiAgfSk7XG4gIFxuICAvLyBDcmVhdGUgcHJldmlldyBjb250YWluZXJcbiAgY29uc3QgcHJldmlld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwcmV2aWV3Q29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYXB0dXJlLXByZXZpZXctY29udGFpbmVyJztcbiAgcHJldmlld0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDIwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg1KTtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgei1pbmRleDogOTk5OTk5O1xuICAgIGJveC1zaGFkb3c6IDAgOHB4IDI1cHggcmdiYSgwLCAwLCAwLCAwLjYpO1xuICBgO1xuICBcbiAgLy8gQWRkIHNjcmVlbiBpbWFnZSBpZiBhdmFpbGFibGVcbiAgaWYgKHNjcmVlbkltYWdlKSB7XG4gICAgY29uc3Qgc2NyZWVuUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHNjcmVlblByZXZpZXcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHNjcmVlbkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIHNjcmVlbkltZy5zcmMgPSBzY3JlZW5JbWFnZTtcbiAgICBzY3JlZW5JbWcuYWx0ID0gJ1NjcmVlbiBDYXB0dXJlJztcbiAgICBzY3JlZW5JbWcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIG1heC13aWR0aDogMzIwcHg7XG4gICAgICBtYXgtaGVpZ2h0OiAyNDBweDtcbiAgICAgIGJvcmRlcjogM3B4IHNvbGlkIHdoaXRlO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHNjcmVlbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc2NyZWVuTGFiZWwudGV4dENvbnRlbnQgPSAnU2NyZWVuIENhcHR1cmUnO1xuICAgIHNjcmVlbkxhYmVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgYDtcbiAgICBcbiAgICBzY3JlZW5QcmV2aWV3LmFwcGVuZENoaWxkKHNjcmVlbkltZyk7XG4gICAgc2NyZWVuUHJldmlldy5hcHBlbmRDaGlsZChzY3JlZW5MYWJlbCk7XG4gICAgcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChzY3JlZW5QcmV2aWV3KTtcbiAgfVxuICBcbiAgLy8gQWRkIHdlYmNhbSBpbWFnZSBpZiBhdmFpbGFibGVcbiAgaWYgKHdlYmNhbUltYWdlKSB7XG4gICAgY29uc3Qgd2ViY2FtUHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdlYmNhbVByZXZpZXcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHdlYmNhbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIHdlYmNhbUltZy5zcmMgPSB3ZWJjYW1JbWFnZTtcbiAgICB3ZWJjYW1JbWcuYWx0ID0gJ1dlYmNhbSBDYXB0dXJlJztcbiAgICB3ZWJjYW1JbWcuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIG1heC13aWR0aDogMzIwcHg7XG4gICAgICBtYXgtaGVpZ2h0OiAyNDBweDtcbiAgICAgIGJvcmRlcjogM3B4IHNvbGlkIHdoaXRlO1xuICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcbiAgICBgO1xuICAgIFxuICAgIGNvbnN0IHdlYmNhbUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd2ViY2FtTGFiZWwudGV4dENvbnRlbnQgPSAnV2ViY2FtIENhcHR1cmUnO1xuICAgIHdlYmNhbUxhYmVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgYDtcbiAgICBcbiAgICB3ZWJjYW1QcmV2aWV3LmFwcGVuZENoaWxkKHdlYmNhbUltZyk7XG4gICAgd2ViY2FtUHJldmlldy5hcHBlbmRDaGlsZCh3ZWJjYW1MYWJlbCk7XG4gICAgcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh3ZWJjYW1QcmV2aWV3KTtcbiAgfVxuICBcbiAgLy8gQWRkIHBvaW50IGluZm9cbiAgaWYgKHBvaW50KSB7XG4gICAgY29uc3QgcG9pbnRJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcG9pbnRJbmZvLnRleHRDb250ZW50ID0gcG9pbnQubGFiZWwgPyBcbiAgICAgIGAke3BvaW50LmxhYmVsfTogeD0ke01hdGgucm91bmQocG9pbnQueCl9LCB5PSR7TWF0aC5yb3VuZChwb2ludC55KX1gIDpcbiAgICAgIGBQb2ludDogeD0ke01hdGgucm91bmQocG9pbnQueCl9LCB5PSR7TWF0aC5yb3VuZChwb2ludC55KX1gO1xuICAgICAgXG4gICAgcG9pbnRJbmZvLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICBjb2xvcjogI2ZmY2MwMDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogLTQwcHg7XG4gICAgICBsZWZ0OiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYDtcbiAgICBwcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHBvaW50SW5mbyk7XG4gIH1cbiAgXG4gIC8vIEFkZCB0aW1lclxuICBjb25zdCB0aW1lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gJzIuMHMnO1xuICB0aW1lckVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAtMjVweDtcbiAgICByaWdodDogMjBweDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgICBwYWRkaW5nOiAzcHggOHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYDtcbiAgcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aW1lckVsZW1lbnQpO1xuICBcbiAgLy8gQWRkIHRvIGRvY3VtZW50XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocHJldmlld0NvbnRhaW5lcik7XG4gIFxuICAvLyBDb3VudGRvd25cbiAgbGV0IHRpbWVMZWZ0ID0gMi4wO1xuICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICB0aW1lTGVmdCAtPSAwLjE7XG4gICAgaWYgKHRpbWVMZWZ0IDw9IDApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgcHJldmlld0NvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgcHJldmlld0NvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMC4zcyBlYXNlJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAocHJldmlld0NvbnRhaW5lci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgcHJldmlld0NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHByZXZpZXdDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lckVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aW1lTGVmdC50b0ZpeGVkKDEpfXNgO1xuICAgIH1cbiAgfSwgMTAwKTtcbiAgXG4gIC8vIFNhZmV0eSBjbGVhbnVwXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGlmIChwcmV2aWV3Q29udGFpbmVyLnBhcmVudE5vZGUpIHtcbiAgICAgIHByZXZpZXdDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwcmV2aWV3Q29udGFpbmVyKTtcbiAgICB9XG4gIH0sIDUwMDApO1xufTtcblxuLyoqXG4gKiBSdW5zIGEgY291bnRkb3duIHByb2Nlc3MgdGhhdCBkaXNwbGF5cyAzLTItMSBhYm92ZSBhIGRvdFxuICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uIC0ge3gsIHl9IHBvc2l0aW9uIG9mIHRoZSBkb3RcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIGRvdFxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25TdGF0dXNVcGRhdGUgLSBGdW5jdGlvbiB0byB1cGRhdGUgc3RhdHVzIG1lc3NhZ2VzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkNvbXBsZXRlIC0gQ2FsbGJhY2sgdG8gZXhlY3V0ZSB3aGVuIGNvdW50ZG93biBjb21wbGV0ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHJ1bkNvdW50ZG93biA9IGFzeW5jIChwb3NpdGlvbiwgY2FudmFzLCBvblN0YXR1c1VwZGF0ZSwgb25Db21wbGV0ZSkgPT4ge1xuICBpZiAoIXBvc2l0aW9uIHx8IHR5cGVvZiBwb3NpdGlvbi54ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgcG9zaXRpb24ueSAhPT0gJ251bWJlcicpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tydW5Db3VudGRvd25dIEludmFsaWQgcG9zaXRpb246JywgcG9zaXRpb24pO1xuICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgcHJvY2Vzc1N0YXR1czogXCJJbnZhbGlkIGRvdCBwb3NpdGlvblwiLFxuICAgICAgY291bnRkb3duVmFsdWU6IG51bGwsXG4gICAgICBpc0NhcHR1cmluZzogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjYW52YXNSZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjb3VudGRvd25FbGVtZW50ID0gY3JlYXRlQ291bnRkb3duRWxlbWVudChwb3NpdGlvbiwgY2FudmFzUmVjdCk7XG4gIFxuICBpZiAoIWNvdW50ZG93bkVsZW1lbnQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tydW5Db3VudGRvd25dIENvdW50ZG93biBlbGVtZW50IGNvdWxkIG5vdCBiZSBjcmVhdGVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBkcmF3UmVkRG90KGN0eCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgbGV0IGNvdW50ID0gMztcbiAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuXG4gIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgIHByb2Nlc3NTdGF0dXM6IFwiQ291bnRkb3duXCIsXG4gICAgY291bnRkb3duVmFsdWU6IGNvdW50LFxuICAgIGlzQ2FwdHVyaW5nOiB0cnVlXG4gIH0pO1xuXG4gIC8vIENyZWF0ZSByZWRyYXdJbnRlcnZhbCBmb3Iga2VlcGluZyBkb3QgdmlzaWJsZSBkdXJpbmcgY291bnRkb3duXG4gIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBkcmF3UmVkRG90KGN0eCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSwgMTIsIGZhbHNlKTtcbiAgfSwgMjAwKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBjb3VudGRvd25JbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvdW50LS07XG5cbiAgICAgIGlmIChjb3VudCA8PSAwKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgICAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gXCLinJNcIjtcblxuICAgICAgICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICAgICAgICBjb3VudGRvd25WYWx1ZTogXCJDYXB0dXJpbmcuLi5cIixcbiAgICAgICAgICBwcm9jZXNzU3RhdHVzOiBcIkNhcHR1cmluZyBpbWFnZS4uLlwiLFxuICAgICAgICAgIGlzQ2FwdHVyaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGNvdW50ZG93bkVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb3VudGRvd25FbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIDEyLCBmYWxzZSk7XG5cbiAgICAgICAgICAvLyBDbGVhciB0aGUgcmVkcmF3SW50ZXJ2YWwgd2UgZGVmaW5lZCBhYm92ZVxuICAgICAgICAgIGlmIChyZWRyYXdJbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWRyYXdJbnRlcnZhbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMiwgZmFsc2UpO1xuICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gY291bnQ7XG5cbiAgICAgICAgb25TdGF0dXNVcGRhdGU/Lih7XG4gICAgICAgICAgcHJvY2Vzc1N0YXR1czogXCJDb3VudGRvd25cIixcbiAgICAgICAgICBjb3VudGRvd25WYWx1ZTogY291bnQsXG4gICAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgODAwKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIERyYXcgYSByZWQgZG90IG9uIHRoZSBjYW52YXNcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBDYW52YXMgMkQgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBYIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gWSBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gRG90IHJhZGl1c1xuICogQHBhcmFtIHtib29sZWFufSBjbGVhckNhbnZhcyAtIFdoZXRoZXIgdG8gY2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyAoZGVmYXVsdDogdHJ1ZSlcbiAqIEByZXR1cm5zIHtPYmplY3R9IC0ge3gsIHl9IHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBkcmF3UmVkRG90ID0gKGN0eCwgeCwgeSwgcmFkaXVzID0gMTIsIGNsZWFyQ2FudmFzID0gdHJ1ZSkgPT4ge1xuICBjb25zdCBjYW52YXMgPSBjdHguY2FudmFzO1xuICBcbiAgLy8gQ2xlYXIgdGhlIGNhbnZhcyBpZiByZXF1ZXN0ZWQgKGRlZmF1bHQgYmVoYXZpb3IpXG4gIGlmIChjbGVhckNhbnZhcykge1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgfVxuICBcbiAgLy8gRHJhdyB0aGUgZG90IHdpdGggYSBicmlnaHQgcmVkIGNvbG9yXG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyh4LCB5LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xuICBjdHguZmlsbCgpO1xuICBcbiAgLy8gQWRkIGdsb3cgZWZmZWN0IGZvciBiZXR0ZXIgdmlzaWJpbGl0eVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgcmFkaXVzICsgMywgMCwgTWF0aC5QSSAqIDIpO1xuICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuNSknO1xuICBjdHgubGluZVdpZHRoID0gMztcbiAgY3R4LnN0cm9rZSgpO1xuICBcbiAgLy8gQWRkIGEgc2Vjb25kIGxhcmdlciBnbG93IGZvciBldmVuIGJldHRlciB2aXNpYmlsaXR5XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyh4LCB5LCByYWRpdXMgKyA2LCAwLCBNYXRoLlBJICogMik7XG4gIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC4zKSc7XG4gIGN0eC5saW5lV2lkdGggPSAyO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICByZXR1cm4geyB4LCB5IH07XG59O1xuXG4vKipcbiAqIENhcHR1cmUgaW1hZ2VzIGF0IGEgc3BlY2lmaWMgcG9pbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ2FwdHVyZSBvcHRpb25zXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY2FwdHVyZSByZXN1bHRcbiAqL1xuZXhwb3J0IGNvbnN0IGNhcHR1cmVJbWFnZXMgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhbnZhc1JlZixcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgY2FwdHVyZUNvdW50ZXIsIFxuICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgICBzZXRQcm9jZXNzU3RhdHVzLFxuICAgICAgdG9nZ2xlVG9wQmFyLFxuICAgICAgY2FwdHVyZUZvbGRlciA9ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnXG4gICAgfSA9IG9wdGlvbnM7XG4gIFxuICAgIGlmICghcG9zaXRpb24gfHwgdHlwZW9mIHBvc2l0aW9uLnggIT09ICdudW1iZXInIHx8IHR5cGVvZiBwb3NpdGlvbi55ICE9PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS53YXJuKCdbY2FwdHVyZUltYWdlc10gSW52YWxpZCBwb3NpdGlvbiBvYmplY3Q6JywgcG9zaXRpb24pO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKCdFcnJvcjogSW52YWxpZCBjYXB0dXJlIHBvc2l0aW9uJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICAvLyBDYWxsIHRoZSBjYXB0dXJlSW1hZ2VzQXRQb2ludCBmcm9tIHNhdmVmaWxlLmpzIHdpdGggYWxsIG5lY2Vzc2FyeSBwYXJhbWV0ZXJzXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYXB0dXJlSW1hZ2VzQXRQb2ludCh7XG4gICAgICAgIHBvaW50OiBwb3NpdGlvbixcbiAgICAgICAgY2FwdHVyZUNvdW50OiBjYXB0dXJlQ291bnRlcixcbiAgICAgICAgY2FudmFzUmVmLCBcbiAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICB9KTtcbiAgXG4gICAgICBjb25zb2xlLmxvZygnQ2FwdHVyZSBzdWNjZXNzZnVsIHdpdGggSUQ6JywgcmVzdWx0LmNhcHR1cmVJZCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlbkltYWdlOiByZXN1bHQ/LnNjcmVlbkltYWdlIHx8ICcnLFxuICAgICAgICB3ZWJjYW1JbWFnZTogcmVzdWx0Py53ZWJjYW1JbWFnZSB8fCAnJyxcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZUlkOiByZXN1bHQ/LmNhcHR1cmVJZFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tjYXB0dXJlSW1hZ2VzXSBVbmV4cGVjdGVkIGVycm9yOicsIGVycik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYEVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NyZWVuSW1hZ2U6ICcnLFxuICAgICAgICB3ZWJjYW1JbWFnZTogJycsXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9O1xuLyoqXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSBkb3QgcG9zaXRpb24gd2l0aGluIHRoZSBjYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIENhbnZhcyBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZyAtIFBhZGRpbmcgZnJvbSB0aGUgZWRnZXNcbiAqIEByZXR1cm5zIHtPYmplY3R9IC0ge3gsIHl9IHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRSYW5kb21Qb3NpdGlvbiA9IChjYW52YXMsIHBhZGRpbmcgPSA0MCkgPT4ge1xuICBpZiAoIWNhbnZhcykgcmV0dXJuIHsgeDogMTAwLCB5OiAxMDAgfTsgLy8gRmFsbGJhY2sgcG9zaXRpb25cbiAgXG4gIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoIHx8IDQwMDsgIC8vIEZhbGxiYWNrIGlmIHdpZHRoIGlzIDBcbiAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCB8fCAzMDA7IC8vIEZhbGxiYWNrIGlmIGhlaWdodCBpcyAwXG4gIFxuICByZXR1cm4ge1xuICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh3aWR0aCAtIDIgKiBwYWRkaW5nKSkgKyBwYWRkaW5nLFxuICAgIHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChoZWlnaHQgLSAyICogcGFkZGluZykpICsgcGFkZGluZ1xuICB9O1xufTtcblxuLyoqXG4gKiBTcGVjaWFsIGNhbGlicmF0aW9uIGNhcHR1cmUgZnVuY3Rpb24gdGhhdCBhdm9pZHMgcHJvYmxlbWF0aWMgY29kZSBwYXRoc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbGwgdGhlIGNhbGlicmF0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJlc3VsdCBvYmplY3Qgd2l0aCBjYXB0dXJlZCBkYXRhXG4gKi9cbi8qKlxuICogU3BlY2lhbCBjYWxpYnJhdGlvbiBjYXB0dXJlIGZ1bmN0aW9uIHRoYXQgYmVoYXZlcyBsaWtlIHJhbmRvbSBkb3QgY2FwdHVyZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbGwgdGhlIGNhbGlicmF0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJlc3VsdCBvYmplY3Qgd2l0aCBjYXB0dXJlZCBkYXRhXG4gKi9cbmV4cG9ydCBjb25zdCBjYWxpYnJhdGlvbkNhcHR1cmUgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhbnZhc1JlZixcbiAgICAgIHBvaW50LFxuICAgICAgY2FwdHVyZUNvdW50ZXIsXG4gICAgICBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMsXG4gICAgICB0b2dnbGVUb3BCYXIsXG4gICAgICBjYXB0dXJlRm9sZGVyID0gJ2V5ZV90cmFja2luZ19jYXB0dXJlcycsXG4gICAgICBwb2ludEluZGV4LFxuICAgICAgdG90YWxQb2ludHNcbiAgICB9ID0gb3B0aW9ucztcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBTdGFydGluZyBjYWxpYnJhdGlvbiBjYXB0dXJlIGZvciBwb2ludCAke3BvaW50SW5kZXggKyAxfS8ke3RvdGFsUG9pbnRzfWApO1xuICAgICAgXG4gICAgICAvLyBHZXQgY2FudmFzXG4gICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgcmVmZXJlbmNlIGlzIG51bGwgaW4gY2FsaWJyYXRpb25DYXB0dXJlXCIpO1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYEVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZWApO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xuICAgICAgfVxuICBcbiAgICAgIC8vIFVzZSB0aGUgZXhhY3Qgc2FtZSBkcmF3aW5nIG1ldGhvZCBhcyByYW5kb20gZG90c1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSk7XG4gIFxuICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKGBDYWxpYnJhdGlvbiBwb2ludCAke3BvaW50SW5kZXggKyAxfS8ke3RvdGFsUG9pbnRzfWApO1xuICBcbiAgICAgIC8vIFVzZSB0aGUgc2FtZSBjb3VudGRvd24gZWxlbWVudCBjcmVhdGlvbiBtZXRob2RcbiAgICAgIGNvbnN0IGNhbnZhc1JlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBjb3VudGRvd25FbGVtZW50ID0gY3JlYXRlQ291bnRkb3duRWxlbWVudChwb2ludCwgY2FudmFzUmVjdCk7XG4gICAgICBcbiAgICAgIGlmICghY291bnRkb3duRWxlbWVudCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBjb3VudGRvd24gZWxlbWVudFwiKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBDcmVhdGUgYSByZWRyYXdJbnRlcnZhbCBmb3Iga2VlcGluZyB0aGUgZG90IHZpc2libGVcbiAgICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvaW50LngsIHBvaW50LnksIDEyLCBmYWxzZSk7XG4gICAgICB9LCAyMDApO1xuICBcbiAgICAgIC8vIFJ1biB0aGUgc2FtZSBjb3VudGRvd24gYXMgcmFuZG9tIGRvdFxuICAgICAgZm9yIChsZXQgY291bnQgPSAzOyBjb3VudCA+IDA7IGNvdW50LS0pIHtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IGNvdW50O1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oYFBvaW50ICR7cG9pbnRJbmRleCArIDF9LyR7dG90YWxQb2ludHN9IC0gY291bnRkb3duICR7Y291bnR9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWRyYXcgdGhlIGRvdCBhdCBlYWNoIHN0ZXAgdG8gZW5zdXJlIGl0IHJlbWFpbnMgdmlzaWJsZVxuICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgMTIsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBTaG93IGNoZWNrbWFya1xuICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IFwi4pyTXCI7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBjb3VudGRvd24gZWxlbWVudFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY291bnRkb3duRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIHJlZHJhd0ludGVydmFsXG4gICAgICAgIGlmIChyZWRyYXdJbnRlcnZhbCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICBcbiAgICAgIC8vIFVzZSBjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3MgaW5zdGVhZCBvZiBkaXJlY3RseSBjYWxsaW5nIGNhcHR1cmVJbWFnZXNBdFBvaW50XG4gICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUFuZFByZXZpZXdQcm9jZXNzKHtcbiAgICAgICAgY2FudmFzUmVmLFxuICAgICAgICBwb3NpdGlvbjogcG9pbnQsXG4gICAgICAgIGNhcHR1cmVDb3VudGVyLFxuICAgICAgICBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1czogKHN0YXR1cykgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdHVzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKHN0YXR1cyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgJiYgdHlwZW9mIHN0YXR1cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXM/LihzdGF0dXMucHJvY2Vzc1N0YXR1cyB8fCAnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVUb3BCYXIsXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzdGF0dXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzPy4oc3RhdHVzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyAmJiB0eXBlb2Ygc3RhdHVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKHN0YXR1cy5wcm9jZXNzU3RhdHVzIHx8ICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhcHR1cmVGb2xkZXJcbiAgICAgIH0pO1xuICBcbiAgICAgIC8vIEVuc3VyZSBwcm9wZXIgcmV0dXJuIGV2ZW4gaWYgY2FwdHVyZVJlc3VsdCBpcyBudWxsXG4gICAgICBjb25zdCBzYWZlUmVzdWx0ID0gY2FwdHVyZVJlc3VsdCAmJiB0eXBlb2YgY2FwdHVyZVJlc3VsdCA9PT0gJ29iamVjdCcgXG4gICAgICAgID8gY2FwdHVyZVJlc3VsdCBcbiAgICAgICAgOiB7IHNjcmVlbkltYWdlOiAnJywgd2ViY2FtSW1hZ2U6ICcnLCBzdWNjZXNzOiBmYWxzZSB9O1xuICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlbkltYWdlOiBzYWZlUmVzdWx0LnNjcmVlbkltYWdlIHx8ICcnLFxuICAgICAgICB3ZWJjYW1JbWFnZTogc2FmZVJlc3VsdC53ZWJjYW1JbWFnZSB8fCAnJyxcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcG9pbnRcbiAgICAgIH07XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGNhbGlicmF0aW9uQ2FwdHVyZTpcIiwgZXJyb3IpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cz8uKGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgXG4gICAgICAvLyBBbHdheXMgcmV0dXJuIGEgdmFsaWQgb2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlbkltYWdlOiAnJyxcbiAgICAgICAgd2ViY2FtSW1hZ2U6ICcnLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIENvbXBsZXRlIGNhcHR1cmUgYW5kIHByZXZpZXcgcHJvY2Vzc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBQcm9jZXNzIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNhcHR1cmVBbmRQcmV2aWV3UHJvY2VzcyA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjYW52YXNSZWYsXG4gICAgcG9zaXRpb24sXG4gICAgY2FwdHVyZUNvdW50ZXIsXG4gICAgc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgc2V0UHJvY2Vzc1N0YXR1cyxcbiAgICB0b2dnbGVUb3BCYXIsXG4gICAgb25TdGF0dXNVcGRhdGUsXG4gICAgY2FwdHVyZUZvbGRlclxuICB9ID0gb3B0aW9ucztcblxuICB0cnkge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZj8uY3VycmVudDtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgY29uc29sZS5lcnJvcihcIltjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3NdIENhbnZhcyByZWZlcmVuY2UgaXMgbnVsbFwiKTtcbiAgICAgIGlmIChzZXRQcm9jZXNzU3RhdHVzKSBzZXRQcm9jZXNzU3RhdHVzKCdFcnJvcjogQ2FudmFzIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIGRvdFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcblxuICAgIC8vIENvdW50ZG93biBiZWZvcmUgY2FwdHVyZVxuICAgIGlmIChvblN0YXR1c1VwZGF0ZSkge1xuICAgICAgb25TdGF0dXNVcGRhdGUoe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiAnU3RhcnRpbmcgY291bnRkb3duLi4uJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIGN1c3RvbSBjb3VudGRvd24gZWxlbWVudFxuICAgIGNvbnN0IGNhbnZhc1JlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY291bnRkb3duRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvdW50ZG93bkVsZW1lbnQuY2xhc3NOYW1lID0gJ2NhbGlicmF0ZS1jb3VudGRvd24nO1xuICAgIGNvdW50ZG93bkVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIGxlZnQ6ICR7Y2FudmFzUmVjdC5sZWZ0ICsgcG9zaXRpb24ueH1weDtcbiAgICAgIHRvcDogJHtjYW52YXNSZWN0LnRvcCArIHBvc2l0aW9uLnkgLSA2MH1weDtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICAgIGNvbG9yOiByZWQ7XG4gICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCB3aGl0ZSwgMCAwIDIwcHggd2hpdGU7XG4gICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgYm9yZGVyOiAycHggc29saWQgcmVkO1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgIGA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb3VudGRvd25FbGVtZW50KTtcblxuICAgIC8vIENyZWF0ZSBhIHJlZHJhd0ludGVydmFsIGZvciBrZWVwaW5nIHRoZSBkb3QgdmlzaWJsZVxuICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMiwgZmFsc2UpO1xuICAgIH0sIDIwMCk7XG5cbiAgICAvLyBNYW51YWwgY291bnRkb3duXG4gICAgZm9yIChsZXQgY291bnQgPSAzOyBjb3VudCA+IDA7IGNvdW50LS0pIHtcbiAgICAgIGNvdW50ZG93bkVsZW1lbnQudGV4dENvbnRlbnQgPSBjb3VudDtcbiAgICAgIGlmIChvblN0YXR1c1VwZGF0ZSkge1xuICAgICAgICBvblN0YXR1c1VwZGF0ZSh7XG4gICAgICAgICAgcHJvY2Vzc1N0YXR1czogYENvdW50ZG93bjogJHtjb3VudH1gLFxuICAgICAgICAgIGNvdW50ZG93blZhbHVlOiBjb3VudCxcbiAgICAgICAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFJlZHJhdyBkb3QgdG8gZW5zdXJlIGl0J3MgdmlzaWJsZVxuICAgICAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpO1xuICAgIH1cblxuICAgIC8vIENoYW5nZSB0byBjaGVja21hcmtcbiAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gXCLinJNcIjtcbiAgICBpZiAob25TdGF0dXNVcGRhdGUpIHtcbiAgICAgIG9uU3RhdHVzVXBkYXRlKHtcbiAgICAgICAgcHJvY2Vzc1N0YXR1czogJ0NhcHR1cmluZyBpbWFnZXMuLi4nLFxuICAgICAgICBjb3VudGRvd25WYWx1ZTogXCJDYXB0dXJpbmcuLi5cIixcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBjb3VudGRvd24gZWxlbWVudCBhbmQgY2xlYXIgcmVkcmF3SW50ZXJ2YWxcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChjb3VudGRvd25FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAocmVkcmF3SW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChyZWRyYXdJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSwgMzAwKTtcblxuICAgIC8vIFVzZSBjYXB0dXJlSW1hZ2VzQXRQb2ludCBmcm9tIHNhdmVmaWxlLmpzXG4gICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgIHBvaW50OiBwb3NpdGlvbixcbiAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICBjYW52YXNSZWYsXG4gICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgfSk7XG5cbiAgICBpZiAoc2V0UHJvY2Vzc1N0YXR1cykge1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FwdHVyZWQgZG90IGF0IHg9JHtNYXRoLnJvdW5kKHBvc2l0aW9uLngpfSwgeT0ke01hdGgucm91bmQocG9zaXRpb24ueSl9YCk7XG4gICAgfVxuXG4gICAgaWYgKG9uU3RhdHVzVXBkYXRlKSB7XG4gICAgICBvblN0YXR1c1VwZGF0ZSh7XG4gICAgICAgIHByb2Nlc3NTdGF0dXM6ICdDYXB0dXJlIGNvbXBsZXRlJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiB3aXRoIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRvZ2dsZVRvcEJhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgIH1cbiAgICB9LCAyNTAwKTtcblxuICAgIHJldHVybiBjYXB0dXJlUmVzdWx0O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIltjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3NdIEZhdGFsIGVycm9yOlwiLCBlcnJvcik7XG4gICAgXG4gICAgaWYgKHNldFByb2Nlc3NTdGF0dXMpIHtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYEZhdGFsIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEVuc3VyZSBUb3BCYXIgaXMgc2hvd24gZXZlbiBvbiBlcnJvclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0b2dnbGVUb3BCYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICB9XG4gICAgfSwgMTUwMCk7XG4gICAgXG4gICAgLy8gUmV0dXJuIGEgbWluaW1hbCB2YWxpZCBvYmplY3QgdG8gcHJldmVudCBudWxsIHJlZmVyZW5jZSBlcnJvcnNcbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuSW1hZ2U6ICcnLFxuICAgICAgd2ViY2FtSW1hZ2U6ICcnLFxuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgIH07XG4gIH1cbn07Il0sIm5hbWVzIjpbImNhcHR1cmVJbWFnZXNBdFBvaW50IiwiY3JlYXRlQ291bnRkb3duRWxlbWVudCIsInBvc2l0aW9uIiwiY2FudmFzUmVjdCIsIngiLCJ5IiwiY29uc29sZSIsIndhcm4iLCJleGlzdGluZ0NvdW50ZG93bnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJyZW1vdmUiLCJhYnNvbHV0ZVgiLCJsZWZ0IiwiYWJzb2x1dGVZIiwidG9wIiwiY291bnRkb3duRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzdHlsZSIsImNzc1RleHQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzaG93Q2FwdHVyZVByZXZpZXciLCJzY3JlZW5JbWFnZSIsIndlYmNhbUltYWdlIiwicG9pbnQiLCJleGlzdGluZ1ByZXZpZXdzIiwicHJldmlldyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInByZXZpZXdDb250YWluZXIiLCJzY3JlZW5QcmV2aWV3Iiwic2NyZWVuSW1nIiwic3JjIiwiYWx0Iiwic2NyZWVuTGFiZWwiLCJ0ZXh0Q29udGVudCIsIndlYmNhbVByZXZpZXciLCJ3ZWJjYW1JbWciLCJ3ZWJjYW1MYWJlbCIsInBvaW50SW5mbyIsImxhYmVsIiwiTWF0aCIsInJvdW5kIiwidGltZXJFbGVtZW50IiwidGltZUxlZnQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwic2V0VGltZW91dCIsInRvRml4ZWQiLCJydW5Db3VudGRvd24iLCJjYW52YXMiLCJvblN0YXR1c1VwZGF0ZSIsIm9uQ29tcGxldGUiLCJwcm9jZXNzU3RhdHVzIiwiY291bnRkb3duVmFsdWUiLCJpc0NhcHR1cmluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImN0eCIsImdldENvbnRleHQiLCJkcmF3UmVkRG90IiwiY291bnQiLCJyZWRyYXdJbnRlcnZhbCIsIlByb21pc2UiLCJyZXNvbHZlIiwiY291bnRkb3duSW50ZXJ2YWwiLCJyYWRpdXMiLCJjbGVhckNhbnZhcyIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImZpbGwiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsImNhcHR1cmVJbWFnZXMiLCJvcHRpb25zIiwiY2FudmFzUmVmIiwiY2FwdHVyZUNvdW50ZXIiLCJzZXRDYXB0dXJlQ291bnRlciIsInNldFByb2Nlc3NTdGF0dXMiLCJ0b2dnbGVUb3BCYXIiLCJjYXB0dXJlRm9sZGVyIiwicmVzdWx0IiwiY2FwdHVyZUNvdW50Iiwic2V0Q2FwdHVyZUNvdW50IiwibG9nIiwiY2FwdHVyZUlkIiwic3VjY2VzcyIsImVyciIsImVycm9yIiwibWVzc2FnZSIsImdldFJhbmRvbVBvc2l0aW9uIiwicGFkZGluZyIsImZsb29yIiwicmFuZG9tIiwiY2FsaWJyYXRpb25DYXB0dXJlIiwicG9pbnRJbmRleCIsInRvdGFsUG9pbnRzIiwiY3VycmVudCIsImNhcHR1cmVSZXN1bHQiLCJjYXB0dXJlQW5kUHJldmlld1Byb2Nlc3MiLCJzdGF0dXMiLCJzYWZlUmVzdWx0Iiwid2luZG93Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js":
/*!********************************************************************!*\
  !*** ./components/collected-dataset-customized/Helper/savefile.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   captureImagesAtPoint: () => (/* binding */ captureImagesAtPoint),\n/* harmony export */   getHighestResolutionConstraints: () => (/* binding */ getHighestResolutionConstraints),\n/* harmony export */   saveCSVToServer: () => (/* binding */ saveCSVToServer),\n/* harmony export */   saveImageToServer: () => (/* binding */ saveImageToServer)\n/* harmony export */ });\n// Helper/savefile.js - Added highest resolution webcam capture\n/**\n * Resize an image to fit within a certain size limit\n * @param {string} imageDataUrl - Base64 encoded image data\n * @param {number} maxWidth - Maximum width of the resized image\n * @param {number} maxHeight - Maximum height of the resized image\n * @param {number} quality - JPEG quality (0-1)\n * @returns {Promise<string>} - Resized image data URL\n */ const resizeImage = async (imageDataUrl, maxWidth = 800, maxHeight = 600, quality = 0.85)=>{\n    return new Promise((resolve, reject)=>{\n        try {\n            const img = new Image();\n            img.onload = ()=>{\n                // Calculate new dimensions while maintaining aspect ratio\n                let width = img.width;\n                let height = img.height;\n                if (width > maxWidth) {\n                    height = Math.round(height * (maxWidth / width));\n                    width = maxWidth;\n                }\n                if (height > maxHeight) {\n                    width = Math.round(width * (maxHeight / height));\n                    height = maxHeight;\n                }\n                // Create canvas for resizing\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                // Draw and resize image on canvas\n                const ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0, width, height);\n                // Convert to JPEG with specified quality\n                const resizedDataUrl = canvas.toDataURL('image/jpeg', quality);\n                resolve(resizedDataUrl);\n            };\n            img.onerror = (err)=>reject(err);\n            img.src = imageDataUrl;\n        } catch (err) {\n            reject(err);\n        }\n    });\n};\n/**\n * Save an image or data to the server with group ID to ensure consistent numbering\n * @param {string} imageData - Base64 encoded image data\n * @param {string} filename - Filename pattern to save as\n * @param {string} type - Type of file (screen, webcam, parameters)\n * @param {string} folder - Folder to save in\n * @param {string} captureGroup - Unique ID for grouping files from the same capture\n * @returns {Promise<Object>} - Server response\n */ const saveImageToServer = async (imageData, filename, type, folder = 'eye_tracking_captures', captureGroup = null)=>{\n    try {\n        const response = await fetch('/api/save-capture', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                imageData,\n                filename,\n                type,\n                folder,\n                captureGroup\n            })\n        });\n        if (!response.ok) {\n            console.error(`Server returned ${response.status} for ${type}`);\n            // If the error is 413 (payload too large) and it's an image, try resizing\n            if (response.status === 413 && type !== 'parameters') {\n                console.warn(`Image too large for server (413 error), will resize and retry`);\n                // Start with higher quality and progressively reduce quality/size until it fits\n                const sizes = [\n                    {\n                        width: 1920,\n                        height: 1080,\n                        quality: 0.9\n                    },\n                    {\n                        width: 1280,\n                        height: 720,\n                        quality: 0.85\n                    },\n                    {\n                        width: 800,\n                        height: 600,\n                        quality: 0.8\n                    },\n                    {\n                        width: 640,\n                        height: 480,\n                        quality: 0.75\n                    }\n                ];\n                for (const { width, height, quality } of sizes){\n                    const resizedImage = await resizeImage(imageData, width, height, quality);\n                    try {\n                        const retryResponse = await fetch('/api/save-capture', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify({\n                                imageData: resizedImage,\n                                filename,\n                                type,\n                                folder,\n                                captureGroup\n                            })\n                        });\n                        if (retryResponse.ok) {\n                            console.log(`Successfully saved resized ${type} at ${width}x${height}, quality ${quality}`);\n                            return await retryResponse.json();\n                        }\n                    } catch (retryError) {\n                        console.error(`Error during retry for ${type}:`, retryError);\n                    }\n                }\n                return {\n                    success: false,\n                    error: \"Failed to save image even after resizing\"\n                };\n            }\n            return {\n                success: false,\n                error: `Server returned ${response.status}`\n            };\n        }\n        const result = await response.json();\n        return result;\n    } catch (error) {\n        console.error(`Error saving ${type}:`, error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n};\n/**\n * Save CSV data to the server\n * @param {string} csvData - CSV data\n * @param {string} filename - Filename pattern to save as\n * @param {string} folder - Folder to save in\n * @param {string} captureGroup - Unique ID for grouping files from the same capture\n * @returns {Promise<Object>} - Server response\n */ const saveCSVToServer = async (csvData, filename, folder = 'eye_tracking_captures', captureGroup = null)=>{\n    try {\n        const csvBlob = new Blob([\n            csvData\n        ], {\n            type: 'text/csv'\n        });\n        const reader = new FileReader();\n        const csvDataUrl = await new Promise((resolve)=>{\n            reader.onloadend = ()=>resolve(reader.result);\n            reader.readAsDataURL(csvBlob);\n        });\n        const result = await saveImageToServer(csvDataUrl, filename, 'parameters', folder, captureGroup);\n        return result;\n    } catch (error) {\n        console.error('Error saving CSV:', error);\n        return null;\n    }\n};\n/**\n * Get the highest resolution camera constraints supported by the device\n * @returns {Promise<MediaStreamConstraints>} - Camera constraints with highest resolution\n */ const getHighestResolutionConstraints = async ()=>{\n    // Try to get all available camera capabilities first\n    try {\n        // Get a temporary access to the camera\n        const tempStream = await navigator.mediaDevices.getUserMedia({\n            video: true\n        });\n        const videoTrack = tempStream.getVideoTracks()[0];\n        // Get capabilities\n        const capabilities = videoTrack.getCapabilities?.();\n        console.log(\"Camera capabilities:\", capabilities);\n        // Get current settings to check aspect ratio\n        const settings = videoTrack.getSettings();\n        console.log(\"Current camera settings:\", settings);\n        // Stop the temporary stream\n        videoTrack.stop();\n        if (capabilities && capabilities.width && capabilities.height) {\n            // Check if the max dimensions have a suspicious square aspect ratio\n            const maxWidth = capabilities.width.max;\n            const maxHeight = capabilities.height.max;\n            if (maxWidth === maxHeight && maxWidth > 100) {\n                console.warn(`Suspicious square aspect ratio in capabilities: ${maxWidth}×${maxHeight}`);\n                // Use one of the common non-square resolutions instead\n                return {\n                    video: {\n                        width: {\n                            ideal: 1920\n                        },\n                        height: {\n                            ideal: 1080\n                        }\n                    }\n                };\n            }\n            // Use the max width and height from device capabilities\n            return {\n                video: {\n                    width: {\n                        ideal: capabilities.width.max\n                    },\n                    height: {\n                        ideal: capabilities.height.max\n                    }\n                }\n            };\n        }\n    } catch (err) {\n        console.log(\"Could not get camera capabilities:\", err);\n    }\n    // Fallback: try standard resolutions in order\n    const resolutions = [\n        {\n            width: {\n                ideal: 4096\n            },\n            height: {\n                ideal: 2160\n            }\n        },\n        {\n            width: {\n                ideal: 3840\n            },\n            height: {\n                ideal: 2160\n            }\n        },\n        {\n            width: {\n                ideal: 2560\n            },\n            height: {\n                ideal: 1440\n            }\n        },\n        {\n            width: {\n                ideal: 1920\n            },\n            height: {\n                ideal: 1080\n            }\n        },\n        {\n            width: {\n                ideal: 1280\n            },\n            height: {\n                ideal: 720\n            }\n        },\n        {\n            width: {\n                ideal: 640\n            },\n            height: {\n                ideal: 480\n            }\n        },\n        {} // Default - let browser decide\n    ];\n    // Try the resolutions in order until one works\n    for (const resolution of resolutions){\n        try {\n            const constraints = {\n                video: {\n                    ...resolution,\n                    facingMode: \"user\"\n                }\n            };\n            // Test if this resolution is supported\n            const stream = await navigator.mediaDevices.getUserMedia(constraints);\n            // Get the actual dimensions\n            const videoTrack = stream.getVideoTracks()[0];\n            const settings = videoTrack.getSettings();\n            console.log(\"Supported resolution:\", settings.width, \"x\", settings.height);\n            // Check for square aspect ratio in the actual settings\n            if (settings.width === settings.height && settings.width > 100) {\n                console.warn(`Received suspicious square aspect ratio: ${settings.width}×${settings.height}`);\n                // Continue to next resolution to avoid the square aspect ratio\n                stream.getTracks().forEach((track)=>track.stop());\n                continue;\n            }\n            // Stop the test stream immediately\n            stream.getTracks().forEach((track)=>track.stop());\n            return constraints;\n        } catch (err) {\n            console.log(`Resolution not supported: ${JSON.stringify(resolution)}`);\n        // Continue to next resolution\n        }\n    }\n    // If nothing worked, return basic constraints with non-square resolution\n    return {\n        video: {\n            width: {\n                ideal: 1280\n            },\n            height: {\n                ideal: 720\n            }\n        }\n    };\n};\n/**\n * Capture and save images at a specific point with consistent numbering\n * @param {Object} options - Capture options\n * @returns {Promise<Object>} - Capture results\n */ const captureImagesAtPoint = async ({ point, captureCount = 1, canvasRef, setCaptureCount, showCapturePreview })=>{\n    try {\n        const folder = 'eye_tracking_captures';\n        // Create a unique ID for this capture group\n        const captureGroupId = `capture-${Date.now()}`;\n        console.log(`Generated capture group ID: ${captureGroupId}`);\n        // File patterns for saving\n        const screenFilename = 'screen_001.jpg'; // Pattern only - server will assign number\n        const webcamFilename = 'webcam_001.jpg'; // Pattern only - server will assign number\n        const parameterFilename = 'parameter_001.csv'; // Pattern only - server will assign number\n        // For logging\n        console.log(\"Starting capture with group ID:\", captureGroupId);\n        const canvas = canvasRef.current;\n        let screenImage = null;\n        let webcamImage = null;\n        let captureNumber = null;\n        // Variables to store webcam resolution\n        let webcamWidth = 0;\n        let webcamHeight = 0;\n        // 1. Prepare all data first\n        // 1.1 Canvas/screen image\n        if (canvas) {\n            screenImage = canvas.toDataURL('image/png');\n        }\n        // 1.2 Webcam image - Try to get the highest resolution available \n        // with device's native capabilities instead of fixed values\n        let webcamImagePreview = null; // Separate lower-resolution version for preview\n        const videoElement = window.videoElement || document.querySelector('video');\n        if (videoElement) {\n            try {\n                // Use existing video element if available\n                // First check if videoTrack has settings info\n                let trackSettings = null;\n                if (videoElement.srcObject) {\n                    const videoTrack = videoElement.srcObject.getVideoTracks()[0];\n                    if (videoTrack) {\n                        trackSettings = videoTrack.getSettings();\n                        console.log(\"Video track settings:\", trackSettings);\n                    }\n                }\n                // Get dimensions from track if available, otherwise from element\n                if (trackSettings && trackSettings.width && trackSettings.height) {\n                    webcamWidth = trackSettings.width;\n                    webcamHeight = trackSettings.height;\n                    console.log(`Using track settings dimensions: ${webcamWidth}x${webcamHeight}`);\n                } else {\n                    webcamWidth = videoElement.videoWidth || 0;\n                    webcamHeight = videoElement.videoHeight || 0;\n                    console.log(`Using video element dimensions: ${webcamWidth}x${webcamHeight}`);\n                }\n                // Sanity check - if both dimensions are the same, double-check\n                if (webcamWidth === webcamHeight && webcamWidth > 100) {\n                    console.warn(\"Suspicious square aspect ratio detected, double-checking dimensions\");\n                    // Try to get more reliable info\n                    if (videoElement.srcObject) {\n                        const videoTrack = videoElement.srcObject.getVideoTracks()[0];\n                        if (videoTrack) {\n                            const constraints = videoTrack.getConstraints();\n                            console.log(\"Video constraints:\", constraints);\n                            // If constraints have width/height, use those\n                            if (constraints.width && constraints.height) {\n                                if (typeof constraints.width.exact === 'number') {\n                                    webcamWidth = constraints.width.exact;\n                                } else if (typeof constraints.width.ideal === 'number') {\n                                    webcamWidth = constraints.width.ideal;\n                                }\n                                if (typeof constraints.height.exact === 'number') {\n                                    webcamHeight = constraints.height.exact;\n                                } else if (typeof constraints.height.ideal === 'number') {\n                                    webcamHeight = constraints.height.ideal;\n                                }\n                                console.log(`Updated dimensions from constraints: ${webcamWidth}x${webcamHeight}`);\n                            }\n                        }\n                    }\n                }\n                // Final reality check - make sure dimensions are reasonable\n                if (webcamWidth <= 0 || webcamHeight <= 0) {\n                    console.warn(\"Invalid webcam dimensions, using defaults\");\n                    webcamWidth = 640;\n                    webcamHeight = 480;\n                }\n                const tempCanvas = document.createElement('canvas');\n                tempCanvas.width = webcamWidth;\n                tempCanvas.height = webcamHeight;\n                tempCanvas.getContext('2d').drawImage(videoElement, 0, 0, webcamWidth, webcamHeight);\n                // Create high-resolution version for saving\n                webcamImage = tempCanvas.toDataURL('image/jpeg', 0.95);\n                // Create lower-resolution version for preview\n                webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.85);\n                console.log(`Webcam capture complete at resolution: ${webcamWidth}x${webcamHeight}`);\n            } catch (err) {\n                console.error(\"Error capturing from existing video element:\", err);\n                webcamWidth = videoElement.videoWidth || 640;\n                webcamHeight = videoElement.videoHeight || 480;\n            }\n        } else {\n            try {\n                // Get highest resolution constraints for this device\n                const constraints = await getHighestResolutionConstraints();\n                console.log(\"Using camera constraints:\", constraints);\n                // Try to get stream with highest resolution\n                const stream = await navigator.mediaDevices.getUserMedia(constraints);\n                // Get the actual dimensions from the track first\n                const videoTrack = stream.getVideoTracks()[0];\n                const trackSettings = videoTrack.getSettings();\n                console.log(\"Actual camera settings:\", trackSettings);\n                // Create temporary video element to get the stream\n                const tempVideo = document.createElement('video');\n                tempVideo.srcObject = stream;\n                tempVideo.muted = true;\n                tempVideo.playsInline = true;\n                tempVideo.autoplay = true;\n                document.body.appendChild(tempVideo);\n                // Need to wait for video to be initialized\n                await new Promise((resolve)=>{\n                    tempVideo.onloadedmetadata = ()=>{\n                        tempVideo.play();\n                        resolve();\n                    };\n                    // Fallback if onloadedmetadata doesn't fire\n                    setTimeout(resolve, 1000);\n                });\n                // Wait a bit longer for the video to actually start playing\n                await new Promise((res)=>setTimeout(res, 500));\n                // Store webcam resolution - prioritize track settings over video element\n                if (trackSettings && trackSettings.width && trackSettings.height) {\n                    webcamWidth = trackSettings.width;\n                    webcamHeight = trackSettings.height;\n                    console.log(`Using track settings for resolution: ${webcamWidth}x${webcamHeight}`);\n                } else {\n                    webcamWidth = tempVideo.videoWidth || 0;\n                    webcamHeight = tempVideo.videoHeight || 0;\n                    console.log(`Using video element for resolution: ${webcamWidth}x${webcamHeight}`);\n                }\n                // Reality check on dimensions\n                if (webcamWidth <= 0 || webcamHeight <= 0) {\n                    console.warn(\"Invalid webcam dimensions, trying to get from constraints\");\n                    if (constraints.video && typeof constraints.video === 'object') {\n                        if (constraints.video.width && constraints.video.width.ideal) {\n                            webcamWidth = constraints.video.width.ideal;\n                        }\n                        if (constraints.video.height && constraints.video.height.ideal) {\n                            webcamHeight = constraints.video.height.ideal;\n                        }\n                    }\n                    if (webcamWidth <= 0 || webcamHeight <= 0) {\n                        console.warn(\"Still invalid dimensions, using defaults\");\n                        webcamWidth = 640;\n                        webcamHeight = 480;\n                    }\n                }\n                // Final check for square aspect ratio which is usually incorrect\n                if (webcamWidth === webcamHeight && webcamWidth > 100) {\n                    console.warn(\"Square aspect ratio detected, may be incorrect\");\n                    // Try to get more reliable dimensions\n                    const capabilities = videoTrack.getCapabilities?.();\n                    if (capabilities && capabilities.width && capabilities.height) {\n                        if (capabilities.width.max && capabilities.height.max) {\n                            // Assume the maximum capabilities have the correct aspect ratio\n                            const aspectRatio = capabilities.width.max / capabilities.height.max;\n                            if (Math.abs(aspectRatio - 1.33) < 0.1) {\n                                webcamHeight = Math.round(webcamWidth / 1.33);\n                                console.log(`Corrected to 4:3 aspect ratio: ${webcamWidth}x${webcamHeight}`);\n                            } else if (Math.abs(aspectRatio - 1.78) < 0.1) {\n                                webcamHeight = Math.round(webcamWidth / 1.78);\n                                console.log(`Corrected to 16:9 aspect ratio: ${webcamWidth}x${webcamHeight}`);\n                            }\n                        }\n                    }\n                }\n                const tempCanvas = document.createElement('canvas');\n                tempCanvas.width = webcamWidth;\n                tempCanvas.height = webcamHeight;\n                tempCanvas.getContext('2d').drawImage(tempVideo, 0, 0, webcamWidth, webcamHeight);\n                // Create high-resolution version for saving\n                webcamImage = tempCanvas.toDataURL('image/jpeg', 0.95);\n                // Create lower-resolution version for preview\n                webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.85);\n                console.log(`High-resolution webcam capture complete: ${webcamWidth}x${webcamHeight}`);\n                // Clean up\n                stream.getTracks().forEach((t)=>t.stop());\n                tempVideo.remove();\n            } catch (err) {\n                console.warn(\"High-resolution webcam capture failed:\", err);\n                // Try one more time with basic constraints\n                try {\n                    const stream = await navigator.mediaDevices.getUserMedia({\n                        video: true\n                    });\n                    const videoTrack = stream.getVideoTracks()[0];\n                    const trackSettings = videoTrack.getSettings();\n                    const tempVideo = document.createElement('video');\n                    tempVideo.srcObject = stream;\n                    tempVideo.muted = true;\n                    tempVideo.playsInline = true;\n                    document.body.appendChild(tempVideo);\n                    await tempVideo.play();\n                    await new Promise((res)=>setTimeout(res, 300));\n                    // Get dimensions from track settings if available\n                    if (trackSettings && trackSettings.width && trackSettings.height) {\n                        webcamWidth = trackSettings.width;\n                        webcamHeight = trackSettings.height;\n                    } else {\n                        webcamWidth = tempVideo.videoWidth || 0;\n                        webcamHeight = tempVideo.videoHeight || 0;\n                    }\n                    // Final check for invalid dimensions\n                    if (webcamWidth <= 0 || webcamHeight <= 0) {\n                        webcamWidth = 640;\n                        webcamHeight = 480;\n                    }\n                    const tempCanvas = document.createElement('canvas');\n                    tempCanvas.width = webcamWidth;\n                    tempCanvas.height = webcamHeight;\n                    tempCanvas.getContext('2d').drawImage(tempVideo, 0, 0, webcamWidth, webcamHeight);\n                    // Create high-resolution version for saving\n                    webcamImage = tempCanvas.toDataURL('image/jpeg', 0.9);\n                    // Create lower-resolution version for preview\n                    webcamImagePreview = await resizeImage(webcamImage, 640, 480, 0.8);\n                    console.log(`Basic webcam resolution captured: ${webcamWidth}x${webcamHeight}`);\n                    stream.getTracks().forEach((t)=>t.stop());\n                    tempVideo.remove();\n                } catch (fallbackErr) {\n                    console.error(\"All webcam capture methods failed:\", fallbackErr);\n                    webcamWidth = 640;\n                    webcamHeight = 480;\n                }\n            }\n        }\n        // 1.3 Parameter data - Now including webcam resolution\n        const csvData = [\n            \"name,value\",\n            `dot_x,${point.x}`,\n            `dot_y,${point.y}`,\n            `canvas_width,${canvas?.width || 0}`,\n            `canvas_height,${canvas?.height || 0}`,\n            `window_width,${window.innerWidth}`,\n            `window_height,${window.innerHeight}`,\n            `webcam_resolution_width,${webcamWidth}`,\n            `webcam_resolution_height,${webcamHeight}`,\n            `timestamp,${new Date().toISOString()}`,\n            `group_id,${captureGroupId}`\n        ].join('\\n');\n        // 2. Save all files with the same group ID so they get the same number\n        // 2.1 Save parameter file\n        const paramResult = await saveCSVToServer(csvData, parameterFilename, folder, captureGroupId);\n        if (paramResult && paramResult.success) {\n            captureNumber = paramResult.number;\n            console.log(`Server assigned capture number: ${captureNumber} for group: ${captureGroupId}`);\n        }\n        // 2.2 Save screen image if available\n        let screenResult = null;\n        if (screenImage) {\n            screenResult = await saveImageToServer(screenImage, screenFilename, 'screen', folder, captureGroupId);\n        }\n        // 2.3 Save webcam image if available\n        let webcamResult = null;\n        if (webcamImage) {\n            webcamResult = await saveImageToServer(webcamImage, webcamFilename, 'webcam', folder, captureGroupId);\n        }\n        // 3. Show preview if needed - use the lower resolution version for preview\n        if (showCapturePreview && typeof showCapturePreview === 'function') {\n            showCapturePreview(screenImage, webcamImagePreview || webcamImage, point);\n        }\n        // 4. Increment counter for next capture\n        if (setCaptureCount && typeof setCaptureCount === 'function') {\n            setCaptureCount((prevCount)=>prevCount + 1);\n        }\n        // 5. Return results - now including webcam resolution\n        return {\n            screenImage,\n            webcamImage,\n            success: true,\n            point,\n            captureNumber,\n            groupId: captureGroupId,\n            webcamWidth,\n            webcamHeight\n        };\n    } catch (err) {\n        console.error(\"captureImagesAtPoint failed:\", err);\n        return {\n            success: false,\n            error: err.message,\n            screenImage: null,\n            webcamImage: null,\n            webcamWidth: 0,\n            webcamHeight: 0\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLCtEQUErRDtBQUUvRDs7Ozs7OztDQU9DLEdBQ0QsTUFBTUEsY0FBYyxPQUFPQyxjQUFjQyxXQUFXLEdBQUcsRUFBRUMsWUFBWSxHQUFHLEVBQUVDLFVBQVUsSUFBSTtJQUN0RixPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7UUFDM0IsSUFBSTtZQUNGLE1BQU1DLE1BQU0sSUFBSUM7WUFDaEJELElBQUlFLE1BQU0sR0FBRztnQkFDWCwwREFBMEQ7Z0JBQzFELElBQUlDLFFBQVFILElBQUlHLEtBQUs7Z0JBQ3JCLElBQUlDLFNBQVNKLElBQUlJLE1BQU07Z0JBRXZCLElBQUlELFFBQVFULFVBQVU7b0JBQ3BCVSxTQUFTQyxLQUFLQyxLQUFLLENBQUNGLFNBQVVWLENBQUFBLFdBQVdTLEtBQUk7b0JBQzdDQSxRQUFRVDtnQkFDVjtnQkFFQSxJQUFJVSxTQUFTVCxXQUFXO29CQUN0QlEsUUFBUUUsS0FBS0MsS0FBSyxDQUFDSCxRQUFTUixDQUFBQSxZQUFZUyxNQUFLO29CQUM3Q0EsU0FBU1Q7Z0JBQ1g7Z0JBRUEsNkJBQTZCO2dCQUM3QixNQUFNWSxTQUFTQyxTQUFTQyxhQUFhLENBQUM7Z0JBQ3RDRixPQUFPSixLQUFLLEdBQUdBO2dCQUNmSSxPQUFPSCxNQUFNLEdBQUdBO2dCQUVoQixrQ0FBa0M7Z0JBQ2xDLE1BQU1NLE1BQU1ILE9BQU9JLFVBQVUsQ0FBQztnQkFDOUJELElBQUlFLFNBQVMsQ0FBQ1osS0FBSyxHQUFHLEdBQUdHLE9BQU9DO2dCQUVoQyx5Q0FBeUM7Z0JBQ3pDLE1BQU1TLGlCQUFpQk4sT0FBT08sU0FBUyxDQUFDLGNBQWNsQjtnQkFDdERFLFFBQVFlO1lBQ1Y7WUFFQWIsSUFBSWUsT0FBTyxHQUFHLENBQUNDLE1BQVFqQixPQUFPaUI7WUFDOUJoQixJQUFJ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YUosZ0JBQWdCLFVBQVVoRSxRQUFRNkQ7UUFDeEY7UUFFQSxxQ0FBcUM7UUFDckMsSUFBSThDLGVBQWU7UUFDbkIsSUFBSXRDLGFBQWE7WUFDZnNDLGVBQWUsTUFBTS9HLGtCQUFrQnlFLGFBQWFKLGdCQUFnQixVQUFVakUsUUFBUTZEO1FBQ3hGO1FBRUEsMkVBQTJFO1FBQzNFLElBQUlELHNCQUFzQixPQUFPQSx1QkFBdUIsWUFBWTtZQUNsRUEsbUJBQW1CUSxhQUFhSyxzQkFBc0JKLGFBQWFiO1FBQ3JFO1FBRUEsd0NBQXdDO1FBQ3hDLElBQUlHLG1CQUFtQixPQUFPQSxvQkFBb0IsWUFBWTtZQUM1REEsZ0JBQWdCaUQsQ0FBQUEsWUFBYUEsWUFBWTtRQUMzQztRQUVBLHNEQUFzRDtRQUN0RCxPQUFPO1lBQ0x4QztZQUNBQztZQUNBakQsU0FBUztZQUNUb0M7WUFDQWM7WUFDQXVDLFNBQVNoRDtZQUNUVTtZQUNBQztRQUNGO0lBQ0YsRUFBRSxPQUFPOUUsS0FBSztRQUNaZ0IsUUFBUUMsS0FBSyxDQUFDLGdDQUFnQ2pCO1FBQzlDLE9BQU87WUFDTDBCLFNBQVM7WUFDVFQsT0FBT2pCLElBQUk0QixPQUFPO1lBQ2xCOEMsYUFBYTtZQUNiQyxhQUFhO1lBQ2JFLGFBQWE7WUFDYkMsY0FBYztRQUNoQjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSGVscGVyL3NhdmVmaWxlLmpzIC0gQWRkZWQgaGlnaGVzdCByZXNvbHV0aW9uIHdlYmNhbSBjYXB0dXJlXG5cbi8qKlxuICogUmVzaXplIGFuIGltYWdlIHRvIGZpdCB3aXRoaW4gYSBjZXJ0YWluIHNpemUgbGltaXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZURhdGFVcmwgLSBCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4V2lkdGggLSBNYXhpbXVtIHdpZHRoIG9mIHRoZSByZXNpemVkIGltYWdlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4SGVpZ2h0IC0gTWF4aW11bSBoZWlnaHQgb2YgdGhlIHJlc2l6ZWQgaW1hZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gSlBFRyBxdWFsaXR5ICgwLTEpXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFJlc2l6ZWQgaW1hZ2UgZGF0YSBVUkxcbiAqL1xuY29uc3QgcmVzaXplSW1hZ2UgPSBhc3luYyAoaW1hZ2VEYXRhVXJsLCBtYXhXaWR0aCA9IDgwMCwgbWF4SGVpZ2h0ID0gNjAwLCBxdWFsaXR5ID0gMC44NSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgZGltZW5zaW9ucyB3aGlsZSBtYWludGFpbmluZyBhc3BlY3QgcmF0aW9cbiAgICAgICAgbGV0IHdpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIGlmICh3aWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgKiAobWF4V2lkdGggLyB3aWR0aCkpO1xuICAgICAgICAgIHdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChoZWlnaHQgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiAobWF4SGVpZ2h0IC8gaGVpZ2h0KSk7XG4gICAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgY2FudmFzIGZvciByZXNpemluZ1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IGFuZCByZXNpemUgaW1hZ2Ugb24gY2FudmFzXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb252ZXJ0IHRvIEpQRUcgd2l0aCBzcGVjaWZpZWQgcXVhbGl0eVxuICAgICAgICBjb25zdCByZXNpemVkRGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCBxdWFsaXR5KTtcbiAgICAgICAgcmVzb2x2ZShyZXNpemVkRGF0YVVybCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBpbWcub25lcnJvciA9IChlcnIpID0+IHJlamVjdChlcnIpO1xuICAgICAgaW1nLnNyYyA9IGltYWdlRGF0YVVybDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFNhdmUgYW4gaW1hZ2Ugb3IgZGF0YSB0byB0aGUgc2VydmVyIHdpdGggZ3JvdXAgSUQgdG8gZW5zdXJlIGNvbnNpc3RlbnQgbnVtYmVyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VEYXRhIC0gQmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lIC0gRmlsZW5hbWUgcGF0dGVybiB0byBzYXZlIGFzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFR5cGUgb2YgZmlsZSAoc2NyZWVuLCB3ZWJjYW0sIHBhcmFtZXRlcnMpXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9sZGVyIC0gRm9sZGVyIHRvIHNhdmUgaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjYXB0dXJlR3JvdXAgLSBVbmlxdWUgSUQgZm9yIGdyb3VwaW5nIGZpbGVzIGZyb20gdGhlIHNhbWUgY2FwdHVyZVxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBTZXJ2ZXIgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IHNhdmVJbWFnZVRvU2VydmVyID0gYXN5bmMgKGltYWdlRGF0YSwgZmlsZW5hbWUsIHR5cGUsIGZvbGRlciA9ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnLCBjYXB0dXJlR3JvdXAgPSBudWxsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zYXZlLWNhcHR1cmUnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICAgIGltYWdlRGF0YSwgXG4gICAgICAgIGZpbGVuYW1lLCBcbiAgICAgICAgdHlwZSwgXG4gICAgICAgIGZvbGRlcixcbiAgICAgICAgY2FwdHVyZUdyb3VwIC8vIEluY2x1ZGUgdGhlIGNhcHR1cmUgZ3JvdXAgSURcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc29sZS5lcnJvcihgU2VydmVyIHJldHVybmVkICR7cmVzcG9uc2Uuc3RhdHVzfSBmb3IgJHt0eXBlfWApO1xuICAgICAgXG4gICAgICAvLyBJZiB0aGUgZXJyb3IgaXMgNDEzIChwYXlsb2FkIHRvbyBsYXJnZSkgYW5kIGl0J3MgYW4gaW1hZ2UsIHRyeSByZXNpemluZ1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDEzICYmIHR5cGUgIT09ICdwYXJhbWV0ZXJzJykge1xuICAgICAgICBjb25zb2xlLndhcm4oYEltYWdlIHRvbyBsYXJnZSBmb3Igc2VydmVyICg0MTMgZXJyb3IpLCB3aWxsIHJlc2l6ZSBhbmQgcmV0cnlgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0YXJ0IHdpdGggaGlnaGVyIHF1YWxpdHkgYW5kIHByb2dyZXNzaXZlbHkgcmVkdWNlIHF1YWxpdHkvc2l6ZSB1bnRpbCBpdCBmaXRzXG4gICAgICAgIGNvbnN0IHNpemVzID0gW1xuICAgICAgICAgIHsgd2lkdGg6IDE5MjAsIGhlaWdodDogMTA4MCwgcXVhbGl0eTogMC45IH0sXG4gICAgICAgICAgeyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAsIHF1YWxpdHk6IDAuODUgfSxcbiAgICAgICAgICB7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwLCBxdWFsaXR5OiAwLjggfSxcbiAgICAgICAgICB7IHdpZHRoOiA2NDAsIGhlaWdodDogNDgwLCBxdWFsaXR5OiAwLjc1IH1cbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBxdWFsaXR5IH0gb2Ygc2l6ZXMpIHtcbiAgICAgICAgICBjb25zdCByZXNpemVkSW1hZ2UgPSBhd2FpdCByZXNpemVJbWFnZShpbWFnZURhdGEsIHdpZHRoLCBoZWlnaHQsIHF1YWxpdHkpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXRyeVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2F2ZS1jYXB0dXJlJywge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgICAgICAgICAgICBpbWFnZURhdGE6IHJlc2l6ZWRJbWFnZSwgXG4gICAgICAgICAgICAgICAgZmlsZW5hbWUsIFxuICAgICAgICAgICAgICAgIHR5cGUsIFxuICAgICAgICAgICAgICAgIGZvbGRlcixcbiAgICAgICAgICAgICAgICBjYXB0dXJlR3JvdXBcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmV0cnlSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHNhdmVkIHJlc2l6ZWQgJHt0eXBlfSBhdCAke3dpZHRofXgke2hlaWdodH0sIHF1YWxpdHkgJHtxdWFsaXR5fWApO1xuICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmV0cnlSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAocmV0cnlFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZHVyaW5nIHJldHJ5IGZvciAke3R5cGV9OmAsIHJldHJ5RXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBzYXZlIGltYWdlIGV2ZW4gYWZ0ZXIgcmVzaXppbmdcIiB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBTZXJ2ZXIgcmV0dXJuZWQgJHtyZXNwb25zZS5zdGF0dXN9YCB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzYXZpbmcgJHt0eXBlfTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbn07XG5cbi8qKlxuICogU2F2ZSBDU1YgZGF0YSB0byB0aGUgc2VydmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gY3N2RGF0YSAtIENTViBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWUgLSBGaWxlbmFtZSBwYXR0ZXJuIHRvIHNhdmUgYXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb2xkZXIgLSBGb2xkZXIgdG8gc2F2ZSBpblxuICogQHBhcmFtIHtzdHJpbmd9IGNhcHR1cmVHcm91cCAtIFVuaXF1ZSBJRCBmb3IgZ3JvdXBpbmcgZmlsZXMgZnJvbSB0aGUgc2FtZSBjYXB0dXJlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSAtIFNlcnZlciByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3Qgc2F2ZUNTVlRvU2VydmVyID0gYXN5bmMgKGNzdkRhdGEsIGZpbGVuYW1lLCBmb2xkZXIgPSAnZXllX3RyYWNraW5nX2NhcHR1cmVzJywgY2FwdHVyZUdyb3VwID0gbnVsbCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNzdkJsb2IgPSBuZXcgQmxvYihbY3N2RGF0YV0sIHsgdHlwZTogJ3RleHQvY3N2JyB9KTtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGNvbnN0IGNzdkRhdGFVcmwgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChjc3ZCbG9iKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhdmVJbWFnZVRvU2VydmVyKGNzdkRhdGFVcmwsIGZpbGVuYW1lLCAncGFyYW1ldGVycycsIGZvbGRlciwgY2FwdHVyZUdyb3VwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBDU1Y6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCB0aGUgaGlnaGVzdCByZXNvbHV0aW9uIGNhbWVyYSBjb25zdHJhaW50cyBzdXBwb3J0ZWQgYnkgdGhlIGRldmljZVxuICogQHJldHVybnMge1Byb21pc2U8TWVkaWFTdHJlYW1Db25zdHJhaW50cz59IC0gQ2FtZXJhIGNvbnN0cmFpbnRzIHdpdGggaGlnaGVzdCByZXNvbHV0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzID0gYXN5bmMgKCkgPT4ge1xuICAvLyBUcnkgdG8gZ2V0IGFsbCBhdmFpbGFibGUgY2FtZXJhIGNhcGFiaWxpdGllcyBmaXJzdFxuICB0cnkge1xuICAgIC8vIEdldCBhIHRlbXBvcmFyeSBhY2Nlc3MgdG8gdGhlIGNhbWVyYVxuICAgIGNvbnN0IHRlbXBTdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IHZpZGVvOiB0cnVlIH0pO1xuICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB0ZW1wU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgXG4gICAgLy8gR2V0IGNhcGFiaWxpdGllc1xuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHZpZGVvVHJhY2suZ2V0Q2FwYWJpbGl0aWVzPy4oKTtcbiAgICBjb25zb2xlLmxvZyhcIkNhbWVyYSBjYXBhYmlsaXRpZXM6XCIsIGNhcGFiaWxpdGllcyk7XG4gICAgXG4gICAgLy8gR2V0IGN1cnJlbnQgc2V0dGluZ3MgdG8gY2hlY2sgYXNwZWN0IHJhdGlvXG4gICAgY29uc3Qgc2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgY29uc29sZS5sb2coXCJDdXJyZW50IGNhbWVyYSBzZXR0aW5nczpcIiwgc2V0dGluZ3MpO1xuICAgIFxuICAgIC8vIFN0b3AgdGhlIHRlbXBvcmFyeSBzdHJlYW1cbiAgICB2aWRlb1RyYWNrLnN0b3AoKTtcbiAgICBcbiAgICBpZiAoY2FwYWJpbGl0aWVzICYmIGNhcGFiaWxpdGllcy53aWR0aCAmJiBjYXBhYmlsaXRpZXMuaGVpZ2h0KSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgbWF4IGRpbWVuc2lvbnMgaGF2ZSBhIHN1c3BpY2lvdXMgc3F1YXJlIGFzcGVjdCByYXRpb1xuICAgICAgY29uc3QgbWF4V2lkdGggPSBjYXBhYmlsaXRpZXMud2lkdGgubWF4O1xuICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gY2FwYWJpbGl0aWVzLmhlaWdodC5tYXg7XG4gICAgICBcbiAgICAgIGlmIChtYXhXaWR0aCA9PT0gbWF4SGVpZ2h0ICYmIG1heFdpZHRoID4gMTAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgU3VzcGljaW91cyBzcXVhcmUgYXNwZWN0IHJhdGlvIGluIGNhcGFiaWxpdGllczogJHttYXhXaWR0aH3DlyR7bWF4SGVpZ2h0fWApO1xuICAgICAgICBcbiAgICAgICAgLy8gVXNlIG9uZSBvZiB0aGUgY29tbW9uIG5vbi1zcXVhcmUgcmVzb2x1dGlvbnMgaW5zdGVhZFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICB3aWR0aDogeyBpZGVhbDogMTkyMCB9LFxuICAgICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiAxMDgwIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVzZSB0aGUgbWF4IHdpZHRoIGFuZCBoZWlnaHQgZnJvbSBkZXZpY2UgY2FwYWJpbGl0aWVzXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgIHdpZHRoOiB7IGlkZWFsOiBjYXBhYmlsaXRpZXMud2lkdGgubWF4IH0sXG4gICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiBjYXBhYmlsaXRpZXMuaGVpZ2h0Lm1heCB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBnZXQgY2FtZXJhIGNhcGFiaWxpdGllczpcIiwgZXJyKTtcbiAgfVxuICBcbiAgLy8gRmFsbGJhY2s6IHRyeSBzdGFuZGFyZCByZXNvbHV0aW9ucyBpbiBvcmRlclxuICBjb25zdCByZXNvbHV0aW9ucyA9IFtcbiAgICB7IHdpZHRoOiB7IGlkZWFsOiA0MDk2IH0sIGhlaWdodDogeyBpZGVhbDogMjE2MCB9IH0sIC8vIDRLXG4gICAgeyB3aWR0aDogeyBpZGVhbDogMzg0MCB9LCBoZWlnaHQ6IHsgaWRlYWw6IDIxNjAgfSB9LCAvLyA0SyBVSERcbiAgICB7IHdpZHRoOiB7IGlkZWFsOiAyNTYwIH0sIGhlaWdodDogeyBpZGVhbDogMTQ0MCB9IH0sIC8vIDJLIFFIRFxuICAgIHsgd2lkdGg6IHsgaWRlYWw6IDE5MjAgfSwgaGVpZ2h0OiB7IGlkZWFsOiAxMDgwIH0gfSwgLy8gRnVsbCBIRFxuICAgIHsgd2lkdGg6IHsgaWRlYWw6IDEyODAgfSwgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSB9LCAgLy8gSERcbiAgICB7IHdpZHRoOiB7IGlkZWFsOiA2NDAgfSwgaGVpZ2h0OiB7IGlkZWFsOiA0ODAgfSB9LCAgIC8vIFZHQVxuICAgIHt9ICAvLyBEZWZhdWx0IC0gbGV0IGJyb3dzZXIgZGVjaWRlXG4gIF07XG5cbiAgLy8gVHJ5IHRoZSByZXNvbHV0aW9ucyBpbiBvcmRlciB1bnRpbCBvbmUgd29ya3NcbiAgZm9yIChjb25zdCByZXNvbHV0aW9uIG9mIHJlc29sdXRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgIC4uLnJlc29sdXRpb24sXG4gICAgICAgICAgZmFjaW5nTW9kZTogXCJ1c2VyXCJcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gVGVzdCBpZiB0aGlzIHJlc29sdXRpb24gaXMgc3VwcG9ydGVkXG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyk7XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgYWN0dWFsIGRpbWVuc2lvbnNcbiAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgY29uc29sZS5sb2coXCJTdXBwb3J0ZWQgcmVzb2x1dGlvbjpcIiwgc2V0dGluZ3Mud2lkdGgsIFwieFwiLCBzZXR0aW5ncy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc3F1YXJlIGFzcGVjdCByYXRpbyBpbiB0aGUgYWN0dWFsIHNldHRpbmdzXG4gICAgICBpZiAoc2V0dGluZ3Mud2lkdGggPT09IHNldHRpbmdzLmhlaWdodCAmJiBzZXR0aW5ncy53aWR0aCA+IDEwMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkIHN1c3BpY2lvdXMgc3F1YXJlIGFzcGVjdCByYXRpbzogJHtzZXR0aW5ncy53aWR0aH3DlyR7c2V0dGluZ3MuaGVpZ2h0fWApO1xuICAgICAgICAvLyBDb250aW51ZSB0byBuZXh0IHJlc29sdXRpb24gdG8gYXZvaWQgdGhlIHNxdWFyZSBhc3BlY3QgcmF0aW9cbiAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFN0b3AgdGhlIHRlc3Qgc3RyZWFtIGltbWVkaWF0ZWx5XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgXG4gICAgICByZXR1cm4gY29uc3RyYWludHM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhgUmVzb2x1dGlvbiBub3Qgc3VwcG9ydGVkOiAke0pTT04uc3RyaW5naWZ5KHJlc29sdXRpb24pfWApO1xuICAgICAgLy8gQ29udGludWUgdG8gbmV4dCByZXNvbHV0aW9uXG4gICAgfVxuICB9XG4gIFxuICAvLyBJZiBub3RoaW5nIHdvcmtlZCwgcmV0dXJuIGJhc2ljIGNvbnN0cmFpbnRzIHdpdGggbm9uLXNxdWFyZSByZXNvbHV0aW9uXG4gIHJldHVybiB7IFxuICAgIHZpZGVvOiB7XG4gICAgICB3aWR0aDogeyBpZGVhbDogMTI4MCB9LFxuICAgICAgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfVxuICAgIH0gXG4gIH07XG59O1xuXG4vKipcbiAqIENhcHR1cmUgYW5kIHNhdmUgaW1hZ2VzIGF0IGEgc3BlY2lmaWMgcG9pbnQgd2l0aCBjb25zaXN0ZW50IG51bWJlcmluZ1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBDYXB0dXJlIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gQ2FwdHVyZSByZXN1bHRzXG4gKi9cbmV4cG9ydCBjb25zdCBjYXB0dXJlSW1hZ2VzQXRQb2ludCA9IGFzeW5jICh7IHBvaW50LCBjYXB0dXJlQ291bnQgPSAxLCBjYW52YXNSZWYsIHNldENhcHR1cmVDb3VudCwgc2hvd0NhcHR1cmVQcmV2aWV3IH0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmb2xkZXIgPSAnZXllX3RyYWNraW5nX2NhcHR1cmVzJztcbiAgICBcbiAgICAvLyBDcmVhdGUgYSB1bmlxdWUgSUQgZm9yIHRoaXMgY2FwdHVyZSBncm91cFxuICAgIGNvbnN0IGNhcHR1cmVHcm91cElkID0gYGNhcHR1cmUtJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc29sZS5sb2coYEdlbmVyYXRlZCBjYXB0dXJlIGdyb3VwIElEOiAke2NhcHR1cmVHcm91cElkfWApO1xuICAgIFxuICAgIC8vIEZpbGUgcGF0dGVybnMgZm9yIHNhdmluZ1xuICAgIGNvbnN0IHNjcmVlbkZpbGVuYW1lID0gJ3NjcmVlbl8wMDEuanBnJzsgIC8vIFBhdHRlcm4gb25seSAtIHNlcnZlciB3aWxsIGFzc2lnbiBudW1iZXJcbiAgICBjb25zdCB3ZWJjYW1GaWxlbmFtZSA9ICd3ZWJjYW1fMDAxLmpwZyc7ICAvLyBQYXR0ZXJuIG9ubHkgLSBzZXJ2ZXIgd2lsbCBhc3NpZ24gbnVtYmVyXG4gICAgY29uc3QgcGFyYW1ldGVyRmlsZW5hbWUgPSAncGFyYW1ldGVyXzAwMS5jc3YnOyAgLy8gUGF0dGVybiBvbmx5IC0gc2VydmVyIHdpbGwgYXNzaWduIG51bWJlclxuICAgIFxuICAgIC8vIEZvciBsb2dnaW5nXG4gICAgY29uc29sZS5sb2coXCJTdGFydGluZyBjYXB0dXJlIHdpdGggZ3JvdXAgSUQ6XCIsIGNhcHR1cmVHcm91cElkKTtcbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBsZXQgc2NyZWVuSW1hZ2UgPSBudWxsO1xuICAgIGxldCB3ZWJjYW1JbWFnZSA9IG51bGw7XG4gICAgbGV0IGNhcHR1cmVOdW1iZXIgPSBudWxsO1xuICAgIFxuICAgIC8vIFZhcmlhYmxlcyB0byBzdG9yZSB3ZWJjYW0gcmVzb2x1dGlvblxuICAgIGxldCB3ZWJjYW1XaWR0aCA9IDA7XG4gICAgbGV0IHdlYmNhbUhlaWdodCA9IDA7XG4gICAgXG4gICAgLy8gMS4gUHJlcGFyZSBhbGwgZGF0YSBmaXJzdFxuICAgIFxuICAgIC8vIDEuMSBDYW52YXMvc2NyZWVuIGltYWdlXG4gICAgaWYgKGNhbnZhcykge1xuICAgICAgc2NyZWVuSW1hZ2UgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICB9XG5cbiAgICAvLyAxLjIgV2ViY2FtIGltYWdlIC0gVHJ5IHRvIGdldCB0aGUgaGlnaGVzdCByZXNvbHV0aW9uIGF2YWlsYWJsZSBcbiAgICAvLyB3aXRoIGRldmljZSdzIG5hdGl2ZSBjYXBhYmlsaXRpZXMgaW5zdGVhZCBvZiBmaXhlZCB2YWx1ZXNcbiAgICBsZXQgd2ViY2FtSW1hZ2VQcmV2aWV3ID0gbnVsbDsgLy8gU2VwYXJhdGUgbG93ZXItcmVzb2x1dGlvbiB2ZXJzaW9uIGZvciBwcmV2aWV3XG4gICAgY29uc3QgdmlkZW9FbGVtZW50ID0gd2luZG93LnZpZGVvRWxlbWVudCB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpO1xuICAgIFxuICAgIGlmICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFVzZSBleGlzdGluZyB2aWRlbyBlbGVtZW50IGlmIGF2YWlsYWJsZVxuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB2aWRlb1RyYWNrIGhhcyBzZXR0aW5ncyBpbmZvXG4gICAgICAgIGxldCB0cmFja1NldHRpbmdzID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGlmICh2aWRlb0VsZW1lbnQuc3JjT2JqZWN0KSB7XG4gICAgICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHZpZGVvRWxlbWVudC5zcmNPYmplY3QuZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgICAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgICAgICAgdHJhY2tTZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmlkZW8gdHJhY2sgc2V0dGluZ3M6XCIsIHRyYWNrU2V0dGluZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGRpbWVuc2lvbnMgZnJvbSB0cmFjayBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmcm9tIGVsZW1lbnRcbiAgICAgICAgaWYgKHRyYWNrU2V0dGluZ3MgJiYgdHJhY2tTZXR0aW5ncy53aWR0aCAmJiB0cmFja1NldHRpbmdzLmhlaWdodCkge1xuICAgICAgICAgIHdlYmNhbVdpZHRoID0gdHJhY2tTZXR0aW5ncy53aWR0aDtcbiAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSB0cmFja1NldHRpbmdzLmhlaWdodDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgdHJhY2sgc2V0dGluZ3MgZGltZW5zaW9uczogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSB2aWRlb0VsZW1lbnQudmlkZW9XaWR0aCB8fCAwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHZpZGVvRWxlbWVudC52aWRlb0hlaWdodCB8fCAwO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB2aWRlbyBlbGVtZW50IGRpbWVuc2lvbnM6ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTYW5pdHkgY2hlY2sgLSBpZiBib3RoIGRpbWVuc2lvbnMgYXJlIHRoZSBzYW1lLCBkb3VibGUtY2hlY2tcbiAgICAgICAgaWYgKHdlYmNhbVdpZHRoID09PSB3ZWJjYW1IZWlnaHQgJiYgd2ViY2FtV2lkdGggPiAxMDApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJTdXNwaWNpb3VzIHNxdWFyZSBhc3BlY3QgcmF0aW8gZGV0ZWN0ZWQsIGRvdWJsZS1jaGVja2luZyBkaW1lbnNpb25zXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFRyeSB0byBnZXQgbW9yZSByZWxpYWJsZSBpbmZvXG4gICAgICAgICAgaWYgKHZpZGVvRWxlbWVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0LmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICAgICAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IHZpZGVvVHJhY2suZ2V0Q29uc3RyYWludHMoKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJWaWRlbyBjb25zdHJhaW50czpcIiwgY29uc3RyYWludHMpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSWYgY29uc3RyYWludHMgaGF2ZSB3aWR0aC9oZWlnaHQsIHVzZSB0aG9zZVxuICAgICAgICAgICAgICBpZiAoY29uc3RyYWludHMud2lkdGggJiYgY29uc3RyYWludHMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJhaW50cy53aWR0aC5leGFjdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gY29uc3RyYWludHMud2lkdGguZXhhY3Q7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWludHMud2lkdGguaWRlYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICB3ZWJjYW1XaWR0aCA9IGNvbnN0cmFpbnRzLndpZHRoLmlkZWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnN0cmFpbnRzLmhlaWdodC5leGFjdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IGNvbnN0cmFpbnRzLmhlaWdodC5leGFjdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25zdHJhaW50cy5oZWlnaHQuaWRlYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICB3ZWJjYW1IZWlnaHQgPSBjb25zdHJhaW50cy5oZWlnaHQuaWRlYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVcGRhdGVkIGRpbWVuc2lvbnMgZnJvbSBjb25zdHJhaW50czogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmFsIHJlYWxpdHkgY2hlY2sgLSBtYWtlIHN1cmUgZGltZW5zaW9ucyBhcmUgcmVhc29uYWJsZVxuICAgICAgICBpZiAod2ViY2FtV2lkdGggPD0gMCB8fCB3ZWJjYW1IZWlnaHQgPD0gMCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgd2ViY2FtIGRpbWVuc2lvbnMsIHVzaW5nIGRlZmF1bHRzXCIpO1xuICAgICAgICAgIHdlYmNhbVdpZHRoID0gNjQwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IDQ4MDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gd2ViY2FtV2lkdGg7XG4gICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gd2ViY2FtSGVpZ2h0O1xuICAgICAgICB0ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKHZpZGVvRWxlbWVudCwgMCwgMCwgd2ViY2FtV2lkdGgsIHdlYmNhbUhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgaGlnaC1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHNhdmluZ1xuICAgICAgICB3ZWJjYW1JbWFnZSA9IHRlbXBDYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJywgMC45NSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgbG93ZXItcmVzb2x1dGlvbiB2ZXJzaW9uIGZvciBwcmV2aWV3XG4gICAgICAgIHdlYmNhbUltYWdlUHJldmlldyA9IGF3YWl0IHJlc2l6ZUltYWdlKHdlYmNhbUltYWdlLCA2NDAsIDQ4MCwgMC44NSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgV2ViY2FtIGNhcHR1cmUgY29tcGxldGUgYXQgcmVzb2x1dGlvbjogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhcHR1cmluZyBmcm9tIGV4aXN0aW5nIHZpZGVvIGVsZW1lbnQ6XCIsIGVycik7XG4gICAgICAgIHdlYmNhbVdpZHRoID0gdmlkZW9FbGVtZW50LnZpZGVvV2lkdGggfHwgNjQwO1xuICAgICAgICB3ZWJjYW1IZWlnaHQgPSB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQgfHwgNDgwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBHZXQgaGlnaGVzdCByZXNvbHV0aW9uIGNvbnN0cmFpbnRzIGZvciB0aGlzIGRldmljZVxuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IGF3YWl0IGdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyBjYW1lcmEgY29uc3RyYWludHM6XCIsIGNvbnN0cmFpbnRzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSB0byBnZXQgc3RyZWFtIHdpdGggaGlnaGVzdCByZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCB0aGUgYWN0dWFsIGRpbWVuc2lvbnMgZnJvbSB0aGUgdHJhY2sgZmlyc3RcbiAgICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgICBjb25zdCB0cmFja1NldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFjdHVhbCBjYW1lcmEgc2V0dGluZ3M6XCIsIHRyYWNrU2V0dGluZ3MpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHRlbXBvcmFyeSB2aWRlbyBlbGVtZW50IHRvIGdldCB0aGUgc3RyZWFtXG4gICAgICAgIGNvbnN0IHRlbXBWaWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIHRlbXBWaWRlby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgIHRlbXBWaWRlby5tdXRlZCA9IHRydWU7XG4gICAgICAgIHRlbXBWaWRlby5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgICAgIHRlbXBWaWRlby5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcFZpZGVvKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE5lZWQgdG8gd2FpdCBmb3IgdmlkZW8gdG8gYmUgaW5pdGlhbGl6ZWRcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgdGVtcFZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgICAgICB0ZW1wVmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gRmFsbGJhY2sgaWYgb25sb2FkZWRtZXRhZGF0YSBkb2Vzbid0IGZpcmVcbiAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFdhaXQgYSBiaXQgbG9uZ2VyIGZvciB0aGUgdmlkZW8gdG8gYWN0dWFsbHkgc3RhcnQgcGxheWluZ1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwMCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgd2ViY2FtIHJlc29sdXRpb24gLSBwcmlvcml0aXplIHRyYWNrIHNldHRpbmdzIG92ZXIgdmlkZW8gZWxlbWVudFxuICAgICAgICBpZiAodHJhY2tTZXR0aW5ncyAmJiB0cmFja1NldHRpbmdzLndpZHRoICYmIHRyYWNrU2V0dGluZ3MuaGVpZ2h0KSB7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSB0cmFja1NldHRpbmdzLndpZHRoO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHRyYWNrU2V0dGluZ3MuaGVpZ2h0O1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB0cmFjayBzZXR0aW5ncyBmb3IgcmVzb2x1dGlvbjogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2ViY2FtV2lkdGggPSB0ZW1wVmlkZW8udmlkZW9XaWR0aCB8fCAwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHRlbXBWaWRlby52aWRlb0hlaWdodCB8fCAwO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyB2aWRlbyBlbGVtZW50IGZvciByZXNvbHV0aW9uOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVhbGl0eSBjaGVjayBvbiBkaW1lbnNpb25zXG4gICAgICAgIGlmICh3ZWJjYW1XaWR0aCA8PSAwIHx8IHdlYmNhbUhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCB3ZWJjYW0gZGltZW5zaW9ucywgdHJ5aW5nIHRvIGdldCBmcm9tIGNvbnN0cmFpbnRzXCIpO1xuICAgICAgICAgIGlmIChjb25zdHJhaW50cy52aWRlbyAmJiB0eXBlb2YgY29uc3RyYWludHMudmlkZW8gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoY29uc3RyYWludHMudmlkZW8ud2lkdGggJiYgY29uc3RyYWludHMudmlkZW8ud2lkdGguaWRlYWwpIHtcbiAgICAgICAgICAgICAgd2ViY2FtV2lkdGggPSBjb25zdHJhaW50cy52aWRlby53aWR0aC5pZGVhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50cy52aWRlby5oZWlnaHQgJiYgY29uc3RyYWludHMudmlkZW8uaGVpZ2h0LmlkZWFsKSB7XG4gICAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IGNvbnN0cmFpbnRzLnZpZGVvLmhlaWdodC5pZGVhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHdlYmNhbVdpZHRoIDw9IDAgfHwgd2ViY2FtSGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlN0aWxsIGludmFsaWQgZGltZW5zaW9ucywgdXNpbmcgZGVmYXVsdHNcIik7XG4gICAgICAgICAgICB3ZWJjYW1XaWR0aCA9IDY0MDtcbiAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IDQ4MDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmFsIGNoZWNrIGZvciBzcXVhcmUgYXNwZWN0IHJhdGlvIHdoaWNoIGlzIHVzdWFsbHkgaW5jb3JyZWN0XG4gICAgICAgIGlmICh3ZWJjYW1XaWR0aCA9PT0gd2ViY2FtSGVpZ2h0ICYmIHdlYmNhbVdpZHRoID4gMTAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiU3F1YXJlIGFzcGVjdCByYXRpbyBkZXRlY3RlZCwgbWF5IGJlIGluY29ycmVjdFwiKTtcbiAgICAgICAgICAvLyBUcnkgdG8gZ2V0IG1vcmUgcmVsaWFibGUgZGltZW5zaW9uc1xuICAgICAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHZpZGVvVHJhY2suZ2V0Q2FwYWJpbGl0aWVzPy4oKTtcbiAgICAgICAgICBpZiAoY2FwYWJpbGl0aWVzICYmIGNhcGFiaWxpdGllcy53aWR0aCAmJiBjYXBhYmlsaXRpZXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoY2FwYWJpbGl0aWVzLndpZHRoLm1heCAmJiBjYXBhYmlsaXRpZXMuaGVpZ2h0Lm1heCkge1xuICAgICAgICAgICAgICAvLyBBc3N1bWUgdGhlIG1heGltdW0gY2FwYWJpbGl0aWVzIGhhdmUgdGhlIGNvcnJlY3QgYXNwZWN0IHJhdGlvXG4gICAgICAgICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gY2FwYWJpbGl0aWVzLndpZHRoLm1heCAvIGNhcGFiaWxpdGllcy5oZWlnaHQubWF4O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGFzcGVjdFJhdGlvIC0gMS4zMykgPCAwLjEpIHsgLy8gQ2xvc2UgdG8gNDozXG4gICAgICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gTWF0aC5yb3VuZCh3ZWJjYW1XaWR0aCAvIDEuMzMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb3JyZWN0ZWQgdG8gNDozIGFzcGVjdCByYXRpbzogJHt3ZWJjYW1XaWR0aH14JHt3ZWJjYW1IZWlnaHR9YCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoYXNwZWN0UmF0aW8gLSAxLjc4KSA8IDAuMSkgeyAvLyBDbG9zZSB0byAxNjo5XG4gICAgICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gTWF0aC5yb3VuZCh3ZWJjYW1XaWR0aCAvIDEuNzgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb3JyZWN0ZWQgdG8gMTY6OSBhc3BlY3QgcmF0aW86ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRlbXBDYW52YXMud2lkdGggPSB3ZWJjYW1XaWR0aDtcbiAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSB3ZWJjYW1IZWlnaHQ7XG4gICAgICAgIHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGVtcFZpZGVvLCAwLCAwLCB3ZWJjYW1XaWR0aCwgd2ViY2FtSGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBoaWdoLXJlc29sdXRpb24gdmVyc2lvbiBmb3Igc2F2aW5nXG4gICAgICAgIHdlYmNhbUltYWdlID0gdGVtcENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjk1KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBsb3dlci1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHByZXZpZXdcbiAgICAgICAgd2ViY2FtSW1hZ2VQcmV2aWV3ID0gYXdhaXQgcmVzaXplSW1hZ2Uod2ViY2FtSW1hZ2UsIDY0MCwgNDgwLCAwLjg1KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBIaWdoLXJlc29sdXRpb24gd2ViY2FtIGNhcHR1cmUgY29tcGxldGU6ICR7d2ViY2FtV2lkdGh9eCR7d2ViY2FtSGVpZ2h0fWApO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godCA9PiB0LnN0b3AoKSk7XG4gICAgICAgIHRlbXBWaWRlby5yZW1vdmUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJIaWdoLXJlc29sdXRpb24gd2ViY2FtIGNhcHR1cmUgZmFpbGVkOlwiLCBlcnIpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IG9uZSBtb3JlIHRpbWUgd2l0aCBiYXNpYyBjb25zdHJhaW50c1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgdmlkZW86IHRydWUgfSk7XG4gICAgICAgICAgY29uc3QgdmlkZW9UcmFjayA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdO1xuICAgICAgICAgIGNvbnN0IHRyYWNrU2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgdGVtcFZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICB0ZW1wVmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgIHRlbXBWaWRlby5tdXRlZCA9IHRydWU7XG4gICAgICAgICAgdGVtcFZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlbXBWaWRlbyk7XG4gICAgICAgICAgYXdhaXQgdGVtcFZpZGVvLnBsYXkoKTtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDMwMCkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEdldCBkaW1lbnNpb25zIGZyb20gdHJhY2sgc2V0dGluZ3MgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKHRyYWNrU2V0dGluZ3MgJiYgdHJhY2tTZXR0aW5ncy53aWR0aCAmJiB0cmFja1NldHRpbmdzLmhlaWdodCkge1xuICAgICAgICAgICAgd2ViY2FtV2lkdGggPSB0cmFja1NldHRpbmdzLndpZHRoO1xuICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gdHJhY2tTZXR0aW5ncy5oZWlnaHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gdGVtcFZpZGVvLnZpZGVvV2lkdGggfHwgMDtcbiAgICAgICAgICAgIHdlYmNhbUhlaWdodCA9IHRlbXBWaWRlby52aWRlb0hlaWdodCB8fCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaW5hbCBjaGVjayBmb3IgaW52YWxpZCBkaW1lbnNpb25zXG4gICAgICAgICAgaWYgKHdlYmNhbVdpZHRoIDw9IDAgfHwgd2ViY2FtSGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHdlYmNhbVdpZHRoID0gNjQwO1xuICAgICAgICAgICAgd2ViY2FtSGVpZ2h0ID0gNDgwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IHdlYmNhbVdpZHRoO1xuICAgICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gd2ViY2FtSGVpZ2h0O1xuICAgICAgICAgIHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGVtcFZpZGVvLCAwLCAwLCB3ZWJjYW1XaWR0aCwgd2ViY2FtSGVpZ2h0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgaGlnaC1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHNhdmluZ1xuICAgICAgICAgIHdlYmNhbUltYWdlID0gdGVtcENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBsb3dlci1yZXNvbHV0aW9uIHZlcnNpb24gZm9yIHByZXZpZXdcbiAgICAgICAgICB3ZWJjYW1JbWFnZVByZXZpZXcgPSBhd2FpdCByZXNpemVJbWFnZSh3ZWJjYW1JbWFnZSwgNjQwLCA0ODAsIDAuOCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYEJhc2ljIHdlYmNhbSByZXNvbHV0aW9uIGNhcHR1cmVkOiAke3dlYmNhbVdpZHRofXgke3dlYmNhbUhlaWdodH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0ID0+IHQuc3RvcCgpKTtcbiAgICAgICAgICB0ZW1wVmlkZW8ucmVtb3ZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFsbCB3ZWJjYW0gY2FwdHVyZSBtZXRob2RzIGZhaWxlZDpcIiwgZmFsbGJhY2tFcnIpO1xuICAgICAgICAgIHdlYmNhbVdpZHRoID0gNjQwO1xuICAgICAgICAgIHdlYmNhbUhlaWdodCA9IDQ4MDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDEuMyBQYXJhbWV0ZXIgZGF0YSAtIE5vdyBpbmNsdWRpbmcgd2ViY2FtIHJlc29sdXRpb25cbiAgICBjb25zdCBjc3ZEYXRhID0gW1xuICAgICAgXCJuYW1lLHZhbHVlXCIsXG4gICAgICBgZG90X3gsJHtwb2ludC54fWAsXG4gICAgICBgZG90X3ksJHtwb2ludC55fWAsXG4gICAgICBgY2FudmFzX3dpZHRoLCR7Y2FudmFzPy53aWR0aCB8fCAwfWAsXG4gICAgICBgY2FudmFzX2hlaWdodCwke2NhbnZhcz8uaGVpZ2h0IHx8IDB9YCxcbiAgICAgIGB3aW5kb3dfd2lkdGgsJHt3aW5kb3cuaW5uZXJXaWR0aH1gLFxuICAgICAgYHdpbmRvd19oZWlnaHQsJHt3aW5kb3cuaW5uZXJIZWlnaHR9YCxcbiAgICAgIGB3ZWJjYW1fcmVzb2x1dGlvbl93aWR0aCwke3dlYmNhbVdpZHRofWAsXG4gICAgICBgd2ViY2FtX3Jlc29sdXRpb25faGVpZ2h0LCR7d2ViY2FtSGVpZ2h0fWAsXG4gICAgICBgdGltZXN0YW1wLCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWAsXG4gICAgICBgZ3JvdXBfaWQsJHtjYXB0dXJlR3JvdXBJZH1gXG4gICAgXS5qb2luKCdcXG4nKTtcbiAgICBcbiAgICAvLyAyLiBTYXZlIGFsbCBmaWxlcyB3aXRoIHRoZSBzYW1lIGdyb3VwIElEIHNvIHRoZXkgZ2V0IHRoZSBzYW1lIG51bWJlclxuICAgIFxuICAgIC8vIDIuMSBTYXZlIHBhcmFtZXRlciBmaWxlXG4gICAgY29uc3QgcGFyYW1SZXN1bHQgPSBhd2FpdCBzYXZlQ1NWVG9TZXJ2ZXIoY3N2RGF0YSwgcGFyYW1ldGVyRmlsZW5hbWUsIGZvbGRlciwgY2FwdHVyZUdyb3VwSWQpO1xuICAgIFxuICAgIGlmIChwYXJhbVJlc3VsdCAmJiBwYXJhbVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBjYXB0dXJlTnVtYmVyID0gcGFyYW1SZXN1bHQubnVtYmVyO1xuICAgICAgY29uc29sZS5sb2coYFNlcnZlciBhc3NpZ25lZCBjYXB0dXJlIG51bWJlcjogJHtjYXB0dXJlTnVtYmVyfSBmb3IgZ3JvdXA6ICR7Y2FwdHVyZUdyb3VwSWR9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIDIuMiBTYXZlIHNjcmVlbiBpbWFnZSBpZiBhdmFpbGFibGVcbiAgICBsZXQgc2NyZWVuUmVzdWx0ID0gbnVsbDtcbiAgICBpZiAoc2NyZWVuSW1hZ2UpIHtcbiAgICAgIHNjcmVlblJlc3VsdCA9IGF3YWl0IHNhdmVJbWFnZVRvU2VydmVyKHNjcmVlbkltYWdlLCBzY3JlZW5GaWxlbmFtZSwgJ3NjcmVlbicsIGZvbGRlciwgY2FwdHVyZUdyb3VwSWQpO1xuICAgIH1cbiAgICBcbiAgICAvLyAyLjMgU2F2ZSB3ZWJjYW0gaW1hZ2UgaWYgYXZhaWxhYmxlXG4gICAgbGV0IHdlYmNhbVJlc3VsdCA9IG51bGw7XG4gICAgaWYgKHdlYmNhbUltYWdlKSB7XG4gICAgICB3ZWJjYW1SZXN1bHQgPSBhd2FpdCBzYXZlSW1hZ2VUb1NlcnZlcih3ZWJjYW1JbWFnZSwgd2ViY2FtRmlsZW5hbWUsICd3ZWJjYW0nLCBmb2xkZXIsIGNhcHR1cmVHcm91cElkKTtcbiAgICB9XG4gICAgXG4gICAgLy8gMy4gU2hvdyBwcmV2aWV3IGlmIG5lZWRlZCAtIHVzZSB0aGUgbG93ZXIgcmVzb2x1dGlvbiB2ZXJzaW9uIGZvciBwcmV2aWV3XG4gICAgaWYgKHNob3dDYXB0dXJlUHJldmlldyAmJiB0eXBlb2Ygc2hvd0NhcHR1cmVQcmV2aWV3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzaG93Q2FwdHVyZVByZXZpZXcoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlUHJldmlldyB8fCB3ZWJjYW1JbWFnZSwgcG9pbnQpO1xuICAgIH1cbiAgICBcbiAgICAvLyA0LiBJbmNyZW1lbnQgY291bnRlciBmb3IgbmV4dCBjYXB0dXJlXG4gICAgaWYgKHNldENhcHR1cmVDb3VudCAmJiB0eXBlb2Ygc2V0Q2FwdHVyZUNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzZXRDYXB0dXJlQ291bnQocHJldkNvdW50ID0+IHByZXZDb3VudCArIDEpO1xuICAgIH1cbiAgICBcbiAgICAvLyA1LiBSZXR1cm4gcmVzdWx0cyAtIG5vdyBpbmNsdWRpbmcgd2ViY2FtIHJlc29sdXRpb25cbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuSW1hZ2UsXG4gICAgICB3ZWJjYW1JbWFnZSxcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBwb2ludCxcbiAgICAgIGNhcHR1cmVOdW1iZXIsXG4gICAgICBncm91cElkOiBjYXB0dXJlR3JvdXBJZCxcbiAgICAgIHdlYmNhbVdpZHRoLFxuICAgICAgd2ViY2FtSGVpZ2h0XG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcImNhcHR1cmVJbWFnZXNBdFBvaW50IGZhaWxlZDpcIiwgZXJyKTtcbiAgICByZXR1cm4geyBcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgIHNjcmVlbkltYWdlOiBudWxsLFxuICAgICAgd2ViY2FtSW1hZ2U6IG51bGwsXG4gICAgICB3ZWJjYW1XaWR0aDogMCxcbiAgICAgIHdlYmNhbUhlaWdodDogMFxuICAgIH07XG4gIH1cbn07Il0sIm5hbWVzIjpbInJlc2l6ZUltYWdlIiwiaW1hZ2VEYXRhVXJsIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJxdWFsaXR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIndpZHRoIiwiaGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInJlc2l6ZWREYXRhVXJsIiwidG9EYXRhVVJMIiwib25lcnJvciIsImVyciIsInNyYyIsInNhdmVJbWFnZVRvU2VydmVyIiwiaW1hZ2VEYXRhIiwiZmlsZW5hbWUiLCJ0eXBlIiwiZm9sZGVyIiwiY2FwdHVyZUdyb3VwIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzIiwid2FybiIsInNpemVzIiwicmVzaXplZEltYWdlIiwicmV0cnlSZXNwb25zZSIsImxvZyIsImpzb24iLCJyZXRyeUVycm9yIiwic3VjY2VzcyIsInJlc3VsdCIsIm1lc3NhZ2UiLCJzYXZlQ1NWVG9TZXJ2ZXIiLCJjc3ZEYXRhIiwiY3N2QmxvYiIsIkJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiY3N2RGF0YVVybCIsIm9ubG9hZGVuZCIsInJlYWRBc0RhdGFVUkwiLCJnZXRIaWdoZXN0UmVzb2x1dGlvbkNvbnN0cmFpbnRzIiwidGVtcFN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwidmlkZW9UcmFjayIsImdldFZpZGVvVHJhY2tzIiwiY2FwYWJpbGl0aWVzIiwiZ2V0Q2FwYWJpbGl0aWVzIiwic2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInN0b3AiLCJtYXgiLCJpZGVhbCIsInJlc29sdXRpb25zIiwicmVzb2x1dGlvbiIsImNvbnN0cmFpbnRzIiwiZmFjaW5nTW9kZSIsInN0cmVhbSIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsImNhcHR1cmVJbWFnZXNBdFBvaW50IiwicG9pbnQiLCJjYXB0dXJlQ291bnQiLCJjYW52YXNSZWYiLCJzZXRDYXB0dXJlQ291bnQiLCJzaG93Q2FwdHVyZVByZXZpZXciLCJjYXB0dXJlR3JvdXBJZCIsIkRhdGUiLCJub3ciLCJzY3JlZW5GaWxlbmFtZSIsIndlYmNhbUZpbGVuYW1lIiwicGFyYW1ldGVyRmlsZW5hbWUiLCJjdXJyZW50Iiwic2NyZWVuSW1hZ2UiLCJ3ZWJjYW1JbWFnZSIsImNhcHR1cmVOdW1iZXIiLCJ3ZWJjYW1XaWR0aCIsIndlYmNhbUhlaWdodCIsIndlYmNhbUltYWdlUHJldmlldyIsInZpZGVvRWxlbWVudCIsIndpbmRvdyIsInF1ZXJ5U2VsZWN0b3IiLCJ0cmFja1NldHRpbmdzIiwic3JjT2JqZWN0IiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiZ2V0Q29uc3RyYWludHMiLCJleGFjdCIsInRlbXBDYW52YXMiLCJ0ZW1wVmlkZW8iLCJtdXRlZCIsInBsYXlzSW5saW5lIiwiYXV0b3BsYXkiLCJhcHBlbmRDaGlsZCIsIm9ubG9hZGVkbWV0YWRhdGEiLCJwbGF5Iiwic2V0VGltZW91dCIsInJlcyIsImFzcGVjdFJhdGlvIiwiYWJzIiwidCIsInJlbW92ZSIsImZhbGxiYWNrRXJyIiwieCIsInkiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ0b0lTT1N0cmluZyIsImpvaW4iLCJwYXJhbVJlc3VsdCIsIm51bWJlciIsInNjcmVlblJlc3VsdCIsIndlYmNhbVJlc3VsdCIsInByZXZDb3VudCIsImdyb3VwSWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/consent/ConsentBanner.js":
/*!*********************************************!*\
  !*** ./components/consent/ConsentBanner.js ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConsentBanner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/Consent.module.css */ \"(pages-dir-node)/./styles/Consent.module.css\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ConsentContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_ConsentContext__WEBPACK_IMPORTED_MODULE_4__]);\n_ConsentContext__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// frontend/components/consent/ConsentBanner.js\n\n\n\n\n\nfunction ConsentBanner() {\n    const { showBanner, updateConsent } = (0,_ConsentContext__WEBPACK_IMPORTED_MODULE_4__.useConsent)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // If banner shouldn't be shown, return null\n    if (!showBanner) return null;\n    const handleAccept = async ()=>{\n        setLoading(true);\n        await updateConsent(true);\n        setLoading(false);\n    };\n    const handleDecline = async ()=>{\n        setLoading(true);\n        await updateConsent(false);\n        setLoading(false);\n    };\n    const handleLearnMore = ()=>{\n        router.push('/privacy-policy');\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerContainer),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerContent),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerText),\n                    children: '\\uD83C\\uDF6A We use cookies to collect information about how you interact with our site—like your preferences and usage data—to improve your experience. By clicking \"Accept\", you agree to our use of cookies.'\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                    lineNumber: 34,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButtons),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().acceptButton)}`,\n                            onClick: handleAccept,\n                            disabled: loading,\n                            children: loading ? 'Processing...' : 'Accept'\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                            lineNumber: 38,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().declineButton)}`,\n                            onClick: handleDecline,\n                            disabled: loading,\n                            children: \"Decline\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                            lineNumber: 45,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton)} ${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().learnMoreButton)}`,\n                            onClick: handleLearnMore,\n                            children: \"Learn more\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                            lineNumber: 52,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n                    lineNumber: 37,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n            lineNumber: 33,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentBanner.js\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50QmFubmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQ0FBK0M7O0FBQ2Q7QUFDTztBQUNhO0FBQ1A7QUFFL0IsU0FBU0k7SUFDdEIsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLGFBQWEsRUFBRSxHQUFHSCwyREFBVUE7SUFDaEQsTUFBTSxDQUFDSSxTQUFTQyxXQUFXLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU1TLFNBQVNSLHNEQUFTQTtJQUV4Qiw0Q0FBNEM7SUFDNUMsSUFBSSxDQUFDSSxZQUFZLE9BQU87SUFFeEIsTUFBTUssZUFBZTtRQUNuQkYsV0FBVztRQUNYLE1BQU1GLGNBQWM7UUFDcEJFLFdBQVc7SUFDYjtJQUVBLE1BQU1HLGdCQUFnQjtRQUNwQkgsV0FBVztRQUNYLE1BQU1GLGNBQWM7UUFDcEJFLFdBQVc7SUFDYjtJQUVBLE1BQU1JLGtCQUFrQjtRQUN0QkgsT0FBT0ksSUFBSSxDQUFDO0lBQ2Q7SUFFQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBV2IsbUZBQXNCO2tCQUNwQyw0RUFBQ1k7WUFBSUMsV0FBV2IsaUZBQW9COzs4QkFDbEMsOERBQUNnQjtvQkFBS0gsV0FBV2IsOEVBQWlCOzhCQUFFOzs7Ozs7OEJBR3BDLDhEQUFDWTtvQkFBSUMsV0FBV2IsaUZBQW9COztzQ0FDbEMsOERBQUNtQjs0QkFDQ04sV0FBVyxHQUFHYixnRkFBbUIsQ0FBQyxDQUFDLEVBQUVBLGdGQUFtQixFQUFFOzRCQUMxRHNCLFNBQVNkOzRCQUNUZSxVQUFVbEI7c0NBRVRBLFVBQVUsa0JBQWtCOzs7Ozs7c0NBRS9CLDhEQUFDYzs0QkFDQ04sV0FBVyxHQUFHYixnRkFBbUIsQ0FBQyxDQUFDLEVBQUVBLGlGQUFvQixFQUFFOzRCQUMzRHNCLFNBQVNiOzRCQUNUYyxVQUFVbEI7c0NBQ1g7Ozs7OztzQ0FHRCw4REFBQ2M7NEJBQ0NOLFdBQVcsR0FBR2IsZ0ZBQW1CLENBQUMsQ0FBQyxFQUFFQSxtRkFBc0IsRUFBRTs0QkFDN0RzQixTQUFTWjtzQ0FDVjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPWCIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50QmFubmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZyb250ZW5kL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50QmFubmVyLmpzXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vLi4vc3R5bGVzL0NvbnNlbnQubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi9Db25zZW50Q29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnNlbnRCYW5uZXIoKSB7XG4gIGNvbnN0IHsgc2hvd0Jhbm5lciwgdXBkYXRlQ29uc2VudCB9ID0gdXNlQ29uc2VudCgpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIC8vIElmIGJhbm5lciBzaG91bGRuJ3QgYmUgc2hvd24sIHJldHVybiBudWxsXG4gIGlmICghc2hvd0Jhbm5lcikgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgaGFuZGxlQWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgYXdhaXQgdXBkYXRlQ29uc2VudCh0cnVlKTtcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWNsaW5lID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgYXdhaXQgdXBkYXRlQ29uc2VudChmYWxzZSk7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTGVhcm5Nb3JlID0gKCkgPT4ge1xuICAgIHJvdXRlci5wdXNoKCcvcHJpdmFjeS1wb2xpY3knKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYmFubmVyQ29udGFpbmVyfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYmFubmVyQ29udGVudH0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLmJhbm5lclRleHR9PlxuICAgICAgICAgIPCfjaogV2UgdXNlIGNvb2tpZXMgdG8gY29sbGVjdCBpbmZvcm1hdGlvbiBhYm91dCBob3cgeW91IGludGVyYWN0IHdpdGggb3VyIHNpdGXigJRsaWtlIHlvdXIgcHJlZmVyZW5jZXMgYW5kIHVzYWdlIGRhdGHigJR0byBpbXByb3ZlIHlvdXIgZXhwZXJpZW5jZS4gQnkgY2xpY2tpbmcgXCJBY2NlcHRcIiwgeW91IGFncmVlIHRvIG91ciB1c2Ugb2YgY29va2llcy5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJhbm5lckJ1dHRvbnN9PlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlcy5iYW5uZXJCdXR0b259ICR7c3R5bGVzLmFjY2VwdEJ1dHRvbn1gfSBcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFjY2VwdH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtsb2FkaW5nID8gJ1Byb2Nlc3NpbmcuLi4nIDogJ0FjY2VwdCd9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLmJhbm5lckJ1dHRvbn0gJHtzdHlsZXMuZGVjbGluZUJ1dHRvbn1gfSBcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlY2xpbmV9XG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICBEZWNsaW5lXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLmJhbm5lckJ1dHRvbn0gJHtzdHlsZXMubGVhcm5Nb3JlQnV0dG9ufWB9XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWFybk1vcmV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgTGVhcm4gbW9yZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJvdXRlciIsInN0eWxlcyIsInVzZUNvbnNlbnQiLCJDb25zZW50QmFubmVyIiwic2hvd0Jhbm5lciIsInVwZGF0ZUNvbnNlbnQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJvdXRlciIsImhhbmRsZUFjY2VwdCIsImhhbmRsZURlY2xpbmUiLCJoYW5kbGVMZWFybk1vcmUiLCJwdXNoIiwiZGl2IiwiY2xhc3NOYW1lIiwiYmFubmVyQ29udGFpbmVyIiwiYmFubmVyQ29udGVudCIsInNwYW4iLCJiYW5uZXJUZXh0IiwiYmFubmVyQnV0dG9ucyIsImJ1dHRvbiIsImJhbm5lckJ1dHRvbiIsImFjY2VwdEJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImRlY2xpbmVCdXR0b24iLCJsZWFybk1vcmVCdXR0b24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/consent/ConsentBanner.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/consent/ConsentContext.js":
/*!**********************************************!*\
  !*** ./components/consent/ConsentContext.js ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsentProvider: () => (/* binding */ ConsentProvider),\n/* harmony export */   useConsent: () => (/* binding */ useConsent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_consentManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/consentManager */ \"(pages-dir-node)/./utils/consentManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__]);\n_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// frontend/components/consent/ConsentContext.js\n\n\n\nconst ConsentContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\nfunction ConsentProvider({ children }) {\n    const [consentState, setConsentState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        loading: true,\n        userId: null,\n        consentStatus: null,\n        consentUpdatedAt: null,\n        consentDetails: null,\n        showBanner: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentProvider.useEffect\": ()=>{\n            // Get consent data from localStorage\n            const initializeConsent = {\n                \"ConsentProvider.useEffect.initializeConsent\": async ()=>{\n                    try {\n                        const consentData = await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getUserConsent)();\n                        // If no consent data exists or consentStatus is null, show the banner\n                        if (consentData.consentStatus === null) {\n                            setConsentState({\n                                loading: false,\n                                userId: null,\n                                consentStatus: null,\n                                consentUpdatedAt: null,\n                                consentDetails: null,\n                                showBanner: true\n                            });\n                            return;\n                        }\n                        // Try to get detailed consent preferences if available\n                        let consentDetails = null;\n                        try {\n                            const detailsStr = localStorage.getItem('consent_details');\n                            if (detailsStr) {\n                                consentDetails = JSON.parse(detailsStr);\n                            }\n                        } catch (e) {\n                            console.error('Error parsing consent details:', e);\n                        }\n                        setConsentState({\n                            loading: false,\n                            userId: consentData.userId,\n                            consentStatus: consentData.consentStatus,\n                            consentUpdatedAt: consentData.consentUpdatedAt,\n                            consentDetails,\n                            showBanner: false\n                        });\n                    } catch (error) {\n                        console.error('Error initializing consent:', error);\n                        // If there's an error, show the banner\n                        setConsentState({\n                            loading: false,\n                            userId: null,\n                            consentStatus: null,\n                            consentUpdatedAt: null,\n                            consentDetails: null,\n                            showBanner: true\n                        });\n                    }\n                }\n            }[\"ConsentProvider.useEffect.initializeConsent\"];\n            initializeConsent();\n        }\n    }[\"ConsentProvider.useEffect\"], []);\n    const updateConsent = async (status)=>{\n        try {\n            const userId = consentState.userId || (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.getOrCreateUserId)();\n            const updatedConsent = await (0,_utils_consentManager__WEBPACK_IMPORTED_MODULE_2__.updateUserConsent)(status);\n            setConsentState((prev)=>({\n                    ...prev,\n                    consentStatus: updatedConsent.consentStatus,\n                    consentUpdatedAt: updatedConsent.consentUpdatedAt,\n                    showBanner: false\n                }));\n            return true;\n        } catch (error) {\n            console.error('Error updating consent:', error);\n            return false;\n        }\n    };\n    const toggleBanner = (show)=>{\n        setConsentState((prev)=>({\n                ...prev,\n                showBanner: show\n            }));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConsentContext.Provider, {\n        value: {\n            ...consentState,\n            updateConsent,\n            toggleBanner\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/consent/ConsentContext.js\",\n        lineNumber: 99,\n        columnNumber: 5\n    }, this);\n}\nfunction useConsent() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConsentContext);\n    if (context === undefined) {\n        throw new Error('useConsent must be used within a ConsentProvider');\n    }\n    return context;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50Q29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsZ0RBQWdEOztBQUN1QjtBQUMyQjtBQUVsRyxNQUFNTywrQkFBaUJQLG9EQUFhQTtBQUU3QixTQUFTUSxnQkFBZ0IsRUFBRUMsUUFBUSxFQUFFO0lBQzFDLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdULCtDQUFRQSxDQUFDO1FBQy9DVSxTQUFTO1FBQ1RDLFFBQVE7UUFDUkMsZUFBZTtRQUNmQyxrQkFBa0I7UUFDbEJDLGdCQUFnQjtRQUNoQkMsWUFBWTtJQUNkO0lBRUFkLGdEQUFTQTtxQ0FBQztZQUNSLHFDQUFxQztZQUNyQyxNQUFNZTsrREFBb0I7b0JBQ3hCLElBQUk7d0JBQ0YsTUFBTUMsY0FBYyxNQUFNZixxRUFBY0E7d0JBRXhDLHNFQUFzRTt3QkFDdEUsSUFBSWUsWUFBWUwsYUFBYSxLQUFLLE1BQU07NEJBQ3RDSCxnQkFBZ0I7Z0NBQ2RDLFNBQVM7Z0NBQ1RDLFFBQVE7Z0NBQ1JDLGVBQWU7Z0NBQ2ZDLGtCQUFrQjtnQ0FDbEJDLGdCQUFnQjtnQ0FDaEJDLFlBQVk7NEJBQ2Q7NEJBQ0E7d0JBQ0Y7d0JBRUEsdURBQXVEO3dCQUN2RCxJQUFJRCxpQkFBaUI7d0JBQ3JCLElBQUk7NEJBQ0YsTUFBTUksYUFBYUMsYUFBYUMsT0FBTyxDQUFDOzRCQUN4QyxJQUFJRixZQUFZO2dDQUNkSixpQkFBaUJPLEtBQUtDLEtBQUssQ0FBQ0o7NEJBQzlCO3dCQUNGLEVBQUUsT0FBT0ssR0FBRzs0QkFDVkMsUUFBUUMsS0FBSyxDQUFDLGtDQUFrQ0Y7d0JBQ2xEO3dCQUVBZCxnQkFBZ0I7NEJBQ2RDLFNBQVM7NEJBQ1RDLFFBQVFNLFlBQVlOLE1BQU07NEJBQzFCQyxlQUFlSyxZQUFZTCxhQUFhOzRCQUN4Q0Msa0JBQWtCSSxZQUFZSixnQkFBZ0I7NEJBQzlDQzs0QkFDQUMsWUFBWTt3QkFDZDtvQkFDRixFQUFFLE9BQU9VLE9BQU87d0JBQ2RELFFBQVFDLEtBQUssQ0FBQywrQkFBK0JBO3dCQUM3Qyx1Q0FBdUM7d0JBQ3ZDaEIsZ0JBQWdCOzRCQUNkQyxTQUFTOzRCQUNUQyxRQUFROzRCQUNSQyxlQUFlOzRCQUNmQyxrQkFBa0I7NEJBQ2xCQyxnQkFBZ0I7NEJBQ2hCQyxZQUFZO3dCQUNkO29CQUNGO2dCQUNGOztZQUVBQztRQUNGO29DQUFHLEVBQUU7SUFFTCxNQUFNVSxnQkFBZ0IsT0FBT0M7UUFDM0IsSUFBSTtZQUNGLE1BQU1oQixTQUFTSCxhQUFhRyxNQUFNLElBQUlQLHdFQUFpQkE7WUFDdkQsTUFBTXdCLGlCQUFpQixNQUFNekIsd0VBQWlCQSxDQUFDd0I7WUFFL0NsQixnQkFBZ0JvQixDQUFBQSxPQUFTO29CQUN2QixHQUFHQSxJQUFJO29CQUNQakIsZUFBZWdCLGVBQWVoQixhQUFhO29CQUMzQ0Msa0JBQWtCZSxlQUFlZixnQkFBZ0I7b0JBQ2pERSxZQUFZO2dCQUNkO1lBRUEsT0FBTztRQUNULEVBQUUsT0FBT1UsT0FBTztZQUNkRCxRQUFRQyxLQUFLLENBQUMsMkJBQTJCQTtZQUN6QyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE1BQU1LLGVBQWUsQ0FBQ0M7UUFDcEJ0QixnQkFBZ0JvQixDQUFBQSxPQUFTO2dCQUN2QixHQUFHQSxJQUFJO2dCQUNQZCxZQUFZZ0I7WUFDZDtJQUNGO0lBRUEscUJBQ0UsOERBQUMxQixlQUFlMkIsUUFBUTtRQUN0QkMsT0FBTztZQUNMLEdBQUd6QixZQUFZO1lBQ2ZrQjtZQUNBSTtRQUNGO2tCQUVDdkI7Ozs7OztBQUdQO0FBRU8sU0FBUzJCO0lBQ2QsTUFBTUMsVUFBVXBDLGlEQUFVQSxDQUFDTTtJQUMzQixJQUFJOEIsWUFBWUMsV0FBVztRQUN6QixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFDQSxPQUFPRjtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvY29tcG9uZW50cy9jb25zZW50L0NvbnNlbnRDb250ZXh0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZyb250ZW5kL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50Q29udGV4dC5qc1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldFVzZXJDb25zZW50LCB1cGRhdGVVc2VyQ29uc2VudCwgZ2V0T3JDcmVhdGVVc2VySWQgfSBmcm9tICcuLi8uLi91dGlscy9jb25zZW50TWFuYWdlcic7XG5cbmNvbnN0IENvbnNlbnRDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29uc2VudFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCBbY29uc2VudFN0YXRlLCBzZXRDb25zZW50U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIGxvYWRpbmc6IHRydWUsXG4gICAgdXNlcklkOiBudWxsLFxuICAgIGNvbnNlbnRTdGF0dXM6IG51bGwsXG4gICAgY29uc2VudFVwZGF0ZWRBdDogbnVsbCxcbiAgICBjb25zZW50RGV0YWlsczogbnVsbCxcbiAgICBzaG93QmFubmVyOiBmYWxzZSxcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBHZXQgY29uc2VudCBkYXRhIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgY29uc3QgaW5pdGlhbGl6ZUNvbnNlbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjb25zZW50RGF0YSA9IGF3YWl0IGdldFVzZXJDb25zZW50KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBubyBjb25zZW50IGRhdGEgZXhpc3RzIG9yIGNvbnNlbnRTdGF0dXMgaXMgbnVsbCwgc2hvdyB0aGUgYmFubmVyXG4gICAgICAgIGlmIChjb25zZW50RGF0YS5jb25zZW50U3RhdHVzID09PSBudWxsKSB7XG4gICAgICAgICAgc2V0Q29uc2VudFN0YXRlKHtcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgdXNlcklkOiBudWxsLFxuICAgICAgICAgICAgY29uc2VudFN0YXR1czogbnVsbCxcbiAgICAgICAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IG51bGwsXG4gICAgICAgICAgICBjb25zZW50RGV0YWlsczogbnVsbCxcbiAgICAgICAgICAgIHNob3dCYW5uZXI6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSB0byBnZXQgZGV0YWlsZWQgY29uc2VudCBwcmVmZXJlbmNlcyBpZiBhdmFpbGFibGVcbiAgICAgICAgbGV0IGNvbnNlbnREZXRhaWxzID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkZXRhaWxzU3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvbnNlbnRfZGV0YWlscycpO1xuICAgICAgICAgIGlmIChkZXRhaWxzU3RyKSB7XG4gICAgICAgICAgICBjb25zZW50RGV0YWlscyA9IEpTT04ucGFyc2UoZGV0YWlsc1N0cik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBjb25zZW50IGRldGFpbHM6JywgZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldENvbnNlbnRTdGF0ZSh7XG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgdXNlcklkOiBjb25zZW50RGF0YS51c2VySWQsXG4gICAgICAgICAgY29uc2VudFN0YXR1czogY29uc2VudERhdGEuY29uc2VudFN0YXR1cyxcbiAgICAgICAgICBjb25zZW50VXBkYXRlZEF0OiBjb25zZW50RGF0YS5jb25zZW50VXBkYXRlZEF0LFxuICAgICAgICAgIGNvbnNlbnREZXRhaWxzLFxuICAgICAgICAgIHNob3dCYW5uZXI6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGNvbnNlbnQ6JywgZXJyb3IpO1xuICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIGVycm9yLCBzaG93IHRoZSBiYW5uZXJcbiAgICAgICAgc2V0Q29uc2VudFN0YXRlKHtcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICB1c2VySWQ6IG51bGwsXG4gICAgICAgICAgY29uc2VudFN0YXR1czogbnVsbCxcbiAgICAgICAgICBjb25zZW50VXBkYXRlZEF0OiBudWxsLFxuICAgICAgICAgIGNvbnNlbnREZXRhaWxzOiBudWxsLFxuICAgICAgICAgIHNob3dCYW5uZXI6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGluaXRpYWxpemVDb25zZW50KCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCB1cGRhdGVDb25zZW50ID0gYXN5bmMgKHN0YXR1cykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VySWQgPSBjb25zZW50U3RhdGUudXNlcklkIHx8IGdldE9yQ3JlYXRlVXNlcklkKCk7XG4gICAgICBjb25zdCB1cGRhdGVkQ29uc2VudCA9IGF3YWl0IHVwZGF0ZVVzZXJDb25zZW50KHN0YXR1cyk7XG4gICAgICBcbiAgICAgIHNldENvbnNlbnRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGNvbnNlbnRTdGF0dXM6IHVwZGF0ZWRDb25zZW50LmNvbnNlbnRTdGF0dXMsXG4gICAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IHVwZGF0ZWRDb25zZW50LmNvbnNlbnRVcGRhdGVkQXQsXG4gICAgICAgIHNob3dCYW5uZXI6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjb25zZW50OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlQmFubmVyID0gKHNob3cpID0+IHtcbiAgICBzZXRDb25zZW50U3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIHNob3dCYW5uZXI6IHNob3dcbiAgICB9KSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Q29uc2VudENvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIC4uLmNvbnNlbnRTdGF0ZSxcbiAgICAgICAgdXBkYXRlQ29uc2VudCxcbiAgICAgICAgdG9nZ2xlQmFubmVyXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0NvbnNlbnRDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29uc2VudCgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQ29uc2VudENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VDb25zZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBDb25zZW50UHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImdldFVzZXJDb25zZW50IiwidXBkYXRlVXNlckNvbnNlbnQiLCJnZXRPckNyZWF0ZVVzZXJJZCIsIkNvbnNlbnRDb250ZXh0IiwiQ29uc2VudFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjb25zZW50U3RhdGUiLCJzZXRDb25zZW50U3RhdGUiLCJsb2FkaW5nIiwidXNlcklkIiwiY29uc2VudFN0YXR1cyIsImNvbnNlbnRVcGRhdGVkQXQiLCJjb25zZW50RGV0YWlscyIsInNob3dCYW5uZXIiLCJpbml0aWFsaXplQ29uc2VudCIsImNvbnNlbnREYXRhIiwiZGV0YWlsc1N0ciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJlIiwiY29uc29sZSIsImVycm9yIiwidXBkYXRlQ29uc2VudCIsInN0YXR1cyIsInVwZGF0ZWRDb25zZW50IiwicHJldiIsInRvZ2dsZUJhbm5lciIsInNob3ciLCJQcm92aWRlciIsInZhbHVlIiwidXNlQ29uc2VudCIsImNvbnRleHQiLCJ1bmRlZmluZWQiLCJFcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/consent/ConsentContext.js\n");

/***/ }),

/***/ "(pages-dir-node)/./components/layout/Layout.js":
/*!*************************************!*\
  !*** ./components/layout/Layout.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"(pages-dir-node)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../consent/ConsentBanner */ \"(pages-dir-node)/./components/consent/ConsentBanner.js\");\n/* harmony import */ var _UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../UserProfileSidebar */ \"(pages-dir-node)/./components/UserProfileSidebar.js\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../styles/Consent.module.css */ \"(pages-dir-node)/./styles/Consent.module.css\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__, _UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__, _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__]);\n([_consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__, _UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__, _consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/components/layout/Layout.js\n\n\n\n\n\n\nfunction Layout({ children, title = 'Eye Tracking App' }) {\n    const { showBanner } = (0,_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_5__.useConsent)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: title\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                        lineNumber: 14,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Eye tracking application with multiple models\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                        lineNumber: 15,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                        lineNumber: 16,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_consent_ConsentBanner__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: `${(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default().mainContent)} ${showBanner ? (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_4___default().withBanner) : ''}`,\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 22,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_UserProfileSidebar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/components/layout/Layout.js\",\n                lineNumber: 27,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvbGF5b3V0L0xheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsdUNBQXVDOztBQUNWO0FBQ3dCO0FBQ0U7QUFDRjtBQUNFO0FBRXhDLFNBQVNLLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLGtCQUFrQixFQUFFO0lBQ3JFLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdKLG1FQUFVQTtJQUVqQyxxQkFDRTs7MEJBQ0UsOERBQUNKLGtEQUFJQTs7a0NBQ0gsOERBQUNPO2tDQUFPQTs7Ozs7O2tDQUNSLDhEQUFDRTt3QkFBS0MsTUFBSzt3QkFBY0MsU0FBUTs7Ozs7O2tDQUNqQyw4REFBQ0M7d0JBQUtDLEtBQUk7d0JBQU9DLE1BQUs7Ozs7Ozs7Ozs7OzswQkFJeEIsOERBQUNiLDhEQUFhQTs7Ozs7MEJBRWQsOERBQUNjO2dCQUFLQyxXQUFXLEdBQUdiLCtFQUFrQixDQUFDLENBQUMsRUFBRUssYUFBYUwsOEVBQWlCLEdBQUcsSUFBSTswQkFDNUVHOzs7Ozs7MEJBSUgsOERBQUNKLDJEQUFrQkE7Ozs7Ozs7QUFHekIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9jb21wb25lbnRzL2xheW91dC9MYXlvdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZnJvbnRlbmQvY29tcG9uZW50cy9sYXlvdXQvTGF5b3V0LmpzXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IENvbnNlbnRCYW5uZXIgZnJvbSAnLi4vY29uc2VudC9Db25zZW50QmFubmVyJztcbmltcG9ydCBVc2VyUHJvZmlsZVNpZGViYXIgZnJvbSAnLi4vVXNlclByb2ZpbGVTaWRlYmFyJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vLi4vc3R5bGVzL0NvbnNlbnQubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi4vY29uc2VudC9Db25zZW50Q29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExheW91dCh7IGNoaWxkcmVuLCB0aXRsZSA9ICdFeWUgVHJhY2tpbmcgQXBwJyB9KSB7XG4gIGNvbnN0IHsgc2hvd0Jhbm5lciB9ID0gdXNlQ29uc2VudCgpO1xuICBcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT57dGl0bGV9PC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIkV5ZSB0cmFja2luZyBhcHBsaWNhdGlvbiB3aXRoIG11bHRpcGxlIG1vZGVsc1wiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cImljb25cIiBocmVmPVwiL2Zhdmljb24uaWNvXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIFxuICAgICAgey8qIENvb2tpZSBjb25zZW50IGJhbm5lciBhdCB0aGUgdG9wICovfVxuICAgICAgPENvbnNlbnRCYW5uZXIgLz5cbiAgICAgIFxuICAgICAgPG1haW4gY2xhc3NOYW1lPXtgJHtzdHlsZXMubWFpbkNvbnRlbnR9ICR7c2hvd0Jhbm5lciA/IHN0eWxlcy53aXRoQmFubmVyIDogJyd9YH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvbWFpbj5cblxuICAgICAgey8qIFVzZXIgUHJvZmlsZSBTaWRlYmFyICovfVxuICAgICAgPFVzZXJQcm9maWxlU2lkZWJhciAvPlxuICAgIDwvPlxuICApO1xufSJdLCJuYW1lcyI6WyJIZWFkIiwiQ29uc2VudEJhbm5lciIsIlVzZXJQcm9maWxlU2lkZWJhciIsInN0eWxlcyIsInVzZUNvbnNlbnQiLCJMYXlvdXQiLCJjaGlsZHJlbiIsInRpdGxlIiwic2hvd0Jhbm5lciIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImxpbmsiLCJyZWwiLCJocmVmIiwibWFpbiIsImNsYXNzTmFtZSIsIm1haW5Db250ZW50Iiwid2l0aEJhbm5lciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/layout/Layout.js\n");

/***/ }),

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./pages/_app.js\");\n/* harmony import */ var _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/collected-dataset-customized/index.js */ \"(pages-dir-node)/./pages/collected-dataset-customized/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/collected-dataset-customized\",\n        pathname: \"/collected-dataset-customized\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_collected_dataset_customized_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZjb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkJTJGaW5kZXguanMmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RjtBQUNoQztBQUNFO0FBQzFEO0FBQ3lEO0FBQ1Y7QUFDL0M7QUFDMEU7QUFDMUU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHlFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLHlFQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLHlFQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLHlFQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyx5RUFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyx5RUFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLHlFQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLHlFQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLHlFQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLHlFQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLHlFQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLGtHQUFnQjtBQUMvQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYSw4REFBVztBQUN4QixrQkFBa0Isb0VBQWdCO0FBQ2xDLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxpQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCAqIGFzIGRvY3VtZW50IGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2RvY3VtZW50XCI7XG5pbXBvcnQgKiBhcyBhcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2luZGV4LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGNvbXBvbmVudCAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U2VydmVyU2lkZVByb3BzJyk7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgJ3JlcG9ydFdlYlZpdGFscycpO1xuLy8gUmUtZXhwb3J0IGxlZ2FjeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFNlcnZlclByb3BzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICAvLyBkZWZhdWx0IGV4cG9ydCBtaWdodCBub3QgZXhpc3Qgd2hlbiBvcHRpbWl6ZWQgZm9yIGRhdGEgb25seVxuICAgICAgICBBcHA6IGFwcC5kZWZhdWx0LFxuICAgICAgICBEb2N1bWVudDogZG9jdW1lbnQuZGVmYXVsdFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collected-dataset/styles/main.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/main.css\");\n/* harmony import */ var _collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_main_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collected-dataset/styles/camera.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/camera.css\");\n/* harmony import */ var _collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_camera_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collected-dataset/styles/topbar.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/topbar.css\");\n/* harmony import */ var _collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_topbar_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/Home.module.css */ \"(pages-dir-node)/./styles/Home.module.css\");\n/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_Home_module_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./collected-dataset/styles/control-buttons.css */ \"(pages-dir-node)/./pages/collected-dataset/styles/control-buttons.css\");\n/* harmony import */ var _collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_collected_dataset_styles_control_buttons_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_stateManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/stateManager */ \"(pages-dir-node)/./utils/stateManager.js\");\n/* harmony import */ var _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\n/* harmony import */ var _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/layout/Layout */ \"(pages-dir-node)/./components/layout/Layout.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__, _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__]);\n([_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__, _components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// pages/_app.js\n\n\n\n\n\n\n\n\n// import ConnectionStatusIndicator from '../components/ConnectionStatusIndicator';\n\n// import { generateCalibrationPoints } from '../components/collected-dataset-customized/Action/CalibratePoints';\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_utils_stateManager__WEBPACK_IMPORTED_MODULE_6__.ProcessStatusProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_utils_stateManager__WEBPACK_IMPORTED_MODULE_6__.BackendConnectionProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_7__.ConsentProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_Layout__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                        ...pageProps\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n                        lineNumber: 20,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n                    lineNumber: 18,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n                lineNumber: 17,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/_app.js\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL19hcHAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdCQUFnQjs7QUFDNkI7QUFDRTtBQUNBO0FBQ1o7QUFDcUI7QUFDaUM7QUFDbEI7QUFDdkUsbUZBQW1GO0FBQ2xDO0FBQ2pELGlIQUFpSDtBQUVqSCxTQUFTSSxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFO0lBQ3JDLHFCQUNFLDhEQUFDTixzRUFBcUJBO2tCQUNwQiw0RUFBQ0MsMEVBQXlCQTtzQkFDeEIsNEVBQUNDLCtFQUFlQTswQkFDZCw0RUFBQ0MsaUVBQU1BOzhCQUVMLDRFQUFDRTt3QkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1wQztBQUVBLGlFQUFlRixLQUFLQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvcGFnZXMvX2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9fYXBwLmpzXG5pbXBvcnQgJy4vY29sbGVjdGVkLWRhdGFzZXQvc3R5bGVzL21haW4uY3NzJztcbmltcG9ydCAnLi9jb2xsZWN0ZWQtZGF0YXNldC9zdHlsZXMvY2FtZXJhLmNzcyc7XG5pbXBvcnQgJy4vY29sbGVjdGVkLWRhdGFzZXQvc3R5bGVzL3RvcGJhci5jc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMvSG9tZS5tb2R1bGUuY3NzJztcbmltcG9ydCAnLi9jb2xsZWN0ZWQtZGF0YXNldC9zdHlsZXMvY29udHJvbC1idXR0b25zLmNzcyc7XG5pbXBvcnQgeyBQcm9jZXNzU3RhdHVzUHJvdmlkZXIsIEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXIgfSBmcm9tICcuLi91dGlscy9zdGF0ZU1hbmFnZXInO1xuaW1wb3J0IHsgQ29uc2VudFByb3ZpZGVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb25zZW50L0NvbnNlbnRDb250ZXh0Jztcbi8vIGltcG9ydCBDb25uZWN0aW9uU3RhdHVzSW5kaWNhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvQ29ubmVjdGlvblN0YXR1c0luZGljYXRvcic7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0L0xheW91dCc7XG4vLyBpbXBvcnQgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMnO1xuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8UHJvY2Vzc1N0YXR1c1Byb3ZpZGVyPlxuICAgICAgPEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgICAgIDxDb25zZW50UHJvdmlkZXI+XG4gICAgICAgICAgPExheW91dD5cbiAgICAgICAgICAgIHsvKiA8Q29ubmVjdGlvblN0YXR1c0luZGljYXRvciAvPiAqL31cbiAgICAgICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgICAgICA8L0xheW91dD5cbiAgICAgICAgPC9Db25zZW50UHJvdmlkZXI+XG4gICAgICA8L0JhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgPC9Qcm9jZXNzU3RhdHVzUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwOyJdLCJuYW1lcyI6WyJQcm9jZXNzU3RhdHVzUHJvdmlkZXIiLCJCYWNrZW5kQ29ubmVjdGlvblByb3ZpZGVyIiwiQ29uc2VudFByb3ZpZGVyIiwiTGF5b3V0IiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/_app.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/actionButton.js":
/*!***************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/actionButton.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionButton: () => (/* binding */ ActionButton),\n/* harmony export */   ActionButtonGroup: () => (/* binding */ ActionButtonGroup),\n/* harmony export */   \"default\": () => (/* binding */ ActionButtonPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-node)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_collected_dataset_customized_Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Action/CalibratePoints */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\");\n/* harmony import */ var _components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _adminSettings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./adminSettings */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\");\n\n\n\n\n\n\n\n\n// Create a basic ActionButton component\nconst ActionButton = ({ text, abbreviatedText, onClick, customClass = '', disabled = false, active = false })=>{\n    const [isAbbreviated, setIsAbbreviated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { settings } = (0,_adminSettings__WEBPACK_IMPORTED_MODULE_7__.useAdminSettings)();\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // Check window size and set abbreviated mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            // Skip during SSR\n            if (true) return;\n            const handleResize = {\n                \"ActionButton.useEffect.handleResize\": ()=>{\n                    const width = window.innerWidth;\n                    setIsAbbreviated(width < 768);\n                }\n            }[\"ActionButton.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            handleResize(); // Initial call\n            return ({\n                \"ActionButton.useEffect\": ()=>window.removeEventListener('resize', handleResize)\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], []);\n    // Add effect to listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"ActionButton.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        setCurrentUserId(event.detail.userId);\n                    }\n                }\n            }[\"ActionButton.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"ActionButton.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: `action-button ${customClass} ${isAbbreviated ? 'abbreviated' : ''} ${active ? 'active' : ''}`,\n        onClick: onClick,\n        disabled: disabled,\n        title: text,\n        children: [\n            isAbbreviated ? abbreviatedText : text,\n            processStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"process-status\",\n                children: processStatus\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 63,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n        lineNumber: 55,\n        columnNumber: 5\n    }, undefined);\n};\n// Create the ActionButtonGroup component with client-side only rendering\nconst ActionButtonGroupInner = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ triggerCameraAccess, isCompactMode, onActionClick }, ref)=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_6__.useRouter)();\n    const { settings, updateSettings } = (0,_adminSettings__WEBPACK_IMPORTED_MODULE_7__.useAdminSettings)(ref);\n    // State for button actions\n    const [randomTimes, setRandomTimes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [delaySeconds, setDelaySeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(3);\n    const [showCaptureSettings, setShowCaptureSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [countdownValue, setCountdownValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentDot, setCurrentDot] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [calibrationPoints, setCalibrationPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentCalibrationIndex, setCurrentCalibrationIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [remainingCaptures, setRemainingCaptures] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showCanvas, setShowCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Track the capture count\n    const [calibrationHandler, setCalibrationHandler] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [captureCount, setCaptureCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Toggle states\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isCameraActive, setIsCameraActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    // Initialize settings from props\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (settings && settings[currentUserId]) {\n                const userSettings = settings[currentUserId];\n                setRandomTimes(Number(userSettings.times) || 1);\n                setDelaySeconds(Number(userSettings.delay) || 3);\n            }\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        settings,\n        currentUserId\n    ]);\n    // Expose methods through ref\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, {\n        \"ActionButtonGroupInner.useImperativeHandle\": ()=>({\n                handleRandomDot,\n                handleSetRandom,\n                handleSetCalibrate,\n                handleClearAll,\n                getCaptureSettings: ({\n                    \"ActionButtonGroupInner.useImperativeHandle\": ()=>({\n                            times: randomTimes,\n                            delay: delaySeconds\n                        })\n                })[\"ActionButtonGroupInner.useImperativeHandle\"],\n                setCaptureSettings: ({\n                    \"ActionButtonGroupInner.useImperativeHandle\": (newSettings)=>{\n                        console.log('ActionButton: Setting capture settings:', newSettings);\n                        if (newSettings) {\n                            if (typeof newSettings.times === 'number') {\n                                setRandomTimes(newSettings.times);\n                            }\n                            if (typeof newSettings.delay === 'number') {\n                                setDelaySeconds(newSettings.delay);\n                            }\n                            // Update UI elements if they exist\n                            const timeInput = document.querySelector('[data-control=\"time\"]');\n                            const delayInput = document.querySelector('[data-control=\"delay\"]');\n                            if (timeInput) {\n                                timeInput.value = newSettings.times;\n                            }\n                            if (delayInput) {\n                                delayInput.value = newSettings.delay;\n                            }\n                        }\n                    }\n                })[\"ActionButtonGroupInner.useImperativeHandle\"],\n                updateSettings: ({\n                    \"ActionButtonGroupInner.useImperativeHandle\": (newSettings)=>{\n                        console.log('ActionButton: Updating settings:', newSettings);\n                        if (newSettings) {\n                            if (typeof newSettings.times === 'number') {\n                                setRandomTimes(newSettings.times);\n                            }\n                            if (typeof newSettings.delay === 'number') {\n                                setDelaySeconds(newSettings.delay);\n                            }\n                        }\n                    }\n                })[\"ActionButtonGroupInner.useImperativeHandle\"]\n            })\n    }[\"ActionButtonGroupInner.useImperativeHandle\"], [\n        randomTimes,\n        delaySeconds\n    ]);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"ActionButtonGroupInner.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        // Update settings for new user\n                        if (settings && settings[newUserId]) {\n                            const userSettings = settings[newUserId];\n                            setRandomTimes(Number(userSettings.times) || 1);\n                            setDelaySeconds(Number(userSettings.delay) || 3);\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        settings\n    ]);\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"ActionButtonGroupInner.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        if (userId === currentUserId) {\n                            if (times !== undefined) {\n                                const newTimes = Number(times) || 1;\n                                setRandomTimes(newTimes);\n                            }\n                            if (delay !== undefined) {\n                                const newDelay = Number(delay) || 3;\n                                setDelaySeconds(newDelay);\n                            }\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        currentUserId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            // Make functions globally accessible as a fallback\n            if (false) {}\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (false) {}\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (true) return;\n            // Function to get control values from TopBar\n            const updateControlValues = {\n                \"ActionButtonGroupInner.useEffect.updateControlValues\": ()=>{\n                    // Get the time input element\n                    const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n                    if (timeInput) {\n                        const timeValue = parseInt(timeInput.value, 10);\n                        if (!isNaN(timeValue) && timeValue > 0) {\n                            setRandomTimes(timeValue);\n                        }\n                    }\n                    // Get the delay input element\n                    const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n                    if (delayInput) {\n                        const delayValue = parseInt(delayInput.value, 10);\n                        if (!isNaN(delayValue) && delayValue > 0) {\n                            setDelaySeconds(delayValue);\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.updateControlValues\"];\n            // Add event listeners to the control inputs\n            const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n            const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n            if (timeInput) {\n                timeInput.addEventListener('change', updateControlValues);\n            }\n            if (delayInput) {\n                delayInput.addEventListener('change', updateControlValues);\n            }\n            // Initial update\n            updateControlValues();\n            // Cleanup event listeners\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (timeInput) {\n                        timeInput.removeEventListener('change', updateControlValues);\n                    }\n                    if (delayInput) {\n                        delayInput.removeEventListener('change', updateControlValues);\n                    }\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    const initializeCanvas = (canvas, parent)=>{\n        if (!canvas || !parent) {\n            // console.warn('[initializeCanvas] Canvas or parent is null', { canvas, parent });\n            return false;\n        }\n        try {\n            // Set canvas dimensions to match parent\n            canvas.width = parent.clientWidth || 800;\n            canvas.height = parent.clientHeight || 600;\n            // Clear canvas and set white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // console.log(`Canvas initialized with dimensions: ${canvas.width}x${canvas.height}`);\n            return true;\n        } catch (error) {\n            console.error('[initializeCanvas] Error initializing canvas:', error);\n            return false;\n        }\n    };\n    // Helper function to get the main canvas - improved to be more reliable\n    const getMainCanvas = ()=>{\n        // Try multiple methods to find the canvas\n        if (canvasRef.current) {\n            // console.log(\"Using direct canvasRef.current reference\");\n            return canvasRef.current;\n        }\n        if (false) {}\n        if (typeof document !== 'undefined') {\n            const canvasElement = document.querySelector('.tracking-canvas');\n            if (canvasElement) {\n                // console.log(\"Found canvas via DOM selector\");\n                canvasRef.current = canvasElement; // Update our ref\n                if (false) {}\n                return canvasElement;\n            }\n        }\n        return null;\n    };\n    const makeCanvasFullscreen = (canvas)=>{\n        // First initialize with parent dimensions\n        const parent = canvas.parentElement || document.body;\n        initializeCanvas(canvas, parent);\n        // Then force fullscreen styling\n        canvas.style.position = 'fixed';\n        canvas.style.top = '0';\n        canvas.style.left = '0';\n        canvas.style.width = '100vw';\n        canvas.style.height = '100vh';\n        canvas.style.zIndex = '5';\n        // Force dimensions to match window\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n        // Clear and prepare canvas again\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        console.log(`Canvas set to fullscreen: ${canvas.width}x${canvas.height}`);\n    };\n    const restoreCanvasSize = (canvas)=>{\n        // Restore original canvas styling\n        canvas.style.position = '';\n        canvas.style.top = '';\n        canvas.style.left = '';\n        canvas.style.width = '100%';\n        canvas.style.height = '100%';\n        canvas.style.zIndex = '';\n        // Restore original dimensions\n        if (canvas.parentElement) {\n            initializeCanvas(canvas, canvas.parentElement);\n        }\n    };\n    const handlePermissionAccepted = ()=>{\n        setShowPermissionPopup(false);\n        if (triggerCameraAccess) {\n            triggerCameraAccess(true);\n        }\n    };\n    // Handler to cancel permission popup\n    const handlePermissionDenied = ()=>{\n        setShowPermissionPopup(false);\n    };\n    // Helper function to restore the canvas to its original parent and styling\n    const restoreCanvas = (canvas, originalParent, originalStyle)=>{\n        if (!canvas || !originalParent) return;\n        // Append the canvas back to its original parent if needed\n        if (canvas.parentElement !== originalParent) {\n            originalParent.appendChild(canvas);\n        }\n        // Restore the inline styles saved earlier\n        canvas.style.position = originalStyle.position;\n        canvas.style.top = originalStyle.top;\n        canvas.style.left = originalStyle.left;\n        canvas.style.width = originalStyle.width;\n        canvas.style.height = originalStyle.height;\n        canvas.style.zIndex = originalStyle.zIndex;\n        // Reset the dimensions based on the parent element's size or fallback defaults\n        canvas.width = originalParent.clientWidth || 800;\n        canvas.height = originalParent.clientHeight || 600;\n        // Clear the canvas and fill with a white background\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    };\n    // Clear the canvas\n    const clearCanvas = ()=>{\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found for clearing\");\n            return;\n        }\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        setCurrentDot(null);\n    };\n    // Add this function to actionButton.js\n    /**\n   * Consolidated function that handles the entire dot process: drawing, countdown, capture, and preview\n   * @param {Object} options - Configuration options\n   * @param {Object} options.position - {x, y} coordinates where to draw the dot\n   * @param {Function} options.onStatusUpdate - Callback for status updates\n   * @param {Function} options.toggleTopBar - Function to toggle top bar visibility\n   * @param {Function} options.triggerCameraAccess - Function to ensure camera is available\n   * @param {Function} options.setIsCapturing - Function to update capturing state\n   * @param {Number} options.captureCount - Current capture counter\n   * @param {Function} options.setCaptureCount - Function to update the capture counter\n   * @param {Boolean} options.useRandomPosition - Whether to generate a random position\n   * @returns {Promise<Object>} - Result object with capture data\n   */ // Modified handleDotProcess function with improved dot and countdown alignment\n    const handleDotProcess = async (options)=>{\n        const { position, onStatusUpdate, toggleTopBar, triggerCameraAccess, setIsCapturing, captureCount, setCaptureCount, useRandomPosition = false, postCountdownDelay = 500 } = options;\n        try {\n            // Hide the TopBar before showing the dot\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(false);\n            } else if (false) {}\n            // Set capturing state\n            setIsCapturing(true);\n            // Update status\n            onStatusUpdate?.({\n                processStatus: useRandomPosition ? 'Generating random dot...' : 'Starting dot process...',\n                isCapturing: true\n            });\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 200));\n            // Get canvas reference\n            const canvas = getMainCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available for dot process\");\n            }\n            // Save original state for restoration\n            const originalParent = canvas.parentElement;\n            const originalStyle = {\n                position: canvas.style.position,\n                top: canvas.style.top,\n                left: canvas.style.left,\n                width: canvas.style.width,\n                height: canvas.style.height,\n                zIndex: canvas.style.zIndex\n            };\n            // Prepare canvas for fullscreen display\n            document.body.appendChild(canvas);\n            canvas.style.position = 'fixed';\n            canvas.style.top = '0';\n            canvas.style.left = '0';\n            canvas.style.width = '100vw';\n            canvas.style.height = '100vh';\n            canvas.style.zIndex = '10';\n            // Set dimensions to match window exactly\n            const canvasWidth = window.innerWidth;\n            const canvasHeight = window.innerHeight;\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            // Clear canvas with white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n            // Get position for the dot - either use provided position or generate random one\n            const dotPosition = useRandomPosition ? (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.getRandomPosition)(canvas, 20) : position;\n            if (!dotPosition || typeof dotPosition.x !== 'number' || typeof dotPosition.y !== 'number') {\n                throw new Error(\"Invalid dot position\");\n            }\n            // Draw the dot\n            const dotRadius = 12;\n            (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Create a redraw interval to ensure dot stays visible\n            let keepDotVisibleInterval = setInterval(()=>{\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            }, 50); // More frequent updates for reliability\n            // Remove any existing countdown elements\n            const existingCountdowns = document.querySelectorAll('.dot-countdown, .calibrate-countdown');\n            existingCountdowns.forEach((el)=>{\n                if (el.parentNode) el.parentNode.removeChild(el);\n            });\n            // Create a countdown element directly on top of the dot\n            // Important: Position the countdown centered directly over the dot\n            const countdownElement = document.createElement('div');\n            countdownElement.className = 'dot-countdown';\n            countdownElement.style.cssText = `\n        position: fixed;\n        left: ${dotPosition.x}px;\n        top: ${dotPosition.y}px;\n        transform: translate(-50%, -50%);\n        color: red;\n        font-size: 36px;\n        font-weight: bold;\n        text-shadow: 0 0 10px white, 0 0 20px white;\n        z-index: 10000;\n        background-color: rgba(255, 255, 255, 0.8);\n        border: 2px solid red;\n        border-radius: 50%;\n        width: 50px;\n        height: 50px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n      `;\n            document.body.appendChild(countdownElement);\n            // Manual countdown\n            for(let count = 3; count > 0; count--){\n                countdownElement.textContent = count;\n                onStatusUpdate?.({\n                    processStatus: `Countdown: ${count}`,\n                    countdownValue: count,\n                    isCapturing: true\n                });\n                // Redraw the dot for reliability\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n                await new Promise((resolve)=>setTimeout(resolve, 800));\n                // Additional redraw during countdown to ensure visibility\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            }\n            // Show checkmark\n            countdownElement.textContent = \"✓\";\n            // Make sure dot is still visible\n            (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Remove countdown element after delay\n            setTimeout(()=>{\n                if (countdownElement.parentNode) {\n                    countdownElement.parentNode.removeChild(countdownElement);\n                }\n            }, 300);\n            // Wait after countdown completes\n            await new Promise((resolve)=>setTimeout(resolve, postCountdownDelay));\n            // Ensure the dot is still visible\n            (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Capture images at this point\n            const captureResult = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__.captureImagesAtPoint)({\n                point: dotPosition,\n                captureCount: captureCount,\n                canvasRef: {\n                    current: canvas\n                },\n                setCaptureCount: setCaptureCount,\n                showCapturePreview: _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview\n            });\n            // Clear redraw interval\n            clearInterval(keepDotVisibleInterval);\n            // Restore canvas to original state\n            if (originalParent && canvas.parentElement !== originalParent) {\n                originalParent.appendChild(canvas);\n            }\n            canvas.style.position = originalStyle.position || '';\n            canvas.style.top = originalStyle.top || '';\n            canvas.style.left = originalStyle.left || '';\n            canvas.style.width = originalStyle.width || '100%';\n            canvas.style.height = originalStyle.height || '100%';\n            canvas.style.zIndex = originalStyle.zIndex || '';\n            // Reset dimensions\n            if (originalParent) {\n                canvas.width = originalParent.clientWidth || 800;\n                canvas.height = originalParent.clientHeight || 600;\n            }\n            // Clear canvas\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // Update status\n            onStatusUpdate?.({\n                processStatus: 'Capture completed',\n                isCapturing: false\n            });\n            // Show TopBar again after a delay\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if (false) {}\n            }, 2000);\n            return {\n                success: true,\n                position: dotPosition,\n                captureResult\n            };\n        } catch (error) {\n            console.error(\"Error in handleDotProcess:\", error);\n            onStatusUpdate?.({\n                processStatus: `Error: ${error.message}`,\n                isCapturing: false\n            });\n            // Show TopBar again if there's an error\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if (false) {}\n            }, 1000);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    };\n    const handleSetCalibrate = async ()=>{\n        if (isCapturing) return;\n        // Declare these variables OUTSIDE the try block\n        let canvas = null;\n        let originalCanvasParent = null;\n        let originalCanvasStyle = {};\n        let statusIndicator = null;\n        let currentRedrawInterval = null;\n        try {\n            // Hide TopBar\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if (false) {}\n            setIsCapturing(true);\n            setShowCanvas(true);\n            setProcessStatus(\"Starting calibration sequence...\");\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 300));\n            // Get canvas reference\n            canvas = getMainCanvas();\n            if (!canvas) {\n                setProcessStatus(\"Error: Canvas not found\");\n                setIsCapturing(false);\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                }\n                return;\n            }\n            // Save original parent and style\n            originalCanvasParent = canvas.parentElement;\n            originalCanvasStyle = {\n                position: canvas.style.position,\n                top: canvas.style.top,\n                left: canvas.style.left,\n                width: canvas.style.width,\n                height: canvas.style.height,\n                zIndex: canvas.style.zIndex\n            };\n            // Move canvas to body for maximum reliability\n            document.body.appendChild(canvas);\n            // Make canvas fullscreen with fixed positioning\n            canvas.style.position = 'fixed';\n            canvas.style.top = '0';\n            canvas.style.left = '0';\n            canvas.style.width = '100vw';\n            canvas.style.height = '100vh';\n            canvas.style.zIndex = '10';\n            // Set dimensions to match window exactly\n            const canvasWidth = window.innerWidth;\n            const canvasHeight = window.innerHeight;\n            canvas.width = canvasWidth;\n            canvas.height = canvasHeight;\n            console.log(`Canvas set to fullscreen: ${canvasWidth}x${canvasHeight}`);\n            // Get context\n            const ctx = canvas.getContext('2d');\n            // Clear canvas with white background\n            ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n            // Generate calibration points based on the canvas size\n            const { generateCalibrationPoints } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../components/collected-dataset-customized/Action/CalibratePoints */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\"));\n            const points = generateCalibrationPoints(canvasWidth, canvasHeight);\n            if (!points || points.length === 0) {\n                throw new Error(\"Failed to generate calibration points\");\n            }\n            // Create a status indicator\n            statusIndicator = document.createElement('div');\n            statusIndicator.className = 'calibrate-status-indicator';\n            statusIndicator.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background-color: rgba(0, 102, 204, 0.9);\n        color: white;\n        font-size: 16px;\n        font-weight: bold;\n        padding: 10px 15px;\n        border-radius: 8px;\n        z-index: 10000;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n      `;\n            statusIndicator.textContent = 'Calibration: Initializing...';\n            document.body.appendChild(statusIndicator);\n            // Process each calibration point\n            let successCount = 0;\n            for(let i = 0; i < points.length; i++){\n                const point = points[i];\n                // Clear any existing redraw interval\n                if (currentRedrawInterval) {\n                    clearInterval(currentRedrawInterval);\n                    currentRedrawInterval = null;\n                }\n                // Update status displays\n                statusIndicator.textContent = `Calibration: Point ${i + 1}/${points.length}`;\n                setProcessStatus(`Processing calibration point ${i + 1}/${points.length}`);\n                // Reset canvas if dimensions changed\n                if (canvas.width !== canvasWidth || canvas.height !== canvasHeight) {\n                    console.warn(`Canvas dimensions changed. Resetting to ${canvasWidth}x${canvasHeight}`);\n                    canvas.width = canvasWidth;\n                    canvas.height = canvasHeight;\n                }\n                // Make sure canvas is still attached to body and in fullscreen mode\n                if (canvas.parentElement !== document.body) {\n                    document.body.appendChild(canvas);\n                    canvas.style.position = 'fixed';\n                    canvas.style.top = '0';\n                    canvas.style.left = '0';\n                    canvas.style.width = '100vw';\n                    canvas.style.height = '100vh';\n                    canvas.style.zIndex = '10';\n                }\n                // Clear canvas with white background\n                ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n                // Draw the calibration point\n                const radius = 14; // Slightly larger for better visibility\n                (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, point.x, point.y, radius, false);\n                // Create redraw function for this point\n                const redrawCurrentDot = ()=>{\n                    // Verify canvas dimensions and parent\n                    if (canvas.width !== canvasWidth || canvas.height !== canvasHeight) {\n                        canvas.width = canvasWidth;\n                        canvas.height = canvasHeight;\n                        ctx.fillStyle = 'white';\n                        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n                    }\n                    // Make sure canvas is still attached to body\n                    if (canvas.parentElement !== document.body) {\n                        document.body.appendChild(canvas);\n                    }\n                    // Redraw dot without clearing\n                    (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, point.x, point.y, radius, false);\n                };\n                // Start redraw interval - more frequent updates for reliable dot visibility\n                currentRedrawInterval = setInterval(redrawCurrentDot, 50);\n                // Remove any existing countdown elements\n                const existingCountdowns = document.querySelectorAll('.dot-countdown, .calibrate-countdown');\n                existingCountdowns.forEach((el)=>{\n                    if (el.parentNode) el.parentNode.removeChild(el);\n                });\n                // Create custom countdown element\n                const countdownElement = document.createElement('div');\n                countdownElement.className = 'dot-countdown'; // Consistent class name\n                countdownElement.style.cssText = `\n          position: fixed;\n          left: ${point.x}px;\n          top: ${point.y - 60}px;\n          transform: translateX(-50%);\n          color: red;\n          font-size: 36px;\n          font-weight: bold;\n          text-shadow: 0 0 10px white, 0 0 20px white;\n          z-index: 10000;\n          background-color: rgba(255, 255, 255, 0.8);\n          border: 2px solid red;\n          border-radius: 50%;\n          width: 50px;\n          height: 50px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n        `;\n                document.body.appendChild(countdownElement);\n                try {\n                    // Manual countdown\n                    for(let count = 3; count > 0; count--){\n                        countdownElement.textContent = count;\n                        setProcessStatus(`Point ${i + 1}/${points.length}: Countdown ${count}`);\n                        // Force redraw multiple times during countdown to ensure visibility\n                        redrawCurrentDot();\n                        await new Promise((resolve)=>setTimeout(resolve, 800));\n                        // Redraw again halfway through the wait to ensure dot stays visible\n                        redrawCurrentDot();\n                    }\n                    // Show checkmark\n                    countdownElement.textContent = \"✓\";\n                    redrawCurrentDot();\n                    // Remove countdown element after delay\n                    setTimeout(()=>{\n                        if (countdownElement.parentNode) {\n                            countdownElement.parentNode.removeChild(countdownElement);\n                        }\n                    }, 300);\n                    // Make sure dot is still visible\n                    redrawCurrentDot();\n                    // Capture images at this point\n                    console.log(`Capturing calibration point ${i + 1}/${points.length} at (${point.x}, ${point.y})`);\n                    // Manual force redraw one more time just before capture\n                    (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, point.x, point.y, radius, false);\n                    const captureResult = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__.captureImagesAtPoint)({\n                        point: point,\n                        captureCount: captureCount,\n                        canvasRef: {\n                            current: canvas\n                        },\n                        setCaptureCount: setCaptureCount,\n                        showCapturePreview: _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview\n                    });\n                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                        successCount++;\n                    }\n                    // Wait between points\n                    await new Promise((resolve)=>setTimeout(resolve, 1200));\n                } catch (error) {\n                    console.error(`Error processing calibration point ${i + 1}:`, error);\n                } finally{\n                    // Clean up countdown if it still exists\n                    if (countdownElement.parentNode) {\n                        countdownElement.parentNode.removeChild(countdownElement);\n                    }\n                    // Clear redraw interval\n                    if (currentRedrawInterval) {\n                        clearInterval(currentRedrawInterval);\n                        currentRedrawInterval = null;\n                    }\n                }\n            }\n            // Calibration complete\n            if (statusIndicator) {\n                statusIndicator.textContent = `Calibration complete: ${successCount}/${points.length} points`;\n            }\n            setProcessStatus(`Calibration completed: ${successCount}/${points.length} points captured`);\n        } catch (error) {\n            console.error(\"Calibration error:\", error);\n            setProcessStatus(`Calibration error: ${error.message}`);\n            // Clean up redraw interval\n            if (currentRedrawInterval) {\n                clearInterval(currentRedrawInterval);\n            }\n        } finally{\n            // Remove status indicator if it exists\n            if (statusIndicator && statusIndicator.parentNode) {\n                setTimeout(()=>{\n                    statusIndicator.parentNode.removeChild(statusIndicator);\n                }, 3000);\n            }\n            // Restore canvas to original parent and styling - Only if canvas was successfully initialized\n            if (canvas) {\n                try {\n                    // Try to find original parent\n                    if (originalCanvasParent && canvas.parentElement !== originalCanvasParent) {\n                        originalCanvasParent.appendChild(canvas);\n                    } else if (!originalCanvasParent) {\n                        // Fallback to looking for a container element\n                        const possibleParent = document.querySelector('.canvas-container');\n                        if (possibleParent && canvas.parentElement !== possibleParent) {\n                            possibleParent.appendChild(canvas);\n                        }\n                    }\n                    // Restore styling\n                    canvas.style.position = originalCanvasStyle.position || '';\n                    canvas.style.top = originalCanvasStyle.top || '';\n                    canvas.style.left = originalCanvasStyle.left || '';\n                    canvas.style.width = originalCanvasStyle.width || '100%';\n                    canvas.style.height = originalCanvasStyle.height || '100%';\n                    canvas.style.zIndex = originalCanvasStyle.zIndex || '';\n                    // Reset dimensions based on parent\n                    const parent = canvas.parentElement;\n                    if (parent) {\n                        canvas.width = parent.clientWidth || 800;\n                        canvas.height = parent.clientHeight || 600;\n                    } else {\n                        canvas.width = 800;\n                        canvas.height = 600;\n                    }\n                    // Clear canvas with white background\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    console.log(\"Canvas restored to original state\");\n                } catch (e) {\n                    console.error(\"Error restoring canvas:\", e);\n                }\n            }\n            setIsCapturing(false);\n            // Show TopBar again\n            setTimeout(()=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                } else if (false) {}\n            }, 1000);\n        }\n    };\n    const handleSetRandom = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Read values from TopBar inputs\n            const timeInput = document.querySelector('.control-input-field');\n            const delayInput = document.querySelectorAll('.control-input-field')[1];\n            let times = randomTimes || 1;\n            let delay = delaySeconds || 3;\n            // Parse input values if available\n            if (timeInput) {\n                const parsedTime = parseInt(timeInput.value, 10);\n                if (!isNaN(parsedTime) && parsedTime > 0) {\n                    times = parsedTime;\n                    setRandomTimes(times);\n                }\n            }\n            if (delayInput) {\n                const parsedDelay = parseInt(delayInput.value, 10);\n                if (!isNaN(parsedDelay) && parsedDelay > 0) {\n                    delay = parsedDelay;\n                    setDelaySeconds(delay);\n                }\n            }\n            // Hide TopBar\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if (false) {}\n            setIsCapturing(true);\n            setRemainingCaptures(times);\n            setProcessStatus(`Starting ${times} random captures with ${delay}s delay...`);\n            // Process all captures in sequence\n            let successCount = 0;\n            for(let currentIndex = 1; currentIndex <= times; currentIndex++){\n                // Update status for current capture\n                setProcessStatus(`Capture ${currentIndex} of ${times}`);\n                setRemainingCaptures(times - currentIndex + 1);\n                // Use handleDotProcess for each capture\n                const result = await handleDotProcess({\n                    useRandomPosition: true,\n                    onStatusUpdate: (status)=>{\n                        if (status.processStatus) {\n                            setProcessStatus(`Capture ${currentIndex}/${times}: ${status.processStatus}`);\n                        }\n                    },\n                    toggleTopBar: (show)=>{\n                        // Only show TopBar after the last capture\n                        if (show && currentIndex < times) {\n                            return; // Don't show yet for intermediate captures\n                        }\n                        if (typeof onActionClick === 'function') {\n                            onActionClick('toggleTopBar', show);\n                        } else if (false) {}\n                    },\n                    triggerCameraAccess,\n                    setIsCapturing: (capturing)=>{\n                        // Only set capturing to false after all captures\n                        if (!capturing && currentIndex < times) {\n                            return; // Stay in capturing state between dots\n                        }\n                        setIsCapturing(capturing);\n                    },\n                    captureCount,\n                    setCaptureCount,\n                    postCountdownDelay: 800\n                });\n                if (result && result.success) {\n                    successCount++;\n                }\n                // Wait between captures - but only if there are more captures to go\n                if (currentIndex < times) {\n                    setProcessStatus(`Waiting ${delay}s before next capture...`);\n                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                }\n            }\n            // Completion notification\n            setProcessStatus(`Random capture sequence completed: ${successCount}/${times} captures successful`);\n            setRemainingCaptures(0);\n        } catch (error) {\n            console.error(\"Random sequence error:\", error);\n            setProcessStatus(`Random sequence failed: ${error.message}`);\n        } finally{\n            setIsCapturing(false);\n            // Show TopBar again\n            setTimeout(()=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                } else if (false) {}\n            }, 1000);\n        }\n    };\n    const handleRandomDot = async ()=>{\n        if (isCapturing) return;\n        // Use the consolidated function with random position\n        await handleDotProcess({\n            useRandomPosition: true,\n            onStatusUpdate: (status)=>{\n                if (status.processStatus) setProcessStatus(status.processStatus);\n                if (status.isCapturing !== undefined) setIsCapturing(status.isCapturing);\n            },\n            toggleTopBar: (show)=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', show);\n                }\n            },\n            triggerCameraAccess,\n            setIsCapturing,\n            captureCount,\n            setCaptureCount: setCaptureCount,\n            postCountdownDelay: 1000\n        });\n    };\n    // Load calibration setup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (true) return;\n            const setupCalibration = {\n                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                    try {\n                        const { default: CalibrateHandler } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_components_collected-dataset-customized_Action_CalibrateHandler_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../components/collected-dataset-customized/Action/CalibrateHandler */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibrateHandler.js\"));\n                        const canvas = getMainCanvas();\n                        if (!canvas) {\n                            console.warn(\"Canvas not available during setupCalibration\");\n                            return;\n                        }\n                        if (canvas) {\n                            makeCanvasFullscreen(canvas);\n                        }\n                        // console.log('Canvas size:', canvas.width, canvas.height);\n                        const points = (0,_components_collected_dataset_customized_Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__.generateCalibrationPoints)(canvas.width, canvas.height);\n                        // console.log('Generated calibration points:', points);\n                        setCalibrationPoints(points);\n                        const calibrateHandler = new CalibrateHandler({\n                            canvasRef: {\n                                current: canvas\n                            },\n                            calibrationPoints: points,\n                            toggleTopBar: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (show)=>onActionClick?.('toggleTopBar', show)\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            setOutputText: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (status)=>{\n                                    setProcessStatus(status);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureCounter: captureCount,\n                            setCaptureCounter: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (newCounter)=>{\n                                    if (typeof newCounter === 'function') {\n                                        setCaptureCount({\n                                            \"ActionButtonGroupInner.useEffect.setupCalibration\": (prev)=>newCounter(prev)\n                                        }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]);\n                                    } else {\n                                        setCaptureCount(newCounter);\n                                    }\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureFolder: 'eye_tracking_captures',\n                            onComplete: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": ()=>{\n                                    setIsCapturing(false);\n                                    setProcessStatus('Calibration completed');\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                        setCalibrationHandler({\n                            handleAction: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                                    setIsCapturing(true);\n                                    setProcessStatus('Starting calibration...');\n                                    await calibrateHandler.startCalibration();\n                                    setIsCapturing(false);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                        if (canvas) {\n                            restoreCanvasSize(canvas);\n                        }\n                    } catch (err) {\n                        console.error('Error initializing calibration:', err);\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"];\n            setupCalibration();\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        captureCount,\n        onActionClick\n    ]);\n    // Clear All Button - Reset everything\n    const handleClearAll = ()=>{\n        clearCanvas();\n        setProcessStatus('');\n        setRemainingCaptures(0);\n        setIsCapturing(false);\n        setCountdownValue(null);\n        setShowCanvas(true);\n    };\n    // Toggle Head Pose visualization\n    const handleToggleHeadPose = ()=>{\n        const newHeadPoseState = !showHeadPose;\n        setShowHeadPose(newHeadPoseState);\n        setProcessStatus(`Head pose visualization ${newHeadPoseState ? 'enabled' : 'disabled'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('headPose');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle Bounding Box visualization\n    const handleToggleBoundingBox = ()=>{\n        const newBoundingBoxState = !showBoundingBox;\n        setShowBoundingBox(newBoundingBoxState);\n        setProcessStatus(`Bounding box ${newBoundingBoxState ? 'shown' : 'hidden'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('boundingBox');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle Mask visualization\n    const handleToggleMask = ()=>{\n        const newMaskState = !showMask;\n        setShowMask(newMaskState);\n        setProcessStatus(`Mask ${newMaskState ? 'shown' : 'hidden'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('mask');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle Parameters display\n    const handleToggleParameters = ()=>{\n        const newParametersState = !showParameters;\n        setShowParameters(newParametersState);\n        setProcessStatus(`Parameters ${newParametersState ? 'shown' : 'hidden'}`);\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('parameters');\n        }\n        // Update videoProcessor options directly if available\n        if (false) {}\n    };\n    // Toggle camera preview\n    const handleToggleCamera = ()=>{\n        const newCameraState = !isCameraActive;\n        setIsCameraActive(newCameraState);\n        // Call the parent handler with 'preview' action\n        if (onActionClick) {\n            onActionClick('preview', newCameraState); // Pass the new state\n        } else {\n            // Fallback to direct trigger if no action handler\n            setShowPermissionPopup(true);\n        }\n        // If turning on camera, ensure we apply current visualization settings\n        if (newCameraState && \"undefined\" !== 'undefined' && 0) {}\n    };\n    // Add back button handler\n    const handleGoBack = ()=>{\n        router.push('/');\n    };\n    // Button configurations with both full and abbreviated text\n    const buttons = [\n        {\n            text: \"Set Random\",\n            abbreviatedText: \"SRandom\",\n            onClick: handleSetRandom,\n            disabled: isCapturing\n        },\n        {\n            text: \"Random Dot\",\n            abbreviatedText: \"Random\",\n            onClick: handleRandomDot,\n            disabled: isCapturing\n        },\n        {\n            text: \"Set Calibrate\",\n            abbreviatedText: \"Calibrate\",\n            onClick: handleSetCalibrate,\n            disabled: isCapturing\n        },\n        {\n            text: \"Clear All\",\n            abbreviatedText: \"Clear\",\n            onClick: handleClearAll\n        },\n        {\n            divider: true\n        },\n        {\n            text: \"Draw Head pose\",\n            abbreviatedText: \"Head pose\",\n            onClick: handleToggleHeadPose,\n            active: showHeadPose\n        },\n        {\n            text: \"Show Bounding Box\",\n            abbreviatedText: \"☐ Box\",\n            onClick: handleToggleBoundingBox,\n            active: showBoundingBox\n        },\n        {\n            text: isCameraActive ? \"Stop Camera\" : \"Show Preview\",\n            abbreviatedText: isCameraActive ? \"Stop\" : \"Preview\",\n            onClick: ()=>{\n                // If camera permission is needed but not granted, show popup\n                if (!isCameraActive && !triggerCameraAccess(true)) {\n                    setShowPermissionPopup(true);\n                } else {\n                    handleToggleCamera();\n                }\n            },\n            active: isCameraActive,\n            disabled: isCapturing // Disable camera toggle while capturing\n        },\n        {\n            text: \"😷 Show Mask\",\n            abbreviatedText: \"😷 Mask\",\n            onClick: handleToggleMask,\n            active: showMask\n        },\n        {\n            text: \"Parameters\",\n            abbreviatedText: \"Values\",\n            onClick: handleToggleParameters,\n            active: showParameters\n        }\n    ];\n    // Mobile layout - 2x5 grid\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            isCompactMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-2 mb-4\",\n                children: buttons.filter((b)=>!b.divider).map((button, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        text: button.text,\n                        abbreviatedText: button.abbreviatedText,\n                        onClick: button.onClick,\n                        disabled: button.disabled,\n                        active: button.active\n                    }, index, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1411,\n                        columnNumber: 13\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1409,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2 mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-3 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Set Random\",\n                                abbreviatedText: \"SRandom\",\n                                onClick: handleSetRandom,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1424,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Go back\",\n                                abbreviatedText: \"← Back\",\n                                onClick: handleGoBack,\n                                customClass: \"bg-gray-200 hover:bg-gray-300\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1430,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Set Calibrate\",\n                                abbreviatedText: \"Calibrate\",\n                                onClick: handleSetCalibrate,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1436,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1423,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Random Dot\",\n                                abbreviatedText: \"Random\",\n                                onClick: handleRandomDot,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1444,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Clear All\",\n                                abbreviatedText: \"Clear\",\n                                onClick: handleClearAll\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1450,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1443,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                        className: \"my-3 border-gray-200\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1457,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Draw Head pose\",\n                                abbreviatedText: \"Head pose\",\n                                onClick: handleToggleHeadPose,\n                                active: showHeadPose\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1460,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Show Bounding Box\",\n                                abbreviatedText: \"☐ Box\",\n                                onClick: handleToggleBoundingBox,\n                                active: showBoundingBox\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1466,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1459,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: isCameraActive ? \"Stop Camera\" : \"Show Preview\",\n                                abbreviatedText: isCameraActive ? \"Stop\" : \"Preview\",\n                                onClick: handleToggleCamera,\n                                active: isCameraActive\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1474,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"\\uD83D\\uDE37 Show Mask\",\n                                abbreviatedText: \"\\uD83D\\uDE37 Mask\",\n                                onClick: handleToggleMask,\n                                active: showMask\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1480,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1473,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Parameters\",\n                                abbreviatedText: \"Values\",\n                                onClick: handleToggleParameters,\n                                active: showParameters\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1488,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                lineNumber: 1494,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1487,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1422,\n                columnNumber: 9\n            }, undefined),\n            (processStatus || remainingCaptures > 0 || countdownValue) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"status-display mt-4 p-2 bg-blue-50 rounded-md\",\n                children: [\n                    processStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm font-medium text-blue-800\",\n                        children: processStatus\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1503,\n                        columnNumber: 13\n                    }, undefined),\n                    remainingCaptures > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm font-medium text-yellow-600\",\n                        children: [\n                            \"Remaining: \",\n                            remainingCaptures\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1506,\n                        columnNumber: 13\n                    }, undefined),\n                    countdownValue && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-2xl font-bold text-red-600\",\n                        children: countdownValue\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1509,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1501,\n                columnNumber: 9\n            }, undefined),\n            showCanvas && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"canvas-container mt-4\",\n                style: {\n                    position: 'relative',\n                    width: '100%',\n                    height: '40vh',\n                    minHeight: '300px',\n                    border: '1px solid #e0e0e0',\n                    backgroundColor: 'white',\n                    borderRadius: '4px',\n                    overflow: 'hidden'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        className: \"tracking-canvas\",\n                        style: {\n                            width: '100%',\n                            height: '100%'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1529,\n                        columnNumber: 11\n                    }, undefined),\n                    countdownValue && currentDot && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"dot-countdown\",\n                        style: {\n                            position: 'absolute',\n                            left: `${currentDot.x - 15}px`,\n                            top: `${currentDot.y - 40}px`,\n                            color: 'red',\n                            fontSize: '28px',\n                            fontWeight: 'bold'\n                        },\n                        children: countdownValue\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                        lineNumber: 1537,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1516,\n                columnNumber: 9\n            }, undefined),\n            showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"camera-permission-popup\",\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    zIndex: 15\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"camera-permission-dialog\",\n                    style: {\n                        width: '400px',\n                        backgroundColor: 'white',\n                        borderRadius: '8px',\n                        padding: '20px',\n                        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"camera-permission-title\",\n                            style: {\n                                margin: '0 0 15px',\n                                fontSize: '18px',\n                                fontWeight: 'bold'\n                            },\n                            children: \"Camera Access Required\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                            lineNumber: 1581,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"camera-permission-message\",\n                            style: {\n                                margin: '0 0 20px',\n                                fontSize: '14px',\n                                lineHeight: '1.4'\n                            },\n                            children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                            lineNumber: 1591,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"camera-permission-buttons\",\n                            style: {\n                                display: 'flex',\n                                justifyContent: 'flex-end',\n                                gap: '10px'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionDenied,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#f0f0f0',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                    lineNumber: 1609,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionAccepted,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#0066cc',\n                                        color: 'white',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Continue\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                                    lineNumber: 1622,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                            lineNumber: 1601,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                    lineNumber: 1571,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n                lineNumber: 1556,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n        lineNumber: 1407,\n        columnNumber: 5\n    }, undefined);\n});\nconst ActionButtonGroup = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>Promise.resolve(/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButtonGroupInner, {\n            ...props,\n            ref: ref\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/actionButton.js\",\n            lineNumber: 1644,\n            columnNumber: 30\n        }, undefined))), {\n    ssr: false\n});\n// Create a client-only version of ActionButtonGroup\n// const ActionButtonGroup = dynamic(() => Promise.resolve(ActionButtonGroupInner), { ssr: false });\n// Add default export component\nfunction ActionButtonPage() {\n    return null; // This is a utility file, so we don't need to render anything\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvYWN0aW9uQnV0dG9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEY7QUFDekQ7QUFDaUY7QUFPekM7QUFDNkI7QUFDaEU7QUFDVztBQUVuRCx3Q0FBd0M7QUFDeEMsTUFBTWdCLGVBQWUsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLGVBQWUsRUFBRUMsT0FBTyxFQUFFQyxjQUFjLEVBQUUsRUFBRUMsV0FBVyxLQUFLLEVBQUVDLFNBQVMsS0FBSyxFQUFFO0lBQzFHLE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLEVBQUV3QixRQUFRLEVBQUUsR0FBR1YsZ0VBQWdCQTtJQUNyQyxNQUFNLENBQUNXLGVBQWVDLGlCQUFpQixHQUFHMUIsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDMkIsYUFBYUMsZUFBZSxHQUFHNUIsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDNkIsZ0JBQWdCQyxrQkFBa0IsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQytCLGVBQWVDLGlCQUFpQixHQUFHaEMsK0NBQVFBLENBQUM7SUFFbkQsNkNBQTZDO0lBQzdDQyxnREFBU0E7a0NBQUM7WUFDUixrQkFBa0I7WUFDbEIsSUFBSSxJQUE2QixFQUFFO1lBRW5DLE1BQU1nQzt1REFBZTtvQkFDbkIsTUFBTUMsUUFBUUMsT0FBT0MsVUFBVTtvQkFDL0JiLGlCQUFpQlcsUUFBUTtnQkFDM0I7O1lBRUFDLE9BQU9FLGdCQUFnQixDQUFDLFVBQVVKO1lBQ2xDQSxnQkFBZ0IsZUFBZTtZQUUvQjswQ0FBTyxJQUFNRSxPQUFPRyxtQkFBbUIsQ0FBQyxVQUFVTDs7UUFDcEQ7aUNBQUcsRUFBRTtJQUVMLDJDQUEyQztJQUMzQ2hDLGdEQUFTQTtrQ0FBQztZQUNSLE1BQU1zQzs2REFBcUIsQ0FB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RCw4REFBQ2pOOzRCQUNDRixXQUFVOzRCQUNWNkYsT0FBTztnQ0FDTDhHLFNBQVM7Z0NBQ1RDLGdCQUFnQjtnQ0FDaEJRLEtBQUs7NEJBQ1A7OzhDQUVBLDhEQUFDck47b0NBQ0MxQixTQUFTZ0k7b0NBQ1RyRyxXQUFVO29DQUNWNkYsT0FBTzt3Q0FDTGlILFNBQVM7d0NBQ1RULGlCQUFpQjt3Q0FDakJELFFBQVE7d0NBQ1JFLGNBQWM7d0NBQ2RlLFFBQVE7b0NBQ1Y7OENBQ0Q7Ozs7Ozs4Q0FHRCw4REFBQ3ROO29DQUNDMUIsU0FBUytIO29DQUNUcEcsV0FBVTtvQ0FDVjZGLE9BQU87d0NBQ0xpSCxTQUFTO3dDQUNUVCxpQkFBaUI7d0NBQ2pCRyxPQUFPO3dDQUNQSixRQUFRO3dDQUNSRSxjQUFjO3dDQUNkZSxRQUFRO29DQUNWOzhDQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNmO0FBQ0EsTUFBTUMsb0JBQW9COVAsbURBQU9BLENBQUMsSUFBTTBKLFFBQVFDLE9BQU8sZUFDckQ3SixpREFBVUEsQ0FBQyxDQUFDaVEsT0FBT2hOLG9CQUFRLDhEQUFDSjtZQUF3QixHQUFHb04sS0FBSztZQUFFaE4sS0FBS0E7Ozs7O3lCQUNsRTtJQUFFaU4sS0FBSztBQUFNO0FBQ2hCLG9EQUFvRDtBQUNwRCxvR0FBb0c7QUFFcEcsK0JBQStCO0FBQ2hCLFNBQVNDO0lBQ3RCLE9BQU8sTUFBTSw4REFBOEQ7QUFDN0U7QUFFMkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2NvbXBvbmVudHMtZ3VpL2FjdGlvbkJ1dHRvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCB7IGdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZVBvaW50cyc7XG5pbXBvcnQgeyBcbiAgc2hvd0NhcHR1cmVQcmV2aWV3LCBcbiAgZHJhd1JlZERvdCwgXG4gIGdldFJhbmRvbVBvc2l0aW9uLFxuICBjcmVhdGVDb3VudGRvd25FbGVtZW50LFxuICBydW5Db3VudGRvd25cbn0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0FjdGlvbi9jb3VudFNhdmUnO1xuaW1wb3J0IHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvSGVscGVyL3NhdmVmaWxlJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHVzZUFkbWluU2V0dGluZ3MgfSBmcm9tICcuL2FkbWluU2V0dGluZ3MnO1xuXG4vLyBDcmVhdGUgYSBiYXNpYyBBY3Rpb25CdXR0b24gY29tcG9uZW50XG5jb25zdCBBY3Rpb25CdXR0b24gPSAoeyB0ZXh0LCBhYmJyZXZpYXRlZFRleHQsIG9uQ2xpY2ssIGN1c3RvbUNsYXNzID0gJycsIGRpc2FibGVkID0gZmFsc2UsIGFjdGl2ZSA9IGZhbHNlIH0pID0+IHtcbiAgY29uc3QgW2lzQWJicmV2aWF0ZWQsIHNldElzQWJicmV2aWF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IHNldHRpbmdzIH0gPSB1c2VBZG1pblNldHRpbmdzKCk7XG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlKCdkZWZhdWx0Jyk7XG4gIGNvbnN0IFtpc0NhcHR1cmluZywgc2V0SXNDYXB0dXJpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2FwdHVyZUNvdW50ZXIsIHNldENhcHR1cmVDb3VudGVyXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbcHJvY2Vzc1N0YXR1cywgc2V0UHJvY2Vzc1N0YXR1c10gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLy8gQ2hlY2sgd2luZG93IHNpemUgYW5kIHNldCBhYmJyZXZpYXRlZCBtb2RlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU2tpcCBkdXJpbmcgU1NSXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHNldElzQWJicmV2aWF0ZWQod2lkdGggPCA3NjgpO1xuICAgIH07XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgaGFuZGxlUmVzaXplKCk7IC8vIEluaXRpYWwgY2FsbFxuICAgIFxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcbiAgfSwgW10pO1xuXG4gIC8vIEFkZCBlZmZlY3QgdG8gbGlzdGVuIGZvciB1c2VyIElEIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVVc2VySWRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICd1c2VySWRDaGFuZ2UnKSB7XG4gICAgICAgIHNldEN1cnJlbnRVc2VySWQoZXZlbnQuZGV0YWlsLnVzZXJJZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9e2BhY3Rpb24tYnV0dG9uICR7Y3VzdG9tQ2xhc3N9ICR7aXNBYmJyZXZpYXRlZCA/ICdhYmJyZXZpYXRlZCcgOiAnJ30gJHthY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgdGl0bGU9e3RleHR9XG4gICAgPlxuICAgICAge2lzQWJicmV2aWF0ZWQgPyBhYmJyZXZpYXRlZFRleHQgOiB0ZXh0fVxuICAgICAge3Byb2Nlc3NTdGF0dXMgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2Nlc3Mtc3RhdHVzXCI+XG4gICAgICAgICAge3Byb2Nlc3NTdGF0dXN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG5cbi8vIENyZWF0ZSB0aGUgQWN0aW9uQnV0dG9uR3JvdXAgY29tcG9uZW50IHdpdGggY2xpZW50LXNpZGUgb25seSByZW5kZXJpbmdcbmNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwSW5uZXIgPSBmb3J3YXJkUmVmKCh7IHRyaWdnZXJDYW1lcmFBY2Nlc3MsIGlzQ29tcGFjdE1vZGUsIG9uQWN0aW9uQ2xpY2sgfSwgcmVmKSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB7IHNldHRpbmdzLCB1cGRhdGVTZXR0aW5ncyB9ID0gdXNlQWRtaW5TZXR0aW5ncyhyZWYpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGJ1dHRvbiBhY3Rpb25zXG4gIGNvbnN0IFtyYW5kb21UaW1lcywgc2V0UmFuZG9tVGltZXNdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtkZWxheVNlY29uZHMsIHNldERlbGF5U2Vjb25kc10gPSB1c2VTdGF0ZSgzKTtcbiAgY29uc3QgW3Nob3dDYXB0dXJlU2V0dGluZ3MsIHNldFNob3dDYXB0dXJlU2V0dGluZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtwcm9jZXNzU3RhdHVzLCBzZXRQcm9jZXNzU3RhdHVzXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2NvdW50ZG93blZhbHVlLCBzZXRDb3VudGRvd25WYWx1ZV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2N1cnJlbnREb3QsIHNldEN1cnJlbnREb3RdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjYWxpYnJhdGlvblBvaW50cywgc2V0Q2FsaWJyYXRpb25Qb2ludHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudENhbGlicmF0aW9uSW5kZXgsIHNldEN1cnJlbnRDYWxpYnJhdGlvbkluZGV4XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbcmVtYWluaW5nQ2FwdHVyZXMsIHNldFJlbWFpbmluZ0NhcHR1cmVzXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbc2hvd0NhbnZhcywgc2V0U2hvd0NhbnZhc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgXG4gIC8vIFRyYWNrIHRoZSBjYXB0dXJlIGNvdW50XG4gIGNvbnN0IFtjYWxpYnJhdGlvbkhhbmRsZXIsIHNldENhbGlicmF0aW9uSGFuZGxlcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NhcHR1cmVDb3VudCwgc2V0Q2FwdHVyZUNvdW50XSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbaXNDYXB0dXJpbmcsIHNldElzQ2FwdHVyaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRvZ2dsZSBzdGF0ZXNcbiAgY29uc3QgW3Nob3dIZWFkUG9zZSwgc2V0U2hvd0hlYWRQb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCb3VuZGluZ0JveCwgc2V0U2hvd0JvdW5kaW5nQm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNYXNrLCBzZXRTaG93TWFza10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UGFyYW1ldGVycywgc2V0U2hvd1BhcmFtZXRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDYW1lcmFBY3RpdmUsIHNldElzQ2FtZXJhQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQZXJtaXNzaW9uUG9wdXAsIHNldFNob3dQZXJtaXNzaW9uUG9wdXBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZSgnZGVmYXVsdCcpO1xuXG4gIC8vIEluaXRpYWxpemUgc2V0dGluZ3MgZnJvbSBwcm9wc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZXR0aW5ncyAmJiBzZXR0aW5nc1tjdXJyZW50VXNlcklkXSkge1xuICAgICAgY29uc3QgdXNlclNldHRpbmdzID0gc2V0dGluZ3NbY3VycmVudFVzZXJJZF07XG4gICAgICBzZXRSYW5kb21UaW1lcyhOdW1iZXIodXNlclNldHRpbmdzLnRpbWVzKSB8fCAxKTtcbiAgICAgIHNldERlbGF5U2Vjb25kcyhOdW1iZXIodXNlclNldHRpbmdzLmRlbGF5KSB8fCAzKTtcbiAgICB9XG4gIH0sIFtzZXR0aW5ncywgY3VycmVudFVzZXJJZF0pO1xuXG4gIC8vIEV4cG9zZSBtZXRob2RzIHRocm91Z2ggcmVmXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIGhhbmRsZVJhbmRvbURvdCxcbiAgICBoYW5kbGVTZXRSYW5kb20sXG4gICAgaGFuZGxlU2V0Q2FsaWJyYXRlLFxuICAgIGhhbmRsZUNsZWFyQWxsLFxuICAgIGdldENhcHR1cmVTZXR0aW5nczogKCkgPT4gKHtcbiAgICAgIHRpbWVzOiByYW5kb21UaW1lcyxcbiAgICAgIGRlbGF5OiBkZWxheVNlY29uZHNcbiAgICB9KSxcbiAgICBzZXRDYXB0dXJlU2V0dGluZ3M6IChuZXdTZXR0aW5ncykgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0FjdGlvbkJ1dHRvbjogU2V0dGluZyBjYXB0dXJlIHNldHRpbmdzOicsIG5ld1NldHRpbmdzKTtcbiAgICAgIGlmIChuZXdTZXR0aW5ncykge1xuICAgICAgICBpZiAodHlwZW9mIG5ld1NldHRpbmdzLnRpbWVzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNldFJhbmRvbVRpbWVzKG5ld1NldHRpbmdzLnRpbWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG5ld1NldHRpbmdzLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNldERlbGF5U2Vjb25kcyhuZXdTZXR0aW5ncy5kZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIFVJIGVsZW1lbnRzIGlmIHRoZXkgZXhpc3RcbiAgICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY29udHJvbD1cInRpbWVcIl0nKTtcbiAgICAgICAgY29uc3QgZGVsYXlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbnRyb2w9XCJkZWxheVwiXScpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRpbWVJbnB1dCkge1xuICAgICAgICAgIHRpbWVJbnB1dC52YWx1ZSA9IG5ld1NldHRpbmdzLnRpbWVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICAgICAgZGVsYXlJbnB1dC52YWx1ZSA9IG5ld1NldHRpbmdzLmRlbGF5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVTZXR0aW5nczogKG5ld1NldHRpbmdzKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnQWN0aW9uQnV0dG9uOiBVcGRhdGluZyBzZXR0aW5nczonLCBuZXdTZXR0aW5ncyk7XG4gICAgICBpZiAobmV3U2V0dGluZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdTZXR0aW5ncy50aW1lcyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzZXRSYW5kb21UaW1lcyhuZXdTZXR0aW5ncy50aW1lcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuZXdTZXR0aW5ncy5kZWxheSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzZXREZWxheVNlY29uZHMobmV3U2V0dGluZ3MuZGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KSwgW3JhbmRvbVRpbWVzLCBkZWxheVNlY29uZHNdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHVzZXIgSUQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ3VzZXJJZENoYW5nZScpIHtcbiAgICAgICAgY29uc3QgbmV3VXNlcklkID0gZXZlbnQuZGV0YWlsLnVzZXJJZDtcbiAgICAgICAgc2V0Q3VycmVudFVzZXJJZChuZXdVc2VySWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHNldHRpbmdzIGZvciBuZXcgdXNlclxuICAgICAgICBpZiAoc2V0dGluZ3MgJiYgc2V0dGluZ3NbbmV3VXNlcklkXSkge1xuICAgICAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzW25ld1VzZXJJZF07XG4gICAgICAgICAgc2V0UmFuZG9tVGltZXMoTnVtYmVyKHVzZXJTZXR0aW5ncy50aW1lcykgfHwgMSk7XG4gICAgICAgICAgc2V0RGVsYXlTZWNvbmRzKE51bWJlcih1c2VyU2V0dGluZ3MuZGVsYXkpIHx8IDMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICB9O1xuICB9LCBbc2V0dGluZ3NdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycpIHtcbiAgICAgICAgY29uc3QgeyB1c2VySWQsIHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgaWYgKHRpbWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RpbWVzID0gTnVtYmVyKHRpbWVzKSB8fCAxO1xuICAgICAgICAgICAgc2V0UmFuZG9tVGltZXMobmV3VGltZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGVsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RGVsYXkgPSBOdW1iZXIoZGVsYXkpIHx8IDM7XG4gICAgICAgICAgICBzZXREZWxheVNlY29uZHMobmV3RGVsYXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgIH07XG4gIH0sIFtjdXJyZW50VXNlcklkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBNYWtlIGZ1bmN0aW9ucyBnbG9iYWxseSBhY2Nlc3NpYmxlIGFzIGEgZmFsbGJhY2tcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMgPSB7XG4gICAgICAgIGhhbmRsZVJhbmRvbURvdCxcbiAgICAgICAgaGFuZGxlU2V0UmFuZG9tLFxuICAgICAgICBoYW5kbGVTZXRDYWxpYnJhdGUsXG4gICAgICAgIGhhbmRsZUNsZWFyQWxsXG4gICAgICB9O1xuICAgICAgLy8gY29uc29sZS5sb2coJ0FjdGlvbiBidXR0b24gZnVuY3Rpb25zIGV4cG9zZWQgdG8gd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucycpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRlbGV0ZSB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgLy8gRnVuY3Rpb24gdG8gZ2V0IGNvbnRyb2wgdmFsdWVzIGZyb20gVG9wQmFyXG4gICAgY29uc3QgdXBkYXRlQ29udHJvbFZhbHVlcyA9ICgpID0+IHtcbiAgICAgIC8vIEdldCB0aGUgdGltZSBpbnB1dCBlbGVtZW50XG4gICAgICBjb25zdCB0aW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbC1pbnB1dC1maWVsZFtkYXRhLWNvbnRyb2w9XCJ0aW1lXCJdJyk7XG4gICAgICBpZiAodGltZUlucHV0KSB7XG4gICAgICAgIGNvbnN0IHRpbWVWYWx1ZSA9IHBhcnNlSW50KHRpbWVJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKHRpbWVWYWx1ZSkgJiYgdGltZVZhbHVlID4gMCkge1xuICAgICAgICAgIHNldFJhbmRvbVRpbWVzKHRpbWVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBkZWxheSBpbnB1dCBlbGVtZW50XG4gICAgICBjb25zdCBkZWxheUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwiZGVsYXlcIl0nKTtcbiAgICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICAgIGNvbnN0IGRlbGF5VmFsdWUgPSBwYXJzZUludChkZWxheUlucHV0LnZhbHVlLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4oZGVsYXlWYWx1ZSkgJiYgZGVsYXlWYWx1ZSA+IDApIHtcbiAgICAgICAgICBzZXREZWxheVNlY29uZHMoZGVsYXlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGNvbnRyb2wgaW5wdXRzXG4gICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwidGltZVwiXScpO1xuICAgIGNvbnN0IGRlbGF5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbC1pbnB1dC1maWVsZFtkYXRhLWNvbnRyb2w9XCJkZWxheVwiXScpO1xuICAgIFxuICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgIHRpbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGRlbGF5SW5wdXQpIHtcbiAgICAgIGRlbGF5SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlQ29udHJvbFZhbHVlcyk7XG4gICAgfVxuICAgIFxuICAgIC8vIEluaXRpYWwgdXBkYXRlXG4gICAgdXBkYXRlQ29udHJvbFZhbHVlcygpO1xuICAgIFxuICAgIC8vIENsZWFudXAgZXZlbnQgbGlzdGVuZXJzXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgICAgdGltZUlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZGVsYXlJbnB1dCkge1xuICAgICAgICBkZWxheUlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCBpbml0aWFsaXplQ2FudmFzID0gKGNhbnZhcywgcGFyZW50KSA9PiB7XG4gICAgaWYgKCFjYW52YXMgfHwgIXBhcmVudCkge1xuICAgICAgLy8gY29uc29sZS53YXJuKCdbaW5pdGlhbGl6ZUNhbnZhc10gQ2FudmFzIG9yIHBhcmVudCBpcyBudWxsJywgeyBjYW52YXMsIHBhcmVudCB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNldCBjYW52YXMgZGltZW5zaW9ucyB0byBtYXRjaCBwYXJlbnRcbiAgICAgIGNhbnZhcy53aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aCB8fCA4MDA7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhcyBhbmQgc2V0IHdoaXRlIGJhY2tncm91bmRcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gY29uc29sZS5sb2coYENhbnZhcyBpbml0aWFsaXplZCB3aXRoIGRpbWVuc2lvbnM6ICR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW2luaXRpYWxpemVDYW52YXNdIEVycm9yIGluaXRpYWxpemluZyBjYW52YXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBtYWluIGNhbnZhcyAtIGltcHJvdmVkIHRvIGJlIG1vcmUgcmVsaWFibGVcbiAgY29uc3QgZ2V0TWFpbkNhbnZhcyA9ICgpID0+IHtcbiAgICAvLyBUcnkgbXVsdGlwbGUgbWV0aG9kcyB0byBmaW5kIHRoZSBjYW52YXNcbiAgICBcbiAgICBpZiAoY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNpbmcgZGlyZWN0IGNhbnZhc1JlZi5jdXJyZW50IHJlZmVyZW5jZVwiKTtcbiAgICAgIHJldHVybiBjYW52YXNSZWYuY3VycmVudDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcykge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJVc2luZyBnbG9iYWwgd2hpdGVTY3JlZW5DYW52YXMgcmVmZXJlbmNlXCIpO1xuICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXM7IC8vIFVwZGF0ZSBvdXIgcmVmXG4gICAgICByZXR1cm4gd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYWNraW5nLWNhbnZhcycpO1xuICAgICAgaWYgKGNhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJGb3VuZCBjYW52YXMgdmlhIERPTSBzZWxlY3RvclwiKTtcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgb3VyIHJlZlxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgZ2xvYmFsIHJlZiB0b29cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FudmFzRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGNvbnN0IG1ha2VDYW52YXNGdWxsc2NyZWVuID0gKGNhbnZhcykgPT4ge1xuICAgIC8vIEZpcnN0IGluaXRpYWxpemUgd2l0aCBwYXJlbnQgZGltZW5zaW9uc1xuICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7XG4gICAgaW5pdGlhbGl6ZUNhbnZhcyhjYW52YXMsIHBhcmVudCk7XG4gICAgXG4gICAgLy8gVGhlbiBmb3JjZSBmdWxsc2NyZWVuIHN0eWxpbmdcbiAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgY2FudmFzLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJzUnO1xuICAgIFxuICAgIC8vIEZvcmNlIGRpbWVuc2lvbnMgdG8gbWF0Y2ggd2luZG93XG4gICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBcbiAgICAvLyBDbGVhciBhbmQgcHJlcGFyZSBjYW52YXMgYWdhaW5cbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYENhbnZhcyBzZXQgdG8gZnVsbHNjcmVlbjogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgfTtcbiAgY29uc3QgcmVzdG9yZUNhbnZhc1NpemUgPSAoY2FudmFzKSA9PiB7XG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBjYW52YXMgc3R5bGluZ1xuICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnJztcbiAgICBjYW52YXMuc3R5bGUubGVmdCA9ICcnO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSAnJztcbiAgICBcbiAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIGRpbWVuc2lvbnNcbiAgICBpZiAoY2FudmFzLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIGluaXRpYWxpemVDYW52YXMoY2FudmFzLCBjYW52YXMucGFyZW50RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBlcm1pc3Npb25BY2NlcHRlZCA9ICgpID0+IHtcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBpZiAodHJpZ2dlckNhbWVyYUFjY2Vzcykge1xuICAgICAgdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlciB0byBjYW5jZWwgcGVybWlzc2lvbiBwb3B1cFxuICBjb25zdCBoYW5kbGVQZXJtaXNzaW9uRGVuaWVkID0gKCkgPT4ge1xuICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAoZmFsc2UpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byByZXN0b3JlIHRoZSBjYW52YXMgdG8gaXRzIG9yaWdpbmFsIHBhcmVudCBhbmQgc3R5bGluZ1xuICBjb25zdCByZXN0b3JlQ2FudmFzID0gKGNhbnZhcywgb3JpZ2luYWxQYXJlbnQsIG9yaWdpbmFsU3R5bGUpID0+IHtcbiAgICBpZiAoIWNhbnZhcyB8fCAhb3JpZ2luYWxQYXJlbnQpIHJldHVybjtcblxuICAgIC8vIEFwcGVuZCB0aGUgY2FudmFzIGJhY2sgdG8gaXRzIG9yaWdpbmFsIHBhcmVudCBpZiBuZWVkZWRcbiAgICBpZiAoY2FudmFzLnBhcmVudEVsZW1lbnQgIT09IG9yaWdpbmFsUGFyZW50KSB7XG4gICAgICBvcmlnaW5hbFBhcmVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZXN0b3JlIHRoZSBpbmxpbmUgc3R5bGVzIHNhdmVkIGVhcmxpZXJcbiAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBvcmlnaW5hbFN0eWxlLnBvc2l0aW9uO1xuICAgIGNhbnZhcy5zdHlsZS50b3AgPSBvcmlnaW5hbFN0eWxlLnRvcDtcbiAgICBjYW52YXMuc3R5bGUubGVmdCA9IG9yaWdpbmFsU3R5bGUubGVmdDtcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSBvcmlnaW5hbFN0eWxlLndpZHRoO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBvcmlnaW5hbFN0eWxlLmhlaWdodDtcbiAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gb3JpZ2luYWxTdHlsZS56SW5kZXg7XG4gICAgXG4gICAgLy8gUmVzZXQgdGhlIGRpbWVuc2lvbnMgYmFzZWQgb24gdGhlIHBhcmVudCBlbGVtZW50J3Mgc2l6ZSBvciBmYWxsYmFjayBkZWZhdWx0c1xuICAgIGNhbnZhcy53aWR0aCA9IG9yaWdpbmFsUGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gb3JpZ2luYWxQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICBcbiAgICAvLyBDbGVhciB0aGUgY2FudmFzIGFuZCBmaWxsIHdpdGggYSB3aGl0ZSBiYWNrZ3JvdW5kXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICB9O1xuXG5cbiAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICBjb25zdCBjbGVhckNhbnZhcyA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgaWYgKCFjYW52YXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk5vIGNhbnZhcyBmb3VuZCBmb3IgY2xlYXJpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBzZXRDdXJyZW50RG90KG51bGwpO1xuICB9O1xuICAvLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBhY3Rpb25CdXR0b24uanNcblxuICAvKipcbiAgICogQ29uc29saWRhdGVkIGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyB0aGUgZW50aXJlIGRvdCBwcm9jZXNzOiBkcmF3aW5nLCBjb3VudGRvd24sIGNhcHR1cmUsIGFuZCBwcmV2aWV3XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnBvc2l0aW9uIC0ge3gsIHl9IGNvb3JkaW5hdGVzIHdoZXJlIHRvIGRyYXcgdGhlIGRvdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3RhdHVzVXBkYXRlIC0gQ2FsbGJhY2sgZm9yIHN0YXR1cyB1cGRhdGVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMudG9nZ2xlVG9wQmFyIC0gRnVuY3Rpb24gdG8gdG9nZ2xlIHRvcCBiYXIgdmlzaWJpbGl0eVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnRyaWdnZXJDYW1lcmFBY2Nlc3MgLSBGdW5jdGlvbiB0byBlbnN1cmUgY2FtZXJhIGlzIGF2YWlsYWJsZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnNldElzQ2FwdHVyaW5nIC0gRnVuY3Rpb24gdG8gdXBkYXRlIGNhcHR1cmluZyBzdGF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5jYXB0dXJlQ291bnQgLSBDdXJyZW50IGNhcHR1cmUgY291bnRlclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnNldENhcHR1cmVDb3VudCAtIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgY2FwdHVyZSBjb3VudGVyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy51c2VSYW5kb21Qb3NpdGlvbiAtIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYSByYW5kb20gcG9zaXRpb25cbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBSZXN1bHQgb2JqZWN0IHdpdGggY2FwdHVyZSBkYXRhXG4gICAqL1xuICAvLyBNb2RpZmllZCBoYW5kbGVEb3RQcm9jZXNzIGZ1bmN0aW9uIHdpdGggaW1wcm92ZWQgZG90IGFuZCBjb3VudGRvd24gYWxpZ25tZW50XG4gIGNvbnN0IGhhbmRsZURvdFByb2Nlc3MgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgb25TdGF0dXNVcGRhdGUsXG4gICAgICB0b2dnbGVUb3BCYXIsXG4gICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzLFxuICAgICAgc2V0SXNDYXB0dXJpbmcsXG4gICAgICBjYXB0dXJlQ291bnQsXG4gICAgICBzZXRDYXB0dXJlQ291bnQsXG4gICAgICB1c2VSYW5kb21Qb3NpdGlvbiA9IGZhbHNlLFxuICAgICAgcG9zdENvdW50ZG93bkRlbGF5ID0gNTAwIFxuICAgIH0gPSBvcHRpb25zO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBIaWRlIHRoZSBUb3BCYXIgYmVmb3JlIHNob3dpbmcgdGhlIGRvdFxuICAgICAgaWYgKHR5cGVvZiB0b2dnbGVUb3BCYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2V0IGNhcHR1cmluZyBzdGF0ZVxuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXNcbiAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiB1c2VSYW5kb21Qb3NpdGlvbiA/ICdHZW5lcmF0aW5nIHJhbmRvbSBkb3QuLi4nIDogJ1N0YXJ0aW5nIGRvdCBwcm9jZXNzLi4uJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBVSSB1cGRhdGVzIHRvIHRha2UgZWZmZWN0XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKSk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjYW52YXMgcmVmZXJlbmNlXG4gICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgZG90IHByb2Nlc3NcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNhdmUgb3JpZ2luYWwgc3RhdGUgZm9yIHJlc3RvcmF0aW9uXG4gICAgICBjb25zdCBvcmlnaW5hbFBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3Qgb3JpZ2luYWxTdHlsZSA9IHtcbiAgICAgICAgcG9zaXRpb246IGNhbnZhcy5zdHlsZS5wb3NpdGlvbixcbiAgICAgICAgdG9wOiBjYW52YXMuc3R5bGUudG9wLFxuICAgICAgICBsZWZ0OiBjYW52YXMuc3R5bGUubGVmdCxcbiAgICAgICAgd2lkdGg6IGNhbnZhcy5zdHlsZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXMuc3R5bGUuaGVpZ2h0LFxuICAgICAgICB6SW5kZXg6IGNhbnZhcy5zdHlsZS56SW5kZXhcbiAgICAgIH07XG5cbiAgICAgIC8vIFByZXBhcmUgY2FudmFzIGZvciBmdWxsc2NyZWVuIGRpc3BsYXlcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICBjYW52YXMuc3R5bGUudG9wID0gJzAnO1xuICAgICAgY2FudmFzLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICBjYW52YXMuc3R5bGUud2lkdGggPSAnMTAwdncnO1xuICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7XG4gICAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJzEwJztcbiAgICAgIFxuICAgICAgLy8gU2V0IGRpbWVuc2lvbnMgdG8gbWF0Y2ggd2luZG93IGV4YWN0bHlcbiAgICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBjb25zdCBjYW52YXNIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhcyB3aXRoIHdoaXRlIGJhY2tncm91bmRcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBHZXQgcG9zaXRpb24gZm9yIHRoZSBkb3QgLSBlaXRoZXIgdXNlIHByb3ZpZGVkIHBvc2l0aW9uIG9yIGdlbmVyYXRlIHJhbmRvbSBvbmVcbiAgICAgIGNvbnN0IGRvdFBvc2l0aW9uID0gdXNlUmFuZG9tUG9zaXRpb24gXG4gICAgICAgID8gZ2V0UmFuZG9tUG9zaXRpb24oY2FudmFzLCAyMCkgXG4gICAgICAgIDogcG9zaXRpb247XG4gICAgICBcbiAgICAgIGlmICghZG90UG9zaXRpb24gfHwgdHlwZW9mIGRvdFBvc2l0aW9uLnggIT09ICdudW1iZXInIHx8IHR5cGVvZiBkb3RQb3NpdGlvbi55ICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRvdCBwb3NpdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRHJhdyB0aGUgZG90XG4gICAgICBjb25zdCBkb3RSYWRpdXMgPSAxMjtcbiAgICAgIGRyYXdSZWREb3QoY3R4LCBkb3RQb3NpdGlvbi54LCBkb3RQb3NpdGlvbi55LCBkb3RSYWRpdXMsIGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgcmVkcmF3IGludGVydmFsIHRvIGVuc3VyZSBkb3Qgc3RheXMgdmlzaWJsZVxuICAgICAgbGV0IGtlZXBEb3RWaXNpYmxlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGRyYXdSZWREb3QoY3R4LCBkb3RQb3NpdGlvbi54LCBkb3RQb3NpdGlvbi55LCBkb3RSYWRpdXMsIGZhbHNlKTtcbiAgICAgIH0sIDUwKTsgIC8vIE1vcmUgZnJlcXVlbnQgdXBkYXRlcyBmb3IgcmVsaWFiaWxpdHlcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBjb3VudGRvd24gZWxlbWVudHNcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ291bnRkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kb3QtY291bnRkb3duLCAuY2FsaWJyYXRlLWNvdW50ZG93bicpO1xuICAgICAgZXhpc3RpbmdDb3VudGRvd25zLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBpZiAoZWwucGFyZW50Tm9kZSkgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgY291bnRkb3duIGVsZW1lbnQgZGlyZWN0bHkgb24gdG9wIG9mIHRoZSBkb3RcbiAgICAgIC8vIEltcG9ydGFudDogUG9zaXRpb24gdGhlIGNvdW50ZG93biBjZW50ZXJlZCBkaXJlY3RseSBvdmVyIHRoZSBkb3RcbiAgICAgIGNvbnN0IGNvdW50ZG93bkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvdW50ZG93bkVsZW1lbnQuY2xhc3NOYW1lID0gJ2RvdC1jb3VudGRvd24nO1xuICAgICAgY291bnRkb3duRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIGxlZnQ6ICR7ZG90UG9zaXRpb24ueH1weDtcbiAgICAgICAgdG9wOiAke2RvdFBvc2l0aW9uLnl9cHg7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggd2hpdGUsIDAgMCAyMHB4IHdoaXRlO1xuICAgICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCByZWQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgIGhlaWdodDogNTBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICAgIGA7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgXG4gICAgICAvLyBNYW51YWwgY291bnRkb3duXG4gICAgICBmb3IgKGxldCBjb3VudCA9IDM7IGNvdW50ID4gMDsgY291bnQtLSkge1xuICAgICAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gY291bnQ7XG4gICAgICAgIFxuICAgICAgICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICAgICAgICBwcm9jZXNzU3RhdHVzOiBgQ291bnRkb3duOiAke2NvdW50fWAsXG4gICAgICAgICAgY291bnRkb3duVmFsdWU6IGNvdW50LFxuICAgICAgICAgIGlzQ2FwdHVyaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVkcmF3IHRoZSBkb3QgZm9yIHJlbGlhYmlsaXR5XG4gICAgICAgIGRyYXdSZWREb3QoY3R4LCBkb3RQb3NpdGlvbi54LCBkb3RQb3NpdGlvbi55LCBkb3RSYWRpdXMsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZGl0aW9uYWwgcmVkcmF3IGR1cmluZyBjb3VudGRvd24gdG8gZW5zdXJlIHZpc2liaWxpdHlcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaG93IGNoZWNrbWFya1xuICAgICAgY291bnRkb3duRWxlbWVudC50ZXh0Q29udGVudCA9IFwi4pyTXCI7XG4gICAgICBcbiAgICAgIC8vIE1ha2Ugc3VyZSBkb3QgaXMgc3RpbGwgdmlzaWJsZVxuICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgY291bnRkb3duIGVsZW1lbnQgYWZ0ZXIgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGFmdGVyIGNvdW50ZG93biBjb21wbGV0ZXNcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBwb3N0Q291bnRkb3duRGVsYXkpKTtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIHRoZSBkb3QgaXMgc3RpbGwgdmlzaWJsZVxuICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBDYXB0dXJlIGltYWdlcyBhdCB0aGlzIHBvaW50XG4gICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICBwb2ludDogZG90UG9zaXRpb24sXG4gICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50LFxuICAgICAgICBjYW52YXNSZWY6IHsgY3VycmVudDogY2FudmFzIH0sXG4gICAgICAgIHNldENhcHR1cmVDb3VudDogc2V0Q2FwdHVyZUNvdW50LFxuICAgICAgICBzaG93Q2FwdHVyZVByZXZpZXdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGVhciByZWRyYXcgaW50ZXJ2YWxcbiAgICAgIGNsZWFySW50ZXJ2YWwoa2VlcERvdFZpc2libGVJbnRlcnZhbCk7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgY2FudmFzIHRvIG9yaWdpbmFsIHN0YXRlXG4gICAgICBpZiAob3JpZ2luYWxQYXJlbnQgJiYgY2FudmFzLnBhcmVudEVsZW1lbnQgIT09IG9yaWdpbmFsUGFyZW50KSB7XG4gICAgICAgIG9yaWdpbmFsUGFyZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9IG9yaWdpbmFsU3R5bGUucG9zaXRpb24gfHwgJyc7XG4gICAgICBjYW52YXMuc3R5bGUudG9wID0gb3JpZ2luYWxTdHlsZS50b3AgfHwgJyc7XG4gICAgICBjYW52YXMuc3R5bGUubGVmdCA9IG9yaWdpbmFsU3R5bGUubGVmdCB8fCAnJztcbiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IG9yaWdpbmFsU3R5bGUud2lkdGggfHwgJzEwMCUnO1xuICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IG9yaWdpbmFsU3R5bGUuaGVpZ2h0IHx8ICcxMDAlJztcbiAgICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSBvcmlnaW5hbFN0eWxlLnpJbmRleCB8fCAnJztcbiAgICAgIFxuICAgICAgLy8gUmVzZXQgZGltZW5zaW9uc1xuICAgICAgaWYgKG9yaWdpbmFsUGFyZW50KSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IG9yaWdpbmFsUGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9yaWdpbmFsUGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhc1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1c1xuICAgICAgb25TdGF0dXNVcGRhdGU/Lih7XG4gICAgICAgIHByb2Nlc3NTdGF0dXM6ICdDYXB0dXJlIGNvbXBsZXRlZCcsXG4gICAgICAgIGlzQ2FwdHVyaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3cgVG9wQmFyIGFnYWluIGFmdGVyIGEgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHRvZ2dsZVRvcEJhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjAwMCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHBvc2l0aW9uOiBkb3RQb3NpdGlvbixcbiAgICAgICAgY2FwdHVyZVJlc3VsdFxuICAgICAgfTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gaGFuZGxlRG90UHJvY2VzczpcIiwgZXJyb3IpO1xuICAgICAgXG4gICAgICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICAgICAgcHJvY2Vzc1N0YXR1czogYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgaXNDYXB0dXJpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyBUb3BCYXIgYWdhaW4gaWYgdGhlcmUncyBhbiBlcnJvclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9nZ2xlVG9wQmFyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IGhhbmRsZVNldENhbGlicmF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNDYXB0dXJpbmcpIHJldHVybjtcbiAgICBcbiAgICAvLyBEZWNsYXJlIHRoZXNlIHZhcmlhYmxlcyBPVVRTSURFIHRoZSB0cnkgYmxvY2tcbiAgICBsZXQgY2FudmFzID0gbnVsbDtcbiAgICBsZXQgb3JpZ2luYWxDYW52YXNQYXJlbnQgPSBudWxsO1xuICAgIGxldCBvcmlnaW5hbENhbnZhc1N0eWxlID0ge307XG4gICAgbGV0IHN0YXR1c0luZGljYXRvciA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnRSZWRyYXdJbnRlcnZhbCA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgLy8gSGlkZSBUb3BCYXJcbiAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcihmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHNldElzQ2FwdHVyaW5nKHRydWUpO1xuICAgICAgc2V0U2hvd0NhbnZhcyh0cnVlKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoXCJTdGFydGluZyBjYWxpYnJhdGlvbiBzZXF1ZW5jZS4uLlwiKTtcbiAgICAgIFxuICAgICAgLy8gV2FpdCBmb3IgVUkgdXBkYXRlcyB0byB0YWtlIGVmZmVjdFxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xuICAgICAgXG4gICAgICAvLyBHZXQgY2FudmFzIHJlZmVyZW5jZVxuICAgICAgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhcIkVycm9yOiBDYW52YXMgbm90IGZvdW5kXCIpO1xuICAgICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2F2ZSBvcmlnaW5hbCBwYXJlbnQgYW5kIHN0eWxlXG4gICAgICBvcmlnaW5hbENhbnZhc1BhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50O1xuICAgICAgb3JpZ2luYWxDYW52YXNTdHlsZSA9IHtcbiAgICAgICAgcG9zaXRpb246IGNhbnZhcy5zdHlsZS5wb3NpdGlvbixcbiAgICAgICAgdG9wOiBjYW52YXMuc3R5bGUudG9wLFxuICAgICAgICBsZWZ0OiBjYW52YXMuc3R5bGUubGVmdCxcbiAgICAgICAgd2lkdGg6IGNhbnZhcy5zdHlsZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXMuc3R5bGUuaGVpZ2h0LFxuICAgICAgICB6SW5kZXg6IGNhbnZhcy5zdHlsZS56SW5kZXhcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIE1vdmUgY2FudmFzIHRvIGJvZHkgZm9yIG1heGltdW0gcmVsaWFiaWxpdHlcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgIFxuICAgICAgLy8gTWFrZSBjYW52YXMgZnVsbHNjcmVlbiB3aXRoIGZpeGVkIHBvc2l0aW9uaW5nXG4gICAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgY2FudmFzLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgIGNhbnZhcy5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnO1xuICAgICAgY2FudmFzLnN0eWxlLnpJbmRleCA9ICcxMCc7XG4gICAgICBcbiAgICAgIC8vIFNldCBkaW1lbnNpb25zIHRvIG1hdGNoIHdpbmRvdyBleGFjdGx5XG4gICAgICBjb25zdCBjYW52YXNXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgQ2FudmFzIHNldCB0byBmdWxsc2NyZWVuOiAke2NhbnZhc1dpZHRofXgke2NhbnZhc0hlaWdodH1gKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGNvbnRleHRcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBjYW52YXMgd2l0aCB3aGl0ZSBiYWNrZ3JvdW5kXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGNhbGlicmF0aW9uIHBvaW50cyBiYXNlZCBvbiB0aGUgY2FudmFzIHNpemVcbiAgICAgIGNvbnN0IHsgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZVBvaW50cycpO1xuICAgICAgY29uc3QgcG9pbnRzID0gZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyhjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcbiAgICAgIFxuICAgICAgaWYgKCFwb2ludHMgfHwgcG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBzdGF0dXMgaW5kaWNhdG9yXG4gICAgICBzdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHN0YXR1c0luZGljYXRvci5jbGFzc05hbWUgPSAnY2FsaWJyYXRlLXN0YXR1cy1pbmRpY2F0b3InO1xuICAgICAgc3RhdHVzSW5kaWNhdG9yLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOiAyMHB4O1xuICAgICAgICByaWdodDogMjBweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxMDIsIDIwNCwgMC45KTtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDE1cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgei1pbmRleDogMTAwMDA7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgICAgYDtcbiAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9ICdDYWxpYnJhdGlvbjogSW5pdGlhbGl6aW5nLi4uJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgIFxuICAgICAgLy8gUHJvY2VzcyBlYWNoIGNhbGlicmF0aW9uIHBvaW50XG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHJlZHJhdyBpbnRlcnZhbFxuICAgICAgICBpZiAoY3VycmVudFJlZHJhd0ludGVydmFsKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChjdXJyZW50UmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICAgIGN1cnJlbnRSZWRyYXdJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgZGlzcGxheXNcbiAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gYENhbGlicmF0aW9uOiBQb2ludCAke2kgKyAxfS8ke3BvaW50cy5sZW5ndGh9YDtcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgUHJvY2Vzc2luZyBjYWxpYnJhdGlvbiBwb2ludCAke2kgKyAxfS8ke3BvaW50cy5sZW5ndGh9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCBjYW52YXMgaWYgZGltZW5zaW9ucyBjaGFuZ2VkXG4gICAgICAgIGlmIChjYW52YXMud2lkdGggIT09IGNhbnZhc1dpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT09IGNhbnZhc0hlaWdodCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgQ2FudmFzIGRpbWVuc2lvbnMgY2hhbmdlZC4gUmVzZXR0aW5nIHRvICR7Y2FudmFzV2lkdGh9eCR7Y2FudmFzSGVpZ2h0fWApO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBjYW52YXMgaXMgc3RpbGwgYXR0YWNoZWQgdG8gYm9keSBhbmQgaW4gZnVsbHNjcmVlbiBtb2RlXG4gICAgICAgIGlmIChjYW52YXMucGFyZW50RWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICAgICAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJzEwJztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYXIgY2FudmFzIHdpdGggd2hpdGUgYmFja2dyb3VuZFxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gRHJhdyB0aGUgY2FsaWJyYXRpb24gcG9pbnRcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMTQ7IC8vIFNsaWdodGx5IGxhcmdlciBmb3IgYmV0dGVyIHZpc2liaWxpdHlcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvaW50LngsIHBvaW50LnksIHJhZGl1cywgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHJlZHJhdyBmdW5jdGlvbiBmb3IgdGhpcyBwb2ludFxuICAgICAgICBjb25zdCByZWRyYXdDdXJyZW50RG90ID0gKCkgPT4ge1xuICAgICAgICAgIC8vIFZlcmlmeSBjYW52YXMgZGltZW5zaW9ucyBhbmQgcGFyZW50XG4gICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPT0gY2FudmFzV2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gY2FudmFzSGVpZ2h0KSB7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIGNhbnZhcyBpcyBzdGlsbCBhdHRhY2hlZCB0byBib2R5XG4gICAgICAgICAgaWYgKGNhbnZhcy5wYXJlbnRFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlZHJhdyBkb3Qgd2l0aG91dCBjbGVhcmluZ1xuICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb2ludC54LCBwb2ludC55LCByYWRpdXMsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0YXJ0IHJlZHJhdyBpbnRlcnZhbCAtIG1vcmUgZnJlcXVlbnQgdXBkYXRlcyBmb3IgcmVsaWFibGUgZG90IHZpc2liaWxpdHlcbiAgICAgICAgY3VycmVudFJlZHJhd0ludGVydmFsID0gc2V0SW50ZXJ2YWwocmVkcmF3Q3VycmVudERvdCwgNTApO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBjb3VudGRvd24gZWxlbWVudHNcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb3VudGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvdC1jb3VudGRvd24sIC5jYWxpYnJhdGUtY291bnRkb3duJyk7XG4gICAgICAgIGV4aXN0aW5nQ291bnRkb3ducy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICBpZiAoZWwucGFyZW50Tm9kZSkgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGN1c3RvbSBjb3VudGRvd24gZWxlbWVudFxuICAgICAgICBjb25zdCBjb3VudGRvd25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvdW50ZG93bkVsZW1lbnQuY2xhc3NOYW1lID0gJ2RvdC1jb3VudGRvd24nOyAvLyBDb25zaXN0ZW50IGNsYXNzIG5hbWVcbiAgICAgICAgY291bnRkb3duRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICBsZWZ0OiAke3BvaW50Lnh9cHg7XG4gICAgICAgICAgdG9wOiAke3BvaW50LnkgLSA2MH1weDtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCAxMHB4IHdoaXRlLCAwIDAgMjBweCB3aGl0ZTtcbiAgICAgICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgcmVkO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICAgICAgYDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb3VudGRvd25FbGVtZW50KTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gTWFudWFsIGNvdW50ZG93blxuICAgICAgICAgIGZvciAobGV0IGNvdW50ID0gMzsgY291bnQgPiAwOyBjb3VudC0tKSB7XG4gICAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gY291bnQ7XG4gICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBQb2ludCAke2krMX0vJHtwb2ludHMubGVuZ3RofTogQ291bnRkb3duICR7Y291bnR9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZvcmNlIHJlZHJhdyBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgY291bnRkb3duIHRvIGVuc3VyZSB2aXNpYmlsaXR5XG4gICAgICAgICAgICByZWRyYXdDdXJyZW50RG90KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVkcmF3IGFnYWluIGhhbGZ3YXkgdGhyb3VnaCB0aGUgd2FpdCB0byBlbnN1cmUgZG90IHN0YXlzIHZpc2libGVcbiAgICAgICAgICAgIHJlZHJhd0N1cnJlbnREb3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBjaGVja21hcmtcbiAgICAgICAgICBjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gXCLinJNcIjtcbiAgICAgICAgICByZWRyYXdDdXJyZW50RG90KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVtb3ZlIGNvdW50ZG93biBlbGVtZW50IGFmdGVyIGRlbGF5XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIGNvdW50ZG93bkVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb3VudGRvd25FbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAzMDApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSBkb3QgaXMgc3RpbGwgdmlzaWJsZVxuICAgICAgICAgIHJlZHJhd0N1cnJlbnREb3QoKTtcblxuICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICAgIGNvbnNvbGUubG9nKGBDYXB0dXJpbmcgY2FsaWJyYXRpb24gcG9pbnQgJHtpKzF9LyR7cG9pbnRzLmxlbmd0aH0gYXQgKCR7cG9pbnQueH0sICR7cG9pbnQueX0pYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFudWFsIGZvcmNlIHJlZHJhdyBvbmUgbW9yZSB0aW1lIGp1c3QgYmVmb3JlIGNhcHR1cmVcbiAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgcmFkaXVzLCBmYWxzZSk7XG4gICAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhcHR1cmVSZXN1bHQgPSBhd2FpdCBjYXB0dXJlSW1hZ2VzQXRQb2ludCh7XG4gICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgY2FwdHVyZUNvdW50OiBjYXB0dXJlQ291bnQsXG4gICAgICAgICAgY2FudmFzUmVmOiB7IGN1cnJlbnQ6IGNhbnZhcyB9LFxuICAgICAgICAgIHNldENhcHR1cmVDb3VudDogc2V0Q2FwdHVyZUNvdW50LFxuICAgICAgICAgIHNob3dDYXB0dXJlUHJldmlld1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY2FwdHVyZVJlc3VsdCAmJiAoY2FwdHVyZVJlc3VsdC5zY3JlZW5JbWFnZSB8fCBjYXB0dXJlUmVzdWx0LnN1Y2Nlc3MpKSB7XG4gICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICAgIC8vIFdhaXQgYmV0d2VlbiBwb2ludHNcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTIwMCkpO1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgY2FsaWJyYXRpb24gcG9pbnQgJHtpKzF9OmAsIGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAvLyBDbGVhbiB1cCBjb3VudGRvd24gaWYgaXQgc3RpbGwgZXhpc3RzXG4gICAgICAgICAgaWYgKGNvdW50ZG93bkVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgY291bnRkb3duRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvdW50ZG93bkVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbGVhciByZWRyYXcgaW50ZXJ2YWxcbiAgICAgICAgICBpZiAoY3VycmVudFJlZHJhd0ludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGN1cnJlbnRSZWRyYXdJbnRlcnZhbCk7XG4gICAgICAgICAgICBjdXJyZW50UmVkcmF3SW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDYWxpYnJhdGlvbiBjb21wbGV0ZVxuICAgICAgaWYgKHN0YXR1c0luZGljYXRvcikge1xuICAgICAgICBzdGF0dXNJbmRpY2F0b3IudGV4dENvbnRlbnQgPSBgQ2FsaWJyYXRpb24gY29tcGxldGU6ICR7c3VjY2Vzc0NvdW50fS8ke3BvaW50cy5sZW5ndGh9IHBvaW50c2A7XG4gICAgICB9XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYWxpYnJhdGlvbiBjb21wbGV0ZWQ6ICR7c3VjY2Vzc0NvdW50fS8ke3BvaW50cy5sZW5ndGh9IHBvaW50cyBjYXB0dXJlZGApO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYWxpYnJhdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FsaWJyYXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgcmVkcmF3IGludGVydmFsXG4gICAgICBpZiAoY3VycmVudFJlZHJhd0ludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY3VycmVudFJlZHJhd0ludGVydmFsKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gUmVtb3ZlIHN0YXR1cyBpbmRpY2F0b3IgaWYgaXQgZXhpc3RzXG4gICAgICBpZiAoc3RhdHVzSW5kaWNhdG9yICYmIHN0YXR1c0luZGljYXRvci5wYXJlbnROb2RlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHN0YXR1c0luZGljYXRvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0YXR1c0luZGljYXRvcik7XG4gICAgICAgIH0sIDMwMDApO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIGNhbnZhcyB0byBvcmlnaW5hbCBwYXJlbnQgYW5kIHN0eWxpbmcgLSBPbmx5IGlmIGNhbnZhcyB3YXMgc3VjY2Vzc2Z1bGx5IGluaXRpYWxpemVkXG4gICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgb3JpZ2luYWwgcGFyZW50XG4gICAgICAgICAgaWYgKG9yaWdpbmFsQ2FudmFzUGFyZW50ICYmIGNhbnZhcy5wYXJlbnRFbGVtZW50ICE9PSBvcmlnaW5hbENhbnZhc1BhcmVudCkge1xuICAgICAgICAgICAgb3JpZ2luYWxDYW52YXNQYXJlbnQuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFvcmlnaW5hbENhbnZhc1BhcmVudCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gbG9va2luZyBmb3IgYSBjb250YWluZXIgZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgcG9zc2libGVQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgaWYgKHBvc3NpYmxlUGFyZW50ICYmIGNhbnZhcy5wYXJlbnRFbGVtZW50ICE9PSBwb3NzaWJsZVBhcmVudCkge1xuICAgICAgICAgICAgICBwb3NzaWJsZVBhcmVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXN0b3JlIHN0eWxpbmdcbiAgICAgICAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBvcmlnaW5hbENhbnZhc1N0eWxlLnBvc2l0aW9uIHx8ICcnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSBvcmlnaW5hbENhbnZhc1N0eWxlLnRvcCB8fCAnJztcbiAgICAgICAgICBjYW52YXMuc3R5bGUubGVmdCA9IG9yaWdpbmFsQ2FudmFzU3R5bGUubGVmdCB8fCAnJztcbiAgICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBvcmlnaW5hbENhbnZhc1N0eWxlLndpZHRoIHx8ICcxMDAlJztcbiAgICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxDYW52YXNTdHlsZS5oZWlnaHQgfHwgJzEwMCUnO1xuICAgICAgICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSBvcmlnaW5hbENhbnZhc1N0eWxlLnpJbmRleCB8fCAnJztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXNldCBkaW1lbnNpb25zIGJhc2VkIG9uIHBhcmVudFxuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aCB8fCA4MDA7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDgwMDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSA2MDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIGNhbnZhcyB3aXRoIHdoaXRlIGJhY2tncm91bmRcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coXCJDYW52YXMgcmVzdG9yZWQgdG8gb3JpZ2luYWwgc3RhdGVcIik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVzdG9yaW5nIGNhbnZhczpcIiwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBTaG93IFRvcEJhciBhZ2FpblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2V0UmFuZG9tID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBSZWFkIHZhbHVlcyBmcm9tIFRvcEJhciBpbnB1dHNcbiAgICAgIGNvbnN0IHRpbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sLWlucHV0LWZpZWxkJyk7XG4gICAgICBjb25zdCBkZWxheUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2wtaW5wdXQtZmllbGQnKVsxXTtcbiAgICAgIGxldCB0aW1lcyA9IHJhbmRvbVRpbWVzIHx8IDE7XG4gICAgICBsZXQgZGVsYXkgPSBkZWxheVNlY29uZHMgfHwgMztcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgaW5wdXQgdmFsdWVzIGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKHRpbWVJbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUaW1lID0gcGFyc2VJbnQodGltZUlucHV0LnZhbHVlLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VkVGltZSkgJiYgcGFyc2VkVGltZSA+IDApIHtcbiAgICAgICAgICB0aW1lcyA9IHBhcnNlZFRpbWU7XG4gICAgICAgICAgc2V0UmFuZG9tVGltZXModGltZXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZERlbGF5ID0gcGFyc2VJbnQoZGVsYXlJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZERlbGF5KSAmJiBwYXJzZWREZWxheSA+IDApIHtcbiAgICAgICAgICBkZWxheSA9IHBhcnNlZERlbGF5O1xuICAgICAgICAgIHNldERlbGF5U2Vjb25kcyhkZWxheSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSGlkZSBUb3BCYXJcbiAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcihmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHNldElzQ2FwdHVyaW5nKHRydWUpO1xuICAgICAgc2V0UmVtYWluaW5nQ2FwdHVyZXModGltZXMpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgU3RhcnRpbmcgJHt0aW1lc30gcmFuZG9tIGNhcHR1cmVzIHdpdGggJHtkZWxheX1zIGRlbGF5Li4uYCk7XG5cbiAgICAgIC8vIFByb2Nlc3MgYWxsIGNhcHR1cmVzIGluIHNlcXVlbmNlXG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgY3VycmVudEluZGV4ID0gMTsgY3VycmVudEluZGV4IDw9IHRpbWVzOyBjdXJyZW50SW5kZXgrKykge1xuICAgICAgICAvLyBVcGRhdGUgc3RhdHVzIGZvciBjdXJyZW50IGNhcHR1cmVcbiAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FwdHVyZSAke2N1cnJlbnRJbmRleH0gb2YgJHt0aW1lc31gKTtcbiAgICAgICAgc2V0UmVtYWluaW5nQ2FwdHVyZXModGltZXMgLSBjdXJyZW50SW5kZXggKyAxKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBoYW5kbGVEb3RQcm9jZXNzIGZvciBlYWNoIGNhcHR1cmVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlRG90UHJvY2Vzcyh7XG4gICAgICAgICAgdXNlUmFuZG9tUG9zaXRpb246IHRydWUsXG4gICAgICAgICAgb25TdGF0dXNVcGRhdGU6IChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykge1xuICAgICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYXB0dXJlICR7Y3VycmVudEluZGV4fS8ke3RpbWVzfTogJHtzdGF0dXMucHJvY2Vzc1N0YXR1c31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvZ2dsZVRvcEJhcjogKHNob3cpID0+IHtcbiAgICAgICAgICAgIC8vIE9ubHkgc2hvdyBUb3BCYXIgYWZ0ZXIgdGhlIGxhc3QgY2FwdHVyZVxuICAgICAgICAgICAgaWYgKHNob3cgJiYgY3VycmVudEluZGV4IDwgdGltZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuOyAvLyBEb24ndCBzaG93IHlldCBmb3IgaW50ZXJtZWRpYXRlIGNhcHR1cmVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCBzaG93KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHNob3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJpZ2dlckNhbWVyYUFjY2VzcyxcbiAgICAgICAgICBzZXRJc0NhcHR1cmluZzogKGNhcHR1cmluZykgPT4ge1xuICAgICAgICAgICAgLy8gT25seSBzZXQgY2FwdHVyaW5nIHRvIGZhbHNlIGFmdGVyIGFsbCBjYXB0dXJlc1xuICAgICAgICAgICAgaWYgKCFjYXB0dXJpbmcgJiYgY3VycmVudEluZGV4IDwgdGltZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuOyAvLyBTdGF5IGluIGNhcHR1cmluZyBzdGF0ZSBiZXR3ZWVuIGRvdHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGNhcHR1cmluZyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYXB0dXJlQ291bnQsXG4gICAgICAgICAgc2V0Q2FwdHVyZUNvdW50LFxuICAgICAgICAgIHBvc3RDb3VudGRvd25EZWxheTogODAwXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGJldHdlZW4gY2FwdHVyZXMgLSBidXQgb25seSBpZiB0aGVyZSBhcmUgbW9yZSBjYXB0dXJlcyB0byBnb1xuICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgdGltZXMpIHtcbiAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBXYWl0aW5nICR7ZGVsYXl9cyBiZWZvcmUgbmV4dCBjYXB0dXJlLi4uYCk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5ICogMTAwMCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENvbXBsZXRpb24gbm90aWZpY2F0aW9uXG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBSYW5kb20gY2FwdHVyZSBzZXF1ZW5jZSBjb21wbGV0ZWQ6ICR7c3VjY2Vzc0NvdW50fS8ke3RpbWVzfSBjYXB0dXJlcyBzdWNjZXNzZnVsYCk7XG4gICAgICBzZXRSZW1haW5pbmdDYXB0dXJlcygwKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmFuZG9tIHNlcXVlbmNlIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBSYW5kb20gc2VxdWVuY2UgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyBUb3BCYXIgYWdhaW5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9uQWN0aW9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlUmFuZG9tRG90ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIC8vIFVzZSB0aGUgY29uc29saWRhdGVkIGZ1bmN0aW9uIHdpdGggcmFuZG9tIHBvc2l0aW9uXG4gICAgYXdhaXQgaGFuZGxlRG90UHJvY2Vzcyh7XG4gICAgICB1c2VSYW5kb21Qb3NpdGlvbjogdHJ1ZSxcbiAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgIGlmIChzdGF0dXMuaXNDYXB0dXJpbmcgIT09IHVuZGVmaW5lZCkgc2V0SXNDYXB0dXJpbmcoc3RhdHVzLmlzQ2FwdHVyaW5nKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGVUb3BCYXI6IChzaG93KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHNob3cpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdHJpZ2dlckNhbWVyYUFjY2VzcyxcbiAgICAgIHNldElzQ2FwdHVyaW5nLFxuICAgICAgY2FwdHVyZUNvdW50LFxuICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnQsXG4gICAgICBwb3N0Q291bnRkb3duRGVsYXk6IDEwMDBcbiAgICB9KTtcbiAgfTtcbiAgXG5cbiAgLy8gTG9hZCBjYWxpYnJhdGlvbiBzZXR1cFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgY29uc3Qgc2V0dXBDYWxpYnJhdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdDogQ2FsaWJyYXRlSGFuZGxlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZUhhbmRsZXInKTtcbiAgICBcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbnZhcyBub3QgYXZhaWxhYmxlIGR1cmluZyBzZXR1cENhbGlicmF0aW9uXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgbWFrZUNhbnZhc0Z1bGxzY3JlZW4oY2FudmFzKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2FudmFzIHNpemU6JywgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnR2VuZXJhdGVkIGNhbGlicmF0aW9uIHBvaW50czonLCBwb2ludHMpO1xuICAgICAgICBzZXRDYWxpYnJhdGlvblBvaW50cyhwb2ludHMpO1xuICAgIFxuICAgICAgICBjb25zdCBjYWxpYnJhdGVIYW5kbGVyID0gbmV3IENhbGlicmF0ZUhhbmRsZXIoe1xuICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICBjYWxpYnJhdGlvblBvaW50czogcG9pbnRzLFxuICAgICAgICAgIHRvZ2dsZVRvcEJhcjogKHNob3cpID0+IG9uQWN0aW9uQ2xpY2s/LigndG9nZ2xlVG9wQmFyJywgc2hvdyksXG4gICAgICAgICAgc2V0T3V0cHV0VGV4dDogKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FwdHVyZUNvdW50ZXI6IGNhcHR1cmVDb3VudCxcbiAgICAgICAgICBzZXRDYXB0dXJlQ291bnRlcjogKG5ld0NvdW50ZXIpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q291bnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBzZXRDYXB0dXJlQ291bnQocHJldiA9PiBuZXdDb3VudGVyKHByZXYpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudChuZXdDb3VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhcHR1cmVGb2xkZXI6ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnLFxuICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ0NhbGlicmF0aW9uIGNvbXBsZXRlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHNldENhbGlicmF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgaGFuZGxlQWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0NhcHR1cmluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ1N0YXJ0aW5nIGNhbGlicmF0aW9uLi4uJyk7XG4gICAgICAgICAgICBhd2FpdCBjYWxpYnJhdGVIYW5kbGVyLnN0YXJ0Q2FsaWJyYXRpb24oKTtcbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgcmVzdG9yZUNhbnZhc1NpemUoY2FudmFzKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBjYWxpYnJhdGlvbjonLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXR1cENhbGlicmF0aW9uKCk7XG4gIH0sIFtjYXB0dXJlQ291bnQsIG9uQWN0aW9uQ2xpY2tdKTtcbiAgXG4gIC8vIENsZWFyIEFsbCBCdXR0b24gLSBSZXNldCBldmVyeXRoaW5nXG4gIGNvbnN0IGhhbmRsZUNsZWFyQWxsID0gKCkgPT4ge1xuICAgIGNsZWFyQ2FudmFzKCk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cygnJyk7XG4gICAgc2V0UmVtYWluaW5nQ2FwdHVyZXMoMCk7XG4gICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgIHNldENvdW50ZG93blZhbHVlKG51bGwpO1xuICAgIHNldFNob3dDYW52YXModHJ1ZSk7XG4gIH07XG5cbiAgLy8gVG9nZ2xlIEhlYWQgUG9zZSB2aXN1YWxpemF0aW9uXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUhlYWRQb3NlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0hlYWRQb3NlU3RhdGUgPSAhc2hvd0hlYWRQb3NlO1xuICAgIHNldFNob3dIZWFkUG9zZShuZXdIZWFkUG9zZVN0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBIZWFkIHBvc2UgdmlzdWFsaXphdGlvbiAke25ld0hlYWRQb3NlU3RhdGUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHRvIHVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9uc1xuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdoZWFkUG9zZScpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dIZWFkUG9zZTogbmV3SGVhZFBvc2VTdGF0ZVxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVXBkYXRlZCBiYWNrZW5kIGhlYWQgcG9zZTogJHtuZXdIZWFkUG9zZVN0YXRlfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUb2dnbGUgQm91bmRpbmcgQm94IHZpc3VhbGl6YXRpb25cbiAgY29uc3QgaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3ggPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3Qm91bmRpbmdCb3hTdGF0ZSA9ICFzaG93Qm91bmRpbmdCb3g7XG4gICAgc2V0U2hvd0JvdW5kaW5nQm94KG5ld0JvdW5kaW5nQm94U3RhdGUpO1xuICAgIHNldFByb2Nlc3NTdGF0dXMoYEJvdW5kaW5nIGJveCAke25ld0JvdW5kaW5nQm94U3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGhhbmRsZXIgdG8gdXBkYXRlIHByb2Nlc3NvciBvcHRpb25zXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ2JvdW5kaW5nQm94Jyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB2aWRlb1Byb2Nlc3NvciBvcHRpb25zIGRpcmVjdGx5IGlmIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd0JvdW5kaW5nQm94OiBuZXdCb3VuZGluZ0JveFN0YXRlXG4gICAgICB9KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBVcGRhdGVkIGJhY2tlbmQgYm91bmRpbmcgYm94OiAke25ld0JvdW5kaW5nQm94U3RhdGV9YCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRvZ2dsZSBNYXNrIHZpc3VhbGl6YXRpb25cbiAgY29uc3QgaGFuZGxlVG9nZ2xlTWFzayA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdNYXNrU3RhdGUgPSAhc2hvd01hc2s7XG4gICAgc2V0U2hvd01hc2sobmV3TWFza1N0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBNYXNrICR7bmV3TWFza1N0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHRvIHVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9uc1xuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdtYXNrJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB2aWRlb1Byb2Nlc3NvciBvcHRpb25zIGRpcmVjdGx5IGlmIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd01hc2s6IG5ld01hc2tTdGF0ZVxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVXBkYXRlZCBiYWNrZW5kIG1hc2s6ICR7bmV3TWFza1N0YXRlfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUb2dnbGUgUGFyYW1ldGVycyBkaXNwbGF5XG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3UGFyYW1ldGVyc1N0YXRlID0gIXNob3dQYXJhbWV0ZXJzO1xuICAgIHNldFNob3dQYXJhbWV0ZXJzKG5ld1BhcmFtZXRlcnNTdGF0ZSk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cyhgUGFyYW1ldGVycyAke25ld1BhcmFtZXRlcnNTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICBcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgaGFuZGxlciB0byB1cGRhdGUgcHJvY2Vzc29yIG9wdGlvbnNcbiAgICBpZiAob25BY3Rpb25DbGljaykge1xuICAgICAgb25BY3Rpb25DbGljaygncGFyYW1ldGVycycpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dQYXJhbWV0ZXJzOiBuZXdQYXJhbWV0ZXJzU3RhdGVcbiAgICAgIH0pO1xuICAgICAgLy8gY29uc29sZS5sb2coYFVwZGF0ZWQgYmFja2VuZCBwYXJhbWV0ZXJzOiAke25ld1BhcmFtZXRlcnNTdGF0ZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVG9nZ2xlIGNhbWVyYSBwcmV2aWV3XG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUNhbWVyYSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdDYW1lcmFTdGF0ZSA9ICFpc0NhbWVyYUFjdGl2ZTtcbiAgICBzZXRJc0NhbWVyYUFjdGl2ZShuZXdDYW1lcmFTdGF0ZSk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGhhbmRsZXIgd2l0aCAncHJldmlldycgYWN0aW9uXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ3ByZXZpZXcnLCBuZXdDYW1lcmFTdGF0ZSk7IC8vIFBhc3MgdGhlIG5ldyBzdGF0ZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjayB0byBkaXJlY3QgdHJpZ2dlciBpZiBubyBhY3Rpb24gaGFuZGxlclxuICAgICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdHVybmluZyBvbiBjYW1lcmEsIGVuc3VyZSB3ZSBhcHBseSBjdXJyZW50IHZpc3VhbGl6YXRpb24gc2V0dGluZ3NcbiAgICBpZiAobmV3Q2FtZXJhU3RhdGUgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAvLyBXYWl0IGEgc2hvcnQgbW9tZW50IHRvIGVuc3VyZSB0aGUgdmlkZW8gZWxlbWVudCBpcyByZWFkeVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICBzaG93SGVhZFBvc2UsXG4gICAgICAgICAgICBzaG93Qm91bmRpbmdCb3gsXG4gICAgICAgICAgICBzaG93TWFzayxcbiAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFkZCBiYWNrIGJ1dHRvbiBoYW5kbGVyXG4gIGNvbnN0IGhhbmRsZUdvQmFjayA9ICgpID0+IHtcbiAgICByb3V0ZXIucHVzaCgnLycpO1xuICB9O1xuXG4gIC8vIEJ1dHRvbiBjb25maWd1cmF0aW9ucyB3aXRoIGJvdGggZnVsbCBhbmQgYWJicmV2aWF0ZWQgdGV4dFxuICBjb25zdCBidXR0b25zID0gW1xuICAgIHsgXG4gICAgICB0ZXh0OiBcIlNldCBSYW5kb21cIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IFwiU1JhbmRvbVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVNldFJhbmRvbSxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZ1xuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IFwiUmFuZG9tIERvdFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJSYW5kb21cIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVSYW5kb21Eb3QsXG4gICAgICBkaXNhYmxlZDogaXNDYXB0dXJpbmcgXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJTZXQgQ2FsaWJyYXRlXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIkNhbGlicmF0ZVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVNldENhbGlicmF0ZSxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZyBcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIkNsZWFyIEFsbFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJDbGVhclwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsZWFyQWxsXG4gICAgfSxcbiAgICB7IGRpdmlkZXI6IHRydWUgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJEcmF3IEhlYWQgcG9zZVwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJIZWFkIHBvc2VcIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVIZWFkUG9zZSxcbiAgICAgIGFjdGl2ZTogc2hvd0hlYWRQb3NlXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJTaG93IEJvdW5kaW5nIEJveFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCLimJAgQm94XCIsIFxuICAgICAgb25DbGljazogaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3gsXG4gICAgICBhY3RpdmU6IHNob3dCb3VuZGluZ0JveFxuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IGlzQ2FtZXJhQWN0aXZlID8gXCJTdG9wIENhbWVyYVwiIDogXCJTaG93IFByZXZpZXdcIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IGlzQ2FtZXJhQWN0aXZlID8gXCJTdG9wXCIgOiBcIlByZXZpZXdcIiwgXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIC8vIElmIGNhbWVyYSBwZXJtaXNzaW9uIGlzIG5lZWRlZCBidXQgbm90IGdyYW50ZWQsIHNob3cgcG9wdXBcbiAgICAgICAgaWYgKCFpc0NhbWVyYUFjdGl2ZSAmJiAhdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKSkge1xuICAgICAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlVG9nZ2xlQ2FtZXJhKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3RpdmU6IGlzQ2FtZXJhQWN0aXZlLFxuICAgICAgZGlzYWJsZWQ6IGlzQ2FwdHVyaW5nIC8vIERpc2FibGUgY2FtZXJhIHRvZ2dsZSB3aGlsZSBjYXB0dXJpbmdcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIvCfmLcgU2hvdyBNYXNrXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIvCfmLcgTWFza1wiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVRvZ2dsZU1hc2ssXG4gICAgICBhY3RpdmU6IHNob3dNYXNrXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJQYXJhbWV0ZXJzXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIlZhbHVlc1wiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMsXG4gICAgICBhY3RpdmU6IHNob3dQYXJhbWV0ZXJzXG4gICAgfVxuICBdO1xuXG4gIC8vIE1vYmlsZSBsYXlvdXQgLSAyeDUgZ3JpZFxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICB7aXNDb21wYWN0TW9kZSA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICB7YnV0dG9ucy5maWx0ZXIoYiA9PiAhYi5kaXZpZGVyKS5tYXAoKGJ1dHRvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gXG4gICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgIHRleHQ9e2J1dHRvbi50ZXh0fVxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9e2J1dHRvbi5hYmJyZXZpYXRlZFRleHR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2J1dHRvbi5vbkNsaWNrfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17YnV0dG9uLmRpc2FibGVkfVxuICAgICAgICAgICAgICBhY3RpdmU9e2J1dHRvbi5hY3RpdmV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gXG4gICAgICAgICAgICAgIHRleHQ9XCJTZXQgUmFuZG9tXCJcbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PVwiU1JhbmRvbVwiIFxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZXRSYW5kb219XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NhcHR1cmluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiR28gYmFja1wiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIuKGkCBCYWNrXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdvQmFja31cbiAgICAgICAgICAgICAgY3VzdG9tQ2xhc3M9XCJiZy1ncmF5LTIwMCBob3ZlcjpiZy1ncmF5LTMwMFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIlNldCBDYWxpYnJhdGVcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCJDYWxpYnJhdGVcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2V0Q2FsaWJyYXRlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDYXB0dXJpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIlJhbmRvbSBEb3RcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCJSYW5kb21cIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmFuZG9tRG90fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDYXB0dXJpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIkNsZWFyIEFsbFwiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIkNsZWFyXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyQWxsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8aHIgY2xhc3NOYW1lPVwibXktMyBib3JkZXItZ3JheS0yMDBcIiAvPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIkRyYXcgSGVhZCBwb3NlXCJcbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PVwiSGVhZCBwb3NlXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUhlYWRQb3NlfVxuICAgICAgICAgICAgICBhY3RpdmU9e3Nob3dIZWFkUG9zZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiU2hvdyBCb3VuZGluZyBCb3hcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCLimJAgQm94XCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUJvdW5kaW5nQm94fVxuICAgICAgICAgICAgICBhY3RpdmU9e3Nob3dCb3VuZGluZ0JveH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PXtpc0NhbWVyYUFjdGl2ZSA/IFwiU3RvcCBDYW1lcmFcIiA6IFwiU2hvdyBQcmV2aWV3XCJ9XG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD17aXNDYW1lcmFBY3RpdmUgPyBcIlN0b3BcIiA6IFwiUHJldmlld1wifVxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVDYW1lcmF9XG4gICAgICAgICAgICAgIGFjdGl2ZT17aXNDYW1lcmFBY3RpdmV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIvCfmLcgU2hvdyBNYXNrXCJcbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PVwi8J+YtyBNYXNrXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZU1hc2t9XG4gICAgICAgICAgICAgIGFjdGl2ZT17c2hvd01hc2t9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIlBhcmFtZXRlcnNcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCJWYWx1ZXNcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgYWN0aXZlPXtzaG93UGFyYW1ldGVyc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2PjwvZGl2PiB7LyogRW1wdHkgc3BhY2UgZm9yIGFsaWdubWVudCAqL31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogU3RhdHVzIGRpc3BsYXkgZm9yIGNhbGlicmF0aW9uIGFuZCByYW5kb20gc2VxdWVuY2UgKi99XG4gICAgICB7KHByb2Nlc3NTdGF0dXMgfHwgcmVtYWluaW5nQ2FwdHVyZXMgPiAwIHx8IGNvdW50ZG93blZhbHVlKSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzLWRpc3BsYXkgbXQtNCBwLTIgYmctYmx1ZS01MCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAge3Byb2Nlc3NTdGF0dXMgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtYmx1ZS04MDBcIj57cHJvY2Vzc1N0YXR1c308L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtyZW1haW5pbmdDYXB0dXJlcyA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQteWVsbG93LTYwMFwiPlJlbWFpbmluZzoge3JlbWFpbmluZ0NhcHR1cmVzfTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2NvdW50ZG93blZhbHVlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtcmVkLTYwMFwiPntjb3VudGRvd25WYWx1ZX08L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBDYW52YXMgZm9yIGRyYXdpbmcgZG90cyAqL31cbiAgICAgIHtzaG93Q2FudmFzICYmIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtY29udGFpbmVyIG10LTRcIiBcbiAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIGhlaWdodDogJzQwdmgnLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiAnMzAwcHgnLFxuICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMGUwZTAnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Y2FudmFzIFxuICAgICAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0cmFja2luZy1jYW52YXNcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBPdmVybGF5IGZvciBjb3VudGRvd24gb24gZG90ICovfVxuICAgICAgICAgIHtjb3VudGRvd25WYWx1ZSAmJiBjdXJyZW50RG90ICYmIChcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvdC1jb3VudGRvd25cIlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGAke2N1cnJlbnREb3QueCAtIDE1fXB4YCxcbiAgICAgICAgICAgICAgICB0b3A6IGAke2N1cnJlbnREb3QueSAtIDQwfXB4YCxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NvdW50ZG93blZhbHVlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogQ2FtZXJhIFBlcm1pc3Npb24gUG9wdXAgKi99XG4gICAgICB7c2hvd1Blcm1pc3Npb25Qb3B1cCAmJiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tcG9wdXBcIiBcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgekluZGV4OiAxNVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tZGlhbG9nXCIgXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICB3aWR0aDogJzQwMHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxoMyBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tdGl0bGVcIiBcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAgMTVweCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FtZXJhIEFjY2VzcyBSZXF1aXJlZFxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1tZXNzYWdlXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDIwcHgnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEuNCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgVGhpcyBhcHBsaWNhdGlvbiBuZWVkcyBhY2Nlc3MgdG8geW91ciBjYW1lcmEgdG8gZnVuY3Rpb24gcHJvcGVybHkuIFdoZW4gcHJvbXB0ZWQgYnkgeW91ciBicm93c2VyLCBwbGVhc2UgY2xpY2sgXCJBbGxvd1wiIHRvIGdyYW50IGNhbWVyYSBhY2Nlc3MuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1idXR0b25zXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgICAgICAgICAgIGdhcDogJzEwcHgnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkRlbmllZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmMGYwZjAnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBlcm1pc3Npb25BY2NlcHRlZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDY2Y2MnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDb250aW51ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59KTtcbmNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwID0gZHluYW1pYygoKSA9PiBQcm9taXNlLnJlc29sdmUoXG4gIGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IDxBY3Rpb25CdXR0b25Hcm91cElubmVyIHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+KVxuKSwgeyBzc3I6IGZhbHNlIH0pO1xuLy8gQ3JlYXRlIGEgY2xpZW50LW9ubHkgdmVyc2lvbiBvZiBBY3Rpb25CdXR0b25Hcm91cFxuLy8gY29uc3QgQWN0aW9uQnV0dG9uR3JvdXAgPSBkeW5hbWljKCgpID0+IFByb21pc2UucmVzb2x2ZShBY3Rpb25CdXR0b25Hcm91cElubmVyKSwgeyBzc3I6IGZhbHNlIH0pO1xuXG4vLyBBZGQgZGVmYXVsdCBleHBvcnQgY29tcG9uZW50XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBY3Rpb25CdXR0b25QYWdlKCkge1xuICByZXR1cm4gbnVsbDsgLy8gVGhpcyBpcyBhIHV0aWxpdHkgZmlsZSwgc28gd2UgZG9uJ3QgbmVlZCB0byByZW5kZXIgYW55dGhpbmdcbn1cblxuZXhwb3J0IHsgQWN0aW9uQnV0dG9uLCBBY3Rpb25CdXR0b25Hcm91cCB9OyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiZm9yd2FyZFJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJkeW5hbWljIiwiZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyIsInNob3dDYXB0dXJlUHJldmlldyIsImRyYXdSZWREb3QiLCJnZXRSYW5kb21Qb3NpdGlvbiIsImNyZWF0ZUNvdW50ZG93bkVsZW1lbnQiLCJydW5Db3VudGRvd24iLCJjYXB0dXJlSW1hZ2VzQXRQb2ludCIsInVzZVJvdXRlciIsInVzZUFkbWluU2V0dGluZ3MiLCJBY3Rpb25CdXR0b24iLCJ0ZXh0IiwiYWJicmV2aWF0ZWRUZXh0Iiwib25DbGljayIsImN1c3RvbUNsYXNzIiwiZGlzYWJsZWQiLCJhY3RpdmUiLCJpc0FiYnJldmlhdGVkIiwic2V0SXNBYmJyZXZpYXRlZCIsInNldHRpbmdzIiwiY3VycmVudFVzZXJJZCIsInNldEN1cnJlbnRVc2VySWQiLCJpc0NhcHR1cmluZyIsInNldElzQ2FwdHVyaW5nIiwiY2FwdHVyZUNvdW50ZXIiLCJzZXRDYXB0dXJlQ291bnRlciIsInByb2Nlc3NTdGF0dXMiLCJzZXRQcm9jZXNzU3RhdHVzIiwiaGFuZGxlUmVzaXplIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVVc2VySWRDaGFuZ2UiLCJldmVudCIsImRldGFpbCIsInR5cGUiLCJ1c2VySWQiLCJidXR0b24iLCJjbGFzc05hbWUiLCJ0aXRsZSIsImRpdiIsIkFjdGlvbkJ1dHRvbkdyb3VwSW5uZXIiLCJ0cmlnZ2VyQ2FtZXJhQWNjZXNzIiwiaXNDb21wYWN0TW9kZSIsIm9uQWN0aW9uQ2xpY2siLCJyZWYiLCJyb3V0ZXIiLCJ1cGRhdGVTZXR0aW5ncyIsInJhbmRvbVRpbWVzIiwic2V0UmFuZG9tVGltZXMiLCJkZWxheVNlY29uZHMiLCJzZXREZWxheVNlY29uZHMiLCJzaG93Q2FwdHVyZVNldHRpbmdzIiwic2V0U2hvd0NhcHR1cmVTZXR0aW5ncyIsImNhbnZhc1JlZiIsImNvdW50ZG93blZhbHVlIiwic2V0Q291bnRkb3duVmFsdWUiLCJjdXJyZW50RG90Iiwic2V0Q3VycmVudERvdCIsImNhbGlicmF0aW9uUG9pbnRzIiwic2V0Q2FsaWJyYXRpb25Qb2ludHMiLCJjdXJyZW50Q2FsaWJyYXRpb25JbmRleCIsInNldEN1cnJlbnRDYWxpYnJhdGlvbkluZGV4IiwicmVtYWluaW5nQ2FwdHVyZXMiLCJzZXRSZW1haW5pbmdDYXB0dXJlcyIsInNob3dDYW52YXMiLCJzZXRTaG93Q2FudmFzIiwiY2FsaWJyYXRpb25IYW5kbGVyIiwic2V0Q2FsaWJyYXRpb25IYW5kbGVyIiwiY2FwdHVyZUNvdW50Iiwic2V0Q2FwdHVyZUNvdW50Iiwic2hvd0hlYWRQb3NlIiwic2V0U2hvd0hlYWRQb3NlIiwic2hvd0JvdW5kaW5nQm94Iiwic2V0U2hvd0JvdW5kaW5nQm94Iiwic2hvd01hc2siLCJzZXRTaG93TWFzayIsInNob3dQYXJhbWV0ZXJzIiwic2V0U2hvd1BhcmFtZXRlcnMiLCJpc0NhbWVyYUFjdGl2ZSIsInNldElzQ2FtZXJhQWN0aXZlIiwic2hvd1Blcm1pc3Npb25Qb3B1cCIsInNldFNob3dQZXJtaXNzaW9uUG9wdXAiLCJ1c2VyU2V0dGluZ3MiLCJOdW1iZXIiLCJ0aW1lcyIsImRlbGF5IiwiaGFuZGxlUmFuZG9tRG90IiwiaGFuZGxlU2V0UmFuZG9tIiwiaGFuZGxlU2V0Q2FsaWJyYXRlIiwiaGFuZGxlQ2xlYXJBbGwiLCJnZXRDYXB0dXJlU2V0dGluZ3MiLCJzZXRDYXB0dXJlU2V0dGluZ3MiLCJuZXdTZXR0aW5ncyIsImNvbnNvbGUiLCJsb2ciLCJ0aW1lSW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkZWxheUlucHV0IiwidmFsdWUiLCJuZXdVc2VySWQiLCJoYW5kbGVTZXR0aW5nc1VwZGF0ZSIsInVuZGVmaW5lZCIsIm5ld1RpbWVzIiwibmV3RGVsYXkiLCJhY3Rpb25CdXR0b25GdW5jdGlvbnMiLCJ1cGRhdGVDb250cm9sVmFsdWVzIiwidGltZVZhbHVlIiwicGFyc2VJbnQiLCJpc05hTiIsImRlbGF5VmFsdWUiLCJpbml0aWFsaXplQ2FudmFzIiwiY2FudmFzIiwicGFyZW50IiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJlcnJvciIsImdldE1haW5DYW52YXMiLCJjdXJyZW50Iiwid2hpdGVTY3JlZW5DYW52YXMiLCJjYW52YXNFbGVtZW50IiwibWFrZUNhbnZhc0Z1bGxzY3JlZW4iLCJwYXJlbnRFbGVtZW50IiwiYm9keSIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiekluZGV4IiwiaW5uZXJIZWlnaHQiLCJyZXN0b3JlQ2FudmFzU2l6ZSIsImhhbmRsZVBlcm1pc3Npb25BY2NlcHRlZCIsImhhbmRsZVBlcm1pc3Npb25EZW5pZWQiLCJyZXN0b3JlQ2FudmFzIiwib3JpZ2luYWxQYXJlbnQiLCJvcmlnaW5hbFN0eWxlIiwiYXBwZW5kQ2hpbGQiLCJjbGVhckNhbnZhcyIsIndhcm4iLCJoYW5kbGVEb3RQcm9jZXNzIiwib3B0aW9ucyIsIm9uU3RhdHVzVXBkYXRlIiwidG9nZ2xlVG9wQmFyIiwidXNlUmFuZG9tUG9zaXRpb24iLCJwb3N0Q291bnRkb3duRGVsYXkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJFcnJvciIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiZG90UG9zaXRpb24iLCJ4IiwieSIsImRvdFJhZGl1cyIsImtlZXBEb3RWaXNpYmxlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImV4aXN0aW5nQ291bnRkb3ducyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjb3VudGRvd25FbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNzc1RleHQiLCJjb3VudCIsInRleHRDb250ZW50IiwiY2FwdHVyZVJlc3VsdCIsInBvaW50IiwiY2xlYXJJbnRlcnZhbCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwib3JpZ2luYWxDYW52YXNQYXJlbnQiLCJvcmlnaW5hbENhbnZhc1N0eWxlIiwic3RhdHVzSW5kaWNhdG9yIiwiY3VycmVudFJlZHJhd0ludGVydmFsIiwicG9pbnRzIiwibGVuZ3RoIiwic3VjY2Vzc0NvdW50IiwiaSIsInJhZGl1cyIsInJlZHJhd0N1cnJlbnREb3QiLCJzY3JlZW5JbWFnZSIsInBvc3NpYmxlUGFyZW50IiwiZSIsInBhcnNlZFRpbWUiLCJwYXJzZWREZWxheSIsImN1cnJlbnRJbmRleCIsInJlc3VsdCIsInN0YXR1cyIsInNob3ciLCJjYXB0dXJpbmciLCJzZXR1cENhbGlicmF0aW9uIiwiZGVmYXVsdCIsIkNhbGlicmF0ZUhhbmRsZXIiLCJjYWxpYnJhdGVIYW5kbGVyIiwic2V0T3V0cHV0VGV4dCIsIm5ld0NvdW50ZXIiLCJwcmV2IiwiY2FwdHVyZUZvbGRlciIsIm9uQ29tcGxldGUiLCJoYW5kbGVBY3Rpb24iLCJzdGFydENhbGlicmF0aW9uIiwiZXJyIiwiaGFuZGxlVG9nZ2xlSGVhZFBvc2UiLCJuZXdIZWFkUG9zZVN0YXRlIiwidmlkZW9Qcm9jZXNzb3IiLCJ1cGRhdGVPcHRpb25zIiwiaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3giLCJuZXdCb3VuZGluZ0JveFN0YXRlIiwiaGFuZGxlVG9nZ2xlTWFzayIsIm5ld01hc2tTdGF0ZSIsImhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMiLCJuZXdQYXJhbWV0ZXJzU3RhdGUiLCJoYW5kbGVUb2dnbGVDYW1lcmEiLCJuZXdDYW1lcmFTdGF0ZSIsImhhbmRsZUdvQmFjayIsInB1c2giLCJidXR0b25zIiwiZGl2aWRlciIsImZpbHRlciIsImIiLCJtYXAiLCJpbmRleCIsImhyIiwibWluSGVpZ2h0IiwiYm9yZGVyIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciLCJjb2xvciIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJwYWRkaW5nIiwiYm94U2hhZG93IiwiaDMiLCJtYXJnaW4iLCJwIiwibGluZUhlaWdodCIsImdhcCIsImN1cnNvciIsIkFjdGlvbkJ1dHRvbkdyb3VwIiwicHJvcHMiLCJzc3IiLCJBY3Rpb25CdXR0b25QYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/actionButton.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js":
/*!****************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/adminSettings.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AdminSettings),\n/* harmony export */   useAdminSettings: () => (/* binding */ useAdminSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst useAdminSettings = (ref)=>{\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isTopBarUpdated, setIsTopBarUpdated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const initialized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const pollingInterval = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Initialize polling for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const fetchSettings = {\n                \"useAdminSettings.useEffect.fetchSettings\": async ()=>{\n                    if (!currentUserId) return;\n                    try {\n                        const response = await fetch(`/api/data-center/settings/${currentUserId}`);\n                        if (!response.ok) throw new Error('Failed to fetch settings');\n                        const newSettings = await response.json();\n                        console.log('Fetched settings:', newSettings);\n                        setSettings({\n                            \"useAdminSettings.useEffect.fetchSettings\": (prev)=>({\n                                    ...prev,\n                                    [currentUserId]: newSettings\n                                })\n                        }[\"useAdminSettings.useEffect.fetchSettings\"]);\n                        // First update topBar through ref\n                        if (ref && ref.current) {\n                            if (ref.current.setCaptureSettings) {\n                                ref.current.setCaptureSettings(newSettings);\n                                setIsTopBarUpdated(true);\n                            }\n                        }\n                    } catch (error) {\n                        console.error('Error fetching settings:', error);\n                    }\n                }\n            }[\"useAdminSettings.useEffect.fetchSettings\"];\n            // Initial fetch\n            fetchSettings();\n            // Set up polling interval\n            pollingInterval.current = setInterval(fetchSettings, 3000);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>{\n                    if (pollingInterval.current) {\n                        clearInterval(pollingInterval.current);\n                    }\n                }\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId,\n        ref\n    ]);\n    // Effect to handle index.js update after topBar is updated\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (isTopBarUpdated) {\n                // Dispatch event to update index.js\n                const event = new CustomEvent('settingsUpdated', {\n                    detail: {\n                        type: 'settings',\n                        userId: currentUserId,\n                        settings: settings[currentUserId]\n                    }\n                });\n                window.dispatchEvent(event);\n                setIsTopBarUpdated(false);\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        isTopBarUpdated,\n        currentUserId,\n        settings\n    ]);\n    // Load settings from localStorage on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            try {\n                const savedSettings = localStorage.getItem('adminSettings');\n                if (savedSettings) {\n                    const parsedSettings = JSON.parse(savedSettings);\n                    setSettings(parsedSettings);\n                }\n            } catch (error) {\n                console.error('Error loading settings from localStorage:', error);\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], []);\n    // Save settings to localStorage when they change\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (initialized.current) {\n                try {\n                    localStorage.setItem('adminSettings', JSON.stringify(settings));\n                } catch (error) {\n                    console.error('Error saving settings to localStorage:', error);\n                }\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings\n    ]);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"useAdminSettings.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.userId) {\n                        setCurrentUserId(event.detail.userId);\n                        // Trigger immediate settings fetch for new user\n                        const fetchSettings = {\n                            \"useAdminSettings.useEffect.handleUserIdChange.fetchSettings\": async ()=>{\n                                try {\n                                    const response = await fetch(`/api/data-center/settings/${event.detail.userId}`);\n                                    if (!response.ok) throw new Error('Failed to fetch settings');\n                                    const newSettings = await response.json();\n                                    console.log('Fetched settings for new user:', newSettings);\n                                    setSettings({\n                                        \"useAdminSettings.useEffect.handleUserIdChange.fetchSettings\": (prev)=>({\n                                                ...prev,\n                                                [event.detail.userId]: newSettings\n                                            })\n                                    }[\"useAdminSettings.useEffect.handleUserIdChange.fetchSettings\"]);\n                                    if (ref && ref.current && ref.current.setCaptureSettings) {\n                                        ref.current.setCaptureSettings(newSettings);\n                                        setIsTopBarUpdated(true);\n                                    }\n                                } catch (error) {\n                                    console.error('Error fetching settings for new user:', error);\n                                }\n                            }\n                        }[\"useAdminSettings.useEffect.handleUserIdChange.fetchSettings\"];\n                        fetchSettings();\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        ref\n    ]);\n    // Listen for settings updates from admin page\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"useAdminSettings.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        if (times !== undefined || delay !== undefined) {\n                            const newSettings = {\n                                times: times !== undefined ? times : settings[userId]?.times || 1,\n                                delay: delay !== undefined ? delay : settings[userId]?.delay || 3\n                            };\n                            setSettings({\n                                \"useAdminSettings.useEffect.handleSettingsUpdate\": (prev)=>({\n                                        ...prev,\n                                        [userId]: newSettings\n                                    })\n                            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"]);\n                            // First update topBar through ref\n                            if (ref && ref.current) {\n                                if (ref.current.setCaptureSettings) {\n                                    ref.current.setCaptureSettings(newSettings);\n                                    setIsTopBarUpdated(true);\n                                }\n                            }\n                            // Save to backend\n                            const saveToBackend = {\n                                \"useAdminSettings.useEffect.handleSettingsUpdate.saveToBackend\": async ()=>{\n                                    try {\n                                        const response = await fetch(`/api/data-center/settings/${userId}`, {\n                                            method: 'POST',\n                                            headers: {\n                                                'Content-Type': 'application/json'\n                                            },\n                                            body: JSON.stringify(newSettings)\n                                        });\n                                        if (!response.ok) {\n                                            throw new Error('Failed to save settings to backend');\n                                        }\n                                        console.log('Settings saved to backend:', newSettings);\n                                    } catch (error) {\n                                        console.error('Error saving settings to backend:', error);\n                                    }\n                                }\n                            }[\"useAdminSettings.useEffect.handleSettingsUpdate.saveToBackend\"];\n                            saveToBackend();\n                        }\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings,\n        ref\n    ]);\n    const updateSettings = async (newSettings, userId)=>{\n        try {\n            if (!newSettings || typeof newSettings !== 'object') {\n                throw new Error('Invalid settings format');\n            }\n            const { times, delay } = newSettings;\n            if (typeof times !== 'number' || typeof delay !== 'number' || times < 1 || delay < 1) {\n                throw new Error('Invalid settings values');\n            }\n            const updatedSettings = {\n                ...settings,\n                [userId]: {\n                    times,\n                    delay\n                }\n            };\n            setSettings(updatedSettings);\n            initialized.current = true;\n            // Save settings to backend\n            const response = await fetch(`/api/data-center/settings/${userId}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    times,\n                    delay\n                })\n            });\n            if (!response.ok) {\n                throw new Error('Failed to save settings to backend');\n            }\n            console.log('Settings updated and saved:', {\n                userId,\n                times,\n                delay\n            });\n            // First update topBar through ref\n            if (ref && ref.current) {\n                if (ref.current.setCaptureSettings) {\n                    ref.current.setCaptureSettings({\n                        times,\n                        delay\n                    });\n                    setIsTopBarUpdated(true);\n                }\n            }\n        } catch (error) {\n            console.error('Error updating settings:', error);\n            throw error;\n        }\n    };\n    return {\n        settings,\n        updateSettings\n    };\n};\n// Add default export component\nfunction AdminSettings() {\n    return null; // This is a utility file, so we don't need to render anything\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvYWRtaW5TZXR0aW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9EO0FBRTdDLE1BQU1HLG1CQUFtQixDQUFDQztJQUMvQixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR0osK0NBQVFBLENBQUMsQ0FBQztJQUMxQyxNQUFNLENBQUNLLGVBQWVDLGlCQUFpQixHQUFHTiwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNPLGlCQUFpQkMsbUJBQW1CLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1TLGNBQWNWLDZDQUFNQSxDQUFDO0lBQzNCLE1BQU1XLGtCQUFrQlgsNkNBQU1BLENBQUM7SUFFL0IsMENBQTBDO0lBQzFDRCxnREFBU0E7c0NBQUM7WUFDUixNQUFNYTs0REFBZ0I7b0JBQ3BCLElBQUksQ0FBQ04sZUFBZTtvQkFFcEIsSUFBSTt3QkFDRixNQUFNTyxXQUFXLE1BQU1DLE1BQU0sQ0FBQywwQkFBMEIsRUFBRVIsZUFBZTt3QkFDekUsSUFBSSxDQUFDTyxTQUFTRSxFQUFFLEVBQUUsTUFBTSxJQUFJQyxNQUFNO3dCQUVsQyxNQUFNQyxjQUFjLE1BQU1KLFNBQVNLLElBQUk7d0JBQ3ZDQyxRQUFRQyxHQUFHLENBQUMscUJBQXFCSDt3QkFDakNaO3dFQUFZZ0IsQ0FBQUEsT0FBUztvQ0FDbkIsR0FBR0EsSUFBSTtvQ0FDUCxDQUFDZixjQUFjLEVBQUVXO2dDQUNuQjs7d0JBRUEsa0NBQWtDO3dCQUNsQyxJQUFJZCxPQUFPQSxJQUFJbUIsT0FBTyxFQUFFOzRCQUN0QixJQUFJbkIsSUFBSW1CLE9BQU8sQ0FBQ0Msa0JBQWtCLEVBQUU7Z0NBQ2xDcEIsSUFBSW1CLE9BQU8sQ0FBQ0Msa0JBQWtCLENBQUNOO2dDQUMvQlIsbUJBQW1COzRCQUNyQjt3QkFDRjtvQkFDRixFQUFFLE9BQU9lLE9BQU87d0JBQ2RMLFFBQVFLLEtBQUss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LElBQUltQixPQUFPLENBQUNDLGtCQUFrQixDQUFDO3dCQUFFdUI7d0JBQU9DO29CQUFNO29CQUM5Q3RDLG1CQUFtQjtnQkFDckI7WUFDRjtRQUVGLEVBQUUsT0FBT2UsT0FBTztZQUNkTCxRQUFRSyxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxPQUFPO1FBQUVwQjtRQUFVaUQ7SUFBZTtBQUNwQyxFQUFFO0FBRUYsK0JBQStCO0FBQ2hCLFNBQVNFO0lBQ3RCLE9BQU8sTUFBTSw4REFBOEQ7QUFDN0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2NvbXBvbmVudHMtZ3VpL2FkbWluU2V0dGluZ3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgY29uc3QgdXNlQWRtaW5TZXR0aW5ncyA9IChyZWYpID0+IHtcbiAgY29uc3QgW3NldHRpbmdzLCBzZXRTZXR0aW5nc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNUb3BCYXJVcGRhdGVkLCBzZXRJc1RvcEJhclVwZGF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBpbml0aWFsaXplZCA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHBvbGxpbmdJbnRlcnZhbCA9IHVzZVJlZihudWxsKTtcblxuICAvLyBJbml0aWFsaXplIHBvbGxpbmcgZm9yIHNldHRpbmdzIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFNldHRpbmdzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50VXNlcklkKSByZXR1cm47XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHtjdXJyZW50VXNlcklkfWApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzZXR0aW5ncycpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIHNldHRpbmdzOicsIG5ld1NldHRpbmdzKTtcbiAgICAgICAgc2V0U2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgW2N1cnJlbnRVc2VySWRdOiBuZXdTZXR0aW5nc1xuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGaXJzdCB1cGRhdGUgdG9wQmFyIHRocm91Z2ggcmVmXG4gICAgICAgIGlmIChyZWYgJiYgcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBpZiAocmVmLmN1cnJlbnQuc2V0Q2FwdHVyZVNldHRpbmdzKSB7XG4gICAgICAgICAgICByZWYuY3VycmVudC5zZXRDYXB0dXJlU2V0dGluZ3MobmV3U2V0dGluZ3MpO1xuICAgICAgICAgICAgc2V0SXNUb3BCYXJVcGRhdGVkKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBJbml0aWFsIGZldGNoXG4gICAgZmV0Y2hTZXR0aW5ncygpO1xuXG4gICAgLy8gU2V0IHVwIHBvbGxpbmcgaW50ZXJ2YWxcbiAgICBwb2xsaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKGZldGNoU2V0dGluZ3MsIDMwMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwb2xsaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHBvbGxpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbY3VycmVudFVzZXJJZCwgcmVmXSk7XG5cbiAgLy8gRWZmZWN0IHRvIGhhbmRsZSBpbmRleC5qcyB1cGRhdGUgYWZ0ZXIgdG9wQmFyIGlzIHVwZGF0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNUb3BCYXJVcGRhdGVkKSB7XG4gICAgICAvLyBEaXNwYXRjaCBldmVudCB0byB1cGRhdGUgaW5kZXguanNcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzZXR0aW5nc1VwZGF0ZWQnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdzZXR0aW5ncycsXG4gICAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlcklkLFxuICAgICAgICAgIHNldHRpbmdzOiBzZXR0aW5nc1tjdXJyZW50VXNlcklkXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHNldElzVG9wQmFyVXBkYXRlZChmYWxzZSk7XG4gICAgfVxuICB9LCBbaXNUb3BCYXJVcGRhdGVkLCBjdXJyZW50VXNlcklkLCBzZXR0aW5nc10pO1xuXG4gIC8vIExvYWQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2F2ZWRTZXR0aW5ncyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhZG1pblNldHRpbmdzJyk7XG4gICAgICBpZiAoc2F2ZWRTZXR0aW5ncykge1xuICAgICAgICBjb25zdCBwYXJzZWRTZXR0aW5ncyA9IEpTT04ucGFyc2Uoc2F2ZWRTZXR0aW5ncyk7XG4gICAgICAgIHNldFNldHRpbmdzKHBhcnNlZFNldHRpbmdzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gU2F2ZSBzZXR0aW5ncyB0byBsb2NhbFN0b3JhZ2Ugd2hlbiB0aGV5IGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZC5jdXJyZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWRtaW5TZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgc2V0dGluZ3MgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzZXR0aW5nc10pO1xuXG4gIC8vIExpc3RlbiBmb3IgdXNlciBJRCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlVXNlcklkQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC51c2VySWQpIHtcbiAgICAgICAgc2V0Q3VycmVudFVzZXJJZChldmVudC5kZXRhaWwudXNlcklkKTtcbiAgICAgICAgLy8gVHJpZ2dlciBpbW1lZGlhdGUgc2V0dGluZ3MgZmV0Y2ggZm9yIG5ldyB1c2VyXG4gICAgICAgIGNvbnN0IGZldGNoU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHtldmVudC5kZXRhaWwudXNlcklkfWApO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBzZXR0aW5ncyBmb3IgbmV3IHVzZXI6JywgbmV3U2V0dGluZ3MpO1xuICAgICAgICAgICAgc2V0U2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICBbZXZlbnQuZGV0YWlsLnVzZXJJZF06IG5ld1NldHRpbmdzXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZWYgJiYgcmVmLmN1cnJlbnQgJiYgcmVmLmN1cnJlbnQuc2V0Q2FwdHVyZVNldHRpbmdzKSB7XG4gICAgICAgICAgICAgIHJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgICAgIHNldElzVG9wQmFyVXBkYXRlZCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3MgZm9yIG5ldyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZldGNoU2V0dGluZ3MoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtyZWZdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXMgZnJvbSBhZG1pbiBwYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU2V0dGluZ3NVcGRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICdjYXB0dXJlU2V0dGluZ3MnKSB7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkLCB0aW1lcywgZGVsYXkgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgaWYgKHRpbWVzICE9PSB1bmRlZmluZWQgfHwgZGVsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0ge1xuICAgICAgICAgICAgdGltZXM6IHRpbWVzICE9PSB1bmRlZmluZWQgPyB0aW1lcyA6IChzZXR0aW5nc1t1c2VySWRdPy50aW1lcyB8fCAxKSxcbiAgICAgICAgICAgIGRlbGF5OiBkZWxheSAhPT0gdW5kZWZpbmVkID8gZGVsYXkgOiAoc2V0dGluZ3NbdXNlcklkXT8uZGVsYXkgfHwgMylcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2V0U2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIFt1c2VySWRdOiBuZXdTZXR0aW5nc1xuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIC8vIEZpcnN0IHVwZGF0ZSB0b3BCYXIgdGhyb3VnaCByZWZcbiAgICAgICAgICBpZiAocmVmICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAocmVmLmN1cnJlbnQuc2V0Q2FwdHVyZVNldHRpbmdzKSB7XG4gICAgICAgICAgICAgIHJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgICAgIHNldElzVG9wQmFyVXBkYXRlZCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTYXZlIHRvIGJhY2tlbmRcbiAgICAgICAgICBjb25zdCBzYXZlVG9CYWNrZW5kID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3VzZXJJZH1gLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5ld1NldHRpbmdzKVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzZXR0aW5ncyB0byBiYWNrZW5kJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmdzIHNhdmVkIHRvIGJhY2tlbmQ6JywgbmV3U2V0dGluZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHNldHRpbmdzIHRvIGJhY2tlbmQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgc2F2ZVRvQmFja2VuZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgfTtcbiAgfSwgW3NldHRpbmdzLCByZWZdKTtcblxuICBjb25zdCB1cGRhdGVTZXR0aW5ncyA9IGFzeW5jIChuZXdTZXR0aW5ncywgdXNlcklkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghbmV3U2V0dGluZ3MgfHwgdHlwZW9mIG5ld1NldHRpbmdzICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2V0dGluZ3MgZm9ybWF0Jyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgdGltZXMsIGRlbGF5IH0gPSBuZXdTZXR0aW5ncztcbiAgICAgIGlmICh0eXBlb2YgdGltZXMgIT09ICdudW1iZXInIHx8IHR5cGVvZiBkZWxheSAhPT0gJ251bWJlcicgfHwgdGltZXMgPCAxIHx8IGRlbGF5IDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2V0dGluZ3MgdmFsdWVzJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHtcbiAgICAgICAgLi4uc2V0dGluZ3MsXG4gICAgICAgIFt1c2VySWRdOiB7XG4gICAgICAgICAgdGltZXMsXG4gICAgICAgICAgZGVsYXlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2V0U2V0dGluZ3ModXBkYXRlZFNldHRpbmdzKTtcbiAgICAgIGluaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlO1xuXG4gICAgICAvLyBTYXZlIHNldHRpbmdzIHRvIGJhY2tlbmRcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHt1c2VySWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGltZXMsIGRlbGF5IH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHNldHRpbmdzIHRvIGJhY2tlbmQnKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5ncyB1cGRhdGVkIGFuZCBzYXZlZDonLCB7IHVzZXJJZCwgdGltZXMsIGRlbGF5IH0pO1xuXG4gICAgICAvLyBGaXJzdCB1cGRhdGUgdG9wQmFyIHRocm91Z2ggcmVmXG4gICAgICBpZiAocmVmICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICAgIGlmIChyZWYuY3VycmVudC5zZXRDYXB0dXJlU2V0dGluZ3MpIHtcbiAgICAgICAgICByZWYuY3VycmVudC5zZXRDYXB0dXJlU2V0dGluZ3MoeyB0aW1lcywgZGVsYXkgfSk7XG4gICAgICAgICAgc2V0SXNUb3BCYXJVcGRhdGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7IHNldHRpbmdzLCB1cGRhdGVTZXR0aW5ncyB9O1xufTtcblxuLy8gQWRkIGRlZmF1bHQgZXhwb3J0IGNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRtaW5TZXR0aW5ncygpIHtcbiAgcmV0dXJuIG51bGw7IC8vIFRoaXMgaXMgYSB1dGlsaXR5IGZpbGUsIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVuZGVyIGFueXRoaW5nXG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQWRtaW5TZXR0aW5ncyIsInJlZiIsInNldHRpbmdzIiwic2V0U2V0dGluZ3MiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImlzVG9wQmFyVXBkYXRlZCIsInNldElzVG9wQmFyVXBkYXRlZCIsImluaXRpYWxpemVkIiwicG9sbGluZ0ludGVydmFsIiwiZmV0Y2hTZXR0aW5ncyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwibmV3U2V0dGluZ3MiLCJqc29uIiwiY29uc29sZSIsImxvZyIsInByZXYiLCJjdXJyZW50Iiwic2V0Q2FwdHVyZVNldHRpbmdzIiwiZXJyb3IiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwidHlwZSIsInVzZXJJZCIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJzYXZlZFNldHRpbmdzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlZFNldHRpbmdzIiwiSlNPTiIsInBhcnNlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImhhbmRsZVVzZXJJZENoYW5nZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlU2V0dGluZ3NVcGRhdGUiLCJ0aW1lcyIsImRlbGF5IiwidW5kZWZpbmVkIiwic2F2ZVRvQmFja2VuZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwidXBkYXRlU2V0dGluZ3MiLCJ1cGRhdGVkU2V0dGluZ3MiLCJBZG1pblNldHRpbmdzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js":
/*!******************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/displayResponse.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst DisplayResponse = ({ width, height, distance, isVisible = true })=>{\n    // Animation state for visibility transitions\n    const [animationState, setAnimationState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isVisible ? 'visible' : 'hidden');\n    // Update animation state when visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DisplayResponse.useEffect\": ()=>{\n            setAnimationState(isVisible ? 'visible' : 'hidden');\n        }\n    }[\"DisplayResponse.useEffect\"], [\n        isVisible\n    ]);\n    // Format values with units and handle missing values\n    const formattedWidth = width || '---';\n    const formattedHeight = height || '---';\n    const formattedDistance = distance || '---';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `metrics-display ${animationState}`,\n        style: {\n            position: 'absolute',\n            right: '20px',\n            top: '80px',\n            backgroundColor: 'rgba(0, 102, 204, 0.8)',\n            color: 'white',\n            padding: '10px 15px',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontFamily: 'monospace',\n            boxShadow: '0 2px 10px rgba(0, 0, 0, 0.3)',\n            transition: 'all 0.3s ease',\n            opacity: animationState === 'visible' ? 1 : 0,\n            transform: animationState === 'visible' ? 'translateX(0)' : 'translateX(50px)',\n            pointerEvents: animationState === 'visible' ? 'auto' : 'none',\n            zIndex: 100\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"metrics-header\",\n                style: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    marginBottom: '8px',\n                    borderBottom: '1px solid rgba(255, 255, 255, 0.3)',\n                    paddingBottom: '5px'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        style: {\n                            fontWeight: 'bold'\n                        },\n                        children: \"Display Metrics\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"metrics-indicator\",\n                        style: {\n                            width: '10px',\n                            height: '10px',\n                            borderRadius: '50%',\n                            backgroundColor: '#00ff00',\n                            boxShadow: '0 0 5px rgba(0, 255, 0, 0.8)'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 52,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"metrics-content\",\n                style: {\n                    lineHeight: '1.5'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Width:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 69,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedWidth\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 70,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" pixels\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 71,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 68,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Height:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 74,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedHeight\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 75,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" pixels\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 76,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 73,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    display: 'inline-block',\n                                    width: '80px'\n                                },\n                                children: \"Distance:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 79,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    fontWeight: 'bold'\n                                },\n                                children: formattedDistance\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 80,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                style: {\n                                    opacity: 0.8,\n                                    fontSize: '12px'\n                                },\n                                children: \" cm\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                                lineNumber: 81,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                        lineNumber: 78,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n                lineNumber: 64,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/displayResponse.js\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DisplayResponse);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRDtBQUVuRCxNQUFNRyxrQkFBa0IsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxZQUFZLElBQUksRUFBRTtJQUNwRSw2Q0FBNkM7SUFDN0MsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHUiwrQ0FBUUEsQ0FBQ00sWUFBWSxZQUFZO0lBRTdFLGlEQUFpRDtJQUNqREwsZ0RBQVNBO3FDQUFDO1lBQ1JPLGtCQUFrQkYsWUFBWSxZQUFZO1FBQzVDO29DQUFHO1FBQUNBO0tBQVU7SUFFZCxxREFBcUQ7SUFDckQsTUFBTUcsaUJBQWlCTixTQUFTO0lBQ2hDLE1BQU1PLGtCQUFrQk4sVUFBVTtJQUNsQyxNQUFNTyxvQkFBb0JOLFlBQVk7SUFFdEMscUJBQ0UsOERBQUNPO1FBQ0NDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRU4sZ0JBQWdCO1FBQzlDTyxPQUFPO1lBQ0xDLFVBQVU7WUFDVkMsT0FBTztZQUNQQyxLQUFLO1lBQ0xDLGlCQUFpQjtZQUNqQkMsT0FBTztZQUNQQyxTQUFTO1lBQ1RDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxZQUFZO1lBQ1pDLFdBQVc7WUFDWEMsWUFBWTtZQUNaQyxTQUFTbkIsbUJBQW1CLFlBQVksSUFBSTtZQUM1Q29CLFdBQVdwQixtQkFBbUIsWUFDMUIsa0JBQ0E7WUFDSnFCLGVBQWVyQixtQkFBbUIsWUFBWSxTQUFTO1lBQ3ZEc0IsUUFBUTtRQUNWOzswQkFFQSw4REFBQ2pCO2dCQUNDQyxXQUFVO2dCQUNWQyxPQUFPO29CQUNMZ0IsU0FBUztvQkFDVEMsZ0JBQWdCO29CQUNoQkMsWUFBWTtvQkFDWkMsY0FBYztvQkFDZEMsY0FBYztvQkFDZEMsZUFBZTtnQkFDakI7O2tDQUVBLDhEQUFDQzt3QkFBS3RCLE9BQU87NEJBQUV1QixZQUFZO3dCQUFPO2tDQUFHOzs7Ozs7a0NBQ3JDLDhEQUFDekI7d0JBQ0NDLFdBQVU7d0JBQ1ZDLE9BQU87NEJBQ0xYLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JpQixjQUFjOzRCQUNkSCxpQkFBaUI7NEJBQ2pCTSxXQUFXO3dCQUNiOzs7Ozs7Ozs7Ozs7MEJBSUosOERBQUNaO2dCQUNDQyxXQUFVO2dCQUNWQyxPQUFPO29CQUFFd0IsWUFBWTtnQkFBTTs7a0NBRTNCLDhEQUFDQzs7MENBQ0MsOERBQUNIO2dDQUFLdEIsT0FBTztvQ0FBRWdCLFNBQVM7b0NBQWdCM0IsT0FBTztnQ0FBTzswQ0FBRzs7Ozs7OzBDQUN6RCw4REFBQ2lDO2dDQUFLdEIsT0FBTztvQ0FBRXVCLFlBQVk7Z0NBQU87MENBQUk1Qjs7Ozs7OzBDQUN0Qyw4REFBQzJCO2dDQUFLdEIsT0FBTztvQ0FBRVksU0FBUztvQ0FBS0osVUFBVTtnQ0FBTzswQ0FBRzs7Ozs7Ozs7Ozs7O2tDQUVuRCw4REFBQ2lCOzswQ0FDQyw4REFBQ0g7Z0NBQUt0QixPQUFPO29DQUFFZ0IsU0FBUztvQ0FBZ0IzQixPQUFPO2dDQUFPOzBDQUFHOzs7Ozs7MENBQ3pELDhEQUFDaUM7Z0NBQUt0QixPQUFPO29DQUFFdUIsWUFBWTtnQ0FBTzswQ0FBSTNCOzs7Ozs7MENBQ3RDLDhEQUFDMEI7Z0NBQUt0QixPQUFPO29DQUFFWSxTQUFTO29DQUFLSixVQUFVO2dDQUFPOzBDQUFHOzs7Ozs7Ozs7Ozs7a0NBRW5ELDhEQUFDaUI7OzBDQUNDLDhEQUFDSDtnQ0FBS3RCLE9BQU87b0NBQUVnQixTQUFTO29DQUFnQjNCLE9BQU87Z0NBQU87MENBQUc7Ozs7OzswQ0FDekQsOERBQUNpQztnQ0FBS3RCLE9BQU87b0NBQUV1QixZQUFZO2dDQUFPOzBDQUFJMUI7Ozs7OzswQ0FDdEMsOERBQUN5QjtnQ0FBS3RCLE9BQU87b0NBQUVZLFNBQVM7b0NBQUtKLFVBQVU7Z0NBQU87MENBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUszRDtBQUVBLGlFQUFlcEIsZUFBZUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBEaXNwbGF5UmVzcG9uc2UgPSAoeyB3aWR0aCwgaGVpZ2h0LCBkaXN0YW5jZSwgaXNWaXNpYmxlID0gdHJ1ZSB9KSA9PiB7XG4gIC8vIEFuaW1hdGlvbiBzdGF0ZSBmb3IgdmlzaWJpbGl0eSB0cmFuc2l0aW9uc1xuICBjb25zdCBbYW5pbWF0aW9uU3RhdGUsIHNldEFuaW1hdGlvblN0YXRlXSA9IHVzZVN0YXRlKGlzVmlzaWJsZSA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nKTtcbiAgXG4gIC8vIFVwZGF0ZSBhbmltYXRpb24gc3RhdGUgd2hlbiB2aXNpYmlsaXR5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRBbmltYXRpb25TdGF0ZShpc1Zpc2libGUgPyAndmlzaWJsZScgOiAnaGlkZGVuJyk7XG4gIH0sIFtpc1Zpc2libGVdKTtcbiAgXG4gIC8vIEZvcm1hdCB2YWx1ZXMgd2l0aCB1bml0cyBhbmQgaGFuZGxlIG1pc3NpbmcgdmFsdWVzXG4gIGNvbnN0IGZvcm1hdHRlZFdpZHRoID0gd2lkdGggfHwgJy0tLSc7XG4gIGNvbnN0IGZvcm1hdHRlZEhlaWdodCA9IGhlaWdodCB8fCAnLS0tJztcbiAgY29uc3QgZm9ybWF0dGVkRGlzdGFuY2UgPSBkaXN0YW5jZSB8fCAnLS0tJztcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIGNsYXNzTmFtZT17YG1ldHJpY3MtZGlzcGxheSAke2FuaW1hdGlvblN0YXRlfWB9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgcmlnaHQ6ICcyMHB4JyxcbiAgICAgICAgdG9wOiAnODBweCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMTAyLCAyMDQsIDAuOCknLFxuICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgcGFkZGluZzogJzEwcHggMTVweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLFxuICAgICAgICBib3hTaGFkb3c6ICcwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKScsXG4gICAgICAgIHRyYW5zaXRpb246ICdhbGwgMC4zcyBlYXNlJyxcbiAgICAgICAgb3BhY2l0eTogYW5pbWF0aW9uU3RhdGUgPT09ICd2aXNpYmxlJyA/IDEgOiAwLFxuICAgICAgICB0cmFuc2Zvcm06IGFuaW1hdGlvblN0YXRlID09PSAndmlzaWJsZScgXG4gICAgICAgICAgPyAndHJhbnNsYXRlWCgwKScgXG4gICAgICAgICAgOiAndHJhbnNsYXRlWCg1MHB4KScsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IGFuaW1hdGlvblN0YXRlID09PSAndmlzaWJsZScgPyAnYXV0bycgOiAnbm9uZScsXG4gICAgICAgIHpJbmRleDogMTAwXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cIm1ldHJpY3MtaGVhZGVyXCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuICAgICAgICAgIHBhZGRpbmdCb3R0b206ICc1cHgnXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5EaXNwbGF5IE1ldHJpY3M8L3NwYW4+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwibWV0cmljcy1pbmRpY2F0b3JcIlxuICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgd2lkdGg6ICcxMHB4JywgXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMHB4JywgXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLCBcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMGZmMDAnLFxuICAgICAgICAgICAgYm94U2hhZG93OiAnMCAwIDVweCByZ2JhKDAsIDI1NSwgMCwgMC44KSdcbiAgICAgICAgICB9fSBcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJtZXRyaWNzLWNvbnRlbnRcIlxuICAgICAgICBzdHlsZT17eyBsaW5lSGVpZ2h0OiAnMS41JyB9fVxuICAgICAgPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgd2lkdGg6ICc4MHB4JyB9fT5XaWR0aDo8L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT57Zm9ybWF0dGVkV2lkdGh9PC9zcGFuPiBcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBvcGFjaXR5OiAwLjgsIGZvbnRTaXplOiAnMTJweCcgfX0+IHBpeGVsczwvc3Bhbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgd2lkdGg6ICc4MHB4JyB9fT5IZWlnaHQ6PC9zcGFuPiBcbiAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250V2VpZ2h0OiAnYm9sZCcgfX0+e2Zvcm1hdHRlZEhlaWdodH08L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG9wYWNpdHk6IDAuOCwgZm9udFNpemU6ICcxMnB4JyB9fT4gcGl4ZWxzPC9zcGFuPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCB3aWR0aDogJzgwcHgnIH19PkRpc3RhbmNlOjwvc3Bhbj4gXG4gICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFdlaWdodDogJ2JvbGQnIH19Pntmb3JtYXR0ZWREaXN0YW5jZX08L3NwYW4+IFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG9wYWNpdHk6IDAuOCwgZm9udFNpemU6ICcxMnB4JyB9fT4gY208L3NwYW4+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGlzcGxheVJlc3BvbnNlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRGlzcGxheVJlc3BvbnNlIiwid2lkdGgiLCJoZWlnaHQiLCJkaXN0YW5jZSIsImlzVmlzaWJsZSIsImFuaW1hdGlvblN0YXRlIiwic2V0QW5pbWF0aW9uU3RhdGUiLCJmb3JtYXR0ZWRXaWR0aCIsImZvcm1hdHRlZEhlaWdodCIsImZvcm1hdHRlZERpc3RhbmNlIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJwb3NpdGlvbiIsInJpZ2h0IiwidG9wIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiYm94U2hhZG93IiwidHJhbnNpdGlvbiIsIm9wYWNpdHkiLCJ0cmFuc2Zvcm0iLCJwb2ludGVyRXZlbnRzIiwiekluZGV4IiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIm1hcmdpbkJvdHRvbSIsImJvcmRlckJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJzcGFuIiwiZm9udFdlaWdodCIsImxpbmVIZWlnaHQiLCJwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js":
/*!*********************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/topBar.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _adminSettings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./adminSettings */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/adminSettings.js\");\n\n\n\n\n\nconst TopBar = ({ onButtonClick, onCameraAccess, outputText, onOutputChange, onToggleTopBar, onToggleMetrics, canvasRef, isTopBarShown = true, isCanvasVisible = true })=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [canvasStatus, setCanvasStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(isCanvasVisible);\n    const { settings, updateSettings } = (0,_adminSettings__WEBPACK_IMPORTED_MODULE_4__.useAdminSettings)();\n    const [currentSettings, setCurrentSettings] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        times: 1,\n        delay: 3\n    });\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Update canvas status when prop changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            setCanvasStatus(isCanvasVisible);\n        }\n    }[\"TopBar.useEffect\"], [\n        isCanvasVisible\n    ]);\n    // Listen for user ID changes and immediately fetch settings\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"TopBar.useEffect.handleUserIdChange\": async (event)=>{\n                    if (event.detail && event.detail.userId) {\n                        console.log('User ID changed:', event.detail.userId);\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        // Immediately fetch settings for the new user\n                        try {\n                            const response = await fetch(`/api/data-center/settings/${newUserId}`);\n                            if (!response.ok) throw new Error('Failed to fetch settings');\n                            const userSettings = await response.json();\n                            console.log('Fetched settings for new user:', userSettings);\n                            setCurrentSettings(userSettings);\n                            // Also update through the settings context\n                            if (updateSettings) {\n                                await updateSettings(userSettings, newUserId);\n                            }\n                        } catch (error) {\n                            console.error('Error fetching settings for new user:', error);\n                        }\n                    }\n                }\n            }[\"TopBar.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"TopBar.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"TopBar.useEffect\"];\n        }\n    }[\"TopBar.useEffect\"], [\n        updateSettings\n    ]);\n    // Update settings when they change in the context\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            if (settings && currentUserId) {\n                console.log('Settings context updated for user:', currentUserId, settings[currentUserId]);\n                const userSettings = settings[currentUserId];\n                if (userSettings) {\n                    setCurrentSettings(userSettings);\n                }\n            }\n        }\n    }[\"TopBar.useEffect\"], [\n        settings,\n        currentUserId\n    ]);\n    // Listen for settings updates from admin page\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"TopBar.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"TopBar.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        console.log('Received settings update:', {\n                            userId,\n                            times,\n                            delay\n                        });\n                        if (userId === currentUserId) {\n                            console.log('Updating settings for current user:', userId);\n                            console.log('Current settings before update:', currentSettings);\n                            const newSettings = {\n                                times: times !== undefined ? times : currentSettings.times,\n                                delay: delay !== undefined ? delay : currentSettings.delay\n                            };\n                            setCurrentSettings(newSettings);\n                            // Save to backend\n                            const saveToBackend = {\n                                \"TopBar.useEffect.handleSettingsUpdate.saveToBackend\": async ()=>{\n                                    try {\n                                        const response = await fetch(`/api/data-center/settings/${userId}`, {\n                                            method: 'POST',\n                                            headers: {\n                                                'Content-Type': 'application/json'\n                                            },\n                                            body: JSON.stringify(newSettings)\n                                        });\n                                        if (!response.ok) {\n                                            throw new Error('Failed to save settings to backend');\n                                        }\n                                        console.log('Settings saved to backend:', newSettings);\n                                    } catch (error) {\n                                        console.error('Error saving settings to backend:', error);\n                                    }\n                                }\n                            }[\"TopBar.useEffect.handleSettingsUpdate.saveToBackend\"];\n                            saveToBackend();\n                        }\n                    }\n                }\n            }[\"TopBar.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"TopBar.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"TopBar.useEffect\"];\n        }\n    }[\"TopBar.useEffect\"], [\n        currentUserId,\n        currentSettings\n    ]);\n    // Handle settings change\n    const handleSettingsChange = async (newSettings)=>{\n        try {\n            if (currentUserId) {\n                console.log('Updating settings for user:', currentUserId, newSettings);\n                await updateSettings(newSettings, currentUserId);\n                setCurrentSettings(newSettings);\n            }\n        } catch (error) {\n            console.error('Error updating settings:', error);\n        }\n    };\n    const handleButtonClick = (actionType)=>{\n        if (onButtonClick) {\n            onButtonClick(actionType);\n        }\n    };\n    const handleToggleTopBar = ()=>{\n        onToggleTopBar(!isTopBarShown);\n    };\n    const handleToggleMetrics = ()=>{\n        onToggleMetrics();\n    };\n    const handleGoBack = ()=>{\n        router.push('/');\n    };\n    const statusMessage = `TopBar ${isTopBarShown ? 'shown' : 'hidden'}, Canvas: ${canvasStatus ? 'Visible' : 'Hidden'}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-8fd840df60237147\" + \" \" + \"topbar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-left\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"logo\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"logo-text\",\n                            children: \"Logo\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 153,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 152,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"controls-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"control-group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-label\",\n                                        children: \"Time(s):\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 158,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-input\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"control-input-field\",\n                                            children: currentSettings.times\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 160,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 159,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 157,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"control-group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-label\",\n                                        children: \"Delay(s):\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 165,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-input\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"control-input-field\",\n                                            children: currentSettings.delay\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 167,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                        lineNumber: 166,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 164,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 156,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 151,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-middle\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-groups\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"button-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleGoBack,\n                                            title: \"Go back to home page\",\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn back-button\",\n                                            children: \"← Back\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 177,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('setRandom'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Set Random\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 185,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('calibrate'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Set Calibrate\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 191,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 176,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginRight: '80px'\n                                    },\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('randomDot'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Random Dot\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 200,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('clearAll'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Clear All\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 206,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 199,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 175,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-divider\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 215,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"button-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('headPose'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Draw Head pose\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 219,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('boundingBox'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Show Bounding Box\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 225,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 218,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"button-row\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('preview'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Show Preview\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 234,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('mask'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"\\uD83D\\uDE0A Show Mask\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 240,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleButtonClick('parameters'),\n                                            className: \"jsx-8fd840df60237147\" + \" \" + \"btn\",\n                                            children: \"Parameters\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                            lineNumber: 246,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 233,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 217,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                    lineNumber: 174,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 173,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-8fd840df60237147\" + \" \" + \"topbar-right\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"notes-container\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            title: \"Processing Output\",\n                            className: \"jsx-8fd840df60237147\" + \" \" + \"output-display\",\n                            children: [\n                                statusMessage,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {\n                                    className: \"jsx-8fd840df60237147\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 264,\n                                    columnNumber: 13\n                                }, undefined),\n                                outputText || \"Processing output will appear here...\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                            lineNumber: 259,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 258,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-8fd840df60237147\" + \" \" + \"control-buttons\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleToggleTopBar,\n                                title: \"Toggle TopBar\",\n                                style: {\n                                    padding: '5px 10px',\n                                    backgroundColor: '#0066cc',\n                                    color: 'white',\n                                    border: 'none',\n                                    borderRadius: '4px',\n                                    fontSize: '16px',\n                                    cursor: 'pointer',\n                                    marginRight: '5px'\n                                },\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"icon-btn menu-btn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"icon-text\",\n                                    children: \"≡\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 285,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 270,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleToggleMetrics,\n                                title: \"Toggle Metrics\",\n                                style: {\n                                    padding: '5px 10px',\n                                    backgroundColor: '#ff9900',\n                                    color: 'white',\n                                    border: 'none',\n                                    borderRadius: '4px',\n                                    fontSize: '16px',\n                                    cursor: 'pointer'\n                                },\n                                className: \"jsx-8fd840df60237147\" + \" \" + \"icon-btn alert-btn\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"jsx-8fd840df60237147\" + \" \" + \"icon-text\",\n                                    children: \"!\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                    lineNumber: 302,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                                lineNumber: 288,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                        lineNumber: 269,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n                lineNumber: 257,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"8fd840df60237147\",\n                children: \".active-toggle.jsx-8fd840df60237147{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2);-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.icon-btn.jsx-8fd840df60237147{-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.icon-btn.jsx-8fd840df60237147:hover{opacity:.8}\"\n            }, void 0, false, void 0, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/topBar.js\",\n        lineNumber: 150,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TopBar);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvdG9wQmFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFtRDtBQUNYO0FBQ1c7QUFFbkQsTUFBTUssU0FBUyxDQUFDLEVBQ2RDLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxVQUFVLEVBQ1ZDLGNBQWMsRUFDZEMsY0FBYyxFQUNkQyxlQUFlLEVBQ2ZDLFNBQVMsRUFDVEMsZ0JBQWdCLElBQUksRUFDcEJDLGtCQUFrQixJQUFJLEVBQ3ZCO0lBQ0MsTUFBTUMsU0FBU1osc0RBQVNBO0lBQ3hCLE1BQU0sQ0FBQ2EsY0FBY0MsZ0JBQWdCLEdBQUdoQiwrQ0FBUUEsQ0FBQ2E7SUFDakQsTUFBTSxFQUFFSSxRQUFRLEVBQUVDLGNBQWMsRUFBRSxHQUFHZixnRUFBZ0JBO0lBQ3JELE1BQU0sQ0FBQ2dCLGlCQUFpQkMsbUJBQW1CLEdBQUdwQiwrQ0FBUUEsQ0FBQztRQUFFcUIsT0FBTztRQUFHQyxPQUFPO0lBQUU7SUFDNUUsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR3hCLCtDQUFRQSxDQUFDO0lBRW5ELHlDQUF5QztJQUN6Q0MsZ0RBQVNBOzRCQUFDO1lBQ1JlLGdCQUFnQkg7UUFDbEI7MkJBQUc7UUFBQ0E7S0FBZ0I7SUFFcEIsNERBQTREO0lBQzVEWixnREFBU0E7NEJBQUM7WUFDUixNQUFNd0I7dURBQXFCLE9BQU9DO29CQUNoQyxJQUFJQSxNQUFNQyxNQUFNLElBQUlELE1BQU1DLE1BQU0sQ0FBQ0MsTUFBTSxFQUFFO3dCQUN2Q0MsUUFBUUMsR0FBRyxDQUFDLG9CQUFvQkosTUFBTUMsTUFBTSxDQUFDQyxNQUFNO3dCQUNuRCxNQUFNRyxZQUFZTCxNQUFNQyxNQUFNLENBQUNDLE1BQU07d0JBQ3JDSixpQkFBaUJPO3dCQUVqQiw4Q0FBOEM7d0JBQzlDLElBQUk7NEJBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLENBQUMsMEJB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QUNMOzhFQUFlOzhDQUFZOzs7Ozs7Ozs7OzswQ0FHOUIsOERBQUNDO2dDQUVDQyxTQUFTUjtnQ0FDVFMsT0FBTTtnQ0FDTkMsT0FBTztvQ0FDTEcsU0FBUztvQ0FDVEMsaUJBQWlCO29DQUNqQkMsT0FBTztvQ0FDUEMsUUFBUTtvQ0FDUkMsY0FBYztvQ0FDZEMsVUFBVTtvQ0FDVkMsUUFBUTtnQ0FDVjswRUFYVTswQ0FhViw0RUFBQ2I7OEVBQWU7OENBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCeEM7QUFFQSxpRUFBZTFELE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL2NvbXBvbmVudHMtZ3VpL3RvcEJhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHVzZUFkbWluU2V0dGluZ3MgfSBmcm9tICcuL2FkbWluU2V0dGluZ3MnO1xuXG5jb25zdCBUb3BCYXIgPSAoeyBcbiAgb25CdXR0b25DbGljayxcbiAgb25DYW1lcmFBY2Nlc3MsXG4gIG91dHB1dFRleHQsXG4gIG9uT3V0cHV0Q2hhbmdlLFxuICBvblRvZ2dsZVRvcEJhcixcbiAgb25Ub2dnbGVNZXRyaWNzLFxuICBjYW52YXNSZWYsXG4gIGlzVG9wQmFyU2hvd24gPSB0cnVlLFxuICBpc0NhbnZhc1Zpc2libGUgPSB0cnVlXG59KSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBbY2FudmFzU3RhdHVzLCBzZXRDYW52YXNTdGF0dXNdID0gdXNlU3RhdGUoaXNDYW52YXNWaXNpYmxlKTtcbiAgY29uc3QgeyBzZXR0aW5ncywgdXBkYXRlU2V0dGluZ3MgfSA9IHVzZUFkbWluU2V0dGluZ3MoKTtcbiAgY29uc3QgW2N1cnJlbnRTZXR0aW5ncywgc2V0Q3VycmVudFNldHRpbmdzXSA9IHVzZVN0YXRlKHsgdGltZXM6IDEsIGRlbGF5OiAzIH0pO1xuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZShudWxsKTtcblxuICAvLyBVcGRhdGUgY2FudmFzIHN0YXR1cyB3aGVuIHByb3AgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldENhbnZhc1N0YXR1cyhpc0NhbnZhc1Zpc2libGUpO1xuICB9LCBbaXNDYW52YXNWaXNpYmxlXSk7XG5cbiAgLy8gTGlzdGVuIGZvciB1c2VyIElEIGNoYW5nZXMgYW5kIGltbWVkaWF0ZWx5IGZldGNoIHNldHRpbmdzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlVXNlcklkQ2hhbmdlID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC51c2VySWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgSUQgY2hhbmdlZDonLCBldmVudC5kZXRhaWwudXNlcklkKTtcbiAgICAgICAgY29uc3QgbmV3VXNlcklkID0gZXZlbnQuZGV0YWlsLnVzZXJJZDtcbiAgICAgICAgc2V0Q3VycmVudFVzZXJJZChuZXdVc2VySWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gSW1tZWRpYXRlbHkgZmV0Y2ggc2V0dGluZ3MgZm9yIHRoZSBuZXcgdXNlclxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHtuZXdVc2VySWR9YCk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB1c2VyU2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoZWQgc2V0dGluZ3MgZm9yIG5ldyB1c2VyOicsIHVzZXJTZXR0aW5ncyk7XG4gICAgICAgICAgc2V0Q3VycmVudFNldHRpbmdzKHVzZXJTZXR0aW5ncyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhyb3VnaCB0aGUgc2V0dGluZ3MgY29udGV4dFxuICAgICAgICAgIGlmICh1cGRhdGVTZXR0aW5ncykge1xuICAgICAgICAgICAgYXdhaXQgdXBkYXRlU2V0dGluZ3ModXNlclNldHRpbmdzLCBuZXdVc2VySWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzZXR0aW5ncyBmb3IgbmV3IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICB9O1xuICB9LCBbdXBkYXRlU2V0dGluZ3NdKTtcblxuICAvLyBVcGRhdGUgc2V0dGluZ3Mgd2hlbiB0aGV5IGNoYW5nZSBpbiB0aGUgY29udGV4dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZXR0aW5ncyAmJiBjdXJyZW50VXNlcklkKSB7XG4gICAgICBjb25zb2xlLmxvZygnU2V0dGluZ3MgY29udGV4dCB1cGRhdGVkIGZvciB1c2VyOicsIGN1cnJlbnRVc2VySWQsIHNldHRpbmdzW2N1cnJlbnRVc2VySWRdKTtcbiAgICAgIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHNldHRpbmdzW2N1cnJlbnRVc2VySWRdO1xuICAgICAgaWYgKHVzZXJTZXR0aW5ncykge1xuICAgICAgICBzZXRDdXJyZW50U2V0dGluZ3ModXNlclNldHRpbmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzZXR0aW5ncywgY3VycmVudFVzZXJJZF0pO1xuXG4gIC8vIExpc3RlbiBmb3Igc2V0dGluZ3MgdXBkYXRlcyBmcm9tIGFkbWluIHBhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycpIHtcbiAgICAgICAgY29uc3QgeyB1c2VySWQsIHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgc2V0dGluZ3MgdXBkYXRlOicsIHsgdXNlcklkLCB0aW1lcywgZGVsYXkgfSk7XG4gICAgICAgIGlmICh1c2VySWQgPT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgc2V0dGluZ3MgZm9yIGN1cnJlbnQgdXNlcjonLCB1c2VySWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IHNldHRpbmdzIGJlZm9yZSB1cGRhdGU6JywgY3VycmVudFNldHRpbmdzKTtcbiAgICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHRpbWVzOiB0aW1lcyAhPT0gdW5kZWZpbmVkID8gdGltZXMgOiBjdXJyZW50U2V0dGluZ3MudGltZXMsXG4gICAgICAgICAgICBkZWxheTogZGVsYXkgIT09IHVuZGVmaW5lZCA/IGRlbGF5IDogY3VycmVudFNldHRpbmdzLmRlbGF5XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzZXRDdXJyZW50U2V0dGluZ3MobmV3U2V0dGluZ3MpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNhdmUgdG8gYmFja2VuZFxuICAgICAgICAgIGNvbnN0IHNhdmVUb0JhY2tlbmQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7dXNlcklkfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3U2V0dGluZ3MpXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHNldHRpbmdzIHRvIGJhY2tlbmQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZ3Mgc2F2ZWQgdG8gYmFja2VuZDonLCBuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgc2V0dGluZ3MgdG8gYmFja2VuZDonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzYXZlVG9CYWNrZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICB9O1xuICB9LCBbY3VycmVudFVzZXJJZCwgY3VycmVudFNldHRpbmdzXSk7XG5cbiAgLy8gSGFuZGxlIHNldHRpbmdzIGNoYW5nZVxuICBjb25zdCBoYW5kbGVTZXR0aW5nc0NoYW5nZSA9IGFzeW5jIChuZXdTZXR0aW5ncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoY3VycmVudFVzZXJJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgc2V0dGluZ3MgZm9yIHVzZXI6JywgY3VycmVudFVzZXJJZCwgbmV3U2V0dGluZ3MpO1xuICAgICAgICBhd2FpdCB1cGRhdGVTZXR0aW5ncyhuZXdTZXR0aW5ncywgY3VycmVudFVzZXJJZCk7XG4gICAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQnV0dG9uQ2xpY2sgPSAoYWN0aW9uVHlwZSkgPT4ge1xuICAgIGlmIChvbkJ1dHRvbkNsaWNrKSB7XG4gICAgICBvbkJ1dHRvbkNsaWNrKGFjdGlvblR5cGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVUb3BCYXIgPSAoKSA9PiB7XG4gICAgb25Ub2dnbGVUb3BCYXIoIWlzVG9wQmFyU2hvd24pO1xuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlVG9nZ2xlTWV0cmljcyA9ICgpID0+IHtcbiAgICBvblRvZ2dsZU1ldHJpY3MoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVHb0JhY2sgPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy8nKTtcbiAgfTtcblxuICBjb25zdCBzdGF0dXNNZXNzYWdlID0gYFRvcEJhciAke2lzVG9wQmFyU2hvd24gPyAnc2hvd24nIDogJ2hpZGRlbid9LCBDYW52YXM6ICR7Y2FudmFzU3RhdHVzID8gJ1Zpc2libGUnIDogJ0hpZGRlbid9YDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wYmFyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcGJhci1sZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9nb1wiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJsb2dvLXRleHRcIj5Mb2dvPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9scy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtZ3JvdXBcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj5UaW1lKHMpOjwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0LWZpZWxkXCI+e2N1cnJlbnRTZXR0aW5ncy50aW1lc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtZ3JvdXBcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj5EZWxheShzKTo8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dC1maWVsZFwiPntjdXJyZW50U2V0dGluZ3MuZGVsYXl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wYmFyLW1pZGRsZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1ncm91cHNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tcm93XCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJhY2stYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHb0JhY2t9XG4gICAgICAgICAgICAgICAgdGl0bGU9XCJHbyBiYWNrIHRvIGhvbWUgcGFnZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDihpAgQmFja1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygnc2V0UmFuZG9tJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTZXQgUmFuZG9tXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ2NhbGlicmF0ZScpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2V0IENhbGlicmF0ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1yb3dcIiBzdHlsZT17eyBtYXJnaW5SaWdodDogJzgwcHgnIH19PlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ3JhbmRvbURvdCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgUmFuZG9tIERvdFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdjbGVhckFsbCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2xlYXIgQWxsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3BiYXItZGl2aWRlclwiPjwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1yb3dcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdoZWFkUG9zZScpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgRHJhdyBIZWFkIHBvc2VcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVCdXR0b25DbGljaygnYm91bmRpbmdCb3gnKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNob3cgQm91bmRpbmcgQm94XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQnV0dG9uQ2xpY2soJ3ByZXZpZXcnKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNob3cgUHJldmlld1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdtYXNrJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDwn5iKIFNob3cgTWFza1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUJ1dHRvbkNsaWNrKCdwYXJhbWV0ZXJzJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBQYXJhbWV0ZXJzXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wYmFyLXJpZ2h0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm90ZXMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm91dHB1dC1kaXNwbGF5XCJcbiAgICAgICAgICAgIHRpdGxlPVwiUHJvY2Vzc2luZyBPdXRwdXRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzdGF0dXNNZXNzYWdlfVxuICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICB7b3V0cHV0VGV4dCB8fCBcIlByb2Nlc3Npbmcgb3V0cHV0IHdpbGwgYXBwZWFyIGhlcmUuLi5cIn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uLWJ0biBtZW51LWJ0blwiXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVUb3BCYXJ9XG4gICAgICAgICAgICB0aXRsZT1cIlRvZ2dsZSBUb3BCYXJcIlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwNjZjYycsXG4gICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAnNXB4J1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLXRleHRcIj7iiaE8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24tYnRuIGFsZXJ0LWJ0blwiXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVNZXRyaWNzfVxuICAgICAgICAgICAgdGl0bGU9XCJUb2dnbGUgTWV0cmljc1wiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBwYWRkaW5nOiAnNXB4IDEwcHgnLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmY5OTAwJyxcbiAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLXRleHRcIj4hPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC5hY3RpdmUtdG9nZ2xlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmljb24tYnRuIHtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuaWNvbi1idG46aG92ZXIge1xuICAgICAgICAgIG9wYWNpdHk6IDAuODtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVG9wQmFyOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwidXNlQWRtaW5TZXR0aW5ncyIsIlRvcEJhciIsIm9uQnV0dG9uQ2xpY2siLCJvbkNhbWVyYUFjY2VzcyIsIm91dHB1dFRleHQiLCJvbk91dHB1dENoYW5nZSIsIm9uVG9nZ2xlVG9wQmFyIiwib25Ub2dnbGVNZXRyaWNzIiwiY2FudmFzUmVmIiwiaXNUb3BCYXJTaG93biIsImlzQ2FudmFzVmlzaWJsZSIsInJvdXRlciIsImNhbnZhc1N0YXR1cyIsInNldENhbnZhc1N0YXR1cyIsInNldHRpbmdzIiwidXBkYXRlU2V0dGluZ3MiLCJjdXJyZW50U2V0dGluZ3MiLCJzZXRDdXJyZW50U2V0dGluZ3MiLCJ0aW1lcyIsImRlbGF5IiwiY3VycmVudFVzZXJJZCIsInNldEN1cnJlbnRVc2VySWQiLCJoYW5kbGVVc2VySWRDaGFuZ2UiLCJldmVudCIsImRldGFpbCIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJuZXdVc2VySWQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInVzZXJTZXR0aW5ncyIsImpzb24iLCJlcnJvciIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlU2V0dGluZ3NVcGRhdGUiLCJ0eXBlIiwibmV3U2V0dGluZ3MiLCJ1bmRlZmluZWQiLCJzYXZlVG9CYWNrZW5kIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGFuZGxlU2V0dGluZ3NDaGFuZ2UiLCJoYW5kbGVCdXR0b25DbGljayIsImFjdGlvblR5cGUiLCJoYW5kbGVUb2dnbGVUb3BCYXIiLCJoYW5kbGVUb2dnbGVNZXRyaWNzIiwiaGFuZGxlR29CYWNrIiwicHVzaCIsInN0YXR1c01lc3NhZ2UiLCJkaXYiLCJoMSIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIiwidGl0bGUiLCJzdHlsZSIsIm1hcmdpblJpZ2h0IiwiYnIiLCJwYWRkaW5nIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJmb250U2l6ZSIsImN1cnNvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/index.js":
/*!*****************************************************!*\
  !*** ./pages/collected-dataset-customized/index.js ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CollectedDatasetPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"(pages-dir-node)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-node)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components-gui/topBar */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/topBar.js\");\n/* harmony import */ var _components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components-gui/displayResponse */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/displayResponse.js\");\n/* harmony import */ var _components_gui_actionButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components-gui/actionButton */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/actionButton.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\");\n/* harmony import */ var _components_collected_dataset_customized_Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/collected-dataset-customized/Action/CalibratePoints */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\");\n/* harmony import */ var _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/consent/ConsentContext */ \"(pages-dir-node)/./components/consent/ConsentContext.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_9__]);\n_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_9__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// Modified index.js - Fixing canvas reference issues\n\n\n\n\n\n\n\n\n\n\n// Dynamically load the video processor component (not the hook directly)\nconst VideoProcessorComponent = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-node_pages_collected-dataset-customized_components-gui_VideoProcessorComponent_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/VideoProcessorComponent */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/VideoProcessorComponent.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/VideoProcessorComponent\"\n        ]\n    },\n    ssr: false\n});\n// Dynamically import the camera component with SSR disabled\nconst DynamicCameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-node_pages_collected-dataset-customized_components-gui_cameraAccess_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/cameraAccess */ \"(pages-dir-node)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/cameraAccess\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                backgroundColor: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 41,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 42,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n            lineNumber: 24,\n            columnNumber: 7\n        }, undefined)\n});\nfunction CollectedDatasetPage() {\n    // State for hydration detection\n    const [isHydrated, setIsHydrated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State for camera management\n    const [showCamera, setShowCamera] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTopBar, setShowTopBar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showMetrics, setShowMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [outputText, setOutputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [metrics, setMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: '---',\n        height: '---',\n        distance: '---'\n    });\n    const [windowSize, setWindowSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0,\n        percentage: 100\n    });\n    // References and other state\n    const previewAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // State for capture tracking\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [captureFolder, setCaptureFolder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // State for camera processing options\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State to track if camera square should be shown\n    const [showCameraPlaceholder, setShowCameraPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // To store the camera permission state\n    const [cameraPermissionGranted, setCameraPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State for warning message\n    const [showWarning, setShowWarning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [warningMessage, setWarningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // Backend connection status\n    const [backendStatus, setBackendStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('checking');\n    const actionButtonGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // State for settings visibility\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State for current user ID\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    // Get user ID from consent context\n    const { userId } = (0,_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_9__.useConsent)();\n    // Handle user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (userId && userId !== currentUserId) {\n                console.log('User ID changed in index.js:', userId);\n                setCurrentUserId(userId);\n                // Dispatch event to notify other components\n                const event = new CustomEvent('userIdChange', {\n                    detail: {\n                        userId\n                    }\n                });\n                window.dispatchEvent(event);\n                // Load settings for the new user\n                loadSettings(userId);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId,\n        currentUserId\n    ]);\n    // Load settings for a specific user\n    const loadSettings = async (userId)=>{\n        try {\n            console.log('Loading settings for user:', userId);\n            const response = await fetch(`/api/data-center/settings/${userId}`);\n            if (!response.ok) throw new Error('Failed to fetch settings');\n            const userSettings = await response.json();\n            console.log('Fetched settings:', userSettings);\n            // Dispatch settings update event\n            const event = new CustomEvent('captureSettingsUpdate', {\n                detail: {\n                    type: 'captureSettings',\n                    userId,\n                    ...userSettings\n                }\n            });\n            window.dispatchEvent(event);\n        } catch (error) {\n            console.error('Error loading settings:', error);\n        }\n    };\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        if (userId === currentUserId) {\n                            // Update the settings for this user\n                            if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                                actionButtonGroupRef.current.updateSettings({\n                                    times: times || 1,\n                                    delay: delay || 3\n                                });\n                            }\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        currentUserId\n    ]);\n    // Improved get canvas function that tries multiple methods\n    const getMainCanvas = ()=>{\n        // Method 1: Check if we have a direct reference\n        if (canvasRef.current) {\n            console.log(\"Using direct canvasRef.current reference\");\n            return canvasRef.current;\n        }\n        // Method 2: Try to get global reference\n        if (false) {}\n        // Method 3: Try to find via DOM\n        if (typeof document !== 'undefined') {\n            const canvasElement = document.querySelector('.tracking-canvas');\n            if (canvasElement) {\n                console.log(\"Found canvas via DOM selector\");\n                canvasRef.current = canvasElement; // Update our ref\n                if (false) {}\n                return canvasElement;\n            }\n        }\n        console.warn(\"No canvas found via any method\");\n        return null;\n    };\n    // Check if we're on the client or server\n    const isClient = \"undefined\" !== 'undefined';\n    // Add effect to initialize canvas and make it globally available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Debug info to verify canvas size and availability\n            const canvas = canvasRef.current;\n            if (canvas) {\n                console.log(\"Index.js: Canvas initialized\", {\n                    width: canvas.width,\n                    height: canvas.height\n                });\n                // Make canvas EXPLICITLY available globally\n                window.whiteScreenCanvas = canvas;\n                // Also store canvas dimensions\n                window.canvasDimensions = {\n                    width: canvas.width,\n                    height: canvas.height\n                };\n            } else {\n                console.warn(\"Canvas reference is not available during initialization\");\n            }\n            // Expose canvas initialization function globally\n            window.initializeCanvas = ({\n                \"CollectedDatasetPage.useEffect\": (canvas, parent)=>{\n                    if (!canvas || !parent) {\n                        console.warn('[initializeCanvas] Canvas or parent is null', {\n                            canvas,\n                            parent\n                        });\n                        return false;\n                    }\n                    try {\n                        // Set canvas dimensions to match parent\n                        canvas.width = parent.clientWidth || 800;\n                        canvas.height = parent.clientHeight || 600;\n                        // Clear canvas and set white background\n                        const ctx = canvas.getContext('2d');\n                        ctx.clearRect(0, 0, canvas.width, canvas.height);\n                        ctx.fillStyle = 'white';\n                        ctx.fillRect(0, 0, canvas.width, canvas.height);\n                        console.log(`Canvas initialized with dimensions: ${canvas.width}x${canvas.height}`);\n                        // Update global reference\n                        window.whiteScreenCanvas = canvas;\n                        window.canvasDimensions = {\n                            width: canvas.width,\n                            height: canvas.height\n                        };\n                        return true;\n                    } catch (error) {\n                        console.error('[initializeCanvas] Error initializing canvas:', error);\n                        return false;\n                    }\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            // Check canvas visibility and force initialization after a brief delay\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    const canvas = getMainCanvas();\n                    if (canvas) {\n                        const rect = canvas.getBoundingClientRect();\n                        console.log(\"Canvas initial visibility check:\", {\n                            dimensions: `${canvas.width}x${canvas.height}`,\n                            rectSize: `${rect.width}x${rect.height}`,\n                            isVisible: rect.width > 0 && rect.height > 0\n                        });\n                        // Force initialization if needed\n                        adjustCanvasDimensions();\n                    } else {\n                        console.warn(\"Canvas not found during visibility check\");\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 500);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    delete window.whiteScreenCanvas;\n                    delete window.canvasDimensions;\n                    delete window.initializeCanvas;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Improved canvas dimensions adjustment\n    const adjustCanvasDimensions = ()=>{\n        if (!isClient || !isHydrated || !previewAreaRef.current) return;\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found to adjust dimensions\");\n            return;\n        }\n        const container = previewAreaRef.current;\n        // Get the size of the preview area\n        const rect = container.getBoundingClientRect();\n        // Calculate proper height based on top bar visibility\n        const topBarHeight = showTopBar ? 120 : 0; // Adjust this value based on your top bar's actual height\n        console.log(\"Adjusting canvas dimensions\", {\n            containerWidth: rect.width,\n            containerHeight: rect.height,\n            topBarVisible: showTopBar,\n            calculatedHeight: rect.height\n        });\n        // Set canvas dimensions to match container size with top bar adjustment\n        canvas.width = rect.width;\n        canvas.height = rect.height;\n        // Clear the canvas\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        // Fill with white background\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        console.log(`Canvas dimensions adjusted: ${canvas.width}x${canvas.height}`);\n        // Update global reference with current dimensions\n        window.whiteScreenCanvas = canvas;\n        window.canvasDimensions = {\n            width: canvas.width,\n            height: canvas.height\n        };\n    };\n    // Create a capture folder on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!captureFolder && isClient && isHydrated) {\n                const timestamp = new Date().toISOString().replace(/[:\\.]/g, '-');\n                setCaptureFolder(`session_${timestamp}`);\n                console.log(`Created capture folder: session_${timestamp}`);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        captureFolder,\n        isClient,\n        isHydrated\n    ]);\n    // Set hydrated state after mount to prevent hydration mismatch\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            setIsHydrated(true);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Check backend connection on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return; // Skip on server or before hydration\n            const checkBackendConnection = {\n                \"CollectedDatasetPage.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendStatus(data.connected ? 'connected' : 'disconnected');\n                        console.log(`Backend connection: ${data.connected ? 'OK' : 'Failed'}`);\n                        // Show status in output text\n                        setOutputText(`Backend ${data.connected ? 'connected' : 'disconnected - using mock mode'}`);\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendStatus('disconnected');\n                        setOutputText('Backend disconnected - using mock mode');\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.checkBackendConnection\"];\n            checkBackendConnection();\n            // Welcome message after backend check\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    setOutputText('Camera system ready. Click \"Show Preview\" to start camera.');\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 2000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Update metrics and window size when component mounts and on window resize\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return; // Skip on server or before hydration\n            const updateDimensions = {\n                \"CollectedDatasetPage.useEffect.updateDimensions\": ()=>{\n                    if (previewAreaRef.current) {\n                        const width = previewAreaRef.current.offsetWidth;\n                        const height = previewAreaRef.current.offsetHeight;\n                        // Calculate what percentage of the screen we're using\n                        const screenPercentage = window.innerWidth / window.screen.width * 100;\n                        setMetrics({\n                            \"CollectedDatasetPage.useEffect.updateDimensions\": (prev)=>({\n                                    ...prev,\n                                    width,\n                                    height\n                                })\n                        }[\"CollectedDatasetPage.useEffect.updateDimensions\"]);\n                        setWindowSize({\n                            width: window.innerWidth,\n                            height: window.innerHeight,\n                            percentage: Math.round(screenPercentage)\n                        });\n                        // Update canvas dimensions\n                        adjustCanvasDimensions();\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.updateDimensions\"];\n            // Initial calculation\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            // Clean up\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('resize', updateDimensions);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Add effect to update canvas when dimensions change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (isClient && isHydrated) {\n                adjustCanvasDimensions();\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        windowSize,\n        showTopBar,\n        isHydrated\n    ]);\n    // Add styles to document head for button highlighting\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Create a style element\n            const style = document.createElement('style');\n            style.textContent = `\n      @keyframes pulse {\n        0% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0.7); }\n        70% { box-shadow: 0 0 0 10px rgba(0, 102, 204, 0); }\n        100% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0); }\n      }\n      \n      @keyframes fadeIn {\n        from { opacity: 0; transform: translateY(-10px); }\n        to { opacity: 1; transform: translateY(0); }\n      }\n      \n      .btn-highlight {\n        animation: pulse 1.5s infinite;\n        background-color: #0099ff !important;\n        color: white !important;\n        transform: scale(1.05);\n        transition: all 0.3s ease;\n      }\n      \n      .warning-banner {\n        animation: fadeIn 0.3s ease-in-out;\n      }\n    `;\n            document.head.appendChild(style);\n            // Clean up\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    document.head.removeChild(style);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Make toggleTopBar function available globally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Make toggleTopBar available to other components\n            window.toggleTopBar = ({\n                \"CollectedDatasetPage.useEffect\": (show)=>{\n                    setShowTopBar(show);\n                    // Also hide metrics when hiding the top bar\n                    if (!show) {\n                        setShowMetrics(false);\n                    }\n                    // Adjust canvas dimensions after toggling\n                    setTimeout(adjustCanvasDimensions, 100);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    // Clean up\n                    delete window.toggleTopBar;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Toggle camera function\n    const toggleCamera = (shouldEnable)=>{\n        if (!isClient || !isHydrated) return;\n        if (shouldEnable) {\n            setShowCamera(true);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview started');\n        } else {\n            setShowCamera(false);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview stopped');\n        }\n    };\n    // Handler for action button clicks\n    const handleActionButtonClick = (actionType, params)=>{\n        if (!isClient || !isHydrated) return;\n        // Special case for toggling the top bar\n        if (actionType === 'toggleTopBar') {\n            // const newTopBarState = value !== undefined ? !!value : !showTopBar;\n            let newTopBarState;\n            if (typeof params === 'boolean') {\n                newTopBarState = params;\n            } else if (params && typeof params.value !== 'undefined') {\n                newTopBarState = !!params.value;\n            } else {\n                newTopBarState = !showTopBar;\n            }\n            setShowTopBar(newTopBarState);\n            // Also hide metrics when hiding the top bar\n            if (!newTopBarState) {\n                setShowMetrics(false);\n            }\n            setOutputText(`TopBar ${newTopBarState ? 'shown' : 'hidden'}${!newTopBarState ? ', Metrics hidden' : ''}`);\n            // Adjust canvas dimensions after toggling\n            setTimeout(adjustCanvasDimensions, 100);\n            return;\n        }\n        const canvas = getMainCanvas();\n        setShowWarning(false);\n        // Clear any existing warnings\n        const safeParams = params || {};\n        // Use safeParams instead of controlValues\n        const randomTimes = safeParams.randomTimes || 1;\n        const delaySeconds = safeParams.delaySeconds || 3;\n        switch(actionType){\n            case 'preview':\n                // Toggle camera state\n                if (showCamera) {\n                    toggleCamera(false);\n                } else if (cameraPermissionGranted) {\n                    toggleCamera(true);\n                } else {\n                    // Otherwise show permission popup\n                    setShowPermissionPopup(true);\n                    setOutputText('Opening camera preview');\n                    setShowCameraPlaceholder(true);\n                }\n                break;\n            case 'setRandom':\n                setOutputText('Starting random sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                // Use the imported module approach - similar to calibrate\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetRandom) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for Set Random');\n                    actionButtonGroupRef.current.handleSetRandom();\n                } else if (false) {} else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random sequence\");\n                        setOutputText(\"Error: Canvas not available for random sequence\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Get control values from the TopBar\n                    const timeInput = document.querySelector('.control-input-field');\n                    const delayInput = document.querySelectorAll('.control-input-field')[1];\n                    // Default values if inputs can't be found\n                    let times = 1;\n                    let delay = 3;\n                    // Parse input values if available\n                    if (timeInput) {\n                        const parsedTime = parseInt(timeInput.value, 10);\n                        if (!isNaN(parsedTime) && parsedTime > 0) {\n                            times = parsedTime;\n                        }\n                    }\n                    if (delayInput) {\n                        const parsedDelay = parseInt(delayInput.value, 10);\n                        if (!isNaN(parsedDelay) && parsedDelay > 0) {\n                            delay = parsedDelay;\n                        }\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\"))\n                    ]).then(async ([countSaveModule, savefileModule])=>{\n                        // Destructure the imported modules\n                        const { getRandomPosition, drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Process all captures sequentially\n                            let successCount = 0;\n                            let currentCapture = 1;\n                            while(currentCapture <= times){\n                                // Update status for current capture\n                                setOutputText(`Capture ${currentCapture} of ${times}`);\n                                // Clear canvas before each capture\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Generate random position for this capture\n                                const position = getRandomPosition(canvas, 20);\n                                // Draw the dot\n                                drawRedDot(ctx, position.x, position.y);\n                                // Create a redrawInterval to ensure dot stays visible\n                                let redrawInterval = setInterval(()=>{\n                                    drawRedDot(ctx, position.x, position.y, 12, false);\n                                }, 200);\n                                // Run countdown and wait for it to complete\n                                await new Promise((resolve)=>{\n                                    runCountdown(position, canvas, (status)=>{\n                                        // Update UI based on status\n                                        if (status.processStatus) {\n                                            setOutputText(`Capture ${currentCapture}/${times}: ${status.processStatus}`);\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Clear redrawInterval after countdown\n                                clearInterval(redrawInterval);\n                                // Wait briefly after countdown\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: position,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(`Error capturing point ${currentCapture}:`, error);\n                                }\n                                // Wait between captures for the specified delay time\n                                if (currentCapture < times) {\n                                    setOutputText(`Waiting ${delay}s before next capture...`);\n                                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                                }\n                                // Move to next capture\n                                currentCapture++;\n                            }\n                            // Sequence complete\n                            setOutputText(`Random capture sequence completed: ${successCount}/${times} captures successful`);\n                        } catch (error) {\n                            console.error(\"Random sequence error:\", error);\n                            setOutputText(`Random sequence error: ${error.message}`);\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(`Error: ${error.message}`);\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'randomDot':\n                setOutputText('Random dot action triggered');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                console.log('Attempting to access Random Dot functionality');\n                // Use the random dot functionality from actionButton.js by delegating to ActionButtonGroup\n                // This assumes you have a ref to the ActionButtonGroup component\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleRandomDot) {\n                    console.log('Using ref method');\n                    actionButtonGroupRef.current.handleRandomDot();\n                } else if (false) {} else {\n                    // Fallback implementation\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random dot action\");\n                        setOutputText(\"Error: Canvas not available for random dot\");\n                        setShowTopBar(true); // Show TopBar again if there's an error\n                        break;\n                    }\n                    const parent = previewAreaRef.current;\n                    if (!parent) {\n                        console.error(\"Parent not found for canvas\");\n                        setOutputText(\"Error: Canvas parent not available\");\n                        setShowTopBar(true);\n                        break;\n                    }\n                    // Initialize canvas explicitly\n                    canvas.width = parent.clientWidth || 800;\n                    canvas.height = parent.clientHeight || 600;\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    console.log(`Canvas ready for random dot: ${canvas.width}x${canvas.height}`);\n                    // Update global reference\n                    window.whiteScreenCanvas = canvas;\n                    // Generate random position\n                    const position = (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.getRandomPosition)(canvas, 20);\n                    // Draw the dot using the imported function\n                    const dot = (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.drawRedDot)(ctx, position.x, position.y, 8, false);\n                    console.log(`Random dot drawn at: ${position.x}, ${position.y}`);\n                    // Start a countdown for capture\n                    (0,_components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.runCountdown)(position, canvas, (status)=>{\n                        // Update UI based on status\n                        if (status.processStatus) {\n                            setOutputText(status.processStatus);\n                        }\n                    }, ()=>{\n                        // Enable camera before capture\n                        // triggerCameraAccess(true);\n                        // Wait briefly for camera to initialize\n                        setTimeout(()=>{\n                            // Use the directly imported captureImagesAtPoint from the Helper/savefile.js\n                            Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\")).then(({ captureImagesAtPoint })=>{\n                                captureImagesAtPoint({\n                                    point: position,\n                                    captureCount: captureCounter,\n                                    canvasRef: {\n                                        current: canvas\n                                    },\n                                    setCaptureCount: setCaptureCounter,\n                                    showCapturePreview: _components_collected_dataset_customized_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.showCapturePreview\n                                }).then(()=>{\n                                    setCaptureCounter((prev)=>prev + 1);\n                                    // Show TopBar again after capture\n                                    setTimeout(()=>{\n                                        setShowTopBar(true);\n                                    }, 2200);\n                                }).catch((err)=>{\n                                    console.error(\"Error capturing images:\", err);\n                                    setOutputText(`Error: ${err.message}`);\n                                    setShowTopBar(true);\n                                });\n                            }).catch((err)=>{\n                                console.error(\"Error importing savefile module:\", err);\n                                setOutputText(`Error: ${err.message}`);\n                                setShowTopBar(true);\n                            });\n                        }, 500);\n                    });\n                }\n                break;\n            case 'headPose':\n                const newHeadPoseState = !showHeadPose;\n                setShowHeadPose(newHeadPoseState);\n                setOutputText(`Head pose visualization ${newHeadPoseState ? 'enabled' : 'disabled'}`);\n                if (newHeadPoseState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newHeadPoseState && !showBoundingBox && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showHeadPose: newHeadPoseState\n                    });\n                }\n                break;\n            case 'boundingBox':\n                const newBoundingBoxState = !showBoundingBox;\n                setShowBoundingBox(newBoundingBoxState);\n                setOutputText(`Bounding box ${newBoundingBoxState ? 'shown' : 'hidden'}`);\n                if (newBoundingBoxState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newBoundingBoxState && !showHeadPose && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showBoundingBox: newBoundingBoxState\n                    });\n                }\n                break;\n            case 'mask':\n                const newMaskState = !showMask;\n                setShowMask(newMaskState);\n                setOutputText(`Mask ${newMaskState ? 'shown' : 'hidden'}`);\n                if (newMaskState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newMaskState && !showHeadPose && !showBoundingBox && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showMask: newMaskState\n                    });\n                }\n                break;\n            case 'parameters':\n                const newParametersState = !showParameters;\n                setShowParameters(newParametersState);\n                setOutputText(`Parameters ${newParametersState ? 'shown' : 'hidden'}`);\n                if (newParametersState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newParametersState && !showHeadPose && !showBoundingBox && !showMask) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showParameters: newParametersState\n                    });\n                }\n                break;\n            // Fixed calibrate case handler in index.js\n            case 'calibrate':\n                setOutputText('Starting calibration sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetCalibrate) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for calibration');\n                    actionButtonGroupRef.current.handleSetCalibrate();\n                } else if (false) {} else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for calibration\");\n                        setOutputText(\"Error: Canvas not available for calibration\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/CalibratePoints */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/CalibratePoints.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Action/countSave */ \"(pages-dir-node)/./components/collected-dataset-customized/Action/countSave.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\"))\n                    ]).then(async ([calibratePointsModule, countSaveModule, savefileModule])=>{\n                        // Destructure the imported modules\n                        const { generateCalibrationPoints } = calibratePointsModule;\n                        const { drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Generate calibration points\n                            const points = generateCalibrationPoints(canvas.width, canvas.height);\n                            if (!points || points.length === 0) {\n                                throw new Error(\"Failed to generate calibration points\");\n                            }\n                            // Create status indicator\n                            const statusIndicator = document.createElement('div');\n                            statusIndicator.className = 'calibrate-status-indicator';\n                            statusIndicator.style.cssText = `\n                position: fixed;\n                top: 10px;\n                right: 10px;\n                background-color: rgba(0, 102, 204, 0.9);\n                color: white;\n                font-size: 14px;\n                font-weight: bold;\n                padding: '8px 12px';\n                border-radius: 6px;\n                z-index: 9999;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n              `;\n                            statusIndicator.textContent = 'Calibration: Initializing...';\n                            document.body.appendChild(statusIndicator);\n                            // Access webcam before starting calibration if available\n                            if (typeof triggerCameraAccess === 'function') {\n                                triggerCameraAccess(true);\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                            }\n                            // Process points sequentially\n                            let successCount = 0;\n                            for(let i = 0; i < points.length; i++){\n                                const point = points[i];\n                                statusIndicator.textContent = `Calibration: Point ${i + 1}/${points.length}`;\n                                setOutputText(`Processing calibration point ${i + 1}/${points.length}`);\n                                // Clear the canvas before drawing new point\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Draw the dot\n                                drawRedDot(ctx, point.x, point.y);\n                                // Run countdown\n                                await new Promise((resolve)=>{\n                                    runCountdown(point, canvas, (status)=>{\n                                        if (status.processStatus) {\n                                            setOutputText(status.processStatus);\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: point,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview: showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(`Error capturing point ${i + 1}:`, error);\n                                }\n                                // Wait between points\n                                await new Promise((resolve)=>setTimeout(resolve, 1200));\n                            }\n                            // Calibration complete\n                            statusIndicator.textContent = `Calibration complete: ${successCount}/${points.length} points`;\n                            setOutputText(`Calibration completed: ${successCount}/${points.length} points captured`);\n                            // Remove the status indicator after a delay\n                            setTimeout(()=>{\n                                if (statusIndicator.parentNode) {\n                                    statusIndicator.parentNode.removeChild(statusIndicator);\n                                }\n                            }, 3000);\n                        } catch (error) {\n                            console.error(\"Calibration error:\", error);\n                            setOutputText(`Calibration error: ${error.message}`);\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(`Calibration error: ${error.message}`);\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'clearAll':\n                // Clear canvas\n                // const canvas = getMainCanvas();\n                if (canvas) {\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    setOutputText('Canvas cleared');\n                }\n                break;\n            default:\n                setOutputText(`Action triggered: ${actionType}`);\n        }\n    };\n    const handlePermissionAccepted = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setCameraPermissionGranted(true);\n        toggleCamera(true);\n    };\n    const handlePermissionDenied = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setShowCameraPlaceholder(false);\n        setOutputText('Camera permission denied');\n    };\n    const handleCameraClose = ()=>{\n        if (!isClient || !isHydrated) return;\n        toggleCamera(false);\n    };\n    const handleCameraReady = (dimensions)=>{\n        if (!isClient || !isHydrated) return;\n        setMetrics({\n            width: dimensions.width,\n            height: dimensions.height,\n            distance: dimensions.distance || '---'\n        });\n        setOutputText(`Camera ready: ${dimensions.width}x${dimensions.height}`);\n    };\n    // Toggle top bar function\n    const toggleTopBar = (show)=>{\n        const newTopBarState = show !== undefined ? show : !showTopBar;\n        setShowTopBar(newTopBarState);\n        // Also hide metrics when hiding the top bar\n        if (!newTopBarState) {\n            setShowMetrics(false);\n        }\n        setOutputText(`TopBar ${newTopBarState ? 'shown' : 'hidden'}${!newTopBarState ? ', Metrics hidden' : ''}`);\n        // Wait for state update and DOM changes, then adjust canvas\n        setTimeout(adjustCanvasDimensions, 100);\n    };\n    // Toggle metrics function\n    const toggleMetrics = ()=>{\n        if (showTopBar) {\n            setShowMetrics((prev)=>!prev);\n            setOutputText(`Metrics ${!showMetrics ? 'shown' : 'hidden'}`);\n        } else {\n            // If topBar is hidden, we can't show metrics\n            setOutputText('Cannot show metrics when TopBar is hidden');\n        }\n    };\n    // Function to trigger camera access\n    const triggerCameraAccess = (forceEnable)=>{\n        if (forceEnable) {\n            // Try to enable camera directly\n            if (window.videoProcessor) {\n                setShowCamera(true);\n                setShowCameraPlaceholder(false);\n                setCameraPermissionGranted(true);\n                // Start video processing with current options\n                window.videoProcessor.startVideoProcessing({\n                    showHeadPose,\n                    showBoundingBox,\n                    showMask,\n                    showParameters,\n                    showProcessedImage: true\n                });\n                return true;\n            }\n            return false;\n        }\n        // Just toggle current state if not forcing\n        if (cameraPermissionGranted) {\n            toggleCamera(!showCamera);\n            return true;\n        } else {\n            setShowPermissionPopup(true);\n            return false;\n        }\n    };\n    // Dynamic class to reflect current window size\n    const getSizeClass = ()=>{\n        const { percentage } = windowSize;\n        if (percentage < 35) return 'window-size-tiny';\n        if (percentage < 50) return 'window-size-small';\n        if (percentage < 70) return 'window-size-medium';\n        return 'window-size-large';\n    };\n    // Add this function to handle settings visibility\n    const handleSettingsVisibility = (isVisible)=>{\n        setShowSettings(isVisible);\n    };\n    // Add this effect to listen for settings visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsMessage = {\n                \"CollectedDatasetPage.useEffect.handleSettingsMessage\": (event)=>{\n                    if (event.data.type === 'SHOW_SETTINGS') {\n                        setShowSettings(event.data.show);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsMessage\"];\n            window.addEventListener('message', handleSettingsMessage);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('message', handleSettingsMessage);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"CollectedDatasetPage.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        setCurrentUserId(event.detail.userId);\n                        // Dispatch event to update settings for the new user\n                        const event = new CustomEvent('captureSettingsUpdate', {\n                            detail: {\n                                type: 'captureSettings',\n                                userId: event.detail.userId\n                            }\n                        });\n                        window.dispatchEvent(event);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Initialize settings when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (userId) {\n                // Set the current user ID\n                setCurrentUserId(userId);\n                // Dispatch event to update settings for this user\n                const event = new CustomEvent('captureSettingsUpdate', {\n                    detail: {\n                        type: 'captureSettings',\n                        userId: userId\n                    }\n                });\n                window.dispatchEvent(event);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    // Load settings from backend when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const loadSettings = {\n                \"CollectedDatasetPage.useEffect.loadSettings\": async ()=>{\n                    if (!userId) return;\n                    try {\n                        const response = await fetch(`/api/data-center/settings/${userId}`);\n                        if (!response.ok) {\n                            throw new Error('Failed to load settings');\n                        }\n                        const loadedSettings = await response.json();\n                        // Wait for the component to be mounted and ref to be initialized\n                        const waitForRef = {\n                            \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": (retries = 5)=>{\n                                if (actionButtonGroupRef.current && typeof actionButtonGroupRef.current.updateSettings === 'function') {\n                                    // Update the settings for this user\n                                    actionButtonGroupRef.current.updateSettings(loadedSettings);\n                                    // Dispatch event to update UI\n                                    const event = new CustomEvent('captureSettingsUpdate', {\n                                        detail: {\n                                            type: 'captureSettings',\n                                            userId: userId,\n                                            times: loadedSettings.times,\n                                            delay: loadedSettings.delay\n                                        }\n                                    });\n                                    window.dispatchEvent(event);\n                                } else if (retries > 0) {\n                                    setTimeout({\n                                        \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": ()=>waitForRef(retries - 1)\n                                    }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"], 500);\n                                } else {\n                                    console.warn('ActionButtonGroup ref not initialized after retries');\n                                }\n                            }\n                        }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"];\n                        waitForRef();\n                    } catch (error) {\n                        console.error('Error loading settings:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.loadSettings\"];\n            // Add a small delay to ensure components are mounted\n            setTimeout(loadSettings, 1000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    // Add polling for real-time updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const fetchUpdates = {\n                \"CollectedDatasetPage.useEffect.fetchUpdates\": async ()=>{\n                    if (!userId) return;\n                    try {\n                        const response = await fetch(`/api/data-center/settings/${userId}`);\n                        if (!response.ok) throw new Error('Failed to fetch settings');\n                        const settings = await response.json();\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings(settings);\n                        }\n                    // You can add image fetching logic here if needed\n                    } catch (error) {\n                        console.error('Error fetching updates:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.fetchUpdates\"];\n            // Initial fetch\n            fetchUpdates();\n            // Set up polling interval\n            const interval = setInterval(fetchUpdates, 3000);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    clearInterval(interval);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    // Add event listeners for settings and image updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail?.type === 'captureSettings' && event.detail?.userId === userId) {\n                        const { times, delay } = event.detail;\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings({\n                                times,\n                                delay\n                            });\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            const handleImageUpdate = {\n                \"CollectedDatasetPage.useEffect.handleImageUpdate\": (event)=>{\n                    if (event.detail?.type === 'image' && event.detail?.userId === userId) {\n                        const { image } = event.detail;\n                    // Update image in the UI if needed\n                    // You can add your image update logic here\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleImageUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            window.addEventListener('imageUpdate', handleImageUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                    window.removeEventListener('imageUpdate', handleImageUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `main-container ${getSizeClass()}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Camera Dataset Collection\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1333,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1334,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1332,\n                columnNumber: 7\n            }, this),\n            isHydrated && isClient && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(VideoProcessorComponent, {}, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1338,\n                columnNumber: 34\n            }, this),\n            isHydrated && backendStatus === 'disconnected' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    padding: '6px 0',\n                    backgroundColor: '#ffe0b2',\n                    color: '#e65100',\n                    textAlign: 'center',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    zIndex: 1100\n                },\n                children: \"⚠️ Backend disconnected. Hurry up, Make ONLINE please and Using mock mode\"\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1342,\n                columnNumber: 9\n            }, this),\n            showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                onButtonClick: handleActionButtonClick,\n                onCameraAccess: ()=>setShowPermissionPopup(true),\n                outputText: statusMessage || outputText,\n                onOutputChange: (text)=>setOutputText(text),\n                onToggleTopBar: toggleTopBar,\n                onToggleMetrics: toggleMetrics,\n                canvasRef: canvasRef\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1361,\n                columnNumber: 9\n            }, this),\n            !showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"restore-button-container\",\n                style: {\n                    position: 'fixed',\n                    top: '10px',\n                    right: '10px',\n                    zIndex: 1000\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"restore-btn\",\n                    onClick: ()=>toggleTopBar(true),\n                    title: \"Show TopBar and Metrics\",\n                    style: {\n                        padding: '5px 10px',\n                        background: '#0066cc',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '4px',\n                        fontSize: '16px',\n                        cursor: 'pointer'\n                    },\n                    children: \"≡\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1380,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1374,\n                columnNumber: 9\n            }, this),\n            isHydrated && showWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"warning-banner\",\n                style: {\n                    position: 'fixed',\n                    top: showTopBar ? backendStatus === 'disconnected' ? '32px' : '60px' : '0',\n                    left: '0',\n                    width: '100%',\n                    backgroundColor: '#ffeb3b',\n                    color: '#333',\n                    padding: '10px',\n                    textAlign: 'center',\n                    boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                    zIndex: 1010,\n                    animation: 'fadeIn 0.3s ease-in-out'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                    children: [\n                        \"⚠️ \",\n                        warningMessage\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1414,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1401,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: previewAreaRef,\n                className: \"camera-preview-area\",\n                style: {\n                    height: showTopBar ? 'calc(100vh - 120px)' : '100vh',\n                    marginTop: backendStatus === 'disconnected' ? '32px' : '0',\n                    position: 'relative',\n                    backgroundColor: '#f5f5f5',\n                    overflow: 'hidden'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"camera-action-buttons-container\",\n                        style: {\n                            position: 'absolute',\n                            bottom: '20px',\n                            left: '50%',\n                            transform: 'translateX(-50%)',\n                            zIndex: 10,\n                            maxWidth: '600px',\n                            width: '100%',\n                            padding: '0 20px'\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_actionButton__WEBPACK_IMPORTED_MODULE_6__.ActionButtonGroup, {\n                            ref: actionButtonGroupRef,\n                            triggerCameraAccess: triggerCameraAccess,\n                            isCompactMode: windowSize.width < 768,\n                            onActionClick: handleActionButtonClick\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                            lineNumber: 1441,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1431,\n                        columnNumber: 9\n                    }, this),\n                    !showCamera ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"camera-preview-message\",\n                                style: {\n                                    padding: '20px',\n                                    textAlign: 'center',\n                                    position: showTopBar ? 'relative' : 'absolute',\n                                    width: '100%',\n                                    zIndex: 5\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"Camera preview will appear here\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1458,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"camera-size-indicator\",\n                                        children: [\n                                            \"Current window: \",\n                                            windowSize.percentage,\n                                            \"% of screen width\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1459,\n                                        columnNumber: 15\n                                    }, this),\n                                    isHydrated && showCameraPlaceholder && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"camera-placeholder-square\",\n                                        style: {\n                                            width: '180px',\n                                            height: '135px',\n                                            margin: '20px auto',\n                                            border: '2px dashed #666',\n                                            borderRadius: '4px',\n                                            backgroundColor: '#f5f5f5',\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center'\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontSize: '1.5rem'\n                                            },\n                                            children: \"\\uD83D\\uDCF7\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1477,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1463,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1451,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"canvas-container\",\n                                style: {\n                                    position: 'absolute',\n                                    top: 0,\n                                    left: 0,\n                                    width: '100%',\n                                    height: '100%',\n                                    backgroundColor: 'white',\n                                    overflow: 'hidden',\n                                    border: 'none',\n                                    zIndex: 10\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                    ref: canvasRef,\n                                    className: \"tracking-canvas\",\n                                    style: {\n                                        width: '100%',\n                                        height: '100%',\n                                        display: 'block'\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1497,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1483,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true) : null,\n                    isHydrated && showMetrics && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        width: metrics.width,\n                        height: metrics.height,\n                        distance: metrics.distance,\n                        isVisible: showMetrics\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1512,\n                        columnNumber: 11\n                    }, this),\n                    isHydrated && isClient && showCamera && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DynamicCameraAccess, {\n                        isShowing: showCamera,\n                        onClose: handleCameraClose,\n                        onCameraReady: handleCameraReady,\n                        showHeadPose: showHeadPose,\n                        showBoundingBox: showBoundingBox,\n                        showMask: showMask,\n                        showParameters: showParameters,\n                        videoRef: videoRef\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1522,\n                        columnNumber: 11\n                    }, this),\n                    isHydrated && isClient && showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"camera-permission-popup\",\n                        style: {\n                            position: 'fixed',\n                            top: 0,\n                            left: 0,\n                            width: '100%',\n                            height: '100%',\n                            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                            display: 'flex',\n                            justifyContent: 'center',\n                            alignItems: 'center',\n                            zIndex: 2000\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"camera-permission-dialog\",\n                            style: {\n                                width: '400px',\n                                backgroundColor: 'white',\n                                borderRadius: '8px',\n                                padding: '20px',\n                                boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"camera-permission-title\",\n                                    style: {\n                                        margin: '0 0 15px',\n                                        fontSize: '18px',\n                                        fontWeight: 'bold'\n                                    },\n                                    children: \"Camera Access Required\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1555,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"camera-permission-message\",\n                                    style: {\n                                        margin: '0 0 20px',\n                                        fontSize: '14px',\n                                        lineHeight: '1.4'\n                                    },\n                                    children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1560,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"camera-permission-buttons\",\n                                    style: {\n                                        display: 'flex',\n                                        justifyContent: 'flex-end',\n                                        gap: '10px'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handlePermissionDenied,\n                                            className: \"camera-btn\",\n                                            style: {\n                                                padding: '8px 16px',\n                                                backgroundColor: '#f0f0f0',\n                                                border: 'none',\n                                                borderRadius: '4px',\n                                                cursor: 'pointer'\n                                            },\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1573,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handlePermissionAccepted,\n                                            className: \"camera-btn\",\n                                            style: {\n                                                padding: '8px 16px',\n                                                backgroundColor: '#0066cc',\n                                                color: 'white',\n                                                border: 'none',\n                                                borderRadius: '4px',\n                                                cursor: 'pointer'\n                                            },\n                                            children: \"Continue\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1586,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1568,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                            lineNumber: 1548,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1536,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1419,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n        lineNumber: 1331,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscURBQXFEOztBQUNNO0FBQzlCO0FBQ007QUFDVTtBQUNrQjtBQUNHO0FBQ3FHO0FBQ3REO0FBQzVDO0FBRXJFLHlFQUF5RTtBQUN6RSxNQUFNZ0IsMEJBQTBCWCxtREFBT0EsQ0FDckMsSUFBTSw0VUFBa0Q7Ozs7OztJQUN0RFksS0FBSzs7QUFHVCw0REFBNEQ7QUFDNUQsTUFBTUMsc0JBQXNCYixtREFBT0EsQ0FDakMsSUFBTSwyU0FBdUM7Ozs7OztJQUUzQ1ksS0FBSztJQUNMRSxTQUFTLGtCQUNQLDhEQUFDQztZQUFJQyxPQUFPO2dCQUNWQyxVQUFVO2dCQUNWQyxLQUFLO2dCQUNMQyxNQUFNO2dCQUNOQyxXQUFXO2dCQUNYQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxpQkFBaUI7Z0JBQ2pCQyxRQUFRO2dCQUNSQyxjQUFjO2dCQUNkQyxTQUFTO2dCQUNUQyxlQUFlO2dCQUNmQyxnQkFBZ0I7Z0JBQ2hCQyxZQUFZO2dCQUNaQyxXQUFXO2dCQUNYQyxRQUFRO1lBQ1Y7OzhCQUNFLDhEQUFDaEI7b0JBQUlDLE9BQU87d0JBQUVnQixVQUFVO3dCQUFRQyxjQUFjO29CQUFPOzhCQUFHOzs7Ozs7OEJBQ3hELDhEQUFDQztvQkFBRWxCLE9BQU87d0JBQUVnQixVQUFVO3dCQUFRRyxZQUFZO3dCQUFRQyxPQUFPO29CQUFVOzhCQUFHOzs7Ozs7Ozs7Ozs7O0FBUS9ELFNBQVNDO0lBQ3RCLGdDQUFnQztJQUNoQyxNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBRzNDLCtDQUFRQSxDQUFDO0lBRTdDLDhCQUE4QjtJQUM5QixNQUFNLENBQUM0QyxZQUFZQyxjQUFjLEdBQUc3QywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUM4QyxxQkFBcUJDLHVCQUF1QixHQUFHL0MsK0NBQVFBLENBQUM7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Q0ssT0FBTztnQ0FDUEUsaUJBQWlCO2dDQUNqQkUsY0FBYztnQ0FDZHNPLFNBQVM7Z0NBQ1RZLFdBQVc7NEJBQ2I7OzhDQUNFLDhEQUFDYztvQ0FBR3pELFdBQVU7b0NBQTBCaE4sT0FBTzt3Q0FDN0NxUSxRQUFRO3dDQUNSclAsVUFBVTt3Q0FDVkcsWUFBWTtvQ0FDZDs4Q0FBRzs7Ozs7OzhDQUNILDhEQUFDRDtvQ0FBRThMLFdBQVU7b0NBQTRCaE4sT0FBTzt3Q0FDOUNxUSxRQUFRO3dDQUNSclAsVUFBVTt3Q0FDVjBQLFlBQVk7b0NBQ2Q7OENBQUc7Ozs7Ozs4Q0FJSCw4REFBQzNRO29DQUFJaU4sV0FBVTtvQ0FBNEJoTixPQUFPO3dDQUNoRFUsU0FBUzt3Q0FDVEUsZ0JBQWdCO3dDQUNoQitQLEtBQUs7b0NBQ1A7O3NEQUNFLDhEQUFDcEI7NENBQ0NDLFNBQVNqQzs0Q0FDVFAsV0FBVTs0Q0FDVmhOLE9BQU87Z0RBQ0wrTyxTQUFTO2dEQUNUeE8saUJBQWlCO2dEQUNqQkMsUUFBUTtnREFDUkMsY0FBYztnREFDZGlQLFFBQVE7NENBQ1Y7c0RBQ0Q7Ozs7OztzREFHRCw4REFBQ0g7NENBQ0NDLFNBQVNsQzs0Q0FDVE4sV0FBVTs0Q0FDVmhOLE9BQU87Z0RBQ0wrTyxTQUFTO2dEQUNUeE8saUJBQWlCO2dEQUNqQmEsT0FBTztnREFDUFosUUFBUTtnREFDUkMsY0FBYztnREFDZGlQLFFBQVE7NENBQ1Y7c0RBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVWpCIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2RpZmllZCBpbmRleC5qcyAtIEZpeGluZyBjYW52YXMgcmVmZXJlbmNlIGlzc3Vlc1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IFRvcEJhciBmcm9tICcuL2NvbXBvbmVudHMtZ3VpL3RvcEJhcic7XG5pbXBvcnQgRGlzcGxheVJlc3BvbnNlIGZyb20gJy4vY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkdyb3VwIH0gZnJvbSAnLi9jb21wb25lbnRzLWd1aS9hY3Rpb25CdXR0b24nO1xuaW1wb3J0IHsgc2hvd0NhcHR1cmVQcmV2aWV3LCBjYXB0dXJlSW1hZ2VzQXRQb2ludCwgZHJhd1JlZERvdCwgZ2V0UmFuZG9tUG9zaXRpb24sIHJ1bkNvdW50ZG93biB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlJztcbmltcG9ydCB7IGdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL0NhbGlicmF0ZVBvaW50cyc7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb25zZW50L0NvbnNlbnRDb250ZXh0JztcblxuLy8gRHluYW1pY2FsbHkgbG9hZCB0aGUgdmlkZW8gcHJvY2Vzc29yIGNvbXBvbmVudCAobm90IHRoZSBob29rIGRpcmVjdGx5KVxuY29uc3QgVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQgPSBkeW5hbWljKFxuICAoKSA9PiBpbXBvcnQoJy4vY29tcG9uZW50cy1ndWkvVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQnKSxcbiAgeyBzc3I6IGZhbHNlIH1cbik7XG5cbi8vIER5bmFtaWNhbGx5IGltcG9ydCB0aGUgY2FtZXJhIGNvbXBvbmVudCB3aXRoIFNTUiBkaXNhYmxlZFxuY29uc3QgRHluYW1pY0NhbWVyYUFjY2VzcyA9IGR5bmFtaWMoXG4gICgpID0+IGltcG9ydCgnLi9jb21wb25lbnRzLWd1aS9jYW1lcmFBY2Nlc3MnKSxcbiAgeyBcbiAgICBzc3I6IGZhbHNlLFxuICAgIGxvYWRpbmc6ICgpID0+IChcbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICB3aWR0aDogJzQ4MHB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMzYwcHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjBmOGZmJyxcbiAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICMwMDY2Y2MnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICB6SW5kZXg6IDk5OVxuICAgICAgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICc0OHB4JywgbWFyZ2luQm90dG9tOiAnMTVweCcgfX0+8J+TtzwvZGl2PlxuICAgICAgICA8cCBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnLCBmb250V2VpZ2h0OiAnYm9sZCcsIGNvbG9yOiAnIzAwNjZjYycgfX0+XG4gICAgICAgICAgTG9hZGluZyBjYW1lcmEuLi5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xsZWN0ZWREYXRhc2V0UGFnZSgpIHtcbiAgLy8gU3RhdGUgZm9yIGh5ZHJhdGlvbiBkZXRlY3Rpb25cbiAgY29uc3QgW2lzSHlkcmF0ZWQsIHNldElzSHlkcmF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGNhbWVyYSBtYW5hZ2VtZW50XG4gIGNvbnN0IFtzaG93Q2FtZXJhLCBzZXRTaG93Q2FtZXJhXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQZXJtaXNzaW9uUG9wdXAsIHNldFNob3dQZXJtaXNzaW9uUG9wdXBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1RvcEJhciwgc2V0U2hvd1RvcEJhcl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dNZXRyaWNzLCBzZXRTaG93TWV0cmljc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW291dHB1dFRleHQsIHNldE91dHB1dFRleHRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbWV0cmljcywgc2V0TWV0cmljc10gPSB1c2VTdGF0ZSh7XG4gICAgd2lkdGg6ICctLS0nLFxuICAgIGhlaWdodDogJy0tLScsXG4gICAgZGlzdGFuY2U6ICctLS0nXG4gIH0pO1xuICBjb25zdCBbd2luZG93U2l6ZSwgc2V0V2luZG93U2l6ZV0gPSB1c2VTdGF0ZSh7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHBlcmNlbnRhZ2U6IDEwMFxuICB9KTtcbiAgXG4gIC8vIFJlZmVyZW5jZXMgYW5kIG90aGVyIHN0YXRlXG4gIGNvbnN0IHByZXZpZXdBcmVhUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGNhcHR1cmUgdHJhY2tpbmdcbiAgY29uc3QgW2NhcHR1cmVDb3VudGVyLCBzZXRDYXB0dXJlQ291bnRlcl0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2NhcHR1cmVGb2xkZXIsIHNldENhcHR1cmVGb2xkZXJdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGNhbWVyYSBwcm9jZXNzaW5nIG9wdGlvbnNcbiAgY29uc3QgW3Nob3dIZWFkUG9zZSwgc2V0U2hvd0hlYWRQb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCb3VuZGluZ0JveCwgc2V0U2hvd0JvdW5kaW5nQm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNYXNrLCBzZXRTaG93TWFza10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UGFyYW1ldGVycywgc2V0U2hvd1BhcmFtZXRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gU3RhdGUgdG8gdHJhY2sgaWYgY2FtZXJhIHNxdWFyZSBzaG91bGQgYmUgc2hvd25cbiAgY29uc3QgW3Nob3dDYW1lcmFQbGFjZWhvbGRlciwgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRvIHN0b3JlIHRoZSBjYW1lcmEgcGVybWlzc2lvbiBzdGF0ZVxuICBjb25zdCBbY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQsIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFN0YXRlIGZvciB3YXJuaW5nIG1lc3NhZ2VcbiAgY29uc3QgW3Nob3dXYXJuaW5nLCBzZXRTaG93V2FybmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt3YXJuaW5nTWVzc2FnZSwgc2V0V2FybmluZ01lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgLy8gQmFja2VuZCBjb25uZWN0aW9uIHN0YXR1c1xuICBjb25zdCBbYmFja2VuZFN0YXR1cywgc2V0QmFja2VuZFN0YXR1c10gPSB1c2VTdGF0ZSgnY2hlY2tpbmcnKTtcblxuICBjb25zdCBhY3Rpb25CdXR0b25Hcm91cFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3N0YXR1c01lc3NhZ2UsIHNldFN0YXR1c01lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgLy8gU3RhdGUgZm9yIHNldHRpbmdzIHZpc2liaWxpdHlcbiAgY29uc3QgW3Nob3dTZXR0aW5ncywgc2V0U2hvd1NldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFN0YXRlIGZvciBjdXJyZW50IHVzZXIgSURcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGUoJ2RlZmF1bHQnKTtcbiAgXG4gIC8vIEdldCB1c2VyIElEIGZyb20gY29uc2VudCBjb250ZXh0XG4gIGNvbnN0IHsgdXNlcklkIH0gPSB1c2VDb25zZW50KCk7XG4gIFxuICAvLyBIYW5kbGUgdXNlciBJRCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXJJZCAmJiB1c2VySWQgIT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyIElEIGNoYW5nZWQgaW4gaW5kZXguanM6JywgdXNlcklkKTtcbiAgICAgIHNldEN1cnJlbnRVc2VySWQodXNlcklkKTtcbiAgICAgIFxuICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gbm90aWZ5IG90aGVyIGNvbXBvbmVudHNcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCd1c2VySWRDaGFuZ2UnLCB7XG4gICAgICAgIGRldGFpbDogeyB1c2VySWQgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICBcbiAgICAgIC8vIExvYWQgc2V0dGluZ3MgZm9yIHRoZSBuZXcgdXNlclxuICAgICAgbG9hZFNldHRpbmdzKHVzZXJJZCk7XG4gICAgfVxuICB9LCBbdXNlcklkLCBjdXJyZW50VXNlcklkXSk7XG5cbiAgLy8gTG9hZCBzZXR0aW5ncyBmb3IgYSBzcGVjaWZpYyB1c2VyXG4gIGNvbnN0IGxvYWRTZXR0aW5ncyA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgc2V0dGluZ3MgZm9yIHVzZXI6JywgdXNlcklkKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHt1c2VySWR9YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzZXR0aW5ncycpO1xuICAgICAgXG4gICAgICBjb25zdCB1c2VyU2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBzZXR0aW5nczonLCB1c2VyU2V0dGluZ3MpO1xuICAgICAgXG4gICAgICAvLyBEaXNwYXRjaCBzZXR0aW5ncyB1cGRhdGUgZXZlbnRcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdjYXB0dXJlU2V0dGluZ3MnLFxuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAuLi51c2VyU2V0dGluZ3NcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycpIHtcbiAgICAgICAgY29uc3QgeyB1c2VySWQsIHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBzZXR0aW5ncyBmb3IgdGhpcyB1c2VyXG4gICAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncykge1xuICAgICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyh7XG4gICAgICAgICAgICAgIHRpbWVzOiB0aW1lcyB8fCAxLFxuICAgICAgICAgICAgICBkZWxheTogZGVsYXkgfHwgM1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgfTtcbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICAvLyBJbXByb3ZlZCBnZXQgY2FudmFzIGZ1bmN0aW9uIHRoYXQgdHJpZXMgbXVsdGlwbGUgbWV0aG9kc1xuICBjb25zdCBnZXRNYWluQ2FudmFzID0gKCkgPT4ge1xuICAgIC8vIE1ldGhvZCAxOiBDaGVjayBpZiB3ZSBoYXZlIGEgZGlyZWN0IHJlZmVyZW5jZVxuICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBkaXJlY3QgY2FudmFzUmVmLmN1cnJlbnQgcmVmZXJlbmNlXCIpO1xuICAgICAgcmV0dXJuIGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIH1cbiAgICBcbiAgICAvLyBNZXRob2QgMjogVHJ5IHRvIGdldCBnbG9iYWwgcmVmZXJlbmNlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcykge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBnbG9iYWwgd2hpdGVTY3JlZW5DYW52YXMgcmVmZXJlbmNlXCIpO1xuICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXM7IC8vIFVwZGF0ZSBvdXIgcmVmXG4gICAgICByZXR1cm4gd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgIH1cbiAgICBcbiAgICAvLyBNZXRob2QgMzogVHJ5IHRvIGZpbmQgdmlhIERPTVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYWNraW5nLWNhbnZhcycpO1xuICAgICAgaWYgKGNhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBjYW52YXMgdmlhIERPTSBzZWxlY3RvclwiKTtcbiAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgb3VyIHJlZlxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXNFbGVtZW50OyAvLyBVcGRhdGUgZ2xvYmFsIHJlZiB0b29cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FudmFzRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS53YXJuKFwiTm8gY2FudmFzIGZvdW5kIHZpYSBhbnkgbWV0aG9kXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBcbiAgLy8gQ2hlY2sgaWYgd2UncmUgb24gdGhlIGNsaWVudCBvciBzZXJ2ZXJcbiAgY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgXG4gIC8vIEFkZCBlZmZlY3QgdG8gaW5pdGlhbGl6ZSBjYW52YXMgYW5kIG1ha2UgaXQgZ2xvYmFsbHkgYXZhaWxhYmxlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIERlYnVnIGluZm8gdG8gdmVyaWZ5IGNhbnZhcyBzaXplIGFuZCBhdmFpbGFiaWxpdHlcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkluZGV4LmpzOiBDYW52YXMgaW5pdGlhbGl6ZWRcIiwge1xuICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBNYWtlIGNhbnZhcyBFWFBMSUNJVExZIGF2YWlsYWJsZSBnbG9iYWxseVxuICAgICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzO1xuICAgICAgXG4gICAgICAvLyBBbHNvIHN0b3JlIGNhbnZhcyBkaW1lbnNpb25zXG4gICAgICB3aW5kb3cuY2FudmFzRGltZW5zaW9ucyA9IHtcbiAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW52YXMgcmVmZXJlbmNlIGlzIG5vdCBhdmFpbGFibGUgZHVyaW5nIGluaXRpYWxpemF0aW9uXCIpO1xuICAgIH1cbiAgICBcbiAgICAvLyBFeHBvc2UgY2FudmFzIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIGdsb2JhbGx5XG4gICAgd2luZG93LmluaXRpYWxpemVDYW52YXMgPSAoY2FudmFzLCBwYXJlbnQpID0+IHtcbiAgICAgIGlmICghY2FudmFzIHx8ICFwYXJlbnQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbaW5pdGlhbGl6ZUNhbnZhc10gQ2FudmFzIG9yIHBhcmVudCBpcyBudWxsJywgeyBjYW52YXMsIHBhcmVudCB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBTZXQgY2FudmFzIGRpbWVuc2lvbnMgdG8gbWF0Y2ggcGFyZW50XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aCB8fCA4MDA7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIGNhbnZhcyBhbmQgc2V0IHdoaXRlIGJhY2tncm91bmRcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYENhbnZhcyBpbml0aWFsaXplZCB3aXRoIGRpbWVuc2lvbnM6ICR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZVxuICAgICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHdpbmRvdy5jYW52YXNEaW1lbnNpb25zID0ge1xuICAgICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbml0aWFsaXplQ2FudmFzXSBFcnJvciBpbml0aWFsaXppbmcgY2FudmFzOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gQ2hlY2sgY2FudmFzIHZpc2liaWxpdHkgYW5kIGZvcmNlIGluaXRpYWxpemF0aW9uIGFmdGVyIGEgYnJpZWYgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgIGlmIChjYW52YXMpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJDYW52YXMgaW5pdGlhbCB2aXNpYmlsaXR5IGNoZWNrOlwiLCB7XG4gICAgICAgICAgZGltZW5zaW9uczogYCR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCxcbiAgICAgICAgICByZWN0U2l6ZTogYCR7cmVjdC53aWR0aH14JHtyZWN0LmhlaWdodH1gLFxuICAgICAgICAgIGlzVmlzaWJsZTogKHJlY3Qud2lkdGggPiAwICYmIHJlY3QuaGVpZ2h0ID4gMClcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JjZSBpbml0aWFsaXphdGlvbiBpZiBuZWVkZWRcbiAgICAgICAgYWRqdXN0Q2FudmFzRGltZW5zaW9ucygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ2FudmFzIG5vdCBmb3VuZCBkdXJpbmcgdmlzaWJpbGl0eSBjaGVja1wiKTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWxldGUgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgICAgZGVsZXRlIHdpbmRvdy5jYW52YXNEaW1lbnNpb25zO1xuICAgICAgZGVsZXRlIHdpbmRvdy5pbml0aWFsaXplQ2FudmFzO1xuICAgIH07XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG4gIC8vIEltcHJvdmVkIGNhbnZhcyBkaW1lbnNpb25zIGFkanVzdG1lbnRcbiAgY29uc3QgYWRqdXN0Q2FudmFzRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkIHx8ICFwcmV2aWV3QXJlYVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyBjYW52YXMgZm91bmQgdG8gYWRqdXN0IGRpbWVuc2lvbnNcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHByZXZpZXdBcmVhUmVmLmN1cnJlbnQ7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBzaXplIG9mIHRoZSBwcmV2aWV3IGFyZWFcbiAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBwcm9wZXIgaGVpZ2h0IGJhc2VkIG9uIHRvcCBiYXIgdmlzaWJpbGl0eVxuICAgIGNvbnN0IHRvcEJhckhlaWdodCA9IHNob3dUb3BCYXIgPyAxMjAgOiAwOyAvLyBBZGp1c3QgdGhpcyB2YWx1ZSBiYXNlZCBvbiB5b3VyIHRvcCBiYXIncyBhY3R1YWwgaGVpZ2h0XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJBZGp1c3RpbmcgY2FudmFzIGRpbWVuc2lvbnNcIiwge1xuICAgICAgY29udGFpbmVyV2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICBjb250YWluZXJIZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgICAgdG9wQmFyVmlzaWJsZTogc2hvd1RvcEJhcixcbiAgICAgIGNhbGN1bGF0ZWRIZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gICAgfSk7XG4gICAgXG4gICAgLy8gU2V0IGNhbnZhcyBkaW1lbnNpb25zIHRvIG1hdGNoIGNvbnRhaW5lciBzaXplIHdpdGggdG9wIGJhciBhZGp1c3RtZW50XG4gICAgY2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgXG4gICAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBcbiAgICAvLyBGaWxsIHdpdGggd2hpdGUgYmFja2dyb3VuZFxuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBDYW52YXMgZGltZW5zaW9ucyBhZGp1c3RlZDogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZSB3aXRoIGN1cnJlbnQgZGltZW5zaW9uc1xuICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICB3aW5kb3cuY2FudmFzRGltZW5zaW9ucyA9IHtcbiAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICB9O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGNhcHR1cmUgZm9sZGVyIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FwdHVyZUZvbGRlciAmJiBpc0NsaWVudCAmJiBpc0h5ZHJhdGVkKSB7XG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzpcXC5dL2csICctJyk7XG4gICAgICBzZXRDYXB0dXJlRm9sZGVyKGBzZXNzaW9uXyR7dGltZXN0YW1wfWApO1xuICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgY2FwdHVyZSBmb2xkZXI6IHNlc3Npb25fJHt0aW1lc3RhbXB9YCk7XG4gICAgfVxuICB9LCBbY2FwdHVyZUZvbGRlciwgaXNDbGllbnQsIGlzSHlkcmF0ZWRdKTtcbiAgXG4gIC8vIFNldCBoeWRyYXRlZCBzdGF0ZSBhZnRlciBtb3VudCB0byBwcmV2ZW50IGh5ZHJhdGlvbiBtaXNtYXRjaFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzSHlkcmF0ZWQodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICAvLyBDaGVjayBiYWNrZW5kIGNvbm5lY3Rpb24gb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47IC8vIFNraXAgb24gc2VydmVyIG9yIGJlZm9yZSBoeWRyYXRpb25cbiAgICBcbiAgICBjb25zdCBjaGVja0JhY2tlbmRDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jaGVjay1iYWNrZW5kLWNvbm5lY3Rpb24nKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgc2V0QmFja2VuZFN0YXR1cyhkYXRhLmNvbm5lY3RlZCA/ICdjb25uZWN0ZWQnIDogJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICBjb25zb2xlLmxvZyhgQmFja2VuZCBjb25uZWN0aW9uOiAke2RhdGEuY29ubmVjdGVkID8gJ09LJyA6ICdGYWlsZWQnfWApO1xuICAgICAgICBcbiAgICAgICAgLy8gU2hvdyBzdGF0dXMgaW4gb3V0cHV0IHRleHRcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgQmFja2VuZCAke2RhdGEuY29ubmVjdGVkID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkIC0gdXNpbmcgbW9jayBtb2RlJ31gKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGJhY2tlbmQgY29ubmVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgIHNldEJhY2tlbmRTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICBzZXRPdXRwdXRUZXh0KCdCYWNrZW5kIGRpc2Nvbm5lY3RlZCAtIHVzaW5nIG1vY2sgbW9kZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjaGVja0JhY2tlbmRDb25uZWN0aW9uKCk7XG4gICAgXG4gICAgLy8gV2VsY29tZSBtZXNzYWdlIGFmdGVyIGJhY2tlbmQgY2hlY2tcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldE91dHB1dFRleHQoJ0NhbWVyYSBzeXN0ZW0gcmVhZHkuIENsaWNrIFwiU2hvdyBQcmV2aWV3XCIgdG8gc3RhcnQgY2FtZXJhLicpO1xuICAgIH0sIDIwMDApO1xuICB9LCBbaXNIeWRyYXRlZF0pO1xuXG4gIC8vIFVwZGF0ZSBtZXRyaWNzIGFuZCB3aW5kb3cgc2l6ZSB3aGVuIGNvbXBvbmVudCBtb3VudHMgYW5kIG9uIHdpbmRvdyByZXNpemVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47IC8vIFNraXAgb24gc2VydmVyIG9yIGJlZm9yZSBoeWRyYXRpb25cbiAgICBcbiAgICBjb25zdCB1cGRhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgaWYgKHByZXZpZXdBcmVhUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBwcmV2aWV3QXJlYVJlZi5jdXJyZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBwcmV2aWV3QXJlYVJlZi5jdXJyZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSB3aGF0IHBlcmNlbnRhZ2Ugb2YgdGhlIHNjcmVlbiB3ZSdyZSB1c2luZ1xuICAgICAgICBjb25zdCBzY3JlZW5QZXJjZW50YWdlID0gKHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LnNjcmVlbi53aWR0aCkgKiAxMDA7XG4gICAgICAgIFxuICAgICAgICBzZXRNZXRyaWNzKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodFxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBzZXRXaW5kb3dTaXplKHtcbiAgICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgcGVyY2VudGFnZTogTWF0aC5yb3VuZChzY3JlZW5QZXJjZW50YWdlKVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGUgY2FudmFzIGRpbWVuc2lvbnNcbiAgICAgICAgYWRqdXN0Q2FudmFzRGltZW5zaW9ucygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBJbml0aWFsIGNhbGN1bGF0aW9uXG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gICAgfTtcbiAgfSwgW2lzSHlkcmF0ZWRdKTtcblxuICAvLyBBZGQgZWZmZWN0IHRvIHVwZGF0ZSBjYW52YXMgd2hlbiBkaW1lbnNpb25zIGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0NsaWVudCAmJiBpc0h5ZHJhdGVkKSB7XG4gICAgICBhZGp1c3RDYW52YXNEaW1lbnNpb25zKCk7XG4gICAgfVxuICB9LCBbd2luZG93U2l6ZSwgc2hvd1RvcEJhciwgaXNIeWRyYXRlZF0pO1xuICBcbiAgLy8gQWRkIHN0eWxlcyB0byBkb2N1bWVudCBoZWFkIGZvciBidXR0b24gaGlnaGxpZ2h0aW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIHN0eWxlIGVsZW1lbnRcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICBAa2V5ZnJhbWVzIHB1bHNlIHtcbiAgICAgICAgMCUgeyBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMCwgMTAyLCAyMDQsIDAuNyk7IH1cbiAgICAgICAgNzAlIHsgYm94LXNoYWRvdzogMCAwIDAgMTBweCByZ2JhKDAsIDEwMiwgMjA0LCAwKTsgfVxuICAgICAgICAxMDAlIHsgYm94LXNoYWRvdzogMCAwIDAgMCByZ2JhKDAsIDEwMiwgMjA0LCAwKTsgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwcHgpOyB9XG4gICAgICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC5idG4taGlnaGxpZ2h0IHtcbiAgICAgICAgYW5pbWF0aW9uOiBwdWxzZSAxLjVzIGluZmluaXRlO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5OWZmICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAud2FybmluZy1iYW5uZXIge1xuICAgICAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuICAgIGA7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgXG4gICAgLy8gQ2xlYW4gdXBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgfTtcbiAgfSwgW2lzSHlkcmF0ZWRdKTtcbiAgXG4gIC8vIE1ha2UgdG9nZ2xlVG9wQmFyIGZ1bmN0aW9uIGF2YWlsYWJsZSBnbG9iYWxseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBNYWtlIHRvZ2dsZVRvcEJhciBhdmFpbGFibGUgdG8gb3RoZXIgY29tcG9uZW50c1xuICAgIHdpbmRvdy50b2dnbGVUb3BCYXIgPSAoc2hvdykgPT4ge1xuICAgICAgc2V0U2hvd1RvcEJhcihzaG93KTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICAgIGlmICghc2hvdykge1xuICAgICAgICBzZXRTaG93TWV0cmljcyhmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkanVzdCBjYW52YXMgZGltZW5zaW9ucyBhZnRlciB0b2dnbGluZ1xuICAgICAgc2V0VGltZW91dChhZGp1c3RDYW52YXNEaW1lbnNpb25zLCAxMDApO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICBkZWxldGUgd2luZG93LnRvZ2dsZVRvcEJhcjtcbiAgICB9O1xuICB9LCBbaXNIeWRyYXRlZF0pO1xuXG4gIC8vIFRvZ2dsZSBjYW1lcmEgZnVuY3Rpb25cbiAgY29uc3QgdG9nZ2xlQ2FtZXJhID0gKHNob3VsZEVuYWJsZSkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICBpZiAoc2hvdWxkRW5hYmxlKSB7XG4gICAgICBzZXRTaG93Q2FtZXJhKHRydWUpO1xuICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgIHNldE91dHB1dFRleHQoJ0NhbWVyYSBwcmV2aWV3IHN0YXJ0ZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd0NhbWVyYShmYWxzZSk7XG4gICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2FtZXJhIHByZXZpZXcgc3RvcHBlZCcpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZXIgZm9yIGFjdGlvbiBidXR0b24gY2xpY2tzXG4gIGNvbnN0IGhhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrID0gKGFjdGlvblR5cGUsIHBhcmFtcykgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHRvZ2dsaW5nIHRoZSB0b3AgYmFyXG4gICAgaWYgKGFjdGlvblR5cGUgPT09ICd0b2dnbGVUb3BCYXInKSB7XG4gICAgICAvLyBjb25zdCBuZXdUb3BCYXJTdGF0ZSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyAhIXZhbHVlIDogIXNob3dUb3BCYXI7XG4gICAgICBsZXQgbmV3VG9wQmFyU3RhdGU7XG4gICAgXG4gICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIG5ld1RvcEJhclN0YXRlID0gcGFyYW1zO1xuICAgICAgfSBlbHNlIGlmIChwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcy52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmV3VG9wQmFyU3RhdGUgPSAhIXBhcmFtcy52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RvcEJhclN0YXRlID0gIXNob3dUb3BCYXI7XG4gICAgICB9XG4gICAgICBzZXRTaG93VG9wQmFyKG5ld1RvcEJhclN0YXRlKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICAgIGlmICghbmV3VG9wQmFyU3RhdGUpIHtcbiAgICAgICAgc2V0U2hvd01ldHJpY3MoZmFsc2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRPdXRwdXRUZXh0KGBUb3BCYXIgJHtuZXdUb3BCYXJTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ30keyFuZXdUb3BCYXJTdGF0ZSA/ICcsIE1ldHJpY3MgaGlkZGVuJyA6ICcnfWApO1xuICAgICAgXG4gICAgICAvLyBBZGp1c3QgY2FudmFzIGRpbWVuc2lvbnMgYWZ0ZXIgdG9nZ2xpbmdcbiAgICAgIHNldFRpbWVvdXQoYWRqdXN0Q2FudmFzRGltZW5zaW9ucywgMTAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgIHNldFNob3dXYXJuaW5nKGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3Rpbmcgd2FybmluZ3NcbiAgICBjb25zdCBzYWZlUGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICBcbiAgICAvLyBVc2Ugc2FmZVBhcmFtcyBpbnN0ZWFkIG9mIGNvbnRyb2xWYWx1ZXNcbiAgICBjb25zdCByYW5kb21UaW1lcyA9IHNhZmVQYXJhbXMucmFuZG9tVGltZXMgfHwgMTtcbiAgICBjb25zdCBkZWxheVNlY29uZHMgPSBzYWZlUGFyYW1zLmRlbGF5U2Vjb25kcyB8fCAzO1xuXG4gICAgc3dpdGNoIChhY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdwcmV2aWV3JzpcbiAgICAgICAgLy8gVG9nZ2xlIGNhbWVyYSBzdGF0ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHRvZ2dsZUNhbWVyYShmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQpIHtcbiAgICAgICAgICB0b2dnbGVDYW1lcmEodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIHNob3cgcGVybWlzc2lvbiBwb3B1cFxuICAgICAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgICAgICAgc2V0T3V0cHV0VGV4dCgnT3BlbmluZyBjYW1lcmEgcHJldmlldycpO1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICdzZXRSYW5kb20nOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdTdGFydGluZyByYW5kb20gc2VxdWVuY2UuLi4nKTtcbiAgICAgICAgc2V0U2hvd1RvcEJhcihmYWxzZSk7XG4gICAgICAgIGlmIChzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2UgdGhlIGltcG9ydGVkIG1vZHVsZSBhcHByb2FjaCAtIHNpbWlsYXIgdG8gY2FsaWJyYXRlXG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0UmFuZG9tKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSByZWZlcmVuY2UgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBBY3Rpb25CdXR0b25Hcm91cCByZWYgbWV0aG9kIGZvciBTZXQgUmFuZG9tJyk7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC5oYW5kbGVTZXRSYW5kb20oKTtcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyAmJiBcbiAgICAgICAgICB0eXBlb2Ygd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVTZXRSYW5kb20gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBnbG9iYWwgbWV0aG9kXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdsb2JhbCBicmlkZ2UgbWV0aG9kIGZvciBTZXQgUmFuZG9tJyk7XG4gICAgICAgICAgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVTZXRSYW5kb20oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIGNhbnZhcyB0byB3b3JrIHdpdGhcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgbm90IGZvdW5kIGZvciByYW5kb20gc2VxdWVuY2VcIik7XG4gICAgICAgICAgICBzZXRPdXRwdXRUZXh0KFwiRXJyb3I6IENhbnZhcyBub3QgYXZhaWxhYmxlIGZvciByYW5kb20gc2VxdWVuY2VcIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgY29udHJvbCB2YWx1ZXMgZnJvbSB0aGUgVG9wQmFyXG4gICAgICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGQnKTtcbiAgICAgICAgICBjb25zdCBkZWxheUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRyb2wtaW5wdXQtZmllbGQnKVsxXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEZWZhdWx0IHZhbHVlcyBpZiBpbnB1dHMgY2FuJ3QgYmUgZm91bmRcbiAgICAgICAgICBsZXQgdGltZXMgPSAxO1xuICAgICAgICAgIGxldCBkZWxheSA9IDM7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUGFyc2UgaW5wdXQgdmFsdWVzIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFRpbWUgPSBwYXJzZUludCh0aW1lSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkVGltZSkgJiYgcGFyc2VkVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgdGltZXMgPSBwYXJzZWRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGVsYXlJbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGVsYXkgPSBwYXJzZUludChkZWxheUlucHV0LnZhbHVlLCAxMCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZERlbGF5KSAmJiBwYXJzZWREZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgZGVsYXkgPSBwYXJzZWREZWxheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTG9hZCBhbGwgcmVxdWlyZWQgbW9kdWxlcyBmaXJzdCwgdGhlbiBwcm9jZWVkIHdpdGggZXhlY3V0aW9uXG4gICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvQWN0aW9uL2NvdW50U2F2ZScpLFxuICAgICAgICAgICAgaW1wb3J0KCcuLi8uLi9jb21wb25lbnRzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvSGVscGVyL3NhdmVmaWxlJylcbiAgICAgICAgICBdKS50aGVuKGFzeW5jIChbXG4gICAgICAgICAgICBjb3VudFNhdmVNb2R1bGUsXG4gICAgICAgICAgICBzYXZlZmlsZU1vZHVsZVxuICAgICAgICAgIF0pID0+IHtcbiAgICAgICAgICAgIC8vIERlc3RydWN0dXJlIHRoZSBpbXBvcnRlZCBtb2R1bGVzXG4gICAgICAgICAgICBjb25zdCB7IGdldFJhbmRvbVBvc2l0aW9uLCBkcmF3UmVkRG90LCBydW5Db3VudGRvd24sIHNob3dDYXB0dXJlUHJldmlldyB9ID0gY291bnRTYXZlTW9kdWxlO1xuICAgICAgICAgICAgY29uc3QgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9ID0gc2F2ZWZpbGVNb2R1bGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFByb2Nlc3MgYWxsIGNhcHR1cmVzIHNlcXVlbnRpYWxseVxuICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDYXB0dXJlID0gMTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50Q2FwdHVyZSA8PSB0aW1lcykge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgZm9yIGN1cnJlbnQgY2FwdHVyZVxuICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhcHR1cmUgJHtjdXJyZW50Q2FwdHVyZX0gb2YgJHt0aW1lc31gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBjYW52YXMgYmVmb3JlIGVhY2ggY2FwdHVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gcG9zaXRpb24gZm9yIHRoaXMgY2FwdHVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmFuZG9tUG9zaXRpb24oY2FudmFzLCAyMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRHJhdyB0aGUgZG90XG4gICAgICAgICAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHJlZHJhd0ludGVydmFsIHRvIGVuc3VyZSBkb3Qgc3RheXMgdmlzaWJsZVxuICAgICAgICAgICAgICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUnVuIGNvdW50ZG93biBhbmQgd2FpdCBmb3IgaXQgdG8gY29tcGxldGVcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgIHJ1bkNvdW50ZG93bihcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSBiYXNlZCBvbiBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhcHR1cmUgJHtjdXJyZW50Q2FwdHVyZX0vJHt0aW1lc306ICR7c3RhdHVzLnByb2Nlc3NTdGF0dXN9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2hlbiBjb3VudGRvd24gY29tcGxldGVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHJlZHJhd0ludGVydmFsIGFmdGVyIGNvdW50ZG93blxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFdhaXQgYnJpZWZseSBhZnRlciBjb3VudGRvd25cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKGNhcHR1cmVSZXN1bHQgJiYgKGNhcHR1cmVSZXN1bHQuc2NyZWVuSW1hZ2UgfHwgY2FwdHVyZVJlc3VsdC5zdWNjZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudGVyKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjYXB0dXJpbmcgcG9pbnQgJHtjdXJyZW50Q2FwdHVyZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGJldHdlZW4gY2FwdHVyZXMgZm9yIHRoZSBzcGVjaWZpZWQgZGVsYXkgdGltZVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2FwdHVyZSA8IHRpbWVzKSB7XG4gICAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBXYWl0aW5nICR7ZGVsYXl9cyBiZWZvcmUgbmV4dCBjYXB0dXJlLi4uYCk7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gbmV4dCBjYXB0dXJlXG4gICAgICAgICAgICAgICAgY3VycmVudENhcHR1cmUrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2VxdWVuY2UgY29tcGxldGVcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUmFuZG9tIGNhcHR1cmUgc2VxdWVuY2UgY29tcGxldGVkOiAke3N1Y2Nlc3NDb3VudH0vJHt0aW1lc30gY2FwdHVyZXMgc3VjY2Vzc2Z1bGApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSYW5kb20gc2VxdWVuY2UgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUmFuZG9tIHNlcXVlbmNlIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpblxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dUb3BCYXIodHJ1ZSksIDIwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW1wb3J0IHJlcXVpcmVkIG1vZHVsZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyYW5kb21Eb3QnOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdSYW5kb20gZG90IGFjdGlvbiB0cmlnZ2VyZWQnKTtcbiAgICAgICAgc2V0U2hvd1RvcEJhcihmYWxzZSk7XG4gICAgICAgIGlmIChzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBhY2Nlc3MgUmFuZG9tIERvdCBmdW5jdGlvbmFsaXR5Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgdGhlIHJhbmRvbSBkb3QgZnVuY3Rpb25hbGl0eSBmcm9tIGFjdGlvbkJ1dHRvbi5qcyBieSBkZWxlZ2F0aW5nIHRvIEFjdGlvbkJ1dHRvbkdyb3VwXG4gICAgICAgIC8vIFRoaXMgYXNzdW1lcyB5b3UgaGF2ZSBhIHJlZiB0byB0aGUgQWN0aW9uQnV0dG9uR3JvdXAgY29tcG9uZW50XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlUmFuZG9tRG90KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHJlZiBtZXRob2QnKTtcbiAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LmhhbmRsZVJhbmRvbURvdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMgJiYgXG4gICAgICAgICAgdHlwZW9mIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlUmFuZG9tRG90ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdsb2JhbCBicmlkZ2UgbWV0aG9kJyk7XG4gICAgICAgICAgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVSYW5kb21Eb3QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBub3QgZm91bmQgZm9yIHJhbmRvbSBkb3QgYWN0aW9uXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgcmFuZG9tIGRvdFwiKTtcbiAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7IC8vIFNob3cgVG9wQmFyIGFnYWluIGlmIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBwcmV2aWV3QXJlYVJlZi5jdXJyZW50O1xuICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGFyZW50IG5vdCBmb3VuZCBmb3IgY2FudmFzXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgcGFyZW50IG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEluaXRpYWxpemUgY2FudmFzIGV4cGxpY2l0bHlcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYENhbnZhcyByZWFkeSBmb3IgcmFuZG9tIGRvdDogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIHJlZmVyZW5jZVxuICAgICAgICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gcG9zaXRpb25cbiAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJhbmRvbVBvc2l0aW9uKGNhbnZhcywgMjApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERyYXcgdGhlIGRvdCB1c2luZyB0aGUgaW1wb3J0ZWQgZnVuY3Rpb25cbiAgICAgICAgICBjb25zdCBkb3QgPSBkcmF3UmVkRG90KGN0eCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSwgOCwgZmFsc2UpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBSYW5kb20gZG90IGRyYXduIGF0OiAke3Bvc2l0aW9uLnh9LCAke3Bvc2l0aW9uLnl9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhcnQgYSBjb3VudGRvd24gZm9yIGNhcHR1cmVcbiAgICAgICAgICBydW5Db3VudGRvd24oXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgIChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIFVJIGJhc2VkIG9uIHN0YXR1c1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KHN0YXR1cy5wcm9jZXNzU3RhdHVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gRW5hYmxlIGNhbWVyYSBiZWZvcmUgY2FwdHVyZVxuICAgICAgICAgICAgICAvLyB0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gV2FpdCBicmllZmx5IGZvciBjYW1lcmEgdG8gaW5pdGlhbGl6ZVxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGRpcmVjdGx5IGltcG9ydGVkIGNhcHR1cmVJbWFnZXNBdFBvaW50IGZyb20gdGhlIEhlbHBlci9zYXZlZmlsZS5qc1xuICAgICAgICAgICAgICAgIGltcG9ydCgnLi4vLi4vY29tcG9uZW50cy9jb2xsZWN0ZWQtZGF0YXNldC1jdXN0b21pemVkL0hlbHBlci9zYXZlZmlsZScpLnRoZW4oKHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiBhZnRlciBjYXB0dXJlXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIyMDApO1xuICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhcHR1cmluZyBpbWFnZXM6XCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYEVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbXBvcnRpbmcgc2F2ZWZpbGUgbW9kdWxlOlwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgRXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoZWFkUG9zZSc6XG4gICAgICAgIGNvbnN0IG5ld0hlYWRQb3NlU3RhdGUgPSAhc2hvd0hlYWRQb3NlO1xuICAgICAgICBzZXRTaG93SGVhZFBvc2UobmV3SGVhZFBvc2VTdGF0ZSk7XG4gICAgICAgIHNldE91dHB1dFRleHQoYEhlYWQgcG9zZSB2aXN1YWxpemF0aW9uICR7bmV3SGVhZFBvc2VTdGF0ZSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9YCk7XG4gICAgICAgIGlmIChuZXdIZWFkUG9zZVN0YXRlICYmICFzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXdIZWFkUG9zZVN0YXRlICYmICFzaG93Qm91bmRpbmdCb3ggJiYgIXNob3dNYXNrICYmICFzaG93UGFyYW1ldGVycykge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9ucyBpZiBjYW1lcmEgaXMgYWN0aXZlXG4gICAgICAgIGlmIChzaG93Q2FtZXJhICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgICAgIC4uLndpbmRvdy52aWRlb1Byb2Nlc3Nvci5vcHRpb25zLFxuICAgICAgICAgICAgc2hvd0hlYWRQb3NlOiBuZXdIZWFkUG9zZVN0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAnYm91bmRpbmdCb3gnOlxuICAgICAgICBjb25zdCBuZXdCb3VuZGluZ0JveFN0YXRlID0gIXNob3dCb3VuZGluZ0JveDtcbiAgICAgICAgc2V0U2hvd0JvdW5kaW5nQm94KG5ld0JvdW5kaW5nQm94U3RhdGUpO1xuICAgICAgICBzZXRPdXRwdXRUZXh0KGBCb3VuZGluZyBib3ggJHtuZXdCb3VuZGluZ0JveFN0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgICAgICBpZiAobmV3Qm91bmRpbmdCb3hTdGF0ZSAmJiAhc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbmV3Qm91bmRpbmdCb3hTdGF0ZSAmJiAhc2hvd0hlYWRQb3NlICYmICFzaG93TWFzayAmJiAhc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc29yIG9wdGlvbnMgaWYgY2FtZXJhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICAuLi53aW5kb3cudmlkZW9Qcm9jZXNzb3Iub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dCb3VuZGluZ0JveDogbmV3Qm91bmRpbmdCb3hTdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ21hc2snOlxuICAgICAgICBjb25zdCBuZXdNYXNrU3RhdGUgPSAhc2hvd01hc2s7XG4gICAgICAgIHNldFNob3dNYXNrKG5ld01hc2tTdGF0ZSk7XG4gICAgICAgIHNldE91dHB1dFRleHQoYE1hc2sgJHtuZXdNYXNrU3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgICAgIGlmIChuZXdNYXNrU3RhdGUgJiYgIXNob3dDYW1lcmEpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5ld01hc2tTdGF0ZSAmJiAhc2hvd0hlYWRQb3NlICYmICFzaG93Qm91bmRpbmdCb3ggJiYgIXNob3dQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHByb2Nlc3NvciBvcHRpb25zIGlmIGNhbWVyYSBpcyBhY3RpdmVcbiAgICAgICAgaWYgKHNob3dDYW1lcmEgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICAgICAgLi4ud2luZG93LnZpZGVvUHJvY2Vzc29yLm9wdGlvbnMsXG4gICAgICAgICAgICBzaG93TWFzazogbmV3TWFza1N0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAncGFyYW1ldGVycyc6XG4gICAgICAgIGNvbnN0IG5ld1BhcmFtZXRlcnNTdGF0ZSA9ICFzaG93UGFyYW1ldGVycztcbiAgICAgICAgc2V0U2hvd1BhcmFtZXRlcnMobmV3UGFyYW1ldGVyc1N0YXRlKTtcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgUGFyYW1ldGVycyAke25ld1BhcmFtZXRlcnNTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICAgICAgaWYgKG5ld1BhcmFtZXRlcnNTdGF0ZSAmJiAhc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbmV3UGFyYW1ldGVyc1N0YXRlICYmICFzaG93SGVhZFBvc2UgJiYgIXNob3dCb3VuZGluZ0JveCAmJiAhc2hvd01hc2spIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc29yIG9wdGlvbnMgaWYgY2FtZXJhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICAuLi53aW5kb3cudmlkZW9Qcm9jZXNzb3Iub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzOiBuZXdQYXJhbWV0ZXJzU3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICAvLyBGaXhlZCBjYWxpYnJhdGUgY2FzZSBoYW5kbGVyIGluIGluZGV4LmpzXG4gICAgICBjYXNlICdjYWxpYnJhdGUnOlxuICAgICAgICBzZXRPdXRwdXRUZXh0KCdTdGFydGluZyBjYWxpYnJhdGlvbiBzZXF1ZW5jZS4uLicpO1xuICAgICAgICBzZXRTaG93VG9wQmFyKGZhbHNlKTtcbiAgICAgICAgaWYgKHNob3dDYW1lcmEpIHtcbiAgICAgICAgICB0b2dnbGVDYW1lcmEoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0Q2FsaWJyYXRlKSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSByZWZlcmVuY2UgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBBY3Rpb25CdXR0b25Hcm91cCByZWYgbWV0aG9kIGZvciBjYWxpYnJhdGlvbicpO1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQuaGFuZGxlU2V0Q2FsaWJyYXRlKCk7XG4gICAgICAgIH0gXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMgJiYgXG4gICAgICAgICAgdHlwZW9mIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlU2V0Q2FsaWJyYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZ2xvYmFsIG1ldGhvZFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBnbG9iYWwgYnJpZGdlIG1ldGhvZCBmb3IgY2FsaWJyYXRpb24nKTtcbiAgICAgICAgICB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zLmhhbmRsZVNldENhbGlicmF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgY2FudmFzIHRvIHdvcmsgd2l0aFxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBub3QgZm91bmQgZm9yIGNhbGlicmF0aW9uXCIpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChcIkVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgY2FsaWJyYXRpb25cIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBMb2FkIGFsbCByZXF1aXJlZCBtb2R1bGVzIGZpcnN0LCB0aGVuIHByb2NlZWQgd2l0aCBleGVjdXRpb25cbiAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzJyksXG4gICAgICAgICAgICBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9BY3Rpb24vY291bnRTYXZlJyksXG4gICAgICAgICAgICBpbXBvcnQoJy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUnKVxuICAgICAgICAgIF0pLnRoZW4oYXN5bmMgKFtcbiAgICAgICAgICAgIGNhbGlicmF0ZVBvaW50c01vZHVsZSxcbiAgICAgICAgICAgIGNvdW50U2F2ZU1vZHVsZSxcbiAgICAgICAgICAgIHNhdmVmaWxlTW9kdWxlXG4gICAgICAgICAgXSkgPT4ge1xuICAgICAgICAgICAgLy8gRGVzdHJ1Y3R1cmUgdGhlIGltcG9ydGVkIG1vZHVsZXNcbiAgICAgICAgICAgIGNvbnN0IHsgZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyB9ID0gY2FsaWJyYXRlUG9pbnRzTW9kdWxlO1xuICAgICAgICAgICAgY29uc3QgeyBkcmF3UmVkRG90LCBydW5Db3VudGRvd24sIHNob3dDYXB0dXJlUHJldmlldyB9ID0gY291bnRTYXZlTW9kdWxlO1xuICAgICAgICAgICAgY29uc3QgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9ID0gc2F2ZWZpbGVNb2R1bGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGNhbGlicmF0aW9uIHBvaW50c1xuICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoIXBvaW50cyB8fCBwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNhbGlicmF0aW9uIHBvaW50c1wiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci5jbGFzc05hbWUgPSAnY2FsaWJyYXRlLXN0YXR1cy1pbmRpY2F0b3InO1xuICAgICAgICAgICAgICBzdGF0dXNJbmRpY2F0b3Iuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICAgICAgdG9wOiAxMHB4O1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMTAyLCAyMDQsIDAuOSk7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDEycHgnO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9ICdDYWxpYnJhdGlvbjogSW5pdGlhbGl6aW5nLi4uJztcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdGF0dXNJbmRpY2F0b3IpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQWNjZXNzIHdlYmNhbSBiZWZvcmUgc3RhcnRpbmcgY2FsaWJyYXRpb24gaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdHJpZ2dlckNhbWVyYUFjY2VzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJDYW1lcmFBY2Nlc3ModHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBQcm9jZXNzIHBvaW50cyBzZXF1ZW50aWFsbHlcbiAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbjogUG9pbnQgJHtpICsgMX0vJHtwb2ludHMubGVuZ3RofWA7XG4gICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgUHJvY2Vzc2luZyBjYWxpYnJhdGlvbiBwb2ludCAke2kgKyAxfS8ke3BvaW50cy5sZW5ndGh9YCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBuZXcgcG9pbnRcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRHJhdyB0aGUgZG90XG4gICAgICAgICAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFJ1biBjb3VudGRvd25cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgIHJ1bkNvdW50ZG93bihcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlIC8vIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2hlbiBjb3VudGRvd24gY29tcGxldGVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgaW1hZ2VzIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudGVyLFxuICAgICAgICAgICAgICAgICAgICBjYW52YXNSZWY6IHsgY3VycmVudDogY2FudmFzIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudDogc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHNob3dDYXB0dXJlUHJldmlldzogc2hvd0NhcHR1cmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKGNhcHR1cmVSZXN1bHQgJiYgKGNhcHR1cmVSZXN1bHQuc2NyZWVuSW1hZ2UgfHwgY2FwdHVyZVJlc3VsdC5zdWNjZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudGVyKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjYXB0dXJpbmcgcG9pbnQgJHtpKzF9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBiZXR3ZWVuIHBvaW50c1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMjAwKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENhbGlicmF0aW9uIGNvbXBsZXRlXG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbiBjb21wbGV0ZTogJHtzdWNjZXNzQ291bnR9LyR7cG9pbnRzLmxlbmd0aH0gcG9pbnRzYDtcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgQ2FsaWJyYXRpb24gY29tcGxldGVkOiAke3N1Y2Nlc3NDb3VudH0vJHtwb2ludHMubGVuZ3RofSBwb2ludHMgY2FwdHVyZWRgKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc3RhdHVzIGluZGljYXRvciBhZnRlciBhIGRlbGF5XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNJbmRpY2F0b3IucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbGlicmF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhbGlicmF0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpblxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dUb3BCYXIodHJ1ZSksIDIwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW1wb3J0IHJlcXVpcmVkIG1vZHVsZXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoYENhbGlicmF0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ2NsZWFyQWxsJzpcbiAgICAgICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgICAgIC8vIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBzZXRPdXRwdXRUZXh0KCdDYW52YXMgY2xlYXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHNldE91dHB1dFRleHQoYEFjdGlvbiB0cmlnZ2VyZWQ6ICR7YWN0aW9uVHlwZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBzZXRDYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCh0cnVlKTtcbiAgICB0b2dnbGVDYW1lcmEodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGVybWlzc2lvbkRlbmllZCA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cChmYWxzZSk7XG4gICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICBzZXRPdXRwdXRUZXh0KCdDYW1lcmEgcGVybWlzc2lvbiBkZW5pZWQnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDYW1lcmFDbG9zZSA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDYW1lcmFSZWFkeSA9IChkaW1lbnNpb25zKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIHNldE1ldHJpY3Moe1xuICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgZGlzdGFuY2U6IGRpbWVuc2lvbnMuZGlzdGFuY2UgfHwgJy0tLSdcbiAgICB9KTtcbiAgICBzZXRPdXRwdXRUZXh0KGBDYW1lcmEgcmVhZHk6ICR7ZGltZW5zaW9ucy53aWR0aH14JHtkaW1lbnNpb25zLmhlaWdodH1gKTtcbiAgfTtcblxuICAvLyBUb2dnbGUgdG9wIGJhciBmdW5jdGlvblxuICBjb25zdCB0b2dnbGVUb3BCYXIgPSAoc2hvdykgPT4ge1xuICAgIGNvbnN0IG5ld1RvcEJhclN0YXRlID0gc2hvdyAhPT0gdW5kZWZpbmVkID8gc2hvdyA6ICFzaG93VG9wQmFyO1xuICAgIHNldFNob3dUb3BCYXIobmV3VG9wQmFyU3RhdGUpO1xuICAgIFxuICAgIC8vIEFsc28gaGlkZSBtZXRyaWNzIHdoZW4gaGlkaW5nIHRoZSB0b3AgYmFyXG4gICAgaWYgKCFuZXdUb3BCYXJTdGF0ZSkge1xuICAgICAgc2V0U2hvd01ldHJpY3MoZmFsc2UpO1xuICAgIH1cbiAgICBcbiAgICBzZXRPdXRwdXRUZXh0KGBUb3BCYXIgJHtuZXdUb3BCYXJTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ30keyFuZXdUb3BCYXJTdGF0ZSA/ICcsIE1ldHJpY3MgaGlkZGVuJyA6ICcnfWApO1xuICAgIFxuICAgIC8vIFdhaXQgZm9yIHN0YXRlIHVwZGF0ZSBhbmQgRE9NIGNoYW5nZXMsIHRoZW4gYWRqdXN0IGNhbnZhc1xuICAgIHNldFRpbWVvdXQoYWRqdXN0Q2FudmFzRGltZW5zaW9ucywgMTAwKTtcbiAgfTtcblxuICAvLyBUb2dnbGUgbWV0cmljcyBmdW5jdGlvblxuICBjb25zdCB0b2dnbGVNZXRyaWNzID0gKCkgPT4ge1xuICAgIGlmIChzaG93VG9wQmFyKSB7XG4gICAgICBzZXRTaG93TWV0cmljcyhwcmV2ID0+ICFwcmV2KTtcbiAgICAgIHNldE91dHB1dFRleHQoYE1ldHJpY3MgJHshc2hvd01ldHJpY3MgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRvcEJhciBpcyBoaWRkZW4sIHdlIGNhbid0IHNob3cgbWV0cmljc1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2Fubm90IHNob3cgbWV0cmljcyB3aGVuIFRvcEJhciBpcyBoaWRkZW4nKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gdHJpZ2dlciBjYW1lcmEgYWNjZXNzXG4gIGNvbnN0IHRyaWdnZXJDYW1lcmFBY2Nlc3MgPSAoZm9yY2VFbmFibGUpID0+IHtcbiAgICBpZiAoZm9yY2VFbmFibGUpIHtcbiAgICAgIC8vIFRyeSB0byBlbmFibGUgY2FtZXJhIGRpcmVjdGx5XG4gICAgICBpZiAod2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAgIHNldFNob3dDYW1lcmEodHJ1ZSk7XG4gICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RhcnQgdmlkZW8gcHJvY2Vzc2luZyB3aXRoIGN1cnJlbnQgb3B0aW9uc1xuICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3Iuc3RhcnRWaWRlb1Byb2Nlc3Npbmcoe1xuICAgICAgICAgIHNob3dIZWFkUG9zZSxcbiAgICAgICAgICBzaG93Qm91bmRpbmdCb3gsXG4gICAgICAgICAgc2hvd01hc2ssXG4gICAgICAgICAgc2hvd1BhcmFtZXRlcnMsXG4gICAgICAgICAgc2hvd1Byb2Nlc3NlZEltYWdlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIEp1c3QgdG9nZ2xlIGN1cnJlbnQgc3RhdGUgaWYgbm90IGZvcmNpbmdcbiAgICBpZiAoY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQpIHtcbiAgICAgIHRvZ2dsZUNhbWVyYSghc2hvd0NhbWVyYSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRHluYW1pYyBjbGFzcyB0byByZWZsZWN0IGN1cnJlbnQgd2luZG93IHNpemVcbiAgY29uc3QgZ2V0U2l6ZUNsYXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGVyY2VudGFnZSB9ID0gd2luZG93U2l6ZTtcbiAgICBpZiAocGVyY2VudGFnZSA8IDM1KSByZXR1cm4gJ3dpbmRvdy1zaXplLXRpbnknO1xuICAgIGlmIChwZXJjZW50YWdlIDwgNTApIHJldHVybiAnd2luZG93LXNpemUtc21hbGwnO1xuICAgIGlmIChwZXJjZW50YWdlIDwgNzApIHJldHVybiAnd2luZG93LXNpemUtbWVkaXVtJztcbiAgICByZXR1cm4gJ3dpbmRvdy1zaXplLWxhcmdlJztcbiAgfTtcblxuICAvLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBoYW5kbGUgc2V0dGluZ3MgdmlzaWJpbGl0eVxuICBjb25zdCBoYW5kbGVTZXR0aW5nc1Zpc2liaWxpdHkgPSAoaXNWaXNpYmxlKSA9PiB7XG4gICAgc2V0U2hvd1NldHRpbmdzKGlzVmlzaWJsZSk7XG4gIH07XG5cbiAgLy8gQWRkIHRoaXMgZWZmZWN0IHRvIGxpc3RlbiBmb3Igc2V0dGluZ3MgdmlzaWJpbGl0eSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU2V0dGluZ3NNZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGF0YS50eXBlID09PSAnU0hPV19TRVRUSU5HUycpIHtcbiAgICAgICAgc2V0U2hvd1NldHRpbmdzKGV2ZW50LmRhdGEuc2hvdyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlU2V0dGluZ3NNZXNzYWdlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVTZXR0aW5nc01lc3NhZ2UpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHVzZXIgSUQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVVzZXJJZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ3VzZXJJZENoYW5nZScpIHtcbiAgICAgICAgc2V0Q3VycmVudFVzZXJJZChldmVudC5kZXRhaWwudXNlcklkKTtcbiAgICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gdXBkYXRlIHNldHRpbmdzIGZvciB0aGUgbmV3IHVzZXJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIHR5cGU6ICdjYXB0dXJlU2V0dGluZ3MnLFxuICAgICAgICAgICAgdXNlcklkOiBldmVudC5kZXRhaWwudXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VzZXJJZENoYW5nZScsIGhhbmRsZVVzZXJJZENoYW5nZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEluaXRpYWxpemUgc2V0dGluZ3Mgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgLy8gU2V0IHRoZSBjdXJyZW50IHVzZXIgSURcbiAgICAgIHNldEN1cnJlbnRVc2VySWQodXNlcklkKTtcbiAgICAgIFxuICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gdXBkYXRlIHNldHRpbmdzIGZvciB0aGlzIHVzZXJcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdjYXB0dXJlU2V0dGluZ3MnLFxuICAgICAgICAgIHVzZXJJZDogdXNlcklkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfSwgW3VzZXJJZF0pO1xuXG4gIC8vIExvYWQgc2V0dGluZ3MgZnJvbSBiYWNrZW5kIHdoZW4gY29tcG9uZW50IG1vdW50c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdXNlcklkKSByZXR1cm47XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHt1c2VySWR9YCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNldHRpbmdzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9hZGVkU2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgY29tcG9uZW50IHRvIGJlIG1vdW50ZWQgYW5kIHJlZiB0byBiZSBpbml0aWFsaXplZFxuICAgICAgICBjb25zdCB3YWl0Rm9yUmVmID0gKHJldHJpZXMgPSA1KSA9PiB7XG4gICAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgdHlwZW9mIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQudXBkYXRlU2V0dGluZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2V0dGluZ3MgZm9yIHRoaXMgdXNlclxuICAgICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyhsb2FkZWRTZXR0aW5ncyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERpc3BhdGNoIGV2ZW50IHRvIHVwZGF0ZSBVSVxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgdGltZXM6IGxvYWRlZFNldHRpbmdzLnRpbWVzLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBsb2FkZWRTZXR0aW5ncy5kZWxheVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJldHJpZXMgPiAwKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHdhaXRGb3JSZWYocmV0cmllcyAtIDEpLCA1MDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0FjdGlvbkJ1dHRvbkdyb3VwIHJlZiBub3QgaW5pdGlhbGl6ZWQgYWZ0ZXIgcmV0cmllcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHdhaXRGb3JSZWYoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBZGQgYSBzbWFsbCBkZWxheSB0byBlbnN1cmUgY29tcG9uZW50cyBhcmUgbW91bnRlZFxuICAgIHNldFRpbWVvdXQobG9hZFNldHRpbmdzLCAxMDAwKTtcbiAgfSwgW3VzZXJJZF0pO1xuXG4gIC8vIEFkZCBwb2xsaW5nIGZvciByZWFsLXRpbWUgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoVXBkYXRlcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdXNlcklkKSByZXR1cm47XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHt1c2VySWR9YCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHNldHRpbmdzJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncykge1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQudXBkYXRlU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWW91IGNhbiBhZGQgaW1hZ2UgZmV0Y2hpbmcgbG9naWMgaGVyZSBpZiBuZWVkZWRcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVwZGF0ZXM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBJbml0aWFsIGZldGNoXG4gICAgZmV0Y2hVcGRhdGVzKCk7XG5cbiAgICAvLyBTZXQgdXAgcG9sbGluZyBpbnRlcnZhbFxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZmV0Y2hVcGRhdGVzLCAzMDAwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9O1xuICB9LCBbdXNlcklkXSk7XG5cbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3Igc2V0dGluZ3MgYW5kIGltYWdlIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbD8udHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycgJiYgZXZlbnQuZGV0YWlsPy51c2VySWQgPT09IHVzZXJJZCkge1xuICAgICAgICBjb25zdCB7IHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBpZiAoYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudCAmJiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKSB7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyh7IHRpbWVzLCBkZWxheSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVJbWFnZVVwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbD8udHlwZSA9PT0gJ2ltYWdlJyAmJiBldmVudC5kZXRhaWw/LnVzZXJJZCA9PT0gdXNlcklkKSB7XG4gICAgICAgIGNvbnN0IHsgaW1hZ2UgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgLy8gVXBkYXRlIGltYWdlIGluIHRoZSBVSSBpZiBuZWVkZWRcbiAgICAgICAgLy8gWW91IGNhbiBhZGQgeW91ciBpbWFnZSB1cGRhdGUgbG9naWMgaGVyZVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdpbWFnZVVwZGF0ZScsIGhhbmRsZUltYWdlVXBkYXRlKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ltYWdlVXBkYXRlJywgaGFuZGxlSW1hZ2VVcGRhdGUpO1xuICAgIH07XG4gIH0sIFt1c2VySWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgbWFpbi1jb250YWluZXIgJHtnZXRTaXplQ2xhc3MoKX1gfT5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+Q2FtZXJhIERhdGFzZXQgQ29sbGVjdGlvbjwvdGl0bGU+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiIC8+XG4gICAgICA8L0hlYWQ+XG4gICAgICBcbiAgICAgIHsvKiBMb2FkIHRoZSB2aWRlbyBwcm9jZXNzb3IgY29tcG9uZW50ICovfVxuICAgICAge2lzSHlkcmF0ZWQgJiYgaXNDbGllbnQgJiYgPFZpZGVvUHJvY2Vzc29yQ29tcG9uZW50IC8+fVxuICAgICAgXG4gICAgICB7LyogQmFja2VuZCBjb25uZWN0aW9uIHN0YXR1cyBiYW5uZXIgKi99XG4gICAgICB7aXNIeWRyYXRlZCAmJiBiYWNrZW5kU3RhdHVzID09PSAnZGlzY29ubmVjdGVkJyAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIHBhZGRpbmc6ICc2cHggMCcsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZTBiMicsXG4gICAgICAgICAgY29sb3I6ICcjZTY1MTAwJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgIHpJbmRleDogMTEwMFxuICAgICAgICB9fT5cbiAgICAgICAgICDimqDvuI8gQmFja2VuZCBkaXNjb25uZWN0ZWQuIEh1cnJ5IHVwLCBNYWtlIE9OTElORSBwbGVhc2UgYW5kIFVzaW5nIG1vY2sgbW9kZVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBUb3BCYXIgY29tcG9uZW50IHdpdGggb25CdXR0b25DbGljayBoYW5kbGVyIC0gY29uZGl0aW9uYWxseSByZW5kZXJlZCAqL31cbiAgICAgIHtzaG93VG9wQmFyICYmIChcbiAgICAgICAgPFRvcEJhciBcbiAgICAgICAgICBvbkJ1dHRvbkNsaWNrPXtoYW5kbGVBY3Rpb25CdXR0b25DbGlja31cbiAgICAgICAgICBvbkNhbWVyYUFjY2Vzcz17KCkgPT4gc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKX1cbiAgICAgICAgICBvdXRwdXRUZXh0PXtzdGF0dXNNZXNzYWdlIHx8IG91dHB1dFRleHR9XG4gICAgICAgICAgb25PdXRwdXRDaGFuZ2U9eyh0ZXh0KSA9PiBzZXRPdXRwdXRUZXh0KHRleHQpfVxuICAgICAgICAgIG9uVG9nZ2xlVG9wQmFyPXt0b2dnbGVUb3BCYXJ9XG4gICAgICAgICAgb25Ub2dnbGVNZXRyaWNzPXt0b2dnbGVNZXRyaWNzfVxuICAgICAgICAgIGNhbnZhc1JlZj17Y2FudmFzUmVmfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIFNob3cgcmVzdG9yZSBidXR0b24gd2hlbiBUb3BCYXIgaXMgaGlkZGVuIC0gcG9zaXRpb25lZCBhdCB0b3AgcmlnaHQgKi99XG4gICAgICB7IXNob3dUb3BCYXIgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3RvcmUtYnV0dG9uLWNvbnRhaW5lclwiIHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgdG9wOiAnMTBweCcsXG4gICAgICAgICAgcmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgICB6SW5kZXg6IDEwMDBcbiAgICAgICAgfX0+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc3RvcmUtYnRuXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVRvcEJhcih0cnVlKX1cbiAgICAgICAgICAgIHRpdGxlPVwiU2hvdyBUb3BCYXIgYW5kIE1ldHJpY3NcIlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcGFkZGluZzogJzVweCAxMHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyMwMDY2Y2MnLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKJoVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBXYXJuaW5nIG1lc3NhZ2UgYmFubmVyICovfVxuICAgICAge2lzSHlkcmF0ZWQgJiYgc2hvd1dhcm5pbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndhcm5pbmctYmFubmVyXCIgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB0b3A6IHNob3dUb3BCYXIgPyAoYmFja2VuZFN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcgPyAnMzJweCcgOiAnNjBweCcpIDogJzAnLFxuICAgICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmViM2InLFxuICAgICAgICAgIGNvbG9yOiAnIzMzMycsXG4gICAgICAgICAgcGFkZGluZzogJzEwcHgnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgYm94U2hhZG93OiAnMCAycHggNHB4IHJnYmEoMCwwLDAsMC4yKScsXG4gICAgICAgICAgekluZGV4OiAxMDEwLFxuICAgICAgICAgIGFuaW1hdGlvbjogJ2ZhZGVJbiAwLjNzIGVhc2UtaW4tb3V0J1xuICAgICAgICB9fT5cbiAgICAgICAgICA8c3Ryb25nPuKaoO+4jyB7d2FybmluZ01lc3NhZ2V9PC9zdHJvbmc+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIE1haW4gcHJldmlldyBhcmVhICovfVxuICAgICAgPGRpdiBcbiAgICAgICAgcmVmPXtwcmV2aWV3QXJlYVJlZn1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXByZXZpZXctYXJlYVwiXG4gICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgIGhlaWdodDogc2hvd1RvcEJhciA/ICdjYWxjKDEwMHZoIC0gMTIwcHgpJyA6ICcxMDB2aCcsXG4gICAgICAgICAgbWFyZ2luVG9wOiBiYWNrZW5kU3RhdHVzID09PSAnZGlzY29ubmVjdGVkJyA/ICczMnB4JyA6ICcwJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjVmNWY1JyxcbiAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgey8qIEFjdGlvbiBidXR0b25zIGZvciBjYW1lcmEgY29udHJvbCAtIG1vdmVkIG91dHNpZGUgY29uZGl0aW9uYWwgcmVuZGVyaW5nICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbWVyYS1hY3Rpb24tYnV0dG9ucy1jb250YWluZXJcIiBzdHlsZT17eyBcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICBib3R0b206ICcyMHB4JyxcbiAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpJyxcbiAgICAgICAgICB6SW5kZXg6IDEwLFxuICAgICAgICAgIG1heFdpZHRoOiAnNjAwcHgnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgcGFkZGluZzogJzAgMjBweCdcbiAgICAgICAgfX0+XG4gICAgICAgICAgPEFjdGlvbkJ1dHRvbkdyb3VwXG4gICAgICAgICAgICByZWY9e2FjdGlvbkJ1dHRvbkdyb3VwUmVmfVxuICAgICAgICAgICAgdHJpZ2dlckNhbWVyYUFjY2Vzcz17dHJpZ2dlckNhbWVyYUFjY2Vzc31cbiAgICAgICAgICAgIGlzQ29tcGFjdE1vZGU9e3dpbmRvd1NpemUud2lkdGggPCA3Njh9XG4gICAgICAgICAgICBvbkFjdGlvbkNsaWNrPXtoYW5kbGVBY3Rpb25CdXR0b25DbGlja31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7IXNob3dDYW1lcmEgPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXByZXZpZXctbWVzc2FnZVwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgcG9zaXRpb246IHNob3dUb3BCYXIgPyAncmVsYXRpdmUnIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgekluZGV4OiA1XG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgPHA+Q2FtZXJhIHByZXZpZXcgd2lsbCBhcHBlYXIgaGVyZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FtZXJhLXNpemUtaW5kaWNhdG9yXCI+Q3VycmVudCB3aW5kb3c6IHt3aW5kb3dTaXplLnBlcmNlbnRhZ2V9JSBvZiBzY3JlZW4gd2lkdGg8L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQ2FtZXJhIHBsYWNlaG9sZGVyIHNxdWFyZSAtIHNtYWxsIHZlcnNpb24gKi99XG4gICAgICAgICAgICAgIHtpc0h5ZHJhdGVkICYmIHNob3dDYW1lcmFQbGFjZWhvbGRlciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1wbGFjZWhvbGRlci1zcXVhcmVcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxODBweCcsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEzNXB4JyxcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMjBweCBhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IGRhc2hlZCAjNjY2JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y1ZjVmNScsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMS41cmVtJyB9fT7wn5O3PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIENhbnZhcyBmb3IgZXllIHRyYWNraW5nIGRvdHMgKi99XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtY29udGFpbmVyXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLCBcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMTAgXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjYW52YXMgXG4gICAgICAgICAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJhY2tpbmctY2FudmFzXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snIFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgIFxuICAgICAgICB7LyogTWV0cmljcyBpbmZvIC0gY29uZGl0aW9uYWxseSByZW5kZXJlZCAqL31cbiAgICAgICAge2lzSHlkcmF0ZWQgJiYgc2hvd01ldHJpY3MgJiYgKFxuICAgICAgICAgIDxEaXNwbGF5UmVzcG9uc2UgXG4gICAgICAgICAgICB3aWR0aD17bWV0cmljcy53aWR0aH0gXG4gICAgICAgICAgICBoZWlnaHQ9e21ldHJpY3MuaGVpZ2h0fSBcbiAgICAgICAgICAgIGRpc3RhbmNlPXttZXRyaWNzLmRpc3RhbmNlfVxuICAgICAgICAgICAgaXNWaXNpYmxlPXtzaG93TWV0cmljc31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIENhbWVyYSBjb21wb25lbnQgLSB1c2luZyBjbGllbnQtb25seSB2ZXJzaW9uICovfVxuICAgICAgICB7aXNIeWRyYXRlZCAmJiBpc0NsaWVudCAmJiBzaG93Q2FtZXJhICYmIChcbiAgICAgICAgICA8RHluYW1pY0NhbWVyYUFjY2Vzc1xuICAgICAgICAgICAgaXNTaG93aW5nPXtzaG93Q2FtZXJhfSBcbiAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUNhbWVyYUNsb3NlfVxuICAgICAgICAgICAgb25DYW1lcmFSZWFkeT17aGFuZGxlQ2FtZXJhUmVhZHl9XG4gICAgICAgICAgICBzaG93SGVhZFBvc2U9e3Nob3dIZWFkUG9zZX1cbiAgICAgICAgICAgIHNob3dCb3VuZGluZ0JveD17c2hvd0JvdW5kaW5nQm94fVxuICAgICAgICAgICAgc2hvd01hc2s9e3Nob3dNYXNrfVxuICAgICAgICAgICAgc2hvd1BhcmFtZXRlcnM9e3Nob3dQYXJhbWV0ZXJzfVxuICAgICAgICAgICAgdmlkZW9SZWY9e3ZpZGVvUmVmfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogQ2FtZXJhIHBlcm1pc3Npb24gcG9wdXAgKi99XG4gICAgICAgIHtpc0h5ZHJhdGVkICYmIGlzQ2xpZW50ICYmIHNob3dQZXJtaXNzaW9uUG9wdXAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tcG9wdXBcIiBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgekluZGV4OiAyMDAwXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLWRpYWxvZ1wiIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHdpZHRoOiAnNDAwcHgnLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKSdcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tdGl0bGVcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgMCAxNXB4JyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xuICAgICAgICAgICAgICB9fT5DYW1lcmEgQWNjZXNzIFJlcXVpcmVkPC9oMz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tbWVzc2FnZVwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDIwcHgnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEuNCdcbiAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgVGhpcyBhcHBsaWNhdGlvbiBuZWVkcyBhY2Nlc3MgdG8geW91ciBjYW1lcmEgdG8gZnVuY3Rpb24gcHJvcGVybHkuIFxuICAgICAgICAgICAgICAgIFdoZW4gcHJvbXB0ZWQgYnkgeW91ciBicm93c2VyLCBwbGVhc2UgY2xpY2sgXCJBbGxvd1wiIHRvIGdyYW50IGNhbWVyYSBhY2Nlc3MuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1idXR0b25zXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICAgICAgZ2FwOiAnMTBweCdcbiAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBlcm1pc3Npb25EZW5pZWR9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTZweCcsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmMGYwZjAnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBlcm1pc3Npb25BY2NlcHRlZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1idG5cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwNjZjYycsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ29udGludWVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSGVhZCIsImR5bmFtaWMiLCJUb3BCYXIiLCJEaXNwbGF5UmVzcG9uc2UiLCJBY3Rpb25CdXR0b25Hcm91cCIsInNob3dDYXB0dXJlUHJldmlldyIsImNhcHR1cmVJbWFnZXNBdFBvaW50IiwiZHJhd1JlZERvdCIsImdldFJhbmRvbVBvc2l0aW9uIiwicnVuQ291bnRkb3duIiwiZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyIsInVzZUNvbnNlbnQiLCJWaWRlb1Byb2Nlc3NvckNvbXBvbmVudCIsInNzciIsIkR5bmFtaWNDYW1lcmFBY2Nlc3MiLCJsb2FkaW5nIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0cmFuc2Zvcm0iLCJ3aWR0aCIsImhlaWdodCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwidGV4dEFsaWduIiwiekluZGV4IiwiZm9udFNpemUiLCJtYXJnaW5Cb3R0b20iLCJwIiwiZm9udFdlaWdodCIsImNvbG9yIiwiQ29sbGVjdGVkRGF0YXNldFBhZ2UiLCJpc0h5ZHJhdGVkIiwic2V0SXNIeWRyYXRlZCIsInNob3dDYW1lcmEiLCJzZXRTaG93Q2FtZXJhIiwic2hvd1Blcm1pc3Npb25Qb3B1cCIsInNldFNob3dQZXJtaXNzaW9uUG9wdXAiLCJzaG93VG9wQmFyIiwic2V0U2hvd1RvcEJhciIsInNob3dNZXRyaWNzIiwic2V0U2hvd01ldHJpY3MiLCJvdXRwdXRUZXh0Iiwic2V0T3V0cHV0VGV4dCIsIm1ldHJpY3MiLCJzZXRNZXRyaWNzIiwiZGlzdGFuY2UiLCJ3aW5kb3dTaXplIiwic2V0V2luZG93U2l6ZSIsInBlcmNlbnRhZ2UiLCJwcmV2aWV3QXJlYVJlZiIsImNhbnZhc1JlZiIsInZpZGVvUmVmIiwiY2FwdHVyZUNvdW50ZXIiLCJzZXRDYXB0dXJlQ291bnRlciIsImNhcHR1cmVGb2xkZXIiLCJzZXRDYXB0dXJlRm9sZGVyIiwic2hvd0hlYWRQb3NlIiwic2V0U2hvd0hlYWRQb3NlIiwic2hvd0JvdW5kaW5nQm94Iiwic2V0U2hvd0JvdW5kaW5nQm94Iiwic2hvd01hc2siLCJzZXRTaG93TWFzayIsInNob3dQYXJhbWV0ZXJzIiwic2V0U2hvd1BhcmFtZXRlcnMiLCJzaG93Q2FtZXJhUGxhY2Vob2xkZXIiLCJzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIiLCJjYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCIsInNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkIiwic2hvd1dhcm5pbmciLCJzZXRTaG93V2FybmluZyIsIndhcm5pbmdNZXNzYWdlIiwic2V0V2FybmluZ01lc3NhZ2UiLCJiYWNrZW5kU3RhdHVzIiwic2V0QmFja2VuZFN0YXR1cyIsImFjdGlvbkJ1dHRvbkdyb3VwUmVmIiwic3RhdHVzTWVzc2FnZSIsInNldFN0YXR1c01lc3NhZ2UiLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsImxvYWRTZXR0aW5ncyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwidXNlclNldHRpbmdzIiwianNvbiIsInR5cGUiLCJlcnJvciIsImhhbmRsZVNldHRpbmdzVXBkYXRlIiwidGltZXMiLCJkZWxheSIsImN1cnJlbnQiLCJ1cGRhdGVTZXR0aW5ncyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0TWFpbkNhbnZhcyIsIndoaXRlU2NyZWVuQ2FudmFzIiwiZG9jdW1lbnQiLCJjYW52YXNFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIndhcm4iLCJpc0NsaWVudCIsImNhbnZhcyIsImNhbnZhc0RpbWVuc2lvbnMiLCJpbml0aWFsaXplQ2FudmFzIiwicGFyZW50IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzZXRUaW1lb3V0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRpbWVuc2lvbnMiLCJyZWN0U2l6ZSIsImlzVmlzaWJsZSIsImFkanVzdENhbnZhc0RpbWVuc2lvbnMiLCJjb250YWluZXIiLCJ0b3BCYXJIZWlnaHQiLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lckhlaWdodCIsInRvcEJhclZpc2libGUiLCJjYWxjdWxhdGVkSGVpZ2h0IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsImNoZWNrQmFja2VuZENvbm5lY3Rpb24iLCJkYXRhIiwiY29ubmVjdGVkIiwidXBkYXRlRGltZW5zaW9ucyIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic2NyZWVuUGVyY2VudGFnZSIsImlubmVyV2lkdGgiLCJzY3JlZW4iLCJwcmV2IiwiaW5uZXJIZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDaGlsZCIsInRvZ2dsZVRvcEJhciIsInNob3ciLCJ0b2dnbGVDYW1lcmEiLCJzaG91bGRFbmFibGUiLCJoYW5kbGVBY3Rpb25CdXR0b25DbGljayIsImFjdGlvblR5cGUiLCJwYXJhbXMiLCJuZXdUb3BCYXJTdGF0ZSIsInZhbHVlIiwic2FmZVBhcmFtcyIsInJhbmRvbVRpbWVzIiwiZGVsYXlTZWNvbmRzIiwiaGFuZGxlU2V0UmFuZG9tIiwiYWN0aW9uQnV0dG9uRnVuY3Rpb25zIiwidGltZUlucHV0IiwiZGVsYXlJbnB1dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwYXJzZWRUaW1lIiwicGFyc2VJbnQiLCJpc05hTiIsInBhcnNlZERlbGF5IiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJjb3VudFNhdmVNb2R1bGUiLCJzYXZlZmlsZU1vZHVsZSIsInN1Y2Nlc3NDb3VudCIsImN1cnJlbnRDYXB0dXJlIiwieCIsInkiLCJyZWRyYXdJbnRlcnZhbCIsInNldEludGVydmFsIiwicmVzb2x2ZSIsInN0YXR1cyIsInByb2Nlc3NTdGF0dXMiLCJjbGVhckludGVydmFsIiwiY2FwdHVyZVJlc3VsdCIsInBvaW50IiwiY2FwdHVyZUNvdW50Iiwic2V0Q2FwdHVyZUNvdW50Iiwic2NyZWVuSW1hZ2UiLCJzdWNjZXNzIiwibWVzc2FnZSIsImNhdGNoIiwiaGFuZGxlUmFuZG9tRG90IiwiZG90IiwiZXJyIiwibmV3SGVhZFBvc2VTdGF0ZSIsInZpZGVvUHJvY2Vzc29yIiwidXBkYXRlT3B0aW9ucyIsIm9wdGlvbnMiLCJuZXdCb3VuZGluZ0JveFN0YXRlIiwibmV3TWFza1N0YXRlIiwibmV3UGFyYW1ldGVyc1N0YXRlIiwiaGFuZGxlU2V0Q2FsaWJyYXRlIiwiY2FsaWJyYXRlUG9pbnRzTW9kdWxlIiwicG9pbnRzIiwibGVuZ3RoIiwic3RhdHVzSW5kaWNhdG9yIiwiY2xhc3NOYW1lIiwiY3NzVGV4dCIsImJvZHkiLCJ0cmlnZ2VyQ2FtZXJhQWNjZXNzIiwiaSIsInBhcmVudE5vZGUiLCJoYW5kbGVQZXJtaXNzaW9uQWNjZXB0ZWQiLCJoYW5kbGVQZXJtaXNzaW9uRGVuaWVkIiwiaGFuZGxlQ2FtZXJhQ2xvc2UiLCJoYW5kbGVDYW1lcmFSZWFkeSIsInVuZGVmaW5lZCIsInRvZ2dsZU1ldHJpY3MiLCJmb3JjZUVuYWJsZSIsInN0YXJ0VmlkZW9Qcm9jZXNzaW5nIiwic2hvd1Byb2Nlc3NlZEltYWdlIiwiZ2V0U2l6ZUNsYXNzIiwiaGFuZGxlU2V0dGluZ3NWaXNpYmlsaXR5IiwiaGFuZGxlU2V0dGluZ3NNZXNzYWdlIiwiaGFuZGxlVXNlcklkQ2hhbmdlIiwibG9hZGVkU2V0dGluZ3MiLCJ3YWl0Rm9yUmVmIiwicmV0cmllcyIsImZldGNoVXBkYXRlcyIsInNldHRpbmdzIiwiaW50ZXJ2YWwiLCJoYW5kbGVJbWFnZVVwZGF0ZSIsImltYWdlIiwidGl0bGUiLCJtZXRhIiwibmFtZSIsImNvbnRlbnQiLCJwYWRkaW5nIiwib25CdXR0b25DbGljayIsIm9uQ2FtZXJhQWNjZXNzIiwib25PdXRwdXRDaGFuZ2UiLCJ0ZXh0Iiwib25Ub2dnbGVUb3BCYXIiLCJvblRvZ2dsZU1ldHJpY3MiLCJyaWdodCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJiYWNrZ3JvdW5kIiwiY3Vyc29yIiwiYm94U2hhZG93IiwiYW5pbWF0aW9uIiwic3Ryb25nIiwicmVmIiwibWFyZ2luVG9wIiwib3ZlcmZsb3ciLCJib3R0b20iLCJtYXhXaWR0aCIsImlzQ29tcGFjdE1vZGUiLCJvbkFjdGlvbkNsaWNrIiwibWFyZ2luIiwiaXNTaG93aW5nIiwib25DbG9zZSIsIm9uQ2FtZXJhUmVhZHkiLCJoMyIsImxpbmVIZWlnaHQiLCJnYXAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/index.js\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/camera.css":
/*!***************************************************!*\
  !*** ./pages/collected-dataset/styles/camera.css ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/control-buttons.css":
/*!************************************************************!*\
  !*** ./pages/collected-dataset/styles/control-buttons.css ***!
  \************************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/main.css":
/*!*************************************************!*\
  !*** ./pages/collected-dataset/styles/main.css ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./pages/collected-dataset/styles/topbar.css":
/*!***************************************************!*\
  !*** ./pages/collected-dataset/styles/topbar.css ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "(pages-dir-node)/./styles/Consent.module.css":
/*!***********************************!*\
  !*** ./styles/Consent.module.css ***!
  \***********************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"bannerContainer\": \"Consent_bannerContainer__ANUBL\",\n\t\"bannerContent\": \"Consent_bannerContent__ZkmhZ\",\n\t\"bannerText\": \"Consent_bannerText___ChrP\",\n\t\"bannerButtons\": \"Consent_bannerButtons___mgz1\",\n\t\"bannerButton\": \"Consent_bannerButton__4Fv1L\",\n\t\"acceptButton\": \"Consent_acceptButton__gRsOZ\",\n\t\"declineButton\": \"Consent_declineButton__hqZeL\",\n\t\"learnMoreButton\": \"Consent_learnMoreButton__67pMk\",\n\t\"preferencesContainer\": \"Consent_preferencesContainer__9BVAk\",\n\t\"preferencesTitle\": \"Consent_preferencesTitle__ooxt_\",\n\t\"formGroup\": \"Consent_formGroup__KFE4i\",\n\t\"formLabel\": \"Consent_formLabel__tTg3F\",\n\t\"formControl\": \"Consent_formControl__pNM3l\",\n\t\"formSwitch\": \"Consent_formSwitch__kVrWI\",\n\t\"formCheckbox\": \"Consent_formCheckbox__3369o\",\n\t\"submitButton\": \"Consent_submitButton__CZklY\",\n\t\"backButton\": \"Consent_backButton__eebzl\",\n\t\"mainContent\": \"Consent_mainContent__hwFgD\",\n\t\"withBanner\": \"Consent_withBanner__lotH_\",\n\t\"consentTable\": \"Consent_consentTable__a_fCs\",\n\t\"saveButton\": \"Consent_saveButton__p_FJM\",\n\t\"notification\": \"Consent_notification__4PYiV\",\n\t\"fadeInOut\": \"Consent_fadeInOut__ZEZGD\",\n\t\"notificationSuccess\": \"Consent_notificationSuccess__Mrtv4\",\n\t\"notificationError\": \"Consent_notificationError__xskoy\",\n\t\"section\": \"Consent_section__CJzTz\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Db25zZW50Lm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3N0eWxlcy9Db25zZW50Lm1vZHVsZS5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiYmFubmVyQ29udGFpbmVyXCI6IFwiQ29uc2VudF9iYW5uZXJDb250YWluZXJfX0FOVUJMXCIsXG5cdFwiYmFubmVyQ29udGVudFwiOiBcIkNvbnNlbnRfYmFubmVyQ29udGVudF9fWmttaFpcIixcblx0XCJiYW5uZXJUZXh0XCI6IFwiQ29uc2VudF9iYW5uZXJUZXh0X19fQ2hyUFwiLFxuXHRcImJhbm5lckJ1dHRvbnNcIjogXCJDb25zZW50X2Jhbm5lckJ1dHRvbnNfX19tZ3oxXCIsXG5cdFwiYmFubmVyQnV0dG9uXCI6IFwiQ29uc2VudF9iYW5uZXJCdXR0b25fXzRGdjFMXCIsXG5cdFwiYWNjZXB0QnV0dG9uXCI6IFwiQ29uc2VudF9hY2NlcHRCdXR0b25fX2dSc09aXCIsXG5cdFwiZGVjbGluZUJ1dHRvblwiOiBcIkNvbnNlbnRfZGVjbGluZUJ1dHRvbl9faHFaZUxcIixcblx0XCJsZWFybk1vcmVCdXR0b25cIjogXCJDb25zZW50X2xlYXJuTW9yZUJ1dHRvbl9fNjdwTWtcIixcblx0XCJwcmVmZXJlbmNlc0NvbnRhaW5lclwiOiBcIkNvbnNlbnRfcHJlZmVyZW5jZXNDb250YWluZXJfXzlCVkFrXCIsXG5cdFwicHJlZmVyZW5jZXNUaXRsZVwiOiBcIkNvbnNlbnRfcHJlZmVyZW5jZXNUaXRsZV9fb294dF9cIixcblx0XCJmb3JtR3JvdXBcIjogXCJDb25zZW50X2Zvcm1Hcm91cF9fS0ZFNGlcIixcblx0XCJmb3JtTGFiZWxcIjogXCJDb25zZW50X2Zvcm1MYWJlbF9fdFRnM0ZcIixcblx0XCJmb3JtQ29udHJvbFwiOiBcIkNvbnNlbnRfZm9ybUNvbnRyb2xfX3BOTTNsXCIsXG5cdFwiZm9ybVN3aXRjaFwiOiBcIkNvbnNlbnRfZm9ybVN3aXRjaF9fa1ZyV0lcIixcblx0XCJmb3JtQ2hlY2tib3hcIjogXCJDb25zZW50X2Zvcm1DaGVja2JveF9fMzM2OW9cIixcblx0XCJzdWJtaXRCdXR0b25cIjogXCJDb25zZW50X3N1Ym1pdEJ1dHRvbl9fQ1prbFlcIixcblx0XCJiYWNrQnV0dG9uXCI6IFwiQ29uc2VudF9iYWNrQnV0dG9uX19lZWJ6bFwiLFxuXHRcIm1haW5Db250ZW50XCI6IFwiQ29uc2VudF9tYWluQ29udGVudF9faHdGZ0RcIixcblx0XCJ3aXRoQmFubmVyXCI6IFwiQ29uc2VudF93aXRoQmFubmVyX19sb3RIX1wiLFxuXHRcImNvbnNlbnRUYWJsZVwiOiBcIkNvbnNlbnRfY29uc2VudFRhYmxlX19hX2ZDc1wiLFxuXHRcInNhdmVCdXR0b25cIjogXCJDb25zZW50X3NhdmVCdXR0b25fX3BfRkpNXCIsXG5cdFwibm90aWZpY2F0aW9uXCI6IFwiQ29uc2VudF9ub3RpZmljYXRpb25fXzRQWWlWXCIsXG5cdFwiZmFkZUluT3V0XCI6IFwiQ29uc2VudF9mYWRlSW5PdXRfX1pFWkdEXCIsXG5cdFwibm90aWZpY2F0aW9uU3VjY2Vzc1wiOiBcIkNvbnNlbnRfbm90aWZpY2F0aW9uU3VjY2Vzc19fTXJ0djRcIixcblx0XCJub3RpZmljYXRpb25FcnJvclwiOiBcIkNvbnNlbnRfbm90aWZpY2F0aW9uRXJyb3JfX3hza295XCIsXG5cdFwic2VjdGlvblwiOiBcIkNvbnNlbnRfc2VjdGlvbl9fQ0p6VHpcIlxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/Consent.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/Home.module.css":
/*!********************************!*\
  !*** ./styles/Home.module.css ***!
  \********************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"container\": \"Home_container__d256j\",\n\t\"main\": \"Home_main__VkIEL\",\n\t\"footer\": \"Home_footer__yFiaX\",\n\t\"footerLink\": \"Home_footerLink__201sb\",\n\t\"title\": \"Home_title__hYX6j\",\n\t\"description\": \"Home_description__uXNdx\",\n\t\"uploaderContainer\": \"Home_uploaderContainer__uJ_r1\",\n\t\"buttonGrid\": \"Home_buttonGrid__6YmSF\",\n\t\"menuButton\": \"Home_menuButton__x35GK\",\n\t\"buttonRow\": \"Home_buttonRow__Nrj5f\",\n\t\"backButton\": \"Home_backButton__kEp3f\",\n\t\"centerButtonContainer\": \"Home_centerButtonContainer__0xoFG\",\n\t\"largerButton\": \"Home_largerButton__oA5AX\",\n\t\"readyButton\": \"Home_readyButton__Anf7z\",\n\t\"notReadyButton\": \"Home_notReadyButton___QovH\",\n\t\"statusText\": \"Home_statusText__E0bns\",\n\t\"statusToggleButton\": \"Home_statusToggleButton__uKFNS\",\n\t\"statusDisplay\": \"Home_statusDisplay__3g6BC\",\n\t\"dummyControls\": \"Home_dummyControls__omnHy\",\n\t\"processingButton\": \"Home_processingButton__y_sZA\",\n\t\"buttonContainer\": \"Home_buttonContainer__nOVuY\",\n\t\"button\": \"Home_button__G93Ef\",\n\t\"buttonEnabled\": \"Home_buttonEnabled__9tuN2\",\n\t\"buttonDisabled\": \"Home_buttonDisabled__g7Nm8\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Ib21lLm1vZHVsZS5jc3MiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvc3R5bGVzL0hvbWUubW9kdWxlLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjb250YWluZXJcIjogXCJIb21lX2NvbnRhaW5lcl9fZDI1NmpcIixcblx0XCJtYWluXCI6IFwiSG9tZV9tYWluX19Wa0lFTFwiLFxuXHRcImZvb3RlclwiOiBcIkhvbWVfZm9vdGVyX195RmlhWFwiLFxuXHRcImZvb3RlckxpbmtcIjogXCJIb21lX2Zvb3RlckxpbmtfXzIwMXNiXCIsXG5cdFwidGl0bGVcIjogXCJIb21lX3RpdGxlX19oWVg2alwiLFxuXHRcImRlc2NyaXB0aW9uXCI6IFwiSG9tZV9kZXNjcmlwdGlvbl9fdVhOZHhcIixcblx0XCJ1cGxvYWRlckNvbnRhaW5lclwiOiBcIkhvbWVfdXBsb2FkZXJDb250YWluZXJfX3VKX3IxXCIsXG5cdFwiYnV0dG9uR3JpZFwiOiBcIkhvbWVfYnV0dG9uR3JpZF9fNlltU0ZcIixcblx0XCJtZW51QnV0dG9uXCI6IFwiSG9tZV9tZW51QnV0dG9uX194MzVHS1wiLFxuXHRcImJ1dHRvblJvd1wiOiBcIkhvbWVfYnV0dG9uUm93X19Ocmo1ZlwiLFxuXHRcImJhY2tCdXR0b25cIjogXCJIb21lX2JhY2tCdXR0b25fX2tFcDNmXCIsXG5cdFwiY2VudGVyQnV0dG9uQ29udGFpbmVyXCI6IFwiSG9tZV9jZW50ZXJCdXR0b25Db250YWluZXJfXzB4b0ZHXCIsXG5cdFwibGFyZ2VyQnV0dG9uXCI6IFwiSG9tZV9sYXJnZXJCdXR0b25fX29BNUFYXCIsXG5cdFwicmVhZHlCdXR0b25cIjogXCJIb21lX3JlYWR5QnV0dG9uX19BbmY3elwiLFxuXHRcIm5vdFJlYWR5QnV0dG9uXCI6IFwiSG9tZV9ub3RSZWFkeUJ1dHRvbl9fX1FvdkhcIixcblx0XCJzdGF0dXNUZXh0XCI6IFwiSG9tZV9zdGF0dXNUZXh0X19FMGJuc1wiLFxuXHRcInN0YXR1c1RvZ2dsZUJ1dHRvblwiOiBcIkhvbWVfc3RhdHVzVG9nZ2xlQnV0dG9uX191S0ZOU1wiLFxuXHRcInN0YXR1c0Rpc3BsYXlcIjogXCJIb21lX3N0YXR1c0Rpc3BsYXlfXzNnNkJDXCIsXG5cdFwiZHVtbXlDb250cm9sc1wiOiBcIkhvbWVfZHVtbXlDb250cm9sc19fb21uSHlcIixcblx0XCJwcm9jZXNzaW5nQnV0dG9uXCI6IFwiSG9tZV9wcm9jZXNzaW5nQnV0dG9uX195X3NaQVwiLFxuXHRcImJ1dHRvbkNvbnRhaW5lclwiOiBcIkhvbWVfYnV0dG9uQ29udGFpbmVyX19uT1Z1WVwiLFxuXHRcImJ1dHRvblwiOiBcIkhvbWVfYnV0dG9uX19HOTNFZlwiLFxuXHRcImJ1dHRvbkVuYWJsZWRcIjogXCJIb21lX2J1dHRvbkVuYWJsZWRfXzl0dU4yXCIsXG5cdFwiYnV0dG9uRGlzYWJsZWRcIjogXCJIb21lX2J1dHRvbkRpc2FibGVkX19nN05tOFwiXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/Home.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/UserProfile.module.css":
/*!***************************************!*\
  !*** ./styles/UserProfile.module.css ***!
  \***************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"toggleButton\": \"UserProfile_toggleButton__Tnos2\",\n\t\"sidebar\": \"UserProfile_sidebar__a8wTF\",\n\t\"open\": \"UserProfile_open__kVXoU\",\n\t\"profileHeader\": \"UserProfile_profileHeader__zrwIz\",\n\t\"closeButton\": \"UserProfile_closeButton__YCOaY\",\n\t\"statusSection\": \"UserProfile_statusSection__oVQ9C\",\n\t\"statusItem\": \"UserProfile_statusItem__NoI4f\",\n\t\"statusLabel\": \"UserProfile_statusLabel__GuWBi\",\n\t\"statusValue\": \"UserProfile_statusValue__n4plT\",\n\t\"statusActive\": \"UserProfile_statusActive__yLwQj\",\n\t\"statusInactive\": \"UserProfile_statusInactive__XuqTw\",\n\t\"profileForm\": \"UserProfile_profileForm__Px_Sv\",\n\t\"formGroup\": \"UserProfile_formGroup__yLTt1\",\n\t\"saveButton\": \"UserProfile_saveButton__1numi\",\n\t\"settingsPanel\": \"UserProfile_settingsPanel__UElU_\",\n\t\"settingsHeader\": \"UserProfile_settingsHeader__aTjSG\",\n\t\"backButton\": \"UserProfile_backButton__AsyBi\",\n\t\"settingsContent\": \"UserProfile_settingsContent__G9QI8\",\n\t\"settingsSection\": \"UserProfile_settingsSection__PbnVn\",\n\t\"settingItem\": \"UserProfile_settingItem__NOQaH\",\n\t\"numberInput\": \"UserProfile_numberInput__Qaa7n\",\n\t\"fileInput\": \"UserProfile_fileInput__RRPEK\",\n\t\"zoomControls\": \"UserProfile_zoomControls__qr35c\",\n\t\"zoomButton\": \"UserProfile_zoomButton__7NIJV\",\n\t\"zoomInput\": \"UserProfile_zoomInput__W3_rg\",\n\t\"zoomPercent\": \"UserProfile_zoomPercent__rLEYS\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3N0eWxlcy9Vc2VyUHJvZmlsZS5tb2R1bGUuY3NzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9zdHlsZXMvVXNlclByb2ZpbGUubW9kdWxlLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJ0b2dnbGVCdXR0b25cIjogXCJVc2VyUHJvZmlsZV90b2dnbGVCdXR0b25fX1Rub3MyXCIsXG5cdFwic2lkZWJhclwiOiBcIlVzZXJQcm9maWxlX3NpZGViYXJfX2E4d1RGXCIsXG5cdFwib3BlblwiOiBcIlVzZXJQcm9maWxlX29wZW5fX2tWWG9VXCIsXG5cdFwicHJvZmlsZUhlYWRlclwiOiBcIlVzZXJQcm9maWxlX3Byb2ZpbGVIZWFkZXJfX3pyd0l6XCIsXG5cdFwiY2xvc2VCdXR0b25cIjogXCJVc2VyUHJvZmlsZV9jbG9zZUJ1dHRvbl9fWUNPYVlcIixcblx0XCJzdGF0dXNTZWN0aW9uXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzU2VjdGlvbl9fb1ZROUNcIixcblx0XCJzdGF0dXNJdGVtXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzSXRlbV9fTm9JNGZcIixcblx0XCJzdGF0dXNMYWJlbFwiOiBcIlVzZXJQcm9maWxlX3N0YXR1c0xhYmVsX19HdVdCaVwiLFxuXHRcInN0YXR1c1ZhbHVlXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzVmFsdWVfX240cGxUXCIsXG5cdFwic3RhdHVzQWN0aXZlXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzQWN0aXZlX195THdRalwiLFxuXHRcInN0YXR1c0luYWN0aXZlXCI6IFwiVXNlclByb2ZpbGVfc3RhdHVzSW5hY3RpdmVfX1h1cVR3XCIsXG5cdFwicHJvZmlsZUZvcm1cIjogXCJVc2VyUHJvZmlsZV9wcm9maWxlRm9ybV9fUHhfU3ZcIixcblx0XCJmb3JtR3JvdXBcIjogXCJVc2VyUHJvZmlsZV9mb3JtR3JvdXBfX3lMVHQxXCIsXG5cdFwic2F2ZUJ1dHRvblwiOiBcIlVzZXJQcm9maWxlX3NhdmVCdXR0b25fXzFudW1pXCIsXG5cdFwic2V0dGluZ3NQYW5lbFwiOiBcIlVzZXJQcm9maWxlX3NldHRpbmdzUGFuZWxfX1VFbFVfXCIsXG5cdFwic2V0dGluZ3NIZWFkZXJcIjogXCJVc2VyUHJvZmlsZV9zZXR0aW5nc0hlYWRlcl9fYVRqU0dcIixcblx0XCJiYWNrQnV0dG9uXCI6IFwiVXNlclByb2ZpbGVfYmFja0J1dHRvbl9fQXN5QmlcIixcblx0XCJzZXR0aW5nc0NvbnRlbnRcIjogXCJVc2VyUHJvZmlsZV9zZXR0aW5nc0NvbnRlbnRfX0c5UUk4XCIsXG5cdFwic2V0dGluZ3NTZWN0aW9uXCI6IFwiVXNlclByb2ZpbGVfc2V0dGluZ3NTZWN0aW9uX19QYm5WblwiLFxuXHRcInNldHRpbmdJdGVtXCI6IFwiVXNlclByb2ZpbGVfc2V0dGluZ0l0ZW1fX05PUWFIXCIsXG5cdFwibnVtYmVySW5wdXRcIjogXCJVc2VyUHJvZmlsZV9udW1iZXJJbnB1dF9fUWFhN25cIixcblx0XCJmaWxlSW5wdXRcIjogXCJVc2VyUHJvZmlsZV9maWxlSW5wdXRfX1JSUEVLXCIsXG5cdFwiem9vbUNvbnRyb2xzXCI6IFwiVXNlclByb2ZpbGVfem9vbUNvbnRyb2xzX19xcjM1Y1wiLFxuXHRcInpvb21CdXR0b25cIjogXCJVc2VyUHJvZmlsZV96b29tQnV0dG9uX183TklKVlwiLFxuXHRcInpvb21JbnB1dFwiOiBcIlVzZXJQcm9maWxlX3pvb21JbnB1dF9fVzNfcmdcIixcblx0XCJ6b29tUGVyY2VudFwiOiBcIlVzZXJQcm9maWxlX3pvb21QZXJjZW50X19yTEVZU1wiXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./styles/UserProfile.module.css\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/consentManager.js":
/*!*********************************!*\
  !*** ./utils/consentManager.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserConsent: () => (/* binding */ clearUserConsent),\n/* harmony export */   getOrCreateUserId: () => (/* binding */ getOrCreateUserId),\n/* harmony export */   getUserConsent: () => (/* binding */ getUserConsent),\n/* harmony export */   getUserPreferences: () => (/* binding */ getUserPreferences),\n/* harmony export */   getUserProfile: () => (/* binding */ getUserProfile),\n/* harmony export */   resetConsentBanner: () => (/* binding */ resetConsentBanner),\n/* harmony export */   updateUserConsent: () => (/* binding */ updateUserConsent),\n/* harmony export */   updateUserPreferences: () => (/* binding */ updateUserPreferences),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-cookie */ \"js-cookie\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_0__, js_cookie__WEBPACK_IMPORTED_MODULE_1__]);\n([uuid__WEBPACK_IMPORTED_MODULE_0__, js_cookie__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// frontend/utils/consentManager.js\n\n\nconst CONSENT_COOKIE = 'eye_tracking_consent';\nconst CONSENT_DETAILS_COOKIE = 'consent_details';\nconst USER_PROFILE_COOKIE = 'user_profile';\nconst USER_PREFERENCES_COOKIE = 'user_preferences';\n// Get or create a user ID\nconst getOrCreateUserId = ()=>{\n    try {\n        const storedConsent = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_COOKIE);\n        const storedDetails = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_DETAILS_COOKIE);\n        if (storedConsent && storedDetails) {\n            const details = JSON.parse(storedDetails);\n            return details.userId;\n        }\n        // Generate new user ID if none exists\n        const newUserId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();\n        return newUserId;\n    } catch (error) {\n        console.error('Error getting/creating user ID:', error);\n        return (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();\n    }\n};\n// Get user profile\nconst getUserProfile = ()=>{\n    try {\n        const profileStr = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(USER_PROFILE_COOKIE);\n        if (profileStr) {\n            return JSON.parse(profileStr);\n        }\n        return null;\n    } catch (error) {\n        console.error('Error reading user profile:', error);\n        return null;\n    }\n};\n// Update user profile\nconst updateUserProfile = (profileData)=>{\n    try {\n        const currentProfile = getUserProfile() || {};\n        const updatedProfile = {\n            ...currentProfile,\n            ...profileData,\n            updatedAt: new Date().toISOString()\n        };\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(USER_PROFILE_COOKIE, JSON.stringify(updatedProfile), {\n            expires: 365\n        });\n        return updatedProfile;\n    } catch (error) {\n        console.error('Error updating user profile:', error);\n        throw error;\n    }\n};\n// Get user preferences\nconst getUserPreferences = ()=>{\n    try {\n        const preferencesStr = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(USER_PREFERENCES_COOKIE);\n        if (preferencesStr) {\n            return JSON.parse(preferencesStr);\n        }\n        return null;\n    } catch (error) {\n        console.error('Error reading user preferences:', error);\n        return null;\n    }\n};\n// Update user preferences\nconst updateUserPreferences = (preferencesData)=>{\n    try {\n        const currentPreferences = getUserPreferences() || {};\n        const updatedPreferences = {\n            ...currentPreferences,\n            ...preferencesData,\n            updatedAt: new Date().toISOString()\n        };\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(USER_PREFERENCES_COOKIE, JSON.stringify(updatedPreferences), {\n            expires: 365\n        });\n        return updatedPreferences;\n    } catch (error) {\n        console.error('Error updating user preferences:', error);\n        return null;\n    }\n};\n// Get user consent from cookies\nconst getUserConsent = ()=>{\n    try {\n        const storedConsent = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_COOKIE);\n        const storedDetails = js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(CONSENT_DETAILS_COOKIE);\n        if (storedConsent && storedDetails) {\n            const details = JSON.parse(storedDetails);\n            return {\n                userId: details.userId,\n                consentStatus: storedConsent === 'true',\n                consentUpdatedAt: details.timestamp,\n                consentDetails: details\n            };\n        }\n        return {\n            userId: null,\n            consentStatus: null,\n            consentUpdatedAt: null,\n            consentDetails: null\n        };\n    } catch (error) {\n        console.error('Error reading consent from cookies:', error);\n        return {\n            userId: null,\n            consentStatus: null,\n            consentUpdatedAt: null,\n            consentDetails: null\n        };\n    }\n};\n// Update user consent in cookies\nconst updateUserConsent = async (status, details = {})=>{\n    try {\n        // Get or create user ID\n        const userId = details.userId || getOrCreateUserId();\n        // Create consent data object\n        const consentData = {\n            userId,\n            status,\n            timestamp: new Date().toISOString(),\n            ...details\n        };\n        // Save to cookies\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(CONSENT_COOKIE, status.toString(), {\n            expires: 365\n        }); // Expires in 1 year\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].set(CONSENT_DETAILS_COOKIE, JSON.stringify(consentData), {\n            expires: 365\n        });\n        // Send consent data to admin\n        try {\n            const response = await fetch('/api/admin/consent-data', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(consentData)\n            });\n            if (!response.ok) {\n                console.warn('Failed to send consent data to admin');\n            }\n        } catch (saveError) {\n            console.warn('Error sending consent data:', saveError);\n        }\n        return {\n            userId,\n            consentStatus: status,\n            consentUpdatedAt: consentData.timestamp,\n            consentDetails: consentData\n        };\n    } catch (error) {\n        console.error('Error updating consent:', error);\n        throw error;\n    }\n};\n// Clear user consent and profile\nconst clearUserConsent = ()=>{\n    try {\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_COOKIE);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_DETAILS_COOKIE);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(USER_PROFILE_COOKIE);\n        return true;\n    } catch (error) {\n        console.error('Error clearing consent:', error);\n        return false;\n    }\n};\n// Reset consent banner by clearing cookies and refreshing the page\nconst resetConsentBanner = ()=>{\n    try {\n        // Clear all consent-related cookies\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_COOKIE);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(CONSENT_DETAILS_COOKIE);\n        js_cookie__WEBPACK_IMPORTED_MODULE_1__[\"default\"].remove(USER_PROFILE_COOKIE);\n        // Refresh the page to trigger the consent initialization\n        window.location.reload();\n        return true;\n    } catch (error) {\n        console.error('Error resetting consent banner:', error);\n        return false;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3V0aWxzL2NvbnNlbnRNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQW1DO0FBQ0M7QUFDSjtBQUVoQyxNQUFNRyxpQkFBaUI7QUFDdkIsTUFBTUMseUJBQXlCO0FBQy9CLE1BQU1DLHNCQUFzQjtBQUM1QixNQUFNQywwQkFBMEI7QUFFaEMsMEJBQTBCO0FBQ25CLE1BQU1DLG9CQUFvQjtJQUMvQixJQUFJO1FBQ0YsTUFBTUMsZ0JBQWdCTixxREFBVyxDQUFDQztRQUNsQyxNQUFNTyxnQkFBZ0JSLHFEQUFXLENBQUNFO1FBRWxDLElBQUlJLGlCQUFpQkUsZUFBZTtZQUNsQyxNQUFNQyxVQUFVQyxLQUFLQyxLQUFLLENBQUNIO1lBQzNCLE9BQU9DLFFBQVFHLE1BQU07UUFDdkI7UUFFQSxzQ0FBc0M7UUFDdEMsTUFBTUMsWUFBWWQsd0NBQU1BO1FBQ3hCLE9BQU9jO0lBQ1QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU9mLHdDQUFNQTtJQUNmO0FBQ0YsRUFBRTtBQUVGLG1CQUFtQjtBQUNaLE1BQU1pQixpQkFBaUI7SUFDNUIsSUFBSTtRQUNGLE1BQU1DLGFBQWFqQixxREFBVyxDQUFDRztRQUMvQixJQUFJYyxZQUFZO1lBQ2QsT0FBT1AsS0FBS0MsS0FBSyxDQUFDTTtRQUNwQjtRQUNBLE9BQU87SUFDVCxFQUFFLE9BQU9ILE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLHNCQUFzQjtBQUNmLE1BQU1JLG9CQUFvQixDQUFDQztJQUNoQyxJQUFJO1FBQ0YsTUFBTUMsaUJBQWlCSixvQkFBb0IsQ0FBQztRQUM1QyxNQUFNSyxpQkFBaUI7WUFDckIsR0FBR0QsY0FBYztZQUNqQixHQUFHRCxXQUFXO1lBQ2RHLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQztRQUNB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QUErQkM7UUFDOUM7UUFFQSxPQUFPO1lBQ0x0QztZQUNBdUIsZUFBZUs7WUFDZkosa0JBQWtCSyxZQUFZSixTQUFTO1lBQ3ZDQyxnQkFBZ0JHO1FBQ2xCO0lBQ0YsRUFBRSxPQUFPM0IsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxNQUFNQTtJQUNSO0FBQ0YsRUFBRTtBQUVGLGlDQUFpQztBQUMxQixNQUFNcUMsbUJBQW1CO0lBQzlCLElBQUk7UUFDRm5ELHdEQUFjLENBQUNDO1FBQ2ZELHdEQUFjLENBQUNFO1FBQ2ZGLHdEQUFjLENBQUNHO1FBQ2YsT0FBTztJQUNULEVBQUUsT0FBT1csT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUYsbUVBQW1FO0FBQzVELE1BQU11QyxxQkFBcUI7SUFDaEMsSUFBSTtRQUNGLG9DQUFvQztRQUNwQ3JELHdEQUFjLENBQUNDO1FBQ2ZELHdEQUFjLENBQUNFO1FBQ2ZGLHdEQUFjLENBQUNHO1FBRWYseURBQXlEO1FBQ3pEbUQsT0FBT0MsUUFBUSxDQUFDQyxNQUFNO1FBRXRCLE9BQU87SUFDVCxFQUFFLE9BQU8xQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU87SUFDVDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC91dGlscy9jb25zZW50TWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmcm9udGVuZC91dGlscy9jb25zZW50TWFuYWdlci5qc1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xuXG5jb25zdCBDT05TRU5UX0NPT0tJRSA9ICdleWVfdHJhY2tpbmdfY29uc2VudCc7XG5jb25zdCBDT05TRU5UX0RFVEFJTFNfQ09PS0lFID0gJ2NvbnNlbnRfZGV0YWlscyc7XG5jb25zdCBVU0VSX1BST0ZJTEVfQ09PS0lFID0gJ3VzZXJfcHJvZmlsZSc7XG5jb25zdCBVU0VSX1BSRUZFUkVOQ0VTX0NPT0tJRSA9ICd1c2VyX3ByZWZlcmVuY2VzJztcblxuLy8gR2V0IG9yIGNyZWF0ZSBhIHVzZXIgSURcbmV4cG9ydCBjb25zdCBnZXRPckNyZWF0ZVVzZXJJZCA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdG9yZWRDb25zZW50ID0gQ29va2llcy5nZXQoQ09OU0VOVF9DT09LSUUpO1xuICAgIGNvbnN0IHN0b3JlZERldGFpbHMgPSBDb29raWVzLmdldChDT05TRU5UX0RFVEFJTFNfQ09PS0lFKTtcbiAgICBcbiAgICBpZiAoc3RvcmVkQ29uc2VudCAmJiBzdG9yZWREZXRhaWxzKSB7XG4gICAgICBjb25zdCBkZXRhaWxzID0gSlNPTi5wYXJzZShzdG9yZWREZXRhaWxzKTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnVzZXJJZDtcbiAgICB9XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgbmV3IHVzZXIgSUQgaWYgbm9uZSBleGlzdHNcbiAgICBjb25zdCBuZXdVc2VySWQgPSB1dWlkdjQoKTtcbiAgICByZXR1cm4gbmV3VXNlcklkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcvY3JlYXRpbmcgdXNlciBJRDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHV1aWR2NCgpO1xuICB9XG59O1xuXG4vLyBHZXQgdXNlciBwcm9maWxlXG5leHBvcnQgY29uc3QgZ2V0VXNlclByb2ZpbGUgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvZmlsZVN0ciA9IENvb2tpZXMuZ2V0KFVTRVJfUFJPRklMRV9DT09LSUUpO1xuICAgIGlmIChwcm9maWxlU3RyKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShwcm9maWxlU3RyKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyB1c2VyIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vLyBVcGRhdGUgdXNlciBwcm9maWxlXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGUgPSAocHJvZmlsZURhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXJyZW50UHJvZmlsZSA9IGdldFVzZXJQcm9maWxlKCkgfHwge307XG4gICAgY29uc3QgdXBkYXRlZFByb2ZpbGUgPSB7XG4gICAgICAuLi5jdXJyZW50UHJvZmlsZSxcbiAgICAgIC4uLnByb2ZpbGVEYXRhLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIENvb2tpZXMuc2V0KFVTRVJfUFJPRklMRV9DT09LSUUsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9maWxlKSwgeyBleHBpcmVzOiAzNjUgfSk7XG4gICAgcmV0dXJuIHVwZGF0ZWRQcm9maWxlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXIgcHJvZmlsZTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIEdldCB1c2VyIHByZWZlcmVuY2VzXG5leHBvcnQgY29uc3QgZ2V0VXNlclByZWZlcmVuY2VzID0gKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHByZWZlcmVuY2VzU3RyID0gQ29va2llcy5nZXQoVVNFUl9QUkVGRVJFTkNFU19DT09LSUUpO1xuICAgIGlmIChwcmVmZXJlbmNlc1N0cikge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UocHJlZmVyZW5jZXNTdHIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWFkaW5nIHVzZXIgcHJlZmVyZW5jZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vLyBVcGRhdGUgdXNlciBwcmVmZXJlbmNlc1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJQcmVmZXJlbmNlcyA9IChwcmVmZXJlbmNlc0RhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXJyZW50UHJlZmVyZW5jZXMgPSBnZXRVc2VyUHJlZmVyZW5jZXMoKSB8fCB7fTtcbiAgICBjb25zdCB1cGRhdGVkUHJlZmVyZW5jZXMgPSB7XG4gICAgICAuLi5jdXJyZW50UHJlZmVyZW5jZXMsXG4gICAgICAuLi5wcmVmZXJlbmNlc0RhdGEsXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gICAgQ29va2llcy5zZXQoVVNFUl9QUkVGRVJFTkNFU19DT09LSUUsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcmVmZXJlbmNlcyksIHsgZXhwaXJlczogMzY1IH0pO1xuICAgIHJldHVybiB1cGRhdGVkUHJlZmVyZW5jZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBwcmVmZXJlbmNlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIEdldCB1c2VyIGNvbnNlbnQgZnJvbSBjb29raWVzXG5leHBvcnQgY29uc3QgZ2V0VXNlckNvbnNlbnQgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcmVkQ29uc2VudCA9IENvb2tpZXMuZ2V0KENPTlNFTlRfQ09PS0lFKTtcbiAgICBjb25zdCBzdG9yZWREZXRhaWxzID0gQ29va2llcy5nZXQoQ09OU0VOVF9ERVRBSUxTX0NPT0tJRSk7XG4gICAgXG4gICAgaWYgKHN0b3JlZENvbnNlbnQgJiYgc3RvcmVkRGV0YWlscykge1xuICAgICAgY29uc3QgZGV0YWlscyA9IEpTT04ucGFyc2Uoc3RvcmVkRGV0YWlscyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1c2VySWQ6IGRldGFpbHMudXNlcklkLFxuICAgICAgICBjb25zZW50U3RhdHVzOiBzdG9yZWRDb25zZW50ID09PSAndHJ1ZScsXG4gICAgICAgIGNvbnNlbnRVcGRhdGVkQXQ6IGRldGFpbHMudGltZXN0YW1wLFxuICAgICAgICBjb25zZW50RGV0YWlsczogZGV0YWlsc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJJZDogbnVsbCxcbiAgICAgIGNvbnNlbnRTdGF0dXM6IG51bGwsXG4gICAgICBjb25zZW50VXBkYXRlZEF0OiBudWxsLFxuICAgICAgY29uc2VudERldGFpbHM6IG51bGxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgY29uc2VudCBmcm9tIGNvb2tpZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VySWQ6IG51bGwsXG4gICAgICBjb25zZW50U3RhdHVzOiBudWxsLFxuICAgICAgY29uc2VudFVwZGF0ZWRBdDogbnVsbCxcbiAgICAgIGNvbnNlbnREZXRhaWxzOiBudWxsXG4gICAgfTtcbiAgfVxufTtcblxuLy8gVXBkYXRlIHVzZXIgY29uc2VudCBpbiBjb29raWVzXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckNvbnNlbnQgPSBhc3luYyAoc3RhdHVzLCBkZXRhaWxzID0ge30pID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgb3IgY3JlYXRlIHVzZXIgSURcbiAgICBjb25zdCB1c2VySWQgPSBkZXRhaWxzLnVzZXJJZCB8fCBnZXRPckNyZWF0ZVVzZXJJZCgpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBjb25zZW50IGRhdGEgb2JqZWN0XG4gICAgY29uc3QgY29uc2VudERhdGEgPSB7XG4gICAgICB1c2VySWQsXG4gICAgICBzdGF0dXMsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIC4uLmRldGFpbHNcbiAgICB9O1xuICAgIFxuICAgIC8vIFNhdmUgdG8gY29va2llc1xuICAgIENvb2tpZXMuc2V0KENPTlNFTlRfQ09PS0lFLCBzdGF0dXMudG9TdHJpbmcoKSwgeyBleHBpcmVzOiAzNjUgfSk7IC8vIEV4cGlyZXMgaW4gMSB5ZWFyXG4gICAgQ29va2llcy5zZXQoQ09OU0VOVF9ERVRBSUxTX0NPT0tJRSwgSlNPTi5zdHJpbmdpZnkoY29uc2VudERhdGEpLCB7IGV4cGlyZXM6IDM2NSB9KTtcbiAgICBcbiAgICAvLyBTZW5kIGNvbnNlbnQgZGF0YSB0byBhZG1pblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL2NvbnNlbnQtZGF0YScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjb25zZW50RGF0YSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNlbmQgY29uc2VudCBkYXRhIHRvIGFkbWluJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoc2F2ZUVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHNlbmRpbmcgY29uc2VudCBkYXRhOicsIHNhdmVFcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB1c2VySWQsXG4gICAgICBjb25zZW50U3RhdHVzOiBzdGF0dXMsXG4gICAgICBjb25zZW50VXBkYXRlZEF0OiBjb25zZW50RGF0YS50aW1lc3RhbXAsXG4gICAgICBjb25zZW50RGV0YWlsczogY29uc2VudERhdGFcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNvbnNlbnQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBDbGVhciB1c2VyIGNvbnNlbnQgYW5kIHByb2ZpbGVcbmV4cG9ydCBjb25zdCBjbGVhclVzZXJDb25zZW50ID0gKCkgPT4ge1xuICB0cnkge1xuICAgIENvb2tpZXMucmVtb3ZlKENPTlNFTlRfQ09PS0lFKTtcbiAgICBDb29raWVzLnJlbW92ZShDT05TRU5UX0RFVEFJTFNfQ09PS0lFKTtcbiAgICBDb29raWVzLnJlbW92ZShVU0VSX1BST0ZJTEVfQ09PS0lFKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBjb25zZW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIFJlc2V0IGNvbnNlbnQgYmFubmVyIGJ5IGNsZWFyaW5nIGNvb2tpZXMgYW5kIHJlZnJlc2hpbmcgdGhlIHBhZ2VcbmV4cG9ydCBjb25zdCByZXNldENvbnNlbnRCYW5uZXIgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gQ2xlYXIgYWxsIGNvbnNlbnQtcmVsYXRlZCBjb29raWVzXG4gICAgQ29va2llcy5yZW1vdmUoQ09OU0VOVF9DT09LSUUpO1xuICAgIENvb2tpZXMucmVtb3ZlKENPTlNFTlRfREVUQUlMU19DT09LSUUpO1xuICAgIENvb2tpZXMucmVtb3ZlKFVTRVJfUFJPRklMRV9DT09LSUUpO1xuICAgIFxuICAgIC8vIFJlZnJlc2ggdGhlIHBhZ2UgdG8gdHJpZ2dlciB0aGUgY29uc2VudCBpbml0aWFsaXphdGlvblxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNldHRpbmcgY29uc2VudCBiYW5uZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTsiXSwibmFtZXMiOlsidjQiLCJ1dWlkdjQiLCJDb29raWVzIiwiQ09OU0VOVF9DT09LSUUiLCJDT05TRU5UX0RFVEFJTFNfQ09PS0lFIiwiVVNFUl9QUk9GSUxFX0NPT0tJRSIsIlVTRVJfUFJFRkVSRU5DRVNfQ09PS0lFIiwiZ2V0T3JDcmVhdGVVc2VySWQiLCJzdG9yZWRDb25zZW50IiwiZ2V0Iiwic3RvcmVkRGV0YWlscyIsImRldGFpbHMiLCJKU09OIiwicGFyc2UiLCJ1c2VySWQiLCJuZXdVc2VySWQiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRVc2VyUHJvZmlsZSIsInByb2ZpbGVTdHIiLCJ1cGRhdGVVc2VyUHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiY3VycmVudFByb2ZpbGUiLCJ1cGRhdGVkUHJvZmlsZSIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNldCIsInN0cmluZ2lmeSIsImV4cGlyZXMiLCJnZXRVc2VyUHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlc1N0ciIsInVwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsInByZWZlcmVuY2VzRGF0YSIsImN1cnJlbnRQcmVmZXJlbmNlcyIsInVwZGF0ZWRQcmVmZXJlbmNlcyIsImdldFVzZXJDb25zZW50IiwiY29uc2VudFN0YXR1cyIsImNvbnNlbnRVcGRhdGVkQXQiLCJ0aW1lc3RhbXAiLCJjb25zZW50RGV0YWlscyIsInVwZGF0ZVVzZXJDb25zZW50Iiwic3RhdHVzIiwiY29uc2VudERhdGEiLCJ0b1N0cmluZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIm9rIiwid2FybiIsInNhdmVFcnJvciIsImNsZWFyVXNlckNvbnNlbnQiLCJyZW1vdmUiLCJyZXNldENvbnNlbnRCYW5uZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/consentManager.js\n");

/***/ }),

/***/ "(pages-dir-node)/./utils/stateManager.js":
/*!*******************************!*\
  !*** ./utils/stateManager.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppStateProvider: () => (/* binding */ AppStateProvider),\n/* harmony export */   BackendConnectionProvider: () => (/* binding */ BackendConnectionProvider),\n/* harmony export */   ProcessStatusProvider: () => (/* binding */ ProcessStatusProvider),\n/* harmony export */   useBackendConnection: () => (/* binding */ useBackendConnection),\n/* harmony export */   useProcessStatus: () => (/* binding */ useProcessStatus)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Create a context for the process status\nconst ProcessStatusContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Create a context for the backend connection status\nconst BackendConnectionContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Time constants (in milliseconds)\nconst CONNECTION_CHECK_INTERVAL = 30000; // 30 seconds\nconst CONNECTION_CHECK_TIMEOUT = 5000; // 5 seconds\n// Create a provider component for process status\nfunction ProcessStatusProvider({ children }) {\n    // This state will determine if the process is ready (true) or not (false)\n    const [isProcessReady, setIsProcessReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Add a flag to prevent automatic updates\n    const [isInitialized, setIsInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Function to toggle the state\n    const toggleProcessStatus = ()=>{\n        const newStatus = !isProcessReady;\n        setIsProcessReady(newStatus);\n        // Save to localStorage when explicitly toggled\n        localStorage.setItem('processStatus', String(newStatus));\n    };\n    // Function to set the status directly\n    const setProcessStatus = (status)=>{\n        setIsProcessReady(status);\n        // Save to localStorage when explicitly set\n        localStorage.setItem('processStatus', String(status));\n    };\n    // Only load from localStorage on initial mount, don't auto-save on every render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ProcessStatusProvider.useEffect\": ()=>{\n            // Only run this once on component mount\n            if (!isInitialized) {\n                const storedValue = localStorage.getItem('processStatus');\n                if (storedValue !== null) {\n                    setIsProcessReady(storedValue === 'true');\n                }\n                setIsInitialized(true);\n            }\n        }\n    }[\"ProcessStatusProvider.useEffect\"], [\n        isInitialized\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProcessStatusContext.Provider, {\n        value: {\n            isProcessReady,\n            toggleProcessStatus,\n            setProcessStatus\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n        lineNumber: 48,\n        columnNumber: 5\n    }, this);\n}\n// Create a provider component for backend connection\nfunction BackendConnectionProvider({ children }) {\n    const [connectionState, setConnectionState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isConnected: false,\n        authValid: false,\n        isChecking: false,\n        lastChecked: null,\n        serverInfo: {},\n        error: null\n    });\n    const [checkTimer, setCheckTimer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Function to check backend connection\n    const checkConnection = async (force = false)=>{\n        // Prevent frequent checks unless forced\n        if (connectionState.isChecking || !force && connectionState.lastChecked && Date.now() - connectionState.lastChecked < 5000) {\n            return;\n        }\n        // Update checking state\n        setConnectionState((prev)=>({\n                ...prev,\n                isChecking: true,\n                error: null\n            }));\n        try {\n            console.log(\"Checking backend connection...\");\n            const response = await fetch('/api/check-backend-connection');\n            if (!response.ok) {\n                throw new Error(`HTTP error! Status: ${response.status}`);\n            }\n            const data = await response.json();\n            console.log(\"Backend connection response:\", data);\n            setConnectionState({\n                isConnected: data.connected,\n                authValid: data.authValid || false,\n                isChecking: false,\n                lastChecked: Date.now(),\n                serverInfo: data.serverInfo || {},\n                error: null\n            });\n        } catch (err) {\n            console.error(\"Backend connection check failed:\", err);\n            setConnectionState((prev)=>({\n                    ...prev,\n                    isConnected: false,\n                    authValid: false,\n                    isChecking: false,\n                    lastChecked: Date.now(),\n                    error: err.message || \"Failed to connect to backend\"\n                }));\n        }\n    };\n    // Initial connection check on mount and set up periodic checks\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            // Check immediately on first load\n            checkConnection(true);\n            // Set up periodic checks\n            const intervalId = setInterval({\n                \"BackendConnectionProvider.useEffect.intervalId\": ()=>{\n                    checkConnection();\n                }\n            }[\"BackendConnectionProvider.useEffect.intervalId\"], CONNECTION_CHECK_INTERVAL);\n            // Clean up on unmount\n            return ({\n                \"BackendConnectionProvider.useEffect\": ()=>{\n                    clearInterval(intervalId);\n                    if (checkTimer) clearTimeout(checkTimer);\n                }\n            })[\"BackendConnectionProvider.useEffect\"];\n        }\n    }[\"BackendConnectionProvider.useEffect\"], []);\n    // Auto-reconnect when disconnected\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            if (!connectionState.isConnected && !connectionState.isChecking && !checkTimer) {\n                // Wait 5 seconds before retrying\n                const timer = setTimeout({\n                    \"BackendConnectionProvider.useEffect.timer\": ()=>{\n                        checkConnection(true);\n                        setCheckTimer(null);\n                    }\n                }[\"BackendConnectionProvider.useEffect.timer\"], 5000);\n                setCheckTimer(timer);\n                return ({\n                    \"BackendConnectionProvider.useEffect\": ()=>clearTimeout(timer)\n                })[\"BackendConnectionProvider.useEffect\"];\n            }\n        }\n    }[\"BackendConnectionProvider.useEffect\"], [\n        connectionState.isConnected,\n        connectionState.isChecking\n    ]);\n    // Check connection when tab becomes visible again\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BackendConnectionProvider.useEffect\": ()=>{\n            const handleVisibilityChange = {\n                \"BackendConnectionProvider.useEffect.handleVisibilityChange\": ()=>{\n                    if (document.visibilityState === 'visible' && (!connectionState.lastChecked || Date.now() - connectionState.lastChecked > CONNECTION_CHECK_INTERVAL)) {\n                        checkConnection();\n                    }\n                }\n            }[\"BackendConnectionProvider.useEffect.handleVisibilityChange\"];\n            document.addEventListener('visibilitychange', handleVisibilityChange);\n            return ({\n                \"BackendConnectionProvider.useEffect\": ()=>{\n                    document.removeEventListener('visibilitychange', handleVisibilityChange);\n                }\n            })[\"BackendConnectionProvider.useEffect\"];\n        }\n    }[\"BackendConnectionProvider.useEffect\"], [\n        connectionState.lastChecked\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BackendConnectionContext.Provider, {\n        value: {\n            ...connectionState,\n            checkConnection\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n        lineNumber: 165,\n        columnNumber: 5\n    }, this);\n}\n// Combined provider for convenience\nfunction AppStateProvider({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProcessStatusProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BackendConnectionProvider, {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/utils/stateManager.js\",\n        lineNumber: 179,\n        columnNumber: 5\n    }, this);\n}\n// Create custom hooks to use the contexts\nfunction useProcessStatus() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ProcessStatusContext);\n    if (context === undefined) {\n        throw new Error('useProcessStatus must be used within a ProcessStatusProvider');\n    }\n    return context;\n}\nfunction useBackendConnection() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(BackendConnectionContext);\n    if (context === undefined) {\n        throw new Error('useBackendConnection must be used within a BackendConnectionProvider');\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3V0aWxzL3N0YXRlTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVFO0FBRXZFLDBDQUEwQztBQUMxQyxNQUFNSSxxQ0FBdUJKLG9EQUFhQTtBQUUxQyxxREFBcUQ7QUFDckQsTUFBTUsseUNBQTJCTCxvREFBYUE7QUFFOUMsbUNBQW1DO0FBQ25DLE1BQU1NLDRCQUE0QixPQUFPLGFBQWE7QUFDdEQsTUFBTUMsMkJBQTJCLE1BQVEsWUFBWTtBQUVyRCxpREFBaUQ7QUFDMUMsU0FBU0Msc0JBQXNCLEVBQUVDLFFBQVEsRUFBRTtJQUNoRCwwRUFBMEU7SUFDMUUsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHViwrQ0FBUUEsQ0FBQztJQUNyRCwwQ0FBMEM7SUFDMUMsTUFBTSxDQUFDVyxlQUFlQyxpQkFBaUIsR0FBR1osK0NBQVFBLENBQUM7SUFFbkQsK0JBQStCO0lBQy9CLE1BQU1hLHNCQUFzQjtRQUMxQixNQUFNQyxZQUFZLENBQUNMO1FBQ25CQyxrQkFBa0JJO1FBQ2xCLCtDQUErQztRQUMvQ0MsYUFBYUMsT0FBTyxDQUFDLGlCQUFpQkMsT0FBT0g7SUFDL0M7SUFFQSxzQ0FBc0M7SUFDdEMsTUFBTUksbUJBQW1CLENBQUNDO1FBQ3hCVCxrQkFBa0JTO1FBQ2xCLDJDQUEyQztRQUMzQ0osYUFBYUMsT0FBTyxDQUFDLGlCQUFpQkMsT0FBT0U7SUFDL0M7SUFFQSxnRkFBZ0Y7SUFDaEZqQixnREFBU0E7MkNBQUM7WUFDUix3Q0FBd0M7WUFDeEMsSUFBSSxDQUFDUyxlQUFlO2dCQUNsQixNQUFNUyxjQUFjTCxhQUFhTSxPQUFPLENBQUM7Z0JBQ3pDLElBQUlELGdCQUFnQixNQUFNO29CQUN4QlYsa0JBQWtCVSxnQkFBZ0I7Z0JBQ3BDO2dCQUNBUixpQkFBaUI7WUFDbkI7UUFDRjswQ0FBRztRQUFDRDtLQUFjO0lBRWxCLHFCQUNFLDhEQUFDUixxQkFBcUJtQixRQUFRO1FBQUNDLE9BQU87WUFBRWQ7WUFBZ0JJO1lBQXFCSztRQUFpQjtrQkFDM0ZWOzs7Ozs7QUFHUDtBQUVBLHFEQUFxRDtBQUM5QyxTQUFTZ0IsMEJBQTBCLEVBQUVoQixRQUFRLEVBQUU7SUFDcEQsTUFBTSxDQUFDaUIsaUJBQWlCQyxtQkFBbUIsR0FBRzFCLCtDQUFRQSxDQUFDO1FBQ3JEMkIsYUFBYTtRQUNiQyxXQUFXO1FBQ1hDLFlBQVk7UUFDWkMsYUFBYTtRQUNiQyxZQUFZLENBQUM7UUFDYkMsT0FBTztJQUNUO0lBQ0EsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUU3Qyx1Q0FBdUM7SUFDdkMsTUFBTW1DLGtCQUFrQixPQUFPQyxRQUFRLEtBQUs7UUFDMUMsd0NBQXdDO1FBQ3hDLElBQUlYLGdCQUFnQkksVUFBVSxJQUN6QixDQUFDTyxTQUNEWCxnQkFBZ0JLLFdBQVcsSUFDM0JPLEtBQUtDLEdBQUcsS0FBS2IsZ0JBQWdCSyxXQUFXLEdBQUcsTUFBTztZQUNyRDtRQUNGO1FBRUEsd0JBQXdCO1FBQ3hCSixtQkFBbUJhLENBQUFBLE9BQVM7Z0JBQzFCLEdBQUdBLElBQUk7Z0JBQ1BWLFlBQVk7Z0JBQ1pHLE9BQU87WUFDVDtRQUVBLElBQUk7WUFDRlEsUUFBUUMsR0FBRyxDQUFDO1lBQ1osTUFBTUMsV0FBVyxNQUFNQyxNQUFNO1lBRTdCLElBQUksQ0FBQ0QsU0FBU0UsRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRUgsU0FBU3ZCLE1BQU0sRUFBRTtZQUMxRDtZQUVBLE1BQU0yQixPQUFPLE1BQU1KLFNBQVNLLElBQUk7WUFDaENQLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NLO1lBRTVDcEIsbUJBQW1CO2dCQUNqQkMsYUFBYW1CLEtBQUtFLFNBQVM7Z0JBQzNCcEIsV0FBV2tCLEtBQUtsQixTQUFTLElBQUk7Z0JBQzdCQyxZQUFZO2dCQUNaQyxhQUFhTyxLQUFLQyxHQUFHO2dCQUNyQlAsWUFBWWUsS0FBS2YsVUFBVSxJQUFJLENBQUM7Z0JBQ2hDQyxPQUFPO1lBQ1Q7UUFDRixFQUFFLE9BQU9pQixLQUFLO1lBQ1pULFFBQVFSLEtBQUssQ0FBQyxvQ0FBb0NpQjtZQUVsRHZCLG1CQUFtQmEsQ0FBQUEsT0FBUztvQkFDMUIsR0FBR0EsSUFBSTtvQkFDUFosYUFBYTtvQkFDYkMsV0FBVztvQkFDWEMsWUFBWTtvQkFDWkMsYUFBYU8sS0FBS0MsR0FBRztvQkFDckJOLE9BQU9pQixJQUFJQyxPQUFPLElBQUk7Z0JBQ3hCO1FBQ0Y7SUFDRjtJQUVBLCtEQUErRDtJQUMvRGhELGdEQUFTQTsrQ0FBQztZQUNSLGtDQUFrQztZQUNsQ2lDLGdCQUFnQjtZQUVoQix5QkFBeUI7WUFDekIsTUFBTWdCLGFBQWFDO2tFQUFZO29CQUM3QmpCO2dCQUNGO2lFQUFHOUI7WUFFSCxzQkFBc0I7WUFDdEI7dURBQU87b0JBQ0xnRCxjQUFjRjtvQkFDZCxJQUFJbEIsWUFBWXFCLGFBQWFyQjtnQkFDL0I7O1FBQ0Y7OENBQUcsRUFBRTtJQUVMLG1DQUFtQztJQUNuQy9CLGdEQUFTQTsrQ0FBQztZQUNSLElBQUksQ0FBQ3VCLGdCQUFnQkUsV0FBVyxJQUFJLENBQUNGLGdCQUFnQkksVUFBVSxJQUFJLENBQUNJLFlBQVk7Z0JBQzlFLGlDQUFpQztnQkFDakMsTUFBTXNCLFFBQVFDO2lFQUFXO3dCQUN2QnJCLGdCQUFnQjt3QkFDaEJELGNBQWM7b0JBQ2hCO2dFQUFHO2dCQUVIQSxjQUFjcUI7Z0JBQ2Q7MkRBQU8sSUFBTUQsYUFBYUM7O1lBQzVCO1FBQ0Y7OENBQUc7UUFBQzlCLGdCQUFnQkUsV0FBVztRQUFFRixnQkFBZ0JJLFVBQVU7S0FBQztJQUU1RCxrREFBa0Q7SUFDbEQzQixnREFBU0E7K0NBQUM7WUFDUixNQUFNdUQ7OEVBQXlCO29CQUM3QixJQUFJQyxTQUFTQyxlQUFlLEtBQUssYUFDNUIsRUFBQ2xDLGdCQUFnQkssV0FBVyxJQUM1Qk8sS0FBS0MsR0FBRyxLQUFLYixnQkFBZ0JLLFdBQVcsR0FBR3pCLHlCQUF3QixHQUFJO3dCQUMxRThCO29CQUNGO2dCQUNGOztZQUVBdUIsU0FBU0UsZ0JBQWdCLENBQUMsb0JBQW9CSDtZQUU5Qzt1REFBTztvQkFDTEMsU0FBU0csbUJBQW1CLENBQUMsb0JBQW9CSjtnQkFDbkQ7O1FBQ0Y7OENBQUc7UUFBQ2hDLGdCQUFnQkssV0FBVztLQUFDO0lBRWhDLHFCQUNFLDhEQUFDMUIseUJBQXlCa0IsUUFBUTtRQUNoQ0MsT0FBTztZQUNMLEdBQUdFLGVBQWU7WUFDbEJVO1FBQ0Y7a0JBRUMzQjs7Ozs7O0FBR1A7QUFFQSxvQ0FBb0M7QUFDN0IsU0FBU3NELGlCQUFpQixFQUFFdEQsUUFBUSxFQUFFO0lBQzNDLHFCQUNFLDhEQUFDRDtrQkFDQyw0RUFBQ2lCO3NCQUNFaEI7Ozs7Ozs7Ozs7O0FBSVQ7QUFFQSwwQ0FBMEM7QUFDbkMsU0FBU3VEO0lBQ2QsTUFBTUMsVUFBVS9ELGlEQUFVQSxDQUFDRTtJQUMzQixJQUFJNkQsWUFBWUMsV0FBVztRQUN6QixNQUFNLElBQUlwQixNQUFNO0lBQ2xCO0lBQ0EsT0FBT21CO0FBQ1Q7QUFFTyxTQUFTRTtJQUNkLE1BQU1GLFVBQVUvRCxpREFBVUEsQ0FBQ0c7SUFDM0IsSUFBSTRELFlBQVlDLFdBQVc7UUFDekIsTUFBTSxJQUFJcEIsTUFBTTtJQUNsQjtJQUNBLE9BQU9tQjtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvdXRpbHMvc3RhdGVNYW5hZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbi8vIENyZWF0ZSBhIGNvbnRleHQgZm9yIHRoZSBwcm9jZXNzIHN0YXR1c1xuY29uc3QgUHJvY2Vzc1N0YXR1c0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbi8vIENyZWF0ZSBhIGNvbnRleHQgZm9yIHRoZSBiYWNrZW5kIGNvbm5lY3Rpb24gc3RhdHVzXG5jb25zdCBCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbi8vIFRpbWUgY29uc3RhbnRzIChpbiBtaWxsaXNlY29uZHMpXG5jb25zdCBDT05ORUNUSU9OX0NIRUNLX0lOVEVSVkFMID0gMzAwMDA7IC8vIDMwIHNlY29uZHNcbmNvbnN0IENPTk5FQ1RJT05fQ0hFQ0tfVElNRU9VVCA9IDUwMDA7ICAgLy8gNSBzZWNvbmRzXG5cbi8vIENyZWF0ZSBhIHByb3ZpZGVyIGNvbXBvbmVudCBmb3IgcHJvY2VzcyBzdGF0dXNcbmV4cG9ydCBmdW5jdGlvbiBQcm9jZXNzU3RhdHVzUHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gIC8vIFRoaXMgc3RhdGUgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIHByb2Nlc3MgaXMgcmVhZHkgKHRydWUpIG9yIG5vdCAoZmFsc2UpXG4gIGNvbnN0IFtpc1Byb2Nlc3NSZWFkeSwgc2V0SXNQcm9jZXNzUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBBZGQgYSBmbGFnIHRvIHByZXZlbnQgYXV0b21hdGljIHVwZGF0ZXNcbiAgY29uc3QgW2lzSW5pdGlhbGl6ZWQsIHNldElzSW5pdGlhbGl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHRvZ2dsZSB0aGUgc3RhdGVcbiAgY29uc3QgdG9nZ2xlUHJvY2Vzc1N0YXR1cyA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdTdGF0dXMgPSAhaXNQcm9jZXNzUmVhZHk7XG4gICAgc2V0SXNQcm9jZXNzUmVhZHkobmV3U3RhdHVzKTtcbiAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZSB3aGVuIGV4cGxpY2l0bHkgdG9nZ2xlZFxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9jZXNzU3RhdHVzJywgU3RyaW5nKG5ld1N0YXR1cykpO1xuICB9O1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gc2V0IHRoZSBzdGF0dXMgZGlyZWN0bHlcbiAgY29uc3Qgc2V0UHJvY2Vzc1N0YXR1cyA9IChzdGF0dXMpID0+IHtcbiAgICBzZXRJc1Byb2Nlc3NSZWFkeShzdGF0dXMpO1xuICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIHdoZW4gZXhwbGljaXRseSBzZXRcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvY2Vzc1N0YXR1cycsIFN0cmluZyhzdGF0dXMpKTtcbiAgfTtcblxuICAvLyBPbmx5IGxvYWQgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gaW5pdGlhbCBtb3VudCwgZG9uJ3QgYXV0by1zYXZlIG9uIGV2ZXJ5IHJlbmRlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgcnVuIHRoaXMgb25jZSBvbiBjb21wb25lbnQgbW91bnRcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGNvbnN0IHN0b3JlZFZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2Nlc3NTdGF0dXMnKTtcbiAgICAgIGlmIChzdG9yZWRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBzZXRJc1Byb2Nlc3NSZWFkeShzdG9yZWRWYWx1ZSA9PT0gJ3RydWUnKTtcbiAgICAgIH1cbiAgICAgIHNldElzSW5pdGlhbGl6ZWQodHJ1ZSk7XG4gICAgfVxuICB9LCBbaXNJbml0aWFsaXplZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPFByb2Nlc3NTdGF0dXNDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGlzUHJvY2Vzc1JlYWR5LCB0b2dnbGVQcm9jZXNzU3RhdHVzLCBzZXRQcm9jZXNzU3RhdHVzIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvUHJvY2Vzc1N0YXR1c0NvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbi8vIENyZWF0ZSBhIHByb3ZpZGVyIGNvbXBvbmVudCBmb3IgYmFja2VuZCBjb25uZWN0aW9uXG5leHBvcnQgZnVuY3Rpb24gQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgW2Nvbm5lY3Rpb25TdGF0ZSwgc2V0Q29ubmVjdGlvblN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgYXV0aFZhbGlkOiBmYWxzZSxcbiAgICBpc0NoZWNraW5nOiBmYWxzZSxcbiAgICBsYXN0Q2hlY2tlZDogbnVsbCxcbiAgICBzZXJ2ZXJJbmZvOiB7fSxcbiAgICBlcnJvcjogbnVsbFxuICB9KTtcbiAgY29uc3QgW2NoZWNrVGltZXIsIHNldENoZWNrVGltZXJdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgYmFja2VuZCBjb25uZWN0aW9uXG4gIGNvbnN0IGNoZWNrQ29ubmVjdGlvbiA9IGFzeW5jIChmb3JjZSA9IGZhbHNlKSA9PiB7XG4gICAgLy8gUHJldmVudCBmcmVxdWVudCBjaGVja3MgdW5sZXNzIGZvcmNlZFxuICAgIGlmIChjb25uZWN0aW9uU3RhdGUuaXNDaGVja2luZyB8fCBcbiAgICAgICAgKCFmb3JjZSAmJiBcbiAgICAgICAgIGNvbm5lY3Rpb25TdGF0ZS5sYXN0Q2hlY2tlZCAmJiBcbiAgICAgICAgIERhdGUubm93KCkgLSBjb25uZWN0aW9uU3RhdGUubGFzdENoZWNrZWQgPCA1MDAwKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBjaGVja2luZyBzdGF0ZVxuICAgIHNldENvbm5lY3Rpb25TdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgaXNDaGVja2luZzogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfSkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2hlY2tpbmcgYmFja2VuZCBjb25uZWN0aW9uLi4uXCIpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jaGVjay1iYWNrZW5kLWNvbm5lY3Rpb24nKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkJhY2tlbmQgY29ubmVjdGlvbiByZXNwb25zZTpcIiwgZGF0YSk7XG4gICAgICBcbiAgICAgIHNldENvbm5lY3Rpb25TdGF0ZSh7XG4gICAgICAgIGlzQ29ubmVjdGVkOiBkYXRhLmNvbm5lY3RlZCxcbiAgICAgICAgYXV0aFZhbGlkOiBkYXRhLmF1dGhWYWxpZCB8fCBmYWxzZSxcbiAgICAgICAgaXNDaGVja2luZzogZmFsc2UsXG4gICAgICAgIGxhc3RDaGVja2VkOiBEYXRlLm5vdygpLFxuICAgICAgICBzZXJ2ZXJJbmZvOiBkYXRhLnNlcnZlckluZm8gfHwge30sXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJCYWNrZW5kIGNvbm5lY3Rpb24gY2hlY2sgZmFpbGVkOlwiLCBlcnIpO1xuICAgICAgXG4gICAgICBzZXRDb25uZWN0aW9uU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGF1dGhWYWxpZDogZmFsc2UsXG4gICAgICAgIGlzQ2hlY2tpbmc6IGZhbHNlLFxuICAgICAgICBsYXN0Q2hlY2tlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gYmFja2VuZFwiXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEluaXRpYWwgY29ubmVjdGlvbiBjaGVjayBvbiBtb3VudCBhbmQgc2V0IHVwIHBlcmlvZGljIGNoZWNrc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoZWNrIGltbWVkaWF0ZWx5IG9uIGZpcnN0IGxvYWRcbiAgICBjaGVja0Nvbm5lY3Rpb24odHJ1ZSk7XG4gICAgXG4gICAgLy8gU2V0IHVwIHBlcmlvZGljIGNoZWNrc1xuICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjaGVja0Nvbm5lY3Rpb24oKTtcbiAgICB9LCBDT05ORUNUSU9OX0NIRUNLX0lOVEVSVkFMKTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cCBvbiB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICBpZiAoY2hlY2tUaW1lcikgY2xlYXJUaW1lb3V0KGNoZWNrVGltZXIpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBBdXRvLXJlY29ubmVjdCB3aGVuIGRpc2Nvbm5lY3RlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY29ubmVjdGlvblN0YXRlLmlzQ29ubmVjdGVkICYmICFjb25uZWN0aW9uU3RhdGUuaXNDaGVja2luZyAmJiAhY2hlY2tUaW1lcikge1xuICAgICAgLy8gV2FpdCA1IHNlY29uZHMgYmVmb3JlIHJldHJ5aW5nXG4gICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjaGVja0Nvbm5lY3Rpb24odHJ1ZSk7XG4gICAgICAgIHNldENoZWNrVGltZXIobnVsbCk7XG4gICAgICB9LCA1MDAwKTtcbiAgICAgIFxuICAgICAgc2V0Q2hlY2tUaW1lcih0aW1lcik7XG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gIH0sIFtjb25uZWN0aW9uU3RhdGUuaXNDb25uZWN0ZWQsIGNvbm5lY3Rpb25TdGF0ZS5pc0NoZWNraW5nXSk7XG5cbiAgLy8gQ2hlY2sgY29ubmVjdGlvbiB3aGVuIHRhYiBiZWNvbWVzIHZpc2libGUgYWdhaW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnICYmIFxuICAgICAgICAgICghY29ubmVjdGlvblN0YXRlLmxhc3RDaGVja2VkIHx8IFxuICAgICAgICAgICBEYXRlLm5vdygpIC0gY29ubmVjdGlvblN0YXRlLmxhc3RDaGVja2VkID4gQ09OTkVDVElPTl9DSEVDS19JTlRFUlZBTCkpIHtcbiAgICAgICAgY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtjb25uZWN0aW9uU3RhdGUubGFzdENoZWNrZWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIC4uLmNvbm5lY3Rpb25TdGF0ZSxcbiAgICAgICAgY2hlY2tDb25uZWN0aW9uXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0JhY2tlbmRDb25uZWN0aW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuLy8gQ29tYmluZWQgcHJvdmlkZXIgZm9yIGNvbnZlbmllbmNlXG5leHBvcnQgZnVuY3Rpb24gQXBwU3RhdGVQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8UHJvY2Vzc1N0YXR1c1Byb3ZpZGVyPlxuICAgICAgPEJhY2tlbmRDb25uZWN0aW9uUHJvdmlkZXI+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlcj5cbiAgICA8L1Byb2Nlc3NTdGF0dXNQcm92aWRlcj5cbiAgKTtcbn1cblxuLy8gQ3JlYXRlIGN1c3RvbSBob29rcyB0byB1c2UgdGhlIGNvbnRleHRzXG5leHBvcnQgZnVuY3Rpb24gdXNlUHJvY2Vzc1N0YXR1cygpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoUHJvY2Vzc1N0YXR1c0NvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VQcm9jZXNzU3RhdHVzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBQcm9jZXNzU3RhdHVzUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUJhY2tlbmRDb25uZWN0aW9uKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VCYWNrZW5kQ29ubmVjdGlvbiBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufSJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwiUHJvY2Vzc1N0YXR1c0NvbnRleHQiLCJCYWNrZW5kQ29ubmVjdGlvbkNvbnRleHQiLCJDT05ORUNUSU9OX0NIRUNLX0lOVEVSVkFMIiwiQ09OTkVDVElPTl9DSEVDS19USU1FT1VUIiwiUHJvY2Vzc1N0YXR1c1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJpc1Byb2Nlc3NSZWFkeSIsInNldElzUHJvY2Vzc1JlYWR5IiwiaXNJbml0aWFsaXplZCIsInNldElzSW5pdGlhbGl6ZWQiLCJ0b2dnbGVQcm9jZXNzU3RhdHVzIiwibmV3U3RhdHVzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIlN0cmluZyIsInNldFByb2Nlc3NTdGF0dXMiLCJzdGF0dXMiLCJzdG9yZWRWYWx1ZSIsImdldEl0ZW0iLCJQcm92aWRlciIsInZhbHVlIiwiQmFja2VuZENvbm5lY3Rpb25Qcm92aWRlciIsImNvbm5lY3Rpb25TdGF0ZSIsInNldENvbm5lY3Rpb25TdGF0ZSIsImlzQ29ubmVjdGVkIiwiYXV0aFZhbGlkIiwiaXNDaGVja2luZyIsImxhc3RDaGVja2VkIiwic2VydmVySW5mbyIsImVycm9yIiwiY2hlY2tUaW1lciIsInNldENoZWNrVGltZXIiLCJjaGVja0Nvbm5lY3Rpb24iLCJmb3JjZSIsIkRhdGUiLCJub3ciLCJwcmV2IiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJlcnIiLCJtZXNzYWdlIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsInRpbWVyIiwic2V0VGltZW91dCIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJkb2N1bWVudCIsInZpc2liaWxpdHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQXBwU3RhdGVQcm92aWRlciIsInVzZVByb2Nlc3NTdGF0dXMiLCJjb250ZXh0IiwidW5kZWZpbmVkIiwidXNlQmFja2VuZENvbm5lY3Rpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/stateManager.js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "js-cookie":
/*!****************************!*\
  !*** external "js-cookie" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = import("js-cookie");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "styled-jsx/style":
/*!***********************************!*\
  !*** external "styled-jsx/style" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("styled-jsx/style");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fcollected-dataset-customized&preferredRegion=&absolutePagePath=.%2Fpages%2Fcollected-dataset-customized%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
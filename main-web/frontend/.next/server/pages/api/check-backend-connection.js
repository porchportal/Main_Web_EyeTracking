"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/check-backend-connection";
exports.ids = ["pages/api/check-backend-connection"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck-backend-connection&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck-backend-connection.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck-backend-connection&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck-backend-connection.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_check_backend_connection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/check-backend-connection.js */ \"(api-node)/./pages/api/check-backend-connection.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_check_backend_connection_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_check_backend_connection_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/check-backend-connection\",\n        pathname: \"/api/check-backend-connection\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_check_backend_connection_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGY2hlY2stYmFja2VuZC1jb25uZWN0aW9uJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZjaGVjay1iYWNrZW5kLWNvbm5lY3Rpb24uanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDb0U7QUFDcEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1FQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxtRUFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9jaGVjay1iYWNrZW5kLWNvbm5lY3Rpb24uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvblwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvblwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck-backend-connection&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck-backend-connection.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/check-backend-connection.js":
/*!***********************************************!*\
  !*** ./pages/api/check-backend-connection.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-fetch */ \"node-fetch\");\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_fetch__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_2__);\n// pages/api/check-backend-connection.js\n\n\n\nasync function handler(req, res) {\n    try {\n        // Get the backend URL from environment variable or use default\n        const backendUrl = process.env.BACKEND_URL || 'http://localhost:8000';\n        const apiKey = process.env.API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV';\n        console.log(`Checking backend connection at: ${backendUrl}/check-backend-connection`);\n        // Enhanced fetch function with proper error handling and timeout\n        const fetchWithTimeout = async (url, options = {}, timeoutMs = 5000)=>{\n            const abortController = new AbortController();\n            const { signal } = abortController;\n            const timeout = setTimeout(()=>{\n                abortController.abort();\n            }, timeoutMs);\n            try {\n                const response = await node_fetch__WEBPACK_IMPORTED_MODULE_0___default()(url, {\n                    ...options,\n                    signal\n                });\n                return response;\n            } catch (error) {\n                if (error.name === 'AbortError') {\n                    throw new Error(`Request timeout after ${timeoutMs}ms`);\n                }\n                throw error;\n            } finally{\n                clearTimeout(timeout);\n            }\n        };\n        try {\n            // First try the connection check endpoint (doesn't require auth)\n            // Using a shorter timeout for faster feedback\n            const connectionResponse = await fetchWithTimeout(`${backendUrl}/api/check-backend-connection`, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }, 3000);\n            if (!connectionResponse.ok) {\n                console.error('Connection check failed:', connectionResponse.status, connectionResponse.statusText);\n                return res.status(200).json({\n                    connected: false,\n                    authValid: false,\n                    message: `Backend connection check failed with status: ${connectionResponse.status}`,\n                    error: {\n                        type: 'connection_check_failed',\n                        status: connectionResponse.status,\n                        statusText: connectionResponse.statusText\n                    }\n                });\n            }\n            const connectionData = await connectionResponse.json();\n            console.log('Backend connection check response:', connectionData);\n            // Then check if auth is valid using the test-auth endpoint\n            try {\n                const authResponse = await fetchWithTimeout(`${backendUrl}/test-auth`, {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': apiKey\n                    }\n                }, 3000);\n                const authValid = authResponse.ok;\n                const authStatus = authResponse.status;\n                if (authValid) {\n                    let authData = {};\n                    try {\n                        authData = await authResponse.json();\n                        console.log('Auth check successful:', authData);\n                    } catch (parseError) {\n                        console.error('Error parsing auth response:', parseError);\n                    }\n                    return res.status(200).json({\n                        connected: true,\n                        authValid: true,\n                        message: 'Backend connection and authentication successful',\n                        serverInfo: {\n                            status: connectionData.status || 'ok'\n                        }\n                    });\n                } else {\n                    console.error('Auth check failed:', authStatus, authResponse.statusText);\n                    return res.status(200).json({\n                        connected: true,\n                        authValid: false,\n                        message: 'Backend connected but authentication failed',\n                        error: {\n                            type: 'auth_failed',\n                            status: authStatus,\n                            statusText: authResponse.statusText\n                        }\n                    });\n                }\n            } catch (authError) {\n                console.error('Auth check error:', authError);\n                return res.status(200).json({\n                    connected: true,\n                    authValid: false,\n                    message: 'Backend connected but authentication check failed',\n                    error: {\n                        type: 'auth_check_error',\n                        message: authError.message\n                    }\n                });\n            }\n        } catch (connectionError) {\n            console.error('Connection check error:', connectionError);\n            return res.status(200).json({\n                connected: false,\n                authValid: false,\n                message: 'Backend connection check failed',\n                error: {\n                    type: 'connection_error',\n                    message: connectionError.message\n                }\n            });\n        }\n    } catch (error) {\n        console.error('Unexpected error:', error);\n        return res.status(500).json({\n            connected: false,\n            authValid: false,\n            message: 'Unexpected error during backend connection check',\n            error: {\n                type: 'unexpected_error',\n                message: error.message\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9jaGVjay1iYWNrZW5kLWNvbm5lY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHdDQUF3QztBQUNUO0FBQ1g7QUFDbUI7QUFFeEIsZUFBZUcsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLElBQUk7UUFDRiwrREFBK0Q7UUFDL0QsTUFBTUMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUk7UUFDOUMsTUFBTUMsU0FBU0gsUUFBUUMsR0FBRyxDQUFDRyxPQUFPLElBQUk7UUFFdENDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdDQUFnQyxFQUFFUCxXQUFXLHlCQUF5QixDQUFDO1FBRXBGLGlFQUFpRTtRQUNqRSxNQUFNUSxtQkFBbUIsT0FBT0MsS0FBS0MsVUFBVSxDQUFDLENBQUMsRUFBRUMsWUFBWSxJQUFJO1lBQ2pFLE1BQU1DLGtCQUFrQixJQUFJQztZQUM1QixNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHRjtZQUVuQixNQUFNRyxVQUFVQyxXQUFXO2dCQUN6QkosZ0JBQWdCSyxLQUFLO1lBQ3ZCLEdBQUdOO1lBRUgsSUFBSTtnQkFDRixNQUFNTyxXQUFXLE1BQU14QixpREFBS0EsQ0FBQ2UsS0FBSztvQkFDaEMsR0FBR0MsT0FBTztvQkFDVkk7Z0JBQ0Y7Z0JBQ0EsT0FBT0k7WUFDVCxFQUFFLE9BQU9DLE9BQU87Z0JBQ2QsSUFBSUEsTUFBTUMsSUFBSSxLQUFLLGNBQWM7b0JBQy9CLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHNCQUFzQixFQUFFVixVQUFVLEVBQUUsQ0FBQztnQkFDeEQ7Z0JBQ0EsTUFBTVE7WUFDUixTQUFVO2dCQUNSRyxhQUFhUDtZQUNmO1FBQ0Y7UUFFQSxJQUFJO1lBQ0YsaUVBQWlFO1lBQ2pFLDhDQUE4QztZQUM5QyxNQUFNUSxxQkFBcUIsTUFBTWYsaUJBQWlCLEdBQUdSLFdBQVcsNkJBQTZCLENBQUMsRUFBRTtnQkFDOUZ3QixRQUFRO2dCQUNSQyxTQUFTO29CQUNQ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dGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3BhZ2VzL2FwaS9jaGVjay1iYWNrZW5kLWNvbm5lY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvbi5qc1xuaW1wb3J0IGZldGNoIGZyb20gJ25vZGUtZmV0Y2gnO1xuaW1wb3J0IG9zIGZyb20gJ29zJztcbmltcG9ydCBzdWJwcm9jZXNzIGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IHRoZSBiYWNrZW5kIFVSTCBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIG9yIHVzZSBkZWZhdWx0XG4gICAgY29uc3QgYmFja2VuZFVybCA9IHByb2Nlc3MuZW52LkJBQ0tFTkRfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwMDAnO1xuICAgIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkFQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVic7XG4gICAgXG4gICAgY29uc29sZS5sb2coYENoZWNraW5nIGJhY2tlbmQgY29ubmVjdGlvbiBhdDogJHtiYWNrZW5kVXJsfS9jaGVjay1iYWNrZW5kLWNvbm5lY3Rpb25gKTtcbiAgICBcbiAgICAvLyBFbmhhbmNlZCBmZXRjaCBmdW5jdGlvbiB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZyBhbmQgdGltZW91dFxuICAgIGNvbnN0IGZldGNoV2l0aFRpbWVvdXQgPSBhc3luYyAodXJsLCBvcHRpb25zID0ge30sIHRpbWVvdXRNcyA9IDUwMDApID0+IHtcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG4gICAgICBcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9LCB0aW1lb3V0TXMpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgc2lnbmFsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXF1ZXN0IHRpbWVvdXQgYWZ0ZXIgJHt0aW1lb3V0TXN9bXNgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCB0cnkgdGhlIGNvbm5lY3Rpb24gY2hlY2sgZW5kcG9pbnQgKGRvZXNuJ3QgcmVxdWlyZSBhdXRoKVxuICAgICAgLy8gVXNpbmcgYSBzaG9ydGVyIHRpbWVvdXQgZm9yIGZhc3RlciBmZWVkYmFja1xuICAgICAgY29uc3QgY29ubmVjdGlvblJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoVGltZW91dChgJHtiYWNrZW5kVXJsfS9hcGkvY2hlY2stYmFja2VuZC1jb25uZWN0aW9uYCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfVxuICAgICAgfSwgMzAwMCk7XG4gICAgICBcbiAgICAgIGlmICghY29ubmVjdGlvblJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nvbm5lY3Rpb24gY2hlY2sgZmFpbGVkOicsIGNvbm5lY3Rpb25SZXNwb25zZS5zdGF0dXMsIGNvbm5lY3Rpb25SZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGF1dGhWYWxpZDogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogYEJhY2tlbmQgY29ubmVjdGlvbiBjaGVjayBmYWlsZWQgd2l0aCBzdGF0dXM6ICR7Y29ubmVjdGlvblJlc3BvbnNlLnN0YXR1c31gLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICB0eXBlOiAnY29ubmVjdGlvbl9jaGVja19mYWlsZWQnLFxuICAgICAgICAgICAgc3RhdHVzOiBjb25uZWN0aW9uUmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogY29ubmVjdGlvblJlc3BvbnNlLnN0YXR1c1RleHRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjb25uZWN0aW9uRGF0YSA9IGF3YWl0IGNvbm5lY3Rpb25SZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnQmFja2VuZCBjb25uZWN0aW9uIGNoZWNrIHJlc3BvbnNlOicsIGNvbm5lY3Rpb25EYXRhKTtcbiAgICAgIFxuICAgICAgLy8gVGhlbiBjaGVjayBpZiBhdXRoIGlzIHZhbGlkIHVzaW5nIHRoZSB0ZXN0LWF1dGggZW5kcG9pbnRcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGF1dGhSZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aFRpbWVvdXQoYCR7YmFja2VuZFVybH0vdGVzdC1hdXRoYCwge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknOiBhcGlLZXlcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMDApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYXV0aFZhbGlkID0gYXV0aFJlc3BvbnNlLm9rO1xuICAgICAgICBjb25zdCBhdXRoU3RhdHVzID0gYXV0aFJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgXG4gICAgICAgIGlmIChhdXRoVmFsaWQpIHtcbiAgICAgICAgICBsZXQgYXV0aERhdGEgPSB7fTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXV0aERhdGEgPSBhd2FpdCBhdXRoUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGggY2hlY2sgc3VjY2Vzc2Z1bDonLCBhdXRoRGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBhdXRoIHJlc3BvbnNlOicsIHBhcnNlRXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgY29ubmVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgYXV0aFZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0JhY2tlbmQgY29ubmVjdGlvbiBhbmQgYXV0aGVudGljYXRpb24gc3VjY2Vzc2Z1bCcsXG4gICAgICAgICAgICBzZXJ2ZXJJbmZvOiB7XG4gICAgICAgICAgICAgIHN0YXR1czogY29ubmVjdGlvbkRhdGEuc3RhdHVzIHx8ICdvaydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGNoZWNrIGZhaWxlZDonLCBhdXRoU3RhdHVzLCBhdXRoUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGNvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgICAgIGF1dGhWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQmFja2VuZCBjb25uZWN0ZWQgYnV0IGF1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICB0eXBlOiAnYXV0aF9mYWlsZWQnLFxuICAgICAgICAgICAgICBzdGF0dXM6IGF1dGhTdGF0dXMsXG4gICAgICAgICAgICAgIHN0YXR1c1RleHQ6IGF1dGhSZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGF1dGhFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGNoZWNrIGVycm9yOicsIGF1dGhFcnJvcik7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgY29ubmVjdGVkOiB0cnVlLFxuICAgICAgICAgIGF1dGhWYWxpZDogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJ0JhY2tlbmQgY29ubmVjdGVkIGJ1dCBhdXRoZW50aWNhdGlvbiBjaGVjayBmYWlsZWQnLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICB0eXBlOiAnYXV0aF9jaGVja19lcnJvcicsXG4gICAgICAgICAgICBtZXNzYWdlOiBhdXRoRXJyb3IubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoY29ubmVjdGlvbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb25uZWN0aW9uIGNoZWNrIGVycm9yOicsIGNvbm5lY3Rpb25FcnJvcik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBjb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBhdXRoVmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnQmFja2VuZCBjb25uZWN0aW9uIGNoZWNrIGZhaWxlZCcsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb25fZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6IGNvbm5lY3Rpb25FcnJvci5tZXNzYWdlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICAgIGF1dGhWYWxpZDogZmFsc2UsXG4gICAgICBtZXNzYWdlOiAnVW5leHBlY3RlZCBlcnJvciBkdXJpbmcgYmFja2VuZCBjb25uZWN0aW9uIGNoZWNrJyxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIHR5cGU6ICd1bmV4cGVjdGVkX2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbImZldGNoIiwib3MiLCJzdWJwcm9jZXNzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImJhY2tlbmRVcmwiLCJwcm9jZXNzIiwiZW52IiwiQkFDS0VORF9VUkwiLCJhcGlLZXkiLCJBUElfS0VZIiwiY29uc29sZSIsImxvZyIsImZldGNoV2l0aFRpbWVvdXQiLCJ1cmwiLCJvcHRpb25zIiwidGltZW91dE1zIiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwiZXJyb3IiLCJuYW1lIiwiRXJyb3IiLCJjbGVhclRpbWVvdXQiLCJjb25uZWN0aW9uUmVzcG9uc2UiLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwianNvbiIsImNvbm5lY3RlZCIsImF1dGhWYWxpZCIsIm1lc3NhZ2UiLCJ0eXBlIiwiY29ubmVjdGlvbkRhdGEiLCJhdXRoUmVzcG9uc2UiLCJhdXRoU3RhdHVzIiwiYXV0aERhdGEiLCJwYXJzZUVycm9yIiwic2VydmVySW5mbyIsImF1dGhFcnJvciIsImNvbm5lY3Rpb25FcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/check-backend-connection.js\n");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node-fetch");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcheck-backend-connection&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcheck-backend-connection.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_pages_collected-dataset-customized_components-gui_cameraAccess_js";
exports.ids = ["_pages-dir-node_pages_collected-dataset-customized_components-gui_cameraAccess_js"];
exports.modules = {

/***/ "(pages-dir-node)/./pages/collected-dataset-customized/components-gui/cameraAccess.js":
/*!***************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/cameraAccess.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../components/collected-dataset-customized/Helper/savefile */ \"(pages-dir-node)/./components/collected-dataset-customized/Helper/savefile.js\");\n// cameraAccess.js\n\n\n\nconst CameraAccess = ({ isShowing, onClose, onCameraReady, showHeadPose = false, showBoundingBox = false, showMask = false, showParameters = false })=>{\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [fps, setFps] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const fpsTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const processingInterval = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [isVideoReady, setIsVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [processingResults, setProcessingResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const frameQueue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const isProcessing = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [wsStatus, setWsStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('disconnected');\n    const [isLinked, setIsLinked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // WebSocket connection\n    const connectWebSocket = ()=>{\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            console.log('WebSocket already connected');\n            return;\n        }\n        setWsStatus('connecting');\n        try {\n            // Connect to FastAPI WebSocket endpoint\n            const ws = new WebSocket('ws://localhost:8000/ws/video');\n            wsRef.current = ws;\n            // Set a connection timeout\n            const connectionTimeout = setTimeout(()=>{\n                if (ws.readyState !== WebSocket.OPEN) {\n                    console.error('WebSocket connection timeout');\n                    ws.close();\n                    setWsStatus('error');\n                    setErrorMessage('Connection timeout. Please check if the backend server is running.');\n                    setIsLinked(false);\n                }\n            }, 5000);\n            ws.onopen = ()=>{\n                console.log('WebSocket connected to FastAPI backend');\n                clearTimeout(connectionTimeout);\n                setWsStatus('connected');\n                setErrorMessage('');\n                setIsLinked(true);\n                if (isVideoReady) {\n                    processingInterval.current = setInterval(captureAndProcessFrame, 33);\n                }\n            };\n            ws.onmessage = (event)=>{\n                try {\n                    const result = JSON.parse(event.data);\n                    setProcessingResults(result);\n                    drawResults(result);\n                } catch (error) {\n                    console.error('Error parsing WebSocket message:', error);\n                }\n            };\n            ws.onerror = (error)=>{\n                console.error('WebSocket error:', error);\n                clearTimeout(connectionTimeout);\n                setWsStatus('error');\n                setErrorMessage('Failed to connect to FastAPI backend. Please check if the server is running.');\n                setIsLinked(false);\n            };\n            ws.onclose = (event)=>{\n                console.log('WebSocket disconnected:', event.code, event.reason);\n                clearTimeout(connectionTimeout);\n                setWsStatus('disconnected');\n                setIsLinked(false);\n                // Stop frame processing\n                if (processingInterval.current) {\n                    clearInterval(processingInterval.current);\n                    processingInterval.current = null;\n                }\n                // If the connection was closed due to an error, show error message\n                if (event.code !== 1000) {\n                    setErrorMessage(`WebSocket connection closed: ${event.reason || 'Unknown reason'}`);\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            setWsStatus('error');\n            setErrorMessage('Failed to create WebSocket connection. Please check your network connection.');\n            setIsLinked(false);\n        }\n    };\n    const disconnectWebSocket = ()=>{\n        if (wsRef.current) {\n            wsRef.current.close(1000, 'User requested disconnect');\n            wsRef.current = null;\n            setWsStatus('disconnected');\n            setIsLinked(false);\n            // Stop frame processing\n            if (processingInterval.current) {\n                clearInterval(processingInterval.current);\n                processingInterval.current = null;\n            }\n            // Clear the canvas to remove any overlays\n            if (canvasRef.current) {\n                const ctx = canvasRef.current.getContext('2d');\n                ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing) {\n                disconnectWebSocket();\n                return;\n            }\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    disconnectWebSocket();\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Frame capture and processing\n    const captureAndProcessFrame = ()=>{\n        if (!videoRef.current || !canvasRef.current || !isVideoReady || !wsRef.current) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Only draw on canvas if WebSocket is connected\n        if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Convert canvas to blob with high quality\n            canvas.toBlob((blob)=>{\n                if (blob && wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n                    // Send frame to backend\n                    wsRef.current.send(blob);\n                }\n            }, 'image/jpeg', 0.95);\n        }\n    };\n    // Draw processing results\n    const drawResults = (results)=>{\n        if (!canvasRef.current || !results) return;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Draw bounding box if available\n        if (results.bounding_box && showBoundingBox) {\n            const { x, y, width, height } = results.bounding_box;\n            ctx.strokeStyle = 'rgba(255, 0, 0, 0.8)';\n            ctx.lineWidth = 2;\n            ctx.strokeRect(x, y, width, height);\n        }\n        // Draw head pose if available\n        if (results.head_pose && showHeadPose) {\n            const { pitch, yaw, roll } = results.head_pose;\n            // Draw head pose visualization\n            drawHeadPose(ctx, canvas, pitch, yaw, roll);\n        }\n        // Draw face mask if available\n        if (results.face_mask && showMask) {\n            const { points } = results.face_mask;\n            drawFaceMask(ctx, canvas, points);\n        }\n        // Draw parameters if enabled\n        if (showParameters) {\n            drawParameters(ctx, canvas, results);\n        }\n    };\n    // Start camera with highest resolution\n    const startCamera = async ()=>{\n        setErrorMessage('');\n        setIsVideoReady(false);\n        try {\n            // Check if MediaDevices API is supported\n            if (typeof navigator === 'undefined' || !navigator.mediaDevices) {\n                // Try to polyfill the MediaDevices API\n                if (typeof navigator !== 'undefined') {\n                    navigator.mediaDevices = {};\n                }\n                // Add getUserMedia polyfill if needed\n                if (!navigator.mediaDevices.getUserMedia) {\n                    navigator.mediaDevices.getUserMedia = function(constraints) {\n                        // First get ahold of the legacy getUserMedia, if present\n                        const getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n                        // Some browsers just don't implement it - return a rejected promise with an error\n                        if (!getUserMedia) {\n                            return Promise.reject(new Error('getUserMedia is not implemented in this browser'));\n                        }\n                        // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n                        return new Promise(function(resolve, reject) {\n                            getUserMedia.call(navigator, constraints, resolve, reject);\n                        });\n                    };\n                }\n            }\n            // Check if we're on HTTPS or localhost\n            const isSecure = window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || \"development\" === 'development';\n            if (!isSecure) {\n                throw new Error('Camera access requires HTTPS or localhost. Please use HTTPS or run the application on localhost.');\n            }\n            console.log('Starting camera access with highest resolution...');\n            // Get highest resolution constraints\n            const constraints = await (0,_components_collected_dataset_customized_Helper_savefile__WEBPACK_IMPORTED_MODULE_2__.getHighestResolutionConstraints)();\n            console.log('Using camera constraints:', constraints);\n            const mediaStream = await navigator.mediaDevices.getUserMedia({\n                ...constraints,\n                audio: false\n            });\n            console.log('High resolution camera access granted!');\n            setStream(mediaStream);\n            if (videoRef.current) {\n                videoRef.current.playsInline = true;\n                videoRef.current.muted = true;\n                videoRef.current.autoplay = true;\n                videoRef.current.srcObject = mediaStream;\n                try {\n                    await videoRef.current.play();\n                    console.log('Video playing successfully!');\n                    setIsVideoReady(true);\n                    // Start frame processing if WebSocket is connected\n                    if (wsStatus === 'connected') {\n                        processingInterval.current = setInterval(captureAndProcessFrame, 33); // ~30fps\n                    }\n                } catch (playError) {\n                    console.error('Error playing video:', playError);\n                    setErrorMessage('Unable to start video stream. Please try again.');\n                }\n            }\n        } catch (error) {\n            console.error('Camera access error:', error);\n            let errorMessage = 'Camera error: ';\n            if (error.name === 'NotAllowedError') {\n                errorMessage += 'Camera access was denied. Please allow camera access in your browser settings.';\n            } else if (error.name === 'NotFoundError') {\n                errorMessage += 'No camera found. Please connect a camera and try again.';\n            } else if (error.name === 'NotReadableError') {\n                errorMessage += 'Camera is already in use by another application.';\n            } else if (error.name === 'OverconstrainedError') {\n                errorMessage += 'Camera does not support the requested resolution.';\n            } else if (error.message === 'getUserMedia is not implemented in this browser') {\n                errorMessage += 'Your browser does not support camera access. Please try using a modern browser like Chrome, Firefox, or Edge.';\n            } else {\n                errorMessage += error.message || 'Unknown error';\n            }\n            setErrorMessage(errorMessage);\n        }\n    };\n    const stopCamera = ()=>{\n        // Stop all tracks in the stream\n        if (stream) {\n            stream.getTracks().forEach((track)=>track.stop());\n            setStream(null);\n        }\n        // Clear video source\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n        // Clear processing interval\n        if (processingInterval.current) {\n            clearInterval(processingInterval.current);\n            processingInterval.current = null;\n        }\n        setIsVideoReady(false);\n    };\n    // Start camera on component mount if isShowing is true\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (isShowing) {\n                startCamera();\n            } else {\n                stopCamera();\n            }\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    stopCamera();\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Setup FPS counter\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing) return;\n            fpsTimerRef.current = setInterval({\n                \"CameraAccess.useEffect\": ()=>{\n                    setFps({\n                        \"CameraAccess.useEffect\": (prevFps)=>{\n                            // Simple mock for fps counter\n                            const newFps = Math.floor(Math.random() * 10) + 25; // Random between 25-35 fps\n                            return newFps;\n                        }\n                    }[\"CameraAccess.useEffect\"]);\n                }\n            }[\"CameraAccess.useEffect\"], 1000);\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    if (fpsTimerRef.current) {\n                        clearInterval(fpsTimerRef.current);\n                    }\n                    if (processingInterval.current) {\n                        clearInterval(processingInterval.current);\n                    }\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Update dimensions when container size changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing) return;\n            const updateDimensions = {\n                \"CameraAccess.useEffect.updateDimensions\": ()=>{\n                    if (containerRef.current) {\n                        const { width, height } = containerRef.current.getBoundingClientRect();\n                        setDimensions({\n                            width,\n                            height\n                        });\n                    }\n                }\n            }[\"CameraAccess.useEffect.updateDimensions\"];\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            return ({\n                \"CameraAccess.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Handle video element ready state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (!isShowing || !videoRef.current || !stream) return;\n            const video = videoRef.current;\n            const handleLoadedMetadata = {\n                \"CameraAccess.useEffect.handleLoadedMetadata\": ()=>{\n                    console.log('Video metadata loaded');\n                    setIsVideoReady(true);\n                    // Get video dimensions\n                    const videoWidth = video.videoWidth || 640;\n                    const videoHeight = video.videoHeight || 480;\n                    console.log(`Video dimensions: ${videoWidth}x${videoHeight}`);\n                    // Setup canvas for processing\n                    if (canvasRef.current) {\n                        // Store actual dimensions for capture\n                        canvasRef.current.width = videoWidth;\n                        canvasRef.current.height = videoHeight;\n                        // Set display size to maintain aspect ratio\n                        const aspectRatio = videoWidth / videoHeight;\n                        const containerWidth = dimensions.width;\n                        const containerHeight = containerWidth / aspectRatio;\n                        canvasRef.current.style.width = `${containerWidth}px`;\n                        canvasRef.current.style.height = `${containerHeight}px`;\n                    }\n                    // Start processing frames\n                    startProcessing();\n                    // Notify parent component that camera is ready\n                    if (onCameraReady) {\n                        onCameraReady({\n                            width: videoWidth,\n                            height: videoHeight\n                        });\n                    }\n                }\n            }[\"CameraAccess.useEffect.handleLoadedMetadata\"];\n            video.addEventListener('loadedmetadata', handleLoadedMetadata);\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        stream,\n        isShowing,\n        dimensions,\n        onCameraReady\n    ]);\n    const startProcessing = ()=>{\n        if (!canvasRef.current || !videoRef.current || !isVideoReady) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Start processing frames at ~30fps\n        processingInterval.current = setInterval(()=>{\n            if (video.readyState !== 4) return;\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas at high resolution\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Simulate face detection (90% chance of face detected)\n            const faceDetected = Math.random() > 0.1;\n            // Draw visualizations based on enabled options\n            if (faceDetected) {\n                if (showBoundingBox) {\n                    drawBoundingBox(ctx, canvas);\n                }\n                if (showHeadPose) {\n                    drawHeadPose(ctx, canvas);\n                }\n                if (showMask) {\n                    drawFaceMask(ctx, canvas);\n                }\n            }\n            // Display parameters if enabled\n            if (showParameters) {\n                drawParameters(ctx, canvas, faceDetected);\n            }\n        }, 33); // ~30fps\n    };\n    // Helper function to draw bounding box\n    const drawBoundingBox = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const boxWidth = canvas.width * 0.6;\n        const boxHeight = canvas.height * 0.8;\n        ctx.strokeStyle = 'rgba(255, 255, 0, 0.7)';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(centerX - boxWidth / 2, centerY - boxHeight / 2, boxWidth, boxHeight);\n    };\n    // Helper function to draw head pose axes\n    const drawHeadPose = (ctx, canvas, pitch, yaw, roll)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const time = Date.now() / 1000;\n        const length = canvas.width * 0.1;\n        // X axis (red)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length * Math.sin(time), centerY);\n        ctx.strokeStyle = 'red';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Y axis (green)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX, centerY + length * Math.sin(time + 1));\n        ctx.strokeStyle = 'green';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Z axis (blue)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length / 2 * Math.sin(time + 2), centerY - length / 2 * Math.cos(time + 2));\n        ctx.strokeStyle = 'blue';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n    };\n    // Helper function to draw face mask\n    const drawFaceMask = (ctx, canvas, points)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const radius = Math.min(canvas.width, canvas.height) * 0.2;\n        // Draw mask\n        ctx.fillStyle = 'rgba(0, 255, 255, 0.2)';\n        ctx.beginPath();\n        ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw eyes\n        const eyeRadius = radius * 0.2;\n        const eyeOffsetX = radius * 0.3;\n        const eyeOffsetY = radius * 0.1;\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n        // Left eye\n        ctx.beginPath();\n        ctx.arc(centerX - eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n        // Right eye\n        ctx.beginPath();\n        ctx.arc(centerX + eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n    };\n    // Helper function to draw parameters\n    const drawParameters = (ctx, canvas, faceDetected)=>{\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(5, canvas.height - 60, 150, 50);\n        ctx.font = '12px Arial';\n        ctx.fillStyle = 'white';\n        ctx.fillText(`Resolution: ${canvas.width}x${canvas.height}`, 10, canvas.height - 40);\n        ctx.fillText(`FPS: ${fps}`, 10, canvas.height - 25);\n        ctx.fillText(`Face: ${faceDetected ? 'Detected' : 'Not Detected'}`, 10, canvas.height - 10);\n    };\n    if (!isShowing) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: '30vw',\n            height: '30vh',\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n            overflow: 'hidden',\n            zIndex: 1000\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover',\n                    transform: 'scaleX(-1)',\n                    opacity: 1\n                },\n                playsInline: true,\n                muted: true,\n                autoPlay: true\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 595,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    zIndex: 1,\n                    pointerEvents: 'none',\n                    display: isLinked ? 'block' : 'none' // Hide canvas when not linked\n                }\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 608,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '10px',\n                    right: '10px',\n                    display: 'flex',\n                    gap: '10px',\n                    zIndex: 2\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease'\n                        },\n                        children: \"Close\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 629,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            if (isLinked) {\n                                disconnectWebSocket();\n                            } else {\n                                connectWebSocket();\n                            }\n                        },\n                        style: {\n                            padding: '8px 12px',\n                            backgroundColor: isLinked ? 'rgba(255, 0, 0, 0.7)' : 'rgba(0, 255, 0, 0.7)',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer',\n                            transition: 'background-color 0.3s ease'\n                        },\n                        children: isLinked ? 'Unlink' : 'Link'\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                        lineNumber: 644,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 621,\n                columnNumber: 7\n            }, undefined),\n            wsStatus === 'error' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '50px',\n                    right: '10px',\n                    padding: '8px 12px',\n                    backgroundColor: 'rgba(255, 0, 0, 0.7)',\n                    color: 'white',\n                    borderRadius: '4px',\n                    zIndex: 2\n                },\n                children: [\n                    \"Connection Error: \",\n                    errorMessage\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n                lineNumber: 667,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/components-gui/cameraAccess.js\",\n        lineNumber: 579,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CameraAccess);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvY2FtZXJhQWNjZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGtCQUFrQjs7QUFDeUM7QUFDd0Q7QUFFbkgsTUFBTUssZUFBZSxDQUFDLEVBQ3BCQyxTQUFTLEVBQ1RDLE9BQU8sRUFDUEMsYUFBYSxFQUNiQyxlQUFlLEtBQUssRUFDcEJDLGtCQUFrQixLQUFLLEVBQ3ZCQyxXQUFXLEtBQUssRUFDaEJDLGlCQUFpQixLQUFLLEVBQ3ZCO0lBQ0MsTUFBTUMsV0FBV1gsNkNBQU1BLENBQUM7SUFDeEIsTUFBTVksWUFBWVosNkNBQU1BLENBQUM7SUFDekIsTUFBTWEsZUFBZWIsNkNBQU1BLENBQUM7SUFDNUIsTUFBTWMsUUFBUWQsNkNBQU1BLENBQUM7SUFDckIsTUFBTSxDQUFDZSxRQUFRQyxVQUFVLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ2dCLGNBQWNDLGdCQUFnQixHQUFHakIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDa0IsS0FBS0MsT0FBTyxHQUFHbkIsK0NBQVFBLENBQUM7SUFDL0IsTUFBTW9CLGNBQWNyQiw2Q0FBTUEsQ0FBQztJQUMzQixNQUFNc0IscUJBQXFCdEIsNkNBQU1BLENBQUM7SUFDbEMsTUFBTSxDQUFDdUIsWUFBWUMsY0FBYyxHQUFHdkIsK0NBQVFBLENBQUM7UUFBRXdCLE9BQU87UUFBR0MsUUFBUTtJQUFFO0lBQ25FLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUM0QixtQkFBbUJDLHFCQUFxQixHQUFHN0IsK0NBQVFBLENBQUM7SUFDM0QsTUFBTThCLGFBQWEvQiw2Q0FBTUEsQ0FBQyxFQUFFO0lBQzVCLE1BQU1nQyxlQUFlaEMsNkNBQU1BLENBQUM7SUFDNUIsTUFBTSxDQUFDaUMsVUFBVUMsWUFBWSxHQUFHakMsK0NB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QUNGO3dCQUNBMEcsT0FBTzs0QkFDTGtELFNBQVM7NEJBQ1RkLGlCQUFpQmhKLFdBQVcseUJBQXlCOzRCQUNyRCtKLE9BQU87NEJBQ1BDLFFBQVE7NEJBQ1JmLGNBQWM7NEJBQ2RnQixRQUFROzRCQUNSQyxZQUFZO3dCQUNkO2tDQUVDbEssV0FBVyxXQUFXOzs7Ozs7Ozs7Ozs7WUFJMUJGLGFBQWEseUJBQ1osOERBQUM0STtnQkFBSTlCLE9BQU87b0JBQ1ZnQyxVQUFVO29CQUNWQyxLQUFLO29CQUNMYSxPQUFPO29CQUNQSSxTQUFTO29CQUNUZCxpQkFBaUI7b0JBQ2pCZSxPQUFPO29CQUNQZCxjQUFjO29CQUNkRyxRQUFRO2dCQUNWOztvQkFBRztvQkFDa0J0Szs7Ozs7Ozs7Ozs7OztBQUs3QjtBQUVBLGlFQUFlZCxZQUFZQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9jb21wb25lbnRzLWd1aS9jYW1lcmFBY2Nlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY2FtZXJhQWNjZXNzLmpzXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cyB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9IZWxwZXIvc2F2ZWZpbGUnO1xuXG5jb25zdCBDYW1lcmFBY2Nlc3MgPSAoeyBcbiAgaXNTaG93aW5nLCBcbiAgb25DbG9zZSwgXG4gIG9uQ2FtZXJhUmVhZHksXG4gIHNob3dIZWFkUG9zZSA9IGZhbHNlLFxuICBzaG93Qm91bmRpbmdCb3ggPSBmYWxzZSxcbiAgc2hvd01hc2sgPSBmYWxzZSxcbiAgc2hvd1BhcmFtZXRlcnMgPSBmYWxzZVxufSkgPT4ge1xuICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHdzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbc3RyZWFtLCBzZXRTdHJlYW1dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtlcnJvck1lc3NhZ2UsIHNldEVycm9yTWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtmcHMsIHNldEZwc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgZnBzVGltZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHByb2Nlc3NpbmdJbnRlcnZhbCA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2RpbWVuc2lvbnMsIHNldERpbWVuc2lvbnNdID0gdXNlU3RhdGUoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICBjb25zdCBbaXNWaWRlb1JlYWR5LCBzZXRJc1ZpZGVvUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvY2Vzc2luZ1Jlc3VsdHMsIHNldFByb2Nlc3NpbmdSZXN1bHRzXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBmcmFtZVF1ZXVlID0gdXNlUmVmKFtdKTtcbiAgY29uc3QgaXNQcm9jZXNzaW5nID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgW3dzU3RhdHVzLCBzZXRXc1N0YXR1c10gPSB1c2VTdGF0ZSgnZGlzY29ubmVjdGVkJyk7XG4gIGNvbnN0IFtpc0xpbmtlZCwgc2V0SXNMaW5rZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgY29uc3QgY29ubmVjdFdlYlNvY2tldCA9ICgpID0+IHtcbiAgICBpZiAod3NSZWYuY3VycmVudCAmJiB3c1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGFscmVhZHkgY29ubmVjdGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0V3NTdGF0dXMoJ2Nvbm5lY3RpbmcnKTtcbiAgICB0cnkge1xuICAgICAgLy8gQ29ubmVjdCB0byBGYXN0QVBJIFdlYlNvY2tldCBlbmRwb2ludFxuICAgICAgY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0KCd3czovL2xvY2FsaG9zdDo4MDAwL3dzL3ZpZGVvJyk7XG4gICAgICB3c1JlZi5jdXJyZW50ID0gd3M7XG5cbiAgICAgIC8vIFNldCBhIGNvbm5lY3Rpb24gdGltZW91dFxuICAgICAgY29uc3QgY29ubmVjdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGNvbm5lY3Rpb24gdGltZW91dCcpO1xuICAgICAgICAgIHdzLmNsb3NlKCk7XG4gICAgICAgICAgc2V0V3NTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdDb25uZWN0aW9uIHRpbWVvdXQuIFBsZWFzZSBjaGVjayBpZiB0aGUgYmFja2VuZCBzZXJ2ZXIgaXMgcnVubmluZy4nKTtcbiAgICAgICAgICBzZXRJc0xpbmtlZChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMDApO1xuXG4gICAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGVkIHRvIEZhc3RBUEkgYmFja2VuZCcpO1xuICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICBzZXRXc1N0YXR1cygnY29ubmVjdGVkJyk7XG4gICAgICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XG4gICAgICAgIHNldElzTGlua2VkKHRydWUpO1xuICAgICAgICBpZiAoaXNWaWRlb1JlYWR5KSB7XG4gICAgICAgICAgcHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChjYXB0dXJlQW5kUHJvY2Vzc0ZyYW1lLCAzMyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgc2V0UHJvY2Vzc2luZ1Jlc3VsdHMocmVzdWx0KTtcbiAgICAgICAgICBkcmF3UmVzdWx0cyhyZXN1bHQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgV2ViU29ja2V0IG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIHNldFdzU3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIEZhc3RBUEkgYmFja2VuZC4gUGxlYXNlIGNoZWNrIGlmIHRoZSBzZXJ2ZXIgaXMgcnVubmluZy4nKTtcbiAgICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgICAgfTtcblxuICAgICAgd3Mub25jbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGRpc2Nvbm5lY3RlZDonLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24pO1xuICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICBzZXRXc1N0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICAgICAgLy8gU3RvcCBmcmFtZSBwcm9jZXNzaW5nXG4gICAgICAgIGlmIChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gSWYgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBkdWUgdG8gYW4gZXJyb3IsIHNob3cgZXJyb3IgbWVzc2FnZVxuICAgICAgICBpZiAoZXZlbnQuY29kZSAhPT0gMTAwMCkgeyAvLyAxMDAwIGlzIG5vcm1hbCBjbG9zdXJlXG4gICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKGBXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQ6ICR7ZXZlbnQucmVhc29uIHx8ICdVbmtub3duIHJlYXNvbid9YCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIFdlYlNvY2tldDonLCBlcnJvcik7XG4gICAgICBzZXRXc1N0YXR1cygnZXJyb3InKTtcbiAgICAgIHNldEVycm9yTWVzc2FnZSgnRmFpbGVkIHRvIGNyZWF0ZSBXZWJTb2NrZXQgY29ubmVjdGlvbi4gUGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayBjb25uZWN0aW9uLicpO1xuICAgICAgc2V0SXNMaW5rZWQoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNjb25uZWN0V2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIGlmICh3c1JlZi5jdXJyZW50KSB7XG4gICAgICB3c1JlZi5jdXJyZW50LmNsb3NlKDEwMDAsICdVc2VyIHJlcXVlc3RlZCBkaXNjb25uZWN0Jyk7XG4gICAgICB3c1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHNldFdzU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgIHNldElzTGlua2VkKGZhbHNlKTtcbiAgICAgIC8vIFN0b3AgZnJhbWUgcHJvY2Vzc2luZ1xuICAgICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICAvLyBDbGVhciB0aGUgY2FudmFzIHRvIHJlbW92ZSBhbnkgb3ZlcmxheXNcbiAgICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXNSZWYuY3VycmVudC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhc1JlZi5jdXJyZW50LndpZHRoLCBjYW52YXNSZWYuY3VycmVudC5oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNTaG93aW5nKSB7XG4gICAgICBkaXNjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICB9O1xuICB9LCBbaXNTaG93aW5nXSk7XG5cbiAgLy8gRnJhbWUgY2FwdHVyZSBhbmQgcHJvY2Vzc2luZ1xuICBjb25zdCBjYXB0dXJlQW5kUHJvY2Vzc0ZyYW1lID0gKCkgPT4ge1xuICAgIGlmICghdmlkZW9SZWYuY3VycmVudCB8fCAhY2FudmFzUmVmLmN1cnJlbnQgfHwgIWlzVmlkZW9SZWFkeSB8fCAhd3NSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgLy8gT25seSBkcmF3IG9uIGNhbnZhcyBpZiBXZWJTb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgaWYgKHdzUmVmLmN1cnJlbnQgJiYgd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgY29udGV4dCBzdGF0ZVxuICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgLy8gRmxpcCB0aGUgY29udGV4dCBob3Jpem9udGFsbHkgdG8gbWlycm9yIHRoZSB2aWRlb1xuICAgICAgY3R4LnRyYW5zbGF0ZShjYW52YXMud2lkdGgsIDApO1xuICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcblxuICAgICAgLy8gRHJhdyB2aWRlbyBmcmFtZSB0byBjYW52YXMgYXQgaGlnaCByZXNvbHV0aW9uXG4gICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAvLyBSZXN0b3JlIHRoZSBjb250ZXh0IHN0YXRlXG4gICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAvLyBDb252ZXJ0IGNhbnZhcyB0byBibG9iIHdpdGggaGlnaCBxdWFsaXR5XG4gICAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgIGlmIChibG9iICYmIHdzUmVmLmN1cnJlbnQgJiYgd3NSZWYuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgIC8vIFNlbmQgZnJhbWUgdG8gYmFja2VuZFxuICAgICAgICAgIHdzUmVmLmN1cnJlbnQuc2VuZChibG9iKTtcbiAgICAgICAgfVxuICAgICAgfSwgJ2ltYWdlL2pwZWcnLCAwLjk1KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRHJhdyBwcm9jZXNzaW5nIHJlc3VsdHNcbiAgY29uc3QgZHJhd1Jlc3VsdHMgPSAocmVzdWx0cykgPT4ge1xuICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQgfHwgIXJlc3VsdHMpIHJldHVybjtcblxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgLy8gRHJhdyBib3VuZGluZyBib3ggaWYgYXZhaWxhYmxlXG4gICAgaWYgKHJlc3VsdHMuYm91bmRpbmdfYm94ICYmIHNob3dCb3VuZGluZ0JveCkge1xuICAgICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSByZXN1bHRzLmJvdW5kaW5nX2JveDtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC44KSc7XG4gICAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICAgIGN0eC5zdHJva2VSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIC8vIERyYXcgaGVhZCBwb3NlIGlmIGF2YWlsYWJsZVxuICAgIGlmIChyZXN1bHRzLmhlYWRfcG9zZSAmJiBzaG93SGVhZFBvc2UpIHtcbiAgICAgIGNvbnN0IHsgcGl0Y2gsIHlhdywgcm9sbCB9ID0gcmVzdWx0cy5oZWFkX3Bvc2U7XG4gICAgICAvLyBEcmF3IGhlYWQgcG9zZSB2aXN1YWxpemF0aW9uXG4gICAgICBkcmF3SGVhZFBvc2UoY3R4LCBjYW52YXMsIHBpdGNoLCB5YXcsIHJvbGwpO1xuICAgIH1cblxuICAgIC8vIERyYXcgZmFjZSBtYXNrIGlmIGF2YWlsYWJsZVxuICAgIGlmIChyZXN1bHRzLmZhY2VfbWFzayAmJiBzaG93TWFzaykge1xuICAgICAgY29uc3QgeyBwb2ludHMgfSA9IHJlc3VsdHMuZmFjZV9tYXNrO1xuICAgICAgZHJhd0ZhY2VNYXNrKGN0eCwgY2FudmFzLCBwb2ludHMpO1xuICAgIH1cblxuICAgIC8vIERyYXcgcGFyYW1ldGVycyBpZiBlbmFibGVkXG4gICAgaWYgKHNob3dQYXJhbWV0ZXJzKSB7XG4gICAgICBkcmF3UGFyYW1ldGVycyhjdHgsIGNhbnZhcywgcmVzdWx0cyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN0YXJ0IGNhbWVyYSB3aXRoIGhpZ2hlc3QgcmVzb2x1dGlvblxuICBjb25zdCBzdGFydENhbWVyYSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xuICAgIHNldElzVmlkZW9SZWFkeShmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgTWVkaWFEZXZpY2VzIEFQSSBpcyBzdXBwb3J0ZWRcbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykge1xuICAgICAgICAvLyBUcnkgdG8gcG9seWZpbGwgdGhlIE1lZGlhRGV2aWNlcyBBUElcbiAgICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgZ2V0VXNlck1lZGlhIHBvbHlmaWxsIGlmIG5lZWRlZFxuICAgICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cykge1xuICAgICAgICAgICAgLy8gRmlyc3QgZ2V0IGFob2xkIG9mIHRoZSBsZWdhY3kgZ2V0VXNlck1lZGlhLCBpZiBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBnZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMganVzdCBkb24ndCBpbXBsZW1lbnQgaXQgLSByZXR1cm4gYSByZWplY3RlZCBwcm9taXNlIHdpdGggYW4gZXJyb3JcbiAgICAgICAgICAgIGlmICghZ2V0VXNlck1lZGlhKSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2dldFVzZXJNZWRpYSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBicm93c2VyJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdyYXAgdGhlIGNhbGwgdG8gdGhlIG9sZCBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHdpdGggYSBQcm9taXNlXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIGdldFVzZXJNZWRpYS5jYWxsKG5hdmlnYXRvciwgY29uc3RyYWludHMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIG9uIEhUVFBTIG9yIGxvY2FsaG9zdFxuICAgICAgY29uc3QgaXNTZWN1cmUgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonIHx8IFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJyB8fFxuICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xuICAgICAgXG4gICAgICBpZiAoIWlzU2VjdXJlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhIGFjY2VzcyByZXF1aXJlcyBIVFRQUyBvciBsb2NhbGhvc3QuIFBsZWFzZSB1c2UgSFRUUFMgb3IgcnVuIHRoZSBhcHBsaWNhdGlvbiBvbiBsb2NhbGhvc3QuJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBjYW1lcmEgYWNjZXNzIHdpdGggaGlnaGVzdCByZXNvbHV0aW9uLi4uJyk7XG5cbiAgICAgIC8vIEdldCBoaWdoZXN0IHJlc29sdXRpb24gY29uc3RyYWludHNcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gYXdhaXQgZ2V0SGlnaGVzdFJlc29sdXRpb25Db25zdHJhaW50cygpO1xuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGNhbWVyYSBjb25zdHJhaW50czonLCBjb25zdHJhaW50cyk7XG5cbiAgICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAuLi5jb25zdHJhaW50cyxcbiAgICAgICAgYXVkaW86IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJ0hpZ2ggcmVzb2x1dGlvbiBjYW1lcmEgYWNjZXNzIGdyYW50ZWQhJyk7XG4gICAgICBzZXRTdHJlYW0obWVkaWFTdHJlYW0pO1xuXG4gICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBsYXlzSW5saW5lID0gdHJ1ZTtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5tdXRlZCA9IHRydWU7XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG1lZGlhU3RyZWFtO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdmlkZW9SZWYuY3VycmVudC5wbGF5KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1ZpZGVvIHBsYXlpbmcgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICAgIHNldElzVmlkZW9SZWFkeSh0cnVlKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdGFydCBmcmFtZSBwcm9jZXNzaW5nIGlmIFdlYlNvY2tldCBpcyBjb25uZWN0ZWRcbiAgICAgICAgICBpZiAod3NTdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKGNhcHR1cmVBbmRQcm9jZXNzRnJhbWUsIDMzKTsgLy8gfjMwZnBzXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChwbGF5RXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwbGF5aW5nIHZpZGVvOicsIHBsYXlFcnJvcik7XG4gICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdVbmFibGUgdG8gc3RhcnQgdmlkZW8gc3RyZWFtLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbWVyYSBhY2Nlc3MgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdDYW1lcmEgZXJyb3I6ICc7XG4gICAgICBcbiAgICAgIGlmIChlcnJvci5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ0NhbWVyYSBhY2Nlc3Mgd2FzIGRlbmllZC4gUGxlYXNlIGFsbG93IGNhbWVyYSBhY2Nlc3MgaW4geW91ciBicm93c2VyIHNldHRpbmdzLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgKz0gJ05vIGNhbWVyYSBmb3VuZC4gUGxlYXNlIGNvbm5lY3QgYSBjYW1lcmEgYW5kIHRyeSBhZ2Fpbi4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnTm90UmVhZGFibGVFcnJvcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdDYW1lcmEgaXMgYWxyZWFkeSBpbiB1c2UgYnkgYW5vdGhlciBhcHBsaWNhdGlvbi4nO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnT3ZlcmNvbnN0cmFpbmVkRXJyb3InKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSAnQ2FtZXJhIGRvZXMgbm90IHN1cHBvcnQgdGhlIHJlcXVlc3RlZCByZXNvbHV0aW9uLic7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdnZXRVc2VyTWVkaWEgaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgYnJvd3NlcicpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlICs9ICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBjYW1lcmEgYWNjZXNzLiBQbGVhc2UgdHJ5IHVzaW5nIGEgbW9kZXJuIGJyb3dzZXIgbGlrZSBDaHJvbWUsIEZpcmVmb3gsIG9yIEVkZ2UuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSArPSBlcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0RXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0b3BDYW1lcmEgPSAoKSA9PiB7XG4gICAgLy8gU3RvcCBhbGwgdHJhY2tzIGluIHRoZSBzdHJlYW1cbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgc2V0U3RyZWFtKG51bGwpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciB2aWRlbyBzb3VyY2VcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBwcm9jZXNzaW5nIGludGVydmFsXG4gICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgc2V0SXNWaWRlb1JlYWR5KGZhbHNlKTtcbiAgfTtcblxuICAvLyBTdGFydCBjYW1lcmEgb24gY29tcG9uZW50IG1vdW50IGlmIGlzU2hvd2luZyBpcyB0cnVlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzU2hvd2luZykge1xuICAgICAgc3RhcnRDYW1lcmEoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcENhbWVyYSgpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3RvcENhbWVyYSgpO1xuICAgIH07XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBTZXR1cCBGUFMgY291bnRlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNTaG93aW5nKSByZXR1cm47XG4gICAgXG4gICAgZnBzVGltZXJSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHNldEZwcyhwcmV2RnBzID0+IHtcbiAgICAgICAgLy8gU2ltcGxlIG1vY2sgZm9yIGZwcyBjb3VudGVyXG4gICAgICAgIGNvbnN0IG5ld0ZwcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSArIDI1OyAvLyBSYW5kb20gYmV0d2VlbiAyNS0zNSBmcHNcbiAgICAgICAgcmV0dXJuIG5ld0ZwcztcbiAgICAgIH0pO1xuICAgIH0sIDEwMDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoZnBzVGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKGZwc1RpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocHJvY2Vzc2luZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBVcGRhdGUgZGltZW5zaW9ucyB3aGVuIGNvbnRhaW5lciBzaXplIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzU2hvd2luZykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgc2V0RGltZW5zaW9ucyh7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgfSwgW2lzU2hvd2luZ10pO1xuXG4gIC8vIEhhbmRsZSB2aWRlbyBlbGVtZW50IHJlYWR5IHN0YXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc1Nob3dpbmcgfHwgIXZpZGVvUmVmLmN1cnJlbnQgfHwgIXN0cmVhbSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVMb2FkZWRNZXRhZGF0YSA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdWaWRlbyBtZXRhZGF0YSBsb2FkZWQnKTtcbiAgICAgIHNldElzVmlkZW9SZWFkeSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHZpZGVvIGRpbWVuc2lvbnNcbiAgICAgIGNvbnN0IHZpZGVvV2lkdGggPSB2aWRlby52aWRlb1dpZHRoIHx8IDY0MDtcbiAgICAgIGNvbnN0IHZpZGVvSGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHQgfHwgNDgwO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgVmlkZW8gZGltZW5zaW9uczogJHt2aWRlb1dpZHRofXgke3ZpZGVvSGVpZ2h0fWApO1xuICAgICAgXG4gICAgICAvLyBTZXR1cCBjYW52YXMgZm9yIHByb2Nlc3NpbmdcbiAgICAgIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgICAgICAvLyBTdG9yZSBhY3R1YWwgZGltZW5zaW9ucyBmb3IgY2FwdHVyZVxuICAgICAgICBjYW52YXNSZWYuY3VycmVudC53aWR0aCA9IHZpZGVvV2lkdGg7XG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LmhlaWdodCA9IHZpZGVvSGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IGRpc3BsYXkgc2l6ZSB0byBtYWludGFpbiBhc3BlY3QgcmF0aW9cbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSB2aWRlb1dpZHRoIC8gdmlkZW9IZWlnaHQ7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gZGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgXG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50LnN0eWxlLndpZHRoID0gYCR7Y29udGFpbmVyV2lkdGh9cHhgO1xuICAgICAgICBjYW52YXNSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtjb250YWluZXJIZWlnaHR9cHhgO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTdGFydCBwcm9jZXNzaW5nIGZyYW1lc1xuICAgICAgc3RhcnRQcm9jZXNzaW5nKCk7XG4gICAgICBcbiAgICAgIC8vIE5vdGlmeSBwYXJlbnQgY29tcG9uZW50IHRoYXQgY2FtZXJhIGlzIHJlYWR5XG4gICAgICBpZiAob25DYW1lcmFSZWFkeSkge1xuICAgICAgICBvbkNhbWVyYVJlYWR5KHtcbiAgICAgICAgICB3aWR0aDogdmlkZW9XaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHZpZGVvSGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBoYW5kbGVMb2FkZWRNZXRhZGF0YSk7XG4gICAgfTtcbiAgfSwgW3N0cmVhbSwgaXNTaG93aW5nLCBkaW1lbnNpb25zLCBvbkNhbWVyYVJlYWR5XSk7XG5cbiAgY29uc3Qgc3RhcnRQcm9jZXNzaW5nID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQgfHwgIXZpZGVvUmVmLmN1cnJlbnQgfHwgIWlzVmlkZW9SZWFkeSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBcbiAgICAvLyBTdGFydCBwcm9jZXNzaW5nIGZyYW1lcyBhdCB+MzBmcHNcbiAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh2aWRlby5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhc1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBcbiAgICAgIC8vIEZsaXAgdGhlIGNvbnRleHQgaG9yaXpvbnRhbGx5IHRvIG1pcnJvciB0aGUgdmlkZW9cbiAgICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoLCAwKTtcbiAgICAgIGN0eC5zY2FsZSgtMSwgMSk7XG4gICAgICBcbiAgICAgIC8vIERyYXcgdmlkZW8gZnJhbWUgdG8gY2FudmFzIGF0IGhpZ2ggcmVzb2x1dGlvblxuICAgICAgY3R4LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gUmVzdG9yZSB0aGUgY29udGV4dCBzdGF0ZVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgZmFjZSBkZXRlY3Rpb24gKDkwJSBjaGFuY2Ugb2YgZmFjZSBkZXRlY3RlZClcbiAgICAgIGNvbnN0IGZhY2VEZXRlY3RlZCA9IE1hdGgucmFuZG9tKCkgPiAwLjE7XG4gICAgICBcbiAgICAgIC8vIERyYXcgdmlzdWFsaXphdGlvbnMgYmFzZWQgb24gZW5hYmxlZCBvcHRpb25zXG4gICAgICBpZiAoZmFjZURldGVjdGVkKSB7XG4gICAgICAgIGlmIChzaG93Qm91bmRpbmdCb3gpIHtcbiAgICAgICAgICBkcmF3Qm91bmRpbmdCb3goY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvd0hlYWRQb3NlKSB7XG4gICAgICAgICAgZHJhd0hlYWRQb3NlKGN0eCwgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHNob3dNYXNrKSB7XG4gICAgICAgICAgZHJhd0ZhY2VNYXNrKGN0eCwgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBEaXNwbGF5IHBhcmFtZXRlcnMgaWYgZW5hYmxlZFxuICAgICAgaWYgKHNob3dQYXJhbWV0ZXJzKSB7XG4gICAgICAgIGRyYXdQYXJhbWV0ZXJzKGN0eCwgY2FudmFzLCBmYWNlRGV0ZWN0ZWQpO1xuICAgICAgfVxuICAgIH0sIDMzKTsgLy8gfjMwZnBzXG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBib3VuZGluZyBib3hcbiAgY29uc3QgZHJhd0JvdW5kaW5nQm94ID0gKGN0eCwgY2FudmFzKSA9PiB7XG4gICAgY29uc3QgY2VudGVyWCA9IGNhbnZhcy53aWR0aCAvIDI7XG4gICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgIGNvbnN0IGJveFdpZHRoID0gY2FudmFzLndpZHRoICogMC42O1xuICAgIGNvbnN0IGJveEhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiAwLjg7XG4gICAgXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDAsIDAuNyknO1xuICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgY2VudGVyWCAtIGJveFdpZHRoLzIsIFxuICAgICAgY2VudGVyWSAtIGJveEhlaWdodC8yLCBcbiAgICAgIGJveFdpZHRoLCBcbiAgICAgIGJveEhlaWdodFxuICAgICk7XG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBoZWFkIHBvc2UgYXhlc1xuICBjb25zdCBkcmF3SGVhZFBvc2UgPSAoY3R4LCBjYW52YXMsIHBpdGNoLCB5YXcsIHJvbGwpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgIGNvbnN0IGxlbmd0aCA9IGNhbnZhcy53aWR0aCAqIDAuMTtcbiAgICBcbiAgICAvLyBYIGF4aXMgKHJlZClcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKGNlbnRlclggKyBsZW5ndGggKiBNYXRoLnNpbih0aW1lKSwgY2VudGVyWSk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIFxuICAgIC8vIFkgYXhpcyAoZ3JlZW4pXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oY2VudGVyWCwgY2VudGVyWSk7XG4gICAgY3R4LmxpbmVUbyhjZW50ZXJYLCBjZW50ZXJZICsgbGVuZ3RoICogTWF0aC5zaW4odGltZSArIDEpKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBcbiAgICAvLyBaIGF4aXMgKGJsdWUpXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oY2VudGVyWCwgY2VudGVyWSk7XG4gICAgY3R4LmxpbmVUbyhcbiAgICAgIGNlbnRlclggKyBsZW5ndGgvMiAqIE1hdGguc2luKHRpbWUgKyAyKSwgXG4gICAgICBjZW50ZXJZIC0gbGVuZ3RoLzIgKiBNYXRoLmNvcyh0aW1lICsgMilcbiAgICApO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdibHVlJztcbiAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH07XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZHJhdyBmYWNlIG1hc2tcbiAgY29uc3QgZHJhd0ZhY2VNYXNrID0gKGN0eCwgY2FudmFzLCBwb2ludHMpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgcmFkaXVzID0gTWF0aC5taW4oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSAqIDAuMjtcbiAgICBcbiAgICAvLyBEcmF3IG1hc2tcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMjU1LCAyNTUsIDAuMiknO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgXG4gICAgLy8gRHJhdyBleWVzXG4gICAgY29uc3QgZXllUmFkaXVzID0gcmFkaXVzICogMC4yO1xuICAgIGNvbnN0IGV5ZU9mZnNldFggPSByYWRpdXMgKiAwLjM7XG4gICAgY29uc3QgZXllT2Zmc2V0WSA9IHJhZGl1cyAqIDAuMTtcbiAgICBcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSc7XG4gICAgXG4gICAgLy8gTGVmdCBleWVcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhjZW50ZXJYIC0gZXllT2Zmc2V0WCwgY2VudGVyWSAtIGV5ZU9mZnNldFksIGV5ZVJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgXG4gICAgLy8gUmlnaHQgZXllXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoY2VudGVyWCArIGV5ZU9mZnNldFgsIGNlbnRlclkgLSBleWVPZmZzZXRZLCBleWVSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICB9O1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRyYXcgcGFyYW1ldGVyc1xuICBjb25zdCBkcmF3UGFyYW1ldGVycyA9IChjdHgsIGNhbnZhcywgZmFjZURldGVjdGVkKSA9PiB7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuNyknO1xuICAgIGN0eC5maWxsUmVjdCg1LCBjYW52YXMuaGVpZ2h0IC0gNjAsIDE1MCwgNTApO1xuICAgIFxuICAgIGN0eC5mb250ID0gJzEycHggQXJpYWwnO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsVGV4dChgUmVzb2x1dGlvbjogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gLCAxMCwgY2FudmFzLmhlaWdodCAtIDQwKTtcbiAgICBjdHguZmlsbFRleHQoYEZQUzogJHtmcHN9YCwgMTAsIGNhbnZhcy5oZWlnaHQgLSAyNSk7XG4gICAgY3R4LmZpbGxUZXh0KGBGYWNlOiAke2ZhY2VEZXRlY3RlZCA/ICdEZXRlY3RlZCcgOiAnTm90IERldGVjdGVkJ31gLCAxMCwgY2FudmFzLmhlaWdodCAtIDEwKTtcbiAgfTtcblxuICBpZiAoIWlzU2hvd2luZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IFxuICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICBzdHlsZT17eyBcbiAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICB3aWR0aDogJzMwdncnLFxuICAgICAgICBoZWlnaHQ6ICczMHZoJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICBib3hTaGFkb3c6ICcwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICB6SW5kZXg6IDEwMDBcbiAgICAgIH19XG4gICAgPlxuICAgICAgPHZpZGVvXG4gICAgICAgIHJlZj17dmlkZW9SZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gICAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGVYKC0xKScsXG4gICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9fVxuICAgICAgICBwbGF5c0lubGluZVxuICAgICAgICBtdXRlZFxuICAgICAgICBhdXRvUGxheVxuICAgICAgLz5cbiAgICAgIDxjYW52YXNcbiAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICB6SW5kZXg6IDEsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIGRpc3BsYXk6IGlzTGlua2VkID8gJ2Jsb2NrJyA6ICdub25lJyAvLyBIaWRlIGNhbnZhcyB3aGVuIG5vdCBsaW5rZWRcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6ICcxMHB4JyxcbiAgICAgICAgcmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBnYXA6ICcxMHB4JyxcbiAgICAgICAgekluZGV4OiAyXG4gICAgICB9fT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZSdcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgQ2xvc2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzTGlua2VkKSB7XG4gICAgICAgICAgICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDEycHgnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0xpbmtlZCA/ICdyZ2JhKDI1NSwgMCwgMCwgMC43KScgOiAncmdiYSgwLCAyNTUsIDAsIDAuNyknLFxuICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZSdcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2lzTGlua2VkID8gJ1VubGluaycgOiAnTGluayd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt3c1N0YXR1cyA9PT0gJ2Vycm9yJyAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6ICc1MHB4JyxcbiAgICAgICAgICByaWdodDogJzEwcHgnLFxuICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCcsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsIDAsIDAsIDAuNyknLFxuICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgekluZGV4OiAyXG4gICAgICAgIH19PlxuICAgICAgICAgIENvbm5lY3Rpb24gRXJyb3I6IHtlcnJvck1lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYUFjY2VzczsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImdldEhpZ2hlc3RSZXNvbHV0aW9uQ29uc3RyYWludHMiLCJDYW1lcmFBY2Nlc3MiLCJpc1Nob3dpbmciLCJvbkNsb3NlIiwib25DYW1lcmFSZWFkeSIsInNob3dIZWFkUG9zZSIsInNob3dCb3VuZGluZ0JveCIsInNob3dNYXNrIiwic2hvd1BhcmFtZXRlcnMiLCJ2aWRlb1JlZiIsImNhbnZhc1JlZiIsImNvbnRhaW5lclJlZiIsIndzUmVmIiwic3RyZWFtIiwic2V0U3RyZWFtIiwiZXJyb3JNZXNzYWdlIiwic2V0RXJyb3JNZXNzYWdlIiwiZnBzIiwic2V0RnBzIiwiZnBzVGltZXJSZWYiLCJwcm9jZXNzaW5nSW50ZXJ2YWwiLCJkaW1lbnNpb25zIiwic2V0RGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwiaXNWaWRlb1JlYWR5Iiwic2V0SXNWaWRlb1JlYWR5IiwicHJvY2Vzc2luZ1Jlc3VsdHMiLCJzZXRQcm9jZXNzaW5nUmVzdWx0cyIsImZyYW1lUXVldWUiLCJpc1Byb2Nlc3NpbmciLCJ3c1N0YXR1cyIsInNldFdzU3RhdHVzIiwiaXNMaW5rZWQiLCJzZXRJc0xpbmtlZCIsImNvbm5lY3RXZWJTb2NrZXQiLCJjdXJyZW50IiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJjb25zb2xlIiwibG9nIiwid3MiLCJjb25uZWN0aW9uVGltZW91dCIsInNldFRpbWVvdXQiLCJlcnJvciIsImNsb3NlIiwib25vcGVuIiwiY2xlYXJUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjYXB0dXJlQW5kUHJvY2Vzc0ZyYW1lIiwib25tZXNzYWdlIiwiZXZlbnQiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwiZHJhd1Jlc3VsdHMiLCJvbmVycm9yIiwib25jbG9zZSIsImNvZGUiLCJyZWFzb24iLCJjbGVhckludGVydmFsIiwiZGlzY29ubmVjdFdlYlNvY2tldCIsImN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJ2aWRlbyIsImNhbnZhcyIsInNhdmUiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJ0b0Jsb2IiLCJibG9iIiwic2VuZCIsInJlc3VsdHMiLCJib3VuZGluZ19ib3giLCJ4IiwieSIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsImhlYWRfcG9zZSIsInBpdGNoIiwieWF3Iiwicm9sbCIsImRyYXdIZWFkUG9zZSIsImZhY2VfbWFzayIsInBvaW50cyIsImRyYXdGYWNlTWFzayIsImRyYXdQYXJhbWV0ZXJzIiwic3RhcnRDYW1lcmEiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJjb25zdHJhaW50cyIsIndlYmtpdEdldFVzZXJNZWRpYSIsIm1vekdldFVzZXJNZWRpYSIsIlByb21pc2UiLCJyZWplY3QiLCJFcnJvciIsInJlc29sdmUiLCJjYWxsIiwiaXNTZWN1cmUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJwcm9jZXNzIiwibWVkaWFTdHJlYW0iLCJhdWRpbyIsInBsYXlzSW5saW5lIiwibXV0ZWQiLCJhdXRvcGxheSIsInNyY09iamVjdCIsInBsYXkiLCJwbGF5RXJyb3IiLCJuYW1lIiwibWVzc2FnZSIsInN0b3BDYW1lcmEiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwicHJldkZwcyIsIm5ld0ZwcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInVwZGF0ZURpbWVuc2lvbnMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUxvYWRlZE1ldGFkYXRhIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiYXNwZWN0UmF0aW8iLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lckhlaWdodCIsInN0eWxlIiwic3RhcnRQcm9jZXNzaW5nIiwiZmFjZURldGVjdGVkIiwiZHJhd0JvdW5kaW5nQm94IiwiY2VudGVyWCIsImNlbnRlclkiLCJib3hXaWR0aCIsImJveEhlaWdodCIsInRpbWUiLCJEYXRlIiwibm93IiwibGVuZ3RoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic2luIiwic3Ryb2tlIiwiY29zIiwicmFkaXVzIiwibWluIiwiZmlsbFN0eWxlIiwiYXJjIiwiUEkiLCJmaWxsIiwiZXllUmFkaXVzIiwiZXllT2Zmc2V0WCIsImV5ZU9mZnNldFkiLCJmaWxsUmVjdCIsImZvbnQiLCJmaWxsVGV4dCIsImRpdiIsInJlZiIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInRyYW5zZm9ybSIsImJhY2tncm91bmRDb2xvciIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsIm92ZXJmbG93IiwiekluZGV4Iiwib2JqZWN0Rml0Iiwib3BhY2l0eSIsImF1dG9QbGF5IiwicG9pbnRlckV2ZW50cyIsImRpc3BsYXkiLCJyaWdodCIsImdhcCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwYWRkaW5nIiwiY29sb3IiLCJib3JkZXIiLCJjdXJzb3IiLCJ0cmFuc2l0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\n");

/***/ })

};
;
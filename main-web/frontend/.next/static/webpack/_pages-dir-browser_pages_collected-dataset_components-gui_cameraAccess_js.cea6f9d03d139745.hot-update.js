"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_pages-dir-browser_pages_collected-dataset_components-gui_cameraAccess_js",{

/***/ "(pages-dir-browser)/./pages/collected-dataset/components-gui/cameraAccess.js":
/*!****************************************************************!*\
  !*** ./pages/collected-dataset/components-gui/cameraAccess.js ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// cameraAccess.js\n\nvar _s = $RefreshSig$();\n\nconst CameraAccess = (param)=>{\n    let { isShowing, onClose, onCameraReady, showHeadPose = false, showBoundingBox = false, showMask = false, showParameters = false } = param;\n    _s();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [fps, setFps] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const fpsTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const processingInterval = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0\n    });\n    const [isVideoReady, setIsVideoReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Start camera on component mount if isShowing is true\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (isShowing) {\n                startCamera();\n            }\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    stopCamera();\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], [\n        isShowing\n    ]);\n    // Setup FPS counter\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            fpsTimerRef.current = setInterval({\n                \"CameraAccess.useEffect\": ()=>{\n                    setFps({\n                        \"CameraAccess.useEffect\": (prevFps)=>{\n                            // Simple mock for fps counter\n                            const newFps = Math.floor(Math.random() * 10) + 25; // Random between 25-35 fps\n                            return newFps;\n                        }\n                    }[\"CameraAccess.useEffect\"]);\n                }\n            }[\"CameraAccess.useEffect\"], 1000);\n            return ({\n                \"CameraAccess.useEffect\": ()=>{\n                    if (fpsTimerRef.current) {\n                        clearInterval(fpsTimerRef.current);\n                    }\n                    if (processingInterval.current) {\n                        clearInterval(processingInterval.current);\n                    }\n                }\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], []);\n    // Update dimensions when container size changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            const updateDimensions = {\n                \"CameraAccess.useEffect.updateDimensions\": ()=>{\n                    if (containerRef.current) {\n                        const { width, height } = containerRef.current.getBoundingClientRect();\n                        setDimensions({\n                            width,\n                            height\n                        });\n                    }\n                }\n            }[\"CameraAccess.useEffect.updateDimensions\"];\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            return ({\n                \"CameraAccess.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n            })[\"CameraAccess.useEffect\"];\n        }\n    }[\"CameraAccess.useEffect\"], []);\n    // Handle video element ready state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CameraAccess.useEffect\": ()=>{\n            if (videoRef.current && stream) {\n                const video = videoRef.current;\n                const handleLoadedMetadata = {\n                    \"CameraAccess.useEffect.handleLoadedMetadata\": ()=>{\n                        console.log('Video metadata loaded');\n                        setIsVideoReady(true);\n                        // Get video dimensions\n                        const videoWidth = video.videoWidth || 640;\n                        const videoHeight = video.videoHeight || 480;\n                        console.log(\"Video dimensions: \".concat(videoWidth, \"x\").concat(videoHeight));\n                        // Setup canvas for processing\n                        if (canvasRef.current) {\n                            // Store actual dimensions for capture\n                            canvasRef.current.width = videoWidth;\n                            canvasRef.current.height = videoHeight;\n                            // Set display size to maintain aspect ratio\n                            const aspectRatio = videoWidth / videoHeight;\n                            const containerWidth = dimensions.width;\n                            const containerHeight = containerWidth / aspectRatio;\n                            canvasRef.current.style.width = \"\".concat(containerWidth, \"px\");\n                            canvasRef.current.style.height = \"\".concat(containerHeight, \"px\");\n                        }\n                        // Start processing frames\n                        startProcessing();\n                    }\n                }[\"CameraAccess.useEffect.handleLoadedMetadata\"];\n                video.addEventListener('loadedmetadata', handleLoadedMetadata);\n                return ({\n                    \"CameraAccess.useEffect\": ()=>{\n                        video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n                    }\n                })[\"CameraAccess.useEffect\"];\n            }\n        }\n    }[\"CameraAccess.useEffect\"], [\n        stream,\n        dimensions\n    ]);\n    // Simplified camera start function\n    const startCamera = async ()=>{\n        setErrorMessage('');\n        setIsVideoReady(false);\n        try {\n            console.log('Starting camera access...');\n            // Request camera access with reasonable resolution constraints\n            const mediaStream = await navigator.mediaDevices.getUserMedia({\n                video: {\n                    width: {\n                        ideal: 1280\n                    },\n                    height: {\n                        ideal: 720\n                    },\n                    facingMode: \"user\"\n                },\n                audio: false\n            });\n            console.log('Camera access granted!');\n            // Store the stream\n            setStream(mediaStream);\n            // Apply stream to video element\n            if (videoRef.current) {\n                // Critical attributes for cross-browser compatibility\n                videoRef.current.playsInline = true;\n                videoRef.current.muted = true;\n                videoRef.current.autoplay = true;\n                // Apply stream to video element\n                videoRef.current.srcObject = mediaStream;\n                try {\n                    // Explicitly try to play the video\n                    await videoRef.current.play();\n                    console.log('Video playing successfully!');\n                } catch (playError) {\n                    console.error('Error playing video:', playError);\n                    setErrorMessage('Unable to start video stream. Please try again.');\n                }\n            } else {\n                throw new Error('Video element not found');\n            }\n        } catch (error) {\n            console.error('Camera access error:', error);\n            // Handle specific error types\n            if (error.name === 'NotAllowedError') {\n                setErrorMessage('Camera access denied. Please check browser permissions and try again.');\n            } else if (error.name === 'NotFoundError') {\n                setErrorMessage('No camera detected. Please connect a camera and try again.');\n            } else if (error.name === 'NotReadableError') {\n                setErrorMessage('Camera is being used by another application.');\n            } else {\n                setErrorMessage(\"Camera error: \".concat(error.message || 'Unknown error'));\n            }\n        }\n    };\n    const stopCamera = ()=>{\n        // Stop all tracks in the stream\n        if (stream) {\n            stream.getTracks().forEach((track)=>track.stop());\n            setStream(null);\n        }\n        // Clear video source\n        if (videoRef.current) {\n            videoRef.current.srcObject = null;\n        }\n        // Clear processing interval\n        if (processingInterval.current) {\n            clearInterval(processingInterval.current);\n            processingInterval.current = null;\n        }\n        setIsVideoReady(false);\n    };\n    const startProcessing = ()=>{\n        if (!canvasRef.current || !videoRef.current || !isVideoReady) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext('2d');\n        // Match canvas size to video\n        canvas.width = video.videoWidth || 640;\n        canvas.height = video.videoHeight || 480;\n        // Start processing frames at ~30fps\n        processingInterval.current = setInterval(()=>{\n            if (video.readyState !== 4) return;\n            // Clear canvas\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // Save the current context state\n            ctx.save();\n            // Flip the context horizontally to mirror the video\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            // Draw video frame to canvas\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Restore the context state\n            ctx.restore();\n            // Simulate face detection (90% chance of face detected)\n            const faceDetected = Math.random() > 0.1;\n            // Draw visualizations based on enabled options\n            if (faceDetected) {\n                if (showBoundingBox) {\n                    drawBoundingBox(ctx, canvas);\n                }\n                if (showHeadPose) {\n                    drawHeadPose(ctx, canvas);\n                }\n                if (showMask) {\n                    drawFaceMask(ctx, canvas);\n                }\n            }\n            // Display parameters if enabled\n            if (showParameters) {\n                drawParameters(ctx, canvas, faceDetected);\n            }\n        }, 33); // ~30fps\n    };\n    // Helper function to draw bounding box\n    const drawBoundingBox = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const boxWidth = canvas.width * 0.6;\n        const boxHeight = canvas.height * 0.8;\n        ctx.strokeStyle = 'rgba(255, 255, 0, 0.7)';\n        ctx.lineWidth = 2;\n        ctx.strokeRect(centerX - boxWidth / 2, centerY - boxHeight / 2, boxWidth, boxHeight);\n    };\n    // Helper function to draw head pose axes\n    const drawHeadPose = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const time = Date.now() / 1000;\n        const length = canvas.width * 0.1;\n        // X axis (red)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length * Math.sin(time), centerY);\n        ctx.strokeStyle = 'red';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Y axis (green)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX, centerY + length * Math.sin(time + 1));\n        ctx.strokeStyle = 'green';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        // Z axis (blue)\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.lineTo(centerX + length / 2 * Math.sin(time + 2), centerY - length / 2 * Math.cos(time + 2));\n        ctx.strokeStyle = 'blue';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n    };\n    // Helper function to draw face mask\n    const drawFaceMask = (ctx, canvas)=>{\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const radius = Math.min(canvas.width, canvas.height) * 0.2;\n        // Draw mask\n        ctx.fillStyle = 'rgba(0, 255, 255, 0.2)';\n        ctx.beginPath();\n        ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw eyes\n        const eyeRadius = radius * 0.2;\n        const eyeOffsetX = radius * 0.3;\n        const eyeOffsetY = radius * 0.1;\n        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n        // Left eye\n        ctx.beginPath();\n        ctx.arc(centerX - eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n        // Right eye\n        ctx.beginPath();\n        ctx.arc(centerX + eyeOffsetX, centerY - eyeOffsetY, eyeRadius, 0, Math.PI * 2);\n        ctx.fill();\n    };\n    // Helper function to draw parameters\n    const drawParameters = (ctx, canvas, faceDetected)=>{\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n        ctx.fillRect(5, canvas.height - 60, 150, 50);\n        ctx.font = '12px Arial';\n        ctx.fillStyle = 'white';\n        ctx.fillText(\"Resolution: \".concat(canvas.width, \"x\").concat(canvas.height), 10, canvas.height - 40);\n        ctx.fillText(\"FPS: \".concat(fps), 10, canvas.height - 25);\n        ctx.fillText(\"Face: \".concat(faceDetected ? 'Detected' : 'Not Detected'), 10, canvas.height - 10);\n    };\n    if (!isShowing) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: 'relative',\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden',\n            display: isShowing ? 'block' : 'none'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: videoRef,\n                playsInline: true,\n                muted: true,\n                autoPlay: true,\n                style: {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover',\n                    opacity: 0 // Make video invisible but still functional\n                }\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/cameraAccess.js\",\n                lineNumber: 357,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                    maxWidth: '100%',\n                    maxHeight: '100%',\n                    objectFit: 'contain'\n                }\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/cameraAccess.js\",\n                lineNumber: 372,\n                columnNumber: 7\n            }, undefined),\n            errorMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                    backgroundColor: 'rgba(255, 0, 0, 0.7)',\n                    color: 'white',\n                    padding: '10px',\n                    borderRadius: '5px',\n                    textAlign: 'center'\n                },\n                children: errorMessage\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/cameraAccess.js\",\n                lineNumber: 385,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/cameraAccess.js\",\n        lineNumber: 347,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CameraAccess, \"cuZXl+FEVXCsOqKGqJz43nrfPwQ=\");\n_c = CameraAccess;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CameraAccess);\nvar _c;\n$RefreshReg$(_c, \"CameraAccess\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL2NhbWVyYUFjY2Vzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGtCQUFrQjs7O0FBQ3lDO0FBRTNELE1BQU1JLGVBQWU7UUFBQyxFQUNwQkMsU0FBUyxFQUNUQyxPQUFPLEVBQ1BDLGFBQWEsRUFDYkMsZUFBZSxLQUFLLEVBQ3BCQyxrQkFBa0IsS0FBSyxFQUN2QkMsV0FBVyxLQUFLLEVBQ2hCQyxpQkFBaUIsS0FBSyxFQUN2Qjs7SUFDQyxNQUFNQyxXQUFXViw2Q0FBTUEsQ0FBQztJQUN4QixNQUFNVyxZQUFZWCw2Q0FBTUEsQ0FBQztJQUN6QixNQUFNWSxlQUFlWiw2Q0FBTUEsQ0FBQztJQUM1QixNQUFNLENBQUNhLFFBQVFDLFVBQVUsR0FBR2IsK0NBQVFBLENBQUM7SUFDckMsTUFBTSxDQUFDYyxjQUFjQyxnQkFBZ0IsR0FBR2YsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDZ0IsS0FBS0MsT0FBTyxHQUFHakIsK0NBQVFBLENBQUM7SUFDL0IsTUFBTWtCLGNBQWNuQiw2Q0FBTUEsQ0FBQztJQUMzQixNQUFNb0IscUJBQXFCcEIsNkNBQU1BLENBQUM7SUFDbEMsTUFBTSxDQUFDcUIsWUFBWUMsY0FBYyxHQUFHckIsK0NBQVFBLENBQUM7UUFBRXNCLE9BQU87UUFBR0MsUUFBUTtJQUFFO0lBQ25FLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUVqRCx1REFBdUQ7SUFDdkRGLGdEQUFTQTtrQ0FBQztZQUNSLElBQUlJLFdBQVc7Z0JBQ2J3QjtZQUNGO1lBRUE7MENBQU87b0JBQ0xDO2dCQUNGOztRQUNGO2lDQUFHO1FBQUN6QjtLQUFVO0lBRWQsb0JBQW9CO0lBQ3BCSixnREFBU0E7a0NBQUM7WUFDUm9CLFlBQVlVLE9BQU8sR0FBR0M7MENBQVk7b0JBQ2hDWjtrREFBT2EsQ0FBQUE7NEJBQ0wsOEJBQThC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b0JBQ1ZJLEtBQUs7b0JBQ0xDLE1BQU07b0JBQ050RyxPQUFPO29CQUNQQyxRQUFRO29CQUNSc0csV0FBVztvQkFDWEMsU0FBUyxFQUFFLDRDQUE0QztnQkFDekQ7Ozs7OzswQkFFRiw4REFBQ3JEO2dCQUNDNkMsS0FBSzVHO2dCQUNMd0MsT0FBTztvQkFDTHFFLFVBQVU7b0JBQ1ZJLEtBQUs7b0JBQ0xDLE1BQU07b0JBQ05HLFdBQVc7b0JBQ1hDLFVBQVU7b0JBQ1ZDLFdBQVc7b0JBQ1hKLFdBQVc7Z0JBQ2I7Ozs7OztZQUVEL0csOEJBQ0MsOERBQUN1RztnQkFBSW5FLE9BQU87b0JBQ1ZxRSxVQUFVO29CQUNWSSxLQUFLO29CQUNMQyxNQUFNO29CQUNORyxXQUFXO29CQUNYRyxpQkFBaUI7b0JBQ2pCQyxPQUFPO29CQUNQQyxTQUFTO29CQUNUQyxjQUFjO29CQUNkQyxXQUFXO2dCQUNiOzBCQUNHeEg7Ozs7Ozs7Ozs7OztBQUtYO0dBN1lNYjtLQUFBQTtBQStZTixpRUFBZUEsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL2NhbWVyYUFjY2Vzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjYW1lcmFBY2Nlc3MuanNcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IENhbWVyYUFjY2VzcyA9ICh7IFxuICBpc1Nob3dpbmcsIFxuICBvbkNsb3NlLCBcbiAgb25DYW1lcmFSZWFkeSxcbiAgc2hvd0hlYWRQb3NlID0gZmFsc2UsXG4gIHNob3dCb3VuZGluZ0JveCA9IGZhbHNlLFxuICBzaG93TWFzayA9IGZhbHNlLFxuICBzaG93UGFyYW1ldGVycyA9IGZhbHNlXG59KSA9PiB7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3N0cmVhbSwgc2V0U3RyZWFtXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZXJyb3JNZXNzYWdlLCBzZXRFcnJvck1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZnBzLCBzZXRGcHNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IGZwc1RpbWVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBwcm9jZXNzaW5nSW50ZXJ2YWwgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtkaW1lbnNpb25zLCBzZXREaW1lbnNpb25zXSA9IHVzZVN0YXRlKHsgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgY29uc3QgW2lzVmlkZW9SZWFkeSwgc2V0SXNWaWRlb1JlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFN0YXJ0IGNhbWVyYSBvbiBjb21wb25lbnQgbW91bnQgaWYgaXNTaG93aW5nIGlzIHRydWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNTaG93aW5nKSB7XG4gICAgICBzdGFydENhbWVyYSgpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3RvcENhbWVyYSgpO1xuICAgIH07XG4gIH0sIFtpc1Nob3dpbmddKTtcblxuICAvLyBTZXR1cCBGUFMgY291bnRlclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZwc1RpbWVyUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzZXRGcHMocHJldkZwcyA9PiB7XG4gICAgICAgIC8vIFNpbXBsZSBtb2NrIGZvciBmcHMgY291bnRlclxuICAgICAgICBjb25zdCBuZXdGcHMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAyNTsgLy8gUmFuZG9tIGJldHdlZW4gMjUtMzUgZnBzXG4gICAgICAgIHJldHVybiBuZXdGcHM7XG4gICAgICB9KTtcbiAgICB9LCAxMDAwKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGZwc1RpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChmcHNUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gVXBkYXRlIGRpbWVuc2lvbnMgd2hlbiBjb250YWluZXIgc2l6ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlRGltZW5zaW9ucyA9ICgpID0+IHtcbiAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXREaW1lbnNpb25zKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIHZpZGVvIGVsZW1lbnQgcmVhZHkgc3RhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCAmJiBzdHJlYW0pIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICAgIFxuICAgICAgY29uc3QgaGFuZGxlTG9hZGVkTWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdWaWRlbyBtZXRhZGF0YSBsb2FkZWQnKTtcbiAgICAgICAgc2V0SXNWaWRlb1JlYWR5KHRydWUpO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHZpZGVvIGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3QgdmlkZW9XaWR0aCA9IHZpZGVvLnZpZGVvV2lkdGggfHwgNjQwO1xuICAgICAgICBjb25zdCB2aWRlb0hlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0IHx8IDQ4MDtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBWaWRlbyBkaW1lbnNpb25zOiAke3ZpZGVvV2lkdGh9eCR7dmlkZW9IZWlnaHR9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTZXR1cCBjYW52YXMgZm9yIHByb2Nlc3NpbmdcbiAgICAgICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgLy8gU3RvcmUgYWN0dWFsIGRpbWVuc2lvbnMgZm9yIGNhcHR1cmVcbiAgICAgICAgICBjYW52YXNSZWYuY3VycmVudC53aWR0aCA9IHZpZGVvV2lkdGg7XG4gICAgICAgICAgY2FudmFzUmVmLmN1cnJlbnQuaGVpZ2h0ID0gdmlkZW9IZWlnaHQ7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2V0IGRpc3BsYXkgc2l6ZSB0byBtYWludGFpbiBhc3BlY3QgcmF0aW9cbiAgICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodDtcbiAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICBcbiAgICAgICAgICBjYW52YXNSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IGAke2NvbnRhaW5lcldpZHRofXB4YDtcbiAgICAgICAgICBjYW52YXNSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtjb250YWluZXJIZWlnaHR9cHhgO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTdGFydCBwcm9jZXNzaW5nIGZyYW1lc1xuICAgICAgICBzdGFydFByb2Nlc3NpbmcoKTtcbiAgICAgIH07XG5cbiAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgaGFuZGxlTG9hZGVkTWV0YWRhdGEpO1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbc3RyZWFtLCBkaW1lbnNpb25zXSk7XG5cbiAgLy8gU2ltcGxpZmllZCBjYW1lcmEgc3RhcnQgZnVuY3Rpb25cbiAgY29uc3Qgc3RhcnRDYW1lcmEgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICBzZXRJc1ZpZGVvUmVhZHkoZmFsc2UpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgY2FtZXJhIGFjY2Vzcy4uLicpO1xuICAgICAgXG4gICAgICAvLyBSZXF1ZXN0IGNhbWVyYSBhY2Nlc3Mgd2l0aCByZWFzb25hYmxlIHJlc29sdXRpb24gY29uc3RyYWludHNcbiAgICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgIHdpZHRoOiB7IGlkZWFsOiAxMjgwIH0sXG4gICAgICAgICAgaGVpZ2h0OiB7IGlkZWFsOiA3MjAgfSxcbiAgICAgICAgICBmYWNpbmdNb2RlOiBcInVzZXJcIlxuICAgICAgICB9LFxuICAgICAgICBhdWRpbzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIGFjY2VzcyBncmFudGVkIScpO1xuICAgICAgXG4gICAgICAvLyBTdG9yZSB0aGUgc3RyZWFtXG4gICAgICBzZXRTdHJlYW0obWVkaWFTdHJlYW0pO1xuICAgICAgXG4gICAgICAvLyBBcHBseSBzdHJlYW0gdG8gdmlkZW8gZWxlbWVudFxuICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gQ3JpdGljYWwgYXR0cmlidXRlcyBmb3IgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmlsaXR5XG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheXNJbmxpbmUgPSB0cnVlO1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50Lm11dGVkID0gdHJ1ZTtcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICAvLyBBcHBseSBzdHJlYW0gdG8gdmlkZW8gZWxlbWVudFxuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG1lZGlhU3RyZWFtO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBFeHBsaWNpdGx5IHRyeSB0byBwbGF5IHRoZSB2aWRlb1xuICAgICAgICAgIGF3YWl0IHZpZGVvUmVmLmN1cnJlbnQucGxheSgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdWaWRlbyBwbGF5aW5nIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgfSBjYXRjaCAocGxheUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGxheWluZyB2aWRlbzonLCBwbGF5RXJyb3IpO1xuICAgICAgICAgIHNldEVycm9yTWVzc2FnZSgnVW5hYmxlIHRvIHN0YXJ0IHZpZGVvIHN0cmVhbS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWaWRlbyBlbGVtZW50IG5vdCBmb3VuZCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDYW1lcmEgYWNjZXNzIGVycm9yOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIHNwZWNpZmljIGVycm9yIHR5cGVzXG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdDYW1lcmEgYWNjZXNzIGRlbmllZC4gUGxlYXNlIGNoZWNrIGJyb3dzZXIgcGVybWlzc2lvbnMgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSB7XG4gICAgICAgIHNldEVycm9yTWVzc2FnZSgnTm8gY2FtZXJhIGRldGVjdGVkLiBQbGVhc2UgY29ubmVjdCBhIGNhbWVyYSBhbmQgdHJ5IGFnYWluLicpO1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAnTm90UmVhZGFibGVFcnJvcicpIHtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdDYW1lcmEgaXMgYmVpbmcgdXNlZCBieSBhbm90aGVyIGFwcGxpY2F0aW9uLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKGBDYW1lcmEgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0b3BDYW1lcmEgPSAoKSA9PiB7XG4gICAgLy8gU3RvcCBhbGwgdHJhY2tzIGluIHRoZSBzdHJlYW1cbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgc2V0U3RyZWFtKG51bGwpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciB2aWRlbyBzb3VyY2VcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBwcm9jZXNzaW5nIGludGVydmFsXG4gICAgaWYgKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICBjbGVhckludGVydmFsKHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50KTtcbiAgICAgIHByb2Nlc3NpbmdJbnRlcnZhbC5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgc2V0SXNWaWRlb1JlYWR5KGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBzdGFydFByb2Nlc3NpbmcgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCB8fCAhdmlkZW9SZWYuY3VycmVudCB8fCAhaXNWaWRlb1JlYWR5KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIFxuICAgIC8vIE1hdGNoIGNhbnZhcyBzaXplIHRvIHZpZGVvXG4gICAgY2FudmFzLndpZHRoID0gdmlkZW8udmlkZW9XaWR0aCB8fCA2NDA7XG4gICAgY2FudmFzLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0IHx8IDQ4MDtcbiAgICBcbiAgICAvLyBTdGFydCBwcm9jZXNzaW5nIGZyYW1lcyBhdCB+MzBmcHNcbiAgICBwcm9jZXNzaW5nSW50ZXJ2YWwuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh2aWRlby5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhc1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IGNvbnRleHQgc3RhdGVcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBcbiAgICAgIC8vIEZsaXAgdGhlIGNvbnRleHQgaG9yaXpvbnRhbGx5IHRvIG1pcnJvciB0aGUgdmlkZW9cbiAgICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoLCAwKTtcbiAgICAgIGN0eC5zY2FsZSgtMSwgMSk7XG4gICAgICBcbiAgICAgIC8vIERyYXcgdmlkZW8gZnJhbWUgdG8gY2FudmFzXG4gICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIHRoZSBjb250ZXh0IHN0YXRlXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBmYWNlIGRldGVjdGlvbiAoOTAlIGNoYW5jZSBvZiBmYWNlIGRldGVjdGVkKVxuICAgICAgY29uc3QgZmFjZURldGVjdGVkID0gTWF0aC5yYW5kb20oKSA+IDAuMTtcbiAgICAgIFxuICAgICAgLy8gRHJhdyB2aXN1YWxpemF0aW9ucyBiYXNlZCBvbiBlbmFibGVkIG9wdGlvbnNcbiAgICAgIGlmIChmYWNlRGV0ZWN0ZWQpIHtcbiAgICAgICAgaWYgKHNob3dCb3VuZGluZ0JveCkge1xuICAgICAgICAgIGRyYXdCb3VuZGluZ0JveChjdHgsIGNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChzaG93SGVhZFBvc2UpIHtcbiAgICAgICAgICBkcmF3SGVhZFBvc2UoY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvd01hc2spIHtcbiAgICAgICAgICBkcmF3RmFjZU1hc2soY3R4LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERpc3BsYXkgcGFyYW1ldGVycyBpZiBlbmFibGVkXG4gICAgICBpZiAoc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgICAgZHJhd1BhcmFtZXRlcnMoY3R4LCBjYW52YXMsIGZhY2VEZXRlY3RlZCk7XG4gICAgICB9XG4gICAgfSwgMzMpOyAvLyB+MzBmcHNcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGJvdW5kaW5nIGJveFxuICBjb25zdCBkcmF3Qm91bmRpbmdCb3ggPSAoY3R4LCBjYW52YXMpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgYm94V2lkdGggPSBjYW52YXMud2lkdGggKiAwLjY7XG4gICAgY29uc3QgYm94SGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIDAuODtcbiAgICBcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMCwgMC43KSc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICBjZW50ZXJYIC0gYm94V2lkdGgvMiwgXG4gICAgICBjZW50ZXJZIC0gYm94SGVpZ2h0LzIsIFxuICAgICAgYm94V2lkdGgsIFxuICAgICAgYm94SGVpZ2h0XG4gICAgKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGhlYWQgcG9zZSBheGVzXG4gIGNvbnN0IGRyYXdIZWFkUG9zZSA9IChjdHgsIGNhbnZhcykgPT4ge1xuICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgY29uc3QgbGVuZ3RoID0gY2FudmFzLndpZHRoICogMC4xO1xuICAgIFxuICAgIC8vIFggYXhpcyAocmVkKVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKGNlbnRlclgsIGNlbnRlclkpO1xuICAgIGN0eC5saW5lVG8oY2VudGVyWCArIGxlbmd0aCAqIE1hdGguc2luKHRpbWUpLCBjZW50ZXJZKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgXG4gICAgLy8gWSBheGlzIChncmVlbilcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKGNlbnRlclgsIGNlbnRlclkgKyBsZW5ndGggKiBNYXRoLnNpbih0aW1lICsgMSkpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdncmVlbic7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIFxuICAgIC8vIFogYXhpcyAoYmx1ZSlcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICBjdHgubGluZVRvKFxuICAgICAgY2VudGVyWCArIGxlbmd0aC8yICogTWF0aC5zaW4odGltZSArIDIpLCBcbiAgICAgIGNlbnRlclkgLSBsZW5ndGgvMiAqIE1hdGguY29zKHRpbWUgKyAyKVxuICAgICk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsdWUnO1xuICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkcmF3IGZhY2UgbWFza1xuICBjb25zdCBkcmF3RmFjZU1hc2sgPSAoY3R4LCBjYW52YXMpID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgcmFkaXVzID0gTWF0aC5taW4oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSAqIDAuMjtcbiAgICBcbiAgICAvLyBEcmF3IG1hc2tcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMjU1LCAyNTUsIDAuMiknO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgXG4gICAgLy8gRHJhdyBleWVzXG4gICAgY29uc3QgZXllUmFkaXVzID0gcmFkaXVzICogMC4yO1xuICAgIGNvbnN0IGV5ZU9mZnNldFggPSByYWRpdXMgKiAwLjM7XG4gICAgY29uc3QgZXllT2Zmc2V0WSA9IHJhZGl1cyAqIDAuMTtcbiAgICBcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSc7XG4gICAgXG4gICAgLy8gTGVmdCBleWVcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhjZW50ZXJYIC0gZXllT2Zmc2V0WCwgY2VudGVyWSAtIGV5ZU9mZnNldFksIGV5ZVJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgXG4gICAgLy8gUmlnaHQgZXllXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoY2VudGVyWCArIGV5ZU9mZnNldFgsIGNlbnRlclkgLSBleWVPZmZzZXRZLCBleWVSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICB9O1xuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRyYXcgcGFyYW1ldGVyc1xuICBjb25zdCBkcmF3UGFyYW1ldGVycyA9IChjdHgsIGNhbnZhcywgZmFjZURldGVjdGVkKSA9PiB7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuNyknO1xuICAgIGN0eC5maWxsUmVjdCg1LCBjYW52YXMuaGVpZ2h0IC0gNjAsIDE1MCwgNTApO1xuICAgIFxuICAgIGN0eC5mb250ID0gJzEycHggQXJpYWwnO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsVGV4dChgUmVzb2x1dGlvbjogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gLCAxMCwgY2FudmFzLmhlaWdodCAtIDQwKTtcbiAgICBjdHguZmlsbFRleHQoYEZQUzogJHtmcHN9YCwgMTAsIGNhbnZhcy5oZWlnaHQgLSAyNSk7XG4gICAgY3R4LmZpbGxUZXh0KGBGYWNlOiAke2ZhY2VEZXRlY3RlZCA/ICdEZXRlY3RlZCcgOiAnTm90IERldGVjdGVkJ31gLCAxMCwgY2FudmFzLmhlaWdodCAtIDEwKTtcbiAgfTtcblxuICBpZiAoIWlzU2hvd2luZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IFxuICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgZGlzcGxheTogaXNTaG93aW5nID8gJ2Jsb2NrJyA6ICdub25lJ1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8dmlkZW9cbiAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgcGxheXNJbmxpbmVcbiAgICAgICAgbXV0ZWRcbiAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgIG9iamVjdEZpdDogJ2NvdmVyJyxcbiAgICAgICAgICBvcGFjaXR5OiAwIC8vIE1ha2UgdmlkZW8gaW52aXNpYmxlIGJ1dCBzdGlsbCBmdW5jdGlvbmFsXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGNhbnZhc1xuICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBtYXhIZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICBvYmplY3RGaXQ6ICdjb250YWluJ1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIHtlcnJvck1lc3NhZ2UgJiYgKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAwLCAwLCAwLjcpJyxcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNXB4JyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgIH19PlxuICAgICAgICAgIHtlcnJvck1lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYUFjY2VzczsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkNhbWVyYUFjY2VzcyIsImlzU2hvd2luZyIsIm9uQ2xvc2UiLCJvbkNhbWVyYVJlYWR5Iiwic2hvd0hlYWRQb3NlIiwic2hvd0JvdW5kaW5nQm94Iiwic2hvd01hc2siLCJzaG93UGFyYW1ldGVycyIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwiY29udGFpbmVyUmVmIiwic3RyZWFtIiwic2V0U3RyZWFtIiwiZXJyb3JNZXNzYWdlIiwic2V0RXJyb3JNZXNzYWdlIiwiZnBzIiwic2V0RnBzIiwiZnBzVGltZXJSZWYiLCJwcm9jZXNzaW5nSW50ZXJ2YWwiLCJkaW1lbnNpb25zIiwic2V0RGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwiaXNWaWRlb1JlYWR5Iiwic2V0SXNWaWRlb1JlYWR5Iiwic3RhcnRDYW1lcmEiLCJzdG9wQ2FtZXJhIiwiY3VycmVudCIsInNldEludGVydmFsIiwicHJldkZwcyIsIm5ld0ZwcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNsZWFySW50ZXJ2YWwiLCJ1cGRhdGVEaW1lbnNpb25zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ2aWRlbyIsImhhbmRsZUxvYWRlZE1ldGFkYXRhIiwiY29uc29sZSIsImxvZyIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsImFzcGVjdFJhdGlvIiwiY29udGFpbmVyV2lkdGgiLCJjb250YWluZXJIZWlnaHQiLCJzdHlsZSIsInN0YXJ0UHJvY2Vzc2luZyIsIm1lZGlhU3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiaWRlYWwiLCJmYWNpbmdNb2RlIiwiYXVkaW8iLCJwbGF5c0lubGluZSIsIm11dGVkIiwiYXV0b3BsYXkiLCJzcmNPYmplY3QiLCJwbGF5IiwicGxheUVycm9yIiwiZXJyb3IiLCJFcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwic3RvcCIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJyZWFkeVN0YXRlIiwiY2xlYXJSZWN0Iiwic2F2ZSIsInRyYW5zbGF0ZSIsInNjYWxlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImZhY2VEZXRlY3RlZCIsImRyYXdCb3VuZGluZ0JveCIsImRyYXdIZWFkUG9zZSIsImRyYXdGYWNlTWFzayIsImRyYXdQYXJhbWV0ZXJzIiwiY2VudGVyWCIsImNlbnRlclkiLCJib3hXaWR0aCIsImJveEhlaWdodCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsInRpbWUiLCJEYXRlIiwibm93IiwibGVuZ3RoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic2luIiwic3Ryb2tlIiwiY29zIiwicmFkaXVzIiwibWluIiwiZmlsbFN0eWxlIiwiYXJjIiwiUEkiLCJmaWxsIiwiZXllUmFkaXVzIiwiZXllT2Zmc2V0WCIsImV5ZU9mZnNldFkiLCJmaWxsUmVjdCIsImZvbnQiLCJmaWxsVGV4dCIsImRpdiIsInJlZiIsInBvc2l0aW9uIiwib3ZlcmZsb3ciLCJkaXNwbGF5IiwiYXV0b1BsYXkiLCJ0b3AiLCJsZWZ0Iiwib2JqZWN0Rml0Iiwib3BhY2l0eSIsInRyYW5zZm9ybSIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwidGV4dEFsaWduIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset/components-gui/cameraAccess.js\n"));

/***/ })

});
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/collected-dataset-customized",{

/***/ "(pages-dir-browser)/./pages/collected-dataset-customized/index.js":
/*!*****************************************************!*\
  !*** ./pages/collected-dataset-customized/index.js ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CollectedDatasetPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"(pages-dir-browser)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-browser)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components-gui/topBar */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/topBar.js\");\n/* harmony import */ var _components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components-gui/displayResponse */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/displayResponse.js\");\n/* harmony import */ var _components_gui_actionButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components-gui/actionButton */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/actionButton.js\");\n/* harmony import */ var _components_gui_Action_countSave__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components-gui/Action/countSave */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/Action/countSave.js\");\n/* harmony import */ var _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/consent/ConsentContext */ \"(pages-dir-browser)/./components/consent/ConsentContext.js\");\n// Modified index.js - Fixing canvas reference issues\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Dynamically load the video processor component (not the hook directly)\nconst VideoProcessorComponent = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-browser_pages_collected-dataset-customized_components-gui_VideoProcessorComponent_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/VideoProcessorComponent */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/VideoProcessorComponent.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/VideoProcessorComponent\"\n        ]\n    },\n    ssr: false\n});\n_c = VideoProcessorComponent;\n// Dynamically import the camera component with SSR disabled\nconst DynamicCameraAccess = next_dynamic__WEBPACK_IMPORTED_MODULE_3___default()(()=>__webpack_require__.e(/*! import() */ \"_pages-dir-browser_pages_collected-dataset-customized_components-gui_cameraAccess_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/cameraAccess */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/cameraAccess.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"pages/collected-dataset-customized/index.js -> \" + \"./components-gui/cameraAccess\"\n        ]\n    },\n    ssr: false,\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '480px',\n                height: '360px',\n                backgroundColor: '#f0f8ff',\n                border: '2px solid #0066cc',\n                borderRadius: '8px',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                textAlign: 'center',\n                zIndex: 999\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: '48px',\n                        marginBottom: '15px'\n                    },\n                    children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 40,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: 'bold',\n                        color: '#0066cc'\n                    },\n                    children: \"Loading camera...\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 41,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n            lineNumber: 23,\n            columnNumber: 7\n        }, undefined)\n});\n_c1 = DynamicCameraAccess;\nfunction CollectedDatasetPage() {\n    _s();\n    // State for hydration detection\n    const [isHydrated, setIsHydrated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State for camera management\n    const [showCamera, setShowCamera] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTopBar, setShowTopBar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showMetrics, setShowMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [outputText, setOutputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [metrics, setMetrics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: '---',\n        height: '---',\n        distance: '---'\n    });\n    const [windowSize, setWindowSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 0,\n        height: 0,\n        percentage: 100\n    });\n    // References and other state\n    const previewAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // State for capture tracking\n    const [captureCounter, setCaptureCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [captureFolder, setCaptureFolder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // State for camera processing options\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State to track if camera square should be shown\n    const [showCameraPlaceholder, setShowCameraPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // To store the camera permission state\n    const [cameraPermissionGranted, setCameraPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State for warning message\n    const [showWarning, setShowWarning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [warningMessage, setWarningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // Backend connection status\n    const [backendStatus, setBackendStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('checking');\n    const actionButtonGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // State for settings visibility\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State for current user ID\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    // Get user ID from consent context\n    const { userId } = (0,_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_8__.useConsent)();\n    // Handle user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (userId && userId !== currentUserId) {\n                console.log('User ID changed in index.js:', userId);\n                setCurrentUserId(userId);\n                // Dispatch event to notify other components\n                const event = new CustomEvent('userIdChange', {\n                    detail: {\n                        userId\n                    }\n                });\n                window.dispatchEvent(event);\n                // Load settings for the new user\n                loadSettings(userId);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId,\n        currentUserId\n    ]);\n    // Load settings for a specific user\n    const loadSettings = async (userId)=>{\n        try {\n            console.log('Loading settings for user:', userId);\n            const response = await fetch(\"/api/data-center/settings/\".concat(userId));\n            if (!response.ok) throw new Error('Failed to fetch settings');\n            const userSettings = await response.json();\n            console.log('Fetched settings:', userSettings);\n            // Dispatch settings update event\n            const event = new CustomEvent('captureSettingsUpdate', {\n                detail: {\n                    type: 'captureSettings',\n                    userId,\n                    ...userSettings\n                }\n            });\n            window.dispatchEvent(event);\n        } catch (error) {\n            console.error('Error loading settings:', error);\n        }\n    };\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        console.log('Received settings update in index.js:', {\n                            userId,\n                            times,\n                            delay\n                        });\n                        if (userId === currentUserId) {\n                            // Update local state if needed\n                            console.log('Updating settings for current user:', userId);\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        currentUserId\n    ]);\n    // Improved get canvas function that tries multiple methods\n    const getMainCanvas = ()=>{\n        // Method 1: Check if we have a direct reference\n        if (canvasRef.current) {\n            console.log(\"Using direct canvasRef.current reference\");\n            return canvasRef.current;\n        }\n        // Method 2: Try to get global reference\n        if ( true && window.whiteScreenCanvas) {\n            console.log(\"Using global whiteScreenCanvas reference\");\n            canvasRef.current = window.whiteScreenCanvas; // Update our ref\n            return window.whiteScreenCanvas;\n        }\n        // Method 3: Try to find via DOM\n        if (typeof document !== 'undefined') {\n            const canvasElement = document.querySelector('.tracking-canvas');\n            if (canvasElement) {\n                console.log(\"Found canvas via DOM selector\");\n                canvasRef.current = canvasElement; // Update our ref\n                if (true) {\n                    window.whiteScreenCanvas = canvasElement; // Update global ref too\n                }\n                return canvasElement;\n            }\n        }\n        console.warn(\"No canvas found via any method\");\n        return null;\n    };\n    // Check if we're on the client or server\n    const isClient = \"object\" !== 'undefined';\n    // Add effect to initialize canvas and make it globally available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Debug info to verify canvas size and availability\n            const canvas = canvasRef.current;\n            if (canvas) {\n                console.log(\"Index.js: Canvas initialized\", {\n                    width: canvas.width,\n                    height: canvas.height\n                });\n                // Make canvas EXPLICITLY available globally\n                window.whiteScreenCanvas = canvas;\n                // Also store canvas dimensions\n                window.canvasDimensions = {\n                    width: canvas.width,\n                    height: canvas.height\n                };\n            } else {\n                console.warn(\"Canvas reference is not available during initialization\");\n            }\n            // Expose canvas initialization function globally\n            window.initializeCanvas = ({\n                \"CollectedDatasetPage.useEffect\": (canvas, parent)=>{\n                    if (!canvas || !parent) {\n                        console.warn('[initializeCanvas] Canvas or parent is null', {\n                            canvas,\n                            parent\n                        });\n                        return false;\n                    }\n                    try {\n                        // Set canvas dimensions to match parent\n                        canvas.width = parent.clientWidth || 800;\n                        canvas.height = parent.clientHeight || 600;\n                        // Clear canvas and set white background\n                        const ctx = canvas.getContext('2d');\n                        ctx.clearRect(0, 0, canvas.width, canvas.height);\n                        ctx.fillStyle = 'white';\n                        ctx.fillRect(0, 0, canvas.width, canvas.height);\n                        console.log(\"Canvas initialized with dimensions: \".concat(canvas.width, \"x\").concat(canvas.height));\n                        // Update global reference\n                        window.whiteScreenCanvas = canvas;\n                        window.canvasDimensions = {\n                            width: canvas.width,\n                            height: canvas.height\n                        };\n                        return true;\n                    } catch (error) {\n                        console.error('[initializeCanvas] Error initializing canvas:', error);\n                        return false;\n                    }\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            // Check canvas visibility and force initialization after a brief delay\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    const canvas = getMainCanvas();\n                    if (canvas) {\n                        const rect = canvas.getBoundingClientRect();\n                        console.log(\"Canvas initial visibility check:\", {\n                            dimensions: \"\".concat(canvas.width, \"x\").concat(canvas.height),\n                            rectSize: \"\".concat(rect.width, \"x\").concat(rect.height),\n                            isVisible: rect.width > 0 && rect.height > 0\n                        });\n                        // Force initialization if needed\n                        adjustCanvasDimensions();\n                    } else {\n                        console.warn(\"Canvas not found during visibility check\");\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 500);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    delete window.whiteScreenCanvas;\n                    delete window.canvasDimensions;\n                    delete window.initializeCanvas;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Improved canvas dimensions adjustment\n    const adjustCanvasDimensions = ()=>{\n        if (!isClient || !isHydrated || !previewAreaRef.current) return;\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found to adjust dimensions\");\n            return;\n        }\n        const container = previewAreaRef.current;\n        // Get the size of the preview area\n        const rect = container.getBoundingClientRect();\n        // Calculate proper height based on top bar visibility\n        const topBarHeight = showTopBar ? 120 : 0; // Adjust this value based on your top bar's actual height\n        console.log(\"Adjusting canvas dimensions\", {\n            containerWidth: rect.width,\n            containerHeight: rect.height,\n            topBarVisible: showTopBar,\n            calculatedHeight: rect.height\n        });\n        // Set canvas dimensions to match container size with top bar adjustment\n        canvas.width = rect.width;\n        canvas.height = rect.height;\n        // Clear the canvas\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        // Fill with white background\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        console.log(\"Canvas dimensions adjusted: \".concat(canvas.width, \"x\").concat(canvas.height));\n        // Update global reference with current dimensions\n        window.whiteScreenCanvas = canvas;\n        window.canvasDimensions = {\n            width: canvas.width,\n            height: canvas.height\n        };\n    };\n    // Create a capture folder on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!captureFolder && isClient && isHydrated) {\n                const timestamp = new Date().toISOString().replace(/[:\\.]/g, '-');\n                setCaptureFolder(\"session_\".concat(timestamp));\n                console.log(\"Created capture folder: session_\".concat(timestamp));\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        captureFolder,\n        isClient,\n        isHydrated\n    ]);\n    // Set hydrated state after mount to prevent hydration mismatch\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            setIsHydrated(true);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Check backend connection on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return; // Skip on server or before hydration\n            const checkBackendConnection = {\n                \"CollectedDatasetPage.useEffect.checkBackendConnection\": async ()=>{\n                    try {\n                        const response = await fetch('/api/check-backend-connection');\n                        const data = await response.json();\n                        setBackendStatus(data.connected ? 'connected' : 'disconnected');\n                        console.log(\"Backend connection: \".concat(data.connected ? 'OK' : 'Failed'));\n                        // Show status in output text\n                        setOutputText(\"Backend \".concat(data.connected ? 'connected' : 'disconnected - using mock mode'));\n                    } catch (error) {\n                        console.error('Error checking backend connection:', error);\n                        setBackendStatus('disconnected');\n                        setOutputText('Backend disconnected - using mock mode');\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.checkBackendConnection\"];\n            checkBackendConnection();\n            // Welcome message after backend check\n            setTimeout({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    setOutputText('Camera system ready. Click \"Show Preview\" to start camera.');\n                }\n            }[\"CollectedDatasetPage.useEffect\"], 2000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Update metrics and window size when component mounts and on window resize\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return; // Skip on server or before hydration\n            const updateDimensions = {\n                \"CollectedDatasetPage.useEffect.updateDimensions\": ()=>{\n                    if (previewAreaRef.current) {\n                        const width = previewAreaRef.current.offsetWidth;\n                        const height = previewAreaRef.current.offsetHeight;\n                        // Calculate what percentage of the screen we're using\n                        const screenPercentage = window.innerWidth / window.screen.width * 100;\n                        setMetrics({\n                            \"CollectedDatasetPage.useEffect.updateDimensions\": (prev)=>({\n                                    ...prev,\n                                    width,\n                                    height\n                                })\n                        }[\"CollectedDatasetPage.useEffect.updateDimensions\"]);\n                        setWindowSize({\n                            width: window.innerWidth,\n                            height: window.innerHeight,\n                            percentage: Math.round(screenPercentage)\n                        });\n                        // Update canvas dimensions\n                        adjustCanvasDimensions();\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.updateDimensions\"];\n            // Initial calculation\n            updateDimensions();\n            window.addEventListener('resize', updateDimensions);\n            // Clean up\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('resize', updateDimensions);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Add effect to update canvas when dimensions change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (isClient && isHydrated) {\n                adjustCanvasDimensions();\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        windowSize,\n        showTopBar,\n        isHydrated\n    ]);\n    // Add styles to document head for button highlighting\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Create a style element\n            const style = document.createElement('style');\n            style.textContent = \"\\n      @keyframes pulse {\\n        0% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0.7); }\\n        70% { box-shadow: 0 0 0 10px rgba(0, 102, 204, 0); }\\n        100% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0); }\\n      }\\n      \\n      @keyframes fadeIn {\\n        from { opacity: 0; transform: translateY(-10px); }\\n        to { opacity: 1; transform: translateY(0); }\\n      }\\n      \\n      .btn-highlight {\\n        animation: pulse 1.5s infinite;\\n        background-color: #0099ff !important;\\n        color: white !important;\\n        transform: scale(1.05);\\n        transition: all 0.3s ease;\\n      }\\n      \\n      .warning-banner {\\n        animation: fadeIn 0.3s ease-in-out;\\n      }\\n    \";\n            document.head.appendChild(style);\n            // Clean up\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    document.head.removeChild(style);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Make toggleTopBar function available globally\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (!isClient || !isHydrated) return;\n            // Make toggleTopBar available to other components\n            window.toggleTopBar = ({\n                \"CollectedDatasetPage.useEffect\": (show)=>{\n                    setShowTopBar(show);\n                    // Also hide metrics when hiding the top bar\n                    if (!show) {\n                        setShowMetrics(false);\n                    }\n                    // Adjust canvas dimensions after toggling\n                    setTimeout(adjustCanvasDimensions, 100);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    // Clean up\n                    delete window.toggleTopBar;\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        isHydrated\n    ]);\n    // Toggle camera function\n    const toggleCamera = (shouldEnable)=>{\n        if (!isClient || !isHydrated) return;\n        if (shouldEnable) {\n            setShowCamera(true);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview started');\n        } else {\n            setShowCamera(false);\n            setShowCameraPlaceholder(false);\n            setOutputText('Camera preview stopped');\n        }\n    };\n    // Handler for action button clicks\n    const handleActionButtonClick = (actionType, params)=>{\n        if (!isClient || !isHydrated) return;\n        // Special case for toggling the top bar\n        if (actionType === 'toggleTopBar') {\n            // const newTopBarState = value !== undefined ? !!value : !showTopBar;\n            let newTopBarState;\n            if (typeof params === 'boolean') {\n                newTopBarState = params;\n            } else if (params && typeof params.value !== 'undefined') {\n                newTopBarState = !!params.value;\n            } else {\n                newTopBarState = !showTopBar;\n            }\n            setShowTopBar(newTopBarState);\n            // Also hide metrics when hiding the top bar\n            if (!newTopBarState) {\n                setShowMetrics(false);\n            }\n            setOutputText(\"TopBar \".concat(newTopBarState ? 'shown' : 'hidden').concat(!newTopBarState ? ', Metrics hidden' : ''));\n            // Adjust canvas dimensions after toggling\n            setTimeout(adjustCanvasDimensions, 100);\n            return;\n        }\n        const canvas = getMainCanvas();\n        setShowWarning(false);\n        // Clear any existing warnings\n        const safeParams = params || {};\n        // Use safeParams instead of controlValues\n        const randomTimes = safeParams.randomTimes || 1;\n        const delaySeconds = safeParams.delaySeconds || 3;\n        switch(actionType){\n            case 'preview':\n                // Toggle camera state\n                if (showCamera) {\n                    toggleCamera(false);\n                } else if (cameraPermissionGranted) {\n                    toggleCamera(true);\n                } else {\n                    // Otherwise show permission popup\n                    setShowPermissionPopup(true);\n                    setOutputText('Opening camera preview');\n                    setShowCameraPlaceholder(true);\n                }\n                break;\n            case 'setRandom':\n                setOutputText('Starting random sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                // Use the imported module approach - similar to calibrate\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetRandom) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for Set Random');\n                    actionButtonGroupRef.current.handleSetRandom();\n                } else if ( true && window.actionButtonFunctions && typeof window.actionButtonFunctions.handleSetRandom === 'function') {\n                    // Fallback to global method\n                    console.log('Using global bridge method for Set Random');\n                    window.actionButtonFunctions.handleSetRandom();\n                } else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random sequence\");\n                        setOutputText(\"Error: Canvas not available for random sequence\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Get control values from the TopBar\n                    const timeInput = document.querySelector('.control-input-field');\n                    const delayInput = document.querySelectorAll('.control-input-field')[1];\n                    // Default values if inputs can't be found\n                    let times = 1;\n                    let delay = 3;\n                    // Parse input values if available\n                    if (timeInput) {\n                        const parsedTime = parseInt(timeInput.value, 10);\n                        if (!isNaN(parsedTime) && parsedTime > 0) {\n                            times = parsedTime;\n                        }\n                    }\n                    if (delayInput) {\n                        const parsedDelay = parseInt(delayInput.value, 10);\n                        if (!isNaN(parsedDelay) && parsedDelay > 0) {\n                            delay = parsedDelay;\n                        }\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/Action/countSave */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/Action/countSave.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/Helper/savefile */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/Helper/savefile.js\"))\n                    ]).then(async (param)=>{\n                        let [countSaveModule, savefileModule] = param;\n                        // Destructure the imported modules\n                        const { getRandomPosition, drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Process all captures sequentially\n                            let successCount = 0;\n                            let currentCapture = 1;\n                            while(currentCapture <= times){\n                                // Update status for current capture\n                                setOutputText(\"Capture \".concat(currentCapture, \" of \").concat(times));\n                                // Clear canvas before each capture\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Generate random position for this capture\n                                const position = getRandomPosition(canvas, 20);\n                                // Draw the dot\n                                drawRedDot(ctx, position.x, position.y);\n                                // Create a redrawInterval to ensure dot stays visible\n                                let redrawInterval = setInterval(()=>{\n                                    drawRedDot(ctx, position.x, position.y, 12, false);\n                                }, 200);\n                                // Run countdown and wait for it to complete\n                                await new Promise((resolve)=>{\n                                    runCountdown(position, canvas, (status)=>{\n                                        // Update UI based on status\n                                        if (status.processStatus) {\n                                            setOutputText(\"Capture \".concat(currentCapture, \"/\").concat(times, \": \").concat(status.processStatus));\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Clear redrawInterval after countdown\n                                clearInterval(redrawInterval);\n                                // Wait briefly after countdown\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: position,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(\"Error capturing point \".concat(currentCapture, \":\"), error);\n                                }\n                                // Wait between captures for the specified delay time\n                                if (currentCapture < times) {\n                                    setOutputText(\"Waiting \".concat(delay, \"s before next capture...\"));\n                                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                                }\n                                // Move to next capture\n                                currentCapture++;\n                            }\n                            // Sequence complete\n                            setOutputText(\"Random capture sequence completed: \".concat(successCount, \"/\").concat(times, \" captures successful\"));\n                        } catch (error) {\n                            console.error(\"Random sequence error:\", error);\n                            setOutputText(\"Random sequence error: \".concat(error.message));\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(\"Error: \".concat(error.message));\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'randomDot':\n                setOutputText('Random dot action triggered');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                console.log('Attempting to access Random Dot functionality');\n                // Use the random dot functionality from actionButton.js by delegating to ActionButtonGroup\n                // This assumes you have a ref to the ActionButtonGroup component\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleRandomDot) {\n                    console.log('Using ref method');\n                    actionButtonGroupRef.current.handleRandomDot();\n                } else if ( true && window.actionButtonFunctions && typeof window.actionButtonFunctions.handleRandomDot === 'function') {\n                    console.log('Using global bridge method');\n                    window.actionButtonFunctions.handleRandomDot();\n                } else {\n                    // Fallback implementation\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for random dot action\");\n                        setOutputText(\"Error: Canvas not available for random dot\");\n                        setShowTopBar(true); // Show TopBar again if there's an error\n                        break;\n                    }\n                    const parent = previewAreaRef.current;\n                    if (!parent) {\n                        console.error(\"Parent not found for canvas\");\n                        setOutputText(\"Error: Canvas parent not available\");\n                        setShowTopBar(true);\n                        break;\n                    }\n                    // Initialize canvas explicitly\n                    canvas.width = parent.clientWidth || 800;\n                    canvas.height = parent.clientHeight || 600;\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    console.log(\"Canvas ready for random dot: \".concat(canvas.width, \"x\").concat(canvas.height));\n                    // Update global reference\n                    window.whiteScreenCanvas = canvas;\n                    // Generate random position\n                    const position = (0,_components_gui_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.getRandomPosition)(canvas, 20);\n                    // Draw the dot using the imported function\n                    const dot = (0,_components_gui_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.drawRedDot)(ctx, position.x, position.y, 8, false);\n                    console.log(\"Random dot drawn at: \".concat(position.x, \", \").concat(position.y));\n                    // Start a countdown for capture\n                    (0,_components_gui_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.runCountdown)(position, canvas, (status)=>{\n                        // Update UI based on status\n                        if (status.processStatus) {\n                            setOutputText(status.processStatus);\n                        }\n                    }, ()=>{\n                        // Enable camera before capture\n                        // triggerCameraAccess(true);\n                        // Wait briefly for camera to initialize\n                        setTimeout(()=>{\n                            // Use the directly imported captureImagesAtPoint from the Helper/savefile.js\n                            Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/Helper/savefile */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/Helper/savefile.js\")).then((param)=>{\n                                let { captureImagesAtPoint } = param;\n                                captureImagesAtPoint({\n                                    point: position,\n                                    captureCount: captureCounter,\n                                    canvasRef: {\n                                        current: canvas\n                                    },\n                                    setCaptureCount: setCaptureCounter,\n                                    showCapturePreview: _components_gui_Action_countSave__WEBPACK_IMPORTED_MODULE_7__.showCapturePreview\n                                }).then(()=>{\n                                    setCaptureCounter((prev)=>prev + 1);\n                                    // Show TopBar again after capture\n                                    setTimeout(()=>{\n                                        setShowTopBar(true);\n                                    }, 2200);\n                                }).catch((err)=>{\n                                    console.error(\"Error capturing images:\", err);\n                                    setOutputText(\"Error: \".concat(err.message));\n                                    setShowTopBar(true);\n                                });\n                            }).catch((err)=>{\n                                console.error(\"Error importing savefile module:\", err);\n                                setOutputText(\"Error: \".concat(err.message));\n                                setShowTopBar(true);\n                            });\n                        }, 500);\n                    });\n                }\n                break;\n            case 'headPose':\n                const newHeadPoseState = !showHeadPose;\n                setShowHeadPose(newHeadPoseState);\n                setOutputText(\"Head pose visualization \".concat(newHeadPoseState ? 'enabled' : 'disabled'));\n                if (newHeadPoseState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newHeadPoseState && !showBoundingBox && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showHeadPose: newHeadPoseState\n                    });\n                }\n                break;\n            case 'boundingBox':\n                const newBoundingBoxState = !showBoundingBox;\n                setShowBoundingBox(newBoundingBoxState);\n                setOutputText(\"Bounding box \".concat(newBoundingBoxState ? 'shown' : 'hidden'));\n                if (newBoundingBoxState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newBoundingBoxState && !showHeadPose && !showMask && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showBoundingBox: newBoundingBoxState\n                    });\n                }\n                break;\n            case 'mask':\n                const newMaskState = !showMask;\n                setShowMask(newMaskState);\n                setOutputText(\"Mask \".concat(newMaskState ? 'shown' : 'hidden'));\n                if (newMaskState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newMaskState && !showHeadPose && !showBoundingBox && !showParameters) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showMask: newMaskState\n                    });\n                }\n                break;\n            case 'parameters':\n                const newParametersState = !showParameters;\n                setShowParameters(newParametersState);\n                setOutputText(\"Parameters \".concat(newParametersState ? 'shown' : 'hidden'));\n                if (newParametersState && !showCamera) {\n                    setShowCameraPlaceholder(true);\n                } else if (!newParametersState && !showHeadPose && !showBoundingBox && !showMask) {\n                    setShowCameraPlaceholder(false);\n                }\n                // Update processor options if camera is active\n                if (showCamera && window.videoProcessor) {\n                    window.videoProcessor.updateOptions({\n                        ...window.videoProcessor.options,\n                        showParameters: newParametersState\n                    });\n                }\n                break;\n            // Fixed calibrate case handler in index.js\n            case 'calibrate':\n                setOutputText('Starting calibration sequence...');\n                setShowTopBar(false);\n                if (showCamera) {\n                    toggleCamera(false);\n                }\n                if (actionButtonGroupRef.current && actionButtonGroupRef.current.handleSetCalibrate) {\n                    // Use the reference method if available\n                    console.log('Using ActionButtonGroup ref method for calibration');\n                    actionButtonGroupRef.current.handleSetCalibrate();\n                } else if ( true && window.actionButtonFunctions && typeof window.actionButtonFunctions.handleSetCalibrate === 'function') {\n                    // Fallback to global method\n                    console.log('Using global bridge method for calibration');\n                    window.actionButtonFunctions.handleSetCalibrate();\n                } else {\n                    // Make sure we have a canvas to work with\n                    const canvas = getMainCanvas();\n                    if (!canvas) {\n                        console.error(\"Canvas not found for calibration\");\n                        setOutputText(\"Error: Canvas not available for calibration\");\n                        setShowTopBar(true);\n                        return;\n                    }\n                    // Load all required modules first, then proceed with execution\n                    Promise.all([\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/Action/CalibratePoints */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/Action/CalibratePoints.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/Action/countSave */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/Action/countSave.js\")),\n                        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./components-gui/Helper/savefile */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/Helper/savefile.js\"))\n                    ]).then(async (param)=>{\n                        let [calibratePointsModule, countSaveModule, savefileModule] = param;\n                        // Destructure the imported modules\n                        const { generateCalibrationPoints } = calibratePointsModule;\n                        const { drawRedDot, runCountdown, showCapturePreview } = countSaveModule;\n                        const { captureImagesAtPoint } = savefileModule;\n                        try {\n                            // Generate calibration points\n                            const points = generateCalibrationPoints(canvas.width, canvas.height);\n                            if (!points || points.length === 0) {\n                                throw new Error(\"Failed to generate calibration points\");\n                            }\n                            // Create status indicator\n                            const statusIndicator = document.createElement('div');\n                            statusIndicator.className = 'calibrate-status-indicator';\n                            statusIndicator.style.cssText = \"\\n                position: fixed;\\n                top: 10px;\\n                right: 10px;\\n                background-color: rgba(0, 102, 204, 0.9);\\n                color: white;\\n                font-size: 14px;\\n                font-weight: bold;\\n                padding: '8px 12px';\\n                border-radius: 6px;\\n                z-index: 9999;\\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\\n              \";\n                            statusIndicator.textContent = 'Calibration: Initializing...';\n                            document.body.appendChild(statusIndicator);\n                            // Access webcam before starting calibration if available\n                            if (typeof triggerCameraAccess === 'function') {\n                                triggerCameraAccess(true);\n                                await new Promise((resolve)=>setTimeout(resolve, 500));\n                            }\n                            // Process points sequentially\n                            let successCount = 0;\n                            for(let i = 0; i < points.length; i++){\n                                const point = points[i];\n                                statusIndicator.textContent = \"Calibration: Point \".concat(i + 1, \"/\").concat(points.length);\n                                setOutputText(\"Processing calibration point \".concat(i + 1, \"/\").concat(points.length));\n                                // Clear the canvas before drawing new point\n                                const ctx = canvas.getContext('2d');\n                                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                                ctx.fillStyle = 'white';\n                                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                // Draw the dot\n                                drawRedDot(ctx, point.x, point.y);\n                                // Run countdown\n                                await new Promise((resolve)=>{\n                                    runCountdown(point, canvas, (status)=>{\n                                        if (status.processStatus) {\n                                            setOutputText(status.processStatus);\n                                        }\n                                    }, resolve // This will be called when countdown completes\n                                    );\n                                });\n                                // Capture images at this point\n                                try {\n                                    const captureResult = await captureImagesAtPoint({\n                                        point: point,\n                                        captureCount: captureCounter,\n                                        canvasRef: {\n                                            current: canvas\n                                        },\n                                        setCaptureCount: setCaptureCounter,\n                                        showCapturePreview: showCapturePreview\n                                    });\n                                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                                        successCount++;\n                                    }\n                                    // Increment counter\n                                    setCaptureCounter((prev)=>prev + 1);\n                                } catch (error) {\n                                    console.error(\"Error capturing point \".concat(i + 1, \":\"), error);\n                                }\n                                // Wait between points\n                                await new Promise((resolve)=>setTimeout(resolve, 1200));\n                            }\n                            // Calibration complete\n                            statusIndicator.textContent = \"Calibration complete: \".concat(successCount, \"/\").concat(points.length, \" points\");\n                            setOutputText(\"Calibration completed: \".concat(successCount, \"/\").concat(points.length, \" points captured\"));\n                            // Remove the status indicator after a delay\n                            setTimeout(()=>{\n                                if (statusIndicator.parentNode) {\n                                    statusIndicator.parentNode.removeChild(statusIndicator);\n                                }\n                            }, 3000);\n                        } catch (error) {\n                            console.error(\"Calibration error:\", error);\n                            setOutputText(\"Calibration error: \".concat(error.message));\n                        } finally{\n                            // Show TopBar again\n                            setTimeout(()=>setShowTopBar(true), 2000);\n                        }\n                    }).catch((error)=>{\n                        console.error(\"Failed to import required modules:\", error);\n                        setOutputText(\"Calibration error: \".concat(error.message));\n                        setShowTopBar(true);\n                    });\n                }\n                break;\n            case 'clearAll':\n                // Clear canvas\n                // const canvas = getMainCanvas();\n                if (canvas) {\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                    setOutputText('Canvas cleared');\n                }\n                break;\n            default:\n                setOutputText(\"Action triggered: \".concat(actionType));\n        }\n    };\n    const handlePermissionAccepted = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setCameraPermissionGranted(true);\n        toggleCamera(true);\n    };\n    const handlePermissionDenied = ()=>{\n        if (!isClient || !isHydrated) return;\n        setShowPermissionPopup(false);\n        setShowCameraPlaceholder(false);\n        setOutputText('Camera permission denied');\n    };\n    const handleCameraClose = ()=>{\n        if (!isClient || !isHydrated) return;\n        toggleCamera(false);\n    };\n    const handleCameraReady = (dimensions)=>{\n        if (!isClient || !isHydrated) return;\n        setMetrics({\n            width: dimensions.width,\n            height: dimensions.height,\n            distance: dimensions.distance || '---'\n        });\n        setOutputText(\"Camera ready: \".concat(dimensions.width, \"x\").concat(dimensions.height));\n    };\n    // Toggle top bar function\n    const toggleTopBar = (show)=>{\n        const newTopBarState = show !== undefined ? show : !showTopBar;\n        setShowTopBar(newTopBarState);\n        // Also hide metrics when hiding the top bar\n        if (!newTopBarState) {\n            setShowMetrics(false);\n        }\n        setOutputText(\"TopBar \".concat(newTopBarState ? 'shown' : 'hidden').concat(!newTopBarState ? ', Metrics hidden' : ''));\n        // Wait for state update and DOM changes, then adjust canvas\n        setTimeout(adjustCanvasDimensions, 100);\n    };\n    // Toggle metrics function\n    const toggleMetrics = ()=>{\n        if (showTopBar) {\n            setShowMetrics((prev)=>!prev);\n            setOutputText(\"Metrics \".concat(!showMetrics ? 'shown' : 'hidden'));\n        } else {\n            // If topBar is hidden, we can't show metrics\n            setOutputText('Cannot show metrics when TopBar is hidden');\n        }\n    };\n    // Function to trigger camera access\n    const triggerCameraAccess = (forceEnable)=>{\n        if (forceEnable) {\n            // Try to enable camera directly\n            if (window.videoProcessor) {\n                setShowCamera(true);\n                setShowCameraPlaceholder(false);\n                setCameraPermissionGranted(true);\n                // Start video processing with current options\n                window.videoProcessor.startVideoProcessing({\n                    showHeadPose,\n                    showBoundingBox,\n                    showMask,\n                    showParameters,\n                    showProcessedImage: true\n                });\n                return true;\n            }\n            return false;\n        }\n        // Just toggle current state if not forcing\n        if (cameraPermissionGranted) {\n            toggleCamera(!showCamera);\n            return true;\n        } else {\n            setShowPermissionPopup(true);\n            return false;\n        }\n    };\n    // Dynamic class to reflect current window size\n    const getSizeClass = ()=>{\n        const { percentage } = windowSize;\n        if (percentage < 35) return 'window-size-tiny';\n        if (percentage < 50) return 'window-size-small';\n        if (percentage < 70) return 'window-size-medium';\n        return 'window-size-large';\n    };\n    // Add this function to handle settings visibility\n    const handleSettingsVisibility = (isVisible)=>{\n        setShowSettings(isVisible);\n    };\n    // Add this effect to listen for settings visibility changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsMessage = {\n                \"CollectedDatasetPage.useEffect.handleSettingsMessage\": (event)=>{\n                    if (event.data.type === 'SHOW_SETTINGS') {\n                        setShowSettings(event.data.show);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsMessage\"];\n            window.addEventListener('message', handleSettingsMessage);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('message', handleSettingsMessage);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Listen for user ID changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"CollectedDatasetPage.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.type === 'userIdChange') {\n                        setCurrentUserId(event.detail.userId);\n                        // Dispatch event to update settings for the new user\n                        const event = new CustomEvent('captureSettingsUpdate', {\n                            detail: {\n                                type: 'captureSettings',\n                                userId: event.detail.userId\n                            }\n                        });\n                        window.dispatchEvent(event);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('userIdChange', handleUserIdChange);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], []);\n    // Initialize settings when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            if (userId) {\n                // Set the current user ID\n                setCurrentUserId(userId);\n                // Dispatch event to update settings for this user\n                const event = new CustomEvent('captureSettingsUpdate', {\n                    detail: {\n                        type: 'captureSettings',\n                        userId: userId\n                    }\n                });\n                window.dispatchEvent(event);\n            }\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    // Listen for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        if (userId === currentUserId) {\n                            // Update the settings for this user\n                            if (actionButtonGroupRef.current) {\n                                actionButtonGroupRef.current.setCaptureSettings({\n                                    times: times || 1,\n                                    delay: delay || 3\n                                });\n                            }\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        currentUserId\n    ]);\n    // Load settings from backend when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const loadSettings = {\n                \"CollectedDatasetPage.useEffect.loadSettings\": async ()=>{\n                    if (!userId) return;\n                    try {\n                        const response = await fetch(\"/api/admin/load-settings?userId=\".concat(userId));\n                        if (!response.ok) {\n                            throw new Error('Failed to load settings');\n                        }\n                        const loadedSettings = await response.json();\n                        // Wait for the component to be mounted and ref to be initialized\n                        const waitForRef = {\n                            \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": function() {\n                                let retries = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 5;\n                                if (actionButtonGroupRef.current && typeof actionButtonGroupRef.current.setCaptureSettings === 'function') {\n                                    // Update the settings for this user\n                                    actionButtonGroupRef.current.setCaptureSettings(loadedSettings);\n                                    // Dispatch event to update UI\n                                    const event = new CustomEvent('captureSettingsUpdate', {\n                                        detail: {\n                                            type: 'captureSettings',\n                                            userId: userId,\n                                            times: loadedSettings.times,\n                                            delay: loadedSettings.delay\n                                        }\n                                    });\n                                    window.dispatchEvent(event);\n                                    // Also update the TopBar directly\n                                    const timeInput = document.querySelector('.control-input-field');\n                                    const delayInput = document.querySelectorAll('.control-input-field')[1];\n                                    if (timeInput) {\n                                        timeInput.textContent = loadedSettings.times;\n                                    }\n                                    if (delayInput) {\n                                        delayInput.textContent = loadedSettings.delay;\n                                    }\n                                } else if (retries > 0) {\n                                    setTimeout({\n                                        \"CollectedDatasetPage.useEffect.loadSettings.waitForRef\": ()=>waitForRef(retries - 1)\n                                    }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"], 500);\n                                } else {\n                                    console.warn('ActionButtonGroup ref not initialized after retries');\n                                }\n                            }\n                        }[\"CollectedDatasetPage.useEffect.loadSettings.waitForRef\"];\n                        waitForRef();\n                    } catch (error) {\n                        console.error('Error loading settings:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.loadSettings\"];\n            // Add a small delay to ensure components are mounted\n            setTimeout(loadSettings, 1000);\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    // Add polling for real-time updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const fetchUpdates = {\n                \"CollectedDatasetPage.useEffect.fetchUpdates\": async ()=>{\n                    if (!userId) return;\n                    try {\n                        const response = await fetch(\"/api/admin/load-settings?userId=\".concat(userId));\n                        if (!response.ok) throw new Error('Failed to fetch settings');\n                        const settings = await response.json();\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings(settings);\n                        }\n                    // You can add image fetching logic here if needed\n                    } catch (error) {\n                        console.error('Error fetching updates:', error);\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.fetchUpdates\"];\n            // Initial fetch\n            fetchUpdates();\n            // Set up polling interval\n            const interval = setInterval(fetchUpdates, 3000);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    clearInterval(interval);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    // Add event listeners for settings and image updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CollectedDatasetPage.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"CollectedDatasetPage.useEffect.handleSettingsUpdate\": (event)=>{\n                    var _event_detail, _event_detail1;\n                    if (((_event_detail = event.detail) === null || _event_detail === void 0 ? void 0 : _event_detail.type) === 'captureSettings' && ((_event_detail1 = event.detail) === null || _event_detail1 === void 0 ? void 0 : _event_detail1.userId) === userId) {\n                        const { times, delay } = event.detail;\n                        if (actionButtonGroupRef.current && actionButtonGroupRef.current.updateSettings) {\n                            actionButtonGroupRef.current.updateSettings({\n                                times,\n                                delay\n                            });\n                        }\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleSettingsUpdate\"];\n            const handleImageUpdate = {\n                \"CollectedDatasetPage.useEffect.handleImageUpdate\": (event)=>{\n                    var _event_detail, _event_detail1;\n                    if (((_event_detail = event.detail) === null || _event_detail === void 0 ? void 0 : _event_detail.type) === 'image' && ((_event_detail1 = event.detail) === null || _event_detail1 === void 0 ? void 0 : _event_detail1.userId) === userId) {\n                        const { image } = event.detail;\n                    // Update image in the UI if needed\n                    // You can add your image update logic here\n                    }\n                }\n            }[\"CollectedDatasetPage.useEffect.handleImageUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            window.addEventListener('imageUpdate', handleImageUpdate);\n            return ({\n                \"CollectedDatasetPage.useEffect\": ()=>{\n                    window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                    window.removeEventListener('imageUpdate', handleImageUpdate);\n                }\n            })[\"CollectedDatasetPage.useEffect\"];\n        }\n    }[\"CollectedDatasetPage.useEffect\"], [\n        userId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"main-container \".concat(getSizeClass()),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Camera Dataset Collection\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1363,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1364,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1362,\n                columnNumber: 7\n            }, this),\n            isHydrated && isClient && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(VideoProcessorComponent, {}, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1368,\n                columnNumber: 34\n            }, this),\n            isHydrated && backendStatus === 'disconnected' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    padding: '6px 0',\n                    backgroundColor: '#ffe0b2',\n                    color: '#e65100',\n                    textAlign: 'center',\n                    fontSize: '14px',\n                    fontWeight: 'bold',\n                    zIndex: 1100\n                },\n                children: \"⚠️ Backend disconnected. Hurry up, Make ONLINE please and Using mock mode\"\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1372,\n                columnNumber: 9\n            }, this),\n            showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_topBar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                onButtonClick: handleActionButtonClick,\n                onCameraAccess: ()=>setShowPermissionPopup(true),\n                outputText: statusMessage || outputText,\n                onOutputChange: (text)=>setOutputText(text),\n                onToggleTopBar: toggleTopBar,\n                onToggleMetrics: toggleMetrics,\n                canvasRef: canvasRef\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1391,\n                columnNumber: 9\n            }, this),\n            !showTopBar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"restore-button-container\",\n                style: {\n                    position: 'fixed',\n                    top: '10px',\n                    right: '10px',\n                    zIndex: 1000\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"restore-btn\",\n                    onClick: ()=>toggleTopBar(true),\n                    title: \"Show TopBar and Metrics\",\n                    style: {\n                        padding: '5px 10px',\n                        background: '#0066cc',\n                        color: 'white',\n                        border: 'none',\n                        borderRadius: '4px',\n                        fontSize: '16px',\n                        cursor: 'pointer'\n                    },\n                    children: \"≡\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1410,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1404,\n                columnNumber: 9\n            }, this),\n            isHydrated && showWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"warning-banner\",\n                style: {\n                    position: 'fixed',\n                    top: showTopBar ? backendStatus === 'disconnected' ? '32px' : '60px' : '0',\n                    left: '0',\n                    width: '100%',\n                    backgroundColor: '#ffeb3b',\n                    color: '#333',\n                    padding: '10px',\n                    textAlign: 'center',\n                    boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n                    zIndex: 1010,\n                    animation: 'fadeIn 0.3s ease-in-out'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                    children: [\n                        \"⚠️ \",\n                        warningMessage\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                    lineNumber: 1444,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1431,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: previewAreaRef,\n                className: \"camera-preview-area\",\n                style: {\n                    height: showTopBar ? 'calc(100vh - 120px)' : '100vh',\n                    marginTop: backendStatus === 'disconnected' ? '32px' : '0',\n                    position: 'relative',\n                    backgroundColor: '#f5f5f5',\n                    overflow: 'hidden'\n                },\n                children: [\n                    !showCamera ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"camera-preview-message\",\n                                style: {\n                                    padding: '20px',\n                                    textAlign: 'center',\n                                    position: showTopBar ? 'relative' : 'absolute',\n                                    width: '100%',\n                                    zIndex: 5\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: \"Camera preview will appear here\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1469,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"camera-size-indicator\",\n                                        children: [\n                                            \"Current window: \",\n                                            windowSize.percentage,\n                                            \"% of screen width\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1470,\n                                        columnNumber: 15\n                                    }, this),\n                                    isHydrated && showCameraPlaceholder && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"camera-placeholder-square\",\n                                        style: {\n                                            width: '180px',\n                                            height: '135px',\n                                            margin: '20px auto',\n                                            border: '2px dashed #666',\n                                            borderRadius: '4px',\n                                            backgroundColor: '#f5f5f5',\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center'\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                fontSize: '1.5rem'\n                                            },\n                                            children: \"\\uD83D\\uDCF7\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1488,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1474,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"camera-action-buttons-container\",\n                                        style: {\n                                            marginTop: '30px',\n                                            maxWidth: '600px',\n                                            margin: '30px auto'\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_actionButton__WEBPACK_IMPORTED_MODULE_6__.ActionButtonGroup, {\n                                            ref: actionButtonGroupRef,\n                                            triggerCameraAccess: triggerCameraAccess,\n                                            isCompactMode: windowSize.width < 768,\n                                            onActionClick: handleActionButtonClick,\n                                            showHeadPose: showHeadPose,\n                                            showBoundingBox: showBoundingBox,\n                                            showMask: showMask,\n                                            showParameters: showParameters\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1498,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                        lineNumber: 1493,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1462,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"canvas-container\",\n                                style: {\n                                    position: 'absolute',\n                                    top: 0,\n                                    left: 0,\n                                    width: '100%',\n                                    height: '100%',\n                                    backgroundColor: 'white',\n                                    overflow: 'hidden',\n                                    border: 'none',\n                                    zIndex: 10\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                    ref: canvasRef,\n                                    className: \"tracking-canvas\",\n                                    style: {\n                                        width: '100%',\n                                        height: '100%',\n                                        display: 'block'\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1526,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                lineNumber: 1512,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true) : null,\n                    isHydrated && showMetrics && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_gui_displayResponse__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        width: metrics.width,\n                        height: metrics.height,\n                        distance: metrics.distance,\n                        isVisible: showMetrics\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1541,\n                        columnNumber: 11\n                    }, this),\n                    isHydrated && isClient && showCamera && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DynamicCameraAccess, {\n                        isShowing: showCamera,\n                        onClose: handleCameraClose,\n                        onCameraReady: handleCameraReady,\n                        showHeadPose: showHeadPose,\n                        showBoundingBox: showBoundingBox,\n                        showMask: showMask,\n                        showParameters: showParameters,\n                        videoRef: videoRef\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1551,\n                        columnNumber: 11\n                    }, this),\n                    isHydrated && isClient && showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"camera-permission-popup\",\n                        style: {\n                            position: 'fixed',\n                            top: 0,\n                            left: 0,\n                            width: '100%',\n                            height: '100%',\n                            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                            display: 'flex',\n                            justifyContent: 'center',\n                            alignItems: 'center',\n                            zIndex: 2000\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"camera-permission-dialog\",\n                            style: {\n                                width: '400px',\n                                backgroundColor: 'white',\n                                borderRadius: '8px',\n                                padding: '20px',\n                                boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"camera-permission-title\",\n                                    style: {\n                                        margin: '0 0 15px',\n                                        fontSize: '18px',\n                                        fontWeight: 'bold'\n                                    },\n                                    children: \"Camera Access Required\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1584,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"camera-permission-message\",\n                                    style: {\n                                        margin: '0 0 20px',\n                                        fontSize: '14px',\n                                        lineHeight: '1.4'\n                                    },\n                                    children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1589,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"camera-permission-buttons\",\n                                    style: {\n                                        display: 'flex',\n                                        justifyContent: 'flex-end',\n                                        gap: '10px'\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handlePermissionDenied,\n                                            className: \"camera-btn\",\n                                            style: {\n                                                padding: '8px 16px',\n                                                backgroundColor: '#f0f0f0',\n                                                border: 'none',\n                                                borderRadius: '4px',\n                                                cursor: 'pointer'\n                                            },\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1602,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handlePermissionAccepted,\n                                            className: \"camera-btn\",\n                                            style: {\n                                                padding: '8px 16px',\n                                                backgroundColor: '#0066cc',\n                                                color: 'white',\n                                                border: 'none',\n                                                borderRadius: '4px',\n                                                cursor: 'pointer'\n                                            },\n                                            children: \"Continue\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                            lineNumber: 1615,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                                    lineNumber: 1597,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                            lineNumber: 1577,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                        lineNumber: 1565,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n                lineNumber: 1449,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset-customized/index.js\",\n        lineNumber: 1361,\n        columnNumber: 5\n    }, this);\n}\n_s(CollectedDatasetPage, \"0lslyzl8KHSVW6VsvcKNgAC42N8=\", false, function() {\n    return [\n        _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_8__.useConsent\n    ];\n});\n_c2 = CollectedDatasetPage;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"VideoProcessorComponent\");\n$RefreshReg$(_c1, \"DynamicCameraAccess\");\n$RefreshReg$(_c2, \"CollectedDatasetPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxREFBcUQ7OztBQUNNO0FBQzlCO0FBQ007QUFDVTtBQUNrQjtBQUNHO0FBQ3dFO0FBQ3JFO0FBRXJFLHlFQUF5RTtBQUN6RSxNQUFNZSwwQkFBMEJWLG1EQUFPQSxDQUNyQyxJQUFNLGtWQUFrRDs7Ozs7O0lBQ3REVyxLQUFLOztLQUZIRDtBQUtOLDREQUE0RDtBQUM1RCxNQUFNRSxzQkFBc0JaLG1EQUFPQSxDQUNqQyxJQUFNLGlUQUF1Qzs7Ozs7O0lBRTNDVyxLQUFLO0lBQ0xFLFNBQVMsa0JBQ1AsOERBQUNDO1lBQUlDLE9BQU87Z0JBQ1ZDLFVBQVU7Z0JBQ1ZDLEtBQUs7Z0JBQ0xDLE1BQU07Z0JBQ05DLFdBQVc7Z0JBQ1hDLE9BQU87Z0JBQ1BDLFFBQVE7Z0JBQ1JDLGlCQUFpQjtnQkFDakJDLFFBQVE7Z0JBQ1JDLGNBQWM7Z0JBQ2RDLFNBQVM7Z0JBQ1RDLGVBQWU7Z0JBQ2ZDLGdCQUFnQjtnQkFDaEJDLFlBQVk7Z0JBQ1pDLFdBQVc7Z0JBQ1hDLFFBQVE7WUFDVjs7OEJBQ0UsOERBQUNoQjtvQkFBSUMsT0FBTzt3QkFBRWdCLFVBQVU7d0JBQVFDLGNBQWM7b0JBQU87OEJBQUc7Ozs7Ozs4QkFDeEQsOERBQUNDO29CQUFFbEIsT0FBTzt3QkFBRWdCLFVBQVU7d0JBQVFHLFlBQVk7d0JBQVFDLE9BQU87b0JBQVU7OEJBQUc7Ozs7Ozs7Ozs7Ozs7TUF2QnhFdkI7QUErQlMsU0FBU3dCOztJQUN0QixnQ0FBZ0M7SUFDaEMsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUcxQywrQ0FBUUEsQ0FBQztJQUU3Qyw4QkFBOEI7SUFDOUIsTUFBTSxDQUFDMkMsWUFBWUMsY0FBYyxHQUFHNUMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDNkMscUJBQXFCQyx1QkFBdUIsR0FBRzlDLCtD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QkFDVEUsZ0JBQWdCOzRCQUNoQkMsWUFBWTs0QkFDWkUsUUFBUTt3QkFDVjtrQ0FDRSw0RUFBQ2hCOzRCQUFJaU4sV0FBVTs0QkFBMkJoTixPQUFPO2dDQUMvQ0ssT0FBTztnQ0FDUEUsaUJBQWlCO2dDQUNqQkUsY0FBYztnQ0FDZHdPLFNBQVM7Z0NBQ1RZLFdBQVc7NEJBQ2I7OzhDQUNFLDhEQUFDYTtvQ0FBRzFELFdBQVU7b0NBQTBCaE4sT0FBTzt3Q0FDN0NtUSxRQUFRO3dDQUNSblAsVUFBVTt3Q0FDVkcsWUFBWTtvQ0FDZDs4Q0FBRzs7Ozs7OzhDQUNILDhEQUFDRDtvQ0FBRThMLFdBQVU7b0NBQTRCaE4sT0FBTzt3Q0FDOUNtUSxRQUFRO3dDQUNSblAsVUFBVTt3Q0FDVjJQLFlBQVk7b0NBQ2Q7OENBQUc7Ozs7Ozs4Q0FJSCw4REFBQzVRO29DQUFJaU4sV0FBVTtvQ0FBNEJoTixPQUFPO3dDQUNoRFUsU0FBUzt3Q0FDVEUsZ0JBQWdCO3dDQUNoQmdRLEtBQUs7b0NBQ1A7O3NEQUNFLDhEQUFDbkI7NENBQ0NDLFNBQVNuQzs0Q0FDVFAsV0FBVTs0Q0FDVmhOLE9BQU87Z0RBQ0xpUCxTQUFTO2dEQUNUMU8saUJBQWlCO2dEQUNqQkMsUUFBUTtnREFDUkMsY0FBYztnREFDZG1QLFFBQVE7NENBQ1Y7c0RBQ0Q7Ozs7OztzREFHRCw4REFBQ0g7NENBQ0NDLFNBQVNwQzs0Q0FDVE4sV0FBVTs0Q0FDVmhOLE9BQU87Z0RBQ0xpUCxTQUFTO2dEQUNUMU8saUJBQWlCO2dEQUNqQmEsT0FBTztnREFDUFosUUFBUTtnREFDUkMsY0FBYztnREFDZG1QLFFBQVE7NENBQ1Y7c0RBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVWpCO0dBbmpEd0J2Tzs7UUEyREgzQiwwRUFBVUE7OztNQTNEUDJCIiwic291cmNlcyI6WyIvVXNlcnMvcG9yY2hwb3J0YWwyL0Rlc2t0b3Av8J+UpWV2ZXJ5dGhpbmcvTWFpbl9XZWJfRXllVHJhY2tpbmcvbWFpbi13ZWIvZnJvbnRlbmQvcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2RpZmllZCBpbmRleC5qcyAtIEZpeGluZyBjYW52YXMgcmVmZXJlbmNlIGlzc3Vlc1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IFRvcEJhciBmcm9tICcuL2NvbXBvbmVudHMtZ3VpL3RvcEJhcic7XG5pbXBvcnQgRGlzcGxheVJlc3BvbnNlIGZyb20gJy4vY29tcG9uZW50cy1ndWkvZGlzcGxheVJlc3BvbnNlJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkdyb3VwIH0gZnJvbSAnLi9jb21wb25lbnRzLWd1aS9hY3Rpb25CdXR0b24nO1xuaW1wb3J0IHsgc2hvd0NhcHR1cmVQcmV2aWV3LCBjYXB0dXJlSW1hZ2VzQXRQb2ludCwgZHJhd1JlZERvdCwgZ2V0UmFuZG9tUG9zaXRpb24sIHJ1bkNvdW50ZG93biB9IGZyb20gJy4vY29tcG9uZW50cy1ndWkvQWN0aW9uL2NvdW50U2F2ZSc7XG5pbXBvcnQgeyB1c2VDb25zZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb25zZW50L0NvbnNlbnRDb250ZXh0JztcblxuLy8gRHluYW1pY2FsbHkgbG9hZCB0aGUgdmlkZW8gcHJvY2Vzc29yIGNvbXBvbmVudCAobm90IHRoZSBob29rIGRpcmVjdGx5KVxuY29uc3QgVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQgPSBkeW5hbWljKFxuICAoKSA9PiBpbXBvcnQoJy4vY29tcG9uZW50cy1ndWkvVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQnKSxcbiAgeyBzc3I6IGZhbHNlIH1cbik7XG5cbi8vIER5bmFtaWNhbGx5IGltcG9ydCB0aGUgY2FtZXJhIGNvbXBvbmVudCB3aXRoIFNTUiBkaXNhYmxlZFxuY29uc3QgRHluYW1pY0NhbWVyYUFjY2VzcyA9IGR5bmFtaWMoXG4gICgpID0+IGltcG9ydCgnLi9jb21wb25lbnRzLWd1aS9jYW1lcmFBY2Nlc3MnKSxcbiAgeyBcbiAgICBzc3I6IGZhbHNlLFxuICAgIGxvYWRpbmc6ICgpID0+IChcbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICB3aWR0aDogJzQ4MHB4JyxcbiAgICAgICAgaGVpZ2h0OiAnMzYwcHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjBmOGZmJyxcbiAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICMwMDY2Y2MnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICB6SW5kZXg6IDk5OVxuICAgICAgfX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICc0OHB4JywgbWFyZ2luQm90dG9tOiAnMTVweCcgfX0+8J+TtzwvZGl2PlxuICAgICAgICA8cCBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnLCBmb250V2VpZ2h0OiAnYm9sZCcsIGNvbG9yOiAnIzAwNjZjYycgfX0+XG4gICAgICAgICAgTG9hZGluZyBjYW1lcmEuLi5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xsZWN0ZWREYXRhc2V0UGFnZSgpIHtcbiAgLy8gU3RhdGUgZm9yIGh5ZHJhdGlvbiBkZXRlY3Rpb25cbiAgY29uc3QgW2lzSHlkcmF0ZWQsIHNldElzSHlkcmF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGNhbWVyYSBtYW5hZ2VtZW50XG4gIGNvbnN0IFtzaG93Q2FtZXJhLCBzZXRTaG93Q2FtZXJhXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQZXJtaXNzaW9uUG9wdXAsIHNldFNob3dQZXJtaXNzaW9uUG9wdXBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1RvcEJhciwgc2V0U2hvd1RvcEJhcl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dNZXRyaWNzLCBzZXRTaG93TWV0cmljc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW291dHB1dFRleHQsIHNldE91dHB1dFRleHRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbWV0cmljcywgc2V0TWV0cmljc10gPSB1c2VTdGF0ZSh7XG4gICAgd2lkdGg6ICctLS0nLFxuICAgIGhlaWdodDogJy0tLScsXG4gICAgZGlzdGFuY2U6ICctLS0nXG4gIH0pO1xuICBjb25zdCBbd2luZG93U2l6ZSwgc2V0V2luZG93U2l6ZV0gPSB1c2VTdGF0ZSh7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHBlcmNlbnRhZ2U6IDEwMFxuICB9KTtcbiAgXG4gIC8vIFJlZmVyZW5jZXMgYW5kIG90aGVyIHN0YXRlXG4gIGNvbnN0IHByZXZpZXdBcmVhUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGNhcHR1cmUgdHJhY2tpbmdcbiAgY29uc3QgW2NhcHR1cmVDb3VudGVyLCBzZXRDYXB0dXJlQ291bnRlcl0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2NhcHR1cmVGb2xkZXIsIHNldENhcHR1cmVGb2xkZXJdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGNhbWVyYSBwcm9jZXNzaW5nIG9wdGlvbnNcbiAgY29uc3QgW3Nob3dIZWFkUG9zZSwgc2V0U2hvd0hlYWRQb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCb3VuZGluZ0JveCwgc2V0U2hvd0JvdW5kaW5nQm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNYXNrLCBzZXRTaG93TWFza10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UGFyYW1ldGVycywgc2V0U2hvd1BhcmFtZXRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gU3RhdGUgdG8gdHJhY2sgaWYgY2FtZXJhIHNxdWFyZSBzaG91bGQgYmUgc2hvd25cbiAgY29uc3QgW3Nob3dDYW1lcmFQbGFjZWhvbGRlciwgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRvIHN0b3JlIHRoZSBjYW1lcmEgcGVybWlzc2lvbiBzdGF0ZVxuICBjb25zdCBbY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQsIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFN0YXRlIGZvciB3YXJuaW5nIG1lc3NhZ2VcbiAgY29uc3QgW3Nob3dXYXJuaW5nLCBzZXRTaG93V2FybmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt3YXJuaW5nTWVzc2FnZSwgc2V0V2FybmluZ01lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgLy8gQmFja2VuZCBjb25uZWN0aW9uIHN0YXR1c1xuICBjb25zdCBbYmFja2VuZFN0YXR1cywgc2V0QmFja2VuZFN0YXR1c10gPSB1c2VTdGF0ZSgnY2hlY2tpbmcnKTtcblxuICBjb25zdCBhY3Rpb25CdXR0b25Hcm91cFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3N0YXR1c01lc3NhZ2UsIHNldFN0YXR1c01lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgLy8gU3RhdGUgZm9yIHNldHRpbmdzIHZpc2liaWxpdHlcbiAgY29uc3QgW3Nob3dTZXR0aW5ncywgc2V0U2hvd1NldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFN0YXRlIGZvciBjdXJyZW50IHVzZXIgSURcbiAgY29uc3QgW2N1cnJlbnRVc2VySWQsIHNldEN1cnJlbnRVc2VySWRdID0gdXNlU3RhdGUoJ2RlZmF1bHQnKTtcbiAgXG4gIC8vIEdldCB1c2VyIElEIGZyb20gY29uc2VudCBjb250ZXh0XG4gIGNvbnN0IHsgdXNlcklkIH0gPSB1c2VDb25zZW50KCk7XG4gIFxuICAvLyBIYW5kbGUgdXNlciBJRCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXJJZCAmJiB1c2VySWQgIT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyIElEIGNoYW5nZWQgaW4gaW5kZXguanM6JywgdXNlcklkKTtcbiAgICAgIHNldEN1cnJlbnRVc2VySWQodXNlcklkKTtcbiAgICAgIFxuICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gbm90aWZ5IG90aGVyIGNvbXBvbmVudHNcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCd1c2VySWRDaGFuZ2UnLCB7XG4gICAgICAgIGRldGFpbDogeyB1c2VySWQgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICBcbiAgICAgIC8vIExvYWQgc2V0dGluZ3MgZm9yIHRoZSBuZXcgdXNlclxuICAgICAgbG9hZFNldHRpbmdzKHVzZXJJZCk7XG4gICAgfVxuICB9LCBbdXNlcklkLCBjdXJyZW50VXNlcklkXSk7XG5cbiAgLy8gTG9hZCBzZXR0aW5ncyBmb3IgYSBzcGVjaWZpYyB1c2VyXG4gIGNvbnN0IGxvYWRTZXR0aW5ncyA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgc2V0dGluZ3MgZm9yIHVzZXI6JywgdXNlcklkKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHt1c2VySWR9YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzZXR0aW5ncycpO1xuICAgICAgXG4gICAgICBjb25zdCB1c2VyU2V0dGluZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBzZXR0aW5nczonLCB1c2VyU2V0dGluZ3MpO1xuICAgICAgXG4gICAgICAvLyBEaXNwYXRjaCBzZXR0aW5ncyB1cGRhdGUgZXZlbnRcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdjYXB0dXJlU2V0dGluZ3MnLFxuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAuLi51c2VyU2V0dGluZ3NcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyBMaXN0ZW4gZm9yIHNldHRpbmdzIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5ncycpIHtcbiAgICAgICAgY29uc3QgeyB1c2VySWQsIHRpbWVzLCBkZWxheSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgc2V0dGluZ3MgdXBkYXRlIGluIGluZGV4LmpzOicsIHsgdXNlcklkLCB0aW1lcywgZGVsYXkgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAodXNlcklkID09PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIGlmIG5lZWRlZFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyBzZXR0aW5ncyBmb3IgY3VycmVudCB1c2VyOicsIHVzZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICB9O1xuICB9LCBbY3VycmVudFVzZXJJZF0pO1xuXG4gIC8vIEltcHJvdmVkIGdldCBjYW52YXMgZnVuY3Rpb24gdGhhdCB0cmllcyBtdWx0aXBsZSBtZXRob2RzXG4gIGNvbnN0IGdldE1haW5DYW52YXMgPSAoKSA9PiB7XG4gICAgLy8gTWV0aG9kIDE6IENoZWNrIGlmIHdlIGhhdmUgYSBkaXJlY3QgcmVmZXJlbmNlXG4gICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIGRpcmVjdCBjYW52YXNSZWYuY3VycmVudCByZWZlcmVuY2VcIik7XG4gICAgICByZXR1cm4gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgfVxuICAgIFxuICAgIC8vIE1ldGhvZCAyOiBUcnkgdG8gZ2V0IGdsb2JhbCByZWZlcmVuY2VcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIGdsb2JhbCB3aGl0ZVNjcmVlbkNhbnZhcyByZWZlcmVuY2VcIik7XG4gICAgICBjYW52YXNSZWYuY3VycmVudCA9IHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhczsgLy8gVXBkYXRlIG91ciByZWZcbiAgICAgIHJldHVybiB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXM7XG4gICAgfVxuICAgIFxuICAgIC8vIE1ldGhvZCAzOiBUcnkgdG8gZmluZCB2aWEgRE9NXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJhY2tpbmctY2FudmFzJyk7XG4gICAgICBpZiAoY2FudmFzRWxlbWVudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZvdW5kIGNhbnZhcyB2aWEgRE9NIHNlbGVjdG9yXCIpO1xuICAgICAgICBjYW52YXNSZWYuY3VycmVudCA9IGNhbnZhc0VsZW1lbnQ7IC8vIFVwZGF0ZSBvdXIgcmVmXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhc0VsZW1lbnQ7IC8vIFVwZGF0ZSBnbG9iYWwgcmVmIHRvb1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYW52YXNFbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLndhcm4oXCJObyBjYW52YXMgZm91bmQgdmlhIGFueSBtZXRob2RcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIFxuICAvLyBDaGVjayBpZiB3ZSdyZSBvbiB0aGUgY2xpZW50IG9yIHNlcnZlclxuICBjb25zdCBpc0NsaWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICBcbiAgLy8gQWRkIGVmZmVjdCB0byBpbml0aWFsaXplIGNhbnZhcyBhbmQgbWFrZSBpdCBnbG9iYWxseSBhdmFpbGFibGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgLy8gRGVidWcgaW5mbyB0byB2ZXJpZnkgY2FudmFzIHNpemUgYW5kIGF2YWlsYWJpbGl0eVxuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmIChjYW52YXMpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiSW5kZXguanM6IENhbnZhcyBpbml0aWFsaXplZFwiLCB7XG4gICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIE1ha2UgY2FudmFzIEVYUExJQ0lUTFkgYXZhaWxhYmxlIGdsb2JhbGx5XG4gICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXM7XG4gICAgICBcbiAgICAgIC8vIEFsc28gc3RvcmUgY2FudmFzIGRpbWVuc2lvbnNcbiAgICAgIHdpbmRvdy5jYW52YXNEaW1lbnNpb25zID0ge1xuICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhbnZhcyByZWZlcmVuY2UgaXMgbm90IGF2YWlsYWJsZSBkdXJpbmcgaW5pdGlhbGl6YXRpb25cIik7XG4gICAgfVxuICAgIFxuICAgIC8vIEV4cG9zZSBjYW52YXMgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gZ2xvYmFsbHlcbiAgICB3aW5kb3cuaW5pdGlhbGl6ZUNhbnZhcyA9IChjYW52YXMsIHBhcmVudCkgPT4ge1xuICAgICAgaWYgKCFjYW52YXMgfHwgIXBhcmVudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tpbml0aWFsaXplQ2FudmFzXSBDYW52YXMgb3IgcGFyZW50IGlzIG51bGwnLCB7IGNhbnZhcywgcGFyZW50IH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFNldCBjYW52YXMgZGltZW5zaW9ucyB0byBtYXRjaCBwYXJlbnRcbiAgICAgICAgY2FudmFzLndpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQgfHwgNjAwO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYXIgY2FudmFzIGFuZCBzZXQgd2hpdGUgYmFja2dyb3VuZFxuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgQ2FudmFzIGluaXRpYWxpemVkIHdpdGggZGltZW5zaW9uczogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBnbG9iYWwgcmVmZXJlbmNlXG4gICAgICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgd2luZG93LmNhbnZhc0RpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2luaXRpYWxpemVDYW52YXNdIEVycm9yIGluaXRpYWxpemluZyBjYW52YXM6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBDaGVjayBjYW52YXMgdmlzaWJpbGl0eSBhbmQgZm9yY2UgaW5pdGlhbGl6YXRpb24gYWZ0ZXIgYSBicmllZiBkZWxheVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhbnZhcyBpbml0aWFsIHZpc2liaWxpdHkgY2hlY2s6XCIsIHtcbiAgICAgICAgICBkaW1lbnNpb25zOiBgJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gLFxuICAgICAgICAgIHJlY3RTaXplOiBgJHtyZWN0LndpZHRofXgke3JlY3QuaGVpZ2h0fWAsXG4gICAgICAgICAgaXNWaXNpYmxlOiAocmVjdC53aWR0aCA+IDAgJiYgcmVjdC5oZWlnaHQgPiAwKVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvcmNlIGluaXRpYWxpemF0aW9uIGlmIG5lZWRlZFxuICAgICAgICBhZGp1c3RDYW52YXNEaW1lbnNpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJDYW52YXMgbm90IGZvdW5kIGR1cmluZyB2aXNpYmlsaXR5IGNoZWNrXCIpO1xuICAgICAgfVxuICAgIH0sIDUwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRlbGV0ZSB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXM7XG4gICAgICBkZWxldGUgd2luZG93LmNhbnZhc0RpbWVuc2lvbnM7XG4gICAgICBkZWxldGUgd2luZG93LmluaXRpYWxpemVDYW52YXM7XG4gICAgfTtcbiAgfSwgW2lzSHlkcmF0ZWRdKTtcbiAgLy8gSW1wcm92ZWQgY2FudmFzIGRpbWVuc2lvbnMgYWRqdXN0bWVudFxuICBjb25zdCBhZGp1c3RDYW52YXNEaW1lbnNpb25zID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQgfHwgIXByZXZpZXdBcmVhUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgaWYgKCFjYW52YXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk5vIGNhbnZhcyBmb3VuZCB0byBhZGp1c3QgZGltZW5zaW9uc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY29udGFpbmVyID0gcHJldmlld0FyZWFSZWYuY3VycmVudDtcbiAgICBcbiAgICAvLyBHZXQgdGhlIHNpemUgb2YgdGhlIHByZXZpZXcgYXJlYVxuICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHByb3BlciBoZWlnaHQgYmFzZWQgb24gdG9wIGJhciB2aXNpYmlsaXR5XG4gICAgY29uc3QgdG9wQmFySGVpZ2h0ID0gc2hvd1RvcEJhciA/IDEyMCA6IDA7IC8vIEFkanVzdCB0aGlzIHZhbHVlIGJhc2VkIG9uIHlvdXIgdG9wIGJhcidzIGFjdHVhbCBoZWlnaHRcbiAgICBcbiAgICBjb25zb2xlLmxvZyhcIkFkanVzdGluZyBjYW52YXMgZGltZW5zaW9uc1wiLCB7XG4gICAgICBjb250YWluZXJXaWR0aDogcmVjdC53aWR0aCxcbiAgICAgIGNvbnRhaW5lckhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgICB0b3BCYXJWaXNpYmxlOiBzaG93VG9wQmFyLFxuICAgICAgY2FsY3VsYXRlZEhlaWdodDogcmVjdC5oZWlnaHRcbiAgICB9KTtcbiAgICBcbiAgICAvLyBTZXQgY2FudmFzIGRpbWVuc2lvbnMgdG8gbWF0Y2ggY29udGFpbmVyIHNpemUgd2l0aCB0b3AgYmFyIGFkanVzdG1lbnRcbiAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICBcbiAgICAvLyBDbGVhciB0aGUgY2FudmFzXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIFxuICAgIC8vIEZpbGwgd2l0aCB3aGl0ZSBiYWNrZ3JvdW5kXG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYENhbnZhcyBkaW1lbnNpb25zIGFkanVzdGVkOiAke2NhbnZhcy53aWR0aH14JHtjYW52YXMuaGVpZ2h0fWApO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBnbG9iYWwgcmVmZXJlbmNlIHdpdGggY3VycmVudCBkaW1lbnNpb25zXG4gICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzO1xuICAgIHdpbmRvdy5jYW52YXNEaW1lbnNpb25zID0ge1xuICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgY2FwdHVyZSBmb2xkZXIgb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjYXB0dXJlRm9sZGVyICYmIGlzQ2xpZW50ICYmIGlzSHlkcmF0ZWQpIHtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9bOlxcLl0vZywgJy0nKTtcbiAgICAgIHNldENhcHR1cmVGb2xkZXIoYHNlc3Npb25fJHt0aW1lc3RhbXB9YCk7XG4gICAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCBjYXB0dXJlIGZvbGRlcjogc2Vzc2lvbl8ke3RpbWVzdGFtcH1gKTtcbiAgICB9XG4gIH0sIFtjYXB0dXJlRm9sZGVyLCBpc0NsaWVudCwgaXNIeWRyYXRlZF0pO1xuICBcbiAgLy8gU2V0IGh5ZHJhdGVkIHN0YXRlIGFmdGVyIG1vdW50IHRvIHByZXZlbnQgaHlkcmF0aW9uIG1pc21hdGNoXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNIeWRyYXRlZCh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIC8vIENoZWNrIGJhY2tlbmQgY29ubmVjdGlvbiBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjsgLy8gU2tpcCBvbiBzZXJ2ZXIgb3IgYmVmb3JlIGh5ZHJhdGlvblxuICAgIFxuICAgIGNvbnN0IGNoZWNrQmFja2VuZENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoZWNrLWJhY2tlbmQtY29ubmVjdGlvbicpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRCYWNrZW5kU3RhdHVzKGRhdGEuY29ubmVjdGVkID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBCYWNrZW5kIGNvbm5lY3Rpb246ICR7ZGF0YS5jb25uZWN0ZWQgPyAnT0snIDogJ0ZhaWxlZCd9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IHN0YXR1cyBpbiBvdXRwdXQgdGV4dFxuICAgICAgICBzZXRPdXRwdXRUZXh0KGBCYWNrZW5kICR7ZGF0YS5jb25uZWN0ZWQgPyAnY29ubmVjdGVkJyA6ICdkaXNjb25uZWN0ZWQgLSB1c2luZyBtb2NrIG1vZGUnfWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgYmFja2VuZCBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgc2V0QmFja2VuZFN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHNldE91dHB1dFRleHQoJ0JhY2tlbmQgZGlzY29ubmVjdGVkIC0gdXNpbmcgbW9jayBtb2RlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrQmFja2VuZENvbm5lY3Rpb24oKTtcbiAgICBcbiAgICAvLyBXZWxjb21lIG1lc3NhZ2UgYWZ0ZXIgYmFja2VuZCBjaGVja1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2FtZXJhIHN5c3RlbSByZWFkeS4gQ2xpY2sgXCJTaG93IFByZXZpZXdcIiB0byBzdGFydCBjYW1lcmEuJyk7XG4gICAgfSwgMjAwMCk7XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG5cbiAgLy8gVXBkYXRlIG1ldHJpY3MgYW5kIHdpbmRvdyBzaXplIHdoZW4gY29tcG9uZW50IG1vdW50cyBhbmQgb24gd2luZG93IHJlc2l6ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjsgLy8gU2tpcCBvbiBzZXJ2ZXIgb3IgYmVmb3JlIGh5ZHJhdGlvblxuICAgIFxuICAgIGNvbnN0IHVwZGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XG4gICAgICBpZiAocHJldmlld0FyZWFSZWYuY3VycmVudCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHByZXZpZXdBcmVhUmVmLmN1cnJlbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHByZXZpZXdBcmVhUmVmLmN1cnJlbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHdoYXQgcGVyY2VudGFnZSBvZiB0aGUgc2NyZWVuIHdlJ3JlIHVzaW5nXG4gICAgICAgIGNvbnN0IHNjcmVlblBlcmNlbnRhZ2UgPSAod2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuc2NyZWVuLndpZHRoKSAqIDEwMDtcbiAgICAgICAgXG4gICAgICAgIHNldE1ldHJpY3MocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0XG4gICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIHNldFdpbmRvd1NpemUoe1xuICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICBwZXJjZW50YWdlOiBNYXRoLnJvdW5kKHNjcmVlblBlcmNlbnRhZ2UpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBjYW52YXMgZGltZW5zaW9uc1xuICAgICAgICBhZGp1c3RDYW52YXNEaW1lbnNpb25zKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEluaXRpYWwgY2FsY3VsYXRpb25cbiAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICAgIFxuICAgIC8vIENsZWFuIHVwXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaW1lbnNpb25zKTtcbiAgICB9O1xuICB9LCBbaXNIeWRyYXRlZF0pO1xuXG4gIC8vIEFkZCBlZmZlY3QgdG8gdXBkYXRlIGNhbnZhcyB3aGVuIGRpbWVuc2lvbnMgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQ2xpZW50ICYmIGlzSHlkcmF0ZWQpIHtcbiAgICAgIGFkanVzdENhbnZhc0RpbWVuc2lvbnMoKTtcbiAgICB9XG4gIH0sIFt3aW5kb3dTaXplLCBzaG93VG9wQmFyLCBpc0h5ZHJhdGVkXSk7XG4gIFxuICAvLyBBZGQgc3R5bGVzIHRvIGRvY3VtZW50IGhlYWQgZm9yIGJ1dHRvbiBoaWdobGlnaHRpbmdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgc3R5bGUgZWxlbWVudFxuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgIEBrZXlmcmFtZXMgcHVsc2Uge1xuICAgICAgICAwJSB7IGJveC1zaGFkb3c6IDAgMCAwIDAgcmdiYSgwLCAxMDIsIDIwNCwgMC43KTsgfVxuICAgICAgICA3MCUgeyBib3gtc2hhZG93OiAwIDAgMCAxMHB4IHJnYmEoMCwgMTAyLCAyMDQsIDApOyB9XG4gICAgICAgIDEwMCUgeyBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMCwgMTAyLCAyMDQsIDApOyB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIEBrZXlmcmFtZXMgZmFkZUluIHtcbiAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTBweCk7IH1cbiAgICAgICAgdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLmJ0bi1oaWdobGlnaHQge1xuICAgICAgICBhbmltYXRpb246IHB1bHNlIDEuNXMgaW5maW5pdGU7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDk5ZmYgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC53YXJuaW5nLWJhbm5lciB7XG4gICAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG4gICAgYDtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9O1xuICB9LCBbaXNIeWRyYXRlZF0pO1xuICBcbiAgLy8gTWFrZSB0b2dnbGVUb3BCYXIgZnVuY3Rpb24gYXZhaWxhYmxlIGdsb2JhbGx5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIE1ha2UgdG9nZ2xlVG9wQmFyIGF2YWlsYWJsZSB0byBvdGhlciBjb21wb25lbnRzXG4gICAgd2luZG93LnRvZ2dsZVRvcEJhciA9IChzaG93KSA9PiB7XG4gICAgICBzZXRTaG93VG9wQmFyKHNob3cpO1xuICAgICAgXG4gICAgICAvLyBBbHNvIGhpZGUgbWV0cmljcyB3aGVuIGhpZGluZyB0aGUgdG9wIGJhclxuICAgICAgaWYgKCFzaG93KSB7XG4gICAgICAgIHNldFNob3dNZXRyaWNzKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRqdXN0IGNhbnZhcyBkaW1lbnNpb25zIGFmdGVyIHRvZ2dsaW5nXG4gICAgICBzZXRUaW1lb3V0KGFkanVzdENhbnZhc0RpbWVuc2lvbnMsIDEwMCk7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgIGRlbGV0ZSB3aW5kb3cudG9nZ2xlVG9wQmFyO1xuICAgIH07XG4gIH0sIFtpc0h5ZHJhdGVkXSk7XG5cbiAgLy8gVG9nZ2xlIGNhbWVyYSBmdW5jdGlvblxuICBjb25zdCB0b2dnbGVDYW1lcmEgPSAoc2hvdWxkRW5hYmxlKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIGlmIChzaG91bGRFbmFibGUpIHtcbiAgICAgIHNldFNob3dDYW1lcmEodHJ1ZSk7XG4gICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgc2V0T3V0cHV0VGV4dCgnQ2FtZXJhIHByZXZpZXcgc3RhcnRlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTaG93Q2FtZXJhKGZhbHNlKTtcbiAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICBzZXRPdXRwdXRUZXh0KCdDYW1lcmEgcHJldmlldyBzdG9wcGVkJyk7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gSGFuZGxlciBmb3IgYWN0aW9uIGJ1dHRvbiBjbGlja3NcbiAgY29uc3QgaGFuZGxlQWN0aW9uQnV0dG9uQ2xpY2sgPSAoYWN0aW9uVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdG9nZ2xpbmcgdGhlIHRvcCBiYXJcbiAgICBpZiAoYWN0aW9uVHlwZSA9PT0gJ3RvZ2dsZVRvcEJhcicpIHtcbiAgICAgIC8vIGNvbnN0IG5ld1RvcEJhclN0YXRlID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/ICEhdmFsdWUgOiAhc2hvd1RvcEJhcjtcbiAgICAgIGxldCBuZXdUb3BCYXJTdGF0ZTtcbiAgICBcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgbmV3VG9wQmFyU3RhdGUgPSBwYXJhbXM7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zLnZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuZXdUb3BCYXJTdGF0ZSA9ICEhcGFyYW1zLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VG9wQmFyU3RhdGUgPSAhc2hvd1RvcEJhcjtcbiAgICAgIH1cbiAgICAgIHNldFNob3dUb3BCYXIobmV3VG9wQmFyU3RhdGUpO1xuICAgICAgXG4gICAgICAvLyBBbHNvIGhpZGUgbWV0cmljcyB3aGVuIGhpZGluZyB0aGUgdG9wIGJhclxuICAgICAgaWYgKCFuZXdUb3BCYXJTdGF0ZSkge1xuICAgICAgICBzZXRTaG93TWV0cmljcyhmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldE91dHB1dFRleHQoYFRvcEJhciAke25ld1RvcEJhclN0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfSR7IW5ld1RvcEJhclN0YXRlID8gJywgTWV0cmljcyBoaWRkZW4nIDogJyd9YCk7XG4gICAgICBcbiAgICAgIC8vIEFkanVzdCBjYW52YXMgZGltZW5zaW9ucyBhZnRlciB0b2dnbGluZ1xuICAgICAgc2V0VGltZW91dChhZGp1c3RDYW52YXNEaW1lbnNpb25zLCAxMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgc2V0U2hvd1dhcm5pbmcoZmFsc2UpO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB3YXJuaW5nc1xuICAgIGNvbnN0IHNhZmVQYXJhbXMgPSBwYXJhbXMgfHwge307XG4gIFxuICAgIC8vIFVzZSBzYWZlUGFyYW1zIGluc3RlYWQgb2YgY29udHJvbFZhbHVlc1xuICAgIGNvbnN0IHJhbmRvbVRpbWVzID0gc2FmZVBhcmFtcy5yYW5kb21UaW1lcyB8fCAxO1xuICAgIGNvbnN0IGRlbGF5U2Vjb25kcyA9IHNhZmVQYXJhbXMuZGVsYXlTZWNvbmRzIHx8IDM7XG5cbiAgICBzd2l0Y2ggKGFjdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgJ3ByZXZpZXcnOlxuICAgICAgICAvLyBUb2dnbGUgY2FtZXJhIHN0YXRlXG4gICAgICAgIGlmIChzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgdG9nZ2xlQ2FtZXJhKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCkge1xuICAgICAgICAgIHRvZ2dsZUNhbWVyYSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2Ugc2hvdyBwZXJtaXNzaW9uIHBvcHVwXG4gICAgICAgICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKTtcbiAgICAgICAgICBzZXRPdXRwdXRUZXh0KCdPcGVuaW5nIGNhbWVyYSBwcmV2aWV3Jyk7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ3NldFJhbmRvbSc6XG4gICAgICAgIHNldE91dHB1dFRleHQoJ1N0YXJ0aW5nIHJhbmRvbSBzZXF1ZW5jZS4uLicpO1xuICAgICAgICBzZXRTaG93VG9wQmFyKGZhbHNlKTtcbiAgICAgICAgaWYgKHNob3dDYW1lcmEpIHtcbiAgICAgICAgICB0b2dnbGVDYW1lcmEoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSB0aGUgaW1wb3J0ZWQgbW9kdWxlIGFwcHJvYWNoIC0gc2ltaWxhciB0byBjYWxpYnJhdGVcbiAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC5oYW5kbGVTZXRSYW5kb20pIHtcbiAgICAgICAgICAvLyBVc2UgdGhlIHJlZmVyZW5jZSBtZXRob2QgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIEFjdGlvbkJ1dHRvbkdyb3VwIHJlZiBtZXRob2QgZm9yIFNldCBSYW5kb20nKTtcbiAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LmhhbmRsZVNldFJhbmRvbSgpO1xuICAgICAgICB9IFxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zICYmIFxuICAgICAgICAgIHR5cGVvZiB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zLmhhbmRsZVNldFJhbmRvbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGdsb2JhbCBtZXRob2RcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgZ2xvYmFsIGJyaWRnZSBtZXRob2QgZm9yIFNldCBSYW5kb20nKTtcbiAgICAgICAgICB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zLmhhbmRsZVNldFJhbmRvbSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgY2FudmFzIHRvIHdvcmsgd2l0aFxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBub3QgZm91bmQgZm9yIHJhbmRvbSBzZXF1ZW5jZVwiKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoXCJFcnJvcjogQ2FudmFzIG5vdCBhdmFpbGFibGUgZm9yIHJhbmRvbSBzZXF1ZW5jZVwiKTtcbiAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEdldCBjb250cm9sIHZhbHVlcyBmcm9tIHRoZSBUb3BCYXJcbiAgICAgICAgICBjb25zdCB0aW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbC1pbnB1dC1maWVsZCcpO1xuICAgICAgICAgIGNvbnN0IGRlbGF5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udHJvbC1pbnB1dC1maWVsZCcpWzFdO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERlZmF1bHQgdmFsdWVzIGlmIGlucHV0cyBjYW4ndCBiZSBmb3VuZFxuICAgICAgICAgIGxldCB0aW1lcyA9IDE7XG4gICAgICAgICAgbGV0IGRlbGF5ID0gMztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQYXJzZSBpbnB1dCB2YWx1ZXMgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKHRpbWVJbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkVGltZSA9IHBhcnNlSW50KHRpbWVJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWRUaW1lKSAmJiBwYXJzZWRUaW1lID4gMCkge1xuICAgICAgICAgICAgICB0aW1lcyA9IHBhcnNlZFRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREZWxheSA9IHBhcnNlSW50KGRlbGF5SW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkRGVsYXkpICYmIHBhcnNlZERlbGF5ID4gMCkge1xuICAgICAgICAgICAgICBkZWxheSA9IHBhcnNlZERlbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBMb2FkIGFsbCByZXF1aXJlZCBtb2R1bGVzIGZpcnN0LCB0aGVuIHByb2NlZWQgd2l0aCBleGVjdXRpb25cbiAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBpbXBvcnQoJy4vY29tcG9uZW50cy1ndWkvQWN0aW9uL2NvdW50U2F2ZScpLFxuICAgICAgICAgICAgaW1wb3J0KCcuL2NvbXBvbmVudHMtZ3VpL0hlbHBlci9zYXZlZmlsZScpXG4gICAgICAgICAgXSkudGhlbihhc3luYyAoW1xuICAgICAgICAgICAgY291bnRTYXZlTW9kdWxlLFxuICAgICAgICAgICAgc2F2ZWZpbGVNb2R1bGVcbiAgICAgICAgICBdKSA9PiB7XG4gICAgICAgICAgICAvLyBEZXN0cnVjdHVyZSB0aGUgaW1wb3J0ZWQgbW9kdWxlc1xuICAgICAgICAgICAgY29uc3QgeyBnZXRSYW5kb21Qb3NpdGlvbiwgZHJhd1JlZERvdCwgcnVuQ291bnRkb3duLCBzaG93Q2FwdHVyZVByZXZpZXcgfSA9IGNvdW50U2F2ZU1vZHVsZTtcbiAgICAgICAgICAgIGNvbnN0IHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSA9IHNhdmVmaWxlTW9kdWxlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyBQcm9jZXNzIGFsbCBjYXB0dXJlcyBzZXF1ZW50aWFsbHlcbiAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgICAgICAgICAgIGxldCBjdXJyZW50Q2FwdHVyZSA9IDE7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudENhcHR1cmUgPD0gdGltZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc3RhdHVzIGZvciBjdXJyZW50IGNhcHR1cmVcbiAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBDYXB0dXJlICR7Y3VycmVudENhcHR1cmV9IG9mICR7dGltZXN9YCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgY2FudmFzIGJlZm9yZSBlYWNoIGNhcHR1cmVcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgcmFuZG9tIHBvc2l0aW9uIGZvciB0aGlzIGNhcHR1cmVcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJhbmRvbVBvc2l0aW9uKGNhbnZhcywgMjApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIERyYXcgdGhlIGRvdFxuICAgICAgICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSByZWRyYXdJbnRlcnZhbCB0byBlbnN1cmUgZG90IHN0YXlzIHZpc2libGVcbiAgICAgICAgICAgICAgICBsZXQgcmVkcmF3SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSwgMTIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFJ1biBjb3VudGRvd24gYW5kIHdhaXQgZm9yIGl0IHRvIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICBydW5Db3VudGRvd24oXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjYW52YXMsXG4gICAgICAgICAgICAgICAgICAgIChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVUkgYmFzZWQgb24gc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBDYXB0dXJlICR7Y3VycmVudENhcHR1cmV9LyR7dGltZXN9OiAke3N0YXR1cy5wcm9jZXNzU3RhdHVzfWApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSAvLyBUaGlzIHdpbGwgYmUgY2FsbGVkIHdoZW4gY291bnRkb3duIGNvbXBsZXRlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhciByZWRyYXdJbnRlcnZhbCBhZnRlciBjb3VudGRvd25cbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJlZHJhd0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGJyaWVmbHkgYWZ0ZXIgY291bnRkb3duXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgaW1hZ2VzIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudGVyLFxuICAgICAgICAgICAgICAgICAgICBjYW52YXNSZWY6IHsgY3VycmVudDogY2FudmFzIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudDogc2V0Q2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIHNob3dDYXB0dXJlUHJldmlld1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChjYXB0dXJlUmVzdWx0ICYmIChjYXB0dXJlUmVzdWx0LnNjcmVlbkltYWdlIHx8IGNhcHR1cmVSZXN1bHQuc3VjY2VzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudCBjb3VudGVyXG4gICAgICAgICAgICAgICAgICBzZXRDYXB0dXJlQ291bnRlcihwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY2FwdHVyaW5nIHBvaW50ICR7Y3VycmVudENhcHR1cmV9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBiZXR3ZWVuIGNhcHR1cmVzIGZvciB0aGUgc3BlY2lmaWVkIGRlbGF5IHRpbWVcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENhcHR1cmUgPCB0aW1lcykge1xuICAgICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgV2FpdGluZyAke2RlbGF5fXMgYmVmb3JlIG5leHQgY2FwdHVyZS4uLmApO1xuICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5ICogMTAwMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRvIG5leHQgY2FwdHVyZVxuICAgICAgICAgICAgICAgIGN1cnJlbnRDYXB0dXJlKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFNlcXVlbmNlIGNvbXBsZXRlXG4gICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYFJhbmRvbSBjYXB0dXJlIHNlcXVlbmNlIGNvbXBsZXRlZDogJHtzdWNjZXNzQ291bnR9LyR7dGltZXN9IGNhcHR1cmVzIHN1Y2Nlc3NmdWxgKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUmFuZG9tIHNlcXVlbmNlIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgIHNldE91dHB1dFRleHQoYFJhbmRvbSBzZXF1ZW5jZSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgLy8gU2hvdyBUb3BCYXIgYWdhaW5cbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93VG9wQmFyKHRydWUpLCAyMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGltcG9ydCByZXF1aXJlZCBtb2R1bGVzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgc2V0U2hvd1RvcEJhcih0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncmFuZG9tRG90JzpcbiAgICAgICAgc2V0T3V0cHV0VGV4dCgnUmFuZG9tIGRvdCBhY3Rpb24gdHJpZ2dlcmVkJyk7XG4gICAgICAgIHNldFNob3dUb3BCYXIoZmFsc2UpO1xuICAgICAgICBpZiAoc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHRvZ2dsZUNhbWVyYShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gYWNjZXNzIFJhbmRvbSBEb3QgZnVuY3Rpb25hbGl0eScpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXNlIHRoZSByYW5kb20gZG90IGZ1bmN0aW9uYWxpdHkgZnJvbSBhY3Rpb25CdXR0b24uanMgYnkgZGVsZWdhdGluZyB0byBBY3Rpb25CdXR0b25Hcm91cFxuICAgICAgICAvLyBUaGlzIGFzc3VtZXMgeW91IGhhdmUgYSByZWYgdG8gdGhlIEFjdGlvbkJ1dHRvbkdyb3VwIGNvbXBvbmVudFxuICAgICAgICBpZiAoYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudCAmJiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LmhhbmRsZVJhbmRvbURvdCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyByZWYgbWV0aG9kJyk7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC5oYW5kbGVSYW5kb21Eb3QoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zICYmIFxuICAgICAgICAgIHR5cGVvZiB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zLmhhbmRsZVJhbmRvbURvdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBnbG9iYWwgYnJpZGdlIG1ldGhvZCcpO1xuICAgICAgICAgIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlUmFuZG9tRG90KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW52YXMgbm90IGZvdW5kIGZvciByYW5kb20gZG90IGFjdGlvblwiKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoXCJFcnJvcjogQ2FudmFzIG5vdCBhdmFpbGFibGUgZm9yIHJhbmRvbSBkb3RcIik7XG4gICAgICAgICAgICBzZXRTaG93VG9wQmFyKHRydWUpOyAvLyBTaG93IFRvcEJhciBhZ2FpbiBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gcHJldmlld0FyZWFSZWYuY3VycmVudDtcbiAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBhcmVudCBub3QgZm91bmQgZm9yIGNhbnZhc1wiKTtcbiAgICAgICAgICAgIHNldE91dHB1dFRleHQoXCJFcnJvcjogQ2FudmFzIHBhcmVudCBub3QgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgc2V0U2hvd1RvcEJhcih0cnVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJbml0aWFsaXplIGNhbnZhcyBleHBsaWNpdGx5XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKGBDYW52YXMgcmVhZHkgZm9yIHJhbmRvbSBkb3Q6ICR7Y2FudmFzLndpZHRofXgke2NhbnZhcy5oZWlnaHR9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIGdsb2JhbCByZWZlcmVuY2VcbiAgICAgICAgICB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMgPSBjYW52YXM7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR2VuZXJhdGUgcmFuZG9tIHBvc2l0aW9uXG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRSYW5kb21Qb3NpdGlvbihjYW52YXMsIDIwKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEcmF3IHRoZSBkb3QgdXNpbmcgdGhlIGltcG9ydGVkIGZ1bmN0aW9uXG4gICAgICAgICAgY29uc3QgZG90ID0gZHJhd1JlZERvdChjdHgsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIDgsIGZhbHNlKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgUmFuZG9tIGRvdCBkcmF3biBhdDogJHtwb3NpdGlvbi54fSwgJHtwb3NpdGlvbi55fWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0YXJ0IGEgY291bnRkb3duIGZvciBjYXB0dXJlXG4gICAgICAgICAgcnVuQ291bnRkb3duKFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBjYW52YXMsXG4gICAgICAgICAgICAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSBiYXNlZCBvbiBzdGF0dXNcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIEVuYWJsZSBjYW1lcmEgYmVmb3JlIGNhcHR1cmVcbiAgICAgICAgICAgICAgLy8gdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFdhaXQgYnJpZWZseSBmb3IgY2FtZXJhIHRvIGluaXRpYWxpemVcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBkaXJlY3RseSBpbXBvcnRlZCBjYXB0dXJlSW1hZ2VzQXRQb2ludCBmcm9tIHRoZSBIZWxwZXIvc2F2ZWZpbGUuanNcbiAgICAgICAgICAgICAgICBpbXBvcnQoJy4vY29tcG9uZW50cy1ndWkvSGVscGVyL3NhdmVmaWxlJykudGhlbigoeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXB0dXJlSW1hZ2VzQXRQb2ludCh7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50OiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUNvdW50OiBjYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzUmVmOiB7IGN1cnJlbnQ6IGNhbnZhcyB9LFxuICAgICAgICAgICAgICAgICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudGVyLFxuICAgICAgICAgICAgICAgICAgICBzaG93Q2FwdHVyZVByZXZpZXdcbiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRDYXB0dXJlQ291bnRlcihwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgVG9wQmFyIGFnYWluIGFmdGVyIGNhcHR1cmVcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1RvcEJhcih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjIwMCk7XG4gICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FwdHVyaW5nIGltYWdlczpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgRXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGltcG9ydGluZyBzYXZlZmlsZSBtb2R1bGU6XCIsIGVycik7XG4gICAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBFcnJvcjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hlYWRQb3NlJzpcbiAgICAgICAgY29uc3QgbmV3SGVhZFBvc2VTdGF0ZSA9ICFzaG93SGVhZFBvc2U7XG4gICAgICAgIHNldFNob3dIZWFkUG9zZShuZXdIZWFkUG9zZVN0YXRlKTtcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgSGVhZCBwb3NlIHZpc3VhbGl6YXRpb24gJHtuZXdIZWFkUG9zZVN0YXRlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ31gKTtcbiAgICAgICAgaWYgKG5ld0hlYWRQb3NlU3RhdGUgJiYgIXNob3dDYW1lcmEpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW5ld0hlYWRQb3NlU3RhdGUgJiYgIXNob3dCb3VuZGluZ0JveCAmJiAhc2hvd01hc2sgJiYgIXNob3dQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHByb2Nlc3NvciBvcHRpb25zIGlmIGNhbWVyYSBpcyBhY3RpdmVcbiAgICAgICAgaWYgKHNob3dDYW1lcmEgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICAgICAgLi4ud2luZG93LnZpZGVvUHJvY2Vzc29yLm9wdGlvbnMsXG4gICAgICAgICAgICBzaG93SGVhZFBvc2U6IG5ld0hlYWRQb3NlU3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICdib3VuZGluZ0JveCc6XG4gICAgICAgIGNvbnN0IG5ld0JvdW5kaW5nQm94U3RhdGUgPSAhc2hvd0JvdW5kaW5nQm94O1xuICAgICAgICBzZXRTaG93Qm91bmRpbmdCb3gobmV3Qm91bmRpbmdCb3hTdGF0ZSk7XG4gICAgICAgIHNldE91dHB1dFRleHQoYEJvdW5kaW5nIGJveCAke25ld0JvdW5kaW5nQm94U3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgICAgIGlmIChuZXdCb3VuZGluZ0JveFN0YXRlICYmICFzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXdCb3VuZGluZ0JveFN0YXRlICYmICFzaG93SGVhZFBvc2UgJiYgIXNob3dNYXNrICYmICFzaG93UGFyYW1ldGVycykge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9ucyBpZiBjYW1lcmEgaXMgYWN0aXZlXG4gICAgICAgIGlmIChzaG93Q2FtZXJhICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgICAgIC4uLndpbmRvdy52aWRlb1Byb2Nlc3Nvci5vcHRpb25zLFxuICAgICAgICAgICAgc2hvd0JvdW5kaW5nQm94OiBuZXdCb3VuZGluZ0JveFN0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAnbWFzayc6XG4gICAgICAgIGNvbnN0IG5ld01hc2tTdGF0ZSA9ICFzaG93TWFzaztcbiAgICAgICAgc2V0U2hvd01hc2sobmV3TWFza1N0YXRlKTtcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgTWFzayAke25ld01hc2tTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICAgICAgaWYgKG5ld01hc2tTdGF0ZSAmJiAhc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbmV3TWFza1N0YXRlICYmICFzaG93SGVhZFBvc2UgJiYgIXNob3dCb3VuZGluZ0JveCAmJiAhc2hvd1BhcmFtZXRlcnMpIHtcbiAgICAgICAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvY2Vzc29yIG9wdGlvbnMgaWYgY2FtZXJhIGlzIGFjdGl2ZVxuICAgICAgICBpZiAoc2hvd0NhbWVyYSAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgICAgICAuLi53aW5kb3cudmlkZW9Qcm9jZXNzb3Iub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dNYXNrOiBuZXdNYXNrU3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICdwYXJhbWV0ZXJzJzpcbiAgICAgICAgY29uc3QgbmV3UGFyYW1ldGVyc1N0YXRlID0gIXNob3dQYXJhbWV0ZXJzO1xuICAgICAgICBzZXRTaG93UGFyYW1ldGVycyhuZXdQYXJhbWV0ZXJzU3RhdGUpO1xuICAgICAgICBzZXRPdXRwdXRUZXh0KGBQYXJhbWV0ZXJzICR7bmV3UGFyYW1ldGVyc1N0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgICAgICBpZiAobmV3UGFyYW1ldGVyc1N0YXRlICYmICFzaG93Q2FtZXJhKSB7XG4gICAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFuZXdQYXJhbWV0ZXJzU3RhdGUgJiYgIXNob3dIZWFkUG9zZSAmJiAhc2hvd0JvdW5kaW5nQm94ICYmICFzaG93TWFzaykge1xuICAgICAgICAgIHNldFNob3dDYW1lcmFQbGFjZWhvbGRlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9ucyBpZiBjYW1lcmEgaXMgYWN0aXZlXG4gICAgICAgIGlmIChzaG93Q2FtZXJhICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgICAgIC4uLndpbmRvdy52aWRlb1Byb2Nlc3Nvci5vcHRpb25zLFxuICAgICAgICAgICAgc2hvd1BhcmFtZXRlcnM6IG5ld1BhcmFtZXRlcnNTdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIC8vIEZpeGVkIGNhbGlicmF0ZSBjYXNlIGhhbmRsZXIgaW4gaW5kZXguanNcbiAgICAgIGNhc2UgJ2NhbGlicmF0ZSc6XG4gICAgICAgIHNldE91dHB1dFRleHQoJ1N0YXJ0aW5nIGNhbGlicmF0aW9uIHNlcXVlbmNlLi4uJyk7XG4gICAgICAgIHNldFNob3dUb3BCYXIoZmFsc2UpO1xuICAgICAgICBpZiAoc2hvd0NhbWVyYSkge1xuICAgICAgICAgIHRvZ2dsZUNhbWVyYShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQgJiYgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC5oYW5kbGVTZXRDYWxpYnJhdGUpIHtcbiAgICAgICAgICAvLyBVc2UgdGhlIHJlZmVyZW5jZSBtZXRob2QgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIEFjdGlvbkJ1dHRvbkdyb3VwIHJlZiBtZXRob2QgZm9yIGNhbGlicmF0aW9uJyk7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC5oYW5kbGVTZXRDYWxpYnJhdGUoKTtcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyAmJiBcbiAgICAgICAgICB0eXBlb2Ygd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucy5oYW5kbGVTZXRDYWxpYnJhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBnbG9iYWwgbWV0aG9kXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdsb2JhbCBicmlkZ2UgbWV0aG9kIGZvciBjYWxpYnJhdGlvbicpO1xuICAgICAgICAgIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMuaGFuZGxlU2V0Q2FsaWJyYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBjYW52YXMgdG8gd29yayB3aXRoXG4gICAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2FudmFzIG5vdCBmb3VuZCBmb3IgY2FsaWJyYXRpb25cIik7XG4gICAgICAgICAgICBzZXRPdXRwdXRUZXh0KFwiRXJyb3I6IENhbnZhcyBub3QgYXZhaWxhYmxlIGZvciBjYWxpYnJhdGlvblwiKTtcbiAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIExvYWQgYWxsIHJlcXVpcmVkIG1vZHVsZXMgZmlyc3QsIHRoZW4gcHJvY2VlZCB3aXRoIGV4ZWN1dGlvblxuICAgICAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIGltcG9ydCgnLi9jb21wb25lbnRzLWd1aS9BY3Rpb24vQ2FsaWJyYXRlUG9pbnRzJyksXG4gICAgICAgICAgICBpbXBvcnQoJy4vY29tcG9uZW50cy1ndWkvQWN0aW9uL2NvdW50U2F2ZScpLFxuICAgICAgICAgICAgaW1wb3J0KCcuL2NvbXBvbmVudHMtZ3VpL0hlbHBlci9zYXZlZmlsZScpXG4gICAgICAgICAgXSkudGhlbihhc3luYyAoW1xuICAgICAgICAgICAgY2FsaWJyYXRlUG9pbnRzTW9kdWxlLFxuICAgICAgICAgICAgY291bnRTYXZlTW9kdWxlLFxuICAgICAgICAgICAgc2F2ZWZpbGVNb2R1bGVcbiAgICAgICAgICBdKSA9PiB7XG4gICAgICAgICAgICAvLyBEZXN0cnVjdHVyZSB0aGUgaW1wb3J0ZWQgbW9kdWxlc1xuICAgICAgICAgICAgY29uc3QgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gPSBjYWxpYnJhdGVQb2ludHNNb2R1bGU7XG4gICAgICAgICAgICBjb25zdCB7IGRyYXdSZWREb3QsIHJ1bkNvdW50ZG93biwgc2hvd0NhcHR1cmVQcmV2aWV3IH0gPSBjb3VudFNhdmVNb2R1bGU7XG4gICAgICAgICAgICBjb25zdCB7IGNhcHR1cmVJbWFnZXNBdFBvaW50IH0gPSBzYXZlZmlsZU1vZHVsZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzXG4gICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDcmVhdGUgc3RhdHVzIGluZGljYXRvclxuICAgICAgICAgICAgICBjb25zdCBzdGF0dXNJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLmNsYXNzTmFtZSA9ICdjYWxpYnJhdGUtc3RhdHVzLWluZGljYXRvcic7XG4gICAgICAgICAgICAgIHN0YXR1c0luZGljYXRvci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgICAgICB0b3A6IDEwcHg7XG4gICAgICAgICAgICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxMDIsIDIwNCwgMC45KTtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTJweCc7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ0NhbGlicmF0aW9uOiBJbml0aWFsaXppbmcuLi4nO1xuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0YXR1c0luZGljYXRvcik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBY2Nlc3Mgd2ViY2FtIGJlZm9yZSBzdGFydGluZyBjYWxpYnJhdGlvbiBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyQ2FtZXJhQWNjZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFByb2Nlc3MgcG9pbnRzIHNlcXVlbnRpYWxseVxuICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gYENhbGlicmF0aW9uOiBQb2ludCAke2kgKyAxfS8ke3BvaW50cy5sZW5ndGh9YDtcbiAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBQcm9jZXNzaW5nIGNhbGlicmF0aW9uIHBvaW50ICR7aSArIDF9LyR7cG9pbnRzLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIG5ldyBwb2ludFxuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBEcmF3IHRoZSBkb3RcbiAgICAgICAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUnVuIGNvdW50ZG93blxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgcnVuQ291bnRkb3duKFxuICAgICAgICAgICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgICAgICAgICAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KHN0YXR1cy5wcm9jZXNzU3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGNvdW50ZG93biBjb21wbGV0ZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3OiBzaG93Q2FwdHVyZVByZXZpZXdcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAoY2FwdHVyZVJlc3VsdCAmJiAoY2FwdHVyZVJlc3VsdC5zY3JlZW5JbWFnZSB8fCBjYXB0dXJlUmVzdWx0LnN1Y2Nlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnQgY291bnRlclxuICAgICAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50ZXIocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNhcHR1cmluZyBwb2ludCAke2krMX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGJldHdlZW4gcG9pbnRzXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEyMDApKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2FsaWJyYXRpb24gY29tcGxldGVcbiAgICAgICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gYENhbGlicmF0aW9uIGNvbXBsZXRlOiAke3N1Y2Nlc3NDb3VudH0vJHtwb2ludHMubGVuZ3RofSBwb2ludHNgO1xuICAgICAgICAgICAgICBzZXRPdXRwdXRUZXh0KGBDYWxpYnJhdGlvbiBjb21wbGV0ZWQ6ICR7c3VjY2Vzc0NvdW50fS8ke3BvaW50cy5sZW5ndGh9IHBvaW50cyBjYXB0dXJlZGApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdGF0dXMgaW5kaWNhdG9yIGFmdGVyIGEgZGVsYXlcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0luZGljYXRvci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICBzdGF0dXNJbmRpY2F0b3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdGF0dXNJbmRpY2F0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2FsaWJyYXRpb24gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgQ2FsaWJyYXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIC8vIFNob3cgVG9wQmFyIGFnYWluXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2hvd1RvcEJhcih0cnVlKSwgMjAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbXBvcnQgcmVxdWlyZWQgbW9kdWxlczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgc2V0T3V0cHV0VGV4dChgQ2FsaWJyYXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIHNldFNob3dUb3BCYXIodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAnY2xlYXJBbGwnOlxuICAgICAgICAvLyBDbGVhciBjYW52YXNcbiAgICAgICAgLy8gY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIHNldE91dHB1dFRleHQoJ0NhbnZhcyBjbGVhcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgc2V0T3V0cHV0VGV4dChgQWN0aW9uIHRyaWdnZXJlZDogJHthY3Rpb25UeXBlfWApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQZXJtaXNzaW9uQWNjZXB0ZWQgPSAoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudCB8fCAhaXNIeWRyYXRlZCkgcmV0dXJuO1xuICAgIFxuICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAoZmFsc2UpO1xuICAgIHNldENhbWVyYVBlcm1pc3Npb25HcmFudGVkKHRydWUpO1xuICAgIHRvZ2dsZUNhbWVyYSh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQZXJtaXNzaW9uRGVuaWVkID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBzZXRTaG93Q2FtZXJhUGxhY2Vob2xkZXIoZmFsc2UpO1xuICAgIHNldE91dHB1dFRleHQoJ0NhbWVyYSBwZXJtaXNzaW9uIGRlbmllZCcpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbWVyYUNsb3NlID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQgfHwgIWlzSHlkcmF0ZWQpIHJldHVybjtcbiAgICBcbiAgICB0b2dnbGVDYW1lcmEoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbWVyYVJlYWR5ID0gKGRpbWVuc2lvbnMpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICFpc0h5ZHJhdGVkKSByZXR1cm47XG4gICAgXG4gICAgc2V0TWV0cmljcyh7XG4gICAgICB3aWR0aDogZGltZW5zaW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICBkaXN0YW5jZTogZGltZW5zaW9ucy5kaXN0YW5jZSB8fCAnLS0tJ1xuICAgIH0pO1xuICAgIHNldE91dHB1dFRleHQoYENhbWVyYSByZWFkeTogJHtkaW1lbnNpb25zLndpZHRofXgke2RpbWVuc2lvbnMuaGVpZ2h0fWApO1xuICB9O1xuXG4gIC8vIFRvZ2dsZSB0b3AgYmFyIGZ1bmN0aW9uXG4gIGNvbnN0IHRvZ2dsZVRvcEJhciA9IChzaG93KSA9PiB7XG4gICAgY29uc3QgbmV3VG9wQmFyU3RhdGUgPSBzaG93ICE9PSB1bmRlZmluZWQgPyBzaG93IDogIXNob3dUb3BCYXI7XG4gICAgc2V0U2hvd1RvcEJhcihuZXdUb3BCYXJTdGF0ZSk7XG4gICAgXG4gICAgLy8gQWxzbyBoaWRlIG1ldHJpY3Mgd2hlbiBoaWRpbmcgdGhlIHRvcCBiYXJcbiAgICBpZiAoIW5ld1RvcEJhclN0YXRlKSB7XG4gICAgICBzZXRTaG93TWV0cmljcyhmYWxzZSk7XG4gICAgfVxuICAgIFxuICAgIHNldE91dHB1dFRleHQoYFRvcEJhciAke25ld1RvcEJhclN0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfSR7IW5ld1RvcEJhclN0YXRlID8gJywgTWV0cmljcyBoaWRkZW4nIDogJyd9YCk7XG4gICAgXG4gICAgLy8gV2FpdCBmb3Igc3RhdGUgdXBkYXRlIGFuZCBET00gY2hhbmdlcywgdGhlbiBhZGp1c3QgY2FudmFzXG4gICAgc2V0VGltZW91dChhZGp1c3RDYW52YXNEaW1lbnNpb25zLCAxMDApO1xuICB9O1xuXG4gIC8vIFRvZ2dsZSBtZXRyaWNzIGZ1bmN0aW9uXG4gIGNvbnN0IHRvZ2dsZU1ldHJpY3MgPSAoKSA9PiB7XG4gICAgaWYgKHNob3dUb3BCYXIpIHtcbiAgICAgIHNldFNob3dNZXRyaWNzKHByZXYgPT4gIXByZXYpO1xuICAgICAgc2V0T3V0cHV0VGV4dChgTWV0cmljcyAkeyFzaG93TWV0cmljcyA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdG9wQmFyIGlzIGhpZGRlbiwgd2UgY2FuJ3Qgc2hvdyBtZXRyaWNzXG4gICAgICBzZXRPdXRwdXRUZXh0KCdDYW5ub3Qgc2hvdyBtZXRyaWNzIHdoZW4gVG9wQmFyIGlzIGhpZGRlbicpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byB0cmlnZ2VyIGNhbWVyYSBhY2Nlc3NcbiAgY29uc3QgdHJpZ2dlckNhbWVyYUFjY2VzcyA9IChmb3JjZUVuYWJsZSkgPT4ge1xuICAgIGlmIChmb3JjZUVuYWJsZSkge1xuICAgICAgLy8gVHJ5IHRvIGVuYWJsZSBjYW1lcmEgZGlyZWN0bHlcbiAgICAgIGlmICh3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgICAgc2V0U2hvd0NhbWVyYSh0cnVlKTtcbiAgICAgICAgc2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICAgICAgc2V0Q2FtZXJhUGVybWlzc2lvbkdyYW50ZWQodHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdGFydCB2aWRlbyBwcm9jZXNzaW5nIHdpdGggY3VycmVudCBvcHRpb25zXG4gICAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci5zdGFydFZpZGVvUHJvY2Vzc2luZyh7XG4gICAgICAgICAgc2hvd0hlYWRQb3NlLFxuICAgICAgICAgIHNob3dCb3VuZGluZ0JveCxcbiAgICAgICAgICBzaG93TWFzayxcbiAgICAgICAgICBzaG93UGFyYW1ldGVycyxcbiAgICAgICAgICBzaG93UHJvY2Vzc2VkSW1hZ2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gSnVzdCB0b2dnbGUgY3VycmVudCBzdGF0ZSBpZiBub3QgZm9yY2luZ1xuICAgIGlmIChjYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCkge1xuICAgICAgdG9nZ2xlQ2FtZXJhKCFzaG93Q2FtZXJhKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKHRydWUpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBEeW5hbWljIGNsYXNzIHRvIHJlZmxlY3QgY3VycmVudCB3aW5kb3cgc2l6ZVxuICBjb25zdCBnZXRTaXplQ2xhc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwZXJjZW50YWdlIH0gPSB3aW5kb3dTaXplO1xuICAgIGlmIChwZXJjZW50YWdlIDwgMzUpIHJldHVybiAnd2luZG93LXNpemUtdGlueSc7XG4gICAgaWYgKHBlcmNlbnRhZ2UgPCA1MCkgcmV0dXJuICd3aW5kb3ctc2l6ZS1zbWFsbCc7XG4gICAgaWYgKHBlcmNlbnRhZ2UgPCA3MCkgcmV0dXJuICd3aW5kb3ctc2l6ZS1tZWRpdW0nO1xuICAgIHJldHVybiAnd2luZG93LXNpemUtbGFyZ2UnO1xuICB9O1xuXG4gIC8vIEFkZCB0aGlzIGZ1bmN0aW9uIHRvIGhhbmRsZSBzZXR0aW5ncyB2aXNpYmlsaXR5XG4gIGNvbnN0IGhhbmRsZVNldHRpbmdzVmlzaWJpbGl0eSA9IChpc1Zpc2libGUpID0+IHtcbiAgICBzZXRTaG93U2V0dGluZ3MoaXNWaXNpYmxlKTtcbiAgfTtcblxuICAvLyBBZGQgdGhpcyBlZmZlY3QgdG8gbGlzdGVuIGZvciBzZXR0aW5ncyB2aXNpYmlsaXR5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVTZXR0aW5nc01lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09ICdTSE9XX1NFVFRJTkdTJykge1xuICAgICAgICBzZXRTaG93U2V0dGluZ3MoZXZlbnQuZGF0YS5zaG93KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVTZXR0aW5nc01lc3NhZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZVNldHRpbmdzTWVzc2FnZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIExpc3RlbiBmb3IgdXNlciBJRCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlVXNlcklkQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC50eXBlID09PSAndXNlcklkQ2hhbmdlJykge1xuICAgICAgICBzZXRDdXJyZW50VXNlcklkKGV2ZW50LmRldGFpbC51c2VySWQpO1xuICAgICAgICAvLyBEaXNwYXRjaCBldmVudCB0byB1cGRhdGUgc2V0dGluZ3MgZm9yIHRoZSBuZXcgdXNlclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnY2FwdHVyZVNldHRpbmdzVXBkYXRlJywge1xuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gICAgICAgICAgICB1c2VySWQ6IGV2ZW50LmRldGFpbC51c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBzZXR0aW5ncyB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICAvLyBTZXQgdGhlIGN1cnJlbnQgdXNlciBJRFxuICAgICAgc2V0Q3VycmVudFVzZXJJZCh1c2VySWQpO1xuICAgICAgXG4gICAgICAvLyBEaXNwYXRjaCBldmVudCB0byB1cGRhdGUgc2V0dGluZ3MgZm9yIHRoaXMgdXNlclxuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gICAgICAgICAgdXNlcklkOiB1c2VySWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9LCBbdXNlcklkXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBzZXR0aW5ncyB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU2V0dGluZ3NVcGRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnR5cGUgPT09ICdjYXB0dXJlU2V0dGluZ3MnKSB7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkLCB0aW1lcywgZGVsYXkgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgaWYgKHVzZXJJZCA9PT0gY3VycmVudFVzZXJJZCkge1xuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2V0dGluZ3MgZm9yIHRoaXMgdXNlclxuICAgICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncyh7XG4gICAgICAgICAgICAgIHRpbWVzOiB0aW1lcyB8fCAxLFxuICAgICAgICAgICAgICBkZWxheTogZGVsYXkgfHwgM1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgfTtcbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICAvLyBMb2FkIHNldHRpbmdzIGZyb20gYmFja2VuZCB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL2xvYWQtc2V0dGluZ3M/dXNlcklkPSR7dXNlcklkfWApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBzZXR0aW5ncycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvYWRlZFNldHRpbmdzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGNvbXBvbmVudCB0byBiZSBtb3VudGVkIGFuZCByZWYgdG8gYmUgaW5pdGlhbGl6ZWRcbiAgICAgICAgY29uc3Qgd2FpdEZvclJlZiA9IChyZXRyaWVzID0gNSkgPT4ge1xuICAgICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIHR5cGVvZiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBzZXR0aW5ncyBmb3IgdGhpcyB1c2VyXG4gICAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncyhsb2FkZWRTZXR0aW5ncyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERpc3BhdGNoIGV2ZW50IHRvIHVwZGF0ZSBVSVxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIHtcbiAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgdGltZXM6IGxvYWRlZFNldHRpbmdzLnRpbWVzLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBsb2FkZWRTZXR0aW5ncy5kZWxheVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIFRvcEJhciBkaXJlY3RseVxuICAgICAgICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGQnKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udHJvbC1pbnB1dC1maWVsZCcpWzFdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGltZUlucHV0KSB7XG4gICAgICAgICAgICAgIHRpbWVJbnB1dC50ZXh0Q29udGVudCA9IGxvYWRlZFNldHRpbmdzLnRpbWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbGF5SW5wdXQpIHtcbiAgICAgICAgICAgICAgZGVsYXlJbnB1dC50ZXh0Q29udGVudCA9IGxvYWRlZFNldHRpbmdzLmRlbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAocmV0cmllcyA+IDApIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gd2FpdEZvclJlZihyZXRyaWVzIC0gMSksIDUwMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQWN0aW9uQnV0dG9uR3JvdXAgcmVmIG5vdCBpbml0aWFsaXplZCBhZnRlciByZXRyaWVzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgd2FpdEZvclJlZigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEFkZCBhIHNtYWxsIGRlbGF5IHRvIGVuc3VyZSBjb21wb25lbnRzIGFyZSBtb3VudGVkXG4gICAgc2V0VGltZW91dChsb2FkU2V0dGluZ3MsIDEwMDApO1xuICB9LCBbdXNlcklkXSk7XG5cbiAgLy8gQWRkIHBvbGxpbmcgZm9yIHJlYWwtdGltZSB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hVcGRhdGVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF1c2VySWQpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9sb2FkLXNldHRpbmdzP3VzZXJJZD0ke3VzZXJJZH1gKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudCAmJiBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKSB7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uR3JvdXBSZWYuY3VycmVudC51cGRhdGVTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBZb3UgY2FuIGFkZCBpbWFnZSBmZXRjaGluZyBsb2dpYyBoZXJlIGlmIG5lZWRlZFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXBkYXRlczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEluaXRpYWwgZmV0Y2hcbiAgICBmZXRjaFVwZGF0ZXMoKTtcblxuICAgIC8vIFNldCB1cCBwb2xsaW5nIGludGVydmFsXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmZXRjaFVwZGF0ZXMsIDMwMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFt1c2VySWRdKTtcblxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBzZXR0aW5ncyBhbmQgaW1hZ2UgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsPy50eXBlID09PSAnY2FwdHVyZVNldHRpbmdzJyAmJiBldmVudC5kZXRhaWw/LnVzZXJJZCA9PT0gdXNlcklkKSB7XG4gICAgICAgIGNvbnN0IHsgdGltZXMsIGRlbGF5IH0gPSBldmVudC5kZXRhaWw7XG4gICAgICAgIGlmIChhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50ICYmIGFjdGlvbkJ1dHRvbkdyb3VwUmVmLmN1cnJlbnQudXBkYXRlU2V0dGluZ3MpIHtcbiAgICAgICAgICBhY3Rpb25CdXR0b25Hcm91cFJlZi5jdXJyZW50LnVwZGF0ZVNldHRpbmdzKHsgdGltZXMsIGRlbGF5IH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUltYWdlVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsPy50eXBlID09PSAnaW1hZ2UnICYmIGV2ZW50LmRldGFpbD8udXNlcklkID09PSB1c2VySWQpIHtcbiAgICAgICAgY29uc3QgeyBpbWFnZSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICAvLyBVcGRhdGUgaW1hZ2UgaW4gdGhlIFVJIGlmIG5lZWRlZFxuICAgICAgICAvLyBZb3UgY2FuIGFkZCB5b3VyIGltYWdlIHVwZGF0ZSBsb2dpYyBoZXJlXG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ltYWdlVXBkYXRlJywgaGFuZGxlSW1hZ2VVcGRhdGUpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYXB0dXJlU2V0dGluZ3NVcGRhdGUnLCBoYW5kbGVTZXR0aW5nc1VwZGF0ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW1hZ2VVcGRhdGUnLCBoYW5kbGVJbWFnZVVwZGF0ZSk7XG4gICAgfTtcbiAgfSwgW3VzZXJJZF0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BtYWluLWNvbnRhaW5lciAke2dldFNpemVDbGFzcygpfWB9PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5DYW1lcmEgRGF0YXNldCBDb2xsZWN0aW9uPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIFxuICAgICAgey8qIExvYWQgdGhlIHZpZGVvIHByb2Nlc3NvciBjb21wb25lbnQgKi99XG4gICAgICB7aXNIeWRyYXRlZCAmJiBpc0NsaWVudCAmJiA8VmlkZW9Qcm9jZXNzb3JDb21wb25lbnQgLz59XG4gICAgICBcbiAgICAgIHsvKiBCYWNrZW5kIGNvbm5lY3Rpb24gc3RhdHVzIGJhbm5lciAqL31cbiAgICAgIHtpc0h5ZHJhdGVkICYmIGJhY2tlbmRTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgcGFkZGluZzogJzZweCAwJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZlMGIyJyxcbiAgICAgICAgICBjb2xvcjogJyNlNjUxMDAnLFxuICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgekluZGV4OiAxMTAwXG4gICAgICAgIH19PlxuICAgICAgICAgIOKaoO+4jyBCYWNrZW5kIGRpc2Nvbm5lY3RlZC4gSHVycnkgdXAsIE1ha2UgT05MSU5FIHBsZWFzZSBhbmQgVXNpbmcgbW9jayBtb2RlXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIFRvcEJhciBjb21wb25lbnQgd2l0aCBvbkJ1dHRvbkNsaWNrIGhhbmRsZXIgLSBjb25kaXRpb25hbGx5IHJlbmRlcmVkICovfVxuICAgICAge3Nob3dUb3BCYXIgJiYgKFxuICAgICAgICA8VG9wQmFyIFxuICAgICAgICAgIG9uQnV0dG9uQ2xpY2s9e2hhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrfVxuICAgICAgICAgIG9uQ2FtZXJhQWNjZXNzPXsoKSA9PiBzZXRTaG93UGVybWlzc2lvblBvcHVwKHRydWUpfVxuICAgICAgICAgIG91dHB1dFRleHQ9e3N0YXR1c01lc3NhZ2UgfHwgb3V0cHV0VGV4dH1cbiAgICAgICAgICBvbk91dHB1dENoYW5nZT17KHRleHQpID0+IHNldE91dHB1dFRleHQodGV4dCl9XG4gICAgICAgICAgb25Ub2dnbGVUb3BCYXI9e3RvZ2dsZVRvcEJhcn1cbiAgICAgICAgICBvblRvZ2dsZU1ldHJpY3M9e3RvZ2dsZU1ldHJpY3N9XG4gICAgICAgICAgY2FudmFzUmVmPXtjYW52YXNSZWZ9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogU2hvdyByZXN0b3JlIGJ1dHRvbiB3aGVuIFRvcEJhciBpcyBoaWRkZW4gLSBwb3NpdGlvbmVkIGF0IHRvcCByaWdodCAqL31cbiAgICAgIHshc2hvd1RvcEJhciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVzdG9yZS1idXR0b24tY29udGFpbmVyXCIgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB0b3A6ICcxMHB4JyxcbiAgICAgICAgICByaWdodDogJzEwcHgnLFxuICAgICAgICAgIHpJbmRleDogMTAwMFxuICAgICAgICB9fT5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzdG9yZS1idG5cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlVG9wQmFyKHRydWUpfVxuICAgICAgICAgICAgdGl0bGU9XCJTaG93IFRvcEJhciBhbmQgTWV0cmljc1wiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBwYWRkaW5nOiAnNXB4IDEwcHgnLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzAwNjZjYycsXG4gICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAg4omhXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIFdhcm5pbmcgbWVzc2FnZSBiYW5uZXIgKi99XG4gICAgICB7aXNIeWRyYXRlZCAmJiBzaG93V2FybmluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2FybmluZy1iYW5uZXJcIiBzdHlsZT17e1xuICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgIHRvcDogc2hvd1RvcEJhciA/IChiYWNrZW5kU3RhdHVzID09PSAnZGlzY29ubmVjdGVkJyA/ICczMnB4JyA6ICc2MHB4JykgOiAnMCcsXG4gICAgICAgICAgbGVmdDogJzAnLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZWIzYicsXG4gICAgICAgICAgY29sb3I6ICcjMzMzJyxcbiAgICAgICAgICBwYWRkaW5nOiAnMTBweCcsXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICBib3hTaGFkb3c6ICcwIDJweCA0cHggcmdiYSgwLDAsMCwwLjIpJyxcbiAgICAgICAgICB6SW5kZXg6IDEwMTAsXG4gICAgICAgICAgYW5pbWF0aW9uOiAnZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQnXG4gICAgICAgIH19PlxuICAgICAgICAgIDxzdHJvbmc+4pqg77iPIHt3YXJuaW5nTWVzc2FnZX08L3N0cm9uZz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTWFpbiBwcmV2aWV3IGFyZWEgKi99XG4gICAgICA8ZGl2IFxuICAgICAgICByZWY9e3ByZXZpZXdBcmVhUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcHJldmlldy1hcmVhXCJcbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgaGVpZ2h0OiBzaG93VG9wQmFyID8gJ2NhbGMoMTAwdmggLSAxMjBweCknIDogJzEwMHZoJyxcbiAgICAgICAgICBtYXJnaW5Ub3A6IGJhY2tlbmRTdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnID8gJzMycHgnIDogJzAnLFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmNWY1ZjUnLFxuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7IXNob3dDYW1lcmEgPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXByZXZpZXctbWVzc2FnZVwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgcG9zaXRpb246IHNob3dUb3BCYXIgPyAncmVsYXRpdmUnIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgekluZGV4OiA1XG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgPHA+Q2FtZXJhIHByZXZpZXcgd2lsbCBhcHBlYXIgaGVyZTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FtZXJhLXNpemUtaW5kaWNhdG9yXCI+Q3VycmVudCB3aW5kb3c6IHt3aW5kb3dTaXplLnBlcmNlbnRhZ2V9JSBvZiBzY3JlZW4gd2lkdGg8L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQ2FtZXJhIHBsYWNlaG9sZGVyIHNxdWFyZSAtIHNtYWxsIHZlcnNpb24gKi99XG4gICAgICAgICAgICAgIHtpc0h5ZHJhdGVkICYmIHNob3dDYW1lcmFQbGFjZWhvbGRlciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1wbGFjZWhvbGRlci1zcXVhcmVcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxODBweCcsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEzNXB4JyxcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMjBweCBhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IGRhc2hlZCAjNjY2JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y1ZjVmNScsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMS41cmVtJyB9fT7wn5O3PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQWN0aW9uIGJ1dHRvbnMgZm9yIGNhbWVyYSBjb250cm9sICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbWVyYS1hY3Rpb24tYnV0dG9ucy1jb250YWluZXJcIiBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICczMHB4JywgXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6ICc2MDBweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMzBweCBhdXRvJ1xuICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uR3JvdXBcbiAgICAgICAgICAgICAgICAgIHJlZj17YWN0aW9uQnV0dG9uR3JvdXBSZWZ9XG4gICAgICAgICAgICAgICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzPXt0cmlnZ2VyQ2FtZXJhQWNjZXNzfVxuICAgICAgICAgICAgICAgICAgaXNDb21wYWN0TW9kZT17d2luZG93U2l6ZS53aWR0aCA8IDc2OH1cbiAgICAgICAgICAgICAgICAgIG9uQWN0aW9uQ2xpY2s9e2hhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgc2hvd0hlYWRQb3NlPXtzaG93SGVhZFBvc2V9XG4gICAgICAgICAgICAgICAgICBzaG93Qm91bmRpbmdCb3g9e3Nob3dCb3VuZGluZ0JveH1cbiAgICAgICAgICAgICAgICAgIHNob3dNYXNrPXtzaG93TWFza31cbiAgICAgICAgICAgICAgICAgIHNob3dQYXJhbWV0ZXJzPXtzaG93UGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ2FudmFzIGZvciBleWUgdHJhY2tpbmcgZG90cyAqL31cbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbnZhcy1jb250YWluZXJcIiBcbiAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsIFxuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgekluZGV4OiAxMCBcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGNhbnZhcyBcbiAgICAgICAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0cmFja2luZy1jYW52YXNcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywgXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycgXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgXG4gICAgICAgIHsvKiBNZXRyaWNzIGluZm8gLSBjb25kaXRpb25hbGx5IHJlbmRlcmVkICovfVxuICAgICAgICB7aXNIeWRyYXRlZCAmJiBzaG93TWV0cmljcyAmJiAoXG4gICAgICAgICAgPERpc3BsYXlSZXNwb25zZSBcbiAgICAgICAgICAgIHdpZHRoPXttZXRyaWNzLndpZHRofSBcbiAgICAgICAgICAgIGhlaWdodD17bWV0cmljcy5oZWlnaHR9IFxuICAgICAgICAgICAgZGlzdGFuY2U9e21ldHJpY3MuZGlzdGFuY2V9XG4gICAgICAgICAgICBpc1Zpc2libGU9e3Nob3dNZXRyaWNzfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogQ2FtZXJhIGNvbXBvbmVudCAtIHVzaW5nIGNsaWVudC1vbmx5IHZlcnNpb24gKi99XG4gICAgICAgIHtpc0h5ZHJhdGVkICYmIGlzQ2xpZW50ICYmIHNob3dDYW1lcmEgJiYgKFxuICAgICAgICAgIDxEeW5hbWljQ2FtZXJhQWNjZXNzXG4gICAgICAgICAgICBpc1Nob3dpbmc9e3Nob3dDYW1lcmF9IFxuICAgICAgICAgICAgb25DbG9zZT17aGFuZGxlQ2FtZXJhQ2xvc2V9XG4gICAgICAgICAgICBvbkNhbWVyYVJlYWR5PXtoYW5kbGVDYW1lcmFSZWFkeX1cbiAgICAgICAgICAgIHNob3dIZWFkUG9zZT17c2hvd0hlYWRQb3NlfVxuICAgICAgICAgICAgc2hvd0JvdW5kaW5nQm94PXtzaG93Qm91bmRpbmdCb3h9XG4gICAgICAgICAgICBzaG93TWFzaz17c2hvd01hc2t9XG4gICAgICAgICAgICBzaG93UGFyYW1ldGVycz17c2hvd1BhcmFtZXRlcnN9XG4gICAgICAgICAgICB2aWRlb1JlZj17dmlkZW9SZWZ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBDYW1lcmEgcGVybWlzc2lvbiBwb3B1cCAqL31cbiAgICAgICAge2lzSHlkcmF0ZWQgJiYgaXNDbGllbnQgJiYgc2hvd1Blcm1pc3Npb25Qb3B1cCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1wb3B1cFwiIHN0eWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICB6SW5kZXg6IDIwMDBcbiAgICAgICAgICB9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tZGlhbG9nXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgd2lkdGg6ICc0MDBweCcsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpJ1xuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi10aXRsZVwiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDE1cHgnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnXG4gICAgICAgICAgICAgIH19PkNhbWVyYSBBY2Nlc3MgUmVxdWlyZWQ8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1tZXNzYWdlXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAgMjBweCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMS40J1xuICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBUaGlzIGFwcGxpY2F0aW9uIG5lZWRzIGFjY2VzcyB0byB5b3VyIGNhbWVyYSB0byBmdW5jdGlvbiBwcm9wZXJseS4gXG4gICAgICAgICAgICAgICAgV2hlbiBwcm9tcHRlZCBieSB5b3VyIGJyb3dzZXIsIHBsZWFzZSBjbGljayBcIkFsbG93XCIgdG8gZ3JhbnQgY2FtZXJhIGFjY2Vzcy5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLWJ1dHRvbnNcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgICAgICAgICAgICBnYXA6ICcxMHB4J1xuICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkRlbmllZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1idG5cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2YwZjBmMCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLWJ0blwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA2NmNjJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBDb250aW51ZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJIZWFkIiwiZHluYW1pYyIsIlRvcEJhciIsIkRpc3BsYXlSZXNwb25zZSIsIkFjdGlvbkJ1dHRvbkdyb3VwIiwic2hvd0NhcHR1cmVQcmV2aWV3IiwiY2FwdHVyZUltYWdlc0F0UG9pbnQiLCJkcmF3UmVkRG90IiwiZ2V0UmFuZG9tUG9zaXRpb24iLCJydW5Db3VudGRvd24iLCJ1c2VDb25zZW50IiwiVmlkZW9Qcm9jZXNzb3JDb21wb25lbnQiLCJzc3IiLCJEeW5hbWljQ2FtZXJhQWNjZXNzIiwibG9hZGluZyIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwidHJhbnNmb3JtIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsInRleHRBbGlnbiIsInpJbmRleCIsImZvbnRTaXplIiwibWFyZ2luQm90dG9tIiwicCIsImZvbnRXZWlnaHQiLCJjb2xvciIsIkNvbGxlY3RlZERhdGFzZXRQYWdlIiwiaXNIeWRyYXRlZCIsInNldElzSHlkcmF0ZWQiLCJzaG93Q2FtZXJhIiwic2V0U2hvd0NhbWVyYSIsInNob3dQZXJtaXNzaW9uUG9wdXAiLCJzZXRTaG93UGVybWlzc2lvblBvcHVwIiwic2hvd1RvcEJhciIsInNldFNob3dUb3BCYXIiLCJzaG93TWV0cmljcyIsInNldFNob3dNZXRyaWNzIiwib3V0cHV0VGV4dCIsInNldE91dHB1dFRleHQiLCJtZXRyaWNzIiwic2V0TWV0cmljcyIsImRpc3RhbmNlIiwid2luZG93U2l6ZSIsInNldFdpbmRvd1NpemUiLCJwZXJjZW50YWdlIiwicHJldmlld0FyZWFSZWYiLCJjYW52YXNSZWYiLCJ2aWRlb1JlZiIsImNhcHR1cmVDb3VudGVyIiwic2V0Q2FwdHVyZUNvdW50ZXIiLCJjYXB0dXJlRm9sZGVyIiwic2V0Q2FwdHVyZUZvbGRlciIsInNob3dIZWFkUG9zZSIsInNldFNob3dIZWFkUG9zZSIsInNob3dCb3VuZGluZ0JveCIsInNldFNob3dCb3VuZGluZ0JveCIsInNob3dNYXNrIiwic2V0U2hvd01hc2siLCJzaG93UGFyYW1ldGVycyIsInNldFNob3dQYXJhbWV0ZXJzIiwic2hvd0NhbWVyYVBsYWNlaG9sZGVyIiwic2V0U2hvd0NhbWVyYVBsYWNlaG9sZGVyIiwiY2FtZXJhUGVybWlzc2lvbkdyYW50ZWQiLCJzZXRDYW1lcmFQZXJtaXNzaW9uR3JhbnRlZCIsInNob3dXYXJuaW5nIiwic2V0U2hvd1dhcm5pbmciLCJ3YXJuaW5nTWVzc2FnZSIsInNldFdhcm5pbmdNZXNzYWdlIiwiYmFja2VuZFN0YXR1cyIsInNldEJhY2tlbmRTdGF0dXMiLCJhY3Rpb25CdXR0b25Hcm91cFJlZiIsInN0YXR1c01lc3NhZ2UiLCJzZXRTdGF0dXNNZXNzYWdlIiwic2hvd1NldHRpbmdzIiwic2V0U2hvd1NldHRpbmdzIiwiY3VycmVudFVzZXJJZCIsInNldEN1cnJlbnRVc2VySWQiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwiZXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJsb2FkU2V0dGluZ3MiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInVzZXJTZXR0aW5ncyIsImpzb24iLCJ0eXBlIiwiZXJyb3IiLCJoYW5kbGVTZXR0aW5nc1VwZGF0ZSIsInRpbWVzIiwiZGVsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldE1haW5DYW52YXMiLCJjdXJyZW50Iiwid2hpdGVTY3JlZW5DYW52YXMiLCJkb2N1bWVudCIsImNhbnZhc0VsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2FybiIsImlzQ2xpZW50IiwiY2FudmFzIiwiY2FudmFzRGltZW5zaW9ucyIsImluaXRpYWxpemVDYW52YXMiLCJwYXJlbnQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInNldFRpbWVvdXQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZGltZW5zaW9ucyIsInJlY3RTaXplIiwiaXNWaXNpYmxlIiwiYWRqdXN0Q2FudmFzRGltZW5zaW9ucyIsImNvbnRhaW5lciIsInRvcEJhckhlaWdodCIsImNvbnRhaW5lcldpZHRoIiwiY29udGFpbmVySGVpZ2h0IiwidG9wQmFyVmlzaWJsZSIsImNhbGN1bGF0ZWRIZWlnaHQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXBsYWNlIiwiY2hlY2tCYWNrZW5kQ29ubmVjdGlvbiIsImRhdGEiLCJjb25uZWN0ZWQiLCJ1cGRhdGVEaW1lbnNpb25zIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJzY3JlZW5QZXJjZW50YWdlIiwiaW5uZXJXaWR0aCIsInNjcmVlbiIsInByZXYiLCJpbm5lckhlaWdodCIsIk1hdGgiLCJyb3VuZCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwidG9nZ2xlVG9wQmFyIiwic2hvdyIsInRvZ2dsZUNhbWVyYSIsInNob3VsZEVuYWJsZSIsImhhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrIiwiYWN0aW9uVHlwZSIsInBhcmFtcyIsIm5ld1RvcEJhclN0YXRlIiwidmFsdWUiLCJzYWZlUGFyYW1zIiwicmFuZG9tVGltZXMiLCJkZWxheVNlY29uZHMiLCJoYW5kbGVTZXRSYW5kb20iLCJhY3Rpb25CdXR0b25GdW5jdGlvbnMiLCJ0aW1lSW5wdXQiLCJkZWxheUlucHV0IiwicXVlcnlTZWxlY3RvckFsbCIsInBhcnNlZFRpbWUiLCJwYXJzZUludCIsImlzTmFOIiwicGFyc2VkRGVsYXkiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsImNvdW50U2F2ZU1vZHVsZSIsInNhdmVmaWxlTW9kdWxlIiwic3VjY2Vzc0NvdW50IiwiY3VycmVudENhcHR1cmUiLCJ4IiwieSIsInJlZHJhd0ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJyZXNvbHZlIiwic3RhdHVzIiwicHJvY2Vzc1N0YXR1cyIsImNsZWFySW50ZXJ2YWwiLCJjYXB0dXJlUmVzdWx0IiwicG9pbnQiLCJjYXB0dXJlQ291bnQiLCJzZXRDYXB0dXJlQ291bnQiLCJzY3JlZW5JbWFnZSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiY2F0Y2giLCJoYW5kbGVSYW5kb21Eb3QiLCJkb3QiLCJlcnIiLCJuZXdIZWFkUG9zZVN0YXRlIiwidmlkZW9Qcm9jZXNzb3IiLCJ1cGRhdGVPcHRpb25zIiwib3B0aW9ucyIsIm5ld0JvdW5kaW5nQm94U3RhdGUiLCJuZXdNYXNrU3RhdGUiLCJuZXdQYXJhbWV0ZXJzU3RhdGUiLCJoYW5kbGVTZXRDYWxpYnJhdGUiLCJjYWxpYnJhdGVQb2ludHNNb2R1bGUiLCJnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIiwicG9pbnRzIiwibGVuZ3RoIiwic3RhdHVzSW5kaWNhdG9yIiwiY2xhc3NOYW1lIiwiY3NzVGV4dCIsImJvZHkiLCJ0cmlnZ2VyQ2FtZXJhQWNjZXNzIiwiaSIsInBhcmVudE5vZGUiLCJoYW5kbGVQZXJtaXNzaW9uQWNjZXB0ZWQiLCJoYW5kbGVQZXJtaXNzaW9uRGVuaWVkIiwiaGFuZGxlQ2FtZXJhQ2xvc2UiLCJoYW5kbGVDYW1lcmFSZWFkeSIsInVuZGVmaW5lZCIsInRvZ2dsZU1ldHJpY3MiLCJmb3JjZUVuYWJsZSIsInN0YXJ0VmlkZW9Qcm9jZXNzaW5nIiwic2hvd1Byb2Nlc3NlZEltYWdlIiwiZ2V0U2l6ZUNsYXNzIiwiaGFuZGxlU2V0dGluZ3NWaXNpYmlsaXR5IiwiaGFuZGxlU2V0dGluZ3NNZXNzYWdlIiwiaGFuZGxlVXNlcklkQ2hhbmdlIiwic2V0Q2FwdHVyZVNldHRpbmdzIiwibG9hZGVkU2V0dGluZ3MiLCJ3YWl0Rm9yUmVmIiwicmV0cmllcyIsImZldGNoVXBkYXRlcyIsInNldHRpbmdzIiwidXBkYXRlU2V0dGluZ3MiLCJpbnRlcnZhbCIsImhhbmRsZUltYWdlVXBkYXRlIiwiaW1hZ2UiLCJ0aXRsZSIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsInBhZGRpbmciLCJvbkJ1dHRvbkNsaWNrIiwib25DYW1lcmFBY2Nlc3MiLCJvbk91dHB1dENoYW5nZSIsInRleHQiLCJvblRvZ2dsZVRvcEJhciIsIm9uVG9nZ2xlTWV0cmljcyIsInJpZ2h0IiwiYnV0dG9uIiwib25DbGljayIsImJhY2tncm91bmQiLCJjdXJzb3IiLCJib3hTaGFkb3ciLCJhbmltYXRpb24iLCJzdHJvbmciLCJyZWYiLCJtYXJnaW5Ub3AiLCJvdmVyZmxvdyIsIm1hcmdpbiIsIm1heFdpZHRoIiwiaXNDb21wYWN0TW9kZSIsIm9uQWN0aW9uQ2xpY2siLCJpc1Nob3dpbmciLCJvbkNsb3NlIiwib25DYW1lcmFSZWFkeSIsImgzIiwibGluZUhlaWdodCIsImdhcCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset-customized/index.js\n"));

/***/ })

});
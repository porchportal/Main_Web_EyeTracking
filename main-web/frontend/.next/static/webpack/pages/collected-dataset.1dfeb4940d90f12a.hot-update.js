"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/collected-dataset",{

/***/ "(pages-dir-browser)/./pages/collected-dataset/components-gui/actionButton.js":
/*!****************************************************************!*\
  !*** ./pages/collected-dataset/components-gui/actionButton.js ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionButton: () => (/* binding */ ActionButton),\n/* harmony export */   ActionButtonGroup: () => (/* binding */ ActionButtonGroup)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-browser)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Action/CalibratePoints */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/CalibratePoints.js\");\n/* harmony import */ var _Action_countSave__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Action/countSave */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/countSave.js\");\n/* harmony import */ var _Helper_savefile__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Helper/savefile */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Helper/savefile.js\");\n// Modified ActionButton.js - Fixing canvas reference issues\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n// Create a basic ActionButton component\nconst ActionButton = (param)=>{\n    let { text, abbreviatedText, onClick, customClass = '', disabled = false, active = false } = param;\n    _s();\n    const [isAbbreviated, setIsAbbreviated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Check window size and set abbreviated mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            // Skip during SSR\n            if (false) {}\n            const handleResize = {\n                \"ActionButton.useEffect.handleResize\": ()=>{\n                    const width = window.innerWidth;\n                    setIsAbbreviated(width < 768);\n                }\n            }[\"ActionButton.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            handleResize(); // Initial call\n            return ({\n                \"ActionButton.useEffect\": ()=>window.removeEventListener('resize', handleResize)\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: onClick,\n        className: \"transition-colors py-2 px-2 md:px-4 rounded-md text-xs md:text-sm font-medium \".concat(customClass, \" \").concat(active ? 'active-button' : ''),\n        style: {\n            backgroundColor: active ? 'rgba(0, 102, 204, 0.7)' : disabled ? 'rgba(200, 200, 200, 0.5)' : 'rgba(124, 255, 218, 0.5)',\n            color: active ? 'white' : 'black',\n            borderRadius: '7px',\n            cursor: disabled ? 'not-allowed' : 'pointer',\n            fontWeight: active ? 'bold' : 'normal',\n            boxShadow: active ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n        },\n        disabled: disabled,\n        children: isAbbreviated ? abbreviatedText : text\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, undefined);\n};\n_s(ActionButton, \"9ND8t9X8+bjAcXyP/Y+5/aAkuVQ=\");\n_c = ActionButton;\n// Create the ActionButtonGroup component with client-side only rendering\nconst ActionButtonGroupInner = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(_s1((param, ref)=>{\n    let { triggerCameraAccess, isCompactMode, onActionClick } = param;\n    _s1();\n    // State for button actions\n    const [randomTimes, setRandomTimes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [delaySeconds, setDelaySeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(3);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [countdownValue, setCountdownValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentDot, setCurrentDot] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [calibrationPoints, setCalibrationPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentCalibrationIndex, setCurrentCalibrationIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [remainingCaptures, setRemainingCaptures] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showCanvas, setShowCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Track the capture count\n    const [calibrationHandler, setCalibrationHandler] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [captureCount, setCaptureCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Toggle states\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isCameraActive, setIsCameraActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, {\n        \"ActionButtonGroupInner.useImperativeHandle\": ()=>({\n                handleRandomDot,\n                handleSetRandom,\n                handleSetCalibrate,\n                handleClearAll\n            })\n    }[\"ActionButtonGroupInner.useImperativeHandle\"], []);\n    // Make initializeCanvas available globally\n    // useEffect(() => {\n    //   // Skip during SSR\n    //   if (typeof window === 'undefined') return;\n    //   // Make initializeCanvas available to other components through the window object\n    //   window.initializeCanvas = initializeCanvas;\n    //   return () => {\n    //     // Clean up\n    //     delete window.initializeCanvas;\n    //   };\n    // }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            // Make functions globally accessible as a fallback\n            if (true) {\n                window.actionButtonFunctions = {\n                    handleRandomDot,\n                    handleSetRandom,\n                    handleSetCalibrate,\n                    handleClearAll\n                };\n            // console.log('Action button functions exposed to window.actionButtonFunctions');\n            }\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (true) {\n                        delete window.actionButtonFunctions;\n                    }\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (false) {}\n            // Function to get control values from TopBar\n            const updateControlValues = {\n                \"ActionButtonGroupInner.useEffect.updateControlValues\": ()=>{\n                    // Get the time input element\n                    const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n                    if (timeInput) {\n                        const timeValue = parseInt(timeInput.value, 10);\n                        if (!isNaN(timeValue) && timeValue > 0) {\n                            setRandomTimes(timeValue);\n                        }\n                    }\n                    // Get the delay input element\n                    const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n                    if (delayInput) {\n                        const delayValue = parseInt(delayInput.value, 10);\n                        if (!isNaN(delayValue) && delayValue > 0) {\n                            setDelaySeconds(delayValue);\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.updateControlValues\"];\n            // Add event listeners to the control inputs\n            const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n            const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n            if (timeInput) {\n                timeInput.addEventListener('change', updateControlValues);\n            }\n            if (delayInput) {\n                delayInput.addEventListener('change', updateControlValues);\n            }\n            // Initial update\n            updateControlValues();\n            // Cleanup event listeners\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (timeInput) {\n                        timeInput.removeEventListener('change', updateControlValues);\n                    }\n                    if (delayInput) {\n                        delayInput.removeEventListener('change', updateControlValues);\n                    }\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    const initializeCanvas = function(canvas, parent) {\n        let forceDimensions = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n        if (!canvas) {\n            console.error('[initializeCanvas] Canvas is null');\n            return false;\n        }\n        try {\n            // Set canvas dimensions either from forced dimensions or parent\n            if (forceDimensions) {\n                canvas.width = forceDimensions.width;\n                canvas.height = forceDimensions.height;\n            } else if (parent) {\n                // Get parent dimensions, ensuring they're non-zero\n                const parentWidth = parent.clientWidth || 800;\n                const parentHeight = parent.clientHeight || 600;\n                // Only update if different to avoid redrawing\n                if (canvas.width !== parentWidth || canvas.height !== parentHeight) {\n                    canvas.width = parentWidth;\n                    canvas.height = parentHeight;\n                }\n            } else {\n                // Fallback dimensions if no parent\n                if (canvas.width <= 0) canvas.width = 800;\n                if (canvas.height <= 0) canvas.height = 600;\n            }\n            // Clear canvas with white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            return true;\n        } catch (error) {\n            console.error('[initializeCanvas] Error:', error);\n            return false;\n        }\n    };\n    // Reliable function to get main canvas with proper dimensions\n    const getMainCanvas = (canvasRef)=>{\n        // Try multiple methods to find the canvas\n        let canvas = null;\n        // Method 1: Check direct reference\n        if (canvasRef.current) {\n            canvas = canvasRef.current;\n        } else if ( true && window.whiteScreenCanvas) {\n            canvas = window.whiteScreenCanvas;\n            // Update our ref\n            if (canvasRef) canvasRef.current = canvas;\n        } else if (typeof document !== 'undefined') {\n            const canvasElement = document.querySelector('.tracking-canvas');\n            if (canvasElement) {\n                canvas = canvasElement;\n                // Update references\n                if (canvasRef) canvasRef.current = canvas;\n                if (true) {\n                    window.whiteScreenCanvas = canvas;\n                }\n            }\n        }\n        // Ensure canvas has proper dimensions if found\n        if (canvas) {\n            const parent = canvas.parentElement;\n            if (parent && (canvas.width <= 0 || canvas.height <= 0)) {\n                initializeCanvas(canvas, parent);\n            }\n        }\n        return canvas;\n    };\n    // Reset canvas to normal mode after fullscreen/calibration\n    const resetCanvasToNormal = (canvas)=>{\n        if (!canvas) return;\n        // Reset canvas styling\n        canvas.style.position = '';\n        canvas.style.top = '';\n        canvas.style.left = '';\n        canvas.style.width = '100%';\n        canvas.style.height = '100%';\n        canvas.style.zIndex = '';\n        // Resize to parent\n        const parent = canvas.parentElement;\n        if (parent) {\n            initializeCanvas(canvas, parent);\n        }\n    };\n    // Set canvas to fullscreen mode (for calibration)\n    const setCanvasFullscreen = (canvas)=>{\n        if (!canvas) return;\n        // Get window dimensions\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        // Force dimensions\n        canvas.width = windowWidth;\n        canvas.height = windowHeight;\n        // Set fullscreen styling\n        canvas.style.position = 'fixed';\n        canvas.style.top = '0';\n        canvas.style.left = '0';\n        canvas.style.width = '100vw';\n        canvas.style.height = '100vh';\n        canvas.style.zIndex = '1000';\n        // Clear to white background\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    };\n    const handlePermissionAccepted = ()=>{\n        setShowPermissionPopup(false);\n        if (triggerCameraAccess) {\n            triggerCameraAccess(true); // Force enable camera access\n        }\n    };\n    // Handler to cancel permission popup\n    const handlePermissionDenied = ()=>{\n        setShowPermissionPopup(false);\n    };\n    // Draw a dot on the canvas\n    const drawDot = function(x, y) {\n        let color = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 'red', radius = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 5;\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.error(\"No canvas found for drawing dot\");\n            setProcessStatus(\"Error: Canvas not available\");\n            return null;\n        }\n        const parent = canvas.parentElement;\n        if (parent) {\n            initializeCanvas(canvas, parent);\n        }\n        const ctx = canvas.getContext('2d');\n        // Clear previous dot if any\n        clearCanvas();\n        // Use drawRedDot from countSave.js\n        (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, x, y, radius, false);\n        // Save current dot position\n        setCurrentDot({\n            x,\n            y\n        });\n        return {\n            x,\n            y\n        };\n    };\n    // Clear the canvas\n    const clearCanvas = ()=>{\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found for clearing\");\n            return;\n        }\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        setCurrentDot(null);\n    };\n    // Generate a random position using getRandomPosition from countSave.js\n    const getRandomDotPosition = ()=>{\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found for generating random position\");\n            return {\n                x: 100,\n                y: 100\n            }; // Default fallback\n        }\n        // Use getRandomPosition from countSave.js\n        return (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.getRandomPosition)(canvas, 20); // 20px padding from edges\n    };\n    // Countdown timer function\n    const startCountdown = function(count, onComplete) {\n        let directPosition = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n        setIsCapturing(true);\n        setCountdownValue(count);\n        // Use the canvas and current dot to run countdown\n        const canvas = getMainCanvas();\n        // Use either currentDot from state or directPosition parameter\n        const dotPosition = directPosition || currentDot;\n        if (!canvas || !dotPosition) {\n            console.error(\"Canvas or dot position not available for countdown\", {\n                canvas: !!canvas,\n                dotPosition,\n                currentDot\n            });\n            setIsCapturing(false);\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', true);\n            }\n            setProcessStatus(\"Error: Could not start countdown\");\n            return;\n        }\n        // Use runCountdown from countSave.js\n        (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.runCountdown)(dotPosition, canvas, (status)=>{\n            // Update UI based on countdown status\n            if (status.countdownValue) {\n                setCountdownValue(status.countdownValue);\n            }\n            if (status.processStatus) {\n                setProcessStatus(status.processStatus);\n            }\n            setIsCapturing(status.isCapturing !== false);\n        }, onComplete);\n    };\n    // Add this function to actionButton.js\n    /**\n   * Consolidated function that handles the entire dot process: drawing, countdown, capture, and preview\n   * @param {Object} options - Configuration options\n   * @param {Object} options.position - {x, y} coordinates where to draw the dot\n   * @param {Function} options.onStatusUpdate - Callback for status updates\n   * @param {Function} options.toggleTopBar - Function to toggle top bar visibility\n   * @param {Function} options.triggerCameraAccess - Function to ensure camera is available\n   * @param {Function} options.setIsCapturing - Function to update capturing state\n   * @param {Number} options.captureCount - Current capture counter\n   * @param {Function} options.setCaptureCount - Function to update the capture counter\n   * @param {Boolean} options.useRandomPosition - Whether to generate a random position\n   * @returns {Promise<Object>} - Result object with capture data\n   */ const handleDotProcess = async (options)=>{\n        const { position, onStatusUpdate, toggleTopBar, triggerCameraAccess, setIsCapturing, captureCount, setCaptureCount, useRandomPosition = false, postCountdownDelay = 500 // Default value if not provided\n         } = options;\n        try {\n            // Hide the TopBar before showing the dot\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(false);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(false);\n            }\n            // Set capturing state\n            setIsCapturing(true);\n            // Update status\n            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                processStatus: useRandomPosition ? 'Generating random dot...' : 'Starting dot process...',\n                isCapturing: true\n            });\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 200));\n            // Get canvas reference\n            const canvas = getMainCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available for dot process\");\n            }\n            // Ensure canvas dimensions are proper\n            if (canvas.width <= 0 || canvas.height <= 0) {\n                const parent = canvas.parentElement;\n                if (parent) {\n                    // canvas.width = parent.clientWidth || 800;\n                    // canvas.height = parent.clientHeight || 600;\n                    canvas.width = parent.clientWidth;\n                    canvas.height = parent.clientHeight;\n                }\n            // else {\n            //   canvas.width = 800;\n            //   canvas.height = 600;\n            // }\n            }\n            // Clear canvas and prepare for drawing\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // Get position for the dot - either use provided position or generate random one\n            const dotPosition = useRandomPosition ? (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.getRandomPosition)(canvas, 20) : position;\n            if (!dotPosition || typeof dotPosition.x !== 'number' || typeof dotPosition.y !== 'number') {\n                throw new Error(\"Invalid dot position\");\n            }\n            // Draw the dot\n            const dotRadius = 12;\n            (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, true);\n            // Create a redraw interval to ensure dot stays visible\n            let keepDotVisibleInterval = setInterval(()=>{\n                (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            }, 100);\n            // Set a flag for tracking if we've shown the previews\n            let previewsShown = false;\n            // Run countdown with dot position\n            await new Promise((resolve, reject)=>{\n                try {\n                    (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.runCountdown)(dotPosition, canvas, (status)=>{\n                        // Update UI based on status\n                        if (status.processStatus) {\n                            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate(status);\n                        }\n                    }, resolve // This will be called when countdown completes\n                    );\n                } catch (error) {\n                    clearInterval(keepDotVisibleInterval);\n                    reject(error);\n                }\n            });\n            // After countdown completes, update the status\n            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                processStatus: 'Countdown complete, preparing capture...',\n                isCapturing: true\n            });\n            // Ensure the dot is still visible after countdown\n            (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Add additional delay after countdown to keep dot visible longer\n            await new Promise((resolve)=>setTimeout(resolve, postCountdownDelay));\n            // Access webcam before capture\n            // if (triggerCameraAccess) {\n            //   triggerCameraAccess(true);\n            // }\n            // Ensure the dot is still visible after additional delay\n            (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Wait briefly for camera to initialize, but continue showing the dot\n            await new Promise((resolve)=>setTimeout(resolve, 500));\n            // Use a function wrapper to handle original preview reference\n            const originalShowCapturePreview = window.showCapturePreview || _Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview;\n            // Create a modified preview function that knows when previews are shown\n            const previewTracker = (screenImage, webcamImage, point)=>{\n                // Mark previews as shown\n                previewsShown = true;\n                // Stop redrawing the dot once previews are shown\n                clearInterval(keepDotVisibleInterval);\n                // Call the original preview function\n                originalShowCapturePreview(screenImage, webcamImage, point);\n                // Update status\n                onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                    processStatus: 'Images captured and saved',\n                    isCapturing: false\n                });\n            };\n            // Override the preview function temporarily\n            if (true) {\n                window.showCapturePreview = previewTracker;\n            }\n            // Capture images at the dot position\n            const captureResult = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__.captureImagesAtPoint)({\n                point: dotPosition,\n                captureCount: captureCount,\n                canvasRef: {\n                    current: canvas\n                },\n                setCaptureCount: setCaptureCount,\n                showCapturePreview: previewTracker\n            });\n            // Increment capture counter\n            // setCaptureCount(prev => prev + 1);\n            // Set a safety timeout to clear the interval if previews weren't shown\n            setTimeout(()=>{\n                if (!previewsShown) {\n                    clearInterval(keepDotVisibleInterval);\n                    // Restore original preview function\n                    if (true) {\n                        window.showCapturePreview = originalShowCapturePreview;\n                    }\n                }\n            }, 3000);\n            // Schedule TopBar to return\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if ( true && window.toggleTopBar) {\n                    window.toggleTopBar(true);\n                }\n                setIsCapturing(false);\n            }, 2500);\n            return {\n                success: true,\n                position: dotPosition,\n                captureResult\n            };\n        } catch (error) {\n            console.error(\"Error in handleDotProcess:\", error);\n            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                processStatus: \"Error: \".concat(error.message),\n                isCapturing: false\n            });\n            // Clean up\n            setIsCapturing(false);\n            // Restore any overridden functions\n            if ( true && window.originalShowCapturePreview) {\n                window.showCapturePreview = window.originalShowCapturePreview;\n            }\n            // Make sure TopBar returns if there's an error\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if ( true && window.toggleTopBar) {\n                    window.toggleTopBar(true);\n                }\n            }, 1000);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    };\n    // Function to capture images at the current dot position\n    const captureImagesFunc = (x, y)=>{\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.error(\"No canvas found for image capture\");\n            setProcessStatus(\"Error: Canvas not available\");\n            setIsCapturing(false);\n            return;\n        }\n        // Create a working canvasRef object to pass to captureImagesAtPoint\n        const tempCanvasRef = {\n            current: canvas\n        };\n        // Use captureImagesAtPoint from countSave.js\n        (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__.captureImagesAtPoint)({\n            point: {\n                x,\n                y\n            },\n            captureCount: captureCount,\n            canvasRef: tempCanvasRef,\n            setCaptureCount: setCaptureCount,\n            showCapturePreview: (screenImage, webcamImage, point)=>{\n                // Use imported showCapturePreview from countSave.js\n                if (!screenImage) {\n                    console.warn(\"No screen image found. Using canvas as fallback.\");\n                    // Create a fallback image from canvas\n                    if (canvas) {\n                        const fallbackImage = canvas.toDataURL('image/png');\n                        (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview)(fallbackImage, webcamImage, point);\n                    } else {\n                        throw new Error(\"Canvas not available for fallback image\");\n                    }\n                } else {\n                    (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview)(screenImage, webcamImage, point);\n                }\n                // Update status\n                setProcessStatus('Images captured and saved');\n                // Show TopBar again after a brief delay\n                setTimeout(()=>{\n                    if (typeof onActionClick === 'function') {\n                        // Signal to parent to show the TopBar again\n                        onActionClick('toggleTopBar', true);\n                    }\n                }, 1000);\n                // Reset capturing state\n                setIsCapturing(false);\n            }\n        }).then(()=>{\n            // Increment the capture counter\n            setCaptureCount((prevCount)=>prevCount + 1);\n        }).catch((err)=>{\n            console.error('Error during image capture:', err);\n            setIsCapturing(false);\n            setProcessStatus(\"Error: \".concat(err.message));\n        });\n    };\n    // This partial file shows only the fixed handleSetRandom function\n    // Refactored handleSetRandom function using handleDotProcess\n    // Improved handleSetRandom function using handleDotProcess\n    const handleSetRandom = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Read values from TopBar inputs\n            const timeInput = document.querySelector('.control-input-field');\n            const delayInput = document.querySelectorAll('.control-input-field')[1];\n            // Default values if inputs can't be found\n            let times = randomTimes || 1; // Use state as backup\n            let delay = delaySeconds || 3; // Use state as backup\n            // Parse input values if available\n            if (timeInput) {\n                const parsedTime = parseInt(timeInput.value, 10);\n                if (!isNaN(parsedTime) && parsedTime > 0) {\n                    times = parsedTime;\n                    // Also update state\n                    setRandomTimes(times);\n                }\n            }\n            if (delayInput) {\n                const parsedDelay = parseInt(delayInput.value, 10);\n                if (!isNaN(parsedDelay) && parsedDelay > 0) {\n                    delay = parsedDelay;\n                    // Also update state\n                    setDelaySeconds(delay);\n                }\n            }\n            // Validate inputs\n            if (times <= 0) {\n                setProcessStatus('Error: Number of times must be greater than 0');\n                return;\n            }\n            if (delay <= 0) {\n                setProcessStatus('Error: Delay must be greater than 0 seconds');\n                return;\n            }\n            // Hide TopBar initially\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(false);\n            }\n            // Show canvas if not already visible\n            setShowCanvas(true);\n            setIsCapturing(true);\n            // Update status\n            setRemainingCaptures(times);\n            setProcessStatus(\"Starting \".concat(times, \" random captures with \").concat(delay, \"s delay...\"));\n            // Process all random captures sequentially\n            let remainingCaptures = times;\n            let currentIndex = 1;\n            let successCount = 0;\n            while(remainingCaptures > 0){\n                setProcessStatus(\"Capture \".concat(currentIndex, \" of \").concat(times));\n                setRemainingCaptures(remainingCaptures);\n                // Use the consolidated handleDotProcess function for each random dot\n                const result = await handleDotProcess({\n                    useRandomPosition: true,\n                    onStatusUpdate: (status)=>{\n                        if (status.processStatus) {\n                            setProcessStatus(\"Capture \".concat(currentIndex, \"/\").concat(times, \": \").concat(status.processStatus));\n                        }\n                        if (status.isCapturing !== undefined) {\n                            setIsCapturing(status.isCapturing);\n                        }\n                    },\n                    toggleTopBar: (show)=>{\n                        // Don't show the TopBar between captures, only at the end\n                        if (show && remainingCaptures > 1) return;\n                        if (typeof onActionClick === 'function') {\n                            onActionClick('toggleTopBar', show);\n                        } else if ( true && window.toggleTopBar) {\n                            window.toggleTopBar(show);\n                        }\n                    },\n                    triggerCameraAccess,\n                    setIsCapturing,\n                    captureCount,\n                    setCaptureCount: setCaptureCount,\n                    postCountdownDelay: 500\n                });\n                // Check for success\n                if (!result.success) {\n                    setProcessStatus(\"Error during capture \".concat(currentIndex, \": \").concat(result.error));\n                    break;\n                } else if (result.captureResult && (result.captureResult.screenImage || result.captureResult.success)) {\n                    successCount++;\n                }\n                remainingCaptures--;\n                currentIndex++;\n                // Wait for the specified delay before next capture (if any remain)\n                if (remainingCaptures > 0) {\n                    setProcessStatus(\"Waiting \".concat(delay, \"s before next capture...\"));\n                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                }\n            }\n            // Signal completion\n            setProcessStatus(\"Random capture sequence completed: \".concat(successCount, \"/\").concat(times, \" captures successful\"));\n            setRemainingCaptures(0);\n            // Make sure TopBar is shown at the end\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', true);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(true);\n            }\n        } catch (error) {\n            console.error(\"Random sequence error:\", error);\n            setProcessStatus(\"Random sequence failed: \".concat(error.message));\n            // Reset capturing state\n            setIsCapturing(false);\n            // Show TopBar again on error\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', true);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(true);\n            }\n        }\n    };\n    // Refactored handleSetCalibrate function using handleDotProcess\n    // Improved handleSetCalibrate function for actionButton.js\n    const handleSetCalibrate = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Hide TopBar\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(false);\n            }\n            setIsCapturing(true);\n            setShowCanvas(true);\n            setProcessStatus(\"Starting calibration sequence...\");\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 300));\n            // Get canvas reference - using the fullscreen approach\n            const canvas = getMainCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available for calibration\");\n            }\n            // ---------- CRITICAL FIX: PROPER CANVAS SIZING ----------\n            // Get window dimensions for fullscreen calibration\n            const windowWidth = window.innerWidth;\n            const windowHeight = window.innerHeight;\n            // Force the canvas to be fullscreen\n            canvas.width = windowWidth;\n            canvas.height = windowHeight;\n            // Ensure canvas appears above other elements\n            canvas.style.position = 'fixed';\n            canvas.style.top = '0';\n            canvas.style.left = '0';\n            canvas.style.width = '100vw';\n            canvas.style.height = '100vh';\n            canvas.style.zIndex = '1000';\n            // Clear to white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // console.log(`Canvas set to fullscreen: ${canvas.width}x${canvas.height}`);\n            // Import required functions\n            const { generateCalibrationPoints } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./Action/CalibratePoints */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/CalibratePoints.js\"));\n            const { drawRedDot, runCountdown, showCapturePreview } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./Action/countSave */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/countSave.js\"));\n            const { captureImagesAtPoint } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./Helper/savefile */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Helper/savefile.js\"));\n            // Generate calibration points based on the full canvas size\n            const points = generateCalibrationPoints(canvas.width, canvas.height);\n            if (!points || points.length === 0) {\n                throw new Error(\"Failed to generate calibration points\");\n            }\n            // Create a status indicator\n            const statusIndicator = document.createElement('div');\n            statusIndicator.className = 'calibrate-status-indicator';\n            statusIndicator.style.cssText = \"\\n        position: fixed;\\n        top: 20px;\\n        right: 20px;\\n        background-color: rgba(0, 102, 204, 0.9);\\n        color: white;\\n        font-size: 16px;\\n        font-weight: bold;\\n        padding: 10px 15px;\\n        border-radius: 8px;\\n        z-index: 9999;\\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\\n      \";\n            statusIndicator.textContent = 'Calibration: Initializing...';\n            document.body.appendChild(statusIndicator);\n            // Access webcam before starting calibration if available\n            // if (triggerCameraAccess) {\n            //   triggerCameraAccess(true);\n            //   await new Promise(resolve => setTimeout(resolve, 800));\n            // }\n            // Process each calibration point\n            let successCount = 0;\n            for(let i = 0; i < points.length; i++){\n                const point = points[i];\n                statusIndicator.textContent = \"Calibration: Point \".concat(i + 1, \"/\").concat(points.length);\n                setProcessStatus(\"Processing calibration point \".concat(i + 1, \"/\").concat(points.length));\n                // ---------- IMPORTANT: Redraw entire canvas for each point ----------\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                // Draw the dot - using direct drawing rather than a helper function\n                // to ensure we have complete control\n                drawRedDot(ctx, point.x, point.y, 15, true);\n                // Create a redraw interval to keep dot visible during the entire process\n                let redrawInterval = setInterval(()=>{\n                    drawRedDot(ctx, point.x, point.y, 15, false);\n                }, 100);\n                try {\n                    // Run countdown\n                    await new Promise((resolve, reject)=>{\n                        try {\n                            runCountdown(point, canvas, (status)=>{\n                                // Update UI based on status\n                                if (status.processStatus) {\n                                    setProcessStatus(\"Point \".concat(i + 1, \"/\").concat(points.length, \": \").concat(status.processStatus));\n                                }\n                            }, resolve // This resolves when countdown completes\n                            );\n                        } catch (error) {\n                            reject(error);\n                        }\n                    });\n                    // Ensure the dot is still visible after countdown\n                    drawRedDot(ctx, point.x, point.y, 15, false);\n                    // Wait a moment for visual consistency\n                    await new Promise((resolve)=>setTimeout(resolve, 300));\n                    // Explicitly trigger camera access again before capture\n                    // if (triggerCameraAccess) {\n                    //   triggerCameraAccess(true);\n                    //   await new Promise(resolve => setTimeout(resolve, 300));\n                    // }\n                    // Capture images at this point\n                    const captureResult = await captureImagesAtPoint({\n                        point: point,\n                        captureCount: captureCount,\n                        canvasRef: {\n                            current: canvas\n                        },\n                        setCaptureCount: setCaptureCount,\n                        showCapturePreview\n                    });\n                    // Clear the redraw interval once capture is complete\n                    clearInterval(redrawInterval);\n                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                        successCount++;\n                    }\n                    // Increment counter\n                    // setCaptureCount(prev => prev + 1);\n                    // Wait between points\n                    await new Promise((resolve)=>setTimeout(resolve, 1200));\n                } catch (error) {\n                    console.error(\"Error processing calibration point \".concat(i + 1, \":\"), error);\n                    clearInterval(redrawInterval);\n                }\n            }\n            // Calibration complete\n            statusIndicator.textContent = \"Calibration complete: \".concat(successCount, \"/\").concat(points.length, \" points\");\n            setProcessStatus(\"Calibration completed: \".concat(successCount, \"/\").concat(points.length, \" points captured\"));\n            // Remove the status indicator after a delay\n            setTimeout(()=>{\n                if (statusIndicator.parentNode) {\n                    statusIndicator.parentNode.removeChild(statusIndicator);\n                }\n            }, 3000);\n            // ---------- IMPORTANT: Reset canvas styling ----------\n            // Return canvas to normal styling after calibration\n            canvas.style.position = '';\n            canvas.style.top = '';\n            canvas.style.left = '';\n            canvas.style.width = '100%';\n            canvas.style.height = '100%';\n            canvas.style.zIndex = '';\n            // Redraw canvas at original size with parent container\n            const parent = canvas.parentElement;\n            if (parent) {\n                canvas.width = parent.clientWidth || 800;\n                canvas.height = parent.clientHeight || 600;\n                const ctx = canvas.getContext('2d');\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n            }\n        } catch (error) {\n            console.error(\"Calibration error:\", error);\n            setProcessStatus(\"Calibration error: \".concat(error.message));\n        } finally{\n            setIsCapturing(false);\n            // Show TopBar again\n            setTimeout(()=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                } else if ( true && window.toggleTopBar) {\n                    window.toggleTopBar(true);\n                }\n            }, 1000);\n        }\n    };\n    // Schedule next random capture in sequence\n    const scheduleNextRandomCapture = (remaining, delay)=>{\n        if (remaining <= 0) {\n            setProcessStatus('Random capture sequence completed');\n            setRemainingCaptures(0);\n            return;\n        }\n        setProcessStatus(\"Capture \".concat(randomTimes - remaining + 1, \" of \").concat(randomTimes));\n        setRemainingCaptures(remaining);\n        // Generate random position and draw dot\n        const position = (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.getRandomPosition)();\n        const drawnPosition = drawDot(position.x, position.y);\n        if (!drawnPosition) {\n            console.error(\"Failed to draw dot\");\n            setProcessStatus(\"Error: Failed to draw dot\");\n            setIsCapturing(false);\n            return;\n        }\n        // Start countdown and then capture\n        startCountdown(3, ()=>{\n            captureImagesFunc(position.x, position.y);\n            // Schedule next capture after specified delay\n            setTimeout(()=>{\n                scheduleNextRandomCapture(remaining - 1, delay);\n            }, delay * 1000);\n        });\n    };\n    // Random Dot Button - Draw a random dot and capture\n    const handleRandomDot = async ()=>{\n        if (isCapturing) return;\n        // Use the consolidated function with random position\n        await handleDotProcess({\n            useRandomPosition: true,\n            onStatusUpdate: (status)=>{\n                if (status.processStatus) setProcessStatus(status.processStatus);\n                if (status.isCapturing !== undefined) setIsCapturing(status.isCapturing);\n            },\n            toggleTopBar: (show)=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', show);\n                }\n            },\n            triggerCameraAccess,\n            setIsCapturing,\n            captureCount,\n            setCaptureCount: setCaptureCount,\n            postCountdownDelay: 1000\n        });\n    };\n    // Load calibration setup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (false) {}\n            const setupCalibration = {\n                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                    try {\n                        const { default: CalibrateHandler } = await __webpack_require__.e(/*! import() */ \"_pages-dir-browser_pages_collected-dataset_components-gui_Action_CalibrateHandler_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./Action/CalibrateHandler */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/CalibrateHandler.js\"));\n                        const canvas = getMainCanvas();\n                        if (!canvas) {\n                            console.warn(\"Canvas not available during setupCalibration\");\n                            return;\n                        }\n                        // console.log('Canvas size:', canvas.width, canvas.height);\n                        const points = (0,_Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__.generateCalibrationPoints)(canvas.width, canvas.height);\n                        // console.log('Generated calibration points:', points);\n                        setCalibrationPoints(points);\n                        const calibrateHandler = new CalibrateHandler({\n                            canvasRef: {\n                                current: canvas\n                            },\n                            calibrationPoints: points,\n                            toggleTopBar: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (show)=>onActionClick === null || onActionClick === void 0 ? void 0 : onActionClick('toggleTopBar', show)\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            setOutputText: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (status)=>{\n                                    setProcessStatus(status);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureCounter: captureCount,\n                            setCaptureCounter: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (newCounter)=>{\n                                    if (typeof newCounter === 'function') {\n                                        setCaptureCount({\n                                            \"ActionButtonGroupInner.useEffect.setupCalibration\": (prev)=>newCounter(prev)\n                                        }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]);\n                                    } else {\n                                        setCaptureCount(newCounter);\n                                    }\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureFolder: 'eye_tracking_captures',\n                            onComplete: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": ()=>{\n                                    setIsCapturing(false);\n                                    setProcessStatus('Calibration completed');\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                        setCalibrationHandler({\n                            handleAction: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                                    setIsCapturing(true);\n                                    setProcessStatus('Starting calibration...');\n                                    await calibrateHandler.startCalibration();\n                                    setIsCapturing(false);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                    } catch (err) {\n                        console.error('Error initializing calibration:', err);\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"];\n            setupCalibration();\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        captureCount,\n        onActionClick\n    ]);\n    // Wait for canvas to be ready\n    const waitForCanvasReady = async function(checkVisible) {\n        let maxTries = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 15, interval = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 100;\n        for(let i = 0; i < maxTries; i++){\n            const canvas = getMainCanvas();\n            if (canvas && canvas.width > 0 && canvas.height > 0 && checkVisible()) {\n                return canvas;\n            }\n            await new Promise((res)=>setTimeout(res, interval));\n        }\n        throw new Error(\"Canvas is not ready after multiple attempts\");\n    };\n    // Calibration handler\n    // Fixed handleSetCalibrate function for actionButton.js\n    // Clear All Button - Reset everything\n    const handleClearAll = ()=>{\n        clearCanvas();\n        setProcessStatus('');\n        setRemainingCaptures(0);\n        setIsCapturing(false);\n        setCountdownValue(null);\n        setShowCanvas(false);\n    };\n    // Toggle Head Pose visualization\n    const handleToggleHeadPose = ()=>{\n        const newHeadPoseState = !showHeadPose;\n        setShowHeadPose(newHeadPoseState);\n        setProcessStatus(\"Head pose visualization \".concat(newHeadPoseState ? 'enabled' : 'disabled'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('headPose');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showHeadPose: newHeadPoseState\n            });\n        // console.log(`Updated backend head pose: ${newHeadPoseState}`);\n        }\n    };\n    // Toggle Bounding Box visualization\n    const handleToggleBoundingBox = ()=>{\n        const newBoundingBoxState = !showBoundingBox;\n        setShowBoundingBox(newBoundingBoxState);\n        setProcessStatus(\"Bounding box \".concat(newBoundingBoxState ? 'shown' : 'hidden'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('boundingBox');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showBoundingBox: newBoundingBoxState\n            });\n        // console.log(`Updated backend bounding box: ${newBoundingBoxState}`);\n        }\n    };\n    // Toggle Mask visualization\n    const handleToggleMask = ()=>{\n        const newMaskState = !showMask;\n        setShowMask(newMaskState);\n        setProcessStatus(\"Mask \".concat(newMaskState ? 'shown' : 'hidden'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('mask');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showMask: newMaskState\n            });\n        // console.log(`Updated backend mask: ${newMaskState}`);\n        }\n    };\n    // Toggle Parameters display\n    const handleToggleParameters = ()=>{\n        const newParametersState = !showParameters;\n        setShowParameters(newParametersState);\n        setProcessStatus(\"Parameters \".concat(newParametersState ? 'shown' : 'hidden'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('parameters');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showParameters: newParametersState\n            });\n        // console.log(`Updated backend parameters: ${newParametersState}`);\n        }\n    };\n    // Toggle camera preview\n    const handleToggleCamera = ()=>{\n        const newCameraState = !isCameraActive;\n        setIsCameraActive(newCameraState);\n        // Call the parent handler with 'preview' action\n        if (onActionClick) {\n            onActionClick('preview');\n        } else {\n            // Fallback to direct trigger if no action handler\n            setShowPermissionPopup(true);\n        }\n        // If turning on camera, ensure we apply current visualization settings\n        if (newCameraState && \"object\" !== 'undefined' && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showHeadPose,\n                showBoundingBox,\n                showMask,\n                showParameters\n            });\n        // console.log(\"Applied visualization settings to camera\");\n        }\n    };\n    // Button configurations with both full and abbreviated text\n    const buttons = [\n        {\n            text: \"Set Random\",\n            abbreviatedText: \"SRandom\",\n            onClick: handleSetRandom,\n            disabled: isCapturing\n        },\n        {\n            text: \"Random Dot\",\n            abbreviatedText: \"Random\",\n            onClick: handleRandomDot,\n            disabled: isCapturing\n        },\n        {\n            text: \"Set Calibrate\",\n            abbreviatedText: \"Calibrate\",\n            onClick: handleSetCalibrate,\n            disabled: isCapturing\n        },\n        {\n            text: \"Clear All\",\n            abbreviatedText: \"Clear\",\n            onClick: handleClearAll\n        },\n        {\n            divider: true\n        },\n        {\n            text: \"Draw Head pose\",\n            abbreviatedText: \"Head pose\",\n            onClick: handleToggleHeadPose,\n            active: showHeadPose\n        },\n        {\n            text: \"Show Bounding Box\",\n            abbreviatedText: \"☐ Box\",\n            onClick: handleToggleBoundingBox,\n            active: showBoundingBox\n        },\n        {\n            text: isCameraActive ? \"Stop Camera\" : \"Show Preview\",\n            abbreviatedText: isCameraActive ? \"Stop\" : \"Preview\",\n            onClick: ()=>{\n                // If camera permission is needed but not granted, show popup\n                if (!isCameraActive && !triggerCameraAccess(true)) {\n                    setShowPermissionPopup(true);\n                } else {\n                    handleToggleCamera();\n                }\n            },\n            active: isCameraActive\n        },\n        {\n            text: \"😷 Show Mask\",\n            abbreviatedText: \"😷 Mask\",\n            onClick: handleToggleMask,\n            active: showMask\n        },\n        {\n            text: \"Parameters\",\n            abbreviatedText: \"Values\",\n            onClick: handleToggleParameters,\n            active: showParameters\n        }\n    ];\n    // Mobile layout - 2x5 grid\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            isCompactMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-2 mb-4\",\n                children: buttons.filter((b)=>!b.divider).map((button, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        text: button.text,\n                        abbreviatedText: button.abbreviatedText,\n                        onClick: button.onClick,\n                        disabled: button.disabled,\n                        active: button.active\n                    }, index, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1384,\n                        columnNumber: 13\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1382,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2 mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Set Random\",\n                                abbreviatedText: \"SRandom\",\n                                onClick: handleSetRandom,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1397,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Random Dot\",\n                                abbreviatedText: \"Random\",\n                                onClick: handleRandomDot,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1403,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1396,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Set Calibrate\",\n                                abbreviatedText: \"Calibrate\",\n                                onClick: handleSetCalibrate,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1411,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Clear All\",\n                                abbreviatedText: \"Clear\",\n                                onClick: handleClearAll\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1417,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1410,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                        className: \"my-3 border-gray-200\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1424,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Draw Head pose\",\n                                abbreviatedText: \"Head pose\",\n                                onClick: handleToggleHeadPose,\n                                active: showHeadPose\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1427,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Show Bounding Box\",\n                                abbreviatedText: \"☐ Box\",\n                                onClick: handleToggleBoundingBox,\n                                active: showBoundingBox\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1433,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1426,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: isCameraActive ? \"Stop Camera\" : \"Show Preview\",\n                                abbreviatedText: isCameraActive ? \"Stop\" : \"Preview\",\n                                onClick: handleToggleCamera,\n                                active: isCameraActive\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1441,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"\\uD83D\\uDE37 Show Mask\",\n                                abbreviatedText: \"\\uD83D\\uDE37 Mask\",\n                                onClick: handleToggleMask,\n                                active: showMask\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1447,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1440,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Parameters\",\n                                abbreviatedText: \"Values\",\n                                onClick: handleToggleParameters,\n                                active: showParameters\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1455,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1461,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1454,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1395,\n                columnNumber: 9\n            }, undefined),\n            (processStatus || remainingCaptures > 0 || countdownValue) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"status-display mt-4 p-2 bg-blue-50 rounded-md\",\n                children: [\n                    processStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm font-medium text-blue-800\",\n                        children: processStatus\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1470,\n                        columnNumber: 13\n                    }, undefined),\n                    remainingCaptures > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm font-medium text-yellow-600\",\n                        children: [\n                            \"Remaining: \",\n                            remainingCaptures\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1473,\n                        columnNumber: 13\n                    }, undefined),\n                    countdownValue && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-2xl font-bold text-red-600\",\n                        children: countdownValue\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1476,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1468,\n                columnNumber: 9\n            }, undefined),\n            showCanvas && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"canvas-container mt-4\",\n                style: {\n                    position: 'relative',\n                    width: '100%',\n                    height: '40vh',\n                    minHeight: '300px',\n                    border: '1px solid #e0e0e0',\n                    backgroundColor: 'white',\n                    borderRadius: '4px',\n                    overflow: 'hidden'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        className: \"tracking-canvas\",\n                        style: {\n                            width: '100%',\n                            height: '100%'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1496,\n                        columnNumber: 11\n                    }, undefined),\n                    countdownValue && currentDot && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"dot-countdown\",\n                        style: {\n                            position: 'absolute',\n                            left: \"\".concat(currentDot.x - 15, \"px\"),\n                            top: \"\".concat(currentDot.y - 40, \"px\"),\n                            color: 'red',\n                            fontSize: '28px',\n                            fontWeight: 'bold'\n                        },\n                        children: countdownValue\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1504,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1483,\n                columnNumber: 9\n            }, undefined),\n            showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"camera-permission-popup\",\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    zIndex: 2000\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"camera-permission-dialog\",\n                    style: {\n                        width: '400px',\n                        backgroundColor: 'white',\n                        borderRadius: '8px',\n                        padding: '20px',\n                        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"camera-permission-title\",\n                            style: {\n                                margin: '0 0 15px',\n                                fontSize: '18px',\n                                fontWeight: 'bold'\n                            },\n                            children: \"Camera Access Required\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                            lineNumber: 1548,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"camera-permission-message\",\n                            style: {\n                                margin: '0 0 20px',\n                                fontSize: '14px',\n                                lineHeight: '1.4'\n                            },\n                            children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                            lineNumber: 1558,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"camera-permission-buttons\",\n                            style: {\n                                display: 'flex',\n                                justifyContent: 'flex-end',\n                                gap: '10px'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionDenied,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#f0f0f0',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                    lineNumber: 1576,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionAccepted,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#0066cc',\n                                        color: 'white',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Continue\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                    lineNumber: 1589,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                            lineNumber: 1568,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                    lineNumber: 1538,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1523,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n        lineNumber: 1380,\n        columnNumber: 5\n    }, undefined);\n}, \"sKFr1YuUm/JI/hkiSuzCP/3fw1w=\"));\n_c1 = ActionButtonGroupInner;\nconst ActionButtonGroup = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(_c2 = ()=>Promise.resolve(/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButtonGroupInner, {\n            ...props,\n            ref: ref\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n            lineNumber: 1611,\n            columnNumber: 30\n        }, undefined))), {\n    ssr: false\n});\n_c3 = ActionButtonGroup;\n// Create a client-only version of ActionButtonGroup\n// const ActionButtonGroup = dynamic(() => Promise.resolve(ActionButtonGroupInner), { ssr: false });\n\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"ActionButton\");\n$RefreshReg$(_c1, \"ActionButtonGroupInner\");\n$RefreshReg$(_c2, \"ActionButtonGroup$dynamic\");\n$RefreshReg$(_c3, \"ActionButtonGroup\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL2FjdGlvbkJ1dHRvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLDREQUE0RDs7O0FBQ2dDO0FBQ3pEO0FBQ2tDO0FBT3pDO0FBQzZCO0FBRXpELHdDQUF3QztBQUN4QyxNQUFNYyxlQUFlO1FBQUMsRUFBRUMsSUFBSSxFQUFFQyxlQUFlLEVBQUVDLE9BQU8sRUFBRUMsY0FBYyxFQUFFLEVBQUVDLFdBQVcsS0FBSyxFQUFFQyxTQUFTLEtBQUssRUFBRTs7SUFDMUcsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR3JCLCtDQUFRQSxDQUFDO0lBRW5ELDZDQUE2QztJQUM3Q0MsZ0RBQVNBO2tDQUFDO1lBQ1Isa0JBQWtCO1lBQ2xCLElBQUksS0FBNkIsRUFBRSxFQUFPO1lBRTFDLE1BQU1xQjt1REFBZTtvQkFDbkIsTUFBTUMsUUFBUUMsT0FBT0MsVUFBVTtvQkFDL0JKLGlCQUFpQkUsUUFBUTtnQkFDM0I7O1lBRUFDLE9BQU9FLGdCQUFnQixDQUFDLFVBQVVKO1lBQ2xDQSxnQkFBZ0IsZUFBZTtZQUUvQjswQ0FBTyxJQUFNRSxPQUFPRyxtQkFBbUIsQ0FBQyxVQUFVTDs7UUFDcEQ7aUNBQUcsRUFBRTtJQUVMLHFCQUNFLDhEQUFDTTtRQUNDWixTQUFTQTtRQUNUYSxXQUFXLGlGQUFnR1YsT0FBZkYsYUFBWSxLQUFpQyxPQUE5QkUsU0FBUyxrQkFBa0I7UUFDdElXLE9BQU87WUFDTEMsaUJBQWlCWixTQUNiLDJCQUNBRCxXQUNFLDZCQUNBO1lBQ05jLE9BQU9iLFNBQVMsVUFBVTtZQUMxQmMsY0FBYztZQUNkQyxRQUFRaEIsV0FBVyxnQkFBZ0I7WUFDbkNpQixZQUFZaEIsU0FBUyxTQUFTO1lBQzlCaUIsV0FBV2pCLFNBQVMsOEJBQThCO1FBQ3BEO1FBQ0FELFVBQVVBO2tCQUVURSxnQkFBZ0JMLGtCQUFrQkQ7Ozs7OztBQUd6QztHQXhD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Q0FDUnpNLGNBQWM7d0NBQ2RDLFFBQVE7b0NBQ1Y7OENBQ0Q7Ozs7Ozs4Q0FHRCw4REFBQ047b0NBQ0NaLFNBQVM0RztvQ0FDVC9GLFdBQVU7b0NBQ1ZDLE9BQU87d0NBQ0xrTixTQUFTO3dDQUNUak4saUJBQWlCO3dDQUNqQkMsT0FBTzt3Q0FDUDBNLFFBQVE7d0NBQ1J6TSxjQUFjO3dDQUNkQyxRQUFRO29DQUNWOzhDQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNmO01BL2dETUc7QUFnaEROLE1BQU1pTixvQkFBb0JqUCxtREFBT0EsT0FBQyxJQUFNNEksUUFBUUMsT0FBTyxlQUNyRC9JLGlEQUFVQSxDQUFDLENBQUNvUCxPQUFPak4sb0JBQVEsOERBQUNEO1lBQXdCLEdBQUdrTixLQUFLO1lBQUVqTixLQUFLQTs7Ozs7eUJBQ2xFO0lBQUVrTixLQUFLO0FBQU07O0FBQ2hCLG9EQUFvRDtBQUNwRCxvR0FBb0c7QUFFekQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9jb2xsZWN0ZWQtZGF0YXNldC9jb21wb25lbnRzLWd1aS9hY3Rpb25CdXR0b24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kaWZpZWQgQWN0aW9uQnV0dG9uLmpzIC0gRml4aW5nIGNhbnZhcyByZWZlcmVuY2UgaXNzdWVzXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCB7IGdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMgfSBmcm9tICcuL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMnO1xuaW1wb3J0IHsgXG4gIHNob3dDYXB0dXJlUHJldmlldywgXG4gIGRyYXdSZWREb3QsIFxuICBnZXRSYW5kb21Qb3NpdGlvbixcbiAgY3JlYXRlQ291bnRkb3duRWxlbWVudCxcbiAgcnVuQ291bnRkb3duXG59IGZyb20gJy4vQWN0aW9uL2NvdW50U2F2ZSc7XG5pbXBvcnQgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9IGZyb20gJy4vSGVscGVyL3NhdmVmaWxlJztcblxuLy8gQ3JlYXRlIGEgYmFzaWMgQWN0aW9uQnV0dG9uIGNvbXBvbmVudFxuY29uc3QgQWN0aW9uQnV0dG9uID0gKHsgdGV4dCwgYWJicmV2aWF0ZWRUZXh0LCBvbkNsaWNrLCBjdXN0b21DbGFzcyA9ICcnLCBkaXNhYmxlZCA9IGZhbHNlLCBhY3RpdmUgPSBmYWxzZSB9KSA9PiB7XG4gIGNvbnN0IFtpc0FiYnJldmlhdGVkLCBzZXRJc0FiYnJldmlhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIENoZWNrIHdpbmRvdyBzaXplIGFuZCBzZXQgYWJicmV2aWF0ZWQgbW9kZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFNraXAgZHVyaW5nIFNTUlxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBzZXRJc0FiYnJldmlhdGVkKHdpZHRoIDwgNzY4KTtcbiAgICB9O1xuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIGhhbmRsZVJlc2l6ZSgpOyAvLyBJbml0aWFsIGNhbGxcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBjbGFzc05hbWU9e2B0cmFuc2l0aW9uLWNvbG9ycyBweS0yIHB4LTIgbWQ6cHgtNCByb3VuZGVkLW1kIHRleHQteHMgbWQ6dGV4dC1zbSBmb250LW1lZGl1bSAke2N1c3RvbUNsYXNzfSAke2FjdGl2ZSA/ICdhY3RpdmUtYnV0dG9uJyA6ICcnfWB9XG4gICAgICBzdHlsZT17eyBcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhY3RpdmUgXG4gICAgICAgICAgPyAncmdiYSgwLCAxMDIsIDIwNCwgMC43KScgXG4gICAgICAgICAgOiBkaXNhYmxlZCBcbiAgICAgICAgICAgID8gJ3JnYmEoMjAwLCAyMDAsIDIwMCwgMC41KScgXG4gICAgICAgICAgICA6ICdyZ2JhKDEyNCwgMjU1LCAyMTgsIDAuNSknLCBcbiAgICAgICAgY29sb3I6IGFjdGl2ZSA/ICd3aGl0ZScgOiAnYmxhY2snLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc3cHgnLFxuICAgICAgICBjdXJzb3I6IGRpc2FibGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgICAgZm9udFdlaWdodDogYWN0aXZlID8gJ2JvbGQnIDogJ25vcm1hbCcsXG4gICAgICAgIGJveFNoYWRvdzogYWN0aXZlID8gJzAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMiknIDogJ25vbmUnXG4gICAgICB9fVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgID5cbiAgICAgIHtpc0FiYnJldmlhdGVkID8gYWJicmV2aWF0ZWRUZXh0IDogdGV4dH1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG5cbi8vIENyZWF0ZSB0aGUgQWN0aW9uQnV0dG9uR3JvdXAgY29tcG9uZW50IHdpdGggY2xpZW50LXNpZGUgb25seSByZW5kZXJpbmdcbmNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwSW5uZXIgPSBmb3J3YXJkUmVmKCh7IHRyaWdnZXJDYW1lcmFBY2Nlc3MsIGlzQ29tcGFjdE1vZGUsIG9uQWN0aW9uQ2xpY2sgfSwgcmVmKSA9PiB7XG4gIC8vIFN0YXRlIGZvciBidXR0b24gYWN0aW9uc1xuICBjb25zdCBbcmFuZG9tVGltZXMsIHNldFJhbmRvbVRpbWVzXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbZGVsYXlTZWNvbmRzLCBzZXREZWxheVNlY29uZHNdID0gdXNlU3RhdGUoMyk7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3Byb2Nlc3NTdGF0dXMsIHNldFByb2Nlc3NTdGF0dXNdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY291bnRkb3duVmFsdWUsIHNldENvdW50ZG93blZhbHVlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY3VycmVudERvdCwgc2V0Q3VycmVudERvdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NhbGlicmF0aW9uUG9pbnRzLCBzZXRDYWxpYnJhdGlvblBvaW50c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtjdXJyZW50Q2FsaWJyYXRpb25JbmRleCwgc2V0Q3VycmVudENhbGlicmF0aW9uSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtyZW1haW5pbmdDYXB0dXJlcywgc2V0UmVtYWluaW5nQ2FwdHVyZXNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzaG93Q2FudmFzLCBzZXRTaG93Q2FudmFzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRyYWNrIHRoZSBjYXB0dXJlIGNvdW50XG4gIGNvbnN0IFtjYWxpYnJhdGlvbkhhbmRsZXIsIHNldENhbGlicmF0aW9uSGFuZGxlcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NhcHR1cmVDb3VudCwgc2V0Q2FwdHVyZUNvdW50XSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbaXNDYXB0dXJpbmcsIHNldElzQ2FwdHVyaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRvZ2dsZSBzdGF0ZXNcbiAgY29uc3QgW3Nob3dIZWFkUG9zZSwgc2V0U2hvd0hlYWRQb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCb3VuZGluZ0JveCwgc2V0U2hvd0JvdW5kaW5nQm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNYXNrLCBzZXRTaG93TWFza10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UGFyYW1ldGVycywgc2V0U2hvd1BhcmFtZXRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDYW1lcmFBY3RpdmUsIHNldElzQ2FtZXJhQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuXG4gIGNvbnN0IFtzaG93UGVybWlzc2lvblBvcHVwLCBzZXRTaG93UGVybWlzc2lvblBvcHVwXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgaGFuZGxlUmFuZG9tRG90LCAgXG4gICAgaGFuZGxlU2V0UmFuZG9tLFxuICAgIGhhbmRsZVNldENhbGlicmF0ZSxcbiAgICBoYW5kbGVDbGVhckFsbFxuICB9KSwgW10pO1xuICBcbiAgICAvLyBNYWtlIGluaXRpYWxpemVDYW52YXMgYXZhaWxhYmxlIGdsb2JhbGx5XG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgLy8gU2tpcCBkdXJpbmcgU1NSXG4gIC8vICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gIC8vICAgLy8gTWFrZSBpbml0aWFsaXplQ2FudmFzIGF2YWlsYWJsZSB0byBvdGhlciBjb21wb25lbnRzIHRocm91Z2ggdGhlIHdpbmRvdyBvYmplY3RcbiAgLy8gICB3aW5kb3cuaW5pdGlhbGl6ZUNhbnZhcyA9IGluaXRpYWxpemVDYW52YXM7XG4gICAgXG4gIC8vICAgcmV0dXJuICgpID0+IHtcbiAgLy8gICAgIC8vIENsZWFuIHVwXG4gIC8vICAgICBkZWxldGUgd2luZG93LmluaXRpYWxpemVDYW52YXM7XG4gIC8vICAgfTtcbiAgLy8gfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTWFrZSBmdW5jdGlvbnMgZ2xvYmFsbHkgYWNjZXNzaWJsZSBhcyBhIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zID0ge1xuICAgICAgICBoYW5kbGVSYW5kb21Eb3QsXG4gICAgICAgIGhhbmRsZVNldFJhbmRvbSxcbiAgICAgICAgaGFuZGxlU2V0Q2FsaWJyYXRlLFxuICAgICAgICBoYW5kbGVDbGVhckFsbFxuICAgICAgfTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdBY3Rpb24gYnV0dG9uIGZ1bmN0aW9ucyBleHBvc2VkIHRvIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWxldGUgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucztcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIFxuICAgIC8vIEZ1bmN0aW9uIHRvIGdldCBjb250cm9sIHZhbHVlcyBmcm9tIFRvcEJhclxuICAgIGNvbnN0IHVwZGF0ZUNvbnRyb2xWYWx1ZXMgPSAoKSA9PiB7XG4gICAgICAvLyBHZXQgdGhlIHRpbWUgaW5wdXQgZWxlbWVudFxuICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwidGltZVwiXScpO1xuICAgICAgaWYgKHRpbWVJbnB1dCkge1xuICAgICAgICBjb25zdCB0aW1lVmFsdWUgPSBwYXJzZUludCh0aW1lSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgaWYgKCFpc05hTih0aW1lVmFsdWUpICYmIHRpbWVWYWx1ZSA+IDApIHtcbiAgICAgICAgICBzZXRSYW5kb21UaW1lcyh0aW1lVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgZGVsYXkgaW5wdXQgZWxlbWVudFxuICAgICAgY29uc3QgZGVsYXlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sLWlucHV0LWZpZWxkW2RhdGEtY29udHJvbD1cImRlbGF5XCJdJyk7XG4gICAgICBpZiAoZGVsYXlJbnB1dCkge1xuICAgICAgICBjb25zdCBkZWxheVZhbHVlID0gcGFyc2VJbnQoZGVsYXlJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKGRlbGF5VmFsdWUpICYmIGRlbGF5VmFsdWUgPiAwKSB7XG4gICAgICAgICAgc2V0RGVsYXlTZWNvbmRzKGRlbGF5VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBjb250cm9sIGlucHV0c1xuICAgIGNvbnN0IHRpbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sLWlucHV0LWZpZWxkW2RhdGEtY29udHJvbD1cInRpbWVcIl0nKTtcbiAgICBjb25zdCBkZWxheUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwiZGVsYXlcIl0nKTtcbiAgICBcbiAgICBpZiAodGltZUlucHV0KSB7XG4gICAgICB0aW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlQ29udHJvbFZhbHVlcyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICBkZWxheUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpO1xuICAgIH1cbiAgICBcbiAgICAvLyBJbml0aWFsIHVwZGF0ZVxuICAgIHVwZGF0ZUNvbnRyb2xWYWx1ZXMoKTtcbiAgICBcbiAgICAvLyBDbGVhbnVwIGV2ZW50IGxpc3RlbmVyc1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodGltZUlucHV0KSB7XG4gICAgICAgIHRpbWVJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGRlbGF5SW5wdXQpIHtcbiAgICAgICAgZGVsYXlJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaW5pdGlhbGl6ZUNhbnZhcyA9IChjYW52YXMsIHBhcmVudCwgZm9yY2VEaW1lbnNpb25zID0gbnVsbCkgPT4ge1xuICBpZiAoIWNhbnZhcykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tpbml0aWFsaXplQ2FudmFzXSBDYW52YXMgaXMgbnVsbCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICAvLyBTZXQgY2FudmFzIGRpbWVuc2lvbnMgZWl0aGVyIGZyb20gZm9yY2VkIGRpbWVuc2lvbnMgb3IgcGFyZW50XG4gICAgaWYgKGZvcmNlRGltZW5zaW9ucykge1xuICAgICAgY2FudmFzLndpZHRoID0gZm9yY2VEaW1lbnNpb25zLndpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGZvcmNlRGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChwYXJlbnQpIHtcbiAgICAgIC8vIEdldCBwYXJlbnQgZGltZW5zaW9ucywgZW5zdXJpbmcgdGhleSdyZSBub24temVyb1xuICAgICAgY29uc3QgcGFyZW50V2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgY29uc3QgcGFyZW50SGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICBcbiAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIGRpZmZlcmVudCB0byBhdm9pZCByZWRyYXdpbmdcbiAgICAgIGlmIChjYW52YXMud2lkdGggIT09IHBhcmVudFdpZHRoIHx8IGNhbnZhcy5oZWlnaHQgIT09IHBhcmVudEhlaWdodCkge1xuICAgICAgICBjYW52YXMud2lkdGggPSBwYXJlbnRXaWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHBhcmVudEhlaWdodDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2sgZGltZW5zaW9ucyBpZiBubyBwYXJlbnRcbiAgICAgIGlmIChjYW52YXMud2lkdGggPD0gMCkgY2FudmFzLndpZHRoID0gODAwO1xuICAgICAgaWYgKGNhbnZhcy5oZWlnaHQgPD0gMCkgY2FudmFzLmhlaWdodCA9IDYwMDtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgY2FudmFzIHdpdGggd2hpdGUgYmFja2dyb3VuZFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbaW5pdGlhbGl6ZUNhbnZhc10gRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gUmVsaWFibGUgZnVuY3Rpb24gdG8gZ2V0IG1haW4gY2FudmFzIHdpdGggcHJvcGVyIGRpbWVuc2lvbnNcbmNvbnN0IGdldE1haW5DYW52YXMgPSAoY2FudmFzUmVmKSA9PiB7XG4gIC8vIFRyeSBtdWx0aXBsZSBtZXRob2RzIHRvIGZpbmQgdGhlIGNhbnZhc1xuICBsZXQgY2FudmFzID0gbnVsbDtcbiAgXG4gIC8vIE1ldGhvZCAxOiBDaGVjayBkaXJlY3QgcmVmZXJlbmNlXG4gIGlmIChjYW52YXNSZWYuY3VycmVudCkge1xuICAgIGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICB9IFxuICAvLyBNZXRob2QgMjogVHJ5IGdsb2JhbCByZWZlcmVuY2VcbiAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzKSB7XG4gICAgY2FudmFzID0gd2luZG93LndoaXRlU2NyZWVuQ2FudmFzO1xuICAgIC8vIFVwZGF0ZSBvdXIgcmVmXG4gICAgaWYgKGNhbnZhc1JlZikgY2FudmFzUmVmLmN1cnJlbnQgPSBjYW52YXM7XG4gIH0gXG4gIC8vIE1ldGhvZCAzOiBUcnkgRE9NXG4gIGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYWNraW5nLWNhbnZhcycpO1xuICAgIGlmIChjYW52YXNFbGVtZW50KSB7XG4gICAgICBjYW52YXMgPSBjYW52YXNFbGVtZW50O1xuICAgICAgLy8gVXBkYXRlIHJlZmVyZW5jZXNcbiAgICAgIGlmIChjYW52YXNSZWYpIGNhbnZhc1JlZi5jdXJyZW50ID0gY2FudmFzO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcyA9IGNhbnZhcztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIEVuc3VyZSBjYW52YXMgaGFzIHByb3BlciBkaW1lbnNpb25zIGlmIGZvdW5kXG4gIGlmIChjYW52YXMpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBjYW52YXMucGFyZW50RWxlbWVudDtcbiAgICBpZiAocGFyZW50ICYmIChjYW52YXMud2lkdGggPD0gMCB8fCBjYW52YXMuaGVpZ2h0IDw9IDApKSB7XG4gICAgICBpbml0aWFsaXplQ2FudmFzKGNhbnZhcywgcGFyZW50KTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBjYW52YXM7XG59O1xuXG4vLyBSZXNldCBjYW52YXMgdG8gbm9ybWFsIG1vZGUgYWZ0ZXIgZnVsbHNjcmVlbi9jYWxpYnJhdGlvblxuY29uc3QgcmVzZXRDYW52YXNUb05vcm1hbCA9IChjYW52YXMpID0+IHtcbiAgaWYgKCFjYW52YXMpIHJldHVybjtcbiAgXG4gIC8vIFJlc2V0IGNhbnZhcyBzdHlsaW5nXG4gIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICBjYW52YXMuc3R5bGUudG9wID0gJyc7XG4gIGNhbnZhcy5zdHlsZS5sZWZ0ID0gJyc7XG4gIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgY2FudmFzLnN0eWxlLnpJbmRleCA9ICcnO1xuICBcbiAgLy8gUmVzaXplIHRvIHBhcmVudFxuICBjb25zdCBwYXJlbnQgPSBjYW52YXMucGFyZW50RWxlbWVudDtcbiAgaWYgKHBhcmVudCkge1xuICAgIGluaXRpYWxpemVDYW52YXMoY2FudmFzLCBwYXJlbnQpO1xuICB9XG59O1xuXG4vLyBTZXQgY2FudmFzIHRvIGZ1bGxzY3JlZW4gbW9kZSAoZm9yIGNhbGlicmF0aW9uKVxuY29uc3Qgc2V0Q2FudmFzRnVsbHNjcmVlbiA9IChjYW52YXMpID0+IHtcbiAgaWYgKCFjYW52YXMpIHJldHVybjtcbiAgXG4gIC8vIEdldCB3aW5kb3cgZGltZW5zaW9uc1xuICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIFxuICAvLyBGb3JjZSBkaW1lbnNpb25zXG4gIGNhbnZhcy53aWR0aCA9IHdpbmRvd1dpZHRoO1xuICBjYW52YXMuaGVpZ2h0ID0gd2luZG93SGVpZ2h0O1xuICBcbiAgLy8gU2V0IGZ1bGxzY3JlZW4gc3R5bGluZ1xuICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICBjYW52YXMuc3R5bGUudG9wID0gJzAnO1xuICBjYW52YXMuc3R5bGUubGVmdCA9ICcwJztcbiAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMHZ3JztcbiAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7XG4gIGNhbnZhcy5zdHlsZS56SW5kZXggPSAnMTAwMCc7XG4gIFxuICAvLyBDbGVhciB0byB3aGl0ZSBiYWNrZ3JvdW5kXG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbn07XG5cbiAgY29uc3QgaGFuZGxlUGVybWlzc2lvbkFjY2VwdGVkID0gKCkgPT4ge1xuICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAoZmFsc2UpO1xuICAgIGlmICh0cmlnZ2VyQ2FtZXJhQWNjZXNzKSB7XG4gICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpOyAvLyBGb3JjZSBlbmFibGUgY2FtZXJhIGFjY2Vzc1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGVyIHRvIGNhbmNlbCBwZXJtaXNzaW9uIHBvcHVwXG4gIGNvbnN0IGhhbmRsZVBlcm1pc3Npb25EZW5pZWQgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cChmYWxzZSk7XG4gIH07XG5cblxuXG4gIC8vIERyYXcgYSBkb3Qgb24gdGhlIGNhbnZhc1xuICBjb25zdCBkcmF3RG90ID0gKHgsIHksIGNvbG9yID0gJ3JlZCcsIHJhZGl1cyA9IDUpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgaWYgKCFjYW52YXMpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBjYW52YXMgZm91bmQgZm9yIGRyYXdpbmcgZG90XCIpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhcIkVycm9yOiBDYW52YXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwYXJlbnQgPSBjYW52YXMucGFyZW50RWxlbWVudDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBpbml0aWFsaXplQ2FudmFzKGNhbnZhcywgcGFyZW50KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgXG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgZG90IGlmIGFueVxuICAgIGNsZWFyQ2FudmFzKCk7XG4gICAgXG4gICAgLy8gVXNlIGRyYXdSZWREb3QgZnJvbSBjb3VudFNhdmUuanNcbiAgICBkcmF3UmVkRG90KGN0eCwgeCwgeSwgcmFkaXVzLCBmYWxzZSk7XG4gICAgXG4gICAgLy8gU2F2ZSBjdXJyZW50IGRvdCBwb3NpdGlvblxuICAgIHNldEN1cnJlbnREb3QoeyB4LCB5IH0pO1xuICAgIFxuICAgIHJldHVybiB7IHgsIHkgfTtcbiAgfTtcblxuICAvLyBDbGVhciB0aGUgY2FudmFzXG4gIGNvbnN0IGNsZWFyQ2FudmFzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgY29uc29sZS53YXJuKFwiTm8gY2FudmFzIGZvdW5kIGZvciBjbGVhcmluZ1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIHNldEN1cnJlbnREb3QobnVsbCk7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYSByYW5kb20gcG9zaXRpb24gdXNpbmcgZ2V0UmFuZG9tUG9zaXRpb24gZnJvbSBjb3VudFNhdmUuanNcbiAgY29uc3QgZ2V0UmFuZG9tRG90UG9zaXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyBjYW52YXMgZm91bmQgZm9yIGdlbmVyYXRpbmcgcmFuZG9tIHBvc2l0aW9uXCIpO1xuICAgICAgcmV0dXJuIHsgeDogMTAwLCB5OiAxMDAgfTsgLy8gRGVmYXVsdCBmYWxsYmFja1xuICAgIH1cbiAgICBcbiAgICAvLyBVc2UgZ2V0UmFuZG9tUG9zaXRpb24gZnJvbSBjb3VudFNhdmUuanNcbiAgICByZXR1cm4gZ2V0UmFuZG9tUG9zaXRpb24oY2FudmFzLCAyMCk7IC8vIDIwcHggcGFkZGluZyBmcm9tIGVkZ2VzXG4gIH07XG5cbiAgLy8gQ291bnRkb3duIHRpbWVyIGZ1bmN0aW9uXG4gIGNvbnN0IHN0YXJ0Q291bnRkb3duID0gKGNvdW50LCBvbkNvbXBsZXRlLCBkaXJlY3RQb3NpdGlvbiA9IG51bGwpID0+IHtcbiAgICBzZXRJc0NhcHR1cmluZyh0cnVlKTtcbiAgICBzZXRDb3VudGRvd25WYWx1ZShjb3VudCk7XG4gICAgXG4gICAgLy8gVXNlIHRoZSBjYW52YXMgYW5kIGN1cnJlbnQgZG90IHRvIHJ1biBjb3VudGRvd25cbiAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgXG4gICAgLy8gVXNlIGVpdGhlciBjdXJyZW50RG90IGZyb20gc3RhdGUgb3IgZGlyZWN0UG9zaXRpb24gcGFyYW1ldGVyXG4gICAgY29uc3QgZG90UG9zaXRpb24gPSBkaXJlY3RQb3NpdGlvbiB8fCBjdXJyZW50RG90O1xuICAgIFxuICAgIGlmICghY2FudmFzIHx8ICFkb3RQb3NpdGlvbikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBvciBkb3QgcG9zaXRpb24gbm90IGF2YWlsYWJsZSBmb3IgY291bnRkb3duXCIsIHtcbiAgICAgICAgY2FudmFzOiAhIWNhbnZhcyxcbiAgICAgICAgZG90UG9zaXRpb24sXG4gICAgICAgIGN1cnJlbnREb3RcbiAgICAgIH0pO1xuICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHRydWUpO1xuICAgICAgfVxuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhcIkVycm9yOiBDb3VsZCBub3Qgc3RhcnQgY291bnRkb3duXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBVc2UgcnVuQ291bnRkb3duIGZyb20gY291bnRTYXZlLmpzXG4gICAgcnVuQ291bnRkb3duKFxuICAgICAgZG90UG9zaXRpb24sIFxuICAgICAgY2FudmFzLCBcbiAgICAgIChzdGF0dXMpID0+IHtcbiAgICAgICAgLy8gVXBkYXRlIFVJIGJhc2VkIG9uIGNvdW50ZG93biBzdGF0dXNcbiAgICAgICAgaWYgKHN0YXR1cy5jb3VudGRvd25WYWx1ZSkge1xuICAgICAgICAgIHNldENvdW50ZG93blZhbHVlKHN0YXR1cy5jb3VudGRvd25WYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSB7XG4gICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNDYXB0dXJpbmcoc3RhdHVzLmlzQ2FwdHVyaW5nICE9PSBmYWxzZSk7XG4gICAgICB9LCBcbiAgICAgIG9uQ29tcGxldGVcbiAgICApO1xuICB9O1xuXG4gIC8vIEFkZCB0aGlzIGZ1bmN0aW9uIHRvIGFjdGlvbkJ1dHRvbi5qc1xuXG4gIC8qKlxuICAgKiBDb25zb2xpZGF0ZWQgZnVuY3Rpb24gdGhhdCBoYW5kbGVzIHRoZSBlbnRpcmUgZG90IHByb2Nlc3M6IGRyYXdpbmcsIGNvdW50ZG93biwgY2FwdHVyZSwgYW5kIHByZXZpZXdcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucG9zaXRpb24gLSB7eCwgeX0gY29vcmRpbmF0ZXMgd2hlcmUgdG8gZHJhdyB0aGUgZG90XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMub25TdGF0dXNVcGRhdGUgLSBDYWxsYmFjayBmb3Igc3RhdHVzIHVwZGF0ZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy50b2dnbGVUb3BCYXIgLSBGdW5jdGlvbiB0byB0b2dnbGUgdG9wIGJhciB2aXNpYmlsaXR5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMudHJpZ2dlckNhbWVyYUFjY2VzcyAtIEZ1bmN0aW9uIHRvIGVuc3VyZSBjYW1lcmEgaXMgYXZhaWxhYmxlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuc2V0SXNDYXB0dXJpbmcgLSBGdW5jdGlvbiB0byB1cGRhdGUgY2FwdHVyaW5nIHN0YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLmNhcHR1cmVDb3VudCAtIEN1cnJlbnQgY2FwdHVyZSBjb3VudGVyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuc2V0Q2FwdHVyZUNvdW50IC0gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBjYXB0dXJlIGNvdW50ZXJcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnVzZVJhbmRvbVBvc2l0aW9uIC0gV2hldGhlciB0byBnZW5lcmF0ZSBhIHJhbmRvbSBwb3NpdGlvblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSAtIFJlc3VsdCBvYmplY3Qgd2l0aCBjYXB0dXJlIGRhdGFcbiAgICovXG4gIGNvbnN0IGhhbmRsZURvdFByb2Nlc3MgPSBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgb25TdGF0dXNVcGRhdGUsXG4gICAgICB0b2dnbGVUb3BCYXIsXG4gICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzLFxuICAgICAgc2V0SXNDYXB0dXJpbmcsXG4gICAgICBjYXB0dXJlQ291bnQsXG4gICAgICBzZXRDYXB0dXJlQ291bnQsXG4gICAgICB1c2VSYW5kb21Qb3NpdGlvbiA9IGZhbHNlLFxuICAgICAgcG9zdENvdW50ZG93bkRlbGF5ID0gNTAwIC8vIERlZmF1bHQgdmFsdWUgaWYgbm90IHByb3ZpZGVkXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEhpZGUgdGhlIFRvcEJhciBiZWZvcmUgc2hvd2luZyB0aGUgZG90XG4gICAgICBpZiAodHlwZW9mIHRvZ2dsZVRvcEJhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0b2dnbGVUb3BCYXIoZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIoZmFsc2UpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTZXQgY2FwdHVyaW5nIHN0YXRlXG4gICAgICBzZXRJc0NhcHR1cmluZyh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1c1xuICAgICAgb25TdGF0dXNVcGRhdGU/Lih7XG4gICAgICAgIHByb2Nlc3NTdGF0dXM6IHVzZVJhbmRvbVBvc2l0aW9uID8gJ0dlbmVyYXRpbmcgcmFuZG9tIGRvdC4uLicgOiAnU3RhcnRpbmcgZG90IHByb2Nlc3MuLi4nLFxuICAgICAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgZm9yIFVJIHVwZGF0ZXMgdG8gdGFrZSBlZmZlY3RcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGNhbnZhcyByZWZlcmVuY2VcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBub3QgYXZhaWxhYmxlIGZvciBkb3QgcHJvY2Vzc1wiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIGNhbnZhcyBkaW1lbnNpb25zIGFyZSBwcm9wZXJcbiAgICAgIGlmIChjYW52YXMud2lkdGggPD0gMCB8fCBjYW52YXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gY2FudmFzLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAvLyBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICAgIC8vIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDYwMDtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIH0gXG4gICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAvLyAgIGNhbnZhcy53aWR0aCA9IDgwMDtcbiAgICAgICAgLy8gICBjYW52YXMuaGVpZ2h0ID0gNjAwO1xuICAgICAgICAvLyB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNhbnZhcyBhbmQgcHJlcGFyZSBmb3IgZHJhd2luZ1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgXG4gICAgICAvLyBHZXQgcG9zaXRpb24gZm9yIHRoZSBkb3QgLSBlaXRoZXIgdXNlIHByb3ZpZGVkIHBvc2l0aW9uIG9yIGdlbmVyYXRlIHJhbmRvbSBvbmVcbiAgICAgIGNvbnN0IGRvdFBvc2l0aW9uID0gdXNlUmFuZG9tUG9zaXRpb24gXG4gICAgICAgID8gZ2V0UmFuZG9tUG9zaXRpb24oY2FudmFzLCAyMCkgXG4gICAgICAgIDogcG9zaXRpb247XG4gICAgICBcbiAgICAgIGlmICghZG90UG9zaXRpb24gfHwgdHlwZW9mIGRvdFBvc2l0aW9uLnggIT09ICdudW1iZXInIHx8IHR5cGVvZiBkb3RQb3NpdGlvbi55ICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRvdCBwb3NpdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRHJhdyB0aGUgZG90XG4gICAgICBjb25zdCBkb3RSYWRpdXMgPSAxMjtcbiAgICAgIGRyYXdSZWREb3QoY3R4LCBkb3RQb3NpdGlvbi54LCBkb3RQb3NpdGlvbi55LCBkb3RSYWRpdXMsIHRydWUpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSByZWRyYXcgaW50ZXJ2YWwgdG8gZW5zdXJlIGRvdCBzdGF5cyB2aXNpYmxlXG4gICAgICBsZXQga2VlcERvdFZpc2libGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgfSwgMTAwKTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGEgZmxhZyBmb3IgdHJhY2tpbmcgaWYgd2UndmUgc2hvd24gdGhlIHByZXZpZXdzXG4gICAgICBsZXQgcHJldmlld3NTaG93biA9IGZhbHNlO1xuICAgICAgXG4gICAgICAvLyBSdW4gY291bnRkb3duIHdpdGggZG90IHBvc2l0aW9uXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcnVuQ291bnRkb3duKFxuICAgICAgICAgICAgZG90UG9zaXRpb24sXG4gICAgICAgICAgICBjYW52YXMsXG4gICAgICAgICAgICAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSBiYXNlZCBvbiBzdGF0dXNcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgb25TdGF0dXNVcGRhdGU/LihzdGF0dXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb2x2ZSAvLyBUaGlzIHdpbGwgYmUgY2FsbGVkIHdoZW4gY291bnRkb3duIGNvbXBsZXRlc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChrZWVwRG90VmlzaWJsZUludGVydmFsKTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQWZ0ZXIgY291bnRkb3duIGNvbXBsZXRlcywgdXBkYXRlIHRoZSBzdGF0dXNcbiAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiAnQ291bnRkb3duIGNvbXBsZXRlLCBwcmVwYXJpbmcgY2FwdHVyZS4uLicsXG4gICAgICAgIGlzQ2FwdHVyaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIHRoZSBkb3QgaXMgc3RpbGwgdmlzaWJsZSBhZnRlciBjb3VudGRvd25cbiAgICAgIGRyYXdSZWREb3QoY3R4LCBkb3RQb3NpdGlvbi54LCBkb3RQb3NpdGlvbi55LCBkb3RSYWRpdXMsIGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgZGVsYXkgYWZ0ZXIgY291bnRkb3duIHRvIGtlZXAgZG90IHZpc2libGUgbG9uZ2VyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgcG9zdENvdW50ZG93bkRlbGF5KSk7XG4gICAgICBcbiAgICAgIC8vIEFjY2VzcyB3ZWJjYW0gYmVmb3JlIGNhcHR1cmVcbiAgICAgIC8vIGlmICh0cmlnZ2VyQ2FtZXJhQWNjZXNzKSB7XG4gICAgICAvLyAgIHRyaWdnZXJDYW1lcmFBY2Nlc3ModHJ1ZSk7XG4gICAgICAvLyB9XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSB0aGUgZG90IGlzIHN0aWxsIHZpc2libGUgYWZ0ZXIgYWRkaXRpb25hbCBkZWxheVxuICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGJyaWVmbHkgZm9yIGNhbWVyYSB0byBpbml0aWFsaXplLCBidXQgY29udGludWUgc2hvd2luZyB0aGUgZG90XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICBcbiAgICAgIC8vIFVzZSBhIGZ1bmN0aW9uIHdyYXBwZXIgdG8gaGFuZGxlIG9yaWdpbmFsIHByZXZpZXcgcmVmZXJlbmNlXG4gICAgICBjb25zdCBvcmlnaW5hbFNob3dDYXB0dXJlUHJldmlldyA9IHdpbmRvdy5zaG93Q2FwdHVyZVByZXZpZXcgfHwgc2hvd0NhcHR1cmVQcmV2aWV3O1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBtb2RpZmllZCBwcmV2aWV3IGZ1bmN0aW9uIHRoYXQga25vd3Mgd2hlbiBwcmV2aWV3cyBhcmUgc2hvd25cbiAgICAgIGNvbnN0IHByZXZpZXdUcmFja2VyID0gKHNjcmVlbkltYWdlLCB3ZWJjYW1JbWFnZSwgcG9pbnQpID0+IHtcbiAgICAgICAgLy8gTWFyayBwcmV2aWV3cyBhcyBzaG93blxuICAgICAgICBwcmV2aWV3c1Nob3duID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3AgcmVkcmF3aW5nIHRoZSBkb3Qgb25jZSBwcmV2aWV3cyBhcmUgc2hvd25cbiAgICAgICAgY2xlYXJJbnRlcnZhbChrZWVwRG90VmlzaWJsZUludGVydmFsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIHByZXZpZXcgZnVuY3Rpb25cbiAgICAgICAgb3JpZ2luYWxTaG93Q2FwdHVyZVByZXZpZXcoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlLCBwb2ludCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgc3RhdHVzXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICAgIHByb2Nlc3NTdGF0dXM6ICdJbWFnZXMgY2FwdHVyZWQgYW5kIHNhdmVkJyxcbiAgICAgICAgICBpc0NhcHR1cmluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBPdmVycmlkZSB0aGUgcHJldmlldyBmdW5jdGlvbiB0ZW1wb3JhcmlseVxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5zaG93Q2FwdHVyZVByZXZpZXcgPSBwcmV2aWV3VHJhY2tlcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhlIGRvdCBwb3NpdGlvblxuICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgcG9pbnQ6IGRvdFBvc2l0aW9uLFxuICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudCxcbiAgICAgICAgY2FudmFzUmVmOiB7IGN1cnJlbnQ6IGNhbnZhcyB9LFxuICAgICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudCxcbiAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3OiBwcmV2aWV3VHJhY2tlclxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEluY3JlbWVudCBjYXB0dXJlIGNvdW50ZXJcbiAgICAgIC8vIHNldENhcHR1cmVDb3VudChwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGEgc2FmZXR5IHRpbWVvdXQgdG8gY2xlYXIgdGhlIGludGVydmFsIGlmIHByZXZpZXdzIHdlcmVuJ3Qgc2hvd25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXdzU2hvd24pIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGtlZXBEb3RWaXNpYmxlSW50ZXJ2YWwpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgcHJldmlldyBmdW5jdGlvblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgd2luZG93LnNob3dDYXB0dXJlUHJldmlldyA9IG9yaWdpbmFsU2hvd0NhcHR1cmVQcmV2aWV3O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgMzAwMCk7XG4gICAgICBcbiAgICAgIC8vIFNjaGVkdWxlIFRvcEJhciB0byByZXR1cm5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHRvZ2dsZVRvcEJhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICB9LCAyNTAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcG9zaXRpb246IGRvdFBvc2l0aW9uLFxuICAgICAgICBjYXB0dXJlUmVzdWx0XG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBoYW5kbGVEb3RQcm9jZXNzOlwiLCBlcnJvcik7XG4gICAgICBcbiAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiBgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICBpc0NhcHR1cmluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIGFueSBvdmVycmlkZGVuIGZ1bmN0aW9uc1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5vcmlnaW5hbFNob3dDYXB0dXJlUHJldmlldykge1xuICAgICAgICB3aW5kb3cuc2hvd0NhcHR1cmVQcmV2aWV3ID0gd2luZG93Lm9yaWdpbmFsU2hvd0NhcHR1cmVQcmV2aWV3O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNYWtlIHN1cmUgVG9wQmFyIHJldHVybnMgaWYgdGhlcmUncyBhbiBlcnJvclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9nZ2xlVG9wQmFyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBjYXB0dXJlIGltYWdlcyBhdCB0aGUgY3VycmVudCBkb3QgcG9zaXRpb25cbiAgY29uc3QgY2FwdHVyZUltYWdlc0Z1bmMgPSAoeCwgeSkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgY29uc29sZS5lcnJvcihcIk5vIGNhbnZhcyBmb3VuZCBmb3IgaW1hZ2UgY2FwdHVyZVwiKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoXCJFcnJvcjogQ2FudmFzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgd29ya2luZyBjYW52YXNSZWYgb2JqZWN0IHRvIHBhc3MgdG8gY2FwdHVyZUltYWdlc0F0UG9pbnRcbiAgICBjb25zdCB0ZW1wQ2FudmFzUmVmID0geyBjdXJyZW50OiBjYW52YXMgfTtcbiAgICBcbiAgICAvLyBVc2UgY2FwdHVyZUltYWdlc0F0UG9pbnQgZnJvbSBjb3VudFNhdmUuanNcbiAgICBjYXB0dXJlSW1hZ2VzQXRQb2ludCh7XG4gICAgICBwb2ludDogeyB4LCB5IH0sXG4gICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudCxcbiAgICAgIGNhbnZhc1JlZjogdGVtcENhbnZhc1JlZixcbiAgICAgIHNldENhcHR1cmVDb3VudDogc2V0Q2FwdHVyZUNvdW50LFxuICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3OiAoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlLCBwb2ludCkgPT4ge1xuICAgICAgICAvLyBVc2UgaW1wb3J0ZWQgc2hvd0NhcHR1cmVQcmV2aWV3IGZyb20gY291bnRTYXZlLmpzXG4gICAgICAgIGlmICghc2NyZWVuSW1hZ2UpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBzY3JlZW4gaW1hZ2UgZm91bmQuIFVzaW5nIGNhbnZhcyBhcyBmYWxsYmFjay5cIik7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgZmFsbGJhY2sgaW1hZ2UgZnJvbSBjYW52YXNcbiAgICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja0ltYWdlID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICAgICAgICBzaG93Q2FwdHVyZVByZXZpZXcoZmFsbGJhY2tJbWFnZSwgd2ViY2FtSW1hZ2UsIHBvaW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIG5vdCBhdmFpbGFibGUgZm9yIGZhbGxiYWNrIGltYWdlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaG93Q2FwdHVyZVByZXZpZXcoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlLCBwb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHN0YXR1c1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKCdJbWFnZXMgY2FwdHVyZWQgYW5kIHNhdmVkJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiBhZnRlciBhIGJyaWVmIGRlbGF5XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gU2lnbmFsIHRvIHBhcmVudCB0byBzaG93IHRoZSBUb3BCYXIgYWdhaW5cbiAgICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXNldCBjYXB0dXJpbmcgc3RhdGVcbiAgICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gSW5jcmVtZW50IHRoZSBjYXB0dXJlIGNvdW50ZXJcbiAgICAgIHNldENhcHR1cmVDb3VudChwcmV2Q291bnQgPT4gcHJldkNvdW50ICsgMSk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBpbWFnZSBjYXB0dXJlOicsIGVycik7XG4gICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBFcnJvcjogJHtlcnIubWVzc2FnZX1gKTtcbiAgICB9KTtcbiAgfTtcbiAgLy8gVGhpcyBwYXJ0aWFsIGZpbGUgc2hvd3Mgb25seSB0aGUgZml4ZWQgaGFuZGxlU2V0UmFuZG9tIGZ1bmN0aW9uXG5cbiAgLy8gUmVmYWN0b3JlZCBoYW5kbGVTZXRSYW5kb20gZnVuY3Rpb24gdXNpbmcgaGFuZGxlRG90UHJvY2Vzc1xuICAvLyBJbXByb3ZlZCBoYW5kbGVTZXRSYW5kb20gZnVuY3Rpb24gdXNpbmcgaGFuZGxlRG90UHJvY2Vzc1xuICBjb25zdCBoYW5kbGVTZXRSYW5kb20gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzQ2FwdHVyaW5nKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFJlYWQgdmFsdWVzIGZyb20gVG9wQmFyIGlucHV0c1xuICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGQnKTtcbiAgICAgIGNvbnN0IGRlbGF5SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udHJvbC1pbnB1dC1maWVsZCcpWzFdO1xuICAgICAgXG4gICAgICAvLyBEZWZhdWx0IHZhbHVlcyBpZiBpbnB1dHMgY2FuJ3QgYmUgZm91bmRcbiAgICAgIGxldCB0aW1lcyA9IHJhbmRvbVRpbWVzIHx8IDE7IC8vIFVzZSBzdGF0ZSBhcyBiYWNrdXBcbiAgICAgIGxldCBkZWxheSA9IGRlbGF5U2Vjb25kcyB8fCAzOyAvLyBVc2Ugc3RhdGUgYXMgYmFja3VwXG4gICAgICBcbiAgICAgIC8vIFBhcnNlIGlucHV0IHZhbHVlcyBpZiBhdmFpbGFibGVcbiAgICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVGltZSA9IHBhcnNlSW50KHRpbWVJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZFRpbWUpICYmIHBhcnNlZFRpbWUgPiAwKSB7XG4gICAgICAgICAgdGltZXMgPSBwYXJzZWRUaW1lO1xuICAgICAgICAgIC8vIEFsc28gdXBkYXRlIHN0YXRlXG4gICAgICAgICAgc2V0UmFuZG9tVGltZXModGltZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZERlbGF5ID0gcGFyc2VJbnQoZGVsYXlJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZERlbGF5KSAmJiBwYXJzZWREZWxheSA+IDApIHtcbiAgICAgICAgICBkZWxheSA9IHBhcnNlZERlbGF5O1xuICAgICAgICAgIC8vIEFsc28gdXBkYXRlIHN0YXRlXG4gICAgICAgICAgc2V0RGVsYXlTZWNvbmRzKGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSBpbnB1dHNcbiAgICAgIGlmICh0aW1lcyA8PSAwKSB7XG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ0Vycm9yOiBOdW1iZXIgb2YgdGltZXMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChkZWxheSA8PSAwKSB7XG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ0Vycm9yOiBEZWxheSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIHNlY29uZHMnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBIaWRlIFRvcEJhciBpbml0aWFsbHlcbiAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcihmYWxzZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNob3cgY2FudmFzIGlmIG5vdCBhbHJlYWR5IHZpc2libGVcbiAgICAgIHNldFNob3dDYW52YXModHJ1ZSk7XG4gICAgICBzZXRJc0NhcHR1cmluZyh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1c1xuICAgICAgc2V0UmVtYWluaW5nQ2FwdHVyZXModGltZXMpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgU3RhcnRpbmcgJHt0aW1lc30gcmFuZG9tIGNhcHR1cmVzIHdpdGggJHtkZWxheX1zIGRlbGF5Li4uYCk7XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgYWxsIHJhbmRvbSBjYXB0dXJlcyBzZXF1ZW50aWFsbHlcbiAgICAgIGxldCByZW1haW5pbmdDYXB0dXJlcyA9IHRpbWVzO1xuICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IDE7XG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgIFxuICAgICAgd2hpbGUgKHJlbWFpbmluZ0NhcHR1cmVzID4gMCkge1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYXB0dXJlICR7Y3VycmVudEluZGV4fSBvZiAke3RpbWVzfWApO1xuICAgICAgICBzZXRSZW1haW5pbmdDYXB0dXJlcyhyZW1haW5pbmdDYXB0dXJlcyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgdGhlIGNvbnNvbGlkYXRlZCBoYW5kbGVEb3RQcm9jZXNzIGZ1bmN0aW9uIGZvciBlYWNoIHJhbmRvbSBkb3RcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlRG90UHJvY2Vzcyh7XG4gICAgICAgICAgdXNlUmFuZG9tUG9zaXRpb246IHRydWUsXG4gICAgICAgICAgb25TdGF0dXNVcGRhdGU6IChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykge1xuICAgICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYXB0dXJlICR7Y3VycmVudEluZGV4fS8ke3RpbWVzfTogJHtzdGF0dXMucHJvY2Vzc1N0YXR1c31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0dXMuaXNDYXB0dXJpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzZXRJc0NhcHR1cmluZyhzdGF0dXMuaXNDYXB0dXJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9nZ2xlVG9wQmFyOiAoc2hvdykgPT4ge1xuICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyB0aGUgVG9wQmFyIGJldHdlZW4gY2FwdHVyZXMsIG9ubHkgYXQgdGhlIGVuZFxuICAgICAgICAgICAgaWYgKHNob3cgJiYgcmVtYWluaW5nQ2FwdHVyZXMgPiAxKSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCBzaG93KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHNob3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJpZ2dlckNhbWVyYUFjY2VzcyxcbiAgICAgICAgICBzZXRJc0NhcHR1cmluZyxcbiAgICAgICAgICBjYXB0dXJlQ291bnQsXG4gICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnQsXG4gICAgICAgICAgcG9zdENvdW50ZG93bkRlbGF5OiA1MDBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3Igc3VjY2Vzc1xuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgRXJyb3IgZHVyaW5nIGNhcHR1cmUgJHtjdXJyZW50SW5kZXh9OiAke3Jlc3VsdC5lcnJvcn1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuY2FwdHVyZVJlc3VsdCAmJiBcbiAgICAgICAgICAgICAgICAocmVzdWx0LmNhcHR1cmVSZXN1bHQuc2NyZWVuSW1hZ2UgfHwgcmVzdWx0LmNhcHR1cmVSZXN1bHQuc3VjY2VzcykpIHtcbiAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmVtYWluaW5nQ2FwdHVyZXMtLTtcbiAgICAgICAgY3VycmVudEluZGV4Kys7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgc3BlY2lmaWVkIGRlbGF5IGJlZm9yZSBuZXh0IGNhcHR1cmUgKGlmIGFueSByZW1haW4pXG4gICAgICAgIGlmIChyZW1haW5pbmdDYXB0dXJlcyA+IDApIHtcbiAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBXYWl0aW5nICR7ZGVsYXl9cyBiZWZvcmUgbmV4dCBjYXB0dXJlLi4uYCk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5ICogMTAwMCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpZ25hbCBjb21wbGV0aW9uXG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBSYW5kb20gY2FwdHVyZSBzZXF1ZW5jZSBjb21wbGV0ZWQ6ICR7c3VjY2Vzc0NvdW50fS8ke3RpbWVzfSBjYXB0dXJlcyBzdWNjZXNzZnVsYCk7XG4gICAgICBzZXRSZW1haW5pbmdDYXB0dXJlcygwKTtcbiAgICAgIFxuICAgICAgLy8gTWFrZSBzdXJlIFRvcEJhciBpcyBzaG93biBhdCB0aGUgZW5kXG4gICAgICBpZiAodHlwZW9mIG9uQWN0aW9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb25BY3Rpb25DbGljaygndG9nZ2xlVG9wQmFyJywgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmFuZG9tIHNlcXVlbmNlIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBSYW5kb20gc2VxdWVuY2UgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IGNhcHR1cmluZyBzdGF0ZVxuICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBTaG93IFRvcEJhciBhZ2FpbiBvbiBlcnJvclxuICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZmFjdG9yZWQgaGFuZGxlU2V0Q2FsaWJyYXRlIGZ1bmN0aW9uIHVzaW5nIGhhbmRsZURvdFByb2Nlc3NcbiAgLy8gSW1wcm92ZWQgaGFuZGxlU2V0Q2FsaWJyYXRlIGZ1bmN0aW9uIGZvciBhY3Rpb25CdXR0b24uanNcbiAgY29uc3QgaGFuZGxlU2V0Q2FsaWJyYXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBIaWRlIFRvcEJhclxuICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gICAgICBzZXRTaG93Q2FudmFzKHRydWUpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhcIlN0YXJ0aW5nIGNhbGlicmF0aW9uIHNlcXVlbmNlLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBVSSB1cGRhdGVzIHRvIHRha2UgZWZmZWN0XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwKSk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjYW52YXMgcmVmZXJlbmNlIC0gdXNpbmcgdGhlIGZ1bGxzY3JlZW4gYXBwcm9hY2hcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBub3QgYXZhaWxhYmxlIGZvciBjYWxpYnJhdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gLS0tLS0tLS0tLSBDUklUSUNBTCBGSVg6IFBST1BFUiBDQU5WQVMgU0laSU5HIC0tLS0tLS0tLS1cbiAgICAgIC8vIEdldCB3aW5kb3cgZGltZW5zaW9ucyBmb3IgZnVsbHNjcmVlbiBjYWxpYnJhdGlvblxuICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIFxuICAgICAgLy8gRm9yY2UgdGhlIGNhbnZhcyB0byBiZSBmdWxsc2NyZWVuXG4gICAgICBjYW52YXMud2lkdGggPSB3aW5kb3dXaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3dIZWlnaHQ7XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSBjYW52YXMgYXBwZWFycyBhYm92ZSBvdGhlciBlbGVtZW50c1xuICAgICAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgICBjYW52YXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDB2dyc7XG4gICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSAnMTAwMCc7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHRvIHdoaXRlIGJhY2tncm91bmRcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gY29uc29sZS5sb2coYENhbnZhcyBzZXQgdG8gZnVsbHNjcmVlbjogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICAgIFxuICAgICAgLy8gSW1wb3J0IHJlcXVpcmVkIGZ1bmN0aW9uc1xuICAgICAgY29uc3QgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gPSBhd2FpdCBpbXBvcnQoJy4vQWN0aW9uL0NhbGlicmF0ZVBvaW50cycpO1xuICAgICAgY29uc3QgeyBkcmF3UmVkRG90LCBydW5Db3VudGRvd24sIHNob3dDYXB0dXJlUHJldmlldyB9ID0gYXdhaXQgaW1wb3J0KCcuL0FjdGlvbi9jb3VudFNhdmUnKTtcbiAgICAgIGNvbnN0IHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSA9IGF3YWl0IGltcG9ydCgnLi9IZWxwZXIvc2F2ZWZpbGUnKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzIGJhc2VkIG9uIHRoZSBmdWxsIGNhbnZhcyBzaXplXG4gICAgICBjb25zdCBwb2ludHMgPSBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNhbGlicmF0aW9uIHBvaW50c1wiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3Qgc3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzdGF0dXNJbmRpY2F0b3IuY2xhc3NOYW1lID0gJ2NhbGlicmF0ZS1zdGF0dXMtaW5kaWNhdG9yJztcbiAgICAgIHN0YXR1c0luZGljYXRvci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDogMjBweDtcbiAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMTAyLCAyMDQsIDAuOSk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgcGFkZGluZzogMTBweCAxNXB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgICAgYDtcbiAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9ICdDYWxpYnJhdGlvbjogSW5pdGlhbGl6aW5nLi4uJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgIFxuICAgICAgLy8gQWNjZXNzIHdlYmNhbSBiZWZvcmUgc3RhcnRpbmcgY2FsaWJyYXRpb24gaWYgYXZhaWxhYmxlXG4gICAgICAvLyBpZiAodHJpZ2dlckNhbWVyYUFjY2Vzcykge1xuICAgICAgLy8gICB0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpO1xuICAgICAgLy8gICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgODAwKSk7XG4gICAgICAvLyB9XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgZWFjaCBjYWxpYnJhdGlvbiBwb2ludFxuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgXG4gICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbjogUG9pbnQgJHtpICsgMX0vJHtwb2ludHMubGVuZ3RofWA7XG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFByb2Nlc3NpbmcgY2FsaWJyYXRpb24gcG9pbnQgJHtpICsgMX0vJHtwb2ludHMubGVuZ3RofWApO1xuICAgICAgICBcbiAgICAgICAgLy8gLS0tLS0tLS0tLSBJTVBPUlRBTlQ6IFJlZHJhdyBlbnRpcmUgY2FudmFzIGZvciBlYWNoIHBvaW50IC0tLS0tLS0tLS1cbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IHRoZSBkb3QgLSB1c2luZyBkaXJlY3QgZHJhd2luZyByYXRoZXIgdGhhbiBhIGhlbHBlciBmdW5jdGlvblxuICAgICAgICAvLyB0byBlbnN1cmUgd2UgaGF2ZSBjb21wbGV0ZSBjb250cm9sXG4gICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb2ludC54LCBwb2ludC55LCAxNSwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYSByZWRyYXcgaW50ZXJ2YWwgdG8ga2VlcCBkb3QgdmlzaWJsZSBkdXJpbmcgdGhlIGVudGlyZSBwcm9jZXNzXG4gICAgICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgMTUsIGZhbHNlKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gUnVuIGNvdW50ZG93blxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bkNvdW50ZG93bihcbiAgICAgICAgICAgICAgICBwb2ludCxcbiAgICAgICAgICAgICAgICBjYW52YXMsXG4gICAgICAgICAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIFVJIGJhc2VkIG9uIHN0YXR1c1xuICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFBvaW50ICR7aSsxfS8ke3BvaW50cy5sZW5ndGh9OiAke3N0YXR1cy5wcm9jZXNzU3RhdHVzfWApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSAvLyBUaGlzIHJlc29sdmVzIHdoZW4gY291bnRkb3duIGNvbXBsZXRlc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFbnN1cmUgdGhlIGRvdCBpcyBzdGlsbCB2aXNpYmxlIGFmdGVyIGNvdW50ZG93blxuICAgICAgICAgIGRyYXdSZWREb3QoY3R4LCBwb2ludC54LCBwb2ludC55LCAxNSwgZmFsc2UpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFdhaXQgYSBtb21lbnQgZm9yIHZpc3VhbCBjb25zaXN0ZW5jeVxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFeHBsaWNpdGx5IHRyaWdnZXIgY2FtZXJhIGFjY2VzcyBhZ2FpbiBiZWZvcmUgY2FwdHVyZVxuICAgICAgICAgIC8vIGlmICh0cmlnZ2VyQ2FtZXJhQWNjZXNzKSB7XG4gICAgICAgICAgLy8gICB0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpO1xuICAgICAgICAgIC8vICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xuICAgICAgICAgIC8vIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDYXB0dXJlIGltYWdlcyBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIGNhcHR1cmVDb3VudDogY2FwdHVyZUNvdW50LFxuICAgICAgICAgICAgY2FudmFzUmVmOiB7IGN1cnJlbnQ6IGNhbnZhcyB9LFxuICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnQsXG4gICAgICAgICAgICBzaG93Q2FwdHVyZVByZXZpZXdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbGVhciB0aGUgcmVkcmF3IGludGVydmFsIG9uY2UgY2FwdHVyZSBpcyBjb21wbGV0ZVxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVkcmF3SW50ZXJ2YWwpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjYXB0dXJlUmVzdWx0ICYmIChjYXB0dXJlUmVzdWx0LnNjcmVlbkltYWdlIHx8IGNhcHR1cmVSZXN1bHQuc3VjY2VzcykpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJbmNyZW1lbnQgY291bnRlclxuICAgICAgICAgIC8vIHNldENhcHR1cmVDb3VudChwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBXYWl0IGJldHdlZW4gcG9pbnRzXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEyMDApKTtcbiAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGNhbGlicmF0aW9uIHBvaW50ICR7aSsxfTpgLCBlcnJvcik7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWRyYXdJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FsaWJyYXRpb24gY29tcGxldGVcbiAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbiBjb21wbGV0ZTogJHtzdWNjZXNzQ291bnR9LyR7cG9pbnRzLmxlbmd0aH0gcG9pbnRzYDtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYENhbGlicmF0aW9uIGNvbXBsZXRlZDogJHtzdWNjZXNzQ291bnR9LyR7cG9pbnRzLmxlbmd0aH0gcG9pbnRzIGNhcHR1cmVkYCk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSB0aGUgc3RhdHVzIGluZGljYXRvciBhZnRlciBhIGRlbGF5XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHN0YXR1c0luZGljYXRvci5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgc3RhdHVzSW5kaWNhdG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwMCk7XG4gICAgICBcbiAgICAgIC8vIC0tLS0tLS0tLS0gSU1QT1JUQU5UOiBSZXNldCBjYW52YXMgc3R5bGluZyAtLS0tLS0tLS0tXG4gICAgICAvLyBSZXR1cm4gY2FudmFzIHRvIG5vcm1hbCBzdHlsaW5nIGFmdGVyIGNhbGlicmF0aW9uXG4gICAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnJztcbiAgICAgIGNhbnZhcy5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICBjYW52YXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgY2FudmFzLnN0eWxlLnpJbmRleCA9ICcnO1xuICAgICAgXG4gICAgICAvLyBSZWRyYXcgY2FudmFzIGF0IG9yaWdpbmFsIHNpemUgd2l0aCBwYXJlbnQgY29udGFpbmVyXG4gICAgICBjb25zdCBwYXJlbnQgPSBjYW52YXMucGFyZW50RWxlbWVudDtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgY2FudmFzLndpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQgfHwgNjAwO1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNhbGlicmF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBDYWxpYnJhdGlvbiBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFNob3cgVG9wQmFyIGFnYWluXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25BY3Rpb25DbGljaygndG9nZ2xlVG9wQmFyJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfTtcblxuICAvLyBTY2hlZHVsZSBuZXh0IHJhbmRvbSBjYXB0dXJlIGluIHNlcXVlbmNlXG4gIGNvbnN0IHNjaGVkdWxlTmV4dFJhbmRvbUNhcHR1cmUgPSAocmVtYWluaW5nLCBkZWxheSkgPT4ge1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cygnUmFuZG9tIGNhcHR1cmUgc2VxdWVuY2UgY29tcGxldGVkJyk7XG4gICAgICBzZXRSZW1haW5pbmdDYXB0dXJlcygwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FwdHVyZSAke3JhbmRvbVRpbWVzIC0gcmVtYWluaW5nICsgMX0gb2YgJHtyYW5kb21UaW1lc31gKTtcbiAgICBzZXRSZW1haW5pbmdDYXB0dXJlcyhyZW1haW5pbmcpO1xuICAgIFxuICAgIC8vIEdlbmVyYXRlIHJhbmRvbSBwb3NpdGlvbiBhbmQgZHJhdyBkb3RcbiAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJhbmRvbVBvc2l0aW9uKCk7XG4gICAgY29uc3QgZHJhd25Qb3NpdGlvbiA9IGRyYXdEb3QocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgXG4gICAgaWYgKCFkcmF3blBvc2l0aW9uKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGRyYXcgZG90XCIpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhcIkVycm9yOiBGYWlsZWQgdG8gZHJhdyBkb3RcIik7XG4gICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFN0YXJ0IGNvdW50ZG93biBhbmQgdGhlbiBjYXB0dXJlXG4gICAgc3RhcnRDb3VudGRvd24oMywgKCkgPT4ge1xuICAgICAgY2FwdHVyZUltYWdlc0Z1bmMocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgICBcbiAgICAgIC8vIFNjaGVkdWxlIG5leHQgY2FwdHVyZSBhZnRlciBzcGVjaWZpZWQgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzY2hlZHVsZU5leHRSYW5kb21DYXB0dXJlKHJlbWFpbmluZyAtIDEsIGRlbGF5KTtcbiAgICAgIH0sIGRlbGF5ICogMTAwMCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gUmFuZG9tIERvdCBCdXR0b24gLSBEcmF3IGEgcmFuZG9tIGRvdCBhbmQgY2FwdHVyZVxuICBjb25zdCBoYW5kbGVSYW5kb21Eb3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzQ2FwdHVyaW5nKSByZXR1cm47XG4gICAgXG4gICAgLy8gVXNlIHRoZSBjb25zb2xpZGF0ZWQgZnVuY3Rpb24gd2l0aCByYW5kb20gcG9zaXRpb25cbiAgICBhd2FpdCBoYW5kbGVEb3RQcm9jZXNzKHtcbiAgICAgIHVzZVJhbmRvbVBvc2l0aW9uOiB0cnVlLFxuICAgICAgb25TdGF0dXNVcGRhdGU6IChzdGF0dXMpID0+IHtcbiAgICAgICAgaWYgKHN0YXR1cy5wcm9jZXNzU3RhdHVzKSBzZXRQcm9jZXNzU3RhdHVzKHN0YXR1cy5wcm9jZXNzU3RhdHVzKTtcbiAgICAgICAgaWYgKHN0YXR1cy5pc0NhcHR1cmluZyAhPT0gdW5kZWZpbmVkKSBzZXRJc0NhcHR1cmluZyhzdGF0dXMuaXNDYXB0dXJpbmcpO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZVRvcEJhcjogKHNob3cpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25BY3Rpb25DbGljaygndG9nZ2xlVG9wQmFyJywgc2hvdyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzLFxuICAgICAgc2V0SXNDYXB0dXJpbmcsXG4gICAgICBjYXB0dXJlQ291bnQsXG4gICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudCxcbiAgICAgIHBvc3RDb3VudGRvd25EZWxheTogMTAwMFxuICAgIH0pO1xuICB9O1xuXG4gIC8vIExvYWQgY2FsaWJyYXRpb24gc2V0dXBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcblxuICAgIGNvbnN0IHNldHVwQ2FsaWJyYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRlZmF1bHQ6IENhbGlicmF0ZUhhbmRsZXIgfSA9IGF3YWl0IGltcG9ydCgnLi9BY3Rpb24vQ2FsaWJyYXRlSGFuZGxlcicpO1xuICAgIFxuICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiQ2FudmFzIG5vdCBhdmFpbGFibGUgZHVyaW5nIHNldHVwQ2FsaWJyYXRpb25cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdDYW52YXMgc2l6ZTonLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdHZW5lcmF0ZWQgY2FsaWJyYXRpb24gcG9pbnRzOicsIHBvaW50cyk7XG4gICAgICAgIHNldENhbGlicmF0aW9uUG9pbnRzKHBvaW50cyk7XG4gICAgXG4gICAgICAgIGNvbnN0IGNhbGlicmF0ZUhhbmRsZXIgPSBuZXcgQ2FsaWJyYXRlSGFuZGxlcih7XG4gICAgICAgICAgY2FudmFzUmVmOiB7IGN1cnJlbnQ6IGNhbnZhcyB9LFxuICAgICAgICAgIGNhbGlicmF0aW9uUG9pbnRzOiBwb2ludHMsXG4gICAgICAgICAgdG9nZ2xlVG9wQmFyOiAoc2hvdykgPT4gb25BY3Rpb25DbGljaz8uKCd0b2dnbGVUb3BCYXInLCBzaG93KSxcbiAgICAgICAgICBzZXRPdXRwdXRUZXh0OiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYXB0dXJlQ291bnRlcjogY2FwdHVyZUNvdW50LFxuICAgICAgICAgIHNldENhcHR1cmVDb3VudGVyOiAobmV3Q291bnRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdDb3VudGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudChwcmV2ID0+IG5ld0NvdW50ZXIocHJldikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0Q2FwdHVyZUNvdW50KG5ld0NvdW50ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FwdHVyZUZvbGRlcjogJ2V5ZV90cmFja2luZ19jYXB0dXJlcycsXG4gICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cygnQ2FsaWJyYXRpb24gY29tcGxldGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgc2V0Q2FsaWJyYXRpb25IYW5kbGVyKHtcbiAgICAgICAgICBoYW5kbGVBY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cygnU3RhcnRpbmcgY2FsaWJyYXRpb24uLi4nKTtcbiAgICAgICAgICAgIGF3YWl0IGNhbGlicmF0ZUhhbmRsZXIuc3RhcnRDYWxpYnJhdGlvbigpO1xuICAgICAgICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGNhbGlicmF0aW9uOicsIGVycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNldHVwQ2FsaWJyYXRpb24oKTtcbiAgfSwgW2NhcHR1cmVDb3VudCwgb25BY3Rpb25DbGlja10pO1xuXG4gIC8vIFdhaXQgZm9yIGNhbnZhcyB0byBiZSByZWFkeVxuICBjb25zdCB3YWl0Rm9yQ2FudmFzUmVhZHkgPSBhc3luYyAoY2hlY2tWaXNpYmxlLCBtYXhUcmllcyA9IDE1LCBpbnRlcnZhbCA9IDEwMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VHJpZXM7IGkrKykge1xuICAgICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgaWYgKGNhbnZhcyAmJiBjYW52YXMud2lkdGggPiAwICYmIGNhbnZhcy5oZWlnaHQgPiAwICYmIGNoZWNrVmlzaWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgICB9XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIGludGVydmFsKSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBpcyBub3QgcmVhZHkgYWZ0ZXIgbXVsdGlwbGUgYXR0ZW1wdHNcIik7XG4gIH07XG5cbiAgLy8gQ2FsaWJyYXRpb24gaGFuZGxlclxuICAvLyBGaXhlZCBoYW5kbGVTZXRDYWxpYnJhdGUgZnVuY3Rpb24gZm9yIGFjdGlvbkJ1dHRvbi5qc1xuICBcbiAgLy8gQ2xlYXIgQWxsIEJ1dHRvbiAtIFJlc2V0IGV2ZXJ5dGhpbmdcbiAgY29uc3QgaGFuZGxlQ2xlYXJBbGwgPSAoKSA9PiB7XG4gICAgY2xlYXJDYW52YXMoKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKCcnKTtcbiAgICBzZXRSZW1haW5pbmdDYXB0dXJlcygwKTtcbiAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgc2V0Q291bnRkb3duVmFsdWUobnVsbCk7XG4gICAgc2V0U2hvd0NhbnZhcyhmYWxzZSk7XG4gIH07XG5cbiAgLy8gVG9nZ2xlIEhlYWQgUG9zZSB2aXN1YWxpemF0aW9uXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUhlYWRQb3NlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0hlYWRQb3NlU3RhdGUgPSAhc2hvd0hlYWRQb3NlO1xuICAgIHNldFNob3dIZWFkUG9zZShuZXdIZWFkUG9zZVN0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBIZWFkIHBvc2UgdmlzdWFsaXphdGlvbiAke25ld0hlYWRQb3NlU3RhdGUgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfWApO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHRvIHVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9uc1xuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdoZWFkUG9zZScpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dIZWFkUG9zZTogbmV3SGVhZFBvc2VTdGF0ZVxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVXBkYXRlZCBiYWNrZW5kIGhlYWQgcG9zZTogJHtuZXdIZWFkUG9zZVN0YXRlfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUb2dnbGUgQm91bmRpbmcgQm94IHZpc3VhbGl6YXRpb25cbiAgY29uc3QgaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3ggPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3Qm91bmRpbmdCb3hTdGF0ZSA9ICFzaG93Qm91bmRpbmdCb3g7XG4gICAgc2V0U2hvd0JvdW5kaW5nQm94KG5ld0JvdW5kaW5nQm94U3RhdGUpO1xuICAgIHNldFByb2Nlc3NTdGF0dXMoYEJvdW5kaW5nIGJveCAke25ld0JvdW5kaW5nQm94U3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGhhbmRsZXIgdG8gdXBkYXRlIHByb2Nlc3NvciBvcHRpb25zXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ2JvdW5kaW5nQm94Jyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB2aWRlb1Byb2Nlc3NvciBvcHRpb25zIGRpcmVjdGx5IGlmIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd0JvdW5kaW5nQm94OiBuZXdCb3VuZGluZ0JveFN0YXRlXG4gICAgICB9KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBVcGRhdGVkIGJhY2tlbmQgYm91bmRpbmcgYm94OiAke25ld0JvdW5kaW5nQm94U3RhdGV9YCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRvZ2dsZSBNYXNrIHZpc3VhbGl6YXRpb25cbiAgY29uc3QgaGFuZGxlVG9nZ2xlTWFzayA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdNYXNrU3RhdGUgPSAhc2hvd01hc2s7XG4gICAgc2V0U2hvd01hc2sobmV3TWFza1N0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBNYXNrICR7bmV3TWFza1N0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHRvIHVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9uc1xuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdtYXNrJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB2aWRlb1Byb2Nlc3NvciBvcHRpb25zIGRpcmVjdGx5IGlmIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd01hc2s6IG5ld01hc2tTdGF0ZVxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVXBkYXRlZCBiYWNrZW5kIG1hc2s6ICR7bmV3TWFza1N0YXRlfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUb2dnbGUgUGFyYW1ldGVycyBkaXNwbGF5XG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3UGFyYW1ldGVyc1N0YXRlID0gIXNob3dQYXJhbWV0ZXJzO1xuICAgIHNldFNob3dQYXJhbWV0ZXJzKG5ld1BhcmFtZXRlcnNTdGF0ZSk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cyhgUGFyYW1ldGVycyAke25ld1BhcmFtZXRlcnNTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICBcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgaGFuZGxlciB0byB1cGRhdGUgcHJvY2Vzc29yIG9wdGlvbnNcbiAgICBpZiAob25BY3Rpb25DbGljaykge1xuICAgICAgb25BY3Rpb25DbGljaygncGFyYW1ldGVycycpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dQYXJhbWV0ZXJzOiBuZXdQYXJhbWV0ZXJzU3RhdGVcbiAgICAgIH0pO1xuICAgICAgLy8gY29uc29sZS5sb2coYFVwZGF0ZWQgYmFja2VuZCBwYXJhbWV0ZXJzOiAke25ld1BhcmFtZXRlcnNTdGF0ZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVG9nZ2xlIGNhbWVyYSBwcmV2aWV3XG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUNhbWVyYSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdDYW1lcmFTdGF0ZSA9ICFpc0NhbWVyYUFjdGl2ZTtcbiAgICBzZXRJc0NhbWVyYUFjdGl2ZShuZXdDYW1lcmFTdGF0ZSk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGhhbmRsZXIgd2l0aCAncHJldmlldycgYWN0aW9uXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ3ByZXZpZXcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2sgdG8gZGlyZWN0IHRyaWdnZXIgaWYgbm8gYWN0aW9uIGhhbmRsZXJcbiAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIHR1cm5pbmcgb24gY2FtZXJhLCBlbnN1cmUgd2UgYXBwbHkgY3VycmVudCB2aXN1YWxpemF0aW9uIHNldHRpbmdzXG4gICAgaWYgKG5ld0NhbWVyYVN0YXRlICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBzaG93SGVhZFBvc2UsXG4gICAgICAgIHNob3dCb3VuZGluZ0JveCxcbiAgICAgICAgc2hvd01hc2ssXG4gICAgICAgIHNob3dQYXJhbWV0ZXJzXG4gICAgICB9KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXBwbGllZCB2aXN1YWxpemF0aW9uIHNldHRpbmdzIHRvIGNhbWVyYVwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQnV0dG9uIGNvbmZpZ3VyYXRpb25zIHdpdGggYm90aCBmdWxsIGFuZCBhYmJyZXZpYXRlZCB0ZXh0XG4gIGNvbnN0IGJ1dHRvbnMgPSBbXG4gICAgeyBcbiAgICAgIHRleHQ6IFwiU2V0IFJhbmRvbVwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJTUmFuZG9tXCIsIFxuICAgICAgb25DbGljazogaGFuZGxlU2V0UmFuZG9tLFxuICAgICAgZGlzYWJsZWQ6IGlzQ2FwdHVyaW5nXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJSYW5kb20gRG90XCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIlJhbmRvbVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVJhbmRvbURvdCxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZyBcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIlNldCBDYWxpYnJhdGVcIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IFwiQ2FsaWJyYXRlXCIsIFxuICAgICAgb25DbGljazogaGFuZGxlU2V0Q2FsaWJyYXRlLFxuICAgICAgZGlzYWJsZWQ6IGlzQ2FwdHVyaW5nIFxuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IFwiQ2xlYXIgQWxsXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIkNsZWFyXCIsIFxuICAgICAgb25DbGljazogaGFuZGxlQ2xlYXJBbGxcbiAgICB9LFxuICAgIHsgZGl2aWRlcjogdHJ1ZSB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIkRyYXcgSGVhZCBwb3NlXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIkhlYWQgcG9zZVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVRvZ2dsZUhlYWRQb3NlLFxuICAgICAgYWN0aXZlOiBzaG93SGVhZFBvc2VcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIlNob3cgQm91bmRpbmcgQm94XCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIuKYkCBCb3hcIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVCb3VuZGluZ0JveCxcbiAgICAgIGFjdGl2ZTogc2hvd0JvdW5kaW5nQm94XG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogaXNDYW1lcmFBY3RpdmUgPyBcIlN0b3AgQ2FtZXJhXCIgOiBcIlNob3cgUHJldmlld1wiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogaXNDYW1lcmFBY3RpdmUgPyBcIlN0b3BcIiA6IFwiUHJldmlld1wiLCBcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgLy8gSWYgY2FtZXJhIHBlcm1pc3Npb24gaXMgbmVlZGVkIGJ1dCBub3QgZ3JhbnRlZCwgc2hvdyBwb3B1cFxuICAgICAgICBpZiAoIWlzQ2FtZXJhQWN0aXZlICYmICF0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpKSB7XG4gICAgICAgICAgc2V0U2hvd1Blcm1pc3Npb25Qb3B1cCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVUb2dnbGVDYW1lcmEoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFjdGl2ZTogaXNDYW1lcmFBY3RpdmVcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIvCfmLcgU2hvdyBNYXNrXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIvCfmLcgTWFza1wiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVRvZ2dsZU1hc2ssXG4gICAgICBhY3RpdmU6IHNob3dNYXNrXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJQYXJhbWV0ZXJzXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIlZhbHVlc1wiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMsXG4gICAgICBhY3RpdmU6IHNob3dQYXJhbWV0ZXJzXG4gICAgfVxuICBdO1xuXG4gIC8vIE1vYmlsZSBsYXlvdXQgLSAyeDUgZ3JpZFxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICB7aXNDb21wYWN0TW9kZSA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICB7YnV0dG9ucy5maWx0ZXIoYiA9PiAhYi5kaXZpZGVyKS5tYXAoKGJ1dHRvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gXG4gICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgIHRleHQ9e2J1dHRvbi50ZXh0fVxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9e2J1dHRvbi5hYmJyZXZpYXRlZFRleHR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2J1dHRvbi5vbkNsaWNrfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17YnV0dG9uLmRpc2FibGVkfVxuICAgICAgICAgICAgICBhY3RpdmU9e2J1dHRvbi5hY3RpdmV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gXG4gICAgICAgICAgICAgIHRleHQ9XCJTZXQgUmFuZG9tXCJcbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PVwiU1JhbmRvbVwiIFxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZXRSYW5kb219XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NhcHR1cmluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiUmFuZG9tIERvdFwiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIlJhbmRvbVwiIFxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSYW5kb21Eb3R9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NhcHR1cmluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiU2V0IENhbGlicmF0ZVwiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIkNhbGlicmF0ZVwiIFxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZXRDYWxpYnJhdGV9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0NhcHR1cmluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiQ2xlYXIgQWxsXCJcbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PVwiQ2xlYXJcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xlYXJBbGx9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxociBjbGFzc05hbWU9XCJteS0zIGJvcmRlci1ncmF5LTIwMFwiIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiRHJhdyBIZWFkIHBvc2VcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCJIZWFkIHBvc2VcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlSGVhZFBvc2V9XG4gICAgICAgICAgICAgIGFjdGl2ZT17c2hvd0hlYWRQb3NlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gXG4gICAgICAgICAgICAgIHRleHQ9XCJTaG93IEJvdW5kaW5nIEJveFwiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIuKYkCBCb3hcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlQm91bmRpbmdCb3h9XG4gICAgICAgICAgICAgIGFjdGl2ZT17c2hvd0JvdW5kaW5nQm94fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gXG4gICAgICAgICAgICAgIHRleHQ9e2lzQ2FtZXJhQWN0aXZlID8gXCJTdG9wIENhbWVyYVwiIDogXCJTaG93IFByZXZpZXdcIn1cbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PXtpc0NhbWVyYUFjdGl2ZSA/IFwiU3RvcFwiIDogXCJQcmV2aWV3XCJ9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUNhbWVyYX1cbiAgICAgICAgICAgICAgYWN0aXZlPXtpc0NhbWVyYUFjdGl2ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwi8J+YtyBTaG93IE1hc2tcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCLwn5i3IE1hc2tcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlTWFza31cbiAgICAgICAgICAgICAgYWN0aXZlPXtzaG93TWFza31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiUGFyYW1ldGVyc1wiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIlZhbHVlc1wiIFxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVQYXJhbWV0ZXJzfVxuICAgICAgICAgICAgICBhY3RpdmU9e3Nob3dQYXJhbWV0ZXJzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXY+PC9kaXY+IHsvKiBFbXB0eSBzcGFjZSBmb3IgYWxpZ25tZW50ICovfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBTdGF0dXMgZGlzcGxheSBmb3IgY2FsaWJyYXRpb24gYW5kIHJhbmRvbSBzZXF1ZW5jZSAqL31cbiAgICAgIHsocHJvY2Vzc1N0YXR1cyB8fCByZW1haW5pbmdDYXB0dXJlcyA+IDAgfHwgY291bnRkb3duVmFsdWUpICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGF0dXMtZGlzcGxheSBtdC00IHAtMiBiZy1ibHVlLTUwIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICB7cHJvY2Vzc1N0YXR1cyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTgwMFwiPntwcm9jZXNzU3RhdHVzfTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge3JlbWFpbmluZ0NhcHR1cmVzID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC15ZWxsb3ctNjAwXCI+UmVtYWluaW5nOiB7cmVtYWluaW5nQ2FwdHVyZXN9PC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7Y291bnRkb3duVmFsdWUgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1yZWQtNjAwXCI+e2NvdW50ZG93blZhbHVlfTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIENhbnZhcyBmb3IgZHJhd2luZyBkb3RzICovfVxuICAgICAge3Nob3dDYW52YXMgJiYgKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT1cImNhbnZhcy1jb250YWluZXIgbXQtNFwiIFxuICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsIFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywgXG4gICAgICAgICAgICBoZWlnaHQ6ICc0MHZoJywgXG4gICAgICAgICAgICBtaW5IZWlnaHQ6ICczMDBweCcsIFxuICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNlMGUwZTAnLCBcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJywgXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLCBcbiAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyBcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGNhbnZhcyBcbiAgICAgICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJhY2tpbmctY2FudmFzXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogT3ZlcmxheSBmb3IgY291bnRkb3duIG9uIGRvdCAqL31cbiAgICAgICAgICB7Y291bnRkb3duVmFsdWUgJiYgY3VycmVudERvdCAmJiAoXG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb3QtY291bnRkb3duXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICBsZWZ0OiBgJHtjdXJyZW50RG90LnggLSAxNX1weGAsXG4gICAgICAgICAgICAgICAgdG9wOiBgJHtjdXJyZW50RG90LnkgLSA0MH1weGAsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdyZWQnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjb3VudGRvd25WYWx1ZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIENhbWVyYSBQZXJtaXNzaW9uIFBvcHVwICovfVxuICAgICAge3Nob3dQZXJtaXNzaW9uUG9wdXAgJiYgKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLXBvcHVwXCIgXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIHpJbmRleDogMjAwMFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tZGlhbG9nXCIgXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICB3aWR0aDogJzQwMHB4JyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxoMyBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tdGl0bGVcIiBcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtYXJnaW46ICcwIDAgMTVweCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FtZXJhIEFjY2VzcyBSZXF1aXJlZFxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1tZXNzYWdlXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDIwcHgnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEuNCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgVGhpcyBhcHBsaWNhdGlvbiBuZWVkcyBhY2Nlc3MgdG8geW91ciBjYW1lcmEgdG8gZnVuY3Rpb24gcHJvcGVybHkuIFdoZW4gcHJvbXB0ZWQgYnkgeW91ciBicm93c2VyLCBwbGVhc2UgY2xpY2sgXCJBbGxvd1wiIHRvIGdyYW50IGNhbWVyYSBhY2Nlc3MuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1idXR0b25zXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgICAgICAgICAgIGdhcDogJzEwcHgnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUGVybWlzc2lvbkRlbmllZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmMGYwZjAnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBlcm1pc3Npb25BY2NlcHRlZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtYnRuXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDY2Y2MnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDb250aW51ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59KTtcbmNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwID0gZHluYW1pYygoKSA9PiBQcm9taXNlLnJlc29sdmUoXG4gIGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IDxBY3Rpb25CdXR0b25Hcm91cElubmVyIHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+KVxuKSwgeyBzc3I6IGZhbHNlIH0pO1xuLy8gQ3JlYXRlIGEgY2xpZW50LW9ubHkgdmVyc2lvbiBvZiBBY3Rpb25CdXR0b25Hcm91cFxuLy8gY29uc3QgQWN0aW9uQnV0dG9uR3JvdXAgPSBkeW5hbWljKCgpID0+IFByb21pc2UucmVzb2x2ZShBY3Rpb25CdXR0b25Hcm91cElubmVyKSwgeyBzc3I6IGZhbHNlIH0pO1xuXG5leHBvcnQgeyBBY3Rpb25CdXR0b24sIEFjdGlvbkJ1dHRvbkdyb3VwIH07Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJmb3J3YXJkUmVmIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImR5bmFtaWMiLCJnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIiwic2hvd0NhcHR1cmVQcmV2aWV3IiwiZHJhd1JlZERvdCIsImdldFJhbmRvbVBvc2l0aW9uIiwiY3JlYXRlQ291bnRkb3duRWxlbWVudCIsInJ1bkNvdW50ZG93biIsImNhcHR1cmVJbWFnZXNBdFBvaW50IiwiQWN0aW9uQnV0dG9uIiwidGV4dCIsImFiYnJldmlhdGVkVGV4dCIsIm9uQ2xpY2siLCJjdXN0b21DbGFzcyIsImRpc2FibGVkIiwiYWN0aXZlIiwiaXNBYmJyZXZpYXRlZCIsInNldElzQWJicmV2aWF0ZWQiLCJoYW5kbGVSZXNpemUiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImJ1dHRvbiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJib3JkZXJSYWRpdXMiLCJjdXJzb3IiLCJmb250V2VpZ2h0IiwiYm94U2hhZG93IiwiQWN0aW9uQnV0dG9uR3JvdXBJbm5lciIsInJlZiIsInRyaWdnZXJDYW1lcmFBY2Nlc3MiLCJpc0NvbXBhY3RNb2RlIiwib25BY3Rpb25DbGljayIsInJhbmRvbVRpbWVzIiwic2V0UmFuZG9tVGltZXMiLCJkZWxheVNlY29uZHMiLCJzZXREZWxheVNlY29uZHMiLCJjYW52YXNSZWYiLCJwcm9jZXNzU3RhdHVzIiwic2V0UHJvY2Vzc1N0YXR1cyIsImNvdW50ZG93blZhbHVlIiwic2V0Q291bnRkb3duVmFsdWUiLCJjdXJyZW50RG90Iiwic2V0Q3VycmVudERvdCIsImNhbGlicmF0aW9uUG9pbnRzIiwic2V0Q2FsaWJyYXRpb25Qb2ludHMiLCJjdXJyZW50Q2FsaWJyYXRpb25JbmRleCIsInNldEN1cnJlbnRDYWxpYnJhdGlvbkluZGV4IiwicmVtYWluaW5nQ2FwdHVyZXMiLCJzZXRSZW1haW5pbmdDYXB0dXJlcyIsInNob3dDYW52YXMiLCJzZXRTaG93Q2FudmFzIiwiY2FsaWJyYXRpb25IYW5kbGVyIiwic2V0Q2FsaWJyYXRpb25IYW5kbGVyIiwiY2FwdHVyZUNvdW50Iiwic2V0Q2FwdHVyZUNvdW50IiwiaXNDYXB0dXJpbmciLCJzZXRJc0NhcHR1cmluZyIsInNob3dIZWFkUG9zZSIsInNldFNob3dIZWFkUG9zZSIsInNob3dCb3VuZGluZ0JveCIsInNldFNob3dCb3VuZGluZ0JveCIsInNob3dNYXNrIiwic2V0U2hvd01hc2siLCJzaG93UGFyYW1ldGVycyIsInNldFNob3dQYXJhbWV0ZXJzIiwiaXNDYW1lcmFBY3RpdmUiLCJzZXRJc0NhbWVyYUFjdGl2ZSIsInNob3dQZXJtaXNzaW9uUG9wdXAiLCJzZXRTaG93UGVybWlzc2lvblBvcHVwIiwiaGFuZGxlUmFuZG9tRG90IiwiaGFuZGxlU2V0UmFuZG9tIiwiaGFuZGxlU2V0Q2FsaWJyYXRlIiwiaGFuZGxlQ2xlYXJBbGwiLCJhY3Rpb25CdXR0b25GdW5jdGlvbnMiLCJ1cGRhdGVDb250cm9sVmFsdWVzIiwidGltZUlucHV0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGltZVZhbHVlIiwicGFyc2VJbnQiLCJ2YWx1ZSIsImlzTmFOIiwiZGVsYXlJbnB1dCIsImRlbGF5VmFsdWUiLCJpbml0aWFsaXplQ2FudmFzIiwiY2FudmFzIiwicGFyZW50IiwiZm9yY2VEaW1lbnNpb25zIiwiY29uc29sZSIsImVycm9yIiwiaGVpZ2h0IiwicGFyZW50V2lkdGgiLCJjbGllbnRXaWR0aCIsInBhcmVudEhlaWdodCIsImNsaWVudEhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImdldE1haW5DYW52YXMiLCJjdXJyZW50Iiwid2hpdGVTY3JlZW5DYW52YXMiLCJjYW52YXNFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInJlc2V0Q2FudmFzVG9Ob3JtYWwiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ6SW5kZXgiLCJzZXRDYW52YXNGdWxsc2NyZWVuIiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsImhhbmRsZVBlcm1pc3Npb25BY2NlcHRlZCIsImhhbmRsZVBlcm1pc3Npb25EZW5pZWQiLCJkcmF3RG90IiwieCIsInkiLCJyYWRpdXMiLCJjbGVhckNhbnZhcyIsIndhcm4iLCJnZXRSYW5kb21Eb3RQb3NpdGlvbiIsInN0YXJ0Q291bnRkb3duIiwiY291bnQiLCJvbkNvbXBsZXRlIiwiZGlyZWN0UG9zaXRpb24iLCJkb3RQb3NpdGlvbiIsInN0YXR1cyIsImhhbmRsZURvdFByb2Nlc3MiLCJvcHRpb25zIiwib25TdGF0dXNVcGRhdGUiLCJ0b2dnbGVUb3BCYXIiLCJ1c2VSYW5kb21Qb3NpdGlvbiIsInBvc3RDb3VudGRvd25EZWxheSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIkVycm9yIiwiZG90UmFkaXVzIiwia2VlcERvdFZpc2libGVJbnRlcnZhbCIsInNldEludGVydmFsIiwicHJldmlld3NTaG93biIsInJlamVjdCIsImNsZWFySW50ZXJ2YWwiLCJvcmlnaW5hbFNob3dDYXB0dXJlUHJldmlldyIsInByZXZpZXdUcmFja2VyIiwic2NyZWVuSW1hZ2UiLCJ3ZWJjYW1JbWFnZSIsInBvaW50IiwiY2FwdHVyZVJlc3VsdCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiY2FwdHVyZUltYWdlc0Z1bmMiLCJ0ZW1wQ2FudmFzUmVmIiwiZmFsbGJhY2tJbWFnZSIsInRvRGF0YVVSTCIsInRoZW4iLCJwcmV2Q291bnQiLCJjYXRjaCIsImVyciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0aW1lcyIsImRlbGF5IiwicGFyc2VkVGltZSIsInBhcnNlZERlbGF5IiwiY3VycmVudEluZGV4Iiwic3VjY2Vzc0NvdW50IiwicmVzdWx0IiwidW5kZWZpbmVkIiwic2hvdyIsInBvaW50cyIsImxlbmd0aCIsInN0YXR1c0luZGljYXRvciIsImNyZWF0ZUVsZW1lbnQiLCJjc3NUZXh0IiwidGV4dENvbnRlbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJpIiwicmVkcmF3SW50ZXJ2YWwiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzY2hlZHVsZU5leHRSYW5kb21DYXB0dXJlIiwicmVtYWluaW5nIiwiZHJhd25Qb3NpdGlvbiIsInNldHVwQ2FsaWJyYXRpb24iLCJkZWZhdWx0IiwiQ2FsaWJyYXRlSGFuZGxlciIsImNhbGlicmF0ZUhhbmRsZXIiLCJzZXRPdXRwdXRUZXh0IiwiY2FwdHVyZUNvdW50ZXIiLCJzZXRDYXB0dXJlQ291bnRlciIsIm5ld0NvdW50ZXIiLCJwcmV2IiwiY2FwdHVyZUZvbGRlciIsImhhbmRsZUFjdGlvbiIsInN0YXJ0Q2FsaWJyYXRpb24iLCJ3YWl0Rm9yQ2FudmFzUmVhZHkiLCJjaGVja1Zpc2libGUiLCJtYXhUcmllcyIsImludGVydmFsIiwicmVzIiwiaGFuZGxlVG9nZ2xlSGVhZFBvc2UiLCJuZXdIZWFkUG9zZVN0YXRlIiwidmlkZW9Qcm9jZXNzb3IiLCJ1cGRhdGVPcHRpb25zIiwiaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3giLCJuZXdCb3VuZGluZ0JveFN0YXRlIiwiaGFuZGxlVG9nZ2xlTWFzayIsIm5ld01hc2tTdGF0ZSIsImhhbmRsZVRvZ2dsZVBhcmFtZXRlcnMiLCJuZXdQYXJhbWV0ZXJzU3RhdGUiLCJoYW5kbGVUb2dnbGVDYW1lcmEiLCJuZXdDYW1lcmFTdGF0ZSIsImJ1dHRvbnMiLCJkaXZpZGVyIiwiZGl2IiwiZmlsdGVyIiwiYiIsIm1hcCIsImluZGV4IiwiaHIiLCJtaW5IZWlnaHQiLCJib3JkZXIiLCJvdmVyZmxvdyIsImZvbnRTaXplIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsInBhZGRpbmciLCJoMyIsIm1hcmdpbiIsInAiLCJsaW5lSGVpZ2h0IiwiZ2FwIiwiQWN0aW9uQnV0dG9uR3JvdXAiLCJwcm9wcyIsInNzciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset/components-gui/actionButton.js\n"));

/***/ })

});
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/collected-dataset",{

/***/ "(pages-dir-browser)/./pages/collected-dataset/components-gui/actionButton.js":
/*!****************************************************************!*\
  !*** ./pages/collected-dataset/components-gui/actionButton.js ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionButton: () => (/* binding */ ActionButton),\n/* harmony export */   ActionButtonGroup: () => (/* binding */ ActionButtonGroup)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(pages-dir-browser)/./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Action/CalibratePoints */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/CalibratePoints.js\");\n/* harmony import */ var _Action_countSave__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Action/countSave */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/countSave.js\");\n/* harmony import */ var _Helper_savefile__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Helper/savefile */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Helper/savefile.js\");\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n// Create a basic ActionButton component\nconst ActionButton = (param)=>{\n    let { text, abbreviatedText, onClick, customClass = '', disabled = false, active = false } = param;\n    _s();\n    const [isAbbreviated, setIsAbbreviated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Check window size and set abbreviated mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButton.useEffect\": ()=>{\n            // Skip during SSR\n            if (false) {}\n            const handleResize = {\n                \"ActionButton.useEffect.handleResize\": ()=>{\n                    const width = window.innerWidth;\n                    setIsAbbreviated(width < 768);\n                }\n            }[\"ActionButton.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            handleResize(); // Initial call\n            return ({\n                \"ActionButton.useEffect\": ()=>window.removeEventListener('resize', handleResize)\n            })[\"ActionButton.useEffect\"];\n        }\n    }[\"ActionButton.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: onClick,\n        className: \"transition-colors py-2 px-2 md:px-4 rounded-md text-xs md:text-sm font-medium \".concat(customClass, \" \").concat(active ? 'active-button' : ''),\n        style: {\n            backgroundColor: active ? 'rgba(0, 102, 204, 0.7)' : disabled ? 'rgba(200, 200, 200, 0.5)' : 'rgba(124, 255, 218, 0.5)',\n            color: active ? 'white' : 'black',\n            borderRadius: '7px',\n            cursor: disabled ? 'not-allowed' : 'pointer',\n            fontWeight: active ? 'bold' : 'normal',\n            boxShadow: active ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n        },\n        disabled: disabled,\n        children: isAbbreviated ? abbreviatedText : text\n    }, void 0, false, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n        lineNumber: 34,\n        columnNumber: 5\n    }, undefined);\n};\n_s(ActionButton, \"9ND8t9X8+bjAcXyP/Y+5/aAkuVQ=\");\n_c = ActionButton;\n// Create the ActionButtonGroup component with client-side only rendering\nconst ActionButtonGroupInner = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(_s1((param, ref)=>{\n    let { triggerCameraAccess, isCompactMode, onActionClick } = param;\n    _s1();\n    // State for button actions\n    const [randomTimes, setRandomTimes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [delaySeconds, setDelaySeconds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(3);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [processStatus, setProcessStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [countdownValue, setCountdownValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentDot, setCurrentDot] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [calibrationPoints, setCalibrationPoints] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentCalibrationIndex, setCurrentCalibrationIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [remainingCaptures, setRemainingCaptures] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showCanvas, setShowCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Track the capture count\n    const [calibrationHandler, setCalibrationHandler] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [captureCount, setCaptureCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [isCapturing, setIsCapturing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Toggle states\n    const [showHeadPose, setShowHeadPose] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBoundingBox, setShowBoundingBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showMask, setShowMask] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showParameters, setShowParameters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isCameraActive, setIsCameraActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showPermissionPopup, setShowPermissionPopup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, {\n        \"ActionButtonGroupInner.useImperativeHandle\": ()=>({\n                handleRandomDot,\n                handleSetRandom,\n                handleSetCalibrate,\n                handleClearAll\n            })\n    }[\"ActionButtonGroupInner.useImperativeHandle\"], []);\n    // Make initializeCanvas available globally\n    // useEffect(() => {\n    //   // Skip during SSR\n    //   if (typeof window === 'undefined') return;\n    //   // Make initializeCanvas available to other components through the window object\n    //   window.initializeCanvas = initializeCanvas;\n    //   return () => {\n    //     // Clean up\n    //     delete window.initializeCanvas;\n    //   };\n    // }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            // Make functions globally accessible as a fallback\n            if (true) {\n                window.actionButtonFunctions = {\n                    handleRandomDot,\n                    handleSetRandom,\n                    handleSetCalibrate,\n                    handleClearAll\n                };\n            // console.log('Action button functions exposed to window.actionButtonFunctions');\n            }\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (true) {\n                        delete window.actionButtonFunctions;\n                    }\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (false) {}\n            // Function to get control values from TopBar\n            const updateControlValues = {\n                \"ActionButtonGroupInner.useEffect.updateControlValues\": ()=>{\n                    // Get the time input element\n                    const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n                    if (timeInput) {\n                        const timeValue = parseInt(timeInput.value, 10);\n                        if (!isNaN(timeValue) && timeValue > 0) {\n                            setRandomTimes(timeValue);\n                        }\n                    }\n                    // Get the delay input element\n                    const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n                    if (delayInput) {\n                        const delayValue = parseInt(delayInput.value, 10);\n                        if (!isNaN(delayValue) && delayValue > 0) {\n                            setDelaySeconds(delayValue);\n                        }\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.updateControlValues\"];\n            // Add event listeners to the control inputs\n            const timeInput = document.querySelector('.control-input-field[data-control=\"time\"]');\n            const delayInput = document.querySelector('.control-input-field[data-control=\"delay\"]');\n            if (timeInput) {\n                timeInput.addEventListener('change', updateControlValues);\n            }\n            if (delayInput) {\n                delayInput.addEventListener('change', updateControlValues);\n            }\n            // Initial update\n            updateControlValues();\n            // Cleanup event listeners\n            return ({\n                \"ActionButtonGroupInner.useEffect\": ()=>{\n                    if (timeInput) {\n                        timeInput.removeEventListener('change', updateControlValues);\n                    }\n                    if (delayInput) {\n                        delayInput.removeEventListener('change', updateControlValues);\n                    }\n                }\n            })[\"ActionButtonGroupInner.useEffect\"];\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], []);\n    const initializeCanvas = (canvas, parent1)=>{\n        if (!canvas || !parent1) {\n            // console.warn('[initializeCanvas] Canvas or parent is null', { canvas, parent });\n            return false;\n        }\n        try {\n            // Set canvas dimensions to match parent\n            canvas.width = parent1.clientWidth || 800;\n            canvas.height = parent1.clientHeight || 600;\n            // Clear canvas and set white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // console.log(`Canvas initialized with dimensions: ${canvas.width}x${canvas.height}`);\n            return true;\n        } catch (error) {\n            console.error('[initializeCanvas] Error initializing canvas:', error);\n            return false;\n        }\n    };\n    // Helper function to get the main canvas - improved to be more reliable\n    const getMainCanvas = ()=>{\n        // Try multiple methods to find the canvas\n        if (canvasRef.current) {\n            // console.log(\"Using direct canvasRef.current reference\");\n            return canvasRef.current;\n        }\n        if ( true && window.whiteScreenCanvas) {\n            // console.log(\"Using global whiteScreenCanvas reference\");\n            canvasRef.current = window.whiteScreenCanvas; // Update our ref\n            return window.whiteScreenCanvas;\n        }\n        if (typeof document !== 'undefined') {\n            const canvasElement = document.querySelector('.tracking-canvas');\n            if (canvasElement) {\n                // console.log(\"Found canvas via DOM selector\");\n                canvasRef.current = canvasElement; // Update our ref\n                if (true) {\n                    window.whiteScreenCanvas = canvasElement; // Update global ref too\n                }\n                return canvasElement;\n            }\n        }\n        return null;\n    };\n    const handlePermissionAccepted = ()=>{\n        setShowPermissionPopup(false);\n        if (triggerCameraAccess) {\n            triggerCameraAccess(true);\n        }\n    };\n    // Handler to cancel permission popup\n    const handlePermissionDenied = ()=>{\n        setShowPermissionPopup(false);\n    };\n    // Clear the canvas\n    const clearCanvas = ()=>{\n        const canvas = getMainCanvas();\n        if (!canvas) {\n            console.warn(\"No canvas found for clearing\");\n            return;\n        }\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        setCurrentDot(null);\n    };\n    // Add this function to actionButton.js\n    /**\n   * Consolidated function that handles the entire dot process: drawing, countdown, capture, and preview\n   * @param {Object} options - Configuration options\n   * @param {Object} options.position - {x, y} coordinates where to draw the dot\n   * @param {Function} options.onStatusUpdate - Callback for status updates\n   * @param {Function} options.toggleTopBar - Function to toggle top bar visibility\n   * @param {Function} options.triggerCameraAccess - Function to ensure camera is available\n   * @param {Function} options.setIsCapturing - Function to update capturing state\n   * @param {Number} options.captureCount - Current capture counter\n   * @param {Function} options.setCaptureCount - Function to update the capture counter\n   * @param {Boolean} options.useRandomPosition - Whether to generate a random position\n   * @returns {Promise<Object>} - Result object with capture data\n   */ const handleDotProcess = async (options)=>{\n        const { position, onStatusUpdate, toggleTopBar, triggerCameraAccess, setIsCapturing, captureCount, setCaptureCount, useRandomPosition = false, postCountdownDelay = 500 // Default value if not provided\n         } = options;\n        try {\n            // Hide the TopBar before showing the dot\n            if (typeof toggleTopBar === 'function') {\n                toggleTopBar(false);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(false);\n            }\n            // Set capturing state\n            setIsCapturing(true);\n            // Update status\n            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                processStatus: useRandomPosition ? 'Generating random dot...' : 'Starting dot process...',\n                isCapturing: true\n            });\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 200));\n            // Get canvas reference\n            const canvas = getMainCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available for dot process\");\n            }\n            // Ensure canvas dimensions are proper\n            if (canvas.width <= 0 || canvas.height <= 0) {\n                const parent1 = canvas.parentElement;\n                if (parent1) {\n                    // canvas.width = parent.clientWidth || 800;\n                    // canvas.height = parent.clientHeight || 600;\n                    canvas.width = parent1.clientWidth;\n                    canvas.height = parent1.clientHeight;\n                }\n            // else {\n            //   canvas.width = 800;\n            //   canvas.height = 600;\n            // }\n            }\n            // Clear canvas and prepare for drawing\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // Get position for the dot - either use provided position or generate random one\n            const dotPosition = useRandomPosition ? (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.getRandomPosition)(canvas, 20) : position;\n            if (!dotPosition || typeof dotPosition.x !== 'number' || typeof dotPosition.y !== 'number') {\n                throw new Error(\"Invalid dot position\");\n            }\n            // Draw the dot\n            const dotRadius = 10;\n            (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, true);\n            // Create a redraw interval to ensure dot stays visible\n            let keepDotVisibleInterval = setInterval(()=>{\n                (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            }, 100);\n            // Set a flag for tracking if we've shown the previews\n            let previewsShown = false;\n            // Run countdown with dot position\n            await new Promise((resolve, reject)=>{\n                try {\n                    (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.runCountdown)(dotPosition, canvas, (status)=>{\n                        // Update UI based on status\n                        if (status.processStatus) {\n                            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate(status);\n                        }\n                    }, resolve // This will be called when countdown completes\n                    );\n                } catch (error) {\n                    clearInterval(keepDotVisibleInterval);\n                    reject(error);\n                }\n            });\n            // After countdown completes, update the status\n            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                processStatus: 'Countdown complete, preparing capture...',\n                isCapturing: true\n            });\n            // Ensure the dot is still visible after countdown\n            (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Add additional delay after countdown to keep dot visible longer\n            await new Promise((resolve)=>setTimeout(resolve, postCountdownDelay));\n            // Ensure the dot is still visible after additional delay\n            (0,_Action_countSave__WEBPACK_IMPORTED_MODULE_4__.drawRedDot)(ctx, dotPosition.x, dotPosition.y, dotRadius, false);\n            // Wait briefly for camera to initialize, but continue showing the dot\n            await new Promise((resolve)=>setTimeout(resolve, 500));\n            // Use a function wrapper to handle original preview reference\n            const originalShowCapturePreview = window.showCapturePreview || _Action_countSave__WEBPACK_IMPORTED_MODULE_4__.showCapturePreview;\n            // Create a modified preview function that knows when previews are shown\n            const previewTracker = (screenImage, webcamImage, point)=>{\n                // Mark previews as shown\n                previewsShown = true;\n                // Stop redrawing the dot once previews are shown\n                clearInterval(keepDotVisibleInterval);\n                // Call the original preview function\n                originalShowCapturePreview(screenImage, webcamImage, point);\n                // Update status\n                onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                    processStatus: 'Images captured and saved',\n                    isCapturing: false\n                });\n            };\n            // Override the preview function temporarily\n            if (true) {\n                window.showCapturePreview = previewTracker;\n            }\n            // Capture images at the dot position\n            const captureResult = await (0,_Helper_savefile__WEBPACK_IMPORTED_MODULE_5__.captureImagesAtPoint)({\n                point: dotPosition,\n                captureCount: captureCount,\n                canvasRef: {\n                    current: canvas\n                },\n                setCaptureCount: setCaptureCount,\n                showCapturePreview: previewTracker\n            });\n            // Increment capture counter\n            // setCaptureCount(prev => prev + 1);\n            // Set a safety timeout to clear the interval if previews weren't shown\n            setTimeout(()=>{\n                if (!previewsShown) {\n                    clearInterval(keepDotVisibleInterval);\n                    // Restore original preview function\n                    if (true) {\n                        window.showCapturePreview = originalShowCapturePreview;\n                    }\n                }\n            }, 3000);\n            // Schedule TopBar to return\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if ( true && window.toggleTopBar) {\n                    window.toggleTopBar(true);\n                }\n                setIsCapturing(false);\n            }, 2500);\n            return {\n                success: true,\n                position: dotPosition,\n                captureResult\n            };\n        } catch (error) {\n            console.error(\"Error in handleDotProcess:\", error);\n            onStatusUpdate === null || onStatusUpdate === void 0 ? void 0 : onStatusUpdate({\n                processStatus: \"Error: \".concat(error.message),\n                isCapturing: false\n            });\n            // Clean up\n            setIsCapturing(false);\n            // Restore any overridden functions\n            if ( true && window.originalShowCapturePreview) {\n                window.showCapturePreview = window.originalShowCapturePreview;\n            }\n            // Make sure TopBar returns if there's an error\n            setTimeout(()=>{\n                if (typeof toggleTopBar === 'function') {\n                    toggleTopBar(true);\n                } else if ( true && window.toggleTopBar) {\n                    window.toggleTopBar(true);\n                }\n            }, 1000);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n    };\n    // This partial file shows only the fixed handleSetRandom function\n    // Refactored handleSetRandom function using handleDotProcess\n    // Improved handleSetRandom function using handleDotProcess\n    const handleSetRandom = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Read values from TopBar inputs (with fallback to state)\n            const timeInput = document.querySelector('.control-input-field');\n            const delayInput = document.querySelectorAll('.control-input-field')[1];\n            let times = randomTimes || 1; // Fallback state value\n            let delay = delaySeconds || 3; // Fallback state value\n            // Parse input values if available\n            if (timeInput) {\n                const parsedTime = parseInt(timeInput.value, 10);\n                if (!isNaN(parsedTime) && parsedTime > 0) {\n                    times = parsedTime;\n                    setRandomTimes(times);\n                }\n            }\n            if (delayInput) {\n                const parsedDelay = parseInt(delayInput.value, 10);\n                if (!isNaN(parsedDelay) && parsedDelay > 0) {\n                    delay = parsedDelay;\n                    setDelaySeconds(delay);\n                }\n            }\n            // Validate inputs\n            if (times <= 0) {\n                setProcessStatus('Error: Number of times must be greater than 0');\n                return;\n            }\n            if (delay <= 0) {\n                setProcessStatus('Error: Delay must be greater than 0 seconds');\n                return;\n            }\n            // Hide TopBar before starting the capture sequence\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(false);\n            }\n            // Show the canvas and set capturing state\n            setShowCanvas(true);\n            setIsCapturing(true);\n            // Update status before starting sequence\n            setRemainingCaptures(times);\n            setProcessStatus(\"Starting \".concat(times, \" random captures with \").concat(delay, \"s delay...\"));\n            let remainingCaptures = times;\n            let currentIndex = 1;\n            let successCount = 0;\n            // Process all random captures sequentially\n            while(remainingCaptures > 0){\n                // Reinitialize the canvas before each capture to ensure proper sizing\n                const canvas = getMainCanvas();\n                if (!canvas) {\n                    setProcessStatus(\"Error: Canvas not found\");\n                    return;\n                }\n                if (canvas) {\n                    const parent1 = canvas.parentElement;\n                    initializeCanvas(canvas, parent1);\n                }\n                if (parent) {\n                    // Force the canvas to use the full parent container size\n                    canvas.width = parent.clientWidth;\n                    canvas.height = parent.clientHeight;\n                    // Clear and prepare canvas\n                    const ctx = canvas.getContext('2d');\n                    ctx.clearRect(0, 0, canvas.width, canvas.height);\n                    ctx.fillStyle = 'white';\n                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                }\n                // if (currentCanvas) {\n                //   const parent = currentCanvas.parentElement || document.body;\n                //   initializeCanvas(currentCanvas, parent);\n                // }\n                setProcessStatus(\"Capture \".concat(currentIndex, \" of \").concat(times));\n                setRemainingCaptures(remainingCaptures);\n                // Execute the dot process with random positioning\n                const result = await handleDotProcess({\n                    useRandomPosition: true,\n                    onStatusUpdate: (status)=>{\n                        if (status.processStatus) {\n                            setProcessStatus(\"Capture \".concat(currentIndex, \"/\").concat(times, \": \").concat(status.processStatus));\n                        }\n                        if (status.isCapturing !== undefined) {\n                            setIsCapturing(status.isCapturing);\n                        }\n                    },\n                    toggleTopBar: (show)=>{\n                        // Prevent showing the TopBar between captures\n                        if (show && remainingCaptures > 1) return;\n                        if (typeof onActionClick === 'function') {\n                            onActionClick('toggleTopBar', show);\n                        } else if ( true && window.toggleTopBar) {\n                            window.toggleTopBar(show);\n                        }\n                    },\n                    triggerCameraAccess,\n                    setIsCapturing,\n                    captureCount,\n                    setCaptureCount: setCaptureCount,\n                    postCountdownDelay: 500\n                });\n                // Check for success; if an error occurs, break out of the loop\n                if (!result.success) {\n                    setProcessStatus(\"Error during capture \".concat(currentIndex, \": \").concat(result.error));\n                    break;\n                } else if (result.captureResult && (result.captureResult.screenImage || result.captureResult.success)) {\n                    successCount++;\n                }\n                remainingCaptures--;\n                currentIndex++;\n                // Wait for the specified delay before the next capture\n                if (remainingCaptures > 0) {\n                    setProcessStatus(\"Waiting \".concat(delay, \"s before next capture...\"));\n                    await new Promise((resolve)=>setTimeout(resolve, delay * 1000));\n                }\n            }\n            // Signal completion of the capture sequence\n            setProcessStatus(\"Random capture sequence completed: \".concat(successCount, \"/\").concat(times, \" captures successful\"));\n            setRemainingCaptures(0);\n            // Ensure the TopBar is shown again at the end\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', true);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(true);\n            }\n        } catch (error) {\n            console.error(\"Random sequence error:\", error);\n            setProcessStatus(\"Random sequence failed: \".concat(error.message));\n            setIsCapturing(false);\n            // Ensure TopBar is shown if an error occurs\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', true);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(true);\n            }\n        }\n    };\n    // Refactored handleSetCalibrate function using handleDotProcess\n    // Improved handleSetCalibrate function for actionButton.js\n    const handleSetCalibrate = async ()=>{\n        if (isCapturing) return;\n        try {\n            // Hide TopBar\n            if (typeof onActionClick === 'function') {\n                onActionClick('toggleTopBar', false);\n            } else if ( true && window.toggleTopBar) {\n                window.toggleTopBar(false);\n            }\n            setIsCapturing(true);\n            setShowCanvas(true);\n            setProcessStatus(\"Starting calibration sequence...\");\n            // Wait for UI updates to take effect\n            await new Promise((resolve)=>setTimeout(resolve, 300));\n            // Get canvas reference - using the fullscreen approach\n            const canvas = getMainCanvas();\n            if (!canvas) {\n                throw new Error(\"Canvas not available for calibration\");\n            }\n            // ---------- CRITICAL FIX: PROPER CANVAS SIZING ----------\n            // Get window dimensions for fullscreen calibration\n            const windowWidth = window.innerWidth;\n            const windowHeight = window.innerHeight;\n            // Force the canvas to be fullscreen\n            canvas.width = windowWidth;\n            canvas.height = windowHeight;\n            // Ensure canvas appears above other elements\n            canvas.style.position = 'fixed';\n            canvas.style.top = '0';\n            canvas.style.left = '0';\n            canvas.style.width = '100vw';\n            canvas.style.height = '100vh';\n            canvas.style.zIndex = '1000';\n            // Clear to white background\n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // console.log(`Canvas set to fullscreen: ${canvas.width}x${canvas.height}`);\n            // Import required functions\n            const { generateCalibrationPoints } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./Action/CalibratePoints */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/CalibratePoints.js\"));\n            const { drawRedDot, runCountdown, showCapturePreview } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./Action/countSave */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/countSave.js\"));\n            const { captureImagesAtPoint } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./Helper/savefile */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Helper/savefile.js\"));\n            // Generate calibration points based on the full canvas size\n            const points = generateCalibrationPoints(canvas.width, canvas.height);\n            if (!points || points.length === 0) {\n                throw new Error(\"Failed to generate calibration points\");\n            }\n            // Create a status indicator\n            const statusIndicator = document.createElement('div');\n            statusIndicator.className = 'calibrate-status-indicator';\n            statusIndicator.style.cssText = \"\\n        position: fixed;\\n        top: 20px;\\n        right: 20px;\\n        background-color: rgba(0, 102, 204, 0.9);\\n        color: white;\\n        font-size: 16px;\\n        font-weight: bold;\\n        padding: 10px 15px;\\n        border-radius: 8px;\\n        z-index: 9999;\\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\\n      \";\n            statusIndicator.textContent = 'Calibration: Initializing...';\n            document.body.appendChild(statusIndicator);\n            // Access webcam before starting calibration if available\n            // if (triggerCameraAccess) {\n            //   triggerCameraAccess(true);\n            //   await new Promise(resolve => setTimeout(resolve, 800));\n            // }\n            // Process each calibration point\n            let successCount = 0;\n            for(let i = 0; i < points.length; i++){\n                const point = points[i];\n                statusIndicator.textContent = \"Calibration: Point \".concat(i + 1, \"/\").concat(points.length);\n                setProcessStatus(\"Processing calibration point \".concat(i + 1, \"/\").concat(points.length));\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                const radius = 10;\n                drawRedDot(ctx, point.x, point.y, radius, true);\n                // Create a redraw interval to keep dot visible during the entire process\n                let redrawInterval = setInterval(()=>{\n                    drawRedDot(ctx, point.x, point.y, radius, false);\n                }, 100);\n                try {\n                    // Run countdown\n                    await new Promise((resolve, reject)=>{\n                        try {\n                            runCountdown(point, canvas, (status)=>{\n                                // Update UI based on status\n                                if (status.processStatus) {\n                                    setProcessStatus(\"Point \".concat(i + 1, \"/\").concat(points.length, \": \").concat(status.processStatus));\n                                }\n                            }, resolve // This resolves when countdown completes\n                            );\n                        } catch (error) {\n                            reject(error);\n                        }\n                    });\n                    // Ensure the dot is still visible after countdown\n                    drawRedDot(ctx, point.x, point.y, radius, false);\n                    // Wait a moment for visual consistency\n                    await new Promise((resolve)=>setTimeout(resolve, 300));\n                    // Explicitly trigger camera access again before capture\n                    // if (triggerCameraAccess) {\n                    //   triggerCameraAccess(true);\n                    //   await new Promise(resolve => setTimeout(resolve, 300));\n                    // }\n                    // Capture images at this point\n                    const captureResult = await captureImagesAtPoint({\n                        point: point,\n                        captureCount: captureCount,\n                        canvasRef: {\n                            current: canvas\n                        },\n                        setCaptureCount: setCaptureCount,\n                        showCapturePreview\n                    });\n                    // Clear the redraw interval once capture is complete\n                    clearInterval(redrawInterval);\n                    if (captureResult && (captureResult.screenImage || captureResult.success)) {\n                        successCount++;\n                    }\n                    // Increment counter\n                    // setCaptureCount(prev => prev + 1);\n                    // Wait between points\n                    await new Promise((resolve)=>setTimeout(resolve, 1200));\n                } catch (error) {\n                    console.error(\"Error processing calibration point \".concat(i + 1, \":\"), error);\n                    clearInterval(redrawInterval);\n                }\n            }\n            // Calibration complete\n            statusIndicator.textContent = \"Calibration complete: \".concat(successCount, \"/\").concat(points.length, \" points\");\n            setProcessStatus(\"Calibration completed: \".concat(successCount, \"/\").concat(points.length, \" points captured\"));\n            // Remove the status indicator after a delay\n            setTimeout(()=>{\n                if (statusIndicator.parentNode) {\n                    statusIndicator.parentNode.removeChild(statusIndicator);\n                }\n            }, 3000);\n            // ---------- IMPORTANT: Reset canvas styling ----------\n            // Return canvas to normal styling after calibration\n            canvas.style.position = '';\n            canvas.style.top = '';\n            canvas.style.left = '';\n            canvas.style.width = '100%';\n            canvas.style.height = '100%';\n            canvas.style.zIndex = '';\n            // Redraw canvas at original size with parent container\n            const parent1 = canvas.parentElement;\n            if (parent1) {\n                canvas.width = parent1.clientWidth || 800;\n                canvas.height = parent1.clientHeight || 600;\n                const ctx = canvas.getContext('2d');\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n            }\n        } catch (error) {\n            console.error(\"Calibration error:\", error);\n            setProcessStatus(\"Calibration error: \".concat(error.message));\n        } finally{\n            setIsCapturing(false);\n            // Show TopBar again\n            setTimeout(()=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', true);\n                } else if ( true && window.toggleTopBar) {\n                    window.toggleTopBar(true);\n                }\n            }, 1000);\n        }\n    };\n    // Random Dot Button - Draw a random dot and capture\n    const handleRandomDot = async ()=>{\n        if (isCapturing) return;\n        // Use the consolidated function with random position\n        await handleDotProcess({\n            useRandomPosition: true,\n            onStatusUpdate: (status)=>{\n                if (status.processStatus) setProcessStatus(status.processStatus);\n                if (status.isCapturing !== undefined) setIsCapturing(status.isCapturing);\n            },\n            toggleTopBar: (show)=>{\n                if (typeof onActionClick === 'function') {\n                    onActionClick('toggleTopBar', show);\n                }\n            },\n            triggerCameraAccess,\n            setIsCapturing,\n            captureCount,\n            setCaptureCount: setCaptureCount,\n            postCountdownDelay: 1000\n        });\n    };\n    // Load calibration setup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ActionButtonGroupInner.useEffect\": ()=>{\n            if (false) {}\n            const setupCalibration = {\n                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                    try {\n                        const { default: CalibrateHandler } = await __webpack_require__.e(/*! import() */ \"_pages-dir-browser_pages_collected-dataset_components-gui_Action_CalibrateHandler_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./Action/CalibrateHandler */ \"(pages-dir-browser)/./pages/collected-dataset/components-gui/Action/CalibrateHandler.js\"));\n                        const canvas = getMainCanvas();\n                        if (!canvas) {\n                            console.warn(\"Canvas not available during setupCalibration\");\n                            return;\n                        }\n                        // console.log('Canvas size:', canvas.width, canvas.height);\n                        const points = (0,_Action_CalibratePoints__WEBPACK_IMPORTED_MODULE_3__.generateCalibrationPoints)(canvas.width, canvas.height);\n                        // console.log('Generated calibration points:', points);\n                        setCalibrationPoints(points);\n                        const calibrateHandler = new CalibrateHandler({\n                            canvasRef: {\n                                current: canvas\n                            },\n                            calibrationPoints: points,\n                            toggleTopBar: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (show)=>onActionClick === null || onActionClick === void 0 ? void 0 : onActionClick('toggleTopBar', show)\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            setOutputText: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (status)=>{\n                                    setProcessStatus(status);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureCounter: captureCount,\n                            setCaptureCounter: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": (newCounter)=>{\n                                    if (typeof newCounter === 'function') {\n                                        setCaptureCount({\n                                            \"ActionButtonGroupInner.useEffect.setupCalibration\": (prev)=>newCounter(prev)\n                                        }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]);\n                                    } else {\n                                        setCaptureCount(newCounter);\n                                    }\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"],\n                            captureFolder: 'eye_tracking_captures',\n                            onComplete: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": ()=>{\n                                    setIsCapturing(false);\n                                    setProcessStatus('Calibration completed');\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                        setCalibrationHandler({\n                            handleAction: {\n                                \"ActionButtonGroupInner.useEffect.setupCalibration\": async ()=>{\n                                    setIsCapturing(true);\n                                    setProcessStatus('Starting calibration...');\n                                    await calibrateHandler.startCalibration();\n                                    setIsCapturing(false);\n                                }\n                            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"]\n                        });\n                    } catch (err) {\n                        console.error('Error initializing calibration:', err);\n                    }\n                }\n            }[\"ActionButtonGroupInner.useEffect.setupCalibration\"];\n            setupCalibration();\n        }\n    }[\"ActionButtonGroupInner.useEffect\"], [\n        captureCount,\n        onActionClick\n    ]);\n    // Clear All Button - Reset everything\n    const handleClearAll = ()=>{\n        clearCanvas();\n        setProcessStatus('');\n        setRemainingCaptures(0);\n        setIsCapturing(false);\n        setCountdownValue(null);\n        setShowCanvas(false);\n    };\n    // Toggle Head Pose visualization\n    const handleToggleHeadPose = ()=>{\n        const newHeadPoseState = !showHeadPose;\n        setShowHeadPose(newHeadPoseState);\n        setProcessStatus(\"Head pose visualization \".concat(newHeadPoseState ? 'enabled' : 'disabled'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('headPose');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showHeadPose: newHeadPoseState\n            });\n        // console.log(`Updated backend head pose: ${newHeadPoseState}`);\n        }\n    };\n    // Toggle Bounding Box visualization\n    const handleToggleBoundingBox = ()=>{\n        const newBoundingBoxState = !showBoundingBox;\n        setShowBoundingBox(newBoundingBoxState);\n        setProcessStatus(\"Bounding box \".concat(newBoundingBoxState ? 'shown' : 'hidden'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('boundingBox');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showBoundingBox: newBoundingBoxState\n            });\n        // console.log(`Updated backend bounding box: ${newBoundingBoxState}`);\n        }\n    };\n    // Toggle Mask visualization\n    const handleToggleMask = ()=>{\n        const newMaskState = !showMask;\n        setShowMask(newMaskState);\n        setProcessStatus(\"Mask \".concat(newMaskState ? 'shown' : 'hidden'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('mask');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showMask: newMaskState\n            });\n        // console.log(`Updated backend mask: ${newMaskState}`);\n        }\n    };\n    // Toggle Parameters display\n    const handleToggleParameters = ()=>{\n        const newParametersState = !showParameters;\n        setShowParameters(newParametersState);\n        setProcessStatus(\"Parameters \".concat(newParametersState ? 'shown' : 'hidden'));\n        // Call the parent handler to update processor options\n        if (onActionClick) {\n            onActionClick('parameters');\n        }\n        // Update videoProcessor options directly if available\n        if ( true && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showParameters: newParametersState\n            });\n        // console.log(`Updated backend parameters: ${newParametersState}`);\n        }\n    };\n    // Toggle camera preview\n    const handleToggleCamera = ()=>{\n        const newCameraState = !isCameraActive;\n        setIsCameraActive(newCameraState);\n        // Call the parent handler with 'preview' action\n        if (onActionClick) {\n            onActionClick('preview');\n        } else {\n            // Fallback to direct trigger if no action handler\n            setShowPermissionPopup(true);\n        }\n        // If turning on camera, ensure we apply current visualization settings\n        if (newCameraState && \"object\" !== 'undefined' && window.videoProcessor) {\n            window.videoProcessor.updateOptions({\n                showHeadPose,\n                showBoundingBox,\n                showMask,\n                showParameters\n            });\n        // console.log(\"Applied visualization settings to camera\");\n        }\n    };\n    // Button configurations with both full and abbreviated text\n    const buttons = [\n        {\n            text: \"Set Random\",\n            abbreviatedText: \"SRandom\",\n            onClick: handleSetRandom,\n            disabled: isCapturing\n        },\n        {\n            text: \"Random Dot\",\n            abbreviatedText: \"Random\",\n            onClick: handleRandomDot,\n            disabled: isCapturing\n        },\n        {\n            text: \"Set Calibrate\",\n            abbreviatedText: \"Calibrate\",\n            onClick: handleSetCalibrate,\n            disabled: isCapturing\n        },\n        {\n            text: \"Clear All\",\n            abbreviatedText: \"Clear\",\n            onClick: handleClearAll\n        },\n        {\n            divider: true\n        },\n        {\n            text: \"Draw Head pose\",\n            abbreviatedText: \"Head pose\",\n            onClick: handleToggleHeadPose,\n            active: showHeadPose\n        },\n        {\n            text: \"Show Bounding Box\",\n            abbreviatedText: \"☐ Box\",\n            onClick: handleToggleBoundingBox,\n            active: showBoundingBox\n        },\n        {\n            text: isCameraActive ? \"Stop Camera\" : \"Show Preview\",\n            abbreviatedText: isCameraActive ? \"Stop\" : \"Preview\",\n            onClick: ()=>{\n                // If camera permission is needed but not granted, show popup\n                if (!isCameraActive && !triggerCameraAccess(true)) {\n                    setShowPermissionPopup(true);\n                } else {\n                    handleToggleCamera();\n                }\n            },\n            active: isCameraActive\n        },\n        {\n            text: \"😷 Show Mask\",\n            abbreviatedText: \"😷 Mask\",\n            onClick: handleToggleMask,\n            active: showMask\n        },\n        {\n            text: \"Parameters\",\n            abbreviatedText: \"Values\",\n            onClick: handleToggleParameters,\n            active: showParameters\n        }\n    ];\n    // Mobile layout - 2x5 grid\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            isCompactMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-2 gap-2 mb-4\",\n                children: buttons.filter((b)=>!b.divider).map((button, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                        text: button.text,\n                        abbreviatedText: button.abbreviatedText,\n                        onClick: button.onClick,\n                        disabled: button.disabled,\n                        active: button.active\n                    }, index, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1138,\n                        columnNumber: 13\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1136,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2 mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Set Random\",\n                                abbreviatedText: \"SRandom\",\n                                onClick: handleSetRandom,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1151,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Random Dot\",\n                                abbreviatedText: \"Random\",\n                                onClick: handleRandomDot,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1157,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1150,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Set Calibrate\",\n                                abbreviatedText: \"Calibrate\",\n                                onClick: handleSetCalibrate,\n                                disabled: isCapturing\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1165,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Clear All\",\n                                abbreviatedText: \"Clear\",\n                                onClick: handleClearAll\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1171,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1164,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                        className: \"my-3 border-gray-200\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1178,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Draw Head pose\",\n                                abbreviatedText: \"Head pose\",\n                                onClick: handleToggleHeadPose,\n                                active: showHeadPose\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1181,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Show Bounding Box\",\n                                abbreviatedText: \"☐ Box\",\n                                onClick: handleToggleBoundingBox,\n                                active: showBoundingBox\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1187,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1180,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: isCameraActive ? \"Stop Camera\" : \"Show Preview\",\n                                abbreviatedText: isCameraActive ? \"Stop\" : \"Preview\",\n                                onClick: handleToggleCamera,\n                                active: isCameraActive\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1195,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"\\uD83D\\uDE37 Show Mask\",\n                                abbreviatedText: \"\\uD83D\\uDE37 Mask\",\n                                onClick: handleToggleMask,\n                                active: showMask\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1201,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1194,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButton, {\n                                text: \"Parameters\",\n                                abbreviatedText: \"Values\",\n                                onClick: handleToggleParameters,\n                                active: showParameters\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1209,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                lineNumber: 1215,\n                                columnNumber: 13\n                            }, undefined),\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1208,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1149,\n                columnNumber: 9\n            }, undefined),\n            (processStatus || remainingCaptures > 0 || countdownValue) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"status-display mt-4 p-2 bg-blue-50 rounded-md\",\n                children: [\n                    processStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm font-medium text-blue-800\",\n                        children: processStatus\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1224,\n                        columnNumber: 13\n                    }, undefined),\n                    remainingCaptures > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm font-medium text-yellow-600\",\n                        children: [\n                            \"Remaining: \",\n                            remainingCaptures\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1227,\n                        columnNumber: 13\n                    }, undefined),\n                    countdownValue && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-2xl font-bold text-red-600\",\n                        children: countdownValue\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1230,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1222,\n                columnNumber: 9\n            }, undefined),\n            showCanvas && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"canvas-container mt-4\",\n                style: {\n                    position: 'relative',\n                    width: '100%',\n                    height: '40vh',\n                    minHeight: '300px',\n                    border: '1px solid #e0e0e0',\n                    backgroundColor: 'white',\n                    borderRadius: '4px',\n                    overflow: 'hidden'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        className: \"tracking-canvas\",\n                        style: {\n                            width: '100%',\n                            height: '100%'\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1250,\n                        columnNumber: 11\n                    }, undefined),\n                    countdownValue && currentDot && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"dot-countdown\",\n                        style: {\n                            position: 'absolute',\n                            left: \"\".concat(currentDot.x - 15, \"px\"),\n                            top: \"\".concat(currentDot.y - 40, \"px\"),\n                            color: 'red',\n                            fontSize: '28px',\n                            fontWeight: 'bold'\n                        },\n                        children: countdownValue\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                        lineNumber: 1258,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1237,\n                columnNumber: 9\n            }, undefined),\n            showPermissionPopup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"camera-permission-popup\",\n                style: {\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    zIndex: 2000\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"camera-permission-dialog\",\n                    style: {\n                        width: '400px',\n                        backgroundColor: 'white',\n                        borderRadius: '8px',\n                        padding: '20px',\n                        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"camera-permission-title\",\n                            style: {\n                                margin: '0 0 15px',\n                                fontSize: '18px',\n                                fontWeight: 'bold'\n                            },\n                            children: \"Camera Access Required\"\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                            lineNumber: 1302,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"camera-permission-message\",\n                            style: {\n                                margin: '0 0 20px',\n                                fontSize: '14px',\n                                lineHeight: '1.4'\n                            },\n                            children: 'This application needs access to your camera to function properly. When prompted by your browser, please click \"Allow\" to grant camera access.'\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                            lineNumber: 1312,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"camera-permission-buttons\",\n                            style: {\n                                display: 'flex',\n                                justifyContent: 'flex-end',\n                                gap: '10px'\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionDenied,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#f0f0f0',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                    lineNumber: 1330,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handlePermissionAccepted,\n                                    className: \"camera-btn\",\n                                    style: {\n                                        padding: '8px 16px',\n                                        backgroundColor: '#0066cc',\n                                        color: 'white',\n                                        border: 'none',\n                                        borderRadius: '4px',\n                                        cursor: 'pointer'\n                                    },\n                                    children: \"Continue\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                                    lineNumber: 1343,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                            lineNumber: 1322,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                    lineNumber: 1292,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n                lineNumber: 1277,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n        lineNumber: 1134,\n        columnNumber: 5\n    }, undefined);\n}, \"sKFr1YuUm/JI/hkiSuzCP/3fw1w=\"));\n_c1 = ActionButtonGroupInner;\nconst ActionButtonGroup = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(_c2 = ()=>Promise.resolve(/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionButtonGroupInner, {\n            ...props,\n            ref: ref\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/collected-dataset/components-gui/actionButton.js\",\n            lineNumber: 1365,\n            columnNumber: 30\n        }, undefined))), {\n    ssr: false\n});\n_c3 = ActionButtonGroup;\n// Create a client-only version of ActionButtonGroup\n// const ActionButtonGroup = dynamic(() => Promise.resolve(ActionButtonGroupInner), { ssr: false });\n\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"ActionButton\");\n$RefreshReg$(_c1, \"ActionButtonGroupInner\");\n$RefreshReg$(_c2, \"ActionButtonGroup$dynamic\");\n$RefreshReg$(_c3, \"ActionButtonGroup\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL2FjdGlvbkJ1dHRvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTRGO0FBQ3pEO0FBQ2tDO0FBT3pDO0FBQzZCO0FBRXpELHdDQUF3QztBQUN4QyxNQUFNYyxlQUFlO1FBQUMsRUFBRUMsSUFBSSxFQUFFQyxlQUFlLEVBQUVDLE9BQU8sRUFBRUMsY0FBYyxFQUFFLEVBQUVDLFdBQVcsS0FBSyxFQUFFQyxTQUFTLEtBQUssRUFBRTs7SUFDMUcsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBR3JCLCtDQUFRQSxDQUFDO0lBRW5ELDZDQUE2QztJQUM3Q0MsZ0RBQVNBO2tDQUFDO1lBQ1Isa0JBQWtCO1lBQ2xCLElBQUksS0FBNkIsRUFBRSxFQUFPO1lBRTFDLE1BQU1xQjt1REFBZTtvQkFDbkIsTUFBTUMsUUFBUUMsT0FBT0MsVUFBVTtvQkFDL0JKLGlCQUFpQkUsUUFBUTtnQkFDM0I7O1lBRUFDLE9BQU9FLGdCQUFnQixDQUFDLFVBQVVKO1lBQ2xDQSxnQkFBZ0IsZUFBZTtZQUUvQjswQ0FBTyxJQUFNRSxPQUFPRyxtQkFBbUIsQ0FBQyxVQUFVTDs7UUFDcEQ7aUNBQUcsRUFBRTtJQUVMLHFCQUNFLDhEQUFDTTtRQUNDWixTQUFTQTtRQUNUYSxXQUFXLGlGQUFnR1YsT0FBZkYsYUFBWSxLQUFpQyxPQUE5QkUsU0FBUyxrQkFBa0I7UUFDdElXLE9BQU87WUFDTEMsaUJBQWlCWixTQUNiLDJCQUNBRCxXQUNFLDZCQUNBO1lBQ05jLE9BQU9iLFNBQVMsVUFBVTtZQUMxQmMsY0FBYztZQUNkQyxRQUFRaEIsV0FBVyxnQkFBZ0I7WUFDbkNpQixZQUFZaEIsU0FBUyxTQUFTO1lBQzlCaUIsV0FBV2pCLFNBQVMsOEJBQThCO1FBQ3BEO1FBQ0FELFVBQVVBO2tCQUVURSxnQkFBZ0JMLGtCQUFrQkQ7Ozs7OztBQUd6QztHQXhDTUQ7S0FBQUE7QUEwQ04seUVBQXlFO0FBQ3pFLE1BQU13Qix1Q0FBeUJsQyxpREFBVUEsS0FBQyxRQUF3RG1DO1FBQXZELEVBQUVDLG1CQUFtQixFQUFFQyxhQUFhLEVBQUVDLGFBQWEsRUFBRTs7SUFDOUYsMkJBQTJCO0lBQzNCLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHM0MsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDNEMsY0FBY0MsZ0JBQWdCLEdBQUc3QywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNOEMsWUFBWTVDLDZDQUFNQSxDQUFDO0lBQ3pCLE1BQU0sQ0FBQzZDLGVBQWVDLGlCQUFpQixHQUFHaEQsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDaUQsZ0JBQWdCQyxrQkFBa0IsR0FBR2xELCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQ21ELFlBQVlDLGNBQWMsR0FBR3BELCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3FELG1CQUFtQkMscUJBQXFCLEdBQUd0RCwrQ0FBUUEsQ0FBQyxFQUFFO0lBQzdELE1BQU0sQ0FBQ3VELHlCQUF5QkMsMkJBQTJCLEdBQUd4RCwrQ0FBUUEsQ0FBQztJQUN2RSxNQUFNLENBQUN5RCxtQkFBbUJDLHFCQUFxQixHQUFHMUQsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDMkQsWUFBWUMsY0FBYyxHQUFHNUQsK0NBQVFBLENBQUM7SUFFN0MsMEJBQTBCO0lBQzFCLE1BQU0sQ0FBQzZELG9CQUFvQkMsc0JBQXNCLEdBQUc5RCwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUMrRCxjQUFjQyxnQkFBZ0IsR0FBR2hFLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2lFLGFBQWFDLGVBQWUsR0FBR2xFLCtDQUFRQSxDQUFDO0lBRS9DLGdCQUFnQjtJQUNoQixNQUFNLENBQUNtRSxjQUFjQyxnQkFBZ0IsR0FBR3BFLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3FFLGlCQUFpQkMsbUJBQW1CLEdBQUd0RSwrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUN1RSxVQUFVQyxZQUFZLEdBQUd4RSwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUN5RSxnQkFBZ0JDLGtCQUFrQixHQUFHMUUsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDMkUsZ0JBQWdCQyxrQkFBa0IsR0FBRzVFLCtDQUFRQSxDQUFDO0lBR3JELE1BQU0sQ0FBQzZFLHFCQUFxQkMsdUJBQXVCLEdBQUc5RSwrQ0FBUUEsQ0FBQztJQUMvREksMERBQW1CQSxDQUFDa0M7c0RBQUssSUFBTztnQkFDOUJ5QztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztZQUNGO3FEQUFJLEVBQUU7SUFFSiwyQ0FBMkM7SUFDN0Msb0JBQW9CO0lBQ3BCLHVCQUF1QjtJQUN2QiwrQ0FBK0M7SUFFL0MscUZBQXFGO0lBQ3JGLGdEQUFnRDtJQUVoRCxtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLHNDQUFzQztJQUN0QyxPQUFPO0lBQ1AsVUFBVTtJQUVWakYsZ0RBQVNBOzRDQUFDO1lBQ1IsbURBQW1EO1lBQ25ELElBQUksSUFBNkIsRUFBRTtnQkFDakN1QixPQUFPMkQscUJBQXFCLEdBQUc7b0JBQzdCSjtvQkFDQUM7b0JBQ0FDO29CQUNBQztnQkFDRjtZQUNBLGtGQUFrRjtZQUNwRjtZQUVBO29EQUFPO29CQUNMLElBQUksSUFBNkIsRUFBRTt3QkFDakMsT0FBTzFELE9BQU8yRCxxQkFBcUI7b0JBQ3JDO2dCQUNGOztRQUNGOzJDQUFHLEVBQUU7SUFFTGxGLGdEQUFTQTs0Q0FBQztZQUNSLElBQUksS0FBNkIsRUFBRSxFQUFPO1lBRTFDLDZDQUE2QztZQUM3QyxNQUFNbUY7d0VBQXNCO29CQUMxQiw2QkFBNkI7b0JBQzdCLE1BQU1DLFlBQVlDLFNBQVNDLGFBQWEsQ0FBQztvQkFDekMsSUFBSUYsV0FBVzt3QkFDYixNQUFNRyxZQUFZQyxTQUFTSixVQUFVSyxLQUFLLEVBQUU7d0JBQzVDLElBQUksQ0FBQ0MsTUFBTUgsY0FBY0EsWUFBWSxHQUFHOzRCQUN0QzdDLGVBQWU2Qzt3QkFDakI7b0JBQ0Y7b0JBRUEsOEJBQThCO29CQUM5QixNQUFNSSxhQUFhTixTQUFTQyxhQUFhLENBQUM7b0JBQzFDLElBQUlLLFlBQVk7d0JBQ2QsTUFBTUMsYUFBYUosU0FBU0csV0FBV0YsS0FBSyxFQUFFO3dCQUM5QyxJQUFJLENBQUNDLE1BQU1FLGVBQWVBLGFBQWEsR0FBRzs0QkFDeENoRCxnQkFBZ0JnRDt3QkFDbEI7b0JBQ0Y7Z0JBQ0Y7O1lBRUEsNENBQTRDO1lBQzVDLE1BQU1SLFlBQVlDLFNBQVNDLGFBQWEsQ0FBQztZQUN6QyxNQUFNSyxhQUFhTixTQUFTQyxhQUFhLENBQUM7WUFFMUMsSUFBSUYsV0FBVztnQkFDYkEsVUFBVTNELGdCQUFnQixDQUFDLFVBQVUwRDtZQUN2QztZQUVBLElBQUlRLFlBQVk7Z0JBQ2RBLFdBQVdsRSxnQkFBZ0IsQ0FBQyxVQUFVMEQ7WUFDeEM7WUFFQSxpQkFBaUI7WUFDakJBO1lBRUEsMEJBQTBCO1lBQzFCO29EQUFPO29CQUNMLElBQUlDLFdBQVc7d0JBQ2JBLFVBQVUxRCxtQkFBbUIsQ0FBQyxVQUFVeUQ7b0JBQzFDO29CQUVBLElBQUlRLFlBQVk7d0JBQ2RBLFdBQVdqRSxtQkFBbUIsQ0FBQyxVQUFVeUQ7b0JBQzNDO2dCQUNGOztRQUNGOzJDQUFHLEVBQUU7SUFFTCxNQUFNVSxtQkFBbUIsQ0FBQ0MsUUFBUUM7UUFDaEMsSUFBSSxDQUFDRCxVQUFVLENBQUNDLFNBQVE7WUFDdEIsbUZBQW1GO1lBQ25GLE9BQU87UUFDVDtRQUVBLElBQUk7WUFDRix3Q0FBd0M7WUFDeENELE9BQU94RSxLQUFLLEdBQUd5RSxRQUFPQyxXQUFXLElBQUk7WUFDckNGLE9BQU9HLE1BQU0sR0FBR0YsUUFBT0csWUFBWSxJQUFJO1lBRXZDLHdDQUF3QztZQUN4QyxNQUFNQyxNQUFNTCxPQUFPTSxVQUFVLENBQUM7WUFDOUJELElBQUlFLFNBQVMsQ0FBQyxHQUFHLEdBQUdQLE9BQU94RSxLQUFLLEVBQUV3RSxPQUFPRyxNQUFNO1lBQy9DRSxJQUFJRyxTQUFTLEdBQUc7WUFDaEJILElBQUlJLFFBQVEsQ0FBQyxHQUFHLEdBQUdULE9BQU94RSxLQUFLLEVBQUV3RSxPQUFPRyxNQUFNO1lBRTlDLHVGQUF1RjtZQUN2RixPQUFPO1FBQ1QsRUFBRSxPQUFPTyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpREFBaURBO1lBQy9ELE9BQU87UUFDVDtJQUNGO0lBRUEsd0VBQXdFO0lBQ3hFLE1BQU1FLGdCQUFnQjtRQUNwQiwwQ0FBMEM7UUFFMUMsSUFBSTdELFVBQVU4RCxPQUFPLEVBQUU7WUFDckIsMkRBQTJEO1lBQzNELE9BQU85RCxVQUFVOEQsT0FBTztRQUMxQjtRQUVBLElBQUksS0FBNkIsSUFBSXBGLE9BQU9xRixpQkFBaUIsRUFBRTtZQUM3RCwyREFBMkQ7WUFDM0QvRCxVQUFVOEQsT0FBTyxHQUFHcEYsT0FBT3FGLGlCQUFpQixFQUFFLGlCQUFpQjtZQUMvRCxPQUFPckYsT0FBT3FGLGlCQUFpQjtRQUNqQztRQUVBLElBQUksT0FBT3ZCLGFBQWEsYUFBYTtZQUNuQyxNQUFNd0IsZ0JBQWdCeEIsU0FBU0MsYUFBYSxDQUFDO1lBQzdDLElBQUl1QixlQUFlO2dCQUNqQixnREFBZ0Q7Z0JBQ2hEaEUsVUFBVThELE9BQU8sR0FBR0UsZUFBZSxpQkFBaUI7Z0JBQ3BELElBQUksSUFBNkIsRUFBRTtvQkFDakN0RixPQUFPcUYsaUJBQWlCLEdBQUdDLGVBQWUsd0JBQXdCO2dCQUNwRTtnQkFDQSxPQUFPQTtZQUNUO1FBQ0Y7UUFFQSxPQUFPO0lBQ1Q7SUFFQSxNQUFNQywyQkFBMkI7UUFDL0JqQyx1QkFBdUI7UUFDdkIsSUFBSXZDLHFCQUFxQjtZQUN2QkEsb0JBQW9CO1FBQ3RCO0lBQ0Y7SUFFQSxxQ0FBcUM7SUFDckMsTUFBTXlFLHlCQUF5QjtRQUM3QmxDLHVCQUF1QjtJQUN6QjtJQUdBLG1CQUFtQjtJQUNuQixNQUFNbUMsY0FBYztRQUNsQixNQUFNbEIsU0FBU1k7UUFDZixJQUFJLENBQUNaLFFBQVE7WUFDWFcsUUFBUVEsSUFBSSxDQUFDO1lBQ2I7UUFDRjtRQUVBLE1BQU1kLE1BQU1MLE9BQU9NLFVBQVUsQ0FBQztRQUM5QkQsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR1AsT0FBT3hFLEtBQUssRUFBRXdFLE9BQU9HLE1BQU07UUFDL0NFLElBQUlHLFNBQVMsR0FBRztRQUNoQkgsSUFBSUksUUFBUSxDQUFDLEdBQUcsR0FBR1QsT0FBT3hFLEtBQUssRUFBRXdFLE9BQU9HLE1BQU07UUFDOUM5QyxjQUFjO0lBQ2hCO0lBQ0EsdUNBQXVDO0lBRXZDOzs7Ozs7Ozs7Ozs7R0FZQyxHQUNELE1BQU0rRCxtQkFBbUIsT0FBT0M7UUFDOUIsTUFBTSxFQUNKQyxRQUFRLEVBQ1JDLGNBQWMsRUFDZEMsWUFBWSxFQUNaaEYsbUJBQW1CLEVBQ25CMkIsY0FBYyxFQUNkSCxZQUFZLEVBQ1pDLGVBQWUsRUFDZndELG9CQUFvQixLQUFLLEVBQ3pCQyxxQkFBcUIsSUFBSSxnQ0FBZ0M7UUFBakMsRUFDekIsR0FBR0w7UUFFSixJQUFJO1lBQ0YseUNBQXlDO1lBQ3pDLElBQUksT0FBT0csaUJBQWlCLFlBQVk7Z0JBQ3RDQSxhQUFhO1lBQ2YsT0FBTyxJQUFJLEtBQTZCLElBQUkvRixPQUFPK0YsWUFBWSxFQUFFO2dCQUMvRC9GLE9BQU8rRixZQUFZLENBQUM7WUFDdEI7WUFFQSxzQkFBc0I7WUFDdEJyRCxlQUFlO1lBRWYsZ0JBQWdCO1lBQ2hCb0QsMkJBQUFBLHFDQUFBQSxlQUFpQjtnQkFDZnZFLGVBQWV5RSxvQkFBb0IsNkJBQTZCO2dCQUNoRXZELGFBQWE7WUFDZjtZQUVBLHFDQUFxQztZQUNyQyxNQUFNLElBQUl5RCxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO1lBRWpELHVCQUF1QjtZQUN2QixNQUFNNUIsU0FBU1k7WUFDZixJQUFJLENBQUNaLFFBQVE7Z0JBQ1gsTUFBTSxJQUFJOEIsTUFBTTtZQUNsQjtZQUVBLHNDQUFzQztZQUN0QyxJQUFJOUIsT0FBT3hFLEtBQUssSUFBSSxLQUFLd0UsT0FBT0csTUFBTSxJQUFJLEdBQUc7Z0JBQzNDLE1BQU1GLFVBQVNELE9BQU8rQixhQUFhO2dCQUNuQyxJQUFJOUIsU0FBUTtvQkFDViw0Q0FBNEM7b0JBQzVDLDhDQUE4QztvQkFDOUNELE9BQU94RSxLQUFLLEdBQUd5RSxRQUFPQyxXQUFXO29CQUNqQ0YsT0FBT0csTUFBTSxHQUFHRixRQUFPRyxZQUFZO2dCQUNyQztZQUNBLFNBQVM7WUFDVCx3QkFBd0I7WUFDeEIseUJBQXlCO1lBQ3pCLElBQUk7WUFDTjtZQUVBLHVDQUF1QztZQUN2QyxNQUFNQyxNQUFNTCxPQUFPTSxVQUFVLENBQUM7WUFDOUJELElBQUlFLFNBQVMsQ0FBQyxHQUFHLEdBQUdQLE9BQU94RSxLQUFLLEVBQUV3RSxPQUFPRyxNQUFNO1lBQy9DRSxJQUFJRyxTQUFTLEdBQUc7WUFDaEJILElBQUlJLFFBQVEsQ0FBQyxHQUFHLEdBQUdULE9BQU94RSxLQUFLLEVBQUV3RSxPQUFPRyxNQUFNO1lBRTlDLGlGQUFpRjtZQUNqRixNQUFNNkIsY0FBY1Asb0JBQ2hCL0csb0VBQWlCQSxDQUFDc0YsUUFBUSxNQUMxQnNCO1lBRUosSUFBSSxDQUFDVSxlQUFlLE9BQU9BLFlBQVlDLENBQUMsS0FBSyxZQUFZLE9BQU9ELFlBQVlFLENBQUMsS0FBSyxVQUFVO2dCQUMxRixNQUFNLElBQUlKLE1BQU07WUFDbEI7WUFFQSxlQUFlO1lBQ2YsTUFBTUssWUFBWTtZQUNsQjFILDZEQUFVQSxDQUFDNEYsS0FBSzJCLFlBQVlDLENBQUMsRUFBRUQsWUFBWUUsQ0FBQyxFQUFFQyxXQUFXO1lBRXpELHVEQUF1RDtZQUN2RCxJQUFJQyx5QkFBeUJDLFlBQVk7Z0JBQ3ZDNUgsNkRBQVVBLENBQUM0RixLQUFLMkIsWUFBWUMsQ0FBQyxFQUFFRCxZQUFZRSxDQUFDLEVBQUVDLFdBQVc7WUFDM0QsR0FBRztZQUVILHNEQUFzRDtZQUN0RCxJQUFJRyxnQkFBZ0I7WUFFcEIsa0NBQWtDO1lBQ2xDLE1BQU0sSUFBSVgsUUFBUSxDQUFDQyxTQUFTVztnQkFDMUIsSUFBSTtvQkFDRjNILCtEQUFZQSxDQUNWb0gsYUFDQWhDLFFBQ0EsQ0FBQ3dDO3dCQUNDLDRCQUE0Qjt3QkFDNUIsSUFBSUEsT0FBT3hGLGFBQWEsRUFBRTs0QkFDeEJ1RSwyQkFBQUEscUNBQUFBLGVBQWlCaUI7d0JBQ25CO29CQUNGLEdBQ0FaLFFBQVEsK0NBQStDOztnQkFFM0QsRUFBRSxPQUFPbEIsT0FBTztvQkFDZCtCLGNBQWNMO29CQUNkRyxPQUFPN0I7Z0JBQ1Q7WUFDRjtZQUVBLCtDQUErQztZQUMvQ2EsMkJBQUFBLHFDQUFBQSxlQUFpQjtnQkFDZnZFLGVBQWU7Z0JBQ2ZrQixhQUFhO1lBQ2Y7WUFFQSxrREFBa0Q7WUFDbER6RCw2REFBVUEsQ0FBQzRGLEtBQUsyQixZQUFZQyxDQUFDLEVBQUVELFlBQVlFLENBQUMsRUFBRUMsV0FBVztZQUV6RCxrRUFBa0U7WUFDbEUsTUFBTSxJQUFJUixRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTRjtZQUdqRCx5REFBeUQ7WUFDekRqSCw2REFBVUEsQ0FBQzRGLEtBQUsyQixZQUFZQyxDQUFDLEVBQUVELFlBQVlFLENBQUMsRUFBRUMsV0FBVztZQUV6RCxzRUFBc0U7WUFDdEUsTUFBTSxJQUFJUixRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO1lBRWpELDhEQUE4RDtZQUM5RCxNQUFNYyw2QkFBNkJqSCxPQUFPakIsa0JBQWtCLElBQUlBLGlFQUFrQkE7WUFFbEYsd0VBQXdFO1lBQ3hFLE1BQU1tSSxpQkFBaUIsQ0FBQ0MsYUFBYUMsYUFBYUM7Z0JBQ2hELHlCQUF5QjtnQkFDekJSLGdCQUFnQjtnQkFFaEIsaURBQWlEO2dCQUNqREcsY0FBY0w7Z0JBRWQscUNBQXFDO2dCQUNyQ00sMkJBQTJCRSxhQUFhQyxhQUFhQztnQkFFckQsZ0JBQWdCO2dCQUNoQnZCLDJCQUFBQSxxQ0FBQUEsZUFBaUI7b0JBQ2Z2RSxlQUFlO29CQUNma0IsYUFBYTtnQkFDZjtZQUNGO1lBRUEsNENBQTRDO1lBQzVDLElBQUksSUFBNkIsRUFBRTtnQkFDakN6QyxPQUFPakIsa0JBQWtCLEdBQUdtSTtZQUM5QjtZQUVBLHFDQUFxQztZQUNyQyxNQUFNSSxnQkFBZ0IsTUFBTWxJLHNFQUFvQkEsQ0FBQztnQkFDL0NpSSxPQUFPZDtnQkFDUGhFLGNBQWNBO2dCQUNkakIsV0FBVztvQkFBRThELFNBQVNiO2dCQUFPO2dCQUM3Qi9CLGlCQUFpQkE7Z0JBQ2pCekQsb0JBQW9CbUk7WUFDdEI7WUFFQSw0QkFBNEI7WUFDNUIscUNBQXFDO1lBRXJDLHVFQUF1RTtZQUN2RWQsV0FBVztnQkFDVCxJQUFJLENBQUNTLGVBQWU7b0JBQ2xCRyxjQUFjTDtvQkFFZCxvQ0FBb0M7b0JBQ3BDLElBQUksSUFBNkIsRUFBRTt3QkFDakMzRyxPQUFPakIsa0JBQWtCLEdBQUdrSTtvQkFDOUI7Z0JBQ0Y7WUFDRixHQUFHO1lBRUgsNEJBQTRCO1lBQzVCYixXQUFXO2dCQUNULElBQUksT0FBT0wsaUJBQWlCLFlBQVk7b0JBQ3RDQSxhQUFhO2dCQUNmLE9BQU8sSUFBSSxLQUE2QixJQUFJL0YsT0FBTytGLFlBQVksRUFBRTtvQkFDL0QvRixPQUFPK0YsWUFBWSxDQUFDO2dCQUN0QjtnQkFDQXJELGVBQWU7WUFDakIsR0FBRztZQUVILE9BQU87Z0JBQ0w2RSxTQUFTO2dCQUNUMUIsVUFBVVU7Z0JBQ1ZlO1lBQ0Y7UUFFRixFQUFFLE9BQU9yQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1lBRTVDYSwyQkFBQUEscUNBQUFBLGVBQWlCO2dCQUNmdkUsZUFBZSxVQUF3QixPQUFkMEQsTUFBTXVDLE9BQU87Z0JBQ3RDL0UsYUFBYTtZQUNmO1lBRUEsV0FBVztZQUNYQyxlQUFlO1lBRWYsbUNBQW1DO1lBQ25DLElBQUksS0FBNkIsSUFBSTFDLE9BQU9pSCwwQkFBMEIsRUFBRTtnQkFDdEVqSCxPQUFPakIsa0JBQWtCLEdBQUdpQixPQUFPaUgsMEJBQTBCO1lBQy9EO1lBRUEsK0NBQStDO1lBQy9DYixXQUFXO2dCQUNULElBQUksT0FBT0wsaUJBQWlCLFlBQVk7b0JBQ3RDQSxhQUFhO2dCQUNmLE9BQU8sSUFBSSxLQUE2QixJQUFJL0YsT0FBTytGLFlBQVksRUFBRTtvQkFDL0QvRixPQUFPK0YsWUFBWSxDQUFDO2dCQUN0QjtZQUNGLEdBQUc7WUFFSCxPQUFPO2dCQUNMd0IsU0FBUztnQkFDVHRDLE9BQU9BLE1BQU11QyxPQUFPO1lBQ3RCO1FBQ0Y7SUFDRjtJQUNBLGtFQUFrRTtJQUVsRSw2REFBNkQ7SUFDN0QsMkRBQTJEO0lBQzNELE1BQU1oRSxrQkFBa0I7UUFDdEIsSUFBSWYsYUFBYTtRQUVqQixJQUFJO1lBQ0YsMERBQTBEO1lBQzFELE1BQU1vQixZQUFZQyxTQUFTQyxhQUFhLENBQUM7WUFDekMsTUFBTUssYUFBYU4sU0FBUzJELGdCQUFnQixDQUFDLHVCQUF1QixDQUFDLEVBQUU7WUFFdkUsSUFBSUMsUUFBUXhHLGVBQWUsR0FBRyx1QkFBdUI7WUFDckQsSUFBSXlHLFFBQVF2RyxnQkFBZ0IsR0FBRyx1QkFBdUI7WUFFdEQsa0NBQWtDO1lBQ2xDLElBQUl5QyxXQUFXO2dCQUNiLE1BQU0rRCxhQUFhM0QsU0FBU0osVUFBVUssS0FBSyxFQUFFO2dCQUM3QyxJQUFJLENBQUNDLE1BQU15RCxlQUFlQSxhQUFhLEdBQUc7b0JBQ3hDRixRQUFRRTtvQkFDUnpHLGVBQWV1RztnQkFDakI7WUFDRjtZQUVBLElBQUl0RCxZQUFZO2dCQUNkLE1BQU15RCxjQUFjNUQsU0FBU0csV0FBV0YsS0FBSyxFQUFFO2dCQUMvQyxJQUFJLENBQUNDLE1BQU0wRCxnQkFBZ0JBLGNBQWMsR0FBRztvQkFDMUNGLFFBQVFFO29CQUNSeEcsZ0JBQWdCc0c7Z0JBQ2xCO1lBQ0Y7WUFFQSxrQkFBa0I7WUFDbEIsSUFBSUQsU0FBUyxHQUFHO2dCQUNkbEcsaUJBQWlCO2dCQUNqQjtZQUNGO1lBQ0EsSUFBSW1HLFNBQVMsR0FBRztnQkFDZG5HLGlCQUFpQjtnQkFDakI7WUFDRjtZQUVBLG1EQUFtRDtZQUNuRCxJQUFJLE9BQU9QLGtCQUFrQixZQUFZO2dCQUN2Q0EsY0FBYyxnQkFBZ0I7WUFDaEMsT0FBTyxJQUFJLEtBQTZCLElBQUlqQixPQUFPK0YsWUFBWSxFQUFFO2dCQUMvRC9GLE9BQU8rRixZQUFZLENBQUM7WUFDdEI7WUFFQSwwQ0FBMEM7WUFDMUMzRCxjQUFjO1lBQ2RNLGVBQWU7WUFFZix5Q0FBeUM7WUFDekNSLHFCQUFxQndGO1lBQ3JCbEcsaUJBQWlCLFlBQTBDbUcsT0FBOUJELE9BQU0sMEJBQThCLE9BQU5DLE9BQU07WUFFakUsSUFBSTFGLG9CQUFvQnlGO1lBQ3hCLElBQUlJLGVBQWU7WUFDbkIsSUFBSUMsZUFBZTtZQUVuQiwyQ0FBMkM7WUFDM0MsTUFBTzlGLG9CQUFvQixFQUFHO2dCQUM1QixzRUFBc0U7Z0JBQ3RFLE1BQU1zQyxTQUFTWTtnQkFDZixJQUFJLENBQUNaLFFBQVE7b0JBQ1gvQyxpQkFBaUI7b0JBQ2pCO2dCQUNGO2dCQUNBLElBQUkrQyxRQUFPO29CQUNULE1BQU1DLFVBQVNELE9BQU8rQixhQUFhO29CQUNuQ2hDLGlCQUFpQkMsUUFBUUM7Z0JBQzNCO2dCQUNBLElBQUlBLFFBQVE7b0JBQ1YseURBQXlEO29CQUN6REQsT0FBT3hFLEtBQUssR0FBR3lFLE9BQU9DLFdBQVc7b0JBQ2pDRixPQUFPRyxNQUFNLEdBQUdGLE9BQU9HLFlBQVk7b0JBRW5DLDJCQUEyQjtvQkFDM0IsTUFBTUMsTUFBTUwsT0FBT00sVUFBVSxDQUFDO29CQUM5QkQsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR1AsT0FBT3hFLEtBQUssRUFBRXdFLE9BQU9HLE1BQU07b0JBQy9DRSxJQUFJRyxTQUFTLEdBQUc7b0JBQ2hCSCxJQUFJSSxRQUFRLENBQUMsR0FBRyxHQUFHVCxPQUFPeEUsS0FBSyxFQUFFd0UsT0FBT0csTUFBTTtnQkFDaEQ7Z0JBQ0EsdUJBQXVCO2dCQUN2QixpRUFBaUU7Z0JBQ2pFLDZDQUE2QztnQkFDN0MsSUFBSTtnQkFFSmxELGlCQUFpQixXQUE4QmtHLE9BQW5CSSxjQUFhLFFBQVksT0FBTko7Z0JBQy9DeEYscUJBQXFCRDtnQkFFckIsa0RBQWtEO2dCQUNsRCxNQUFNK0YsU0FBUyxNQUFNckMsaUJBQWlCO29CQUNwQ0ssbUJBQW1CO29CQUNuQkYsZ0JBQWdCLENBQUNpQjt3QkFDZixJQUFJQSxPQUFPeEYsYUFBYSxFQUFFOzRCQUN4QkMsaUJBQWlCLFdBQTJCa0csT0FBaEJJLGNBQWEsS0FBYWYsT0FBVlcsT0FBTSxNQUF5QixPQUFyQlgsT0FBT3hGLGFBQWE7d0JBQzVFO3dCQUNBLElBQUl3RixPQUFPdEUsV0FBVyxLQUFLd0YsV0FBVzs0QkFDcEN2RixlQUFlcUUsT0FBT3RFLFdBQVc7d0JBQ25DO29CQUNGO29CQUNBc0QsY0FBYyxDQUFDbUM7d0JBQ2IsOENBQThDO3dCQUM5QyxJQUFJQSxRQUFRakcsb0JBQW9CLEdBQUc7d0JBQ25DLElBQUksT0FBT2hCLGtCQUFrQixZQUFZOzRCQUN2Q0EsY0FBYyxnQkFBZ0JpSDt3QkFDaEMsT0FBTyxJQUFJLEtBQTZCLElBQUlsSSxPQUFPK0YsWUFBWSxFQUFFOzRCQUMvRC9GLE9BQU8rRixZQUFZLENBQUNtQzt3QkFDdEI7b0JBQ0Y7b0JBQ0FuSDtvQkFDQTJCO29CQUNBSDtvQkFDQUMsaUJBQWlCQTtvQkFDakJ5RCxvQkFBb0I7Z0JBQ3RCO2dCQUVBLCtEQUErRDtnQkFDL0QsSUFBSSxDQUFDK0IsT0FBT1QsT0FBTyxFQUFFO29CQUNuQi9GLGlCQUFpQix3QkFBeUN3RyxPQUFqQkYsY0FBYSxNQUFpQixPQUFiRSxPQUFPL0MsS0FBSztvQkFDdEU7Z0JBQ0YsT0FBTyxJQUNMK0MsT0FBT1YsYUFBYSxJQUNuQlUsQ0FBQUEsT0FBT1YsYUFBYSxDQUFDSCxXQUFXLElBQUlhLE9BQU9WLGFBQWEsQ0FBQ0MsT0FBTyxHQUNqRTtvQkFDQVE7Z0JBQ0Y7Z0JBRUE5RjtnQkFDQTZGO2dCQUVBLHVEQUF1RDtnQkFDdkQsSUFBSTdGLG9CQUFvQixHQUFHO29CQUN6QlQsaUJBQWlCLFdBQWlCLE9BQU5tRyxPQUFNO29CQUNsQyxNQUFNLElBQUl6QixRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTd0IsUUFBUTtnQkFDM0Q7WUFDRjtZQUVBLDRDQUE0QztZQUM1Q25HLGlCQUFpQixzQ0FBc0RrRyxPQUFoQkssY0FBYSxLQUFTLE9BQU5MLE9BQU07WUFDN0V4RixxQkFBcUI7WUFFckIsOENBQThDO1lBQzlDLElBQUksT0FBT2pCLGtCQUFrQixZQUFZO2dCQUN2Q0EsY0FBYyxnQkFBZ0I7WUFDaEMsT0FBTyxJQUFJLEtBQTZCLElBQUlqQixPQUFPK0YsWUFBWSxFQUFFO2dCQUMvRC9GLE9BQU8rRixZQUFZLENBQUM7WUFDdEI7UUFDRixFQUFFLE9BQU9kLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7WUFDeEN6RCxpQkFBaUIsMkJBQXlDLE9BQWR5RCxNQUFNdUMsT0FBTztZQUN6RDlFLGVBQWU7WUFDZiw0Q0FBNEM7WUFDNUMsSUFBSSxPQUFPekIsa0JBQWtCLFlBQVk7Z0JBQ3ZDQSxjQUFjLGdCQUFnQjtZQUNoQyxPQUFPLElBQUksS0FBNkIsSUFBSWpCLE9BQU8rRixZQUFZLEVBQUU7Z0JBQy9EL0YsT0FBTytGLFlBQVksQ0FBQztZQUN0QjtRQUNGO0lBQ0Y7SUFFQSxnRUFBZ0U7SUFDaEUsMkRBQTJEO0lBQzNELE1BQU10QyxxQkFBcUI7UUFDekIsSUFBSWhCLGFBQWE7UUFFakIsSUFBSTtZQUNGLGNBQWM7WUFDZCxJQUFJLE9BQU94QixrQkFBa0IsWUFBWTtnQkFDdkNBLGNBQWMsZ0JBQWdCO1lBQ2hDLE9BQU8sSUFBSSxLQUE2QixJQUFJakIsT0FBTytGLFlBQVksRUFBRTtnQkFDL0QvRixPQUFPK0YsWUFBWSxDQUFDO1lBQ3RCO1lBRUFyRCxlQUFlO1lBQ2ZOLGNBQWM7WUFDZFosaUJBQWlCO1lBRWpCLHFDQUFxQztZQUNyQyxNQUFNLElBQUkwRSxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO1lBRWpELHVEQUF1RDtZQUN2RCxNQUFNNUIsU0FBU1k7WUFDZixJQUFJLENBQUNaLFFBQVE7Z0JBQ1gsTUFBTSxJQUFJOEIsTUFBTTtZQUNsQjtZQUVBLDJEQUEyRDtZQUMzRCxtREFBbUQ7WUFDbkQsTUFBTThCLGNBQWNuSSxPQUFPQyxVQUFVO1lBQ3JDLE1BQU1tSSxlQUFlcEksT0FBT3FJLFdBQVc7WUFFdkMsb0NBQW9DO1lBQ3BDOUQsT0FBT3hFLEtBQUssR0FBR29JO1lBQ2Y1RCxPQUFPRyxNQUFNLEdBQUcwRDtZQUVoQiw2Q0FBNkM7WUFDN0M3RCxPQUFPakUsS0FBSyxDQUFDdUYsUUFBUSxHQUFHO1lBQ3hCdEIsT0FBT2pFLEtBQUssQ0FBQ2dJLEdBQUcsR0FBRztZQUNuQi9ELE9BQU9qRSxLQUFLLENBQUNpSSxJQUFJLEdBQUc7WUFDcEJoRSxPQUFPakUsS0FBSyxDQUFDUCxLQUFLLEdBQUc7WUFDckJ3RSxPQUFPakUsS0FBSyxDQUFDb0UsTUFBTSxHQUFHO1lBQ3RCSCxPQUFPakUsS0FBSyxDQUFDa0ksTUFBTSxHQUFHO1lBRXRCLDRCQUE0QjtZQUM1QixNQUFNNUQsTUFBTUwsT0FBT00sVUFBVSxDQUFDO1lBQzlCRCxJQUFJRSxTQUFTLENBQUMsR0FBRyxHQUFHUCxPQUFPeEUsS0FBSyxFQUFFd0UsT0FBT0csTUFBTTtZQUMvQ0UsSUFBSUcsU0FBUyxHQUFHO1lBQ2hCSCxJQUFJSSxRQUFRLENBQUMsR0FBRyxHQUFHVCxPQUFPeEUsS0FBSyxFQUFFd0UsT0FBT0csTUFBTTtZQUU5Qyw2RUFBNkU7WUFFN0UsNEJBQTRCO1lBQzVCLE1BQU0sRUFBRTVGLHlCQUF5QixFQUFFLEdBQUcsTUFBTSw4TUFBa0M7WUFDOUUsTUFBTSxFQUFFRSxVQUFVLEVBQUVHLFlBQVksRUFBRUosa0JBQWtCLEVBQUUsR0FBRyxNQUFNLGtNQUE0QjtZQUMzRixNQUFNLEVBQUVLLG9CQUFvQixFQUFFLEdBQUcsTUFBTSxnTUFBMkI7WUFFbEUsNERBQTREO1lBQzVELE1BQU1xSixTQUFTM0osMEJBQTBCeUYsT0FBT3hFLEtBQUssRUFBRXdFLE9BQU9HLE1BQU07WUFFcEUsSUFBSSxDQUFDK0QsVUFBVUEsT0FBT0MsTUFBTSxLQUFLLEdBQUc7Z0JBQ2xDLE1BQU0sSUFBSXJDLE1BQU07WUFDbEI7WUFFQSw0QkFBNEI7WUFDNUIsTUFBTXNDLGtCQUFrQjdFLFNBQVM4RSxhQUFhLENBQUM7WUFDL0NELGdCQUFnQnRJLFNBQVMsR0FBRztZQUM1QnNJLGdCQUFnQnJJLEtBQUssQ0FBQ3VJLE9BQU8sR0FBSTtZQWFqQ0YsZ0JBQWdCRyxXQUFXLEdBQUc7WUFDOUJoRixTQUFTaUYsSUFBSSxDQUFDQyxXQUFXLENBQUNMO1lBRTFCLHlEQUF5RDtZQUN6RCw2QkFBNkI7WUFDN0IsK0JBQStCO1lBQy9CLDREQUE0RDtZQUM1RCxJQUFJO1lBRUosaUNBQWlDO1lBQ2pDLElBQUlaLGVBQWU7WUFDbkIsSUFBSyxJQUFJa0IsSUFBSSxHQUFHQSxJQUFJUixPQUFPQyxNQUFNLEVBQUVPLElBQUs7Z0JBR3RDLE1BQU01QixRQUFRb0IsTUFBTSxDQUFDUSxFQUFFO2dCQUV2Qk4sZ0JBQWdCRyxXQUFXLEdBQUcsc0JBQStCTCxPQUFUUSxJQUFJLEdBQUUsS0FBaUIsT0FBZFIsT0FBT0MsTUFBTTtnQkFDMUVsSCxpQkFBaUIsZ0NBQXlDaUgsT0FBVFEsSUFBSSxHQUFFLEtBQWlCLE9BQWRSLE9BQU9DLE1BQU07Z0JBRXZFOUQsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR1AsT0FBT3hFLEtBQUssRUFBRXdFLE9BQU9HLE1BQU07Z0JBQy9DRSxJQUFJRyxTQUFTLEdBQUc7Z0JBQ2hCSCxJQUFJSSxRQUFRLENBQUMsR0FBRyxHQUFHVCxPQUFPeEUsS0FBSyxFQUFFd0UsT0FBT0csTUFBTTtnQkFFOUMsTUFBTXdFLFNBQVM7Z0JBQ2ZsSyxXQUFXNEYsS0FBS3lDLE1BQU1iLENBQUMsRUFBRWEsTUFBTVosQ0FBQyxFQUFFeUMsUUFBUTtnQkFFMUMseUVBQXlFO2dCQUN6RSxJQUFJQyxpQkFBaUJ2QyxZQUFZO29CQUMvQjVILFdBQVc0RixLQUFLeUMsTUFBTWIsQ0FBQyxFQUFFYSxNQUFNWixDQUFDLEVBQUV5QyxRQUFRO2dCQUM1QyxHQUFHO2dCQUVILElBQUk7b0JBQ0YsZ0JBQWdCO29CQUNoQixNQUFNLElBQUloRCxRQUFRLENBQUNDLFNBQVNXO3dCQUMxQixJQUFJOzRCQUNGM0gsYUFDRWtJLE9BQ0E5QyxRQUNBLENBQUN3QztnQ0FDQyw0QkFBNEI7Z0NBQzVCLElBQUlBLE9BQU94RixhQUFhLEVBQUU7b0NBQ3hCQyxpQkFBaUIsU0FBZ0JpSCxPQUFQUSxJQUFFLEdBQUUsS0FBcUJsQyxPQUFsQjBCLE9BQU9DLE1BQU0sRUFBQyxNQUF5QixPQUFyQjNCLE9BQU94RixhQUFhO2dDQUN6RTs0QkFDRixHQUNBNEUsUUFBUSx5Q0FBeUM7O3dCQUVyRCxFQUFFLE9BQU9sQixPQUFPOzRCQUNkNkIsT0FBTzdCO3dCQUNUO29CQUNGO29CQUVBLGtEQUFrRDtvQkFDbERqRyxXQUFXNEYsS0FBS3lDLE1BQU1iLENBQUMsRUFBRWEsTUFBTVosQ0FBQyxFQUFFeUMsUUFBUTtvQkFFMUMsdUNBQXVDO29CQUN2QyxNQUFNLElBQUloRCxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO29CQUVqRCx3REFBd0Q7b0JBQ3hELDZCQUE2QjtvQkFDN0IsK0JBQStCO29CQUMvQiw0REFBNEQ7b0JBQzVELElBQUk7b0JBRUosK0JBQStCO29CQUMvQixNQUFNbUIsZ0JBQWdCLE1BQU1sSSxxQkFBcUI7d0JBQy9DaUksT0FBT0E7d0JBQ1A5RSxjQUFjQTt3QkFDZGpCLFdBQVc7NEJBQUU4RCxTQUFTYjt3QkFBTzt3QkFDN0IvQixpQkFBaUJBO3dCQUNqQnpEO29CQUNGO29CQUVBLHFEQUFxRDtvQkFDckRpSSxjQUFjbUM7b0JBRWQsSUFBSTdCLGlCQUFrQkEsQ0FBQUEsY0FBY0gsV0FBVyxJQUFJRyxjQUFjQyxPQUFPLEdBQUc7d0JBQ3pFUTtvQkFDRjtvQkFFQSxvQkFBb0I7b0JBQ3BCLHFDQUFxQztvQkFFckMsc0JBQXNCO29CQUN0QixNQUFNLElBQUk3QixRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTO2dCQUVuRCxFQUFFLE9BQU9sQixPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsc0NBQTBDLE9BQUpnRSxJQUFFLEdBQUUsTUFBSWhFO29CQUM1RCtCLGNBQWNtQztnQkFDaEI7WUFDRjtZQUVBLHVCQUF1QjtZQUN2QlIsZ0JBQWdCRyxXQUFXLEdBQUcseUJBQXlDTCxPQUFoQlYsY0FBYSxLQUFpQixPQUFkVSxPQUFPQyxNQUFNLEVBQUM7WUFDckZsSCxpQkFBaUIsMEJBQTBDaUgsT0FBaEJWLGNBQWEsS0FBaUIsT0FBZFUsT0FBT0MsTUFBTSxFQUFDO1lBRXpFLDRDQUE0QztZQUM1Q3RDLFdBQVc7Z0JBQ1QsSUFBSXVDLGdCQUFnQlMsVUFBVSxFQUFFO29CQUM5QlQsZ0JBQWdCUyxVQUFVLENBQUNDLFdBQVcsQ0FBQ1Y7Z0JBQ3pDO1lBQ0YsR0FBRztZQUVILHdEQUF3RDtZQUN4RCxvREFBb0Q7WUFDcERwRSxPQUFPakUsS0FBSyxDQUFDdUYsUUFBUSxHQUFHO1lBQ3hCdEIsT0FBT2pFLEtBQUssQ0FBQ2dJLEdBQUcsR0FBRztZQUNuQi9ELE9BQU9qRSxLQUFLLENBQUNpSSxJQUFJLEdBQUc7WUFDcEJoRSxPQUFPakUsS0FBSyxDQUFDUCxLQUFLLEdBQUc7WUFDckJ3RSxPQUFPakUsS0FBSyxDQUFDb0UsTUFBTSxHQUFHO1lBQ3RCSCxPQUFPakUsS0FBSyxDQUFDa0ksTUFBTSxHQUFHO1lBRXRCLHVEQUF1RDtZQUN2RCxNQUFNaEUsVUFBU0QsT0FBTytCLGFBQWE7WUFDbkMsSUFBSTlCLFNBQVE7Z0JBQ1ZELE9BQU94RSxLQUFLLEdBQUd5RSxRQUFPQyxXQUFXLElBQUk7Z0JBQ3JDRixPQUFPRyxNQUFNLEdBQUdGLFFBQU9HLFlBQVksSUFBSTtnQkFDdkMsTUFBTUMsTUFBTUwsT0FBT00sVUFBVSxDQUFDO2dCQUM5QkQsSUFBSUUsU0FBUyxDQUFDLEdBQUcsR0FBR1AsT0FBT3hFLEtBQUssRUFBRXdFLE9BQU9HLE1BQU07Z0JBQy9DRSxJQUFJRyxTQUFTLEdBQUc7Z0JBQ2hCSCxJQUFJSSxRQUFRLENBQUMsR0FBRyxHQUFHVCxPQUFPeEUsS0FBSyxFQUFFd0UsT0FBT0csTUFBTTtZQUNoRDtRQUVGLEVBQUUsT0FBT08sT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsc0JBQXNCQTtZQUNwQ3pELGlCQUFpQixzQkFBb0MsT0FBZHlELE1BQU11QyxPQUFPO1FBQ3RELFNBQVU7WUFDUjlFLGVBQWU7WUFFZixvQkFBb0I7WUFDcEIwRCxXQUFXO2dCQUNULElBQUksT0FBT25GLGtCQUFrQixZQUFZO29CQUN2Q0EsY0FBYyxnQkFBZ0I7Z0JBQ2hDLE9BQU8sSUFBSSxLQUE2QixJQUFJakIsT0FBTytGLFlBQVksRUFBRTtvQkFDL0QvRixPQUFPK0YsWUFBWSxDQUFDO2dCQUN0QjtZQUNGLEdBQUc7UUFDTDtJQUNGO0lBRUEsb0RBQW9EO0lBQ3BELE1BQU14QyxrQkFBa0I7UUFDdEIsSUFBSWQsYUFBYTtRQUVqQixxREFBcUQ7UUFDckQsTUFBTWtELGlCQUFpQjtZQUNyQkssbUJBQW1CO1lBQ25CRixnQkFBZ0IsQ0FBQ2lCO2dCQUNmLElBQUlBLE9BQU94RixhQUFhLEVBQUVDLGlCQUFpQnVGLE9BQU94RixhQUFhO2dCQUMvRCxJQUFJd0YsT0FBT3RFLFdBQVcsS0FBS3dGLFdBQVd2RixlQUFlcUUsT0FBT3RFLFdBQVc7WUFDekU7WUFDQXNELGNBQWMsQ0FBQ21DO2dCQUNiLElBQUksT0FBT2pILGtCQUFrQixZQUFZO29CQUN2Q0EsY0FBYyxnQkFBZ0JpSDtnQkFDaEM7WUFDRjtZQUNBbkg7WUFDQTJCO1lBQ0FIO1lBQ0FDLGlCQUFpQkE7WUFDakJ5RCxvQkFBb0I7UUFDdEI7SUFDRjtJQUVBLHlCQUF5QjtJQUN6QnhILGdEQUFTQTs0Q0FBQztZQUNSLElBQUksS0FBNkIsRUFBRSxFQUFPO1lBRTFDLE1BQU02SztxRUFBbUI7b0JBQ3ZCLElBQUk7d0JBQ0YsTUFBTSxFQUFFQyxTQUFTQyxnQkFBZ0IsRUFBRSxHQUFHLE1BQU0sNlNBQW1DO3dCQUUvRSxNQUFNakYsU0FBU1k7d0JBQ2YsSUFBSSxDQUFDWixRQUFROzRCQUNYVyxRQUFRUSxJQUFJLENBQUM7NEJBQ2I7d0JBQ0Y7d0JBRUEsNERBQTREO3dCQUM1RCxNQUFNK0MsU0FBUzNKLGtGQUF5QkEsQ0FBQ3lGLE9BQU94RSxLQUFLLEVBQUV3RSxPQUFPRyxNQUFNO3dCQUNwRSx3REFBd0Q7d0JBQ3hENUMscUJBQXFCMkc7d0JBRXJCLE1BQU1nQixtQkFBbUIsSUFBSUQsaUJBQWlCOzRCQUM1Q2xJLFdBQVc7Z0NBQUU4RCxTQUFTYjs0QkFBTzs0QkFDN0IxQyxtQkFBbUI0Rzs0QkFDbkIxQyxZQUFZO3FGQUFFLENBQUNtQyxPQUFTakgsMEJBQUFBLG9DQUFBQSxjQUFnQixnQkFBZ0JpSDs7NEJBQ3hEd0IsYUFBYTtxRkFBRSxDQUFDM0M7b0NBQ2R2RixpQkFBaUJ1RjtnQ0FDbkI7OzRCQUNBNEMsZ0JBQWdCcEg7NEJBQ2hCcUgsaUJBQWlCO3FGQUFFLENBQUNDO29DQUNsQixJQUFJLE9BQU9BLGVBQWUsWUFBWTt3Q0FDcENySDtpR0FBZ0JzSCxDQUFBQSxPQUFRRCxXQUFXQzs7b0NBQ3JDLE9BQU87d0NBQ0x0SCxnQkFBZ0JxSDtvQ0FDbEI7Z0NBQ0Y7OzRCQUNBRSxlQUFlOzRCQUNmQyxVQUFVO3FGQUFFO29DQUNWdEgsZUFBZTtvQ0FDZmxCLGlCQUFpQjtnQ0FDbkI7O3dCQUNGO3dCQUVBYyxzQkFBc0I7NEJBQ3BCMkgsWUFBWTtxRkFBRTtvQ0FDWnZILGVBQWU7b0NBQ2ZsQixpQkFBaUI7b0NBQ2pCLE1BQU1pSSxpQkFBaUJTLGdCQUFnQjtvQ0FDdkN4SCxlQUFlO2dDQUNqQjs7d0JBQ0Y7b0JBRUYsRUFBRSxPQUFPeUgsS0FBSzt3QkFDWmpGLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNrRjtvQkFDbkQ7Z0JBQ0Y7O1lBRUFiO1FBQ0Y7MkNBQUc7UUFBQy9HO1FBQWN0QjtLQUFjO0lBRWhDLHNDQUFzQztJQUN0QyxNQUFNeUMsaUJBQWlCO1FBQ3JCK0I7UUFDQWpFLGlCQUFpQjtRQUNqQlUscUJBQXFCO1FBQ3JCUSxlQUFlO1FBQ2ZoQixrQkFBa0I7UUFDbEJVLGNBQWM7SUFDaEI7SUFFQSxpQ0FBaUM7SUFDakMsTUFBTWdJLHVCQUF1QjtRQUMzQixNQUFNQyxtQkFBbUIsQ0FBQzFIO1FBQzFCQyxnQkFBZ0J5SDtRQUNoQjdJLGlCQUFpQiwyQkFBcUUsT0FBMUM2SSxtQkFBbUIsWUFBWTtRQUUzRSxzREFBc0Q7UUFDdEQsSUFBSXBKLGVBQWU7WUFDakJBLGNBQWM7UUFDaEI7UUFFQSxzREFBc0Q7UUFDdEQsSUFBSSxLQUE2QixJQUFJakIsT0FBT3NLLGNBQWMsRUFBRTtZQUMxRHRLLE9BQU9zSyxjQUFjLENBQUNDLGFBQWEsQ0FBQztnQkFDbEM1SCxjQUFjMEg7WUFDaEI7UUFDQSxpRUFBaUU7UUFDbkU7SUFDRjtJQUVBLG9DQUFvQztJQUNwQyxNQUFNRywwQkFBMEI7UUFDOUIsTUFBTUMsc0JBQXNCLENBQUM1SDtRQUM3QkMsbUJBQW1CMkg7UUFDbkJqSixpQkFBaUIsZ0JBQXlELE9BQXpDaUosc0JBQXNCLFVBQVU7UUFFakUsc0RBQXNEO1FBQ3RELElBQUl4SixlQUFlO1lBQ2pCQSxjQUFjO1FBQ2hCO1FBRUEsc0RBQXNEO1FBQ3RELElBQUksS0FBNkIsSUFBSWpCLE9BQU9zSyxjQUFjLEVBQUU7WUFDMUR0SyxPQUFPc0ssY0FBYyxDQUFDQyxhQUFhLENBQUM7Z0JBQ2xDMUgsaUJBQWlCNEg7WUFDbkI7UUFDQSx1RUFBdUU7UUFDekU7SUFDRjtJQUVBLDRCQUE0QjtJQUM1QixNQUFNQyxtQkFBbUI7UUFDdkIsTUFBTUMsZUFBZSxDQUFDNUg7UUFDdEJDLFlBQVkySDtRQUNabkosaUJBQWlCLFFBQTBDLE9BQWxDbUosZUFBZSxVQUFVO1FBRWxELHNEQUFzRDtRQUN0RCxJQUFJMUosZUFBZTtZQUNqQkEsY0FBYztRQUNoQjtRQUVBLHNEQUFzRDtRQUN0RCxJQUFJLEtBQTZCLElBQUlqQixPQUFPc0ssY0FBYyxFQUFFO1lBQzFEdEssT0FBT3NLLGNBQWMsQ0FBQ0MsYUFBYSxDQUFDO2dCQUNsQ3hILFVBQVU0SDtZQUNaO1FBQ0Esd0RBQXdEO1FBQzFEO0lBQ0Y7SUFFQSw0QkFBNEI7SUFDNUIsTUFBTUMseUJBQXlCO1FBQzdCLE1BQU1DLHFCQUFxQixDQUFDNUg7UUFDNUJDLGtCQUFrQjJIO1FBQ2xCckosaUJBQWlCLGNBQXNELE9BQXhDcUoscUJBQXFCLFVBQVU7UUFFOUQsc0RBQXNEO1FBQ3RELElBQUk1SixlQUFlO1lBQ2pCQSxjQUFjO1FBQ2hCO1FBRUEsc0RBQXNEO1FBQ3RELElBQUksS0FBNkIsSUFBSWpCLE9BQU9zSyxjQUFjLEVBQUU7WUFDMUR0SyxPQUFPc0ssY0FBYyxDQUFDQyxhQUFhLENBQUM7Z0JBQ2xDdEgsZ0JBQWdCNEg7WUFDbEI7UUFDQSxvRUFBb0U7UUFDdEU7SUFDRjtJQUVBLHdCQUF3QjtJQUN4QixNQUFNQyxxQkFBcUI7UUFDekIsTUFBTUMsaUJBQWlCLENBQUM1SDtRQUN4QkMsa0JBQWtCMkg7UUFFbEIsZ0RBQWdEO1FBQ2hELElBQUk5SixlQUFlO1lBQ2pCQSxjQUFjO1FBQ2hCLE9BQU87WUFDTCxrREFBa0Q7WUFDbERxQyx1QkFBdUI7UUFDekI7UUFFQSx1RUFBdUU7UUFDdkUsSUFBSXlILGtCQUFrQixhQUFrQixlQUFlL0ssT0FBT3NLLGNBQWMsRUFBRTtZQUM1RXRLLE9BQU9zSyxjQUFjLENBQUNDLGFBQWEsQ0FBQztnQkFDbEM1SDtnQkFDQUU7Z0JBQ0FFO2dCQUNBRTtZQUNGO1FBQ0EsMkRBQTJEO1FBQzdEO0lBQ0Y7SUFFQSw0REFBNEQ7SUFDNUQsTUFBTStILFVBQVU7UUFDZDtZQUNFMUwsTUFBTTtZQUNOQyxpQkFBaUI7WUFDakJDLFNBQVNnRTtZQUNUOUQsVUFBVStDO1FBQ1o7UUFDQTtZQUNFbkQsTUFBTTtZQUNOQyxpQkFBaUI7WUFDakJDLFNBQVMrRDtZQUNUN0QsVUFBVStDO1FBQ1o7UUFDQTtZQUNFbkQsTUFBTTtZQUNOQyxpQkFBaUI7WUFDakJDLFNBQVNpRTtZQUNUL0QsVUFBVStDO1FBQ1o7UUFDQTtZQUNFbkQsTUFBTTtZQUNOQyxpQkFBaUI7WUFDakJDLFNBQVNrRTtRQUNYO1FBQ0E7WUFBRXVILFNBQVM7UUFBSztRQUNoQjtZQUNFM0wsTUFBTTtZQUNOQyxpQkFBaUI7WUFDakJDLFNBQVM0SztZQUNUekssUUFBUWdEO1FBQ1Y7UUFDQTtZQUNFckQsTUFBTTtZQUNOQyxpQkFBaUI7WUFDakJDLFNBQVNnTDtZQUNUN0ssUUFBUWtEO1FBQ1Y7UUFDQTtZQUNFdkQsTUFBTTZELGlCQUFpQixnQkFBZ0I7WUFDdkM1RCxpQkFBaUI0RCxpQkFBaUIsU0FBUztZQUMzQzNELFNBQVM7Z0JBQ1AsNkRBQTZEO2dCQUM3RCxJQUFJLENBQUMyRCxrQkFBa0IsQ0FBQ3BDLG9CQUFvQixPQUFPO29CQUNqRHVDLHVCQUF1QjtnQkFDekIsT0FBTztvQkFDTHdIO2dCQUNGO1lBQ0Y7WUFDQW5MLFFBQVF3RDtRQUNWO1FBQ0E7WUFDRTdELE1BQU07WUFDTkMsaUJBQWlCO1lBQ2pCQyxTQUFTa0w7WUFDVC9LLFFBQVFvRDtRQUNWO1FBQ0E7WUFDRXpELE1BQU07WUFDTkMsaUJBQWlCO1lBQ2pCQyxTQUFTb0w7WUFDVGpMLFFBQVFzRDtRQUNWO0tBQ0Q7SUFFRCwyQkFBMkI7SUFDM0IscUJBQ0UsOERBQUNpSTs7WUFDRWxLLDhCQUNDLDhEQUFDa0s7Z0JBQUk3SyxXQUFVOzBCQUNaMkssUUFBUUcsTUFBTSxDQUFDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUVILE9BQU8sRUFBRUksR0FBRyxDQUFDLENBQUNqTCxRQUFRa0wsc0JBQzVDLDhEQUFDak07d0JBRUNDLE1BQU1jLE9BQU9kLElBQUk7d0JBQ2pCQyxpQkFBaUJhLE9BQU9iLGVBQWU7d0JBQ3ZDQyxTQUFTWSxPQUFPWixPQUFPO3dCQUN2QkUsVUFBVVUsT0FBT1YsUUFBUTt3QkFDekJDLFFBQVFTLE9BQU9ULE1BQU07dUJBTGhCMkw7Ozs7Ozs7OzswQ0FVWCw4REFBQ0o7Z0JBQUk3SyxXQUFVOztrQ0FDYiw4REFBQzZLO3dCQUFJN0ssV0FBVTs7MENBQ2IsOERBQUNoQjtnQ0FDQ0MsTUFBSztnQ0FDTEMsaUJBQWdCO2dDQUNoQkMsU0FBU2dFO2dDQUNUOUQsVUFBVStDOzs7Ozs7MENBRVosOERBQUNwRDtnQ0FDQ0MsTUFBSztnQ0FDTEMsaUJBQWdCO2dDQUNoQkMsU0FBUytEO2dDQUNUN0QsVUFBVStDOzs7Ozs7Ozs7Ozs7a0NBR2QsOERBQUN5STt3QkFBSTdLLFdBQVU7OzBDQUNiLDhEQUFDaEI7Z0NBQ0NDLE1BQUs7Z0NBQ0xDLGlCQUFnQjtnQ0FDaEJDLFNBQVNpRTtnQ0FDVC9ELFVBQVUrQzs7Ozs7OzBDQUVaLDhEQUFDcEQ7Z0NBQ0NDLE1BQUs7Z0NBQ0xDLGlCQUFnQjtnQ0FDaEJDLFNBQVNrRTs7Ozs7Ozs7Ozs7O2tDQUliLDhEQUFDNkg7d0JBQUdsTCxXQUFVOzs7Ozs7a0NBRWQsOERBQUM2Szt3QkFBSTdLLFdBQVU7OzBDQUNiLDhEQUFDaEI7Z0NBQ0NDLE1BQUs7Z0NBQ0xDLGlCQUFnQjtnQ0FDaEJDLFNBQVM0SztnQ0FDVHpLLFFBQVFnRDs7Ozs7OzBDQUVWLDhEQUFDdEQ7Z0NBQ0NDLE1BQUs7Z0NBQ0xDLGlCQUFnQjtnQ0FDaEJDLFNBQVNnTDtnQ0FDVDdLLFFBQVFrRDs7Ozs7Ozs7Ozs7O2tDQUdaLDhEQUFDcUk7d0JBQUk3SyxXQUFVOzswQ0FDYiw4REFBQ2hCO2dDQUNDQyxNQUFNNkQsaUJBQWlCLGdCQUFnQjtnQ0FDdkM1RCxpQkFBaUI0RCxpQkFBaUIsU0FBUztnQ0FDM0MzRCxTQUFTc0w7Z0NBQ1RuTCxRQUFRd0Q7Ozs7OzswQ0FFViw4REFBQzlEO2dDQUNDQyxNQUFLO2dDQUNMQyxpQkFBZ0I7Z0NBQ2hCQyxTQUFTa0w7Z0NBQ1QvSyxRQUFRb0Q7Ozs7Ozs7Ozs7OztrQ0FHWiw4REFBQ21JO3dCQUFJN0ssV0FBVTs7MENBQ2IsOERBQUNoQjtnQ0FDQ0MsTUFBSztnQ0FDTEMsaUJBQWdCO2dDQUNoQkMsU0FBU29MO2dDQUNUakwsUUFBUXNEOzs7Ozs7MENBRVYsOERBQUNpSTs7Ozs7NEJBQVU7Ozs7Ozs7Ozs7Ozs7WUFNZjNKLENBQUFBLGlCQUFpQlUsb0JBQW9CLEtBQUtSLGNBQWEsbUJBQ3ZELDhEQUFDeUo7Z0JBQUk3SyxXQUFVOztvQkFDWmtCLCtCQUNDLDhEQUFDMko7d0JBQUk3SyxXQUFVO2tDQUFxQ2tCOzs7Ozs7b0JBRXJEVSxvQkFBb0IsbUJBQ25CLDhEQUFDaUo7d0JBQUk3SyxXQUFVOzs0QkFBc0M7NEJBQVk0Qjs7Ozs7OztvQkFFbEVSLGdDQUNDLDhEQUFDeUo7d0JBQUk3SyxXQUFVO2tDQUFtQ29COzs7Ozs7Ozs7Ozs7WUFNdkRVLDRCQUNDLDhEQUFDK0k7Z0JBQ0M3SyxXQUFVO2dCQUNWQyxPQUFPO29CQUNMdUYsVUFBVTtvQkFDVjlGLE9BQU87b0JBQ1AyRSxRQUFRO29CQUNSOEcsV0FBVztvQkFDWEMsUUFBUTtvQkFDUmxMLGlCQUFpQjtvQkFDakJFLGNBQWM7b0JBQ2RpTCxVQUFVO2dCQUNaOztrQ0FFQSw4REFBQ25IO3dCQUNDekQsS0FBS1E7d0JBQ0xqQixXQUFVO3dCQUNWQyxPQUFPOzRCQUFFUCxPQUFPOzRCQUFRMkUsUUFBUTt3QkFBTzs7Ozs7O29CQUl4Q2pELGtCQUFrQkUsNEJBQ2pCLDhEQUFDdUo7d0JBQ0M3SyxXQUFVO3dCQUNWQyxPQUFPOzRCQUNMdUYsVUFBVTs0QkFDVjBDLE1BQU0sR0FBcUIsT0FBbEI1RyxXQUFXNkUsQ0FBQyxHQUFHLElBQUc7NEJBQzNCOEIsS0FBSyxHQUFxQixPQUFsQjNHLFdBQVc4RSxDQUFDLEdBQUcsSUFBRzs0QkFDMUJqRyxPQUFPOzRCQUNQbUwsVUFBVTs0QkFDVmhMLFlBQVk7d0JBQ2Q7a0NBRUNjOzs7Ozs7Ozs7Ozs7WUFPUjRCLHFDQUNDLDhEQUFDNkg7Z0JBQ0M3SyxXQUFVO2dCQUNWQyxPQUFPO29CQUNMdUYsVUFBVTtvQkFDVnlDLEtBQUs7b0JBQ0xDLE1BQU07b0JBQ054SSxPQUFPO29CQUNQMkUsUUFBUTtvQkFDUm5FLGlCQUFpQjtvQkFDakJxTCxTQUFTO29CQUNUQyxnQkFBZ0I7b0JBQ2hCQyxZQUFZO29CQUNadEQsUUFBUTtnQkFDVjswQkFFQSw0RUFBQzBDO29CQUNDN0ssV0FBVTtvQkFDVkMsT0FBTzt3QkFDTFAsT0FBTzt3QkFDUFEsaUJBQWlCO3dCQUNqQkUsY0FBYzt3QkFDZHNMLFNBQVM7d0JBQ1RuTCxXQUFXO29CQUNiOztzQ0FFQSw4REFBQ29MOzRCQUNDM0wsV0FBVTs0QkFDVkMsT0FBTztnQ0FDTDJMLFFBQVE7Z0NBQ1JOLFVBQVU7Z0NBQ1ZoTCxZQUFZOzRCQUNkO3NDQUNEOzs7Ozs7c0NBR0QsOERBQUN1TDs0QkFDQzdMLFdBQVU7NEJBQ1ZDLE9BQU87Z0NBQ0wyTCxRQUFRO2dDQUNSTixVQUFVO2dDQUNWUSxZQUFZOzRCQUNkO3NDQUNEOzs7Ozs7c0NBR0QsOERBQUNqQjs0QkFDQzdLLFdBQVU7NEJBQ1ZDLE9BQU87Z0NBQ0xzTCxTQUFTO2dDQUNUQyxnQkFBZ0I7Z0NBQ2hCTyxLQUFLOzRCQUNQOzs4Q0FFQSw4REFBQ2hNO29DQUNDWixTQUFTZ0c7b0NBQ1RuRixXQUFVO29DQUNWQyxPQUFPO3dDQUNMeUwsU0FBUzt3Q0FDVHhMLGlCQUFpQjt3Q0FDakJrTCxRQUFRO3dDQUNSaEwsY0FBYzt3Q0FDZEMsUUFBUTtvQ0FDVjs4Q0FDRDs7Ozs7OzhDQUdELDhEQUFDTjtvQ0FDQ1osU0FBUytGO29DQUNUbEYsV0FBVTtvQ0FDVkMsT0FBTzt3Q0FDTHlMLFNBQVM7d0NBQ1R4TCxpQkFBaUI7d0NBQ2pCQyxPQUFPO3dDQUNQaUwsUUFBUTt3Q0FDUmhMLGNBQWM7d0NBQ2RDLFFBQVE7b0NBQ1Y7OENBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2Y7TUExeENNRztBQTJ4Q04sTUFBTXdMLG9CQUFvQnhOLG1EQUFPQSxPQUFDLElBQU1xSCxRQUFRQyxPQUFPLGVBQ3JEeEgsaURBQVVBLENBQUMsQ0FBQzJOLE9BQU94TCxvQkFBUSw4REFBQ0Q7WUFBd0IsR0FBR3lMLEtBQUs7WUFBRXhMLEtBQUtBOzs7Ozt5QkFDbEU7SUFBRXlMLEtBQUs7QUFBTTs7QUFDaEIsb0RBQW9EO0FBQ3BELG9HQUFvRztBQUV6RCIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0L2NvbXBvbmVudHMtZ3VpL2FjdGlvbkJ1dHRvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCB7IGdlbmVyYXRlQ2FsaWJyYXRpb25Qb2ludHMgfSBmcm9tICcuL0FjdGlvbi9DYWxpYnJhdGVQb2ludHMnO1xuaW1wb3J0IHsgXG4gIHNob3dDYXB0dXJlUHJldmlldywgXG4gIGRyYXdSZWREb3QsIFxuICBnZXRSYW5kb21Qb3NpdGlvbixcbiAgY3JlYXRlQ291bnRkb3duRWxlbWVudCxcbiAgcnVuQ291bnRkb3duXG59IGZyb20gJy4vQWN0aW9uL2NvdW50U2F2ZSc7XG5pbXBvcnQgeyBjYXB0dXJlSW1hZ2VzQXRQb2ludCB9IGZyb20gJy4vSGVscGVyL3NhdmVmaWxlJztcblxuLy8gQ3JlYXRlIGEgYmFzaWMgQWN0aW9uQnV0dG9uIGNvbXBvbmVudFxuY29uc3QgQWN0aW9uQnV0dG9uID0gKHsgdGV4dCwgYWJicmV2aWF0ZWRUZXh0LCBvbkNsaWNrLCBjdXN0b21DbGFzcyA9ICcnLCBkaXNhYmxlZCA9IGZhbHNlLCBhY3RpdmUgPSBmYWxzZSB9KSA9PiB7XG4gIGNvbnN0IFtpc0FiYnJldmlhdGVkLCBzZXRJc0FiYnJldmlhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIENoZWNrIHdpbmRvdyBzaXplIGFuZCBzZXQgYWJicmV2aWF0ZWQgbW9kZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFNraXAgZHVyaW5nIFNTUlxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBzZXRJc0FiYnJldmlhdGVkKHdpZHRoIDwgNzY4KTtcbiAgICB9O1xuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIGhhbmRsZVJlc2l6ZSgpOyAvLyBJbml0aWFsIGNhbGxcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBjbGFzc05hbWU9e2B0cmFuc2l0aW9uLWNvbG9ycyBweS0yIHB4LTIgbWQ6cHgtNCByb3VuZGVkLW1kIHRleHQteHMgbWQ6dGV4dC1zbSBmb250LW1lZGl1bSAke2N1c3RvbUNsYXNzfSAke2FjdGl2ZSA/ICdhY3RpdmUtYnV0dG9uJyA6ICcnfWB9XG4gICAgICBzdHlsZT17eyBcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhY3RpdmUgXG4gICAgICAgICAgPyAncmdiYSgwLCAxMDIsIDIwNCwgMC43KScgXG4gICAgICAgICAgOiBkaXNhYmxlZCBcbiAgICAgICAgICAgID8gJ3JnYmEoMjAwLCAyMDAsIDIwMCwgMC41KScgXG4gICAgICAgICAgICA6ICdyZ2JhKDEyNCwgMjU1LCAyMTgsIDAuNSknLCBcbiAgICAgICAgY29sb3I6IGFjdGl2ZSA/ICd3aGl0ZScgOiAnYmxhY2snLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc3cHgnLFxuICAgICAgICBjdXJzb3I6IGRpc2FibGVkID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgICAgZm9udFdlaWdodDogYWN0aXZlID8gJ2JvbGQnIDogJ25vcm1hbCcsXG4gICAgICAgIGJveFNoYWRvdzogYWN0aXZlID8gJzAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMiknIDogJ25vbmUnXG4gICAgICB9fVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgID5cbiAgICAgIHtpc0FiYnJldmlhdGVkID8gYWJicmV2aWF0ZWRUZXh0IDogdGV4dH1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG5cbi8vIENyZWF0ZSB0aGUgQWN0aW9uQnV0dG9uR3JvdXAgY29tcG9uZW50IHdpdGggY2xpZW50LXNpZGUgb25seSByZW5kZXJpbmdcbmNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwSW5uZXIgPSBmb3J3YXJkUmVmKCh7IHRyaWdnZXJDYW1lcmFBY2Nlc3MsIGlzQ29tcGFjdE1vZGUsIG9uQWN0aW9uQ2xpY2sgfSwgcmVmKSA9PiB7XG4gIC8vIFN0YXRlIGZvciBidXR0b24gYWN0aW9uc1xuICBjb25zdCBbcmFuZG9tVGltZXMsIHNldFJhbmRvbVRpbWVzXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbZGVsYXlTZWNvbmRzLCBzZXREZWxheVNlY29uZHNdID0gdXNlU3RhdGUoMyk7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3Byb2Nlc3NTdGF0dXMsIHNldFByb2Nlc3NTdGF0dXNdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY291bnRkb3duVmFsdWUsIHNldENvdW50ZG93blZhbHVlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY3VycmVudERvdCwgc2V0Q3VycmVudERvdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NhbGlicmF0aW9uUG9pbnRzLCBzZXRDYWxpYnJhdGlvblBvaW50c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtjdXJyZW50Q2FsaWJyYXRpb25JbmRleCwgc2V0Q3VycmVudENhbGlicmF0aW9uSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtyZW1haW5pbmdDYXB0dXJlcywgc2V0UmVtYWluaW5nQ2FwdHVyZXNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzaG93Q2FudmFzLCBzZXRTaG93Q2FudmFzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRyYWNrIHRoZSBjYXB0dXJlIGNvdW50XG4gIGNvbnN0IFtjYWxpYnJhdGlvbkhhbmRsZXIsIHNldENhbGlicmF0aW9uSGFuZGxlcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NhcHR1cmVDb3VudCwgc2V0Q2FwdHVyZUNvdW50XSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbaXNDYXB0dXJpbmcsIHNldElzQ2FwdHVyaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRvZ2dsZSBzdGF0ZXNcbiAgY29uc3QgW3Nob3dIZWFkUG9zZSwgc2V0U2hvd0hlYWRQb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCb3VuZGluZ0JveCwgc2V0U2hvd0JvdW5kaW5nQm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dNYXNrLCBzZXRTaG93TWFza10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UGFyYW1ldGVycywgc2V0U2hvd1BhcmFtZXRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDYW1lcmFBY3RpdmUsIHNldElzQ2FtZXJhQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuXG4gIGNvbnN0IFtzaG93UGVybWlzc2lvblBvcHVwLCBzZXRTaG93UGVybWlzc2lvblBvcHVwXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7XG4gICAgaGFuZGxlUmFuZG9tRG90LCAgXG4gICAgaGFuZGxlU2V0UmFuZG9tLFxuICAgIGhhbmRsZVNldENhbGlicmF0ZSxcbiAgICBoYW5kbGVDbGVhckFsbFxuICB9KSwgW10pO1xuICBcbiAgICAvLyBNYWtlIGluaXRpYWxpemVDYW52YXMgYXZhaWxhYmxlIGdsb2JhbGx5XG4gIC8vIHVzZUVmZmVjdCgoKSA9PiB7XG4gIC8vICAgLy8gU2tpcCBkdXJpbmcgU1NSXG4gIC8vICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gIC8vICAgLy8gTWFrZSBpbml0aWFsaXplQ2FudmFzIGF2YWlsYWJsZSB0byBvdGhlciBjb21wb25lbnRzIHRocm91Z2ggdGhlIHdpbmRvdyBvYmplY3RcbiAgLy8gICB3aW5kb3cuaW5pdGlhbGl6ZUNhbnZhcyA9IGluaXRpYWxpemVDYW52YXM7XG4gICAgXG4gIC8vICAgcmV0dXJuICgpID0+IHtcbiAgLy8gICAgIC8vIENsZWFuIHVwXG4gIC8vICAgICBkZWxldGUgd2luZG93LmluaXRpYWxpemVDYW52YXM7XG4gIC8vICAgfTtcbiAgLy8gfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTWFrZSBmdW5jdGlvbnMgZ2xvYmFsbHkgYWNjZXNzaWJsZSBhcyBhIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3aW5kb3cuYWN0aW9uQnV0dG9uRnVuY3Rpb25zID0ge1xuICAgICAgICBoYW5kbGVSYW5kb21Eb3QsXG4gICAgICAgIGhhbmRsZVNldFJhbmRvbSxcbiAgICAgICAgaGFuZGxlU2V0Q2FsaWJyYXRlLFxuICAgICAgICBoYW5kbGVDbGVhckFsbFxuICAgICAgfTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdBY3Rpb24gYnV0dG9uIGZ1bmN0aW9ucyBleHBvc2VkIHRvIHdpbmRvdy5hY3Rpb25CdXR0b25GdW5jdGlvbnMnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWxldGUgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucztcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIFxuICAgIC8vIEZ1bmN0aW9uIHRvIGdldCBjb250cm9sIHZhbHVlcyBmcm9tIFRvcEJhclxuICAgIGNvbnN0IHVwZGF0ZUNvbnRyb2xWYWx1ZXMgPSAoKSA9PiB7XG4gICAgICAvLyBHZXQgdGhlIHRpbWUgaW5wdXQgZWxlbWVudFxuICAgICAgY29uc3QgdGltZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwidGltZVwiXScpO1xuICAgICAgaWYgKHRpbWVJbnB1dCkge1xuICAgICAgICBjb25zdCB0aW1lVmFsdWUgPSBwYXJzZUludCh0aW1lSW5wdXQudmFsdWUsIDEwKTtcbiAgICAgICAgaWYgKCFpc05hTih0aW1lVmFsdWUpICYmIHRpbWVWYWx1ZSA+IDApIHtcbiAgICAgICAgICBzZXRSYW5kb21UaW1lcyh0aW1lVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgZGVsYXkgaW5wdXQgZWxlbWVudFxuICAgICAgY29uc3QgZGVsYXlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sLWlucHV0LWZpZWxkW2RhdGEtY29udHJvbD1cImRlbGF5XCJdJyk7XG4gICAgICBpZiAoZGVsYXlJbnB1dCkge1xuICAgICAgICBjb25zdCBkZWxheVZhbHVlID0gcGFyc2VJbnQoZGVsYXlJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKGRlbGF5VmFsdWUpICYmIGRlbGF5VmFsdWUgPiAwKSB7XG4gICAgICAgICAgc2V0RGVsYXlTZWNvbmRzKGRlbGF5VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBjb250cm9sIGlucHV0c1xuICAgIGNvbnN0IHRpbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sLWlucHV0LWZpZWxkW2RhdGEtY29udHJvbD1cInRpbWVcIl0nKTtcbiAgICBjb25zdCBkZWxheUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRyb2wtaW5wdXQtZmllbGRbZGF0YS1jb250cm9sPVwiZGVsYXlcIl0nKTtcbiAgICBcbiAgICBpZiAodGltZUlucHV0KSB7XG4gICAgICB0aW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdXBkYXRlQ29udHJvbFZhbHVlcyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICBkZWxheUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZUNvbnRyb2xWYWx1ZXMpO1xuICAgIH1cbiAgICBcbiAgICAvLyBJbml0aWFsIHVwZGF0ZVxuICAgIHVwZGF0ZUNvbnRyb2xWYWx1ZXMoKTtcbiAgICBcbiAgICAvLyBDbGVhbnVwIGV2ZW50IGxpc3RlbmVyc1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodGltZUlucHV0KSB7XG4gICAgICAgIHRpbWVJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGRlbGF5SW5wdXQpIHtcbiAgICAgICAgZGVsYXlJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVDb250cm9sVmFsdWVzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaW5pdGlhbGl6ZUNhbnZhcyA9IChjYW52YXMsIHBhcmVudCkgPT4ge1xuICAgIGlmICghY2FudmFzIHx8ICFwYXJlbnQpIHtcbiAgICAgIC8vIGNvbnNvbGUud2FybignW2luaXRpYWxpemVDYW52YXNdIENhbnZhcyBvciBwYXJlbnQgaXMgbnVsbCcsIHsgY2FudmFzLCBwYXJlbnQgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBTZXQgY2FudmFzIGRpbWVuc2lvbnMgdG8gbWF0Y2ggcGFyZW50XG4gICAgICBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgY2FudmFzLmhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQgfHwgNjAwO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBjYW52YXMgYW5kIHNldCB3aGl0ZSBiYWNrZ3JvdW5kXG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBDYW52YXMgaW5pdGlhbGl6ZWQgd2l0aCBkaW1lbnNpb25zOiAke2NhbnZhcy53aWR0aH14JHtjYW52YXMuaGVpZ2h0fWApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tpbml0aWFsaXplQ2FudmFzXSBFcnJvciBpbml0aWFsaXppbmcgY2FudmFzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgbWFpbiBjYW52YXMgLSBpbXByb3ZlZCB0byBiZSBtb3JlIHJlbGlhYmxlXG4gIGNvbnN0IGdldE1haW5DYW52YXMgPSAoKSA9PiB7XG4gICAgLy8gVHJ5IG11bHRpcGxlIG1ldGhvZHMgdG8gZmluZCB0aGUgY2FudmFzXG4gICAgXG4gICAgaWYgKGNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlVzaW5nIGRpcmVjdCBjYW52YXNSZWYuY3VycmVudCByZWZlcmVuY2VcIik7XG4gICAgICByZXR1cm4gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgfVxuICAgIFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cud2hpdGVTY3JlZW5DYW52YXMpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNpbmcgZ2xvYmFsIHdoaXRlU2NyZWVuQ2FudmFzIHJlZmVyZW5jZVwiKTtcbiAgICAgIGNhbnZhc1JlZi5jdXJyZW50ID0gd2luZG93LndoaXRlU2NyZWVuQ2FudmFzOyAvLyBVcGRhdGUgb3VyIHJlZlxuICAgICAgcmV0dXJuIHdpbmRvdy53aGl0ZVNjcmVlbkNhbnZhcztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmFja2luZy1jYW52YXMnKTtcbiAgICAgIGlmIChjYW52YXNFbGVtZW50KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRm91bmQgY2FudmFzIHZpYSBET00gc2VsZWN0b3JcIik7XG4gICAgICAgIGNhbnZhc1JlZi5jdXJyZW50ID0gY2FudmFzRWxlbWVudDsgLy8gVXBkYXRlIG91ciByZWZcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgd2luZG93LndoaXRlU2NyZWVuQ2FudmFzID0gY2FudmFzRWxlbWVudDsgLy8gVXBkYXRlIGdsb2JhbCByZWYgdG9vXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbnZhc0VsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBlcm1pc3Npb25BY2NlcHRlZCA9ICgpID0+IHtcbiAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKGZhbHNlKTtcbiAgICBpZiAodHJpZ2dlckNhbWVyYUFjY2Vzcykge1xuICAgICAgdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlciB0byBjYW5jZWwgcGVybWlzc2lvbiBwb3B1cFxuICBjb25zdCBoYW5kbGVQZXJtaXNzaW9uRGVuaWVkID0gKCkgPT4ge1xuICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAoZmFsc2UpO1xuICB9O1xuXG5cbiAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICBjb25zdCBjbGVhckNhbnZhcyA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgaWYgKCFjYW52YXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk5vIGNhbnZhcyBmb3VuZCBmb3IgY2xlYXJpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBzZXRDdXJyZW50RG90KG51bGwpO1xuICB9O1xuICAvLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBhY3Rpb25CdXR0b24uanNcblxuICAvKipcbiAgICogQ29uc29saWRhdGVkIGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyB0aGUgZW50aXJlIGRvdCBwcm9jZXNzOiBkcmF3aW5nLCBjb3VudGRvd24sIGNhcHR1cmUsIGFuZCBwcmV2aWV3XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnBvc2l0aW9uIC0ge3gsIHl9IGNvb3JkaW5hdGVzIHdoZXJlIHRvIGRyYXcgdGhlIGRvdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3RhdHVzVXBkYXRlIC0gQ2FsbGJhY2sgZm9yIHN0YXR1cyB1cGRhdGVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMudG9nZ2xlVG9wQmFyIC0gRnVuY3Rpb24gdG8gdG9nZ2xlIHRvcCBiYXIgdmlzaWJpbGl0eVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnRyaWdnZXJDYW1lcmFBY2Nlc3MgLSBGdW5jdGlvbiB0byBlbnN1cmUgY2FtZXJhIGlzIGF2YWlsYWJsZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnNldElzQ2FwdHVyaW5nIC0gRnVuY3Rpb24gdG8gdXBkYXRlIGNhcHR1cmluZyBzdGF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5jYXB0dXJlQ291bnQgLSBDdXJyZW50IGNhcHR1cmUgY291bnRlclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnNldENhcHR1cmVDb3VudCAtIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgY2FwdHVyZSBjb3VudGVyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy51c2VSYW5kb21Qb3NpdGlvbiAtIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYSByYW5kb20gcG9zaXRpb25cbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBSZXN1bHQgb2JqZWN0IHdpdGggY2FwdHVyZSBkYXRhXG4gICAqL1xuICBjb25zdCBoYW5kbGVEb3RQcm9jZXNzID0gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBwb3NpdGlvbixcbiAgICAgIG9uU3RhdHVzVXBkYXRlLFxuICAgICAgdG9nZ2xlVG9wQmFyLFxuICAgICAgdHJpZ2dlckNhbWVyYUFjY2VzcyxcbiAgICAgIHNldElzQ2FwdHVyaW5nLFxuICAgICAgY2FwdHVyZUNvdW50LFxuICAgICAgc2V0Q2FwdHVyZUNvdW50LFxuICAgICAgdXNlUmFuZG9tUG9zaXRpb24gPSBmYWxzZSxcbiAgICAgIHBvc3RDb3VudGRvd25EZWxheSA9IDUwMCAvLyBEZWZhdWx0IHZhbHVlIGlmIG5vdCBwcm92aWRlZFxuICAgIH0gPSBvcHRpb25zO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBIaWRlIHRoZSBUb3BCYXIgYmVmb3JlIHNob3dpbmcgdGhlIGRvdFxuICAgICAgaWYgKHR5cGVvZiB0b2dnbGVUb3BCYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2V0IGNhcHR1cmluZyBzdGF0ZVxuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXNcbiAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiB1c2VSYW5kb21Qb3NpdGlvbiA/ICdHZW5lcmF0aW5nIHJhbmRvbSBkb3QuLi4nIDogJ1N0YXJ0aW5nIGRvdCBwcm9jZXNzLi4uJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBVSSB1cGRhdGVzIHRvIHRha2UgZWZmZWN0XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKSk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjYW52YXMgcmVmZXJlbmNlXG4gICAgICBjb25zdCBjYW52YXMgPSBnZXRNYWluQ2FudmFzKCk7XG4gICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgbm90IGF2YWlsYWJsZSBmb3IgZG90IHByb2Nlc3NcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSBjYW52YXMgZGltZW5zaW9ucyBhcmUgcHJvcGVyXG4gICAgICBpZiAoY2FudmFzLndpZHRoIDw9IDAgfHwgY2FudmFzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgLy8gY2FudmFzLndpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoIHx8IDgwMDtcbiAgICAgICAgICAvLyBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9IFxuICAgICAgICAvLyBlbHNlIHtcbiAgICAgICAgLy8gICBjYW52YXMud2lkdGggPSA4MDA7XG4gICAgICAgIC8vICAgY2FudmFzLmhlaWdodCA9IDYwMDtcbiAgICAgICAgLy8gfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhciBjYW52YXMgYW5kIHByZXBhcmUgZm9yIGRyYXdpbmdcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHBvc2l0aW9uIGZvciB0aGUgZG90IC0gZWl0aGVyIHVzZSBwcm92aWRlZCBwb3NpdGlvbiBvciBnZW5lcmF0ZSByYW5kb20gb25lXG4gICAgICBjb25zdCBkb3RQb3NpdGlvbiA9IHVzZVJhbmRvbVBvc2l0aW9uIFxuICAgICAgICA/IGdldFJhbmRvbVBvc2l0aW9uKGNhbnZhcywgMjApIFxuICAgICAgICA6IHBvc2l0aW9uO1xuICAgICAgXG4gICAgICBpZiAoIWRvdFBvc2l0aW9uIHx8IHR5cGVvZiBkb3RQb3NpdGlvbi54ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgZG90UG9zaXRpb24ueSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkb3QgcG9zaXRpb25cIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERyYXcgdGhlIGRvdFxuICAgICAgY29uc3QgZG90UmFkaXVzID0gMTA7XG4gICAgICBkcmF3UmVkRG90KGN0eCwgZG90UG9zaXRpb24ueCwgZG90UG9zaXRpb24ueSwgZG90UmFkaXVzLCB0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgcmVkcmF3IGludGVydmFsIHRvIGVuc3VyZSBkb3Qgc3RheXMgdmlzaWJsZVxuICAgICAgbGV0IGtlZXBEb3RWaXNpYmxlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGRyYXdSZWREb3QoY3R4LCBkb3RQb3NpdGlvbi54LCBkb3RQb3NpdGlvbi55LCBkb3RSYWRpdXMsIGZhbHNlKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgICBcbiAgICAgIC8vIFNldCBhIGZsYWcgZm9yIHRyYWNraW5nIGlmIHdlJ3ZlIHNob3duIHRoZSBwcmV2aWV3c1xuICAgICAgbGV0IHByZXZpZXdzU2hvd24gPSBmYWxzZTtcbiAgICAgIFxuICAgICAgLy8gUnVuIGNvdW50ZG93biB3aXRoIGRvdCBwb3NpdGlvblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bkNvdW50ZG93bihcbiAgICAgICAgICAgIGRvdFBvc2l0aW9uLFxuICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAvLyBVcGRhdGUgVUkgYmFzZWQgb24gc3RhdHVzXG4gICAgICAgICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykge1xuICAgICAgICAgICAgICAgIG9uU3RhdHVzVXBkYXRlPy4oc3RhdHVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmUgLy8gVGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGNvdW50ZG93biBjb21wbGV0ZXNcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoa2VlcERvdFZpc2libGVJbnRlcnZhbCk7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFmdGVyIGNvdW50ZG93biBjb21wbGV0ZXMsIHVwZGF0ZSB0aGUgc3RhdHVzXG4gICAgICBvblN0YXR1c1VwZGF0ZT8uKHtcbiAgICAgICAgcHJvY2Vzc1N0YXR1czogJ0NvdW50ZG93biBjb21wbGV0ZSwgcHJlcGFyaW5nIGNhcHR1cmUuLi4nLFxuICAgICAgICBpc0NhcHR1cmluZzogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSB0aGUgZG90IGlzIHN0aWxsIHZpc2libGUgYWZ0ZXIgY291bnRkb3duXG4gICAgICBkcmF3UmVkRG90KGN0eCwgZG90UG9zaXRpb24ueCwgZG90UG9zaXRpb24ueSwgZG90UmFkaXVzLCBmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBhZGRpdGlvbmFsIGRlbGF5IGFmdGVyIGNvdW50ZG93biB0byBrZWVwIGRvdCB2aXNpYmxlIGxvbmdlclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHBvc3RDb3VudGRvd25EZWxheSkpO1xuICAgICAgXG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSB0aGUgZG90IGlzIHN0aWxsIHZpc2libGUgYWZ0ZXIgYWRkaXRpb25hbCBkZWxheVxuICAgICAgZHJhd1JlZERvdChjdHgsIGRvdFBvc2l0aW9uLngsIGRvdFBvc2l0aW9uLnksIGRvdFJhZGl1cywgZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGJyaWVmbHkgZm9yIGNhbWVyYSB0byBpbml0aWFsaXplLCBidXQgY29udGludWUgc2hvd2luZyB0aGUgZG90XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICBcbiAgICAgIC8vIFVzZSBhIGZ1bmN0aW9uIHdyYXBwZXIgdG8gaGFuZGxlIG9yaWdpbmFsIHByZXZpZXcgcmVmZXJlbmNlXG4gICAgICBjb25zdCBvcmlnaW5hbFNob3dDYXB0dXJlUHJldmlldyA9IHdpbmRvdy5zaG93Q2FwdHVyZVByZXZpZXcgfHwgc2hvd0NhcHR1cmVQcmV2aWV3O1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBtb2RpZmllZCBwcmV2aWV3IGZ1bmN0aW9uIHRoYXQga25vd3Mgd2hlbiBwcmV2aWV3cyBhcmUgc2hvd25cbiAgICAgIGNvbnN0IHByZXZpZXdUcmFja2VyID0gKHNjcmVlbkltYWdlLCB3ZWJjYW1JbWFnZSwgcG9pbnQpID0+IHtcbiAgICAgICAgLy8gTWFyayBwcmV2aWV3cyBhcyBzaG93blxuICAgICAgICBwcmV2aWV3c1Nob3duID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3AgcmVkcmF3aW5nIHRoZSBkb3Qgb25jZSBwcmV2aWV3cyBhcmUgc2hvd25cbiAgICAgICAgY2xlYXJJbnRlcnZhbChrZWVwRG90VmlzaWJsZUludGVydmFsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIHByZXZpZXcgZnVuY3Rpb25cbiAgICAgICAgb3JpZ2luYWxTaG93Q2FwdHVyZVByZXZpZXcoc2NyZWVuSW1hZ2UsIHdlYmNhbUltYWdlLCBwb2ludCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgc3RhdHVzXG4gICAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICAgIHByb2Nlc3NTdGF0dXM6ICdJbWFnZXMgY2FwdHVyZWQgYW5kIHNhdmVkJyxcbiAgICAgICAgICBpc0NhcHR1cmluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBPdmVycmlkZSB0aGUgcHJldmlldyBmdW5jdGlvbiB0ZW1wb3JhcmlseVxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5zaG93Q2FwdHVyZVByZXZpZXcgPSBwcmV2aWV3VHJhY2tlcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FwdHVyZSBpbWFnZXMgYXQgdGhlIGRvdCBwb3NpdGlvblxuICAgICAgY29uc3QgY2FwdHVyZVJlc3VsdCA9IGF3YWl0IGNhcHR1cmVJbWFnZXNBdFBvaW50KHtcbiAgICAgICAgcG9pbnQ6IGRvdFBvc2l0aW9uLFxuICAgICAgICBjYXB0dXJlQ291bnQ6IGNhcHR1cmVDb3VudCxcbiAgICAgICAgY2FudmFzUmVmOiB7IGN1cnJlbnQ6IGNhbnZhcyB9LFxuICAgICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudCxcbiAgICAgICAgc2hvd0NhcHR1cmVQcmV2aWV3OiBwcmV2aWV3VHJhY2tlclxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEluY3JlbWVudCBjYXB0dXJlIGNvdW50ZXJcbiAgICAgIC8vIHNldENhcHR1cmVDb3VudChwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgIFxuICAgICAgLy8gU2V0IGEgc2FmZXR5IHRpbWVvdXQgdG8gY2xlYXIgdGhlIGludGVydmFsIGlmIHByZXZpZXdzIHdlcmVuJ3Qgc2hvd25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIXByZXZpZXdzU2hvd24pIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGtlZXBEb3RWaXNpYmxlSW50ZXJ2YWwpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgcHJldmlldyBmdW5jdGlvblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgd2luZG93LnNob3dDYXB0dXJlUHJldmlldyA9IG9yaWdpbmFsU2hvd0NhcHR1cmVQcmV2aWV3O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgMzAwMCk7XG4gICAgICBcbiAgICAgIC8vIFNjaGVkdWxlIFRvcEJhciB0byByZXR1cm5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHRvZ2dsZVRvcEJhciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICB9LCAyNTAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcG9zaXRpb246IGRvdFBvc2l0aW9uLFxuICAgICAgICBjYXB0dXJlUmVzdWx0XG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBoYW5kbGVEb3RQcm9jZXNzOlwiLCBlcnJvcik7XG4gICAgICBcbiAgICAgIG9uU3RhdHVzVXBkYXRlPy4oe1xuICAgICAgICBwcm9jZXNzU3RhdHVzOiBgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICBpc0NhcHR1cmluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIGFueSBvdmVycmlkZGVuIGZ1bmN0aW9uc1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5vcmlnaW5hbFNob3dDYXB0dXJlUHJldmlldykge1xuICAgICAgICB3aW5kb3cuc2hvd0NhcHR1cmVQcmV2aWV3ID0gd2luZG93Lm9yaWdpbmFsU2hvd0NhcHR1cmVQcmV2aWV3O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNYWtlIHN1cmUgVG9wQmFyIHJldHVybnMgaWYgdGhlcmUncyBhbiBlcnJvclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9nZ2xlVG9wQmFyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgLy8gVGhpcyBwYXJ0aWFsIGZpbGUgc2hvd3Mgb25seSB0aGUgZml4ZWQgaGFuZGxlU2V0UmFuZG9tIGZ1bmN0aW9uXG5cbiAgLy8gUmVmYWN0b3JlZCBoYW5kbGVTZXRSYW5kb20gZnVuY3Rpb24gdXNpbmcgaGFuZGxlRG90UHJvY2Vzc1xuICAvLyBJbXByb3ZlZCBoYW5kbGVTZXRSYW5kb20gZnVuY3Rpb24gdXNpbmcgaGFuZGxlRG90UHJvY2Vzc1xuICBjb25zdCBoYW5kbGVTZXRSYW5kb20gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzQ2FwdHVyaW5nKSByZXR1cm47XG4gIFxuICAgIHRyeSB7XG4gICAgICAvLyBSZWFkIHZhbHVlcyBmcm9tIFRvcEJhciBpbnB1dHMgKHdpdGggZmFsbGJhY2sgdG8gc3RhdGUpXG4gICAgICBjb25zdCB0aW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udHJvbC1pbnB1dC1maWVsZCcpO1xuICAgICAgY29uc3QgZGVsYXlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250cm9sLWlucHV0LWZpZWxkJylbMV07XG4gIFxuICAgICAgbGV0IHRpbWVzID0gcmFuZG9tVGltZXMgfHwgMTsgLy8gRmFsbGJhY2sgc3RhdGUgdmFsdWVcbiAgICAgIGxldCBkZWxheSA9IGRlbGF5U2Vjb25kcyB8fCAzOyAvLyBGYWxsYmFjayBzdGF0ZSB2YWx1ZVxuICBcbiAgICAgIC8vIFBhcnNlIGlucHV0IHZhbHVlcyBpZiBhdmFpbGFibGVcbiAgICAgIGlmICh0aW1lSW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVGltZSA9IHBhcnNlSW50KHRpbWVJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZFRpbWUpICYmIHBhcnNlZFRpbWUgPiAwKSB7XG4gICAgICAgICAgdGltZXMgPSBwYXJzZWRUaW1lO1xuICAgICAgICAgIHNldFJhbmRvbVRpbWVzKHRpbWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIGlmIChkZWxheUlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZERlbGF5ID0gcGFyc2VJbnQoZGVsYXlJbnB1dC52YWx1ZSwgMTApO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZERlbGF5KSAmJiBwYXJzZWREZWxheSA+IDApIHtcbiAgICAgICAgICBkZWxheSA9IHBhcnNlZERlbGF5O1xuICAgICAgICAgIHNldERlbGF5U2Vjb25kcyhkZWxheSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICAvLyBWYWxpZGF0ZSBpbnB1dHNcbiAgICAgIGlmICh0aW1lcyA8PSAwKSB7XG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ0Vycm9yOiBOdW1iZXIgb2YgdGltZXMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVsYXkgPD0gMCkge1xuICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKCdFcnJvcjogRGVsYXkgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCBzZWNvbmRzJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBIaWRlIFRvcEJhciBiZWZvcmUgc3RhcnRpbmcgdGhlIGNhcHR1cmUgc2VxdWVuY2VcbiAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy50b2dnbGVUb3BCYXIpIHtcbiAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcihmYWxzZSk7XG4gICAgICB9XG4gIFxuICAgICAgLy8gU2hvdyB0aGUgY2FudmFzIGFuZCBzZXQgY2FwdHVyaW5nIHN0YXRlXG4gICAgICBzZXRTaG93Q2FudmFzKHRydWUpO1xuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gIFxuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBiZWZvcmUgc3RhcnRpbmcgc2VxdWVuY2VcbiAgICAgIHNldFJlbWFpbmluZ0NhcHR1cmVzKHRpbWVzKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFN0YXJ0aW5nICR7dGltZXN9IHJhbmRvbSBjYXB0dXJlcyB3aXRoICR7ZGVsYXl9cyBkZWxheS4uLmApO1xuICBcbiAgICAgIGxldCByZW1haW5pbmdDYXB0dXJlcyA9IHRpbWVzO1xuICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IDE7XG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgXG4gICAgICAvLyBQcm9jZXNzIGFsbCByYW5kb20gY2FwdHVyZXMgc2VxdWVudGlhbGx5XG4gICAgICB3aGlsZSAocmVtYWluaW5nQ2FwdHVyZXMgPiAwKSB7XG4gICAgICAgIC8vIFJlaW5pdGlhbGl6ZSB0aGUgY2FudmFzIGJlZm9yZSBlYWNoIGNhcHR1cmUgdG8gZW5zdXJlIHByb3BlciBzaXppbmdcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoXCJFcnJvcjogQ2FudmFzIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbnZhcyl7XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gY2FudmFzLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgaW5pdGlhbGl6ZUNhbnZhcyhjYW52YXMsIHBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgIC8vIEZvcmNlIHRoZSBjYW52YXMgdG8gdXNlIHRoZSBmdWxsIHBhcmVudCBjb250YWluZXIgc2l6ZVxuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbGVhciBhbmQgcHJlcGFyZSBjYW52YXNcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgKGN1cnJlbnRDYW52YXMpIHtcbiAgICAgICAgLy8gICBjb25zdCBwYXJlbnQgPSBjdXJyZW50Q2FudmFzLnBhcmVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keTtcbiAgICAgICAgLy8gICBpbml0aWFsaXplQ2FudmFzKGN1cnJlbnRDYW52YXMsIHBhcmVudCk7XG4gICAgICAgIC8vIH1cbiAgXG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXMoYENhcHR1cmUgJHtjdXJyZW50SW5kZXh9IG9mICR7dGltZXN9YCk7XG4gICAgICAgIHNldFJlbWFpbmluZ0NhcHR1cmVzKHJlbWFpbmluZ0NhcHR1cmVzKTtcbiAgXG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIGRvdCBwcm9jZXNzIHdpdGggcmFuZG9tIHBvc2l0aW9uaW5nXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZURvdFByb2Nlc3Moe1xuICAgICAgICAgIHVzZVJhbmRvbVBvc2l0aW9uOiB0cnVlLFxuICAgICAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzLnByb2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FwdHVyZSAke2N1cnJlbnRJbmRleH0vJHt0aW1lc306ICR7c3RhdHVzLnByb2Nlc3NTdGF0dXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdHVzLmlzQ2FwdHVyaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgc2V0SXNDYXB0dXJpbmcoc3RhdHVzLmlzQ2FwdHVyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvZ2dsZVRvcEJhcjogKHNob3cpID0+IHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc2hvd2luZyB0aGUgVG9wQmFyIGJldHdlZW4gY2FwdHVyZXNcbiAgICAgICAgICAgIGlmIChzaG93ICYmIHJlbWFpbmluZ0NhcHR1cmVzID4gMSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHNob3cpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIoc2hvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cmlnZ2VyQ2FtZXJhQWNjZXNzLFxuICAgICAgICAgIHNldElzQ2FwdHVyaW5nLFxuICAgICAgICAgIGNhcHR1cmVDb3VudCxcbiAgICAgICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudCxcbiAgICAgICAgICBwb3N0Q291bnRkb3duRGVsYXk6IDUwMFxuICAgICAgICB9KTtcbiAgXG4gICAgICAgIC8vIENoZWNrIGZvciBzdWNjZXNzOyBpZiBhbiBlcnJvciBvY2N1cnMsIGJyZWFrIG91dCBvZiB0aGUgbG9vcFxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgRXJyb3IgZHVyaW5nIGNhcHR1cmUgJHtjdXJyZW50SW5kZXh9OiAke3Jlc3VsdC5lcnJvcn1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICByZXN1bHQuY2FwdHVyZVJlc3VsdCAmJlxuICAgICAgICAgIChyZXN1bHQuY2FwdHVyZVJlc3VsdC5zY3JlZW5JbWFnZSB8fCByZXN1bHQuY2FwdHVyZVJlc3VsdC5zdWNjZXNzKVxuICAgICAgICApIHtcbiAgICAgICAgICBzdWNjZXNzQ291bnQrKztcbiAgICAgICAgfVxuICBcbiAgICAgICAgcmVtYWluaW5nQ2FwdHVyZXMtLTtcbiAgICAgICAgY3VycmVudEluZGV4Kys7XG4gIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgc3BlY2lmaWVkIGRlbGF5IGJlZm9yZSB0aGUgbmV4dCBjYXB0dXJlXG4gICAgICAgIGlmIChyZW1haW5pbmdDYXB0dXJlcyA+IDApIHtcbiAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBXYWl0aW5nICR7ZGVsYXl9cyBiZWZvcmUgbmV4dCBjYXB0dXJlLi4uYCk7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5ICogMTAwMCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gIFxuICAgICAgLy8gU2lnbmFsIGNvbXBsZXRpb24gb2YgdGhlIGNhcHR1cmUgc2VxdWVuY2VcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFJhbmRvbSBjYXB0dXJlIHNlcXVlbmNlIGNvbXBsZXRlZDogJHtzdWNjZXNzQ291bnR9LyR7dGltZXN9IGNhcHR1cmVzIHN1Y2Nlc3NmdWxgKTtcbiAgICAgIHNldFJlbWFpbmluZ0NhcHR1cmVzKDApO1xuICBcbiAgICAgIC8vIEVuc3VyZSB0aGUgVG9wQmFyIGlzIHNob3duIGFnYWluIGF0IHRoZSBlbmRcbiAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKHRydWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmFuZG9tIHNlcXVlbmNlIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRQcm9jZXNzU3RhdHVzKGBSYW5kb20gc2VxdWVuY2UgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBzZXRJc0NhcHR1cmluZyhmYWxzZSk7XG4gICAgICAvLyBFbnN1cmUgVG9wQmFyIGlzIHNob3duIGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgIHdpbmRvdy50b2dnbGVUb3BCYXIodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZmFjdG9yZWQgaGFuZGxlU2V0Q2FsaWJyYXRlIGZ1bmN0aW9uIHVzaW5nIGhhbmRsZURvdFByb2Nlc3NcbiAgLy8gSW1wcm92ZWQgaGFuZGxlU2V0Q2FsaWJyYXRlIGZ1bmN0aW9uIGZvciBhY3Rpb25CdXR0b24uanNcbiAgY29uc3QgaGFuZGxlU2V0Q2FsaWJyYXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBIaWRlIFRvcEJhclxuICAgICAgaWYgKHR5cGVvZiBvbkFjdGlvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnRvZ2dsZVRvcEJhcikge1xuICAgICAgICB3aW5kb3cudG9nZ2xlVG9wQmFyKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgc2V0SXNDYXB0dXJpbmcodHJ1ZSk7XG4gICAgICBzZXRTaG93Q2FudmFzKHRydWUpO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhcIlN0YXJ0aW5nIGNhbGlicmF0aW9uIHNlcXVlbmNlLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBVSSB1cGRhdGVzIHRvIHRha2UgZWZmZWN0XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwKSk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjYW52YXMgcmVmZXJlbmNlIC0gdXNpbmcgdGhlIGZ1bGxzY3JlZW4gYXBwcm9hY2hcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGdldE1haW5DYW52YXMoKTtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBub3QgYXZhaWxhYmxlIGZvciBjYWxpYnJhdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gLS0tLS0tLS0tLSBDUklUSUNBTCBGSVg6IFBST1BFUiBDQU5WQVMgU0laSU5HIC0tLS0tLS0tLS1cbiAgICAgIC8vIEdldCB3aW5kb3cgZGltZW5zaW9ucyBmb3IgZnVsbHNjcmVlbiBjYWxpYnJhdGlvblxuICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIFxuICAgICAgLy8gRm9yY2UgdGhlIGNhbnZhcyB0byBiZSBmdWxsc2NyZWVuXG4gICAgICBjYW52YXMud2lkdGggPSB3aW5kb3dXaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3dIZWlnaHQ7XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSBjYW52YXMgYXBwZWFycyBhYm92ZSBvdGhlciBlbGVtZW50c1xuICAgICAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgIGNhbnZhcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgICBjYW52YXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDB2dyc7XG4gICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJztcbiAgICAgIGNhbnZhcy5zdHlsZS56SW5kZXggPSAnMTAwMCc7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHRvIHdoaXRlIGJhY2tncm91bmRcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIFxuICAgICAgLy8gY29uc29sZS5sb2coYENhbnZhcyBzZXQgdG8gZnVsbHNjcmVlbjogJHtjYW52YXMud2lkdGh9eCR7Y2FudmFzLmhlaWdodH1gKTtcbiAgICAgIFxuICAgICAgLy8gSW1wb3J0IHJlcXVpcmVkIGZ1bmN0aW9uc1xuICAgICAgY29uc3QgeyBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzIH0gPSBhd2FpdCBpbXBvcnQoJy4vQWN0aW9uL0NhbGlicmF0ZVBvaW50cycpO1xuICAgICAgY29uc3QgeyBkcmF3UmVkRG90LCBydW5Db3VudGRvd24sIHNob3dDYXB0dXJlUHJldmlldyB9ID0gYXdhaXQgaW1wb3J0KCcuL0FjdGlvbi9jb3VudFNhdmUnKTtcbiAgICAgIGNvbnN0IHsgY2FwdHVyZUltYWdlc0F0UG9pbnQgfSA9IGF3YWl0IGltcG9ydCgnLi9IZWxwZXIvc2F2ZWZpbGUnKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgY2FsaWJyYXRpb24gcG9pbnRzIGJhc2VkIG9uIHRoZSBmdWxsIGNhbnZhcyBzaXplXG4gICAgICBjb25zdCBwb2ludHMgPSBnZW5lcmF0ZUNhbGlicmF0aW9uUG9pbnRzKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBcbiAgICAgIGlmICghcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNhbGlicmF0aW9uIHBvaW50c1wiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgc3RhdHVzIGluZGljYXRvclxuICAgICAgY29uc3Qgc3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzdGF0dXNJbmRpY2F0b3IuY2xhc3NOYW1lID0gJ2NhbGlicmF0ZS1zdGF0dXMtaW5kaWNhdG9yJztcbiAgICAgIHN0YXR1c0luZGljYXRvci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDogMjBweDtcbiAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMTAyLCAyMDQsIDAuOSk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgcGFkZGluZzogMTBweCAxNXB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICAgICAgYDtcbiAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9ICdDYWxpYnJhdGlvbjogSW5pdGlhbGl6aW5nLi4uJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgIFxuICAgICAgLy8gQWNjZXNzIHdlYmNhbSBiZWZvcmUgc3RhcnRpbmcgY2FsaWJyYXRpb24gaWYgYXZhaWxhYmxlXG4gICAgICAvLyBpZiAodHJpZ2dlckNhbWVyYUFjY2Vzcykge1xuICAgICAgLy8gICB0cmlnZ2VyQ2FtZXJhQWNjZXNzKHRydWUpO1xuICAgICAgLy8gICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgODAwKSk7XG4gICAgICAvLyB9XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgZWFjaCBjYWxpYnJhdGlvbiBwb2ludFxuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIFxuICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgXG4gICAgICAgIHN0YXR1c0luZGljYXRvci50ZXh0Q29udGVudCA9IGBDYWxpYnJhdGlvbjogUG9pbnQgJHtpICsgMX0vJHtwb2ludHMubGVuZ3RofWA7XG4gICAgICAgIHNldFByb2Nlc3NTdGF0dXMoYFByb2Nlc3NpbmcgY2FsaWJyYXRpb24gcG9pbnQgJHtpICsgMX0vJHtwb2ludHMubGVuZ3RofWApO1xuICAgICAgICBcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByYWRpdXMgPSAxMDtcbiAgICAgICAgZHJhd1JlZERvdChjdHgsIHBvaW50LngsIHBvaW50LnksIHJhZGl1cywgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYSByZWRyYXcgaW50ZXJ2YWwgdG8ga2VlcCBkb3QgdmlzaWJsZSBkdXJpbmcgdGhlIGVudGlyZSBwcm9jZXNzXG4gICAgICAgIGxldCByZWRyYXdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgcmFkaXVzLCBmYWxzZSk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFJ1biBjb3VudGRvd25cbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5Db3VudGRvd24oXG4gICAgICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgICAgIChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSBiYXNlZCBvbiBzdGF0dXNcbiAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBzZXRQcm9jZXNzU3RhdHVzKGBQb2ludCAke2krMX0vJHtwb2ludHMubGVuZ3RofTogJHtzdGF0dXMucHJvY2Vzc1N0YXR1c31gKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc29sdmUgLy8gVGhpcyByZXNvbHZlcyB3aGVuIGNvdW50ZG93biBjb21wbGV0ZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW5zdXJlIHRoZSBkb3QgaXMgc3RpbGwgdmlzaWJsZSBhZnRlciBjb3VudGRvd25cbiAgICAgICAgICBkcmF3UmVkRG90KGN0eCwgcG9pbnQueCwgcG9pbnQueSwgcmFkaXVzLCBmYWxzZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gV2FpdCBhIG1vbWVudCBmb3IgdmlzdWFsIGNvbnNpc3RlbmN5XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMCkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEV4cGxpY2l0bHkgdHJpZ2dlciBjYW1lcmEgYWNjZXNzIGFnYWluIGJlZm9yZSBjYXB0dXJlXG4gICAgICAgICAgLy8gaWYgKHRyaWdnZXJDYW1lcmFBY2Nlc3MpIHtcbiAgICAgICAgICAvLyAgIHRyaWdnZXJDYW1lcmFBY2Nlc3ModHJ1ZSk7XG4gICAgICAgICAgLy8gICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwKSk7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENhcHR1cmUgaW1hZ2VzIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICBjb25zdCBjYXB0dXJlUmVzdWx0ID0gYXdhaXQgY2FwdHVyZUltYWdlc0F0UG9pbnQoe1xuICAgICAgICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgICAgICAgY2FwdHVyZUNvdW50OiBjYXB0dXJlQ291bnQsXG4gICAgICAgICAgICBjYW52YXNSZWY6IHsgY3VycmVudDogY2FudmFzIH0sXG4gICAgICAgICAgICBzZXRDYXB0dXJlQ291bnQ6IHNldENhcHR1cmVDb3VudCxcbiAgICAgICAgICAgIHNob3dDYXB0dXJlUHJldmlld1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIHRoZSByZWRyYXcgaW50ZXJ2YWwgb25jZSBjYXB0dXJlIGlzIGNvbXBsZXRlXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChyZWRyYXdJbnRlcnZhbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNhcHR1cmVSZXN1bHQgJiYgKGNhcHR1cmVSZXN1bHQuc2NyZWVuSW1hZ2UgfHwgY2FwdHVyZVJlc3VsdC5zdWNjZXNzKSkge1xuICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEluY3JlbWVudCBjb3VudGVyXG4gICAgICAgICAgLy8gc2V0Q2FwdHVyZUNvdW50KHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFdhaXQgYmV0d2VlbiBwb2ludHNcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTIwMCkpO1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgY2FsaWJyYXRpb24gcG9pbnQgJHtpKzF9OmAsIGVycm9yKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKHJlZHJhd0ludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDYWxpYnJhdGlvbiBjb21wbGV0ZVxuICAgICAgc3RhdHVzSW5kaWNhdG9yLnRleHRDb250ZW50ID0gYENhbGlicmF0aW9uIGNvbXBsZXRlOiAke3N1Y2Nlc3NDb3VudH0vJHtwb2ludHMubGVuZ3RofSBwb2ludHNgO1xuICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhgQ2FsaWJyYXRpb24gY29tcGxldGVkOiAke3N1Y2Nlc3NDb3VudH0vJHtwb2ludHMubGVuZ3RofSBwb2ludHMgY2FwdHVyZWRgKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIHRoZSBzdGF0dXMgaW5kaWNhdG9yIGFmdGVyIGEgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoc3RhdHVzSW5kaWNhdG9yLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBzdGF0dXNJbmRpY2F0b3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdGF0dXNJbmRpY2F0b3IpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDAwKTtcbiAgICAgIFxuICAgICAgLy8gLS0tLS0tLS0tLSBJTVBPUlRBTlQ6IFJlc2V0IGNhbnZhcyBzdHlsaW5nIC0tLS0tLS0tLS1cbiAgICAgIC8vIFJldHVybiBjYW52YXMgdG8gbm9ybWFsIHN0eWxpbmcgYWZ0ZXIgY2FsaWJyYXRpb25cbiAgICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgICAgY2FudmFzLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgY2FudmFzLnN0eWxlLmxlZnQgPSAnJztcbiAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICBjYW52YXMuc3R5bGUuekluZGV4ID0gJyc7XG4gICAgICBcbiAgICAgIC8vIFJlZHJhdyBjYW52YXMgYXQgb3JpZ2luYWwgc2l6ZSB3aXRoIHBhcmVudCBjb250YWluZXJcbiAgICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhcy5wYXJlbnRFbGVtZW50O1xuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBjYW52YXMud2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGggfHwgODAwO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodCB8fCA2MDA7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ2FsaWJyYXRpb24gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgIHNldFByb2Nlc3NTdGF0dXMoYENhbGlicmF0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyBUb3BCYXIgYWdhaW5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9uQWN0aW9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvbkFjdGlvbkNsaWNrKCd0b2dnbGVUb3BCYXInLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudG9nZ2xlVG9wQmFyKSB7XG4gICAgICAgICAgd2luZG93LnRvZ2dsZVRvcEJhcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJhbmRvbSBEb3QgQnV0dG9uIC0gRHJhdyBhIHJhbmRvbSBkb3QgYW5kIGNhcHR1cmVcbiAgY29uc3QgaGFuZGxlUmFuZG9tRG90ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc0NhcHR1cmluZykgcmV0dXJuO1xuICAgIFxuICAgIC8vIFVzZSB0aGUgY29uc29saWRhdGVkIGZ1bmN0aW9uIHdpdGggcmFuZG9tIHBvc2l0aW9uXG4gICAgYXdhaXQgaGFuZGxlRG90UHJvY2Vzcyh7XG4gICAgICB1c2VSYW5kb21Qb3NpdGlvbjogdHJ1ZSxcbiAgICAgIG9uU3RhdHVzVXBkYXRlOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgIGlmIChzdGF0dXMucHJvY2Vzc1N0YXR1cykgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMucHJvY2Vzc1N0YXR1cyk7XG4gICAgICAgIGlmIChzdGF0dXMuaXNDYXB0dXJpbmcgIT09IHVuZGVmaW5lZCkgc2V0SXNDYXB0dXJpbmcoc3RhdHVzLmlzQ2FwdHVyaW5nKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGVUb3BCYXI6IChzaG93KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25BY3Rpb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uQWN0aW9uQ2xpY2soJ3RvZ2dsZVRvcEJhcicsIHNob3cpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdHJpZ2dlckNhbWVyYUFjY2VzcyxcbiAgICAgIHNldElzQ2FwdHVyaW5nLFxuICAgICAgY2FwdHVyZUNvdW50LFxuICAgICAgc2V0Q2FwdHVyZUNvdW50OiBzZXRDYXB0dXJlQ291bnQsXG4gICAgICBwb3N0Q291bnRkb3duRGVsYXk6IDEwMDBcbiAgICB9KTtcbiAgfTtcblxuICAvLyBMb2FkIGNhbGlicmF0aW9uIHNldHVwXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgICBjb25zdCBzZXR1cENhbGlicmF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0OiBDYWxpYnJhdGVIYW5kbGVyIH0gPSBhd2FpdCBpbXBvcnQoJy4vQWN0aW9uL0NhbGlicmF0ZUhhbmRsZXInKTtcbiAgICBcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0TWFpbkNhbnZhcygpO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkNhbnZhcyBub3QgYXZhaWxhYmxlIGR1cmluZyBzZXR1cENhbGlicmF0aW9uXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2FudmFzIHNpemU6JywgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnR2VuZXJhdGVkIGNhbGlicmF0aW9uIHBvaW50czonLCBwb2ludHMpO1xuICAgICAgICBzZXRDYWxpYnJhdGlvblBvaW50cyhwb2ludHMpO1xuICAgIFxuICAgICAgICBjb25zdCBjYWxpYnJhdGVIYW5kbGVyID0gbmV3IENhbGlicmF0ZUhhbmRsZXIoe1xuICAgICAgICAgIGNhbnZhc1JlZjogeyBjdXJyZW50OiBjYW52YXMgfSxcbiAgICAgICAgICBjYWxpYnJhdGlvblBvaW50czogcG9pbnRzLFxuICAgICAgICAgIHRvZ2dsZVRvcEJhcjogKHNob3cpID0+IG9uQWN0aW9uQ2xpY2s/LigndG9nZ2xlVG9wQmFyJywgc2hvdyksXG4gICAgICAgICAgc2V0T3V0cHV0VGV4dDogKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgc2V0UHJvY2Vzc1N0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FwdHVyZUNvdW50ZXI6IGNhcHR1cmVDb3VudCxcbiAgICAgICAgICBzZXRDYXB0dXJlQ291bnRlcjogKG5ld0NvdW50ZXIpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q291bnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBzZXRDYXB0dXJlQ291bnQocHJldiA9PiBuZXdDb3VudGVyKHByZXYpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldENhcHR1cmVDb3VudChuZXdDb3VudGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhcHR1cmVGb2xkZXI6ICdleWVfdHJhY2tpbmdfY2FwdHVyZXMnLFxuICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ0NhbGlicmF0aW9uIGNvbXBsZXRlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHNldENhbGlicmF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgaGFuZGxlQWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc0NhcHR1cmluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldFByb2Nlc3NTdGF0dXMoJ1N0YXJ0aW5nIGNhbGlicmF0aW9uLi4uJyk7XG4gICAgICAgICAgICBhd2FpdCBjYWxpYnJhdGVIYW5kbGVyLnN0YXJ0Q2FsaWJyYXRpb24oKTtcbiAgICAgICAgICAgIHNldElzQ2FwdHVyaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBjYWxpYnJhdGlvbjonLCBlcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXR1cENhbGlicmF0aW9uKCk7XG4gIH0sIFtjYXB0dXJlQ291bnQsIG9uQWN0aW9uQ2xpY2tdKTtcbiAgXG4gIC8vIENsZWFyIEFsbCBCdXR0b24gLSBSZXNldCBldmVyeXRoaW5nXG4gIGNvbnN0IGhhbmRsZUNsZWFyQWxsID0gKCkgPT4ge1xuICAgIGNsZWFyQ2FudmFzKCk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cygnJyk7XG4gICAgc2V0UmVtYWluaW5nQ2FwdHVyZXMoMCk7XG4gICAgc2V0SXNDYXB0dXJpbmcoZmFsc2UpO1xuICAgIHNldENvdW50ZG93blZhbHVlKG51bGwpO1xuICAgIHNldFNob3dDYW52YXMoZmFsc2UpO1xuICB9O1xuXG4gIC8vIFRvZ2dsZSBIZWFkIFBvc2UgdmlzdWFsaXphdGlvblxuICBjb25zdCBoYW5kbGVUb2dnbGVIZWFkUG9zZSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdIZWFkUG9zZVN0YXRlID0gIXNob3dIZWFkUG9zZTtcbiAgICBzZXRTaG93SGVhZFBvc2UobmV3SGVhZFBvc2VTdGF0ZSk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cyhgSGVhZCBwb3NlIHZpc3VhbGl6YXRpb24gJHtuZXdIZWFkUG9zZVN0YXRlID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ31gKTtcbiAgICBcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgaGFuZGxlciB0byB1cGRhdGUgcHJvY2Vzc29yIG9wdGlvbnNcbiAgICBpZiAob25BY3Rpb25DbGljaykge1xuICAgICAgb25BY3Rpb25DbGljaygnaGVhZFBvc2UnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIHZpZGVvUHJvY2Vzc29yIG9wdGlvbnMgZGlyZWN0bHkgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBzaG93SGVhZFBvc2U6IG5ld0hlYWRQb3NlU3RhdGVcbiAgICAgIH0pO1xuICAgICAgLy8gY29uc29sZS5sb2coYFVwZGF0ZWQgYmFja2VuZCBoZWFkIHBvc2U6ICR7bmV3SGVhZFBvc2VTdGF0ZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVG9nZ2xlIEJvdW5kaW5nIEJveCB2aXN1YWxpemF0aW9uXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUJvdW5kaW5nQm94ID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0JvdW5kaW5nQm94U3RhdGUgPSAhc2hvd0JvdW5kaW5nQm94O1xuICAgIHNldFNob3dCb3VuZGluZ0JveChuZXdCb3VuZGluZ0JveFN0YXRlKTtcbiAgICBzZXRQcm9jZXNzU3RhdHVzKGBCb3VuZGluZyBib3ggJHtuZXdCb3VuZGluZ0JveFN0YXRlID8gJ3Nob3duJyA6ICdoaWRkZW4nfWApO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHRvIHVwZGF0ZSBwcm9jZXNzb3Igb3B0aW9uc1xuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdib3VuZGluZ0JveCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dCb3VuZGluZ0JveDogbmV3Qm91bmRpbmdCb3hTdGF0ZVxuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVXBkYXRlZCBiYWNrZW5kIGJvdW5kaW5nIGJveDogJHtuZXdCb3VuZGluZ0JveFN0YXRlfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUb2dnbGUgTWFzayB2aXN1YWxpemF0aW9uXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZU1hc2sgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3TWFza1N0YXRlID0gIXNob3dNYXNrO1xuICAgIHNldFNob3dNYXNrKG5ld01hc2tTdGF0ZSk7XG4gICAgc2V0UHJvY2Vzc1N0YXR1cyhgTWFzayAke25ld01hc2tTdGF0ZSA/ICdzaG93bicgOiAnaGlkZGVuJ31gKTtcbiAgICBcbiAgICAvLyBDYWxsIHRoZSBwYXJlbnQgaGFuZGxlciB0byB1cGRhdGUgcHJvY2Vzc29yIG9wdGlvbnNcbiAgICBpZiAob25BY3Rpb25DbGljaykge1xuICAgICAgb25BY3Rpb25DbGljaygnbWFzaycpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgdmlkZW9Qcm9jZXNzb3Igb3B0aW9ucyBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpZGVvUHJvY2Vzc29yKSB7XG4gICAgICB3aW5kb3cudmlkZW9Qcm9jZXNzb3IudXBkYXRlT3B0aW9ucyh7XG4gICAgICAgIHNob3dNYXNrOiBuZXdNYXNrU3RhdGVcbiAgICAgIH0pO1xuICAgICAgLy8gY29uc29sZS5sb2coYFVwZGF0ZWQgYmFja2VuZCBtYXNrOiAke25ld01hc2tTdGF0ZX1gKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVG9nZ2xlIFBhcmFtZXRlcnMgZGlzcGxheVxuICBjb25zdCBoYW5kbGVUb2dnbGVQYXJhbWV0ZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld1BhcmFtZXRlcnNTdGF0ZSA9ICFzaG93UGFyYW1ldGVycztcbiAgICBzZXRTaG93UGFyYW1ldGVycyhuZXdQYXJhbWV0ZXJzU3RhdGUpO1xuICAgIHNldFByb2Nlc3NTdGF0dXMoYFBhcmFtZXRlcnMgJHtuZXdQYXJhbWV0ZXJzU3RhdGUgPyAnc2hvd24nIDogJ2hpZGRlbid9YCk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGhhbmRsZXIgdG8gdXBkYXRlIHByb2Nlc3NvciBvcHRpb25zXG4gICAgaWYgKG9uQWN0aW9uQ2xpY2spIHtcbiAgICAgIG9uQWN0aW9uQ2xpY2soJ3BhcmFtZXRlcnMnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIHZpZGVvUHJvY2Vzc29yIG9wdGlvbnMgZGlyZWN0bHkgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy52aWRlb1Byb2Nlc3Nvcikge1xuICAgICAgd2luZG93LnZpZGVvUHJvY2Vzc29yLnVwZGF0ZU9wdGlvbnMoe1xuICAgICAgICBzaG93UGFyYW1ldGVyczogbmV3UGFyYW1ldGVyc1N0YXRlXG4gICAgICB9KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBVcGRhdGVkIGJhY2tlbmQgcGFyYW1ldGVyczogJHtuZXdQYXJhbWV0ZXJzU3RhdGV9YCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRvZ2dsZSBjYW1lcmEgcHJldmlld1xuICBjb25zdCBoYW5kbGVUb2dnbGVDYW1lcmEgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3Q2FtZXJhU3RhdGUgPSAhaXNDYW1lcmFBY3RpdmU7XG4gICAgc2V0SXNDYW1lcmFBY3RpdmUobmV3Q2FtZXJhU3RhdGUpO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBoYW5kbGVyIHdpdGggJ3ByZXZpZXcnIGFjdGlvblxuICAgIGlmIChvbkFjdGlvbkNsaWNrKSB7XG4gICAgICBvbkFjdGlvbkNsaWNrKCdwcmV2aWV3Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGRpcmVjdCB0cmlnZ2VyIGlmIG5vIGFjdGlvbiBoYW5kbGVyXG4gICAgICBzZXRTaG93UGVybWlzc2lvblBvcHVwKHRydWUpO1xuICAgIH1cbiAgICBcbiAgICAvLyBJZiB0dXJuaW5nIG9uIGNhbWVyYSwgZW5zdXJlIHdlIGFwcGx5IGN1cnJlbnQgdmlzdWFsaXphdGlvbiBzZXR0aW5nc1xuICAgIGlmIChuZXdDYW1lcmFTdGF0ZSAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlkZW9Qcm9jZXNzb3IpIHtcbiAgICAgIHdpbmRvdy52aWRlb1Byb2Nlc3Nvci51cGRhdGVPcHRpb25zKHtcbiAgICAgICAgc2hvd0hlYWRQb3NlLFxuICAgICAgICBzaG93Qm91bmRpbmdCb3gsXG4gICAgICAgIHNob3dNYXNrLFxuICAgICAgICBzaG93UGFyYW1ldGVyc1xuICAgICAgfSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkFwcGxpZWQgdmlzdWFsaXphdGlvbiBzZXR0aW5ncyB0byBjYW1lcmFcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEJ1dHRvbiBjb25maWd1cmF0aW9ucyB3aXRoIGJvdGggZnVsbCBhbmQgYWJicmV2aWF0ZWQgdGV4dFxuICBjb25zdCBidXR0b25zID0gW1xuICAgIHsgXG4gICAgICB0ZXh0OiBcIlNldCBSYW5kb21cIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IFwiU1JhbmRvbVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVNldFJhbmRvbSxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZ1xuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IFwiUmFuZG9tIERvdFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJSYW5kb21cIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVSYW5kb21Eb3QsXG4gICAgICBkaXNhYmxlZDogaXNDYXB0dXJpbmcgXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJTZXQgQ2FsaWJyYXRlXCIsIFxuICAgICAgYWJicmV2aWF0ZWRUZXh0OiBcIkNhbGlicmF0ZVwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZVNldENhbGlicmF0ZSxcbiAgICAgIGRpc2FibGVkOiBpc0NhcHR1cmluZyBcbiAgICB9LFxuICAgIHsgXG4gICAgICB0ZXh0OiBcIkNsZWFyIEFsbFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJDbGVhclwiLCBcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsZWFyQWxsXG4gICAgfSxcbiAgICB7IGRpdmlkZXI6IHRydWUgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJEcmF3IEhlYWQgcG9zZVwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJIZWFkIHBvc2VcIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVIZWFkUG9zZSxcbiAgICAgIGFjdGl2ZTogc2hvd0hlYWRQb3NlXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCJTaG93IEJvdW5kaW5nIEJveFwiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCLimJAgQm94XCIsIFxuICAgICAgb25DbGljazogaGFuZGxlVG9nZ2xlQm91bmRpbmdCb3gsXG4gICAgICBhY3RpdmU6IHNob3dCb3VuZGluZ0JveFxuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IGlzQ2FtZXJhQWN0aXZlID8gXCJTdG9wIENhbWVyYVwiIDogXCJTaG93IFByZXZpZXdcIiwgXG4gICAgICBhYmJyZXZpYXRlZFRleHQ6IGlzQ2FtZXJhQWN0aXZlID8gXCJTdG9wXCIgOiBcIlByZXZpZXdcIiwgXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIC8vIElmIGNhbWVyYSBwZXJtaXNzaW9uIGlzIG5lZWRlZCBidXQgbm90IGdyYW50ZWQsIHNob3cgcG9wdXBcbiAgICAgICAgaWYgKCFpc0NhbWVyYUFjdGl2ZSAmJiAhdHJpZ2dlckNhbWVyYUFjY2Vzcyh0cnVlKSkge1xuICAgICAgICAgIHNldFNob3dQZXJtaXNzaW9uUG9wdXAodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlVG9nZ2xlQ2FtZXJhKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY3RpdmU6IGlzQ2FtZXJhQWN0aXZlXG4gICAgfSxcbiAgICB7IFxuICAgICAgdGV4dDogXCLwn5i3IFNob3cgTWFza1wiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCLwn5i3IE1hc2tcIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVNYXNrLFxuICAgICAgYWN0aXZlOiBzaG93TWFza1xuICAgIH0sXG4gICAgeyBcbiAgICAgIHRleHQ6IFwiUGFyYW1ldGVyc1wiLCBcbiAgICAgIGFiYnJldmlhdGVkVGV4dDogXCJWYWx1ZXNcIiwgXG4gICAgICBvbkNsaWNrOiBoYW5kbGVUb2dnbGVQYXJhbWV0ZXJzLFxuICAgICAgYWN0aXZlOiBzaG93UGFyYW1ldGVyc1xuICAgIH1cbiAgXTtcblxuICAvLyBNb2JpbGUgbGF5b3V0IC0gMng1IGdyaWRcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAge2lzQ29tcGFjdE1vZGUgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBtYi00XCI+XG4gICAgICAgICAge2J1dHRvbnMuZmlsdGVyKGIgPT4gIWIuZGl2aWRlcikubWFwKChidXR0b24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICB0ZXh0PXtidXR0b24udGV4dH1cbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PXtidXR0b24uYWJicmV2aWF0ZWRUZXh0fVxuICAgICAgICAgICAgICBvbkNsaWNrPXtidXR0b24ub25DbGlja31cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2J1dHRvbi5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgYWN0aXZlPXtidXR0b24uYWN0aXZlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYi00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiU2V0IFJhbmRvbVwiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIlNSYW5kb21cIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2V0UmFuZG9tfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDYXB0dXJpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIlJhbmRvbSBEb3RcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCJSYW5kb21cIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmFuZG9tRG90fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDYXB0dXJpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIlNldCBDYWxpYnJhdGVcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCJDYWxpYnJhdGVcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2V0Q2FsaWJyYXRlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDYXB0dXJpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIkNsZWFyIEFsbFwiXG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD1cIkNsZWFyXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyQWxsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8aHIgY2xhc3NOYW1lPVwibXktMyBib3JkZXItZ3JheS0yMDBcIiAvPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIkRyYXcgSGVhZCBwb3NlXCJcbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PVwiSGVhZCBwb3NlXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUhlYWRQb3NlfVxuICAgICAgICAgICAgICBhY3RpdmU9e3Nob3dIZWFkUG9zZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PVwiU2hvdyBCb3VuZGluZyBCb3hcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCLimJAgQm94XCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUJvdW5kaW5nQm94fVxuICAgICAgICAgICAgICBhY3RpdmU9e3Nob3dCb3VuZGluZ0JveH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yXCI+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIFxuICAgICAgICAgICAgICB0ZXh0PXtpc0NhbWVyYUFjdGl2ZSA/IFwiU3RvcCBDYW1lcmFcIiA6IFwiU2hvdyBQcmV2aWV3XCJ9XG4gICAgICAgICAgICAgIGFiYnJldmlhdGVkVGV4dD17aXNDYW1lcmFBY3RpdmUgPyBcIlN0b3BcIiA6IFwiUHJldmlld1wifVxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVDYW1lcmF9XG4gICAgICAgICAgICAgIGFjdGl2ZT17aXNDYW1lcmFBY3RpdmV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIvCfmLcgU2hvdyBNYXNrXCJcbiAgICAgICAgICAgICAgYWJicmV2aWF0ZWRUZXh0PVwi8J+YtyBNYXNrXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZU1hc2t9XG4gICAgICAgICAgICAgIGFjdGl2ZT17c2hvd01hc2t9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMlwiPlxuICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBcbiAgICAgICAgICAgICAgdGV4dD1cIlBhcmFtZXRlcnNcIlxuICAgICAgICAgICAgICBhYmJyZXZpYXRlZFRleHQ9XCJWYWx1ZXNcIiBcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgYWN0aXZlPXtzaG93UGFyYW1ldGVyc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2PjwvZGl2PiB7LyogRW1wdHkgc3BhY2UgZm9yIGFsaWdubWVudCAqL31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogU3RhdHVzIGRpc3BsYXkgZm9yIGNhbGlicmF0aW9uIGFuZCByYW5kb20gc2VxdWVuY2UgKi99XG4gICAgICB7KHByb2Nlc3NTdGF0dXMgfHwgcmVtYWluaW5nQ2FwdHVyZXMgPiAwIHx8IGNvdW50ZG93blZhbHVlKSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzLWRpc3BsYXkgbXQtNCBwLTIgYmctYmx1ZS01MCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAge3Byb2Nlc3NTdGF0dXMgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtYmx1ZS04MDBcIj57cHJvY2Vzc1N0YXR1c308L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtyZW1haW5pbmdDYXB0dXJlcyA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQteWVsbG93LTYwMFwiPlJlbWFpbmluZzoge3JlbWFpbmluZ0NhcHR1cmVzfTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2NvdW50ZG93blZhbHVlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtcmVkLTYwMFwiPntjb3VudGRvd25WYWx1ZX08L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBDYW52YXMgZm9yIGRyYXdpbmcgZG90cyAqL31cbiAgICAgIHtzaG93Q2FudmFzICYmIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJjYW52YXMtY29udGFpbmVyIG10LTRcIiBcbiAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLCBcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgaGVpZ2h0OiAnNDB2aCcsIFxuICAgICAgICAgICAgbWluSGVpZ2h0OiAnMzAwcHgnLCBcbiAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZTBlMGUwJywgXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsIFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JywgXG4gICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicgXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxjYW52YXMgXG4gICAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRyYWNraW5nLWNhbnZhc1wiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIE92ZXJsYXkgZm9yIGNvdW50ZG93biBvbiBkb3QgKi99XG4gICAgICAgICAge2NvdW50ZG93blZhbHVlICYmIGN1cnJlbnREb3QgJiYgKFxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG90LWNvdW50ZG93blwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgbGVmdDogYCR7Y3VycmVudERvdC54IC0gMTV9cHhgLFxuICAgICAgICAgICAgICAgIHRvcDogYCR7Y3VycmVudERvdC55IC0gNDB9cHhgLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAncmVkJyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Y291bnRkb3duVmFsdWV9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBDYW1lcmEgUGVybWlzc2lvbiBQb3B1cCAqL31cbiAgICAgIHtzaG93UGVybWlzc2lvblBvcHVwICYmIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJjYW1lcmEtcGVybWlzc2lvbi1wb3B1cFwiIFxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICB6SW5kZXg6IDIwMDBcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLWRpYWxvZ1wiIFxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgd2lkdGg6ICc0MDBweCcsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpJ1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aDMgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbWVyYS1wZXJtaXNzaW9uLXRpdGxlXCIgXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDE1cHgnLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIENhbWVyYSBBY2Nlc3MgUmVxdWlyZWRcbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8cCBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tbWVzc2FnZVwiIFxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgMCAyMHB4JyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6ICcxLjQnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFRoaXMgYXBwbGljYXRpb24gbmVlZHMgYWNjZXNzIHRvIHlvdXIgY2FtZXJhIHRvIGZ1bmN0aW9uIHByb3Blcmx5LiBXaGVuIHByb21wdGVkIGJ5IHlvdXIgYnJvd3NlciwgcGxlYXNlIGNsaWNrIFwiQWxsb3dcIiB0byBncmFudCBjYW1lcmEgYWNjZXNzLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLXBlcm1pc3Npb24tYnV0dG9uc1wiIFxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgICAgICAgICAgICBnYXA6ICcxMHB4J1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVBlcm1pc3Npb25EZW5pZWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLWJ0blwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTZweCcsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjBmMGYwJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQZXJtaXNzaW9uQWNjZXB0ZWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLWJ0blwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc4cHggMTZweCcsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDA2NmNjJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ29udGludWVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSk7XG5jb25zdCBBY3Rpb25CdXR0b25Hcm91cCA9IGR5bmFtaWMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKFxuICBmb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiA8QWN0aW9uQnV0dG9uR3JvdXBJbm5lciB7Li4ucHJvcHN9IHJlZj17cmVmfSAvPilcbiksIHsgc3NyOiBmYWxzZSB9KTtcbi8vIENyZWF0ZSBhIGNsaWVudC1vbmx5IHZlcnNpb24gb2YgQWN0aW9uQnV0dG9uR3JvdXBcbi8vIGNvbnN0IEFjdGlvbkJ1dHRvbkdyb3VwID0gZHluYW1pYygoKSA9PiBQcm9taXNlLnJlc29sdmUoQWN0aW9uQnV0dG9uR3JvdXBJbm5lciksIHsgc3NyOiBmYWxzZSB9KTtcblxuZXhwb3J0IHsgQWN0aW9uQnV0dG9uLCBBY3Rpb25CdXR0b25Hcm91cCB9OyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiZm9yd2FyZFJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJkeW5hbWljIiwiZ2VuZXJhdGVDYWxpYnJhdGlvblBvaW50cyIsInNob3dDYXB0dXJlUHJldmlldyIsImRyYXdSZWREb3QiLCJnZXRSYW5kb21Qb3NpdGlvbiIsImNyZWF0ZUNvdW50ZG93bkVsZW1lbnQiLCJydW5Db3VudGRvd24iLCJjYXB0dXJlSW1hZ2VzQXRQb2ludCIsIkFjdGlvbkJ1dHRvbiIsInRleHQiLCJhYmJyZXZpYXRlZFRleHQiLCJvbkNsaWNrIiwiY3VzdG9tQ2xhc3MiLCJkaXNhYmxlZCIsImFjdGl2ZSIsImlzQWJicmV2aWF0ZWQiLCJzZXRJc0FiYnJldmlhdGVkIiwiaGFuZGxlUmVzaXplIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJidXR0b24iLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYm9yZGVyUmFkaXVzIiwiY3Vyc29yIiwiZm9udFdlaWdodCIsImJveFNoYWRvdyIsIkFjdGlvbkJ1dHRvbkdyb3VwSW5uZXIiLCJyZWYiLCJ0cmlnZ2VyQ2FtZXJhQWNjZXNzIiwiaXNDb21wYWN0TW9kZSIsIm9uQWN0aW9uQ2xpY2siLCJyYW5kb21UaW1lcyIsInNldFJhbmRvbVRpbWVzIiwiZGVsYXlTZWNvbmRzIiwic2V0RGVsYXlTZWNvbmRzIiwiY2FudmFzUmVmIiwicHJvY2Vzc1N0YXR1cyIsInNldFByb2Nlc3NTdGF0dXMiLCJjb3VudGRvd25WYWx1ZSIsInNldENvdW50ZG93blZhbHVlIiwiY3VycmVudERvdCIsInNldEN1cnJlbnREb3QiLCJjYWxpYnJhdGlvblBvaW50cyIsInNldENhbGlicmF0aW9uUG9pbnRzIiwiY3VycmVudENhbGlicmF0aW9uSW5kZXgiLCJzZXRDdXJyZW50Q2FsaWJyYXRpb25JbmRleCIsInJlbWFpbmluZ0NhcHR1cmVzIiwic2V0UmVtYWluaW5nQ2FwdHVyZXMiLCJzaG93Q2FudmFzIiwic2V0U2hvd0NhbnZhcyIsImNhbGlicmF0aW9uSGFuZGxlciIsInNldENhbGlicmF0aW9uSGFuZGxlciIsImNhcHR1cmVDb3VudCIsInNldENhcHR1cmVDb3VudCIsImlzQ2FwdHVyaW5nIiwic2V0SXNDYXB0dXJpbmciLCJzaG93SGVhZFBvc2UiLCJzZXRTaG93SGVhZFBvc2UiLCJzaG93Qm91bmRpbmdCb3giLCJzZXRTaG93Qm91bmRpbmdCb3giLCJzaG93TWFzayIsInNldFNob3dNYXNrIiwic2hvd1BhcmFtZXRlcnMiLCJzZXRTaG93UGFyYW1ldGVycyIsImlzQ2FtZXJhQWN0aXZlIiwic2V0SXNDYW1lcmFBY3RpdmUiLCJzaG93UGVybWlzc2lvblBvcHVwIiwic2V0U2hvd1Blcm1pc3Npb25Qb3B1cCIsImhhbmRsZVJhbmRvbURvdCIsImhhbmRsZVNldFJhbmRvbSIsImhhbmRsZVNldENhbGlicmF0ZSIsImhhbmRsZUNsZWFyQWxsIiwiYWN0aW9uQnV0dG9uRnVuY3Rpb25zIiwidXBkYXRlQ29udHJvbFZhbHVlcyIsInRpbWVJbnB1dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRpbWVWYWx1ZSIsInBhcnNlSW50IiwidmFsdWUiLCJpc05hTiIsImRlbGF5SW5wdXQiLCJkZWxheVZhbHVlIiwiaW5pdGlhbGl6ZUNhbnZhcyIsImNhbnZhcyIsInBhcmVudCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0TWFpbkNhbnZhcyIsImN1cnJlbnQiLCJ3aGl0ZVNjcmVlbkNhbnZhcyIsImNhbnZhc0VsZW1lbnQiLCJoYW5kbGVQZXJtaXNzaW9uQWNjZXB0ZWQiLCJoYW5kbGVQZXJtaXNzaW9uRGVuaWVkIiwiY2xlYXJDYW52YXMiLCJ3YXJuIiwiaGFuZGxlRG90UHJvY2VzcyIsIm9wdGlvbnMiLCJwb3NpdGlvbiIsIm9uU3RhdHVzVXBkYXRlIiwidG9nZ2xlVG9wQmFyIiwidXNlUmFuZG9tUG9zaXRpb24iLCJwb3N0Q291bnRkb3duRGVsYXkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJFcnJvciIsInBhcmVudEVsZW1lbnQiLCJkb3RQb3NpdGlvbiIsIngiLCJ5IiwiZG90UmFkaXVzIiwia2VlcERvdFZpc2libGVJbnRlcnZhbCIsInNldEludGVydmFsIiwicHJldmlld3NTaG93biIsInJlamVjdCIsInN0YXR1cyIsImNsZWFySW50ZXJ2YWwiLCJvcmlnaW5hbFNob3dDYXB0dXJlUHJldmlldyIsInByZXZpZXdUcmFja2VyIiwic2NyZWVuSW1hZ2UiLCJ3ZWJjYW1JbWFnZSIsInBvaW50IiwiY2FwdHVyZVJlc3VsdCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwicXVlcnlTZWxlY3RvckFsbCIsInRpbWVzIiwiZGVsYXkiLCJwYXJzZWRUaW1lIiwicGFyc2VkRGVsYXkiLCJjdXJyZW50SW5kZXgiLCJzdWNjZXNzQ291bnQiLCJyZXN1bHQiLCJ1bmRlZmluZWQiLCJzaG93Iiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsInRvcCIsImxlZnQiLCJ6SW5kZXgiLCJwb2ludHMiLCJsZW5ndGgiLCJzdGF0dXNJbmRpY2F0b3IiLCJjcmVhdGVFbGVtZW50IiwiY3NzVGV4dCIsInRleHRDb250ZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiaSIsInJhZGl1cyIsInJlZHJhd0ludGVydmFsIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2V0dXBDYWxpYnJhdGlvbiIsImRlZmF1bHQiLCJDYWxpYnJhdGVIYW5kbGVyIiwiY2FsaWJyYXRlSGFuZGxlciIsInNldE91dHB1dFRleHQiLCJjYXB0dXJlQ291bnRlciIsInNldENhcHR1cmVDb3VudGVyIiwibmV3Q291bnRlciIsInByZXYiLCJjYXB0dXJlRm9sZGVyIiwib25Db21wbGV0ZSIsImhhbmRsZUFjdGlvbiIsInN0YXJ0Q2FsaWJyYXRpb24iLCJlcnIiLCJoYW5kbGVUb2dnbGVIZWFkUG9zZSIsIm5ld0hlYWRQb3NlU3RhdGUiLCJ2aWRlb1Byb2Nlc3NvciIsInVwZGF0ZU9wdGlvbnMiLCJoYW5kbGVUb2dnbGVCb3VuZGluZ0JveCIsIm5ld0JvdW5kaW5nQm94U3RhdGUiLCJoYW5kbGVUb2dnbGVNYXNrIiwibmV3TWFza1N0YXRlIiwiaGFuZGxlVG9nZ2xlUGFyYW1ldGVycyIsIm5ld1BhcmFtZXRlcnNTdGF0ZSIsImhhbmRsZVRvZ2dsZUNhbWVyYSIsIm5ld0NhbWVyYVN0YXRlIiwiYnV0dG9ucyIsImRpdmlkZXIiLCJkaXYiLCJmaWx0ZXIiLCJiIiwibWFwIiwiaW5kZXgiLCJociIsIm1pbkhlaWdodCIsImJvcmRlciIsIm92ZXJmbG93IiwiZm9udFNpemUiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwicGFkZGluZyIsImgzIiwibWFyZ2luIiwicCIsImxpbmVIZWlnaHQiLCJnYXAiLCJBY3Rpb25CdXR0b25Hcm91cCIsInByb3BzIiwic3NyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset/components-gui/actionButton.js\n"));

/***/ })

});
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/admin"],{

/***/ "(pages-dir-browser)/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fporchportal2%2FDesktop%2F%F0%9F%94%A5everything%2FMain_Web_EyeTracking%2Fmain-web%2Ffrontend%2Fpages%2Fadmin.js&page=%2Fadmin!":
/*!*********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fporchportal2%2FDesktop%2F%F0%9F%94%A5everything%2FMain_Web_EyeTracking%2Fmain-web%2Ffrontend%2Fpages%2Fadmin.js&page=%2Fadmin! ***!
  \*********************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin\",\n      function () {\n        return __webpack_require__(/*! ./pages/admin.js */ \"(pages-dir-browser)/./pages/admin.js\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/admin\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtY2xpZW50LXBhZ2VzLWxvYWRlci5qcz9hYnNvbHV0ZVBhZ2VQYXRoPSUyRlVzZXJzJTJGcG9yY2hwb3J0YWwyJTJGRGVza3RvcCUyRiVGMCU5RiU5NCVBNWV2ZXJ5dGhpbmclMkZNYWluX1dlYl9FeWVUcmFja2luZyUyRm1haW4td2ViJTJGZnJvbnRlbmQlMkZwYWdlcyUyRmFkbWluLmpzJnBhZ2U9JTJGYWRtaW4hIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFPLENBQUMsOERBQWtCO0FBQ3pDO0FBQ0E7QUFDQSxPQUFPLElBQVU7QUFDakIsTUFBTSxVQUFVO0FBQ2hCO0FBQ0EsT0FBTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAod2luZG93Ll9fTkVYVF9QID0gd2luZG93Ll9fTkVYVF9QIHx8IFtdKS5wdXNoKFtcbiAgICAgIFwiL2FkbWluXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwiLi9wYWdlcy9hZG1pbi5qc1wiKTtcbiAgICAgIH1cbiAgICBdKTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cuX19ORVhUX1AucHVzaChbXCIvYWRtaW5cIl0pXG4gICAgICB9KTtcbiAgICB9XG4gICJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fporchportal2%2FDesktop%2F%F0%9F%94%A5everything%2FMain_Web_EyeTracking%2Fmain-web%2Ffrontend%2Fpages%2Fadmin.js&page=%2Fadmin!\n"));

/***/ }),

/***/ "(pages-dir-browser)/./pages/admin.js":
/*!************************!*\
  !*** ./pages/admin.js ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __N_SSP: () => (/* binding */ __N_SSP),\n/* harmony export */   \"default\": () => (/* binding */ AdminPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"(pages-dir-browser)/./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/Consent.module.css */ \"(pages-dir-browser)/./styles/Consent.module.css\");\n/* harmony import */ var _styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/consent/ConsentContext */ \"(pages-dir-browser)/./components/consent/ConsentContext.js\");\n/* harmony import */ var _pages_collected_dataset_customized_components_gui_adminSettings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pages/collected-dataset-customized/components-gui/adminSettings */ \"(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/adminSettings.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(pages-dir-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/**\n * Admin Page API Documentation\n * \n * This page handles the following API endpoints:\n * \n * 1. WebSocket Connection (/api/data-center/ws)\n *    - Purpose: Real-time communication with data center\n *    - Events:\n *      - settings_{userId}: Receives settings updates for specific user\n *      - image_{userId}: Receives image updates for specific user\n *      - zoom_{userId}: Receives zoom level updates for specific user\n * \n * 2. Admin Updates API (/api/admin/update)\n *    - Method: POST\n *    - Headers:\n *      - Content-Type: application/json\n *      - X-API-Key: A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV\n *    - Request Body:\n *      {\n *        userId: string,      // User ID for the update\n *        type: string,        // 'settings' or 'image'\n *        data: object         // Settings data or base64 image\n *      }\n *    - Response:\n *      - Success: 200 OK\n *      - Error: 400 Bad Request, 401 Unauthorized, 500 Internal Server Error\n * \n * 3. Consent Data API (/api/admin/consent-data)\n *    - Method: GET\n *    - Purpose: Fetch user consent data\n *    - Response:\n *      Array of consent objects with:\n *      - userId: string\n *      - status: boolean\n *      - timestamp: string\n *      - receivedAt: string\n * \n * 4. Settings Events\n *    - captureSettingsUpdate: Dispatched when settings are updated\n *      {\n *        type: 'captureSettings',\n *        userId: string,\n *        times: number,\n *        delay: number\n *      }\n * \n *    - settingsUpdated: Dispatched after topBar is updated\n *      {\n *        type: 'settings',\n *        userId: string,\n *        settings: {\n *          times: number,\n *          delay: number\n *        }\n *      }\n * \n *    - imageUpdate: Dispatched when image is updated\n *      {\n *        type: 'image',\n *        userId: string,\n *        image: string (base64)\n *      }\n * \n *    - adminOverride: Dispatched when access is overridden\n *      {\n *        type: 'adminOverride',\n *        userId: string,\n *        enabled: boolean\n *      }\n */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nconst API_BASE_URL = process.env.BACKEND_URL || 'http://localhost:8000';\nvar __N_SSP = true;\nfunction AdminPage(param) {\n    let { initialSettings } = param;\n    var _tempSettings_selectedUserId, _tempSettings_selectedUserId1;\n    _s();\n    const [consentData, setConsentData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { userId, consentStatus } = (0,_components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_4__.useConsent)();\n    const actionButtonGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { settings, updateSettings } = (0,_pages_collected_dataset_customized_components_gui_adminSettings__WEBPACK_IMPORTED_MODULE_5__.useAdminSettings)(actionButtonGroupRef);\n    const [tempSettings, setTempSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialSettings);\n    const [selectedImage, setSelectedImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [notification, setNotification] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        show: false,\n        message: ''\n    });\n    const [debugInfo, setDebugInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [selectedUserId, setSelectedUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('default');\n    const pollingInterval = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [userProfiles, setUserProfiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [showDeleteConfirm, setShowDeleteConfirm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [deleteTarget, setDeleteTarget] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [successMessage, setSuccessMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    // Initialize tempSettings with initial settings\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPage.useEffect\": ()=>{\n            setTempSettings(initialSettings);\n        }\n    }[\"AdminPage.useEffect\"], [\n        initialSettings\n    ]);\n    // Add this effect to ensure global action button functions are set\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPage.useEffect\": ()=>{\n            // Debug check to see if window.actionButtonFunctions is available\n            if (true) {\n                const checkActionButtonFunctions = {\n                    \"AdminPage.useEffect.checkActionButtonFunctions\": ()=>{\n                        if (window.actionButtonFunctions) {\n                            setDebugInfo('ActionButton functions available globally');\n                        } else {\n                            setDebugInfo('ActionButton functions NOT available globally');\n                            // Try again in 1 second if not available\n                            setTimeout(checkActionButtonFunctions, 1000);\n                        }\n                    }\n                }[\"AdminPage.useEffect.checkActionButtonFunctions\"];\n                checkActionButtonFunctions();\n                // Add listener for settings updates\n                const handleSettingsUpdate = {\n                    \"AdminPage.useEffect.handleSettingsUpdate\": (event)=>{\n                        if (event.detail && event.detail.type === 'captureSettingsUpdate') {\n                            setDebugInfo(\"Received settings update event: \".concat(JSON.stringify(event.detail)));\n                        }\n                    }\n                }[\"AdminPage.useEffect.handleSettingsUpdate\"];\n                window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                return ({\n                    \"AdminPage.useEffect\": ()=>{\n                        window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate);\n                    }\n                })[\"AdminPage.useEffect\"];\n            }\n        }\n    }[\"AdminPage.useEffect\"], []);\n    // Polling for settings updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPage.useEffect\": ()=>{\n            const fetchSettings = {\n                \"AdminPage.useEffect.fetchSettings\": async ()=>{\n                    if (!selectedUserId) return;\n                    try {\n                        const response = await fetch(\"/api/data-center/settings/\".concat(selectedUserId), {\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json',\n                                'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                            }\n                        });\n                        if (!response.ok) {\n                            throw new Error('Failed to fetch settings');\n                        }\n                        const result = await response.json();\n                        const newSettings = result.data || {};\n                        // Only update if the settings have actually changed\n                        if (JSON.stringify(newSettings) !== JSON.stringify(tempSettings[selectedUserId])) {\n                            console.log('Settings updated from polling:', newSettings);\n                            setTempSettings({\n                                \"AdminPage.useEffect.fetchSettings\": (prev)=>({\n                                        ...prev,\n                                        [selectedUserId]: {\n                                            ...prev[selectedUserId],\n                                            ...newSettings\n                                        }\n                                    })\n                            }[\"AdminPage.useEffect.fetchSettings\"]);\n                        }\n                    } catch (error) {\n                        console.error('Error fetching settings:', error);\n                    }\n                }\n            }[\"AdminPage.useEffect.fetchSettings\"];\n            // Initial fetch\n            fetchSettings();\n            // Set up polling interval\n            pollingInterval.current = setInterval(fetchSettings, 3000);\n            return ({\n                \"AdminPage.useEffect\": ()=>{\n                    if (pollingInterval.current) {\n                        clearInterval(pollingInterval.current);\n                    }\n                }\n            })[\"AdminPage.useEffect\"];\n        }\n    }[\"AdminPage.useEffect\"], [\n        selectedUserId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPage.useEffect\": ()=>{\n            const fetchConsentData = {\n                \"AdminPage.useEffect.fetchConsentData\": async ()=>{\n                    try {\n                        const response = await fetch('/api/admin/consent-data');\n                        if (!response.ok) {\n                            throw new Error('Failed to fetch consent data');\n                        }\n                        const data = await response.json();\n                        // Filter out duplicates by keeping only the most recent entry for each userId\n                        const uniqueData = data.reduce({\n                            \"AdminPage.useEffect.fetchConsentData.uniqueData\": (acc, current)=>{\n                                const existingIndex = acc.findIndex({\n                                    \"AdminPage.useEffect.fetchConsentData.uniqueData.existingIndex\": (item)=>item.userId === current.userId\n                                }[\"AdminPage.useEffect.fetchConsentData.uniqueData.existingIndex\"]);\n                                if (existingIndex === -1) {\n                                    // If user doesn't exist in accumulator, add them\n                                    acc.push(current);\n                                } else {\n                                    // If user exists, keep the most recent entry\n                                    const existing = acc[existingIndex];\n                                    const existingDate = new Date(existing.receivedAt);\n                                    const currentDate = new Date(current.receivedAt);\n                                    if (currentDate > existingDate) {\n                                        acc[existingIndex] = current;\n                                    }\n                                }\n                                return acc;\n                            }\n                        }[\"AdminPage.useEffect.fetchConsentData.uniqueData\"], []);\n                        setConsentData(uniqueData);\n                    } catch (err) {\n                        setError(err.message);\n                    } finally{\n                        setLoading(false);\n                    }\n                }\n            }[\"AdminPage.useEffect.fetchConsentData\"];\n            fetchConsentData();\n        }\n    }[\"AdminPage.useEffect\"], []);\n    // Add this effect to load initial settings when a user is selected\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPage.useEffect\": ()=>{\n            const loadUserSettings = {\n                \"AdminPage.useEffect.loadUserSettings\": async ()=>{\n                    if (!selectedUserId) return;\n                    try {\n                        console.log('Loading settings for user:', selectedUserId);\n                        const response = await fetch(\"/api/admin/update?userId=\".concat(selectedUserId, \"&type=settings\"), {\n                            method: 'GET',\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json',\n                                'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                            }\n                        });\n                        if (response.ok) {\n                            const result = await response.json();\n                            const data = result.data || {};\n                            console.log('Loaded settings for user:', selectedUserId, data);\n                            // Initialize tempSettings with the loaded data\n                            setTempSettings({\n                                \"AdminPage.useEffect.loadUserSettings\": (prev)=>{\n                                    var _data_state_isProcessOn;\n                                    return {\n                                        ...prev,\n                                        [selectedUserId]: {\n                                            times: data.times || 1,\n                                            delay: data.delay || 3,\n                                            image_path: data.image_path || \"/asfgrebvxcv\",\n                                            updateImage: data.updateImage || \"image.jpg\",\n                                            set_timeRandomImage: data.set_timeRandomImage || 1,\n                                            every_set: data.every_set || 2,\n                                            zoom_percentage: data.zoom_percentage || 100,\n                                            position_zoom: data.position_zoom || [\n                                                3,\n                                                4\n                                            ],\n                                            state_isProcessOn: (_data_state_isProcessOn = data.state_isProcessOn) !== null && _data_state_isProcessOn !== void 0 ? _data_state_isProcessOn : true,\n                                            currentlyPage: data.currentlyPage || \"str\",\n                                            freeState: data.freeState || 3\n                                        }\n                                    };\n                                }\n                            }[\"AdminPage.useEffect.loadUserSettings\"]);\n                            // Update settings through the hook\n                            updateSettings(data, selectedUserId);\n                        } else {\n                            console.log('No existing settings found for user:', selectedUserId);\n                            // Initialize with default settings\n                            const defaultSettings = {\n                                times: 1,\n                                delay: 3,\n                                image_path: \"/asfgrebvxcv\",\n                                updateImage: \"image.jpg\",\n                                set_timeRandomImage: 1,\n                                every_set: 2,\n                                zoom_percentage: 100,\n                                position_zoom: [\n                                    3,\n                                    4\n                                ],\n                                state_isProcessOn: true,\n                                currentlyPage: \"str\",\n                                freeState: 3\n                            };\n                            setTempSettings({\n                                \"AdminPage.useEffect.loadUserSettings\": (prev)=>({\n                                        ...prev,\n                                        [selectedUserId]: defaultSettings\n                                    })\n                            }[\"AdminPage.useEffect.loadUserSettings\"]);\n                            // Update settings through the hook with default values\n                            updateSettings(defaultSettings, selectedUserId);\n                        }\n                    } catch (error) {\n                        console.error('Error loading user settings:', error);\n                    }\n                }\n            }[\"AdminPage.useEffect.loadUserSettings\"];\n            loadUserSettings();\n        }\n    }[\"AdminPage.useEffect\"], [\n        selectedUserId\n    ]);\n    // Add this effect to sync settings with adminSettings hook\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPage.useEffect\": ()=>{\n            if (selectedUserId && settings[selectedUserId]) {\n                setTempSettings({\n                    \"AdminPage.useEffect\": (prev)=>({\n                            ...prev,\n                            [selectedUserId]: settings[selectedUserId]\n                        })\n                }[\"AdminPage.useEffect\"]);\n            }\n        }\n    }[\"AdminPage.useEffect\"], [\n        settings,\n        selectedUserId\n    ]);\n    const handleTimeChange = async (event)=>{\n        if (!selectedUserId) {\n            setErrorMessage('Please select a user ID first!');\n            setTimeout(()=>setErrorMessage(''), 3000);\n            return;\n        }\n        const times = parseInt(event.target.value, 10);\n        if (!isNaN(times) && times > 0) {\n            // Update local state first\n            const updatedSettings = {\n                ...tempSettings[selectedUserId],\n                times: times\n            };\n            setTempSettings((prev)=>({\n                    ...prev,\n                    [selectedUserId]: updatedSettings\n                }));\n            // Then save to database\n            try {\n                const response = await fetch(\"/api/data-center/settings/\".concat(selectedUserId), {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    },\n                    body: JSON.stringify(updatedSettings)\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to save settings');\n                }\n                // Update settings through the hook\n                updateSettings(updatedSettings, selectedUserId);\n                console.log(\"Updated times to \".concat(times, \" for user \").concat(selectedUserId));\n                setSuccessMessage('Times updated successfully!');\n                setTimeout(()=>setSuccessMessage(''), 3000);\n            } catch (error) {\n                console.error('Error saving times:', error);\n                setErrorMessage('Failed to save times. Please try again.');\n                setTimeout(()=>setErrorMessage(''), 3000);\n            }\n        }\n    };\n    const handleDelayChange = async (event)=>{\n        if (!selectedUserId) {\n            setErrorMessage('Please select a user ID first!');\n            setTimeout(()=>setErrorMessage(''), 3000);\n            return;\n        }\n        const delay = parseInt(event.target.value, 10);\n        if (!isNaN(delay) && delay > 0) {\n            // Update local state first\n            const updatedSettings = {\n                ...tempSettings[selectedUserId],\n                delay: delay\n            };\n            setTempSettings((prev)=>({\n                    ...prev,\n                    [selectedUserId]: updatedSettings\n                }));\n            // Then save to database\n            try {\n                const response = await fetch(\"/api/data-center/settings/\".concat(selectedUserId), {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    },\n                    body: JSON.stringify(updatedSettings)\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to save settings');\n                }\n                // Update settings through the hook\n                updateSettings(updatedSettings, selectedUserId);\n                console.log(\"Updated delay to \".concat(delay, \" for user \").concat(selectedUserId));\n                setSuccessMessage('Delay updated successfully!');\n                setTimeout(()=>setSuccessMessage(''), 3000);\n            } catch (error) {\n                console.error('Error saving delay:', error);\n                setErrorMessage('Failed to save delay. Please try again.');\n                setTimeout(()=>setErrorMessage(''), 3000);\n            }\n        }\n    };\n    const handleSaveSettings = async ()=>{\n        if (!selectedUserId || selectedUserId === 'default') {\n            setErrorMessage('Please select a user ID before saving settings!');\n            setTimeout(()=>setErrorMessage(''), 3000);\n            return;\n        }\n        try {\n            // Get current settings for the selected user\n            const currentSettings = tempSettings[selectedUserId];\n            if (!currentSettings) {\n                throw new Error('No settings found for selected user');\n            }\n            // Save to database using the correct endpoint\n            const response = await fetch(\"/api/data-center/settings/\".concat(selectedUserId), {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                },\n                body: JSON.stringify(currentSettings)\n            });\n            if (!response.ok) {\n                throw new Error('Failed to save settings');\n            }\n            // Get the updated settings from the response\n            const result = await response.json();\n            const savedSettings = result.data || currentSettings;\n            // Update local state with the saved settings\n            setTempSettings((prev)=>({\n                    ...prev,\n                    [selectedUserId]: savedSettings\n                }));\n            // Update settings through the hook\n            updateSettings(savedSettings, selectedUserId);\n            console.log(\"Saved all settings for user \".concat(selectedUserId, \":\"), savedSettings);\n            setSuccessMessage('Settings saved successfully!');\n            setTimeout(()=>setSuccessMessage(''), 3000);\n        } catch (error) {\n            console.error('Error saving settings:', error);\n            setErrorMessage('Failed to save settings. Please try again.');\n            setTimeout(()=>setErrorMessage(''), 3000);\n        }\n    };\n    const handleImageChange = async (event)=>{\n        if (event.target.files && event.target.files[0]) {\n            const reader = new FileReader();\n            reader.onload = async (e)=>{\n                try {\n                    // Save image to server using REST API\n                    const response = await fetch('/api/data-center/image', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                        },\n                        body: JSON.stringify({\n                            userId: selectedUserId,\n                            image: e.target.result\n                        })\n                    });\n                    if (!response.ok) {\n                        throw new Error('Failed to save image');\n                    }\n                    // Dispatch event for components to listen to\n                    if (true) {\n                        const event = new CustomEvent('imageUpdate', {\n                            detail: {\n                                type: 'image',\n                                userId: selectedUserId,\n                                image: e.target.result\n                            }\n                        });\n                        window.dispatchEvent(event);\n                    }\n                    showNotification('Image saved successfully!');\n                } catch (error) {\n                    console.error('Error saving image:', error);\n                    showNotification('Failed to save image. Please try again.', 'error');\n                }\n            };\n            reader.readAsDataURL(event.target.files[0]);\n        }\n    };\n    const handleZoomChange = async (value)=>{\n        if (!selectedUserId || selectedUserId === 'default') {\n            setErrorMessage('Please select a user ID before changing zoom level!');\n            setTimeout(()=>setErrorMessage(''), 3000);\n            return;\n        }\n        try {\n            const response = await fetch('/api/data-center/zoom', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                },\n                body: JSON.stringify({\n                    userId: selectedUserId,\n                    zoomLevel: value\n                })\n            });\n            if (!response.ok) {\n                throw new Error('Failed to update zoom level');\n            }\n            setSuccessMessage('Zoom level updated successfully!');\n            setTimeout(()=>setSuccessMessage(''), 3000);\n        } catch (error) {\n            console.error('Error updating zoom level:', error);\n            setErrorMessage('Failed to update zoom level. Please try again.');\n            setTimeout(()=>setErrorMessage(''), 3000);\n        }\n    };\n    const handleSaveImage = async ()=>{\n        if (!selectedUserId || selectedUserId === 'default') {\n            setErrorMessage('Please select a user ID before saving image!');\n            setTimeout(()=>setErrorMessage(''), 3000);\n            return;\n        }\n        if (!selectedImage) {\n            setErrorMessage('Please select an image first!');\n            setTimeout(()=>setErrorMessage(''), 3000);\n            return;\n        }\n        try {\n            // Convert image to base64\n            const reader = new FileReader();\n            reader.onload = async (e)=>{\n                const base64Image = e.target.result;\n                // Save to server using REST API\n                const response = await fetch('/api/data-center/image', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY\n                    },\n                    body: JSON.stringify({\n                        userId: selectedUserId,\n                        image: base64Image\n                    })\n                });\n                if (!response.ok) {\n                    throw new Error('Failed to save image');\n                }\n                // Dispatch event for components to listen to\n                if (true) {\n                    const event = new CustomEvent('imageUpdate', {\n                        detail: {\n                            type: 'image',\n                            userId: selectedUserId,\n                            image: base64Image\n                        }\n                    });\n                    window.dispatchEvent(event);\n                }\n                setSuccessMessage('Image saved successfully!');\n                setTimeout(()=>setSuccessMessage(''), 3000);\n            };\n            reader.readAsDataURL(selectedImage);\n        } catch (error) {\n            console.error('Error saving image:', error);\n            setErrorMessage('Failed to save image. Please try again.');\n            setTimeout(()=>setErrorMessage(''), 3000);\n        }\n    };\n    const handleOverrideAccess = (userId)=>{\n        try {\n            // Dispatch event to enable/disable access\n            const event = new CustomEvent('adminOverride', {\n                detail: {\n                    type: 'adminOverride',\n                    userId: userId,\n                    enabled: true\n                }\n            });\n            window.dispatchEvent(event);\n            // Show success notification\n            showNotification(\"Access granted for user \".concat(userId, \"!\"));\n        } catch (error) {\n            console.error('Error overriding access:', error);\n            showNotification('Failed to override access. Please try again.', 'error');\n        }\n    };\n    const showNotification = function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'success';\n        setNotification({\n            show: true,\n            message,\n            type\n        });\n        // Auto-hide notification after 3 seconds\n        setTimeout(()=>{\n            setNotification((prev)=>({\n                    ...prev,\n                    show: false\n                }));\n        }, 3000);\n    };\n    // Add effect to handle profile updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminPage.useEffect\": ()=>{\n            const handleAdminUpdate = {\n                \"AdminPage.useEffect.handleAdminUpdate\": (event)=>{\n                    const { userId, profile } = event.detail;\n                    console.log('Admin update received:', {\n                        userId,\n                        profile\n                    });\n                    setUserProfiles({\n                        \"AdminPage.useEffect.handleAdminUpdate\": (prev)=>({\n                                ...prev,\n                                [userId]: profile\n                            })\n                    }[\"AdminPage.useEffect.handleAdminUpdate\"]);\n                    // Check if profile is complete and update button state\n                    if (profile.isComplete) {\n                        const buttonEvent = new CustomEvent('buttonStateUpdate', {\n                            detail: {\n                                userId: userId,\n                                enabled: true\n                            }\n                        });\n                        window.dispatchEvent(buttonEvent);\n                    }\n                }\n            }[\"AdminPage.useEffect.handleAdminUpdate\"];\n            window.addEventListener('adminUpdate', handleAdminUpdate);\n            return ({\n                \"AdminPage.useEffect\": ()=>window.removeEventListener('adminUpdate', handleAdminUpdate)\n            })[\"AdminPage.useEffect\"];\n        }\n    }[\"AdminPage.useEffect\"], []);\n    // Add user profiles to the consent data display\n    const getProfileStatus = (userId)=>{\n        const profile = userProfiles[userId];\n        if (!profile) return 'No profile';\n        const isComplete = profile.username && profile.sex;\n        return isComplete ? \"Complete (\".concat(profile.username, \", \").concat(profile.sex).concat(profile.age ? \", \".concat(profile.age) : '', \")\") : 'Incomplete';\n    };\n    const handleDeleteClick = (userId)=>{\n        setDeleteTarget(userId);\n        setShowDeleteConfirm(true);\n    };\n    const handleDeleteConfirm = async ()=>{\n        try {\n            const apiKey = process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV';\n            console.log('Using API Key:', apiKey);\n            // Delete user data using the consolidated endpoint\n            const response = await fetch(\"\".concat(API_BASE_URL, \"/consent/\").concat(deleteTarget), {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': apiKey\n                }\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                console.error('Delete error response:', {\n                    status: response.status,\n                    statusText: response.statusText,\n                    errorData\n                });\n                throw new Error('Failed to delete user data');\n            }\n            // Delete from local consent file\n            try {\n                const consentResponse = await fetch('/api/admin/delete-consent', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': apiKey\n                    },\n                    body: JSON.stringify({\n                        userId: deleteTarget\n                    })\n                });\n                if (!consentResponse.ok) {\n                    const errorData = await consentResponse.json().catch(()=>({}));\n                    console.error('Local consent deletion error:', {\n                        status: consentResponse.status,\n                        statusText: consentResponse.statusText,\n                        errorData\n                    });\n                    throw new Error('Failed to delete local consent file');\n                }\n            } catch (error) {\n                console.error('Error deleting local consent file:', error);\n                throw error;\n            }\n            // Update the consent data by removing the deleted row immediately\n            setConsentData((prevData)=>prevData.filter((data)=>data.userId !== deleteTarget));\n            // Also remove from tempSettings if it exists\n            setTempSettings((prev)=>{\n                const newSettings = {\n                    ...prev\n                };\n                delete newSettings[deleteTarget];\n                return newSettings;\n            });\n            // Remove from settings context if it exists\n            if (settings && settings[deleteTarget]) {\n                updateSettings(null, deleteTarget);\n            }\n            // Clear any related cookies for this user\n            try {\n                const cookies = document.cookie.split(';');\n                for (let cookie of cookies){\n                    const [name] = cookie.split('=');\n                    if (name.trim().startsWith('eye_tracking_') || name.trim().startsWith('consent_') || name.trim().startsWith('user_')) {\n                        document.cookie = \"\".concat(name.trim(), \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\");\n                    }\n                }\n            } catch (error) {\n                console.warn('Error clearing cookies:', error);\n            }\n            // Add a small delay before verification to allow backend to process\n            await new Promise((resolve)=>setTimeout(resolve, 1000));\n            // Verify deletion by checking if the user still exists\n            const verifyResponse = await fetch(\"\".concat(API_BASE_URL, \"/consent/\").concat(deleteTarget), {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': apiKey\n                }\n            });\n            // If we get a 404, that means the user was successfully deleted\n            if (verifyResponse.status === 404) {\n                showNotification('User data deleted successfully from all collections!');\n            } else if (verifyResponse.ok) {\n                console.warn('User data might still exist in some collections');\n                showNotification('User data deleted, but some collections might need manual cleanup');\n            } else {\n                // For any other error, we'll assume the deletion was successful\n                // since we've already cleaned up the frontend state\n                showNotification('User data deleted successfully from all collections!');\n            }\n        } catch (error) {\n            console.error('Error deleting user data:', error);\n            showNotification('Failed to delete user data. Please try again.', 'error');\n        } finally{\n            setShowDeleteConfirm(false);\n            setDeleteTarget(null);\n        }\n    };\n    const handleDeleteCancel = ()=>{\n        setShowDeleteConfirm(false);\n        setDeleteTarget(null);\n    };\n    // Update the user selection handler\n    const handleUserSelect = (e)=>{\n        const newUserId = e.target.value;\n        setSelectedUserId(newUserId);\n        // Reset tempSettings for the new user\n        setTempSettings((prev)=>({\n                ...prev,\n                [newUserId]: prev[newUserId] || {\n                    times: 1,\n                    delay: 3,\n                    image_path: \"/asfgrebvxcv\",\n                    updateImage: \"image.jpg\",\n                    set_timeRandomImage: 1,\n                    every_set: 2,\n                    zoom_percentage: 100,\n                    position_zoom: [\n                        3,\n                        4\n                    ],\n                    state_isProcessOn: true,\n                    currentlyPage: \"str\",\n                    freeState: 3\n                }\n            }));\n        // Clear any existing messages\n        setErrorMessage('');\n        setSuccessMessage('');\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().preferencesContainer),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                children: \"Loading consent data...\"\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                lineNumber: 856,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n            lineNumber: 855,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().preferencesContainer),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    children: \"Error\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                    lineNumber: 864,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                    lineNumber: 865,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n            lineNumber: 863,\n            columnNumber: 7\n        }, this);\n    }\n    var _tempSettings_selectedUserId_times, _tempSettings_selectedUserId_delay;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().container),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                    children: \"Admin Dashboard\"\n                }, void 0, false, {\n                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                    lineNumber: 873,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                lineNumber: 872,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().main),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        children: \"Admin Dashboard\"\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 877,\n                        columnNumber: 9\n                    }, this),\n                    notification.show && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"\".concat((_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().notification), \" \").concat(notification.type === 'error' ? (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().notificationError) : (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().notificationSuccess)),\n                        children: notification.message\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 881,\n                        columnNumber: 11\n                    }, this),\n                    debugInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().debugInfo),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                children: debugInfo\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 889,\n                                columnNumber: 16\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                            lineNumber: 889,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 888,\n                        columnNumber: 11\n                    }, this),\n                    successMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().successMessage),\n                        children: successMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 895,\n                        columnNumber: 11\n                    }, this),\n                    errorMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().errorMessage),\n                        children: errorMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 902,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingsSection),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"Consent Data\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 909,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().consentTable),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        children: \"User ID\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 914,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        children: \"Consent Status\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 915,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        children: \"Profile\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 916,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        children: \"Timestamp\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 917,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        children: \"Received At\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 918,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                        children: \"Actions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 919,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 913,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                            lineNumber: 912,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                            children: consentData.map((data, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            children: data.userId\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                            lineNumber: 925,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            children: data.status ? 'Accepted' : 'Declined'\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                            lineNumber: 926,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            children: getProfileStatus(data.userId)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                            lineNumber: 927,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            children: new Date(data.timestamp).toLocaleString()\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                            lineNumber: 928,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            children: new Date(data.receivedAt).toLocaleString()\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                            lineNumber: 929,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().actionButtons),\n                                                                children: [\n                                                                    !data.status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().overrideButton),\n                                                                        onClick: ()=>handleOverrideAccess(data.userId),\n                                                                        children: \"Grant Access\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                        lineNumber: 933,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().deleteButton),\n                                                                        onClick: ()=>handleDeleteClick(data.userId),\n                                                                        children: \"Delete\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                        lineNumber: 940,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                lineNumber: 931,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                            lineNumber: 930,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                    lineNumber: 924,\n                                                    columnNumber: 19\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                            lineNumber: 922,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                    lineNumber: 911,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 910,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 908,\n                        columnNumber: 9\n                    }, this),\n                    showDeleteConfirm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().confirmationDialog),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().confirmationContent),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    children: \"Confirm Delete\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                    lineNumber: 959,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Are you sure you want to delete this consent row?\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                    lineNumber: 960,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().confirmationButtons),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().confirmButton),\n                                            onClick: handleDeleteConfirm,\n                                            children: \"OK\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                            lineNumber: 962,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().cancelButton),\n                                            onClick: handleDeleteCancel,\n                                            children: \"Not\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                            lineNumber: 968,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                    lineNumber: 961,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                            lineNumber: 958,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 957,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingsSection),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"Select User\"\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 981,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingItem),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: selectedUserId,\n                                    onChange: handleUserSelect,\n                                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().selectInput),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"\",\n                                            children: \"Select a user...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                            lineNumber: 988,\n                                            columnNumber: 15\n                                        }, this),\n                                        Array.from(new Set(consentData.map((data)=>data.userId))).map((userId)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: userId,\n                                                children: [\n                                                    \"User: \",\n                                                    userId\n                                                ]\n                                            }, userId, true, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 990,\n                                                columnNumber: 17\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                    lineNumber: 983,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 982,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                        lineNumber: 980,\n                        columnNumber: 9\n                    }, this),\n                    selectedUserId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingsSection),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"Capture Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                        lineNumber: 1003,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingsSubScroll),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingItem),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        children: \"Time(s):\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1006,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberInputContainer),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                name: \"time\",\n                                                                value: (_tempSettings_selectedUserId_times = (_tempSettings_selectedUserId = tempSettings[selectedUserId]) === null || _tempSettings_selectedUserId === void 0 ? void 0 : _tempSettings_selectedUserId.times) !== null && _tempSettings_selectedUserId_times !== void 0 ? _tempSettings_selectedUserId_times : 1,\n                                                                onChange: (e)=>{\n                                                                    const newValue = parseInt(e.target.value, 10);\n                                                                    if (!isNaN(newValue) && newValue > 0) {\n                                                                        setTempSettings((prev)=>({\n                                                                                ...prev,\n                                                                                [selectedUserId]: {\n                                                                                    ...prev[selectedUserId],\n                                                                                    times: newValue\n                                                                                }\n                                                                            }));\n                                                                    }\n                                                                },\n                                                                min: \"1\",\n                                                                max: \"100\",\n                                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberInput),\n                                                                \"data-control\": \"time\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                lineNumber: 1008,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberControls),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberControl),\n                                                                        onClick: ()=>{\n                                                                            var _tempSettings_selectedUserId;\n                                                                            var _tempSettings_selectedUserId_times;\n                                                                            const currentValue = (_tempSettings_selectedUserId_times = (_tempSettings_selectedUserId = tempSettings[selectedUserId]) === null || _tempSettings_selectedUserId === void 0 ? void 0 : _tempSettings_selectedUserId.times) !== null && _tempSettings_selectedUserId_times !== void 0 ? _tempSettings_selectedUserId_times : 1;\n                                                                            if (currentValue < 100) {\n                                                                                setTempSettings((prev)=>({\n                                                                                        ...prev,\n                                                                                        [selectedUserId]: {\n                                                                                            ...prev[selectedUserId],\n                                                                                            times: currentValue + 1\n                                                                                        }\n                                                                                    }));\n                                                                            }\n                                                                        },\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                        lineNumber: 1030,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberControl),\n                                                                        onClick: ()=>{\n                                                                            var _tempSettings_selectedUserId;\n                                                                            var _tempSettings_selectedUserId_times;\n                                                                            const currentValue = (_tempSettings_selectedUserId_times = (_tempSettings_selectedUserId = tempSettings[selectedUserId]) === null || _tempSettings_selectedUserId === void 0 ? void 0 : _tempSettings_selectedUserId.times) !== null && _tempSettings_selectedUserId_times !== void 0 ? _tempSettings_selectedUserId_times : 1;\n                                                                            if (currentValue > 1) {\n                                                                                setTempSettings((prev)=>({\n                                                                                        ...prev,\n                                                                                        [selectedUserId]: {\n                                                                                            ...prev[selectedUserId],\n                                                                                            times: currentValue - 1\n                                                                                        }\n                                                                                    }));\n                                                                            }\n                                                                        },\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                        lineNumber: 1047,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                lineNumber: 1029,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1007,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 1005,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingItem),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        children: \"Delay(s):\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1068,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberInputContainer),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"number\",\n                                                                name: \"delay\",\n                                                                value: (_tempSettings_selectedUserId_delay = (_tempSettings_selectedUserId1 = tempSettings[selectedUserId]) === null || _tempSettings_selectedUserId1 === void 0 ? void 0 : _tempSettings_selectedUserId1.delay) !== null && _tempSettings_selectedUserId_delay !== void 0 ? _tempSettings_selectedUserId_delay : 3,\n                                                                onChange: (e)=>{\n                                                                    const newValue = parseInt(e.target.value, 10);\n                                                                    if (!isNaN(newValue) && newValue > 0) {\n                                                                        setTempSettings((prev)=>({\n                                                                                ...prev,\n                                                                                [selectedUserId]: {\n                                                                                    ...prev[selectedUserId],\n                                                                                    delay: newValue\n                                                                                }\n                                                                            }));\n                                                                    }\n                                                                },\n                                                                min: \"1\",\n                                                                max: \"60\",\n                                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberInput),\n                                                                \"data-control\": \"delay\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                lineNumber: 1070,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberControls),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberControl),\n                                                                        onClick: ()=>{\n                                                                            var _tempSettings_selectedUserId;\n                                                                            var _tempSettings_selectedUserId_delay;\n                                                                            const currentValue = (_tempSettings_selectedUserId_delay = (_tempSettings_selectedUserId = tempSettings[selectedUserId]) === null || _tempSettings_selectedUserId === void 0 ? void 0 : _tempSettings_selectedUserId.delay) !== null && _tempSettings_selectedUserId_delay !== void 0 ? _tempSettings_selectedUserId_delay : 3;\n                                                                            if (currentValue < 60) {\n                                                                                setTempSettings((prev)=>({\n                                                                                        ...prev,\n                                                                                        [selectedUserId]: {\n                                                                                            ...prev[selectedUserId],\n                                                                                            delay: currentValue + 1\n                                                                                        }\n                                                                                    }));\n                                                                            }\n                                                                        },\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                        lineNumber: 1092,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().numberControl),\n                                                                        onClick: ()=>{\n                                                                            var _tempSettings_selectedUserId;\n                                                                            var _tempSettings_selectedUserId_delay;\n                                                                            const currentValue = (_tempSettings_selectedUserId_delay = (_tempSettings_selectedUserId = tempSettings[selectedUserId]) === null || _tempSettings_selectedUserId === void 0 ? void 0 : _tempSettings_selectedUserId.delay) !== null && _tempSettings_selectedUserId_delay !== void 0 ? _tempSettings_selectedUserId_delay : 3;\n                                                                            if (currentValue > 1) {\n                                                                                setTempSettings((prev)=>({\n                                                                                        ...prev,\n                                                                                        [selectedUserId]: {\n                                                                                            ...prev[selectedUserId],\n                                                                                            delay: currentValue - 1\n                                                                                        }\n                                                                                    }));\n                                                                            }\n                                                                        },\n                                                                        children: \"\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                        lineNumber: 1109,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                                lineNumber: 1091,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1069,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 1067,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingItem),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: handleSaveSettings,\n                                                    className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().saveButton),\n                                                    disabled: !selectedUserId,\n                                                    children: \"Save Settings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                    lineNumber: 1130,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 1129,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                        lineNumber: 1004,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 1002,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingsSection),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"Image Settings\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                        lineNumber: 1143,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingItem),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                children: \"Upload Image:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 1145,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                accept: \"image/*\",\n                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().fileInput),\n                                                onChange: handleImageChange\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 1146,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                        lineNumber: 1144,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingItem),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleSaveImage,\n                                            className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().saveButton),\n                                            children: \"Save Image\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                            lineNumber: 1154,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                        lineNumber: 1153,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 1142,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingsSection),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"Zoom Control\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                        lineNumber: 1165,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().settingItem),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                children: \"Zoom Level:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 1167,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().zoomControls),\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().zoomButton),\n                                                        children: \"-\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1169,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"number\",\n                                                        min: \"50\",\n                                                        max: \"200\",\n                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().zoomInput),\n                                                        onChange: (e)=>handleZoomChange(e.target.value)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1170,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().zoomPercent),\n                                                        children: \"%\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1177,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: (_styles_Consent_module_css__WEBPACK_IMPORTED_MODULE_3___default().zoomButton),\n                                                        children: \"+\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                        lineNumber: 1178,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                                lineNumber: 1168,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                        lineNumber: 1166,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                                lineNumber: 1164,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n                lineNumber: 876,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/porchportal2/Desktop/\\uD83D\\uDD25everything/Main_Web_EyeTracking/main-web/frontend/pages/admin.js\",\n        lineNumber: 871,\n        columnNumber: 5\n    }, this);\n}\n_s(AdminPage, \"0mt2D4cC4rSXQQFfXjUlE3Gu1mE=\", false, function() {\n    return [\n        _components_consent_ConsentContext__WEBPACK_IMPORTED_MODULE_4__.useConsent,\n        _pages_collected_dataset_customized_components_gui_adminSettings__WEBPACK_IMPORTED_MODULE_5__.useAdminSettings\n    ];\n});\n_c = AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2FkbWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBcUVDOztBQUVtRDtBQUN2QjtBQUNxQjtBQUNnQjtBQUNvQztBQUl0RyxNQUFNTyxlQUFlQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLFdBQVcsSUFBSTs7QUF1Q2pDLFNBQVNDLFVBQVUsS0FBbUI7UUFBbkIsRUFBRUMsZUFBZSxFQUFFLEdBQW5CO1FBNDNCUEMsOEJBOERBQTs7SUF6N0J6QixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR2YsK0NBQVFBLENBQUMsRUFBRTtJQUNqRCxNQUFNLENBQUNnQixTQUFTQyxXQUFXLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNrQixPQUFPQyxTQUFTLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLEVBQUVvQixNQUFNLEVBQUVDLGFBQWEsRUFBRSxHQUFHaEIsOEVBQVVBO0lBQzVDLE1BQU1pQix1QkFBdUJwQiw2Q0FBTUEsQ0FBQztJQUNwQyxNQUFNLEVBQUVxQixRQUFRLEVBQUVDLGNBQWMsRUFBRSxHQUFHbEIsa0hBQWdCQSxDQUFDZ0I7SUFDdEQsTUFBTSxDQUFDVCxjQUFjWSxnQkFBZ0IsR0FBR3pCLCtDQUFRQSxDQUFDWTtJQUNqRCxNQUFNLENBQUNjLGVBQWVDLGlCQUFpQixHQUFHM0IsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDNEIsY0FBY0MsZ0JBQWdCLEdBQUc3QiwrQ0FBUUEsQ0FBQztRQUFFOEIsTUFBTTtRQUFPQyxTQUFTO0lBQUc7SUFDNUUsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNrQyxnQkFBZ0JDLGtCQUFrQixHQUFHbkMsK0NBQVFBLENBQUM7SUFDckQsTUFB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QUFXakssK0VBQWtCOzswREFDaEMsOERBQUM0TTswREFBTTs7Ozs7OzBEQUNQLDhEQUFDNUM7Z0RBQUlDLFdBQVdqSyxnRkFBbUI7O2tFQUNqQyw4REFBQ3lMO3dEQUFPeEIsV0FBV2pLLDhFQUFpQjtrRUFBRTs7Ozs7O2tFQUN0Qyw4REFBQzhNO3dEQUNDNUosTUFBSzt3REFDTDhKLEtBQUk7d0RBQ0pDLEtBQUk7d0RBQ0poRCxXQUFXakssNkVBQWdCO3dEQUMzQnFNLFVBQVUsQ0FBQ2pGLElBQU1NLGlCQUFpQk4sRUFBRWQsTUFBTSxDQUFDQyxLQUFLOzs7Ozs7a0VBRWxELDhEQUFDdUg7d0RBQUs3RCxXQUFXakssK0VBQWtCO2tFQUFFOzs7Ozs7a0VBQ3JDLDhEQUFDeUw7d0RBQU94QixXQUFXakssOEVBQWlCO2tFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVN4RDtHQTVpQ3dCTzs7UUFJWU4sMEVBQVVBO1FBRVBDLDhHQUFnQkE7OztLQU4vQksiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wb3JjaHBvcnRhbDIvRGVza3RvcC/wn5SlZXZlcnl0aGluZy9NYWluX1dlYl9FeWVUcmFja2luZy9tYWluLXdlYi9mcm9udGVuZC9wYWdlcy9hZG1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkbWluIFBhZ2UgQVBJIERvY3VtZW50YXRpb25cbiAqIFxuICogVGhpcyBwYWdlIGhhbmRsZXMgdGhlIGZvbGxvd2luZyBBUEkgZW5kcG9pbnRzOlxuICogXG4gKiAxLiBXZWJTb2NrZXQgQ29ubmVjdGlvbiAoL2FwaS9kYXRhLWNlbnRlci93cylcbiAqICAgIC0gUHVycG9zZTogUmVhbC10aW1lIGNvbW11bmljYXRpb24gd2l0aCBkYXRhIGNlbnRlclxuICogICAgLSBFdmVudHM6XG4gKiAgICAgIC0gc2V0dGluZ3Nfe3VzZXJJZH06IFJlY2VpdmVzIHNldHRpbmdzIHVwZGF0ZXMgZm9yIHNwZWNpZmljIHVzZXJcbiAqICAgICAgLSBpbWFnZV97dXNlcklkfTogUmVjZWl2ZXMgaW1hZ2UgdXBkYXRlcyBmb3Igc3BlY2lmaWMgdXNlclxuICogICAgICAtIHpvb21fe3VzZXJJZH06IFJlY2VpdmVzIHpvb20gbGV2ZWwgdXBkYXRlcyBmb3Igc3BlY2lmaWMgdXNlclxuICogXG4gKiAyLiBBZG1pbiBVcGRhdGVzIEFQSSAoL2FwaS9hZG1pbi91cGRhdGUpXG4gKiAgICAtIE1ldGhvZDogUE9TVFxuICogICAgLSBIZWFkZXJzOlxuICogICAgICAtIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogICAgICAtIFgtQVBJLUtleTogQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWXG4gKiAgICAtIFJlcXVlc3QgQm9keTpcbiAqICAgICAge1xuICogICAgICAgIHVzZXJJZDogc3RyaW5nLCAgICAgIC8vIFVzZXIgSUQgZm9yIHRoZSB1cGRhdGVcbiAqICAgICAgICB0eXBlOiBzdHJpbmcsICAgICAgICAvLyAnc2V0dGluZ3MnIG9yICdpbWFnZSdcbiAqICAgICAgICBkYXRhOiBvYmplY3QgICAgICAgICAvLyBTZXR0aW5ncyBkYXRhIG9yIGJhc2U2NCBpbWFnZVxuICogICAgICB9XG4gKiAgICAtIFJlc3BvbnNlOlxuICogICAgICAtIFN1Y2Nlc3M6IDIwMCBPS1xuICogICAgICAtIEVycm9yOiA0MDAgQmFkIFJlcXVlc3QsIDQwMSBVbmF1dGhvcml6ZWQsIDUwMCBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcbiAqIFxuICogMy4gQ29uc2VudCBEYXRhIEFQSSAoL2FwaS9hZG1pbi9jb25zZW50LWRhdGEpXG4gKiAgICAtIE1ldGhvZDogR0VUXG4gKiAgICAtIFB1cnBvc2U6IEZldGNoIHVzZXIgY29uc2VudCBkYXRhXG4gKiAgICAtIFJlc3BvbnNlOlxuICogICAgICBBcnJheSBvZiBjb25zZW50IG9iamVjdHMgd2l0aDpcbiAqICAgICAgLSB1c2VySWQ6IHN0cmluZ1xuICogICAgICAtIHN0YXR1czogYm9vbGVhblxuICogICAgICAtIHRpbWVzdGFtcDogc3RyaW5nXG4gKiAgICAgIC0gcmVjZWl2ZWRBdDogc3RyaW5nXG4gKiBcbiAqIDQuIFNldHRpbmdzIEV2ZW50c1xuICogICAgLSBjYXB0dXJlU2V0dGluZ3NVcGRhdGU6IERpc3BhdGNoZWQgd2hlbiBzZXR0aW5ncyBhcmUgdXBkYXRlZFxuICogICAgICB7XG4gKiAgICAgICAgdHlwZTogJ2NhcHR1cmVTZXR0aW5ncycsXG4gKiAgICAgICAgdXNlcklkOiBzdHJpbmcsXG4gKiAgICAgICAgdGltZXM6IG51bWJlcixcbiAqICAgICAgICBkZWxheTogbnVtYmVyXG4gKiAgICAgIH1cbiAqIFxuICogICAgLSBzZXR0aW5nc1VwZGF0ZWQ6IERpc3BhdGNoZWQgYWZ0ZXIgdG9wQmFyIGlzIHVwZGF0ZWRcbiAqICAgICAge1xuICogICAgICAgIHR5cGU6ICdzZXR0aW5ncycsXG4gKiAgICAgICAgdXNlcklkOiBzdHJpbmcsXG4gKiAgICAgICAgc2V0dGluZ3M6IHtcbiAqICAgICAgICAgIHRpbWVzOiBudW1iZXIsXG4gKiAgICAgICAgICBkZWxheTogbnVtYmVyXG4gKiAgICAgICAgfVxuICogICAgICB9XG4gKiBcbiAqICAgIC0gaW1hZ2VVcGRhdGU6IERpc3BhdGNoZWQgd2hlbiBpbWFnZSBpcyB1cGRhdGVkXG4gKiAgICAgIHtcbiAqICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICogICAgICAgIHVzZXJJZDogc3RyaW5nLFxuICogICAgICAgIGltYWdlOiBzdHJpbmcgKGJhc2U2NClcbiAqICAgICAgfVxuICogXG4gKiAgICAtIGFkbWluT3ZlcnJpZGU6IERpc3BhdGNoZWQgd2hlbiBhY2Nlc3MgaXMgb3ZlcnJpZGRlblxuICogICAgICB7XG4gKiAgICAgICAgdHlwZTogJ2FkbWluT3ZlcnJpZGUnLFxuICogICAgICAgIHVzZXJJZDogc3RyaW5nLFxuICogICAgICAgIGVuYWJsZWQ6IGJvb2xlYW5cbiAqICAgICAgfVxuICovXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uL3N0eWxlcy9Db25zZW50Lm1vZHVsZS5jc3MnO1xuaW1wb3J0IHsgdXNlQ29uc2VudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvY29uc2VudC9Db25zZW50Q29udGV4dCc7XG5pbXBvcnQgeyB1c2VBZG1pblNldHRpbmdzIH0gZnJvbSAnLi4vcGFnZXMvY29sbGVjdGVkLWRhdGFzZXQtY3VzdG9taXplZC9jb21wb25lbnRzLWd1aS9hZG1pblNldHRpbmdzJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuQkFDS0VORF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoKSB7XG4gIC8vIERlZmluZSB0aGUgcGF0aCB0byB0aGUgc2V0dGluZ3MgZmlsZVxuICBjb25zdCBzZXR0aW5nc1BhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICdhZG1pbicsICdjYXB0dXJlX3NldHRpbmdzLmpzb24nKTtcbiAgXG4gIC8vIERlZmF1bHQgc2V0dGluZ3NcbiAgbGV0IHNldHRpbmdzID0ge1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRpbWVzOiAxLFxuICAgICAgZGVsYXk6IDNcbiAgICB9XG4gIH07XG5cbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiBzZXR0aW5ncyBmaWxlIGV4aXN0c1xuICAgIGlmIChmcy5leGlzdHNTeW5jKHNldHRpbmdzUGF0aCkpIHtcbiAgICAgIGNvbnN0IHNldHRpbmdzRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhzZXR0aW5nc1BhdGgsICd1dGY4Jyk7XG4gICAgICBzZXR0aW5ncyA9IEpTT04ucGFyc2Uoc2V0dGluZ3NEYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICBjb25zdCBkaXJQYXRoID0gcGF0aC5kaXJuYW1lKHNldHRpbmdzUGF0aCk7XG4gICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZGlyUGF0aCkpIHtcbiAgICAgICAgZnMubWtkaXJTeW5jKGRpclBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgLy8gQ3JlYXRlIGZpbGUgd2l0aCBkZWZhdWx0IHNldHRpbmdzXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKHNldHRpbmdzUGF0aCwgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MsIG51bGwsIDIpKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZy93cml0aW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRpYWxTZXR0aW5nczogc2V0dGluZ3NcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkbWluUGFnZSh7IGluaXRpYWxTZXR0aW5ncyB9KSB7XG4gIGNvbnN0IFtjb25zZW50RGF0YSwgc2V0Q29uc2VudERhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgeyB1c2VySWQsIGNvbnNlbnRTdGF0dXMgfSA9IHVzZUNvbnNlbnQoKTtcbiAgY29uc3QgYWN0aW9uQnV0dG9uR3JvdXBSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHsgc2V0dGluZ3MsIHVwZGF0ZVNldHRpbmdzIH0gPSB1c2VBZG1pblNldHRpbmdzKGFjdGlvbkJ1dHRvbkdyb3VwUmVmKTtcbiAgY29uc3QgW3RlbXBTZXR0aW5ncywgc2V0VGVtcFNldHRpbmdzXSA9IHVzZVN0YXRlKGluaXRpYWxTZXR0aW5ncyk7XG4gIGNvbnN0IFtzZWxlY3RlZEltYWdlLCBzZXRTZWxlY3RlZEltYWdlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbm90aWZpY2F0aW9uLCBzZXROb3RpZmljYXRpb25dID0gdXNlU3RhdGUoeyBzaG93OiBmYWxzZSwgbWVzc2FnZTogJycgfSk7XG4gIGNvbnN0IFtkZWJ1Z0luZm8sIHNldERlYnVnSW5mb10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWxlY3RlZFVzZXJJZCwgc2V0U2VsZWN0ZWRVc2VySWRdID0gdXNlU3RhdGUoJ2RlZmF1bHQnKTtcbiAgY29uc3QgcG9sbGluZ0ludGVydmFsID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbdXNlclByb2ZpbGVzLCBzZXRVc2VyUHJvZmlsZXNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbc2hvd0RlbGV0ZUNvbmZpcm0sIHNldFNob3dEZWxldGVDb25maXJtXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RlbGV0ZVRhcmdldCwgc2V0RGVsZXRlVGFyZ2V0XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc3VjY2Vzc01lc3NhZ2UsIHNldFN1Y2Nlc3NNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2Vycm9yTWVzc2FnZSwgc2V0RXJyb3JNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvLyBJbml0aWFsaXplIHRlbXBTZXR0aW5ncyB3aXRoIGluaXRpYWwgc2V0dGluZ3NcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRUZW1wU2V0dGluZ3MoaW5pdGlhbFNldHRpbmdzKTtcbiAgfSwgW2luaXRpYWxTZXR0aW5nc10pO1xuXG4gIC8vIEFkZCB0aGlzIGVmZmVjdCB0byBlbnN1cmUgZ2xvYmFsIGFjdGlvbiBidXR0b24gZnVuY3Rpb25zIGFyZSBzZXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBEZWJ1ZyBjaGVjayB0byBzZWUgaWYgd2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucyBpcyBhdmFpbGFibGVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGNoZWNrQWN0aW9uQnV0dG9uRnVuY3Rpb25zID0gKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LmFjdGlvbkJ1dHRvbkZ1bmN0aW9ucykge1xuICAgICAgICAgIHNldERlYnVnSW5mbygnQWN0aW9uQnV0dG9uIGZ1bmN0aW9ucyBhdmFpbGFibGUgZ2xvYmFsbHknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXREZWJ1Z0luZm8oJ0FjdGlvbkJ1dHRvbiBmdW5jdGlvbnMgTk9UIGF2YWlsYWJsZSBnbG9iYWxseScpO1xuICAgICAgICAgIC8vIFRyeSBhZ2FpbiBpbiAxIHNlY29uZCBpZiBub3QgYXZhaWxhYmxlXG4gICAgICAgICAgc2V0VGltZW91dChjaGVja0FjdGlvbkJ1dHRvbkZ1bmN0aW9ucywgMTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNoZWNrQWN0aW9uQnV0dG9uRnVuY3Rpb25zKCk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBsaXN0ZW5lciBmb3Igc2V0dGluZ3MgdXBkYXRlc1xuICAgICAgY29uc3QgaGFuZGxlU2V0dGluZ3NVcGRhdGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwudHlwZSA9PT0gJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScpIHtcbiAgICAgICAgICBzZXREZWJ1Z0luZm8oYFJlY2VpdmVkIHNldHRpbmdzIHVwZGF0ZSBldmVudDogJHtKU09OLnN0cmluZ2lmeShldmVudC5kZXRhaWwpfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FwdHVyZVNldHRpbmdzVXBkYXRlJywgaGFuZGxlU2V0dGluZ3NVcGRhdGUpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBQb2xsaW5nIGZvciBzZXR0aW5ncyB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2VsZWN0ZWRVc2VySWQpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9zZXR0aW5ncy8ke3NlbGVjdGVkVXNlcklkfWAsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIHx8ICdBMUIyQzNENC1FNUY2LTc4OTAtR0hJSi1LTE1OT1BRUlNUVVYnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzZXR0aW5ncycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0gcmVzdWx0LmRhdGEgfHwge307XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IHVwZGF0ZSBpZiB0aGUgc2V0dGluZ3MgaGF2ZSBhY3R1YWxseSBjaGFuZ2VkXG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShuZXdTZXR0aW5ncykgIT09IEpTT04uc3RyaW5naWZ5KHRlbXBTZXR0aW5nc1tzZWxlY3RlZFVzZXJJZF0pKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmdzIHVwZGF0ZWQgZnJvbSBwb2xsaW5nOicsIG5ld1NldHRpbmdzKTtcbiAgICAgICAgICBzZXRUZW1wU2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIFtzZWxlY3RlZFVzZXJJZF06IHtcbiAgICAgICAgICAgICAgLi4ucHJldltzZWxlY3RlZFVzZXJJZF0sXG4gICAgICAgICAgICAgIC4uLm5ld1NldHRpbmdzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEluaXRpYWwgZmV0Y2hcbiAgICBmZXRjaFNldHRpbmdzKCk7XG5cbiAgICAvLyBTZXQgdXAgcG9sbGluZyBpbnRlcnZhbFxuICAgIHBvbGxpbmdJbnRlcnZhbC5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoZmV0Y2hTZXR0aW5ncywgMzAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHBvbGxpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbGluZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtzZWxlY3RlZFVzZXJJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hDb25zZW50RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vY29uc2VudC1kYXRhJyk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb25zZW50IGRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmlsdGVyIG91dCBkdXBsaWNhdGVzIGJ5IGtlZXBpbmcgb25seSB0aGUgbW9zdCByZWNlbnQgZW50cnkgZm9yIGVhY2ggdXNlcklkXG4gICAgICAgIGNvbnN0IHVuaXF1ZURhdGEgPSBkYXRhLnJlZHVjZSgoYWNjLCBjdXJyZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IGFjYy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnVzZXJJZCA9PT0gY3VycmVudC51c2VySWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChleGlzdGluZ0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gSWYgdXNlciBkb2Vzbid0IGV4aXN0IGluIGFjY3VtdWxhdG9yLCBhZGQgdGhlbVxuICAgICAgICAgICAgYWNjLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHVzZXIgZXhpc3RzLCBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyeVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhY2NbZXhpc3RpbmdJbmRleF07XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0RhdGUgPSBuZXcgRGF0ZShleGlzdGluZy5yZWNlaXZlZEF0KTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoY3VycmVudC5yZWNlaXZlZEF0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGN1cnJlbnREYXRlID4gZXhpc3RpbmdEYXRlKSB7XG4gICAgICAgICAgICAgIGFjY1tleGlzdGluZ0luZGV4XSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgXG4gICAgICAgIHNldENvbnNlbnREYXRhKHVuaXF1ZURhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaENvbnNlbnREYXRhKCk7XG4gIH0sIFtdKTtcblxuICAvLyBBZGQgdGhpcyBlZmZlY3QgdG8gbG9hZCBpbml0aWFsIHNldHRpbmdzIHdoZW4gYSB1c2VyIGlzIHNlbGVjdGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZFVzZXJTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc2VsZWN0ZWRVc2VySWQpIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgc2V0dGluZ3MgZm9yIHVzZXI6Jywgc2VsZWN0ZWRVc2VySWQpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL3VwZGF0ZT91c2VySWQ9JHtzZWxlY3RlZFVzZXJJZH0mdHlwZT1zZXR0aW5nc2AsIHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVkgfHwgJ0ExQjJDM0Q0LUU1RjYtNzg5MC1HSElKLUtMTU5PUFFSU1RVVidcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXN1bHQuZGF0YSB8fCB7fTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTG9hZGVkIHNldHRpbmdzIGZvciB1c2VyOicsIHNlbGVjdGVkVXNlcklkLCBkYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJbml0aWFsaXplIHRlbXBTZXR0aW5ncyB3aXRoIHRoZSBsb2FkZWQgZGF0YVxuICAgICAgICAgIHNldFRlbXBTZXR0aW5ncyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgW3NlbGVjdGVkVXNlcklkXToge1xuICAgICAgICAgICAgICB0aW1lczogZGF0YS50aW1lcyB8fCAxLFxuICAgICAgICAgICAgICBkZWxheTogZGF0YS5kZWxheSB8fCAzLFxuICAgICAgICAgICAgICBpbWFnZV9wYXRoOiBkYXRhLmltYWdlX3BhdGggfHwgXCIvYXNmZ3JlYnZ4Y3ZcIixcbiAgICAgICAgICAgICAgdXBkYXRlSW1hZ2U6IGRhdGEudXBkYXRlSW1hZ2UgfHwgXCJpbWFnZS5qcGdcIixcbiAgICAgICAgICAgICAgc2V0X3RpbWVSYW5kb21JbWFnZTogZGF0YS5zZXRfdGltZVJhbmRvbUltYWdlIHx8IDEsXG4gICAgICAgICAgICAgIGV2ZXJ5X3NldDogZGF0YS5ldmVyeV9zZXQgfHwgMixcbiAgICAgICAgICAgICAgem9vbV9wZXJjZW50YWdlOiBkYXRhLnpvb21fcGVyY2VudGFnZSB8fCAxMDAsXG4gICAgICAgICAgICAgIHBvc2l0aW9uX3pvb206IGRhdGEucG9zaXRpb25fem9vbSB8fCBbMywgNF0sXG4gICAgICAgICAgICAgIHN0YXRlX2lzUHJvY2Vzc09uOiBkYXRhLnN0YXRlX2lzUHJvY2Vzc09uID8/IHRydWUsXG4gICAgICAgICAgICAgIGN1cnJlbnRseVBhZ2U6IGRhdGEuY3VycmVudGx5UGFnZSB8fCBcInN0clwiLFxuICAgICAgICAgICAgICBmcmVlU3RhdGU6IGRhdGEuZnJlZVN0YXRlIHx8IDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgc2V0dGluZ3MgdGhyb3VnaCB0aGUgaG9va1xuICAgICAgICAgIHVwZGF0ZVNldHRpbmdzKGRhdGEsIHNlbGVjdGVkVXNlcklkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gZXhpc3Rpbmcgc2V0dGluZ3MgZm91bmQgZm9yIHVzZXI6Jywgc2VsZWN0ZWRVc2VySWQpO1xuICAgICAgICAgIC8vIEluaXRpYWxpemUgd2l0aCBkZWZhdWx0IHNldHRpbmdzXG4gICAgICAgICAgY29uc3QgZGVmYXVsdFNldHRpbmdzID0ge1xuICAgICAgICAgICAgdGltZXM6IDEsXG4gICAgICAgICAgICBkZWxheTogMyxcbiAgICAgICAgICAgIGltYWdlX3BhdGg6IFwiL2FzZmdyZWJ2eGN2XCIsXG4gICAgICAgICAgICB1cGRhdGVJbWFnZTogXCJpbWFnZS5qcGdcIixcbiAgICAgICAgICAgIHNldF90aW1lUmFuZG9tSW1hZ2U6IDEsXG4gICAgICAgICAgICBldmVyeV9zZXQ6IDIsXG4gICAgICAgICAgICB6b29tX3BlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgICAgIHBvc2l0aW9uX3pvb206IFszLCA0XSxcbiAgICAgICAgICAgIHN0YXRlX2lzUHJvY2Vzc09uOiB0cnVlLFxuICAgICAgICAgICAgY3VycmVudGx5UGFnZTogXCJzdHJcIixcbiAgICAgICAgICAgIGZyZWVTdGF0ZTogM1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0VGVtcFNldHRpbmdzKHByZXYgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBbc2VsZWN0ZWRVc2VySWRdOiBkZWZhdWx0U2V0dGluZ3NcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIHNldHRpbmdzIHRocm91Z2ggdGhlIGhvb2sgd2l0aCBkZWZhdWx0IHZhbHVlc1xuICAgICAgICAgIHVwZGF0ZVNldHRpbmdzKGRlZmF1bHRTZXR0aW5ncywgc2VsZWN0ZWRVc2VySWQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHVzZXIgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2FkVXNlclNldHRpbmdzKCk7XG4gIH0sIFtzZWxlY3RlZFVzZXJJZF0pO1xuXG4gIC8vIEFkZCB0aGlzIGVmZmVjdCB0byBzeW5jIHNldHRpbmdzIHdpdGggYWRtaW5TZXR0aW5ncyBob29rXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkVXNlcklkICYmIHNldHRpbmdzW3NlbGVjdGVkVXNlcklkXSkge1xuICAgICAgc2V0VGVtcFNldHRpbmdzKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW3NlbGVjdGVkVXNlcklkXTogc2V0dGluZ3Nbc2VsZWN0ZWRVc2VySWRdXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCBbc2V0dGluZ3MsIHNlbGVjdGVkVXNlcklkXSk7XG5cbiAgY29uc3QgaGFuZGxlVGltZUNoYW5nZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRVc2VySWQpIHtcbiAgICAgIHNldEVycm9yTWVzc2FnZSgnUGxlYXNlIHNlbGVjdCBhIHVzZXIgSUQgZmlyc3QhJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yTWVzc2FnZSgnJyksIDMwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVzID0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlLCAxMCk7XG4gICAgaWYgKCFpc05hTih0aW1lcykgJiYgdGltZXMgPiAwKSB7XG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgZmlyc3RcbiAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHtcbiAgICAgICAgLi4udGVtcFNldHRpbmdzW3NlbGVjdGVkVXNlcklkXSxcbiAgICAgICAgdGltZXM6IHRpbWVzXG4gICAgICB9O1xuICAgICAgXG4gICAgICBzZXRUZW1wU2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbc2VsZWN0ZWRVc2VySWRdOiB1cGRhdGVkU2V0dGluZ3NcbiAgICAgIH0pKTtcblxuICAgICAgLy8gVGhlbiBzYXZlIHRvIGRhdGFiYXNlXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7c2VsZWN0ZWRVc2VySWR9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlZFNldHRpbmdzKVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzZXR0aW5ncycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHNldHRpbmdzIHRocm91Z2ggdGhlIGhvb2tcbiAgICAgICAgdXBkYXRlU2V0dGluZ3ModXBkYXRlZFNldHRpbmdzLCBzZWxlY3RlZFVzZXJJZCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgdGltZXMgdG8gJHt0aW1lc30gZm9yIHVzZXIgJHtzZWxlY3RlZFVzZXJJZH1gKTtcbiAgICAgICAgc2V0U3VjY2Vzc01lc3NhZ2UoJ1RpbWVzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFN1Y2Nlc3NNZXNzYWdlKCcnKSwgMzAwMCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdGltZXM6JywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJ0ZhaWxlZCB0byBzYXZlIHRpbWVzLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yTWVzc2FnZSgnJyksIDMwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxheUNoYW5nZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRVc2VySWQpIHtcbiAgICAgIHNldEVycm9yTWVzc2FnZSgnUGxlYXNlIHNlbGVjdCBhIHVzZXIgSUQgZmlyc3QhJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yTWVzc2FnZSgnJyksIDMwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGF5ID0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlLCAxMCk7XG4gICAgaWYgKCFpc05hTihkZWxheSkgJiYgZGVsYXkgPiAwKSB7XG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgZmlyc3RcbiAgICAgIGNvbnN0IHVwZGF0ZWRTZXR0aW5ncyA9IHtcbiAgICAgICAgLi4udGVtcFNldHRpbmdzW3NlbGVjdGVkVXNlcklkXSxcbiAgICAgICAgZGVsYXk6IGRlbGF5XG4gICAgICB9O1xuICAgICAgXG4gICAgICBzZXRUZW1wU2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbc2VsZWN0ZWRVc2VySWRdOiB1cGRhdGVkU2V0dGluZ3NcbiAgICAgIH0pKTtcblxuICAgICAgLy8gVGhlbiBzYXZlIHRvIGRhdGFiYXNlXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7c2VsZWN0ZWRVc2VySWR9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlZFNldHRpbmdzKVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzZXR0aW5ncycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHNldHRpbmdzIHRocm91Z2ggdGhlIGhvb2tcbiAgICAgICAgdXBkYXRlU2V0dGluZ3ModXBkYXRlZFNldHRpbmdzLCBzZWxlY3RlZFVzZXJJZCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgZGVsYXkgdG8gJHtkZWxheX0gZm9yIHVzZXIgJHtzZWxlY3RlZFVzZXJJZH1gKTtcbiAgICAgICAgc2V0U3VjY2Vzc01lc3NhZ2UoJ0RlbGF5IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFN1Y2Nlc3NNZXNzYWdlKCcnKSwgMzAwMCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgZGVsYXk6JywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJ0ZhaWxlZCB0byBzYXZlIGRlbGF5LiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yTWVzc2FnZSgnJyksIDMwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYXZlU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFVzZXJJZCB8fCBzZWxlY3RlZFVzZXJJZCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICBzZXRFcnJvck1lc3NhZ2UoJ1BsZWFzZSBzZWxlY3QgYSB1c2VyIElEIGJlZm9yZSBzYXZpbmcgc2V0dGluZ3MhJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yTWVzc2FnZSgnJyksIDMwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBzZXR0aW5ncyBmb3IgdGhlIHNlbGVjdGVkIHVzZXJcbiAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5ncyA9IHRlbXBTZXR0aW5nc1tzZWxlY3RlZFVzZXJJZF07XG4gICAgICBpZiAoIWN1cnJlbnRTZXR0aW5ncykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNldHRpbmdzIGZvdW5kIGZvciBzZWxlY3RlZCB1c2VyJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNhdmUgdG8gZGF0YWJhc2UgdXNpbmcgdGhlIGNvcnJlY3QgZW5kcG9pbnRcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvZGF0YS1jZW50ZXIvc2V0dGluZ3MvJHtzZWxlY3RlZFVzZXJJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjdXJyZW50U2V0dGluZ3MpXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHNldHRpbmdzJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgdXBkYXRlZCBzZXR0aW5ncyBmcm9tIHRoZSByZXNwb25zZVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3Qgc2F2ZWRTZXR0aW5ncyA9IHJlc3VsdC5kYXRhIHx8IGN1cnJlbnRTZXR0aW5ncztcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlIHdpdGggdGhlIHNhdmVkIHNldHRpbmdzXG4gICAgICBzZXRUZW1wU2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbc2VsZWN0ZWRVc2VySWRdOiBzYXZlZFNldHRpbmdzXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIFVwZGF0ZSBzZXR0aW5ncyB0aHJvdWdoIHRoZSBob29rXG4gICAgICB1cGRhdGVTZXR0aW5ncyhzYXZlZFNldHRpbmdzLCBzZWxlY3RlZFVzZXJJZCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGBTYXZlZCBhbGwgc2V0dGluZ3MgZm9yIHVzZXIgJHtzZWxlY3RlZFVzZXJJZH06YCwgc2F2ZWRTZXR0aW5ncyk7XG4gICAgICBzZXRTdWNjZXNzTWVzc2FnZSgnU2V0dGluZ3Mgc2F2ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTdWNjZXNzTWVzc2FnZSgnJyksIDMwMDApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3JNZXNzYWdlKCdGYWlsZWQgdG8gc2F2ZSBzZXR0aW5ncy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3JNZXNzYWdlKCcnKSwgMzAwMCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUltYWdlQ2hhbmdlID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5maWxlcyAmJiBldmVudC50YXJnZXQuZmlsZXNbMF0pIHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIub25sb2FkID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTYXZlIGltYWdlIHRvIHNlcnZlciB1c2luZyBSRVNUIEFQSVxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZGF0YS1jZW50ZXIvaW1hZ2UnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHVzZXJJZDogc2VsZWN0ZWRVc2VySWQsXG4gICAgICAgICAgICAgIGltYWdlOiBlLnRhcmdldC5yZXN1bHRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGltYWdlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgZm9yIGNvbXBvbmVudHMgdG8gbGlzdGVuIHRvXG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnaW1hZ2VVcGRhdGUnLCB7XG4gICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgdXNlcklkOiBzZWxlY3RlZFVzZXJJZCxcbiAgICAgICAgICAgICAgICBpbWFnZTogZS50YXJnZXQucmVzdWx0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oJ0ltYWdlIHNhdmVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgICAgIHNob3dOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byBzYXZlIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlWm9vbUNoYW5nZSA9IGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRVc2VySWQgfHwgc2VsZWN0ZWRVc2VySWQgPT09ICdkZWZhdWx0Jykge1xuICAgICAgc2V0RXJyb3JNZXNzYWdlKCdQbGVhc2Ugc2VsZWN0IGEgdXNlciBJRCBiZWZvcmUgY2hhbmdpbmcgem9vbSBsZXZlbCEnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3JNZXNzYWdlKCcnKSwgMzAwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZGF0YS1jZW50ZXIvem9vbScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VySWQ6IHNlbGVjdGVkVXNlcklkLFxuICAgICAgICAgIHpvb21MZXZlbDogdmFsdWVcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSB6b29tIGxldmVsJyk7XG4gICAgICB9XG5cbiAgICAgIHNldFN1Y2Nlc3NNZXNzYWdlKCdab29tIGxldmVsIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTdWNjZXNzTWVzc2FnZSgnJyksIDMwMDApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB6b29tIGxldmVsOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yTWVzc2FnZSgnRmFpbGVkIHRvIHVwZGF0ZSB6b29tIGxldmVsLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvck1lc3NhZ2UoJycpLCAzMDAwKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZUltYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRVc2VySWQgfHwgc2VsZWN0ZWRVc2VySWQgPT09ICdkZWZhdWx0Jykge1xuICAgICAgc2V0RXJyb3JNZXNzYWdlKCdQbGVhc2Ugc2VsZWN0IGEgdXNlciBJRCBiZWZvcmUgc2F2aW5nIGltYWdlIScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvck1lc3NhZ2UoJycpLCAzMDAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXNlbGVjdGVkSW1hZ2UpIHtcbiAgICAgIHNldEVycm9yTWVzc2FnZSgnUGxlYXNlIHNlbGVjdCBhbiBpbWFnZSBmaXJzdCEnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3JNZXNzYWdlKCcnKSwgMzAwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgaW1hZ2UgdG8gYmFzZTY0XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2U2NEltYWdlID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBcbiAgICAgICAgLy8gU2F2ZSB0byBzZXJ2ZXIgdXNpbmcgUkVTVCBBUElcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9kYXRhLWNlbnRlci9pbWFnZScsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtQVBJLUtleSc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9LRVlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHVzZXJJZDogc2VsZWN0ZWRVc2VySWQsXG4gICAgICAgICAgICBpbWFnZTogYmFzZTY0SW1hZ2VcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBpbWFnZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgZm9yIGNvbXBvbmVudHMgdG8gbGlzdGVuIHRvXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdpbWFnZVVwZGF0ZScsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgICB1c2VySWQ6IHNlbGVjdGVkVXNlcklkLFxuICAgICAgICAgICAgICBpbWFnZTogYmFzZTY0SW1hZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTdWNjZXNzTWVzc2FnZSgnSW1hZ2Ugc2F2ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFN1Y2Nlc3NNZXNzYWdlKCcnKSwgMzAwMCk7XG4gICAgICB9O1xuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoc2VsZWN0ZWRJbWFnZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvck1lc3NhZ2UoJ0ZhaWxlZCB0byBzYXZlIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvck1lc3NhZ2UoJycpLCAzMDAwKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlT3ZlcnJpZGVBY2Nlc3MgPSAodXNlcklkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIERpc3BhdGNoIGV2ZW50IHRvIGVuYWJsZS9kaXNhYmxlIGFjY2Vzc1xuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2FkbWluT3ZlcnJpZGUnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIHR5cGU6ICdhZG1pbk92ZXJyaWRlJyxcbiAgICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgXG4gICAgICAvLyBTaG93IHN1Y2Nlc3Mgbm90aWZpY2F0aW9uXG4gICAgICBzaG93Tm90aWZpY2F0aW9uKGBBY2Nlc3MgZ3JhbnRlZCBmb3IgdXNlciAke3VzZXJJZH0hYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG92ZXJyaWRpbmcgYWNjZXNzOicsIGVycm9yKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byBvdmVycmlkZSBhY2Nlc3MuIFBsZWFzZSB0cnkgYWdhaW4uJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dOb3RpZmljYXRpb24gPSAobWVzc2FnZSwgdHlwZSA9ICdzdWNjZXNzJykgPT4ge1xuICAgIHNldE5vdGlmaWNhdGlvbih7IFxuICAgICAgc2hvdzogdHJ1ZSwgXG4gICAgICBtZXNzYWdlLCBcbiAgICAgIHR5cGUgXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQXV0by1oaWRlIG5vdGlmaWNhdGlvbiBhZnRlciAzIHNlY29uZHNcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldE5vdGlmaWNhdGlvbihwcmV2ID0+ICh7IC4uLnByZXYsIHNob3c6IGZhbHNlIH0pKTtcbiAgICB9LCAzMDAwKTtcbiAgfTtcblxuICAvLyBBZGQgZWZmZWN0IHRvIGhhbmRsZSBwcm9maWxlIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVBZG1pblVwZGF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgeyB1c2VySWQsIHByb2ZpbGUgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgIGNvbnNvbGUubG9nKCdBZG1pbiB1cGRhdGUgcmVjZWl2ZWQ6JywgeyB1c2VySWQsIHByb2ZpbGUgfSk7XG4gICAgICBcbiAgICAgIHNldFVzZXJQcm9maWxlcyhwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIFt1c2VySWRdOiBwcm9maWxlXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHByb2ZpbGUgaXMgY29tcGxldGUgYW5kIHVwZGF0ZSBidXR0b24gc3RhdGVcbiAgICAgIGlmIChwcm9maWxlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2J1dHRvblN0YXRlVXBkYXRlJywge1xuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoYnV0dG9uRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYWRtaW5VcGRhdGUnLCBoYW5kbGVBZG1pblVwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdhZG1pblVwZGF0ZScsIGhhbmRsZUFkbWluVXBkYXRlKTtcbiAgfSwgW10pO1xuXG4gIC8vIEFkZCB1c2VyIHByb2ZpbGVzIHRvIHRoZSBjb25zZW50IGRhdGEgZGlzcGxheVxuICBjb25zdCBnZXRQcm9maWxlU3RhdHVzID0gKHVzZXJJZCkgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGUgPSB1c2VyUHJvZmlsZXNbdXNlcklkXTtcbiAgICBpZiAoIXByb2ZpbGUpIHJldHVybiAnTm8gcHJvZmlsZSc7XG4gICAgXG4gICAgY29uc3QgaXNDb21wbGV0ZSA9IHByb2ZpbGUudXNlcm5hbWUgJiYgcHJvZmlsZS5zZXg7XG4gICAgcmV0dXJuIGlzQ29tcGxldGUgPyBcbiAgICAgIGBDb21wbGV0ZSAoJHtwcm9maWxlLnVzZXJuYW1lfSwgJHtwcm9maWxlLnNleH0ke3Byb2ZpbGUuYWdlID8gYCwgJHtwcm9maWxlLmFnZX1gIDogJyd9KWAgOiBcbiAgICAgICdJbmNvbXBsZXRlJztcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVDbGljayA9ICh1c2VySWQpID0+IHtcbiAgICBzZXREZWxldGVUYXJnZXQodXNlcklkKTtcbiAgICBzZXRTaG93RGVsZXRlQ29uZmlybSh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVDb25maXJtID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIHx8ICdBMUIyQzNENC1FNUY2LTc4OTAtR0hJSi1LTE1OT1BRUlNUVVYnO1xuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIEFQSSBLZXk6JywgYXBpS2V5KTtcbiAgICAgIFxuICAgICAgLy8gRGVsZXRlIHVzZXIgZGF0YSB1c2luZyB0aGUgY29uc29saWRhdGVkIGVuZHBvaW50XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vY29uc2VudC8ke2RlbGV0ZVRhcmdldH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBhcGlLZXlcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdEZWxldGUgZXJyb3IgcmVzcG9uc2U6Jywge1xuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgZXJyb3JEYXRhXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgdXNlciBkYXRhJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlbGV0ZSBmcm9tIGxvY2FsIGNvbnNlbnQgZmlsZVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29uc2VudFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vZGVsZXRlLWNvbnNlbnQnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknOiBhcGlLZXlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcklkOiBkZWxldGVUYXJnZXQgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFjb25zZW50UmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCBjb25zZW50UmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvY2FsIGNvbnNlbnQgZGVsZXRpb24gZXJyb3I6Jywge1xuICAgICAgICAgICAgc3RhdHVzOiBjb25zZW50UmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogY29uc2VudFJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgICBlcnJvckRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgbG9jYWwgY29uc2VudCBmaWxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGxvY2FsIGNvbnNlbnQgZmlsZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIGNvbnNlbnQgZGF0YSBieSByZW1vdmluZyB0aGUgZGVsZXRlZCByb3cgaW1tZWRpYXRlbHlcbiAgICAgIHNldENvbnNlbnREYXRhKHByZXZEYXRhID0+IHByZXZEYXRhLmZpbHRlcihkYXRhID0+IGRhdGEudXNlcklkICE9PSBkZWxldGVUYXJnZXQpKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyByZW1vdmUgZnJvbSB0ZW1wU2V0dGluZ3MgaWYgaXQgZXhpc3RzXG4gICAgICBzZXRUZW1wU2V0dGluZ3MocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0geyAuLi5wcmV2IH07XG4gICAgICAgIGRlbGV0ZSBuZXdTZXR0aW5nc1tkZWxldGVUYXJnZXRdO1xuICAgICAgICByZXR1cm4gbmV3U2V0dGluZ3M7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVtb3ZlIGZyb20gc2V0dGluZ3MgY29udGV4dCBpZiBpdCBleGlzdHNcbiAgICAgIGlmIChzZXR0aW5ncyAmJiBzZXR0aW5nc1tkZWxldGVUYXJnZXRdKSB7XG4gICAgICAgIHVwZGF0ZVNldHRpbmdzKG51bGwsIGRlbGV0ZVRhcmdldCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIGFueSByZWxhdGVkIGNvb2tpZXMgZm9yIHRoaXMgdXNlclxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICAgICAgICBmb3IgKGxldCBjb29raWUgb2YgY29va2llcykge1xuICAgICAgICAgIGNvbnN0IFtuYW1lXSA9IGNvb2tpZS5zcGxpdCgnPScpO1xuICAgICAgICAgIGlmIChuYW1lLnRyaW0oKS5zdGFydHNXaXRoKCdleWVfdHJhY2tpbmdfJykgfHwgXG4gICAgICAgICAgICAgIG5hbWUudHJpbSgpLnN0YXJ0c1dpdGgoJ2NvbnNlbnRfJykgfHwgXG4gICAgICAgICAgICAgIG5hbWUudHJpbSgpLnN0YXJ0c1dpdGgoJ3VzZXJfJykpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWUudHJpbSgpfT07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVEM7IHBhdGg9LztgO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBjbGVhcmluZyBjb29raWVzOicsIGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGEgc21hbGwgZGVsYXkgYmVmb3JlIHZlcmlmaWNhdGlvbiB0byBhbGxvdyBiYWNrZW5kIHRvIHByb2Nlc3NcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG5cbiAgICAgIC8vIFZlcmlmeSBkZWxldGlvbiBieSBjaGVja2luZyBpZiB0aGUgdXNlciBzdGlsbCBleGlzdHNcbiAgICAgIGNvbnN0IHZlcmlmeVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9jb25zZW50LyR7ZGVsZXRlVGFyZ2V0fWAsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtQVBJLUtleSc6IGFwaUtleVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gSWYgd2UgZ2V0IGEgNDA0LCB0aGF0IG1lYW5zIHRoZSB1c2VyIHdhcyBzdWNjZXNzZnVsbHkgZGVsZXRlZFxuICAgICAgaWYgKHZlcmlmeVJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHNob3dOb3RpZmljYXRpb24oJ1VzZXIgZGF0YSBkZWxldGVkIHN1Y2Nlc3NmdWxseSBmcm9tIGFsbCBjb2xsZWN0aW9ucyEnKTtcbiAgICAgIH0gZWxzZSBpZiAodmVyaWZ5UmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVc2VyIGRhdGEgbWlnaHQgc3RpbGwgZXhpc3QgaW4gc29tZSBjb2xsZWN0aW9ucycpO1xuICAgICAgICBzaG93Tm90aWZpY2F0aW9uKCdVc2VyIGRhdGEgZGVsZXRlZCwgYnV0IHNvbWUgY29sbGVjdGlvbnMgbWlnaHQgbmVlZCBtYW51YWwgY2xlYW51cCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGFueSBvdGhlciBlcnJvciwgd2UnbGwgYXNzdW1lIHRoZSBkZWxldGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICAvLyBzaW5jZSB3ZSd2ZSBhbHJlYWR5IGNsZWFuZWQgdXAgdGhlIGZyb250ZW5kIHN0YXRlXG4gICAgICAgIHNob3dOb3RpZmljYXRpb24oJ1VzZXIgZGF0YSBkZWxldGVkIHN1Y2Nlc3NmdWxseSBmcm9tIGFsbCBjb2xsZWN0aW9ucyEnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgdXNlciBkYXRhOicsIGVycm9yKTtcbiAgICAgIHNob3dOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byBkZWxldGUgdXNlciBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluLicsICdlcnJvcicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTaG93RGVsZXRlQ29uZmlybShmYWxzZSk7XG4gICAgICBzZXREZWxldGVUYXJnZXQobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUNhbmNlbCA9ICgpID0+IHtcbiAgICBzZXRTaG93RGVsZXRlQ29uZmlybShmYWxzZSk7XG4gICAgc2V0RGVsZXRlVGFyZ2V0KG51bGwpO1xuICB9O1xuXG4gIC8vIFVwZGF0ZSB0aGUgdXNlciBzZWxlY3Rpb24gaGFuZGxlclxuICBjb25zdCBoYW5kbGVVc2VyU2VsZWN0ID0gKGUpID0+IHtcbiAgICBjb25zdCBuZXdVc2VySWQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBzZXRTZWxlY3RlZFVzZXJJZChuZXdVc2VySWQpO1xuICAgIFxuICAgIC8vIFJlc2V0IHRlbXBTZXR0aW5ncyBmb3IgdGhlIG5ldyB1c2VyXG4gICAgc2V0VGVtcFNldHRpbmdzKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbbmV3VXNlcklkXTogcHJldltuZXdVc2VySWRdIHx8IHtcbiAgICAgICAgdGltZXM6IDEsXG4gICAgICAgIGRlbGF5OiAzLFxuICAgICAgICBpbWFnZV9wYXRoOiBcIi9hc2ZncmVidnhjdlwiLFxuICAgICAgICB1cGRhdGVJbWFnZTogXCJpbWFnZS5qcGdcIixcbiAgICAgICAgc2V0X3RpbWVSYW5kb21JbWFnZTogMSxcbiAgICAgICAgZXZlcnlfc2V0OiAyLFxuICAgICAgICB6b29tX3BlcmNlbnRhZ2U6IDEwMCxcbiAgICAgICAgcG9zaXRpb25fem9vbTogWzMsIDRdLFxuICAgICAgICBzdGF0ZV9pc1Byb2Nlc3NPbjogdHJ1ZSxcbiAgICAgICAgY3VycmVudGx5UGFnZTogXCJzdHJcIixcbiAgICAgICAgZnJlZVN0YXRlOiAzXG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIG1lc3NhZ2VzXG4gICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcbiAgICBzZXRTdWNjZXNzTWVzc2FnZSgnJyk7XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wcmVmZXJlbmNlc0NvbnRhaW5lcn0+XG4gICAgICAgIDxoMT5Mb2FkaW5nIGNvbnNlbnQgZGF0YS4uLjwvaDE+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucHJlZmVyZW5jZXNDb250YWluZXJ9PlxuICAgICAgICA8aDE+RXJyb3I8L2gxPlxuICAgICAgICA8cD57ZXJyb3J9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5BZG1pbiBEYXNoYm9hcmQ8L3RpdGxlPlxuICAgICAgPC9IZWFkPlxuICBcbiAgICAgIDxtYWluIGNsYXNzTmFtZT17c3R5bGVzLm1haW59PlxuICAgICAgICA8aDE+QWRtaW4gRGFzaGJvYXJkPC9oMT5cbiAgICAgICAgXG4gICAgICAgIHsvKiBOb3RpZmljYXRpb24gKi99XG4gICAgICAgIHtub3RpZmljYXRpb24uc2hvdyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3N0eWxlcy5ub3RpZmljYXRpb259ICR7bm90aWZpY2F0aW9uLnR5cGUgPT09ICdlcnJvcicgPyBzdHlsZXMubm90aWZpY2F0aW9uRXJyb3IgOiBzdHlsZXMubm90aWZpY2F0aW9uU3VjY2Vzc31gfT5cbiAgICAgICAgICAgIHtub3RpZmljYXRpb24ubWVzc2FnZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBEZWJ1ZyBJbmZvICovfVxuICAgICAgICB7ZGVidWdJbmZvICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmRlYnVnSW5mb30+XG4gICAgICAgICAgICA8cD48c21hbGw+e2RlYnVnSW5mb308L3NtYWxsPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgXG4gICAgICAgIHsvKiBTdWNjZXNzIE1lc3NhZ2UgKi99XG4gICAgICAgIHtzdWNjZXNzTWVzc2FnZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdWNjZXNzTWVzc2FnZX0+XG4gICAgICAgICAgICB7c3VjY2Vzc01lc3NhZ2V9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogRXJyb3IgTWVzc2FnZSAqL31cbiAgICAgICAge2Vycm9yTWVzc2FnZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5lcnJvck1lc3NhZ2V9PlxuICAgICAgICAgICAge2Vycm9yTWVzc2FnZX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgXG4gICAgICAgIHsvKiBDb25zZW50IERhdGEgU2VjdGlvbiAtIE5vdyBGaXJzdCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nc1NlY3Rpb259PlxuICAgICAgICAgIDxoMj5Db25zZW50IERhdGE8L2gyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29uc2VudFRhYmxlfT5cbiAgICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgIDx0aD5Vc2VyIElEPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aD5Db25zZW50IFN0YXR1czwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGg+UHJvZmlsZTwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGg+VGltZXN0YW1wPC90aD5cbiAgICAgICAgICAgICAgICAgIDx0aD5SZWNlaXZlZCBBdDwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGg+QWN0aW9uczwvdGg+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgIHtjb25zZW50RGF0YS5tYXAoKGRhdGEsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8dHIga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57ZGF0YS51c2VySWR9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntkYXRhLnN0YXR1cyA/ICdBY2NlcHRlZCcgOiAnRGVjbGluZWQnfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57Z2V0UHJvZmlsZVN0YXR1cyhkYXRhLnVzZXJJZCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntuZXcgRGF0ZShkYXRhLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+e25ldyBEYXRlKGRhdGEucmVjZWl2ZWRBdCkudG9Mb2NhbGVTdHJpbmcoKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5hY3Rpb25CdXR0b25zfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHshZGF0YS5zdGF0dXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMub3ZlcnJpZGVCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlT3ZlcnJpZGVBY2Nlc3MoZGF0YS51c2VySWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JhbnQgQWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuZGVsZXRlQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVDbGljayhkYXRhLnVzZXJJZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gIFxuICAgICAgICB7LyogRGVsZXRlIENvbmZpcm1hdGlvbiBEaWFsb2cgKi99XG4gICAgICAgIHtzaG93RGVsZXRlQ29uZmlybSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb25maXJtYXRpb25EaWFsb2d9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb25maXJtYXRpb25Db250ZW50fT5cbiAgICAgICAgICAgICAgPGgzPkNvbmZpcm0gRGVsZXRlPC9oMz5cbiAgICAgICAgICAgICAgPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGNvbnNlbnQgcm93PzwvcD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb25maXJtYXRpb25CdXR0b25zfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jb25maXJtQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlQ29uZmlybX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBPS1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNhbmNlbEJ1dHRvbn1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlbGV0ZUNhbmNlbH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBOb3RcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgXG4gICAgICAgIHsvKiBVc2VyIFNlbGVjdGlvbiBTZWN0aW9uICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdzU2VjdGlvbn0+XG4gICAgICAgICAgPGgyPlNlbGVjdCBVc2VyPC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdJdGVtfT5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkVXNlcklkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlVXNlclNlbGVjdH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc2VsZWN0SW5wdXR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgYSB1c2VyLi4uPC9vcHRpb24+XG4gICAgICAgICAgICAgIHtBcnJheS5mcm9tKG5ldyBTZXQoY29uc2VudERhdGEubWFwKGRhdGEgPT4gZGF0YS51c2VySWQpKSkubWFwKCh1c2VySWQpID0+IChcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17dXNlcklkfSB2YWx1ZT17dXNlcklkfT5cbiAgICAgICAgICAgICAgICAgIFVzZXI6IHt1c2VySWR9XG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIFNldHRpbmdzIFNlY3Rpb25zIChvbmx5IHNob3duIHdoZW4gYSB1c2VyIGlzIHNlbGVjdGVkKSAqL31cbiAgICAgICAge3NlbGVjdGVkVXNlcklkICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgey8qIENhcHR1cmUgU2V0dGluZ3MgU2VjdGlvbiAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ3NTZWN0aW9ufT5cbiAgICAgICAgICAgICAgPGgyPkNhcHR1cmUgU2V0dGluZ3M8L2gyPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdzU3ViU2Nyb2xsfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdJdGVtfT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5UaW1lKHMpOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm51bWJlcklucHV0Q29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cInRpbWVcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGVtcFNldHRpbmdzW3NlbGVjdGVkVXNlcklkXT8udGltZXMgPz8gMX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4obmV3VmFsdWUpICYmIG5ld1ZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcFNldHRpbmdzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkVXNlcklkXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZbc2VsZWN0ZWRVc2VySWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzOiBuZXdWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMubnVtYmVySW5wdXR9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtY29udHJvbD1cInRpbWVcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5udW1iZXJDb250cm9sc30+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLm51bWJlckNvbnRyb2x9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRlbXBTZXR0aW5nc1tzZWxlY3RlZFVzZXJJZF0/LnRpbWVzID8/IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgPCAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZW1wU2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzZWxlY3RlZFVzZXJJZF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldltzZWxlY3RlZFVzZXJJZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzOiBjdXJyZW50VmFsdWUgKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIOKWslxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5udW1iZXJDb250cm9sfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0ZW1wU2V0dGluZ3Nbc2VsZWN0ZWRVc2VySWRdPy50aW1lcyA/PyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBTZXR0aW5ncyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkVXNlcklkXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2W3NlbGVjdGVkVXNlcklkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXM6IGN1cnJlbnRWYWx1ZSAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg4pa8XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nSXRlbX0+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+RGVsYXkocyk6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubnVtYmVySW5wdXRDb250YWluZXJ9PlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGVsYXlcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGVtcFNldHRpbmdzW3NlbGVjdGVkVXNlcklkXT8uZGVsYXkgPz8gM31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4obmV3VmFsdWUpICYmIG5ld1ZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcFNldHRpbmdzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkVXNlcklkXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZbc2VsZWN0ZWRVc2VySWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5OiBuZXdWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgbWF4PVwiNjBcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5udW1iZXJJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1jb250cm9sPVwiZGVsYXlcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5udW1iZXJDb250cm9sc30+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLm51bWJlckNvbnRyb2x9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRlbXBTZXR0aW5nc1tzZWxlY3RlZFVzZXJJZF0/LmRlbGF5ID8/IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgPCA2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBTZXR0aW5ncyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkVXNlcklkXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2W3NlbGVjdGVkVXNlcklkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IGN1cnJlbnRWYWx1ZSArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg4payXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLm51bWJlckNvbnRyb2x9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRlbXBTZXR0aW5nc1tzZWxlY3RlZFVzZXJJZF0/LmRlbGF5ID8/IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcFNldHRpbmdzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2VsZWN0ZWRVc2VySWRdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXZbc2VsZWN0ZWRVc2VySWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogY3VycmVudFZhbHVlIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICDilrxcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNldHRpbmdJdGVtfT5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZVNldHRpbmdzfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5zYXZlQnV0dG9ufVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXNlbGVjdGVkVXNlcklkfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBTYXZlIFNldHRpbmdzXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgICB7LyogSW1hZ2UgU2V0dGluZ3MgU2VjdGlvbiAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ3NTZWN0aW9ufT5cbiAgICAgICAgICAgICAgPGgyPkltYWdlIFNldHRpbmdzPC9oMj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nSXRlbX0+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlVwbG9hZCBJbWFnZTo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5maWxlSW5wdXR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSW1hZ2VDaGFuZ2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ0l0ZW19PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmVJbWFnZX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNhdmVCdXR0b259XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU2F2ZSBJbWFnZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICBcbiAgICAgICAgICAgIHsvKiBab29tIENvbnRyb2wgU2VjdGlvbiAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ3NTZWN0aW9ufT5cbiAgICAgICAgICAgICAgPGgyPlpvb20gQ29udHJvbDwvaDI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2V0dGluZ0l0ZW19PlxuICAgICAgICAgICAgICAgIDxsYWJlbD5ab29tIExldmVsOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy56b29tQ29udHJvbHN9PlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy56b29tQnV0dG9ufT4tPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjUwXCJcbiAgICAgICAgICAgICAgICAgICAgbWF4PVwiMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuem9vbUlucHV0fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVpvb21DaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnpvb21QZXJjZW50fT4lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy56b29tQnV0dG9ufT4rPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSGVhZCIsInN0eWxlcyIsInVzZUNvbnNlbnQiLCJ1c2VBZG1pblNldHRpbmdzIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIkJBQ0tFTkRfVVJMIiwiQWRtaW5QYWdlIiwiaW5pdGlhbFNldHRpbmdzIiwidGVtcFNldHRpbmdzIiwiY29uc2VudERhdGEiLCJzZXRDb25zZW50RGF0YSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInVzZXJJZCIsImNvbnNlbnRTdGF0dXMiLCJhY3Rpb25CdXR0b25Hcm91cFJlZiIsInNldHRpbmdzIiwidXBkYXRlU2V0dGluZ3MiLCJzZXRUZW1wU2V0dGluZ3MiLCJzZWxlY3RlZEltYWdlIiwic2V0U2VsZWN0ZWRJbWFnZSIsIm5vdGlmaWNhdGlvbiIsInNldE5vdGlmaWNhdGlvbiIsInNob3ciLCJtZXNzYWdlIiwiZGVidWdJbmZvIiwic2V0RGVidWdJbmZvIiwic2VsZWN0ZWRVc2VySWQiLCJzZXRTZWxlY3RlZFVzZXJJZCIsInBvbGxpbmdJbnRlcnZhbCIsInVzZXJQcm9maWxlcyIsInNldFVzZXJQcm9maWxlcyIsInNob3dEZWxldGVDb25maXJtIiwic2V0U2hvd0RlbGV0ZUNvbmZpcm0iLCJkZWxldGVUYXJnZXQiLCJzZXREZWxldGVUYXJnZXQiLCJzdWNjZXNzTWVzc2FnZSIsInNldFN1Y2Nlc3NNZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwic2V0RXJyb3JNZXNzYWdlIiwiY2hlY2tBY3Rpb25CdXR0b25GdW5jdGlvbnMiLCJ3aW5kb3ciLCJhY3Rpb25CdXR0b25GdW5jdGlvbnMiLCJzZXRUaW1lb3V0IiwiaGFuZGxlU2V0dGluZ3NVcGRhdGUiLCJldmVudCIsImRldGFpbCIsInR5cGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmZXRjaFNldHRpbmdzIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJORVhUX1BVQkxJQ19BUElfS0VZIiwib2siLCJFcnJvciIsInJlc3VsdCIsImpzb24iLCJuZXdTZXR0aW5ncyIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwicHJldiIsImN1cnJlbnQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJmZXRjaENvbnNlbnREYXRhIiwidW5pcXVlRGF0YSIsInJlZHVjZSIsImFjYyIsImV4aXN0aW5nSW5kZXgiLCJmaW5kSW5kZXgiLCJpdGVtIiwicHVzaCIsImV4aXN0aW5nIiwiZXhpc3RpbmdEYXRlIiwiRGF0ZSIsInJlY2VpdmVkQXQiLCJjdXJyZW50RGF0ZSIsImVyciIsImxvYWRVc2VyU2V0dGluZ3MiLCJtZXRob2QiLCJ0aW1lcyIsImRlbGF5IiwiaW1hZ2VfcGF0aCIsInVwZGF0ZUltYWdlIiwic2V0X3RpbWVSYW5kb21JbWFnZSIsImV2ZXJ5X3NldCIsInpvb21fcGVyY2VudGFnZSIsInBvc2l0aW9uX3pvb20iLCJzdGF0ZV9pc1Byb2Nlc3NPbiIsImN1cnJlbnRseVBhZ2UiLCJmcmVlU3RhdGUiLCJkZWZhdWx0U2V0dGluZ3MiLCJoYW5kbGVUaW1lQ2hhbmdlIiwicGFyc2VJbnQiLCJ0YXJnZXQiLCJ2YWx1ZSIsImlzTmFOIiwidXBkYXRlZFNldHRpbmdzIiwiYm9keSIsImhhbmRsZURlbGF5Q2hhbmdlIiwiaGFuZGxlU2F2ZVNldHRpbmdzIiwiY3VycmVudFNldHRpbmdzIiwic2F2ZWRTZXR0aW5ncyIsImhhbmRsZUltYWdlQ2hhbmdlIiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsImltYWdlIiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50Iiwic2hvd05vdGlmaWNhdGlvbiIsInJlYWRBc0RhdGFVUkwiLCJoYW5kbGVab29tQ2hhbmdlIiwiem9vbUxldmVsIiwiaGFuZGxlU2F2ZUltYWdlIiwiYmFzZTY0SW1hZ2UiLCJoYW5kbGVPdmVycmlkZUFjY2VzcyIsImVuYWJsZWQiLCJoYW5kbGVBZG1pblVwZGF0ZSIsInByb2ZpbGUiLCJpc0NvbXBsZXRlIiwiYnV0dG9uRXZlbnQiLCJnZXRQcm9maWxlU3RhdHVzIiwidXNlcm5hbWUiLCJzZXgiLCJhZ2UiLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZURlbGV0ZUNvbmZpcm0iLCJhcGlLZXkiLCJlcnJvckRhdGEiLCJjYXRjaCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJjb25zZW50UmVzcG9uc2UiLCJwcmV2RGF0YSIsImZpbHRlciIsImNvb2tpZXMiLCJkb2N1bWVudCIsImNvb2tpZSIsInNwbGl0IiwibmFtZSIsInRyaW0iLCJzdGFydHNXaXRoIiwid2FybiIsIlByb21pc2UiLCJyZXNvbHZlIiwidmVyaWZ5UmVzcG9uc2UiLCJoYW5kbGVEZWxldGVDYW5jZWwiLCJoYW5kbGVVc2VyU2VsZWN0IiwibmV3VXNlcklkIiwiZGl2IiwiY2xhc3NOYW1lIiwicHJlZmVyZW5jZXNDb250YWluZXIiLCJoMSIsInAiLCJjb250YWluZXIiLCJ0aXRsZSIsIm1haW4iLCJub3RpZmljYXRpb25FcnJvciIsIm5vdGlmaWNhdGlvblN1Y2Nlc3MiLCJzbWFsbCIsInNldHRpbmdzU2VjdGlvbiIsImgyIiwiY29uc2VudFRhYmxlIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJ0Ym9keSIsIm1hcCIsImluZGV4IiwidGQiLCJ0aW1lc3RhbXAiLCJ0b0xvY2FsZVN0cmluZyIsImFjdGlvbkJ1dHRvbnMiLCJidXR0b24iLCJvdmVycmlkZUJ1dHRvbiIsIm9uQ2xpY2siLCJkZWxldGVCdXR0b24iLCJjb25maXJtYXRpb25EaWFsb2ciLCJjb25maXJtYXRpb25Db250ZW50IiwiaDMiLCJjb25maXJtYXRpb25CdXR0b25zIiwiY29uZmlybUJ1dHRvbiIsImNhbmNlbEJ1dHRvbiIsInNldHRpbmdJdGVtIiwic2VsZWN0Iiwib25DaGFuZ2UiLCJzZWxlY3RJbnB1dCIsIm9wdGlvbiIsIkFycmF5IiwiZnJvbSIsIlNldCIsInNldHRpbmdzU3ViU2Nyb2xsIiwibGFiZWwiLCJudW1iZXJJbnB1dENvbnRhaW5lciIsImlucHV0IiwibmV3VmFsdWUiLCJtaW4iLCJtYXgiLCJudW1iZXJJbnB1dCIsImRhdGEtY29udHJvbCIsIm51bWJlckNvbnRyb2xzIiwibnVtYmVyQ29udHJvbCIsImN1cnJlbnRWYWx1ZSIsInNhdmVCdXR0b24iLCJkaXNhYmxlZCIsImFjY2VwdCIsImZpbGVJbnB1dCIsInpvb21Db250cm9scyIsInpvb21CdXR0b24iLCJ6b29tSW5wdXQiLCJzcGFuIiwiem9vbVBlcmNlbnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/admin.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/adminSettings.js":
/*!****************************************************************************!*\
  !*** ./pages/collected-dataset-customized/components-gui/adminSettings.js ***!
  \****************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AdminSettings),\n/* harmony export */   useAdminSettings: () => (/* binding */ useAdminSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(pages-dir-browser)/./node_modules/next/dist/build/polyfills/process.js\");\nvar _s = $RefreshSig$();\n\n// Add deep comparison utility\nconst isEqual = (obj1, obj2)=>{\n    if (obj1 === obj2) return true;\n    if (typeof obj1 !== 'object' || typeof obj2 !== 'object') return false;\n    if (obj1 === null || obj2 === null) return false;\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    return keys1.every((key)=>keys2.includes(key) && isEqual(obj1[key], obj2[key]));\n};\n// Add debounce utility\nconst debounce = (func, wait)=>{\n    let timeout;\n    return function executedFunction() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        const later = ()=>{\n            clearTimeout(timeout);\n            func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n};\nconst useAdminSettings = (ref)=>{\n    _s();\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useAdminSettings.useState\": ()=>{\n            // Initialize from localStorage on mount\n            return localStorage.getItem('currentUserId');\n        }\n    }[\"useAdminSettings.useState\"]);\n    const [isTopBarUpdated, setIsTopBarUpdated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const initialized = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const pollingInterval = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [currentSettings, setCurrentSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [lastUpdateTime, setLastUpdateTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    // Constants for timing\n    const MIN_UPDATE_INTERVAL = 2000; // 2 seconds minimum between updates\n    const CACHE_DURATION = 30000; // 30 seconds cache duration\n    const POLLING_INTERVAL = 5000; // 5 seconds polling interval\n    // Cache and state tracking\n    const settingsCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const lastSettingsUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const pendingUpdates = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    const isUpdating = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const lastKnownSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map());\n    // Debug logging for settings changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            console.log('AdminSettings - Current Settings:', settings);\n            console.log('AdminSettings - Current User ID:', currentUserId);\n            console.log('AdminSettings - Is TopBar Updated:', isTopBarUpdated);\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings,\n        currentUserId,\n        isTopBarUpdated\n    ]);\n    // Helper: Fetch settings for a user from backend with enhanced caching\n    const fetchSettingsForUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAdminSettings.useCallback[fetchSettingsForUser]\": async (userId)=>{\n            if (!userId) return;\n            // Check cache first\n            const cachedSettings = settingsCache.current.get(userId);\n            const lastUpdate = lastSettingsUpdate.current.get(userId);\n            const now = Date.now();\n            // If we have cached settings and they're recent enough, use them\n            if (cachedSettings && lastUpdate && now - lastUpdate < CACHE_DURATION) {\n                console.log('[AdminSettings] Using cached settings for user:', userId);\n                return cachedSettings;\n            }\n            // If there's already a pending update, return the cached value\n            if (pendingUpdates.current.has(userId)) {\n                console.log('[AdminSettings] Pending update exists, using cached value');\n                return cachedSettings;\n            }\n            // If an update is in progress, return the cached value\n            if (isUpdating.current) {\n                console.log('[AdminSettings] Update in progress, using cached value');\n                return cachedSettings;\n            }\n            try {\n                isUpdating.current = true;\n                pendingUpdates.current.set(userId, true);\n                const response = await fetch(\"/api/data-center/settings/\".concat(userId), {\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    }\n                });\n                if (!response.ok) {\n                    const errorData = await response.json().catch({\n                        \"useAdminSettings.useCallback[fetchSettingsForUser]\": ()=>({})\n                    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"]);\n                    throw new Error(errorData.detail || 'Failed to fetch settings');\n                }\n                const result = await response.json();\n                const newSettings = result.data || {};\n                // Compare with last known settings\n                const lastKnown = lastKnownSettings.current.get(userId);\n                const hasChanged = !isEqual(lastKnown, newSettings);\n                if (hasChanged) {\n                    console.log('[AdminSettings] Settings changed, updating...');\n                    setSettings({\n                        \"useAdminSettings.useCallback[fetchSettingsForUser]\": (prev)=>({\n                                ...prev,\n                                [userId]: newSettings\n                            })\n                    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"]);\n                    setCurrentSettings(newSettings);\n                    // Update caches\n                    settingsCache.current.set(userId, newSettings);\n                    lastSettingsUpdate.current.set(userId, now);\n                    lastKnownSettings.current.set(userId, newSettings);\n                    // Update TopBar if ref provided\n                    if (ref && ref.current && ref.current.setCaptureSettings) {\n                        ref.current.setCaptureSettings(newSettings);\n                        setIsTopBarUpdated(true);\n                    }\n                } else {\n                    console.log('[AdminSettings] Settings unchanged, skipping update');\n                }\n                setError(null);\n                return newSettings;\n            } catch (error) {\n                console.error('[AdminSettings] Error fetching settings:', error);\n                setError(error.message);\n                return cachedSettings; // Return cached settings on error\n            } finally{\n                isUpdating.current = false;\n                pendingUpdates.current.delete(userId);\n            }\n        }\n    }[\"useAdminSettings.useCallback[fetchSettingsForUser]\"], [\n        ref\n    ]);\n    // Debounced version of fetchSettingsForUser\n    const debouncedFetchSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(debounce({\n        \"useAdminSettings.useCallback[debouncedFetchSettings]\": (userId)=>{\n            fetchSettingsForUser(userId);\n        }\n    }[\"useAdminSettings.useCallback[debouncedFetchSettings]\"], 1000), [\n        fetchSettingsForUser\n    ]);\n    // Polling for settings updates with value-based optimization\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (!currentUserId) return;\n            const fetchSettings = {\n                \"useAdminSettings.useEffect.fetchSettings\": async ()=>{\n                    const now = Date.now();\n                    if (now - lastUpdateTime < MIN_UPDATE_INTERVAL) {\n                        return;\n                    }\n                    try {\n                        await debouncedFetchSettings(currentUserId);\n                        setLastUpdateTime(now);\n                    } catch (error) {\n                        console.error('[AdminSettings] Polling error:', error);\n                    }\n                }\n            }[\"useAdminSettings.useEffect.fetchSettings\"];\n            // Initial fetch\n            fetchSettings();\n            // Set up polling with value-based interval\n            pollingInterval.current = setInterval(fetchSettings, POLLING_INTERVAL);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>{\n                    if (pollingInterval.current) {\n                        clearInterval(pollingInterval.current);\n                    }\n                }\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId,\n        lastUpdateTime,\n        debouncedFetchSettings\n    ]);\n    // Listen for userId changes (from index.js navigation)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleUserIdChange = {\n                \"useAdminSettings.useEffect.handleUserIdChange\": (event)=>{\n                    if (event.detail && event.detail.userId) {\n                        console.log('[handleUserIdChange] userId:', event.detail.userId);\n                        const newUserId = event.detail.userId;\n                        setCurrentUserId(newUserId);\n                        localStorage.setItem('currentUserId', newUserId);\n                        fetchSettingsForUser(newUserId);\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleUserIdChange\"];\n            window.addEventListener('userIdChange', handleUserIdChange);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>window.removeEventListener('userIdChange', handleUserIdChange)\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        ref\n    ]);\n    // Initial settings fetch on mount if we have a user ID\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (currentUserId && !initialized.current) {\n                fetchSettingsForUser(currentUserId);\n                initialized.current = true;\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId\n    ]);\n    // Effect to handle index.js update after TopBar is updated\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (isTopBarUpdated) {\n                const event = new CustomEvent('settingsUpdated', {\n                    detail: {\n                        type: 'settings',\n                        userId: currentUserId,\n                        settings: settings[currentUserId]\n                    }\n                });\n                window.dispatchEvent(event);\n                setIsTopBarUpdated(false);\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        isTopBarUpdated,\n        currentUserId,\n        settings\n    ]);\n    // Load settings from localStorage on mount (optional, fallback)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            try {\n                const savedSettings = localStorage.getItem('adminSettings');\n                if (savedSettings) {\n                    const parsedSettings = JSON.parse(savedSettings);\n                    setSettings(parsedSettings);\n                }\n            } catch (error) {\n            // Ignore\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], []);\n    // Save settings to localStorage when they change (optional)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (initialized.current) {\n                try {\n                    localStorage.setItem('adminSettings', JSON.stringify(settings));\n                } catch (error) {}\n            } else {\n                initialized.current = true;\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings\n    ]);\n    // Update settings when they change in the context\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            if (settings && currentUserId) {\n                console.log('[settings useEffect] currentUserId:', currentUserId); // Debug log\n                const userSettings = settings[currentUserId];\n                if (userSettings) {\n                    setCurrentSettings(userSettings);\n                // Optionally update UI elements if needed\n                }\n            }\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        settings,\n        currentUserId\n    ]);\n    // Listen for settings updates from admin page (captureSettingsUpdate event)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAdminSettings.useEffect\": ()=>{\n            const handleSettingsUpdate = {\n                \"useAdminSettings.useEffect.handleSettingsUpdate\": (event)=>{\n                    if (event.detail && event.detail.type === 'captureSettings') {\n                        const { userId, times, delay } = event.detail;\n                        console.log('[handleSettingsUpdate] userId:', userId, 'currentUserId:', currentUserId); // Debug log\n                        if (userId === currentUserId) {\n                            const newSettings = {\n                                ...currentSettings,\n                                times: times !== undefined ? Number(times) : currentSettings.times,\n                                delay: delay !== undefined ? Number(delay) : currentSettings.delay\n                            };\n                            setCurrentSettings(newSettings);\n                            setSettings({\n                                \"useAdminSettings.useEffect.handleSettingsUpdate\": (prev)=>({\n                                        ...prev,\n                                        [userId]: newSettings\n                                    })\n                            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"]);\n                            updateSettings(newSettings, userId);\n                        }\n                    }\n                }\n            }[\"useAdminSettings.useEffect.handleSettingsUpdate\"];\n            window.addEventListener('captureSettingsUpdate', handleSettingsUpdate);\n            return ({\n                \"useAdminSettings.useEffect\": ()=>window.removeEventListener('captureSettingsUpdate', handleSettingsUpdate)\n            })[\"useAdminSettings.useEffect\"];\n        }\n    }[\"useAdminSettings.useEffect\"], [\n        currentUserId,\n        currentSettings\n    ]);\n    // Update settings for a user with value-based optimization\n    const updateSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAdminSettings.useCallback[updateSettings]\": async (newSettings, userId)=>{\n            if (!userId) return;\n            const now = Date.now();\n            if (now - lastUpdateTime < MIN_UPDATE_INTERVAL) {\n                console.log('[updateSettings] Skipping update - too soon after last update');\n                return;\n            }\n            const updatedSettings = {\n                ...settings[userId],\n                ...newSettings\n            };\n            // Compare with last known settings\n            const lastKnown = lastKnownSettings.current.get(userId);\n            const hasChanged = !isEqual(lastKnown, updatedSettings);\n            if (!hasChanged) {\n                console.log('[updateSettings] Settings unchanged, skipping update');\n                return;\n            }\n            try {\n                isUpdating.current = true;\n                pendingUpdates.current.set(userId, true);\n                const response = await fetch(\"/api/data-center/settings/\".concat(userId), {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                    },\n                    body: JSON.stringify(updatedSettings)\n                });\n                if (!response.ok) {\n                    const errorData = await response.json().catch({\n                        \"useAdminSettings.useCallback[updateSettings]\": ()=>({})\n                    }[\"useAdminSettings.useCallback[updateSettings]\"]);\n                    throw new Error(errorData.detail || 'Failed to save settings');\n                }\n                const result = await response.json();\n                const finalSettings = result.data || updatedSettings;\n                // Update state and caches\n                setSettings({\n                    \"useAdminSettings.useCallback[updateSettings]\": (prev)=>({\n                            ...prev,\n                            [userId]: finalSettings\n                        })\n                }[\"useAdminSettings.useCallback[updateSettings]\"]);\n                setCurrentSettings(finalSettings);\n                settingsCache.current.set(userId, finalSettings);\n                lastSettingsUpdate.current.set(userId, now);\n                lastKnownSettings.current.set(userId, finalSettings);\n                setLastUpdateTime(now);\n                setError(null);\n            } catch (error) {\n                setError(error.message);\n            } finally{\n                isUpdating.current = false;\n                pendingUpdates.current.delete(userId);\n            }\n        }\n    }[\"useAdminSettings.useCallback[updateSettings]\"], [\n        settings,\n        lastUpdateTime\n    ]);\n    // Upload and update image for a user\n    const updateImage = async (userId, base64Image)=>{\n        console.log('[updateImage] userId:', userId); // Debug log\n        if (!userId || !base64Image) return;\n        try {\n            const response = await fetch(\"/api/data-center/image?user_id=\".concat(userId), {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-API-Key': process.env.NEXT_PUBLIC_API_KEY || 'A1B2C3D4-E5F6-7890-GHIJ-KLMNOPQRSTUV'\n                },\n                body: JSON.stringify({\n                    image: base64Image\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.detail || 'Failed to upload image');\n            }\n            // Optionally, fetch settings again to get updated image info\n            await fetchSettingsForUser(userId);\n            setError(null);\n            return true;\n        } catch (error) {\n            setError(error.message);\n            return false;\n        }\n    };\n    return {\n        settings,\n        updateSettings,\n        updateImage,\n        error\n    };\n};\n_s(useAdminSettings, \"HR1aFfgBiUAZ7ZTKtNm9Y6L9tLc=\");\n// Add default export component\nfunction AdminSettings() {\n    return null; // This is a utility file, so we don't need to render anything\n}\n_c = AdminSettings;\nvar _c;\n$RefreshReg$(_c, \"AdminSettings\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvYWRtaW5TZXR0aW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFFakUsOEJBQThCO0FBQzlCLE1BQU1JLFVBQVUsQ0FBQ0MsTUFBTUM7SUFDckIsSUFBSUQsU0FBU0MsTUFBTSxPQUFPO0lBQzFCLElBQUksT0FBT0QsU0FBUyxZQUFZLE9BQU9DLFNBQVMsVUFBVSxPQUFPO0lBQ2pFLElBQUlELFNBQVMsUUFBUUMsU0FBUyxNQUFNLE9BQU87SUFFM0MsTUFBTUMsUUFBUUMsT0FBT0MsSUFBSSxDQUFDSjtJQUMxQixNQUFNSyxRQUFRRixPQUFPQyxJQUFJLENBQUNIO0lBRTFCLElBQUlDLE1BQU1JLE1BQU0sS0FBS0QsTUFBTUMsTUFBTSxFQUFFLE9BQU87SUFFMUMsT0FBT0osTUFBTUssS0FBSyxDQUFDQyxDQUFBQSxNQUNqQkgsTUFBTUksUUFBUSxDQUFDRCxRQUFRVCxRQUFRQyxJQUFJLENBQUNRLElBQUksRUFBRVAsSUFBSSxDQUFDTyxJQUFJO0FBRXZEO0FBRUEsdUJBQXVCO0FBQ3ZCLE1BQU1FLFdBQVcsQ0FBQ0MsTUFBTUM7SUFDdEIsSUFBSUM7SUFDSixPQUFPLFNBQVNDO1FBQWlCO1lBQUdDLEtBQUgsdUJBQU87O1FBQ3RDLE1BQU1DLFFBQVE7WUFDWkMsYUFBYUo7WUFDYkYsUUFBUUk7UUFDVjtRQUNBRSxhQUFhSjtRQUNiQSxVQUFVSyxXQUFXRixPQUFPSjtJQUM5QjtBQUNGO0FBRU8sTUFBTU8sbUJBQW1CLENBQUNDOztJQUMvQixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR3pCLCtDQUFRQSxDQUFDLENBQUM7SUFDMUMsTUFBTSxDQUFDMEIsZUFBZUMsaUJBQWlCLEdBQUczQiwrQ0FBUUE7cUNBQUM7WUFDakQsd0NBQXdDO1lBQ3hDLE9BQU80QixhQUFhQyxPQUFPLENBQUM7UUFDOUI7O0lBQ0EsTUFB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LFNBQVM2RjtJQUN0QixPQUFPLE1BQU0sOERBQThEO0FBQzdFO0tBRndCQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BvcmNocG9ydGFsMi9EZXNrdG9wL/CflKVldmVyeXRoaW5nL01haW5fV2ViX0V5ZVRyYWNraW5nL21haW4td2ViL2Zyb250ZW5kL3BhZ2VzL2NvbGxlY3RlZC1kYXRhc2V0LWN1c3RvbWl6ZWQvY29tcG9uZW50cy1ndWkvYWRtaW5TZXR0aW5ncy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuXG4vLyBBZGQgZGVlcCBjb21wYXJpc29uIHV0aWxpdHlcbmNvbnN0IGlzRXF1YWwgPSAob2JqMSwgb2JqMikgPT4ge1xuICBpZiAob2JqMSA9PT0gb2JqMikgcmV0dXJuIHRydWU7XG4gIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iajIgIT09ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvYmoxID09PSBudWxsIHx8IG9iajIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgXG4gIGNvbnN0IGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gIFxuICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgXG4gIHJldHVybiBrZXlzMS5ldmVyeShrZXkgPT4gXG4gICAga2V5czIuaW5jbHVkZXMoa2V5KSAmJiBpc0VxdWFsKG9iajFba2V5XSwgb2JqMltrZXldKVxuICApO1xufTtcblxuLy8gQWRkIGRlYm91bmNlIHV0aWxpdHlcbmNvbnN0IGRlYm91bmNlID0gKGZ1bmMsIHdhaXQpID0+IHtcbiAgbGV0IHRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgfTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUFkbWluU2V0dGluZ3MgPSAocmVmKSA9PiB7XG4gIGNvbnN0IFtzZXR0aW5ncywgc2V0U2V0dGluZ3NdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbY3VycmVudFVzZXJJZCwgc2V0Q3VycmVudFVzZXJJZF0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBmcm9tIGxvY2FsU3RvcmFnZSBvbiBtb3VudFxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXJJZCcpO1xuICB9KTtcbiAgY29uc3QgW2lzVG9wQmFyVXBkYXRlZCwgc2V0SXNUb3BCYXJVcGRhdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgaW5pdGlhbGl6ZWQgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBwb2xsaW5nSW50ZXJ2YWwgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtjdXJyZW50U2V0dGluZ3MsIHNldEN1cnJlbnRTZXR0aW5nc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtsYXN0VXBkYXRlVGltZSwgc2V0TGFzdFVwZGF0ZVRpbWVdID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBDb25zdGFudHMgZm9yIHRpbWluZ1xuICBjb25zdCBNSU5fVVBEQVRFX0lOVEVSVkFMID0gMjAwMDsgLy8gMiBzZWNvbmRzIG1pbmltdW0gYmV0d2VlbiB1cGRhdGVzXG4gIGNvbnN0IENBQ0hFX0RVUkFUSU9OID0gMzAwMDA7IC8vIDMwIHNlY29uZHMgY2FjaGUgZHVyYXRpb25cbiAgY29uc3QgUE9MTElOR19JTlRFUlZBTCA9IDUwMDA7IC8vIDUgc2Vjb25kcyBwb2xsaW5nIGludGVydmFsXG4gIFxuICAvLyBDYWNoZSBhbmQgc3RhdGUgdHJhY2tpbmdcbiAgY29uc3Qgc2V0dGluZ3NDYWNoZSA9IHVzZVJlZihuZXcgTWFwKCkpO1xuICBjb25zdCBsYXN0U2V0dGluZ3NVcGRhdGUgPSB1c2VSZWYobmV3IE1hcCgpKTtcbiAgY29uc3QgcGVuZGluZ1VwZGF0ZXMgPSB1c2VSZWYobmV3IE1hcCgpKTtcbiAgY29uc3QgaXNVcGRhdGluZyA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGxhc3RLbm93blNldHRpbmdzID0gdXNlUmVmKG5ldyBNYXAoKSk7XG5cbiAgLy8gRGVidWcgbG9nZ2luZyBmb3Igc2V0dGluZ3MgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdBZG1pblNldHRpbmdzIC0gQ3VycmVudCBTZXR0aW5nczonLCBzZXR0aW5ncyk7XG4gICAgY29uc29sZS5sb2coJ0FkbWluU2V0dGluZ3MgLSBDdXJyZW50IFVzZXIgSUQ6JywgY3VycmVudFVzZXJJZCk7XG4gICAgY29uc29sZS5sb2coJ0FkbWluU2V0dGluZ3MgLSBJcyBUb3BCYXIgVXBkYXRlZDonLCBpc1RvcEJhclVwZGF0ZWQpO1xuICB9LCBbc2V0dGluZ3MsIGN1cnJlbnRVc2VySWQsIGlzVG9wQmFyVXBkYXRlZF0pO1xuXG4gIC8vIEhlbHBlcjogRmV0Y2ggc2V0dGluZ3MgZm9yIGEgdXNlciBmcm9tIGJhY2tlbmQgd2l0aCBlbmhhbmNlZCBjYWNoaW5nXG4gIGNvbnN0IGZldGNoU2V0dGluZ3NGb3JVc2VyID0gdXNlQ2FsbGJhY2soYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgIGlmICghdXNlcklkKSByZXR1cm47XG5cbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdFxuICAgIGNvbnN0IGNhY2hlZFNldHRpbmdzID0gc2V0dGluZ3NDYWNoZS5jdXJyZW50LmdldCh1c2VySWQpO1xuICAgIGNvbnN0IGxhc3RVcGRhdGUgPSBsYXN0U2V0dGluZ3NVcGRhdGUuY3VycmVudC5nZXQodXNlcklkKTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBjYWNoZWQgc2V0dGluZ3MgYW5kIHRoZXkncmUgcmVjZW50IGVub3VnaCwgdXNlIHRoZW1cbiAgICBpZiAoY2FjaGVkU2V0dGluZ3MgJiYgbGFzdFVwZGF0ZSAmJiAobm93IC0gbGFzdFVwZGF0ZSA8IENBQ0hFX0RVUkFUSU9OKSkge1xuICAgICAgY29uc29sZS5sb2coJ1tBZG1pblNldHRpbmdzXSBVc2luZyBjYWNoZWQgc2V0dGluZ3MgZm9yIHVzZXI6JywgdXNlcklkKTtcbiAgICAgIHJldHVybiBjYWNoZWRTZXR0aW5ncztcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGFscmVhZHkgYSBwZW5kaW5nIHVwZGF0ZSwgcmV0dXJuIHRoZSBjYWNoZWQgdmFsdWVcbiAgICBpZiAocGVuZGluZ1VwZGF0ZXMuY3VycmVudC5oYXModXNlcklkKSkge1xuICAgICAgY29uc29sZS5sb2coJ1tBZG1pblNldHRpbmdzXSBQZW5kaW5nIHVwZGF0ZSBleGlzdHMsIHVzaW5nIGNhY2hlZCB2YWx1ZScpO1xuICAgICAgcmV0dXJuIGNhY2hlZFNldHRpbmdzO1xuICAgIH1cblxuICAgIC8vIElmIGFuIHVwZGF0ZSBpcyBpbiBwcm9ncmVzcywgcmV0dXJuIHRoZSBjYWNoZWQgdmFsdWVcbiAgICBpZiAoaXNVcGRhdGluZy5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnW0FkbWluU2V0dGluZ3NdIFVwZGF0ZSBpbiBwcm9ncmVzcywgdXNpbmcgY2FjaGVkIHZhbHVlJyk7XG4gICAgICByZXR1cm4gY2FjaGVkU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzVXBkYXRpbmcuY3VycmVudCA9IHRydWU7XG4gICAgICBwZW5kaW5nVXBkYXRlcy5jdXJyZW50LnNldCh1c2VySWQsIHRydWUpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7dXNlcklkfWAsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnWC1BUEktS2V5JzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0tFWSB8fCAnQTFCMkMzRDQtRTVGNi03ODkwLUdISUotS0xNTk9QUVJTVFVWJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZGV0YWlsIHx8ICdGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSByZXN1bHQuZGF0YSB8fCB7fTtcbiAgICAgIFxuICAgICAgLy8gQ29tcGFyZSB3aXRoIGxhc3Qga25vd24gc2V0dGluZ3NcbiAgICAgIGNvbnN0IGxhc3RLbm93biA9IGxhc3RLbm93blNldHRpbmdzLmN1cnJlbnQuZ2V0KHVzZXJJZCk7XG4gICAgICBjb25zdCBoYXNDaGFuZ2VkID0gIWlzRXF1YWwobGFzdEtub3duLCBuZXdTZXR0aW5ncyk7XG4gICAgICBcbiAgICAgIGlmIChoYXNDaGFuZ2VkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbQWRtaW5TZXR0aW5nc10gU2V0dGluZ3MgY2hhbmdlZCwgdXBkYXRpbmcuLi4nKTtcbiAgICAgICAgc2V0U2V0dGluZ3MocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgW3VzZXJJZF06IG5ld1NldHRpbmdzXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0Q3VycmVudFNldHRpbmdzKG5ld1NldHRpbmdzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBjYWNoZXNcbiAgICAgICAgc2V0dGluZ3NDYWNoZS5jdXJyZW50LnNldCh1c2VySWQsIG5ld1NldHRpbmdzKTtcbiAgICAgICAgbGFzdFNldHRpbmdzVXBkYXRlLmN1cnJlbnQuc2V0KHVzZXJJZCwgbm93KTtcbiAgICAgICAgbGFzdEtub3duU2V0dGluZ3MuY3VycmVudC5zZXQodXNlcklkLCBuZXdTZXR0aW5ncyk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgVG9wQmFyIGlmIHJlZiBwcm92aWRlZFxuICAgICAgICBpZiAocmVmICYmIHJlZi5jdXJyZW50ICYmIHJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncykge1xuICAgICAgICAgIHJlZi5jdXJyZW50LnNldENhcHR1cmVTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgc2V0SXNUb3BCYXJVcGRhdGVkKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnW0FkbWluU2V0dGluZ3NdIFNldHRpbmdzIHVuY2hhbmdlZCwgc2tpcHBpbmcgdXBkYXRlJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgcmV0dXJuIG5ld1NldHRpbmdzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQWRtaW5TZXR0aW5nc10gRXJyb3IgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4gY2FjaGVkU2V0dGluZ3M7IC8vIFJldHVybiBjYWNoZWQgc2V0dGluZ3Mgb24gZXJyb3JcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNVcGRhdGluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBwZW5kaW5nVXBkYXRlcy5jdXJyZW50LmRlbGV0ZSh1c2VySWQpO1xuICAgIH1cbiAgfSwgW3JlZl0pO1xuXG4gIC8vIERlYm91bmNlZCB2ZXJzaW9uIG9mIGZldGNoU2V0dGluZ3NGb3JVc2VyXG4gIGNvbnN0IGRlYm91bmNlZEZldGNoU2V0dGluZ3MgPSB1c2VDYWxsYmFjayhcbiAgICBkZWJvdW5jZSgodXNlcklkKSA9PiB7XG4gICAgICBmZXRjaFNldHRpbmdzRm9yVXNlcih1c2VySWQpO1xuICAgIH0sIDEwMDApLFxuICAgIFtmZXRjaFNldHRpbmdzRm9yVXNlcl1cbiAgKTtcblxuICAvLyBQb2xsaW5nIGZvciBzZXR0aW5ncyB1cGRhdGVzIHdpdGggdmFsdWUtYmFzZWQgb3B0aW1pemF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50VXNlcklkKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZmV0Y2hTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICBpZiAobm93IC0gbGFzdFVwZGF0ZVRpbWUgPCBNSU5fVVBEQVRFX0lOVEVSVkFMKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGVib3VuY2VkRmV0Y2hTZXR0aW5ncyhjdXJyZW50VXNlcklkKTtcbiAgICAgICAgc2V0TGFzdFVwZGF0ZVRpbWUobm93KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBZG1pblNldHRpbmdzXSBQb2xsaW5nIGVycm9yOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbCBmZXRjaFxuICAgIGZldGNoU2V0dGluZ3MoKTtcbiAgICBcbiAgICAvLyBTZXQgdXAgcG9sbGluZyB3aXRoIHZhbHVlLWJhc2VkIGludGVydmFsXG4gICAgcG9sbGluZ0ludGVydmFsLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChmZXRjaFNldHRpbmdzLCBQT0xMSU5HX0lOVEVSVkFMKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHBvbGxpbmdJbnRlcnZhbC5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbGluZ0ludGVydmFsLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjdXJyZW50VXNlcklkLCBsYXN0VXBkYXRlVGltZSwgZGVib3VuY2VkRmV0Y2hTZXR0aW5nc10pO1xuXG4gIC8vIExpc3RlbiBmb3IgdXNlcklkIGNoYW5nZXMgKGZyb20gaW5kZXguanMgbmF2aWdhdGlvbilcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVVc2VySWRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLnVzZXJJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnW2hhbmRsZVVzZXJJZENoYW5nZV0gdXNlcklkOicsIGV2ZW50LmRldGFpbC51c2VySWQpO1xuICAgICAgICBjb25zdCBuZXdVc2VySWQgPSBldmVudC5kZXRhaWwudXNlcklkO1xuICAgICAgICBzZXRDdXJyZW50VXNlcklkKG5ld1VzZXJJZCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50VXNlcklkJywgbmV3VXNlcklkKTtcbiAgICAgICAgZmV0Y2hTZXR0aW5nc0ZvclVzZXIobmV3VXNlcklkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1c2VySWRDaGFuZ2UnLCBoYW5kbGVVc2VySWRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXNlcklkQ2hhbmdlJywgaGFuZGxlVXNlcklkQ2hhbmdlKTtcbiAgfSwgW3JlZl0pO1xuXG4gIC8vIEluaXRpYWwgc2V0dGluZ3MgZmV0Y2ggb24gbW91bnQgaWYgd2UgaGF2ZSBhIHVzZXIgSURcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY3VycmVudFVzZXJJZCAmJiAhaW5pdGlhbGl6ZWQuY3VycmVudCkge1xuICAgICAgZmV0Y2hTZXR0aW5nc0ZvclVzZXIoY3VycmVudFVzZXJJZCk7XG4gICAgICBpbml0aWFsaXplZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtjdXJyZW50VXNlcklkXSk7XG5cbiAgLy8gRWZmZWN0IHRvIGhhbmRsZSBpbmRleC5qcyB1cGRhdGUgYWZ0ZXIgVG9wQmFyIGlzIHVwZGF0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNUb3BCYXJVcGRhdGVkKSB7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnc2V0dGluZ3NVcGRhdGVkJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICB0eXBlOiAnc2V0dGluZ3MnLFxuICAgICAgICAgIHVzZXJJZDogY3VycmVudFVzZXJJZCxcbiAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ3NbY3VycmVudFVzZXJJZF1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICBzZXRJc1RvcEJhclVwZGF0ZWQoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2lzVG9wQmFyVXBkYXRlZCwgY3VycmVudFVzZXJJZCwgc2V0dGluZ3NdKTtcblxuICAvLyBMb2FkIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlIG9uIG1vdW50IChvcHRpb25hbCwgZmFsbGJhY2spXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNhdmVkU2V0dGluZ3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWRtaW5TZXR0aW5ncycpO1xuICAgICAgaWYgKHNhdmVkU2V0dGluZ3MpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkU2V0dGluZ3MgPSBKU09OLnBhcnNlKHNhdmVkU2V0dGluZ3MpO1xuICAgICAgICBzZXRTZXR0aW5ncyhwYXJzZWRTZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElnbm9yZVxuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFNhdmUgc2V0dGluZ3MgdG8gbG9jYWxTdG9yYWdlIHdoZW4gdGhleSBjaGFuZ2UgKG9wdGlvbmFsKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZC5jdXJyZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWRtaW5TZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdGlhbGl6ZWQuY3VycmVudCA9IHRydWU7XG4gICAgfVxuICB9LCBbc2V0dGluZ3NdKTtcblxuICAvLyBVcGRhdGUgc2V0dGluZ3Mgd2hlbiB0aGV5IGNoYW5nZSBpbiB0aGUgY29udGV4dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZXR0aW5ncyAmJiBjdXJyZW50VXNlcklkKSB7XG4gICAgICBjb25zb2xlLmxvZygnW3NldHRpbmdzIHVzZUVmZmVjdF0gY3VycmVudFVzZXJJZDonLCBjdXJyZW50VXNlcklkKTsgLy8gRGVidWcgbG9nXG4gICAgICBjb25zdCB1c2VyU2V0dGluZ3MgPSBzZXR0aW5nc1tjdXJyZW50VXNlcklkXTtcbiAgICAgIGlmICh1c2VyU2V0dGluZ3MpIHtcbiAgICAgICAgc2V0Q3VycmVudFNldHRpbmdzKHVzZXJTZXR0aW5ncyk7XG4gICAgICAgIC8vIE9wdGlvbmFsbHkgdXBkYXRlIFVJIGVsZW1lbnRzIGlmIG5lZWRlZFxuICAgICAgfVxuICAgIH1cbiAgfSwgW3NldHRpbmdzLCBjdXJyZW50VXNlcklkXSk7XG5cbiAgLy8gTGlzdGVuIGZvciBzZXR0aW5ncyB1cGRhdGVzIGZyb20gYWRtaW4gcGFnZSAoY2FwdHVyZVNldHRpbmdzVXBkYXRlIGV2ZW50KVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVNldHRpbmdzVXBkYXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC50eXBlID09PSAnY2FwdHVyZVNldHRpbmdzJykge1xuICAgICAgICBjb25zdCB7IHVzZXJJZCwgdGltZXMsIGRlbGF5IH0gPSBldmVudC5kZXRhaWw7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbaGFuZGxlU2V0dGluZ3NVcGRhdGVdIHVzZXJJZDonLCB1c2VySWQsICdjdXJyZW50VXNlcklkOicsIGN1cnJlbnRVc2VySWQpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgaWYgKHVzZXJJZCA9PT0gY3VycmVudFVzZXJJZCkge1xuICAgICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0ge1xuICAgICAgICAgICAgLi4uY3VycmVudFNldHRpbmdzLFxuICAgICAgICAgICAgdGltZXM6IHRpbWVzICE9PSB1bmRlZmluZWQgPyBOdW1iZXIodGltZXMpIDogY3VycmVudFNldHRpbmdzLnRpbWVzLFxuICAgICAgICAgICAgZGVsYXk6IGRlbGF5ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoZGVsYXkpIDogY3VycmVudFNldHRpbmdzLmRlbGF5XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzZXRDdXJyZW50U2V0dGluZ3MobmV3U2V0dGluZ3MpO1xuICAgICAgICAgIHNldFNldHRpbmdzKHByZXYgPT4gKHsgLi4ucHJldiwgW3VzZXJJZF06IG5ld1NldHRpbmdzIH0pKTtcbiAgICAgICAgICB1cGRhdGVTZXR0aW5ncyhuZXdTZXR0aW5ncywgdXNlcklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhcHR1cmVTZXR0aW5nc1VwZGF0ZScsIGhhbmRsZVNldHRpbmdzVXBkYXRlKTtcbiAgfSwgW2N1cnJlbnRVc2VySWQsIGN1cnJlbnRTZXR0aW5nc10pO1xuXG4gIC8vIFVwZGF0ZSBzZXR0aW5ncyBmb3IgYSB1c2VyIHdpdGggdmFsdWUtYmFzZWQgb3B0aW1pemF0aW9uXG4gIGNvbnN0IHVwZGF0ZVNldHRpbmdzID0gdXNlQ2FsbGJhY2soYXN5bmMgKG5ld1NldHRpbmdzLCB1c2VySWQpID0+IHtcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKG5vdyAtIGxhc3RVcGRhdGVUaW1lIDwgTUlOX1VQREFURV9JTlRFUlZBTCkge1xuICAgICAgY29uc29sZS5sb2coJ1t1cGRhdGVTZXR0aW5nc10gU2tpcHBpbmcgdXBkYXRlIC0gdG9vIHNvb24gYWZ0ZXIgbGFzdCB1cGRhdGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkU2V0dGluZ3MgPSB7XG4gICAgICAuLi5zZXR0aW5nc1t1c2VySWRdLFxuICAgICAgLi4ubmV3U2V0dGluZ3NcbiAgICB9O1xuXG4gICAgLy8gQ29tcGFyZSB3aXRoIGxhc3Qga25vd24gc2V0dGluZ3NcbiAgICBjb25zdCBsYXN0S25vd24gPSBsYXN0S25vd25TZXR0aW5ncy5jdXJyZW50LmdldCh1c2VySWQpO1xuICAgIGNvbnN0IGhhc0NoYW5nZWQgPSAhaXNFcXVhbChsYXN0S25vd24sIHVwZGF0ZWRTZXR0aW5ncyk7XG5cbiAgICBpZiAoIWhhc0NoYW5nZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbdXBkYXRlU2V0dGluZ3NdIFNldHRpbmdzIHVuY2hhbmdlZCwgc2tpcHBpbmcgdXBkYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzVXBkYXRpbmcuY3VycmVudCA9IHRydWU7XG4gICAgICBwZW5kaW5nVXBkYXRlcy5jdXJyZW50LnNldCh1c2VySWQsIHRydWUpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2RhdGEtY2VudGVyL3NldHRpbmdzLyR7dXNlcklkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIHx8ICdBMUIyQzNENC1FNUY2LTc4OTAtR0hJSi1LTE1OT1BRUlNUVVYnXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRTZXR0aW5ncylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5kZXRhaWwgfHwgJ0ZhaWxlZCB0byBzYXZlIHNldHRpbmdzJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGZpbmFsU2V0dGluZ3MgPSByZXN1bHQuZGF0YSB8fCB1cGRhdGVkU2V0dGluZ3M7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgY2FjaGVzXG4gICAgICBzZXRTZXR0aW5ncyhwcmV2ID0+ICh7IC4uLnByZXYsIFt1c2VySWRdOiBmaW5hbFNldHRpbmdzIH0pKTtcbiAgICAgIHNldEN1cnJlbnRTZXR0aW5ncyhmaW5hbFNldHRpbmdzKTtcbiAgICAgIHNldHRpbmdzQ2FjaGUuY3VycmVudC5zZXQodXNlcklkLCBmaW5hbFNldHRpbmdzKTtcbiAgICAgIGxhc3RTZXR0aW5nc1VwZGF0ZS5jdXJyZW50LnNldCh1c2VySWQsIG5vdyk7XG4gICAgICBsYXN0S25vd25TZXR0aW5ncy5jdXJyZW50LnNldCh1c2VySWQsIGZpbmFsU2V0dGluZ3MpO1xuICAgICAgc2V0TGFzdFVwZGF0ZVRpbWUobm93KTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNVcGRhdGluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBwZW5kaW5nVXBkYXRlcy5jdXJyZW50LmRlbGV0ZSh1c2VySWQpO1xuICAgIH1cbiAgfSwgW3NldHRpbmdzLCBsYXN0VXBkYXRlVGltZV0pO1xuXG4gIC8vIFVwbG9hZCBhbmQgdXBkYXRlIGltYWdlIGZvciBhIHVzZXJcbiAgY29uc3QgdXBkYXRlSW1hZ2UgPSBhc3luYyAodXNlcklkLCBiYXNlNjRJbWFnZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdbdXBkYXRlSW1hZ2VdIHVzZXJJZDonLCB1c2VySWQpOyAvLyBEZWJ1ZyBsb2dcbiAgICBpZiAoIXVzZXJJZCB8fCAhYmFzZTY0SW1hZ2UpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9kYXRhLWNlbnRlci9pbWFnZT91c2VyX2lkPSR7dXNlcklkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdYLUFQSS1LZXknOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfS0VZIHx8ICdBMUIyQzNENC1FNUY2LTc4OTAtR0hJSi1LTE1OT1BRUlNUVVYnXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaW1hZ2U6IGJhc2U2NEltYWdlIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCAnRmFpbGVkIHRvIHVwbG9hZCBpbWFnZScpO1xuICAgICAgfVxuICAgICAgLy8gT3B0aW9uYWxseSwgZmV0Y2ggc2V0dGluZ3MgYWdhaW4gdG8gZ2V0IHVwZGF0ZWQgaW1hZ2UgaW5mb1xuICAgICAgYXdhaXQgZmV0Y2hTZXR0aW5nc0ZvclVzZXIodXNlcklkKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyBzZXR0aW5ncywgdXBkYXRlU2V0dGluZ3MsIHVwZGF0ZUltYWdlLCBlcnJvciB9O1xufTtcblxuLy8gQWRkIGRlZmF1bHQgZXhwb3J0IGNvbXBvbmVudFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRtaW5TZXR0aW5ncygpIHtcbiAgcmV0dXJuIG51bGw7IC8vIFRoaXMgaXMgYSB1dGlsaXR5IGZpbGUsIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVuZGVyIGFueXRoaW5nXG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJpc0VxdWFsIiwib2JqMSIsIm9iajIiLCJrZXlzMSIsIk9iamVjdCIsImtleXMiLCJrZXlzMiIsImxlbmd0aCIsImV2ZXJ5Iiwia2V5IiwiaW5jbHVkZXMiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwidGltZW91dCIsImV4ZWN1dGVkRnVuY3Rpb24iLCJhcmdzIiwibGF0ZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidXNlQWRtaW5TZXR0aW5ncyIsInJlZiIsInNldHRpbmdzIiwic2V0U2V0dGluZ3MiLCJjdXJyZW50VXNlcklkIiwic2V0Q3VycmVudFVzZXJJZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJpc1RvcEJhclVwZGF0ZWQiLCJzZXRJc1RvcEJhclVwZGF0ZWQiLCJlcnJvciIsInNldEVycm9yIiwiaW5pdGlhbGl6ZWQiLCJwb2xsaW5nSW50ZXJ2YWwiLCJjdXJyZW50U2V0dGluZ3MiLCJzZXRDdXJyZW50U2V0dGluZ3MiLCJsYXN0VXBkYXRlVGltZSIsInNldExhc3RVcGRhdGVUaW1lIiwiTUlOX1VQREFURV9JTlRFUlZBTCIsIkNBQ0hFX0RVUkFUSU9OIiwiUE9MTElOR19JTlRFUlZBTCIsInNldHRpbmdzQ2FjaGUiLCJNYXAiLCJsYXN0U2V0dGluZ3NVcGRhdGUiLCJwZW5kaW5nVXBkYXRlcyIsImlzVXBkYXRpbmciLCJsYXN0S25vd25TZXR0aW5ncyIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaFNldHRpbmdzRm9yVXNlciIsInVzZXJJZCIsImNhY2hlZFNldHRpbmdzIiwiY3VycmVudCIsImdldCIsImxhc3RVcGRhdGUiLCJub3ciLCJEYXRlIiwiaGFzIiwic2V0IiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX0tFWSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNhdGNoIiwiRXJyb3IiLCJkZXRhaWwiLCJyZXN1bHQiLCJuZXdTZXR0aW5ncyIsImRhdGEiLCJsYXN0S25vd24iLCJoYXNDaGFuZ2VkIiwicHJldiIsInNldENhcHR1cmVTZXR0aW5ncyIsIm1lc3NhZ2UiLCJkZWxldGUiLCJkZWJvdW5jZWRGZXRjaFNldHRpbmdzIiwiZmV0Y2hTZXR0aW5ncyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZVVzZXJJZENoYW5nZSIsImV2ZW50IiwibmV3VXNlcklkIiwic2V0SXRlbSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQ3VzdG9tRXZlbnQiLCJ0eXBlIiwiZGlzcGF0Y2hFdmVudCIsInNhdmVkU2V0dGluZ3MiLCJwYXJzZWRTZXR0aW5ncyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInVzZXJTZXR0aW5ncyIsImhhbmRsZVNldHRpbmdzVXBkYXRlIiwidGltZXMiLCJkZWxheSIsInVuZGVmaW5lZCIsIk51bWJlciIsInVwZGF0ZVNldHRpbmdzIiwidXBkYXRlZFNldHRpbmdzIiwibWV0aG9kIiwiYm9keSIsImZpbmFsU2V0dGluZ3MiLCJ1cGRhdGVJbWFnZSIsImJhc2U2NEltYWdlIiwiaW1hZ2UiLCJBZG1pblNldHRpbmdzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/collected-dataset-customized/components-gui/adminSettings.js\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["pages/_app","main"], () => (__webpack_exec__("(pages-dir-browser)/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fporchportal2%2FDesktop%2F%F0%9F%94%A5everything%2FMain_Web_EyeTracking%2Fmain-web%2Ffrontend%2Fpages%2Fadmin.js&page=%2Fadmin!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);